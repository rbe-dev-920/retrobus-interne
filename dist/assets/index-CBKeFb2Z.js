function kN(t,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ip(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H0={exports:{}},bf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function MN(){if(vw)return bf;vw=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:t,type:i,key:d,ref:l!==void 0?l:null,props:u}}return bf.Fragment=n,bf.jsx=r,bf.jsxs=r,bf}var yw;function PN(){return yw||(yw=1,H0.exports=MN()),H0.exports}var e=PN(),W0={exports:{}},xn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function DN(){if(bw)return xn;bw=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function A(B,ae,me){this.props=B,this.context=ae,this.refs=T,this.updater=me||E}A.prototype.isReactComponent={},A.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function D(){}D.prototype=A.prototype;function M(B,ae,me){this.props=B,this.context=ae,this.refs=T,this.updater=me||E}var R=M.prototype=new D;R.constructor=M,C(R,A.prototype),R.isPureReactComponent=!0;var P=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function G(B,ae,me,$,F,U){return me=U.ref,{$$typeof:t,type:B,key:ae,ref:me!==void 0?me:null,props:U}}function q(B,ae){return G(B.type,ae,void 0,void 0,void 0,B.props)}function ce(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function he(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return ae[me]})}var se=/\/+/g;function ge(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?he(""+B.key):ae.toString(36)}function Ae(){}function de(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Ae,Ae):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function re(B,ae,me,$,F){var U=typeof B;(U==="undefined"||U==="boolean")&&(B=null);var Y=!1;if(B===null)Y=!0;else switch(U){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(B.$$typeof){case t:case n:Y=!0;break;case x:return Y=B._init,re(Y(B._payload),ae,me,$,F)}}if(Y)return F=F(B),Y=$===""?"."+ge(B,0):$,P(F)?(me="",Y!=null&&(me=Y.replace(se,"$&/")+"/"),re(F,ae,me,"",function(Re){return Re})):F!=null&&(ce(F)&&(F=q(F,me+(F.key==null||B&&B.key===F.key?"":(""+F.key).replace(se,"$&/")+"/")+Y)),ae.push(F)),1;Y=0;var be=$===""?".":$+":";if(P(B))for(var Te=0;Te<B.length;Te++)$=B[Te],U=be+ge($,Te),Y+=re($,ae,me,U,F);else if(Te=S(B),typeof Te=="function")for(B=Te.call(B),Te=0;!($=B.next()).done;)$=$.value,U=be+ge($,Te++),Y+=re($,ae,me,U,F);else if(U==="object"){if(typeof B.then=="function")return re(de(B),ae,me,$,F);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Y}function K(B,ae,me){if(B==null)return B;var $=[],F=0;return re(B,$,"","",function(U){return ae.call(me,U,F++)}),$}function W(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var H=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Ee(){}return xn.Children={map:K,forEach:function(B,ae,me){K(B,function(){ae.apply(this,arguments)},me)},count:function(B){var ae=0;return K(B,function(){ae++}),ae},toArray:function(B){return K(B,function(ae){return ae})||[]},only:function(B){if(!ce(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},xn.Component=A,xn.Fragment=r,xn.Profiler=l,xn.PureComponent=M,xn.StrictMode=i,xn.Suspense=p,xn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,xn.__COMPILER_RUNTIME={__proto__:null,c:function(B){return z.H.useMemoCache(B)}},xn.cache=function(B){return function(){return B.apply(null,arguments)}},xn.cloneElement=function(B,ae,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var $=C({},B.props),F=B.key,U=void 0;if(ae!=null)for(Y in ae.ref!==void 0&&(U=void 0),ae.key!==void 0&&(F=""+ae.key),ae)!O.call(ae,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&ae.ref===void 0||($[Y]=ae[Y]);var Y=arguments.length-2;if(Y===1)$.children=me;else if(1<Y){for(var be=Array(Y),Te=0;Te<Y;Te++)be[Te]=arguments[Te+2];$.children=be}return G(B.type,F,void 0,void 0,U,$)},xn.createContext=function(B){return B={$$typeof:d,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},xn.createElement=function(B,ae,me){var $,F={},U=null;if(ae!=null)for($ in ae.key!==void 0&&(U=""+ae.key),ae)O.call(ae,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(F[$]=ae[$]);var Y=arguments.length-2;if(Y===1)F.children=me;else if(1<Y){for(var be=Array(Y),Te=0;Te<Y;Te++)be[Te]=arguments[Te+2];F.children=be}if(B&&B.defaultProps)for($ in Y=B.defaultProps,Y)F[$]===void 0&&(F[$]=Y[$]);return G(B,U,void 0,void 0,null,F)},xn.createRef=function(){return{current:null}},xn.forwardRef=function(B){return{$$typeof:g,render:B}},xn.isValidElement=ce,xn.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:W}},xn.memo=function(B,ae){return{$$typeof:m,type:B,compare:ae===void 0?null:ae}},xn.startTransition=function(B){var ae=z.T,me={};z.T=me;try{var $=B(),F=z.S;F!==null&&F(me,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Ee,H)}catch(U){H(U)}finally{z.T=ae}},xn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},xn.use=function(B){return z.H.use(B)},xn.useActionState=function(B,ae,me){return z.H.useActionState(B,ae,me)},xn.useCallback=function(B,ae){return z.H.useCallback(B,ae)},xn.useContext=function(B){return z.H.useContext(B)},xn.useDebugValue=function(){},xn.useDeferredValue=function(B,ae){return z.H.useDeferredValue(B,ae)},xn.useEffect=function(B,ae,me){var $=z.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(B,ae)},xn.useId=function(){return z.H.useId()},xn.useImperativeHandle=function(B,ae,me){return z.H.useImperativeHandle(B,ae,me)},xn.useInsertionEffect=function(B,ae){return z.H.useInsertionEffect(B,ae)},xn.useLayoutEffect=function(B,ae){return z.H.useLayoutEffect(B,ae)},xn.useMemo=function(B,ae){return z.H.useMemo(B,ae)},xn.useOptimistic=function(B,ae){return z.H.useOptimistic(B,ae)},xn.useReducer=function(B,ae,me){return z.H.useReducer(B,ae,me)},xn.useRef=function(B){return z.H.useRef(B)},xn.useState=function(B){return z.H.useState(B)},xn.useSyncExternalStore=function(B,ae,me){return z.H.useSyncExternalStore(B,ae,me)},xn.useTransition=function(){return z.H.useTransition()},xn.version="19.1.1",xn}var jw;function _j(){return jw||(jw=1,W0.exports=DN()),W0.exports}var y=_j();const dn=Ip(y),Sw=kN({__proto__:null,default:dn},[y]);var q0={exports:{}},jf={},G0={exports:{}},Z0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function NN(){return Ew||(Ew=1,(function(t){function n(K,W){var H=K.length;K.push(W);e:for(;0<H;){var Ee=H-1>>>1,B=K[Ee];if(0<l(B,W))K[Ee]=W,K[H]=B,H=Ee;else break e}}function r(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var W=K[0],H=K.pop();if(H!==W){K[0]=H;e:for(var Ee=0,B=K.length,ae=B>>>1;Ee<ae;){var me=2*(Ee+1)-1,$=K[me],F=me+1,U=K[F];if(0>l($,H))F<B&&0>l(U,$)?(K[Ee]=U,K[F]=H,Ee=F):(K[Ee]=$,K[me]=H,Ee=me);else if(F<B&&0>l(U,H))K[Ee]=U,K[F]=H,Ee=F;else break e}}return W}function l(K,W){var H=K.sortIndex-W.sortIndex;return H!==0?H:K.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();t.unstable_now=function(){return d.now()-g}}var p=[],m=[],x=1,v=null,S=3,E=!1,C=!1,T=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(K){for(var W=r(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=K)i(m),W.sortIndex=W.expirationTime,n(p,W);else break;W=r(m)}}function z(K){if(T=!1,P(K),!C)if(r(p)!==null)C=!0,O||(O=!0,ge());else{var W=r(m);W!==null&&re(z,W.startTime-K)}}var O=!1,G=-1,q=5,ce=-1;function he(){return A?!0:!(t.unstable_now()-ce<q)}function se(){if(A=!1,O){var K=t.unstable_now();ce=K;var W=!0;try{e:{C=!1,T&&(T=!1,M(G),G=-1),E=!0;var H=S;try{t:{for(P(K),v=r(p);v!==null&&!(v.expirationTime>K&&he());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,S=v.priorityLevel;var B=Ee(v.expirationTime<=K);if(K=t.unstable_now(),typeof B=="function"){v.callback=B,P(K),W=!0;break t}v===r(p)&&i(p),P(K)}else i(p);v=r(p)}if(v!==null)W=!0;else{var ae=r(m);ae!==null&&re(z,ae.startTime-K),W=!1}}break e}finally{v=null,S=H,E=!1}W=void 0}}finally{W?ge():O=!1}}}var ge;if(typeof R=="function")ge=function(){R(se)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,de=Ae.port2;Ae.port1.onmessage=se,ge=function(){de.postMessage(null)}}else ge=function(){D(se,0)};function re(K,W){G=D(function(){K(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(K){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var H=S;S=W;try{return K()}finally{S=H}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var H=S;S=K;try{return W()}finally{S=H}},t.unstable_scheduleCallback=function(K,W,H){var Ee=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Ee+H:Ee):H=Ee,K){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,K={id:x++,callback:W,priorityLevel:K,startTime:H,expirationTime:B,sortIndex:-1},H>Ee?(K.sortIndex=H,n(m,K),r(p)===null&&K===r(m)&&(T?(M(G),G=-1):T=!0,re(z,H-Ee))):(K.sortIndex=B,n(p,K),C||E||(C=!0,O||(O=!0,ge()))),K},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(K){var W=S;return function(){var H=S;S=W;try{return K.apply(this,arguments)}finally{S=H}}}})(Z0)),Z0}var Cw;function IN(){return Cw||(Cw=1,G0.exports=NN()),G0.exports}var Y0={exports:{}},Gs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function zN(){if(ww)return Gs;ww=1;var t=_j();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gs.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(p,m,null,x)},Gs.flushSync=function(p){var m=d.T,x=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=m,i.p=x,i.d.f()}},Gs.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Gs.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Gs.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,v=g(x,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:E}):x==="script"&&i.d.X(p,{crossOrigin:v,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gs.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=g(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Gs.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=g(x,m.crossOrigin);i.d.L(p,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gs.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=g(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Gs.requestFormReset=function(p){i.d.r(p)},Gs.unstable_batchedUpdates=function(p,m){return p(m)},Gs.useFormState=function(p,m,x){return d.H.useFormState(p,m,x)},Gs.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gs.version="19.1.1",Gs}var _w;function KT(){if(_w)return Y0.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Y0.exports=zN(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function LN(){if(Tw)return jf;Tw=1;var t=IN(),n=_j(),r=KT();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function d(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function g(s){if(u(s)!==s)throw Error(i(188))}function p(s){var o=s.alternate;if(!o){if(o=u(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,f=o;;){var j=c.return;if(j===null)break;var w=j.alternate;if(w===null){if(f=j.return,f!==null){c=f;continue}break}if(j.child===w.child){for(w=j.child;w;){if(w===c)return g(j),s;if(w===f)return g(j),o;w=w.sibling}throw Error(i(188))}if(c.return!==f.return)c=j,f=w;else{for(var V=!1,X=j.child;X;){if(X===c){V=!0,c=j,f=w;break}if(X===f){V=!0,f=j,c=w;break}X=X.sibling}if(!V){for(X=w.child;X;){if(X===c){V=!0,c=w,f=j;break}if(X===f){V=!0,f=w,c=j;break}X=X.sibling}if(!V)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var Ae=Symbol.for("react.client.reference");function de(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ae?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList";case ce:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case R:return(s.displayName||"Context")+".Provider";case M:return(s._context.displayName||"Context")+".Consumer";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return o=s.displayName||null,o!==null?o:de(s.type)||"Memo";case q:o=s._payload,s=s._init;try{return de(s(o))}catch{}}return null}var re=Array.isArray,K=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Ee=[],B=-1;function ae(s){return{current:s}}function me(s){0>B||(s.current=Ee[B],Ee[B]=null,B--)}function $(s,o){B++,Ee[B]=s.current,s.current=o}var F=ae(null),U=ae(null),Y=ae(null),be=ae(null);function Te(s,o){switch($(Y,o),$(U,s),$(F,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?qC(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=qC(o),s=GC(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}me(F),$(F,s)}function Re(){me(F),me(U),me(Y)}function nt(s){s.memoizedState!==null&&$(be,s);var o=F.current,c=GC(o,s.type);o!==c&&($(U,s),$(F,c))}function ht(s){U.current===s&&(me(F),me(U)),be.current===s&&(me(be),mf._currentValue=H)}var rt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Ue=t.unstable_cancelCallback,qt=t.unstable_shouldYield,Se=t.unstable_requestPaint,Ke=t.unstable_now,Ot=t.unstable_getCurrentPriorityLevel,le=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,st=t.unstable_NormalPriority,Mt=t.unstable_LowPriority,Mn=t.unstable_IdlePriority,ar=t.log,He=t.unstable_setDisableYieldValue,it=null,It=null;function Xe(s){if(typeof ar=="function"&&He(s),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(it,s)}catch{}}var vt=Math.clz32?Math.clz32:At,Pn=Math.log,Ge=Math.LN2;function At(s){return s>>>=0,s===0?32:31-(Pn(s)/Ge|0)|0}var an=256,yn=4194304;function en(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Dn(s,o,c){var f=s.pendingLanes;if(f===0)return 0;var j=0,w=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var X=f&134217727;return X!==0?(f=X&~w,f!==0?j=en(f):(V&=X,V!==0?j=en(V):c||(c=X&~s,c!==0&&(j=en(c))))):(X=f&~w,X!==0?j=en(X):V!==0?j=en(V):c||(c=f&~s,c!==0&&(j=en(c)))),j===0?0:o!==0&&o!==j&&(o&w)===0&&(w=j&-j,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:j}function at(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ln(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var s=an;return an<<=1,(an&4194048)===0&&(an=256),s}function Xr(){var s=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),s}function un(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function $s(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ts(s,o,c,f,j,w){var V=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var X=s.entanglements,pe=s.expirationTimes,Pe=s.hiddenUpdates;for(c=V&~c;0<c;){var We=31-vt(c),Ye=1<<We;X[We]=0,pe[We]=-1;var ze=Pe[We];if(ze!==null)for(Pe[We]=null,We=0;We<ze.length;We++){var Be=ze[We];Be!==null&&(Be.lane&=-536870913)}c&=~Ye}f!==0&&$o(s,f,0),w!==0&&j===0&&s.tag!==0&&(s.suspendedLanes|=w&~(V&~o))}function $o(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-vt(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|c&4194090}function Ga(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-vt(c),j=1<<f;j&o|s[f]&o&&(s[f]|=o),c&=~j}}function ua(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Pi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Za(){var s=W.p;return s!==0?s:(s=window.event,s===void 0?32:hw(s.type))}function As(s,o){var c=W.p;try{return W.p=s,o()}finally{W.p=c}}var vi=Math.random().toString(36).slice(2),Rr="__reactFiber$"+vi,Qr="__reactProps$"+vi,co="__reactContainer$"+vi,Jr="__reactEvents$"+vi,ct="__reactListeners$"+vi,Di="__reactHandles$"+vi,Ya="__reactResources$"+vi,uo="__reactMarker$"+vi;function ho(s){delete s[Rr],delete s[Qr],delete s[Jr],delete s[ct],delete s[Di]}function Fs(s){var o=s[Rr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[co]||c[Rr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=XC(s);s!==null;){if(c=s[Rr])return c;s=XC(s)}return o}s=c,c=s.parentNode}return null}function ls(s){if(s=s[Rr]||s[co]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function vs(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Js(s){var o=s[Ya];return o||(o=s[Ya]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Cr(s){s[uo]=!0}var da=new Set,Fo={};function ot(s,o){ei(s,o),ei(s+"Capture",o)}function ei(s,o){for(Fo[s]=o,s=0;s<o.length;s++)da.add(o[s])}var zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vs={},ha={};function Lc(s){return rt.call(ha,s)?!0:rt.call(Vs,s)?!1:zc.test(s)?ha[s]=!0:(Vs[s]=!0,!1)}function ti(s,o,c){if(Lc(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Vo(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Us(s,o,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+f)}}var Ni,fo;function yi(s){if(Ni===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Ni=o&&o[1]||"",fo=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ni+s+fo}var po=!1;function Ii(s,o){if(!s||po)return"";po=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Be){var ze=Be}Reflect.construct(s,[],Ye)}else{try{Ye.call()}catch(Be){ze=Be}s.call(Ye.prototype)}}else{try{throw Error()}catch(Be){ze=Be}(Ye=s())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Be){if(Be&&ze&&typeof Be.stack=="string")return[Be.stack,ze.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),V=w[0],X=w[1];if(V&&X){var pe=V.split(`
`),Pe=X.split(`
`);for(j=f=0;f<pe.length&&!pe[f].includes("DetermineComponentFrameRoot");)f++;for(;j<Pe.length&&!Pe[j].includes("DetermineComponentFrameRoot");)j++;if(f===pe.length||j===Pe.length)for(f=pe.length-1,j=Pe.length-1;1<=f&&0<=j&&pe[f]!==Pe[j];)j--;for(;1<=f&&0<=j;f--,j--)if(pe[f]!==Pe[j]){if(f!==1||j!==1)do if(f--,j--,0>j||pe[f]!==Pe[j]){var We=`
`+pe[f].replace(" at new "," at ");return s.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",s.displayName)),We}while(1<=f&&0<=j);break}}}finally{po=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?yi(c):""}function bn(s){switch(s.tag){case 26:case 27:case 5:return yi(s.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Ii(s.type,!1);case 11:return Ii(s.type.render,!1);case 1:return Ii(s.type,!0);case 31:return yi("Activity");default:return""}}function Gn(s){try{var o="";do o+=bn(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Ur(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zi(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Li(s){var o=zi(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var j=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return j.call(this)},set:function(V){f=""+V,w.call(this,V)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(V){f=""+V},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function mo(s){s._valueTracker||(s._valueTracker=Li(s))}function nn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=zi(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function Un(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var go=/[\n"\\]/g;function kr(s){return s.replace(go,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hr(s,o,c,f,j,w,V,X){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),o!=null?V==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ur(o)):s.value!==""+Ur(o)&&(s.value=""+Ur(o)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),o!=null?Oi(s,V,Ur(o)):c!=null?Oi(s,V,Ur(c)):f!=null&&s.removeAttribute("value"),j==null&&w!=null&&(s.defaultChecked=!!w),j!=null&&(s.checked=j&&typeof j!="function"&&typeof j!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?s.name=""+Ur(X):s.removeAttribute("name")}function Oc(s,o,c,f,j,w,V,X){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+Ur(c):"",o=o!=null?""+Ur(o):c,X||o===s.value||(s.value=o),s.defaultValue=o}f=f??j,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=X?s.checked:!!f,s.defaultChecked=!!f,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V)}function Oi(s,o,c){o==="number"&&Un(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function ys(s,o,c,f){if(s=s.options,o){o={};for(var j=0;j<c.length;j++)o["$"+c[j]]=!0;for(c=0;c<s.length;c++)j=o.hasOwnProperty("$"+s[c].value),s[c].selected!==j&&(s[c].selected=j),j&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Ur(c),o=null,j=0;j<s.length;j++){if(s[j].value===c){s[j].selected=!0,f&&(s[j].defaultSelected=!0);return}o!==null||s[j].disabled||(o=s[j])}o!==null&&(o.selected=!0)}}function Vt(s,o,c){if(o!=null&&(o=""+Ur(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Ur(c):""}function wr(s,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(i(92));if(re(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Ur(o),s.defaultValue=c,f=s.textContent,f===c&&f!==""&&f!==null&&(s.value=f)}function Nr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fa(s,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,c):typeof c!="number"||c===0||xo.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Bi(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var j in o)f=o[j],o.hasOwnProperty(j)&&c[j]!==f&&fa(s,j,f)}else for(var w in o)o.hasOwnProperty(w)&&fa(s,w,o[w])}function ni(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(s){return $i.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var cs=null;function bs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var js=null,Hs=null;function ma(s){var o=ls(s);if(o&&(s=o.stateNode)){var c=s[Qr]||null;e:switch(s=o.stateNode,o.type){case"input":if(Hr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+kr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var j=f[Qr]||null;if(!j)throw Error(i(90));Hr(f,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===s.form&&nn(f)}break e;case"textarea":Vt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ys(s,!!c.multiple,o,!1)}}}var Gt=!1;function Ir(s,o,c){if(Gt)return s(o,c);Gt=!0;try{var f=s(o);return f}finally{if(Gt=!1,(js!==null||Hs!==null)&&($m(),js&&(o=js,s=Hs,Hs=js=null,ma(o),s)))for(o=0;o<s.length;o++)ma(s[o])}}function En(s,o){var c=s.stateNode;if(c===null)return null;var f=c[Qr]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(zr)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ri=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ri=!1}var Rs=null,ks=null,Fi=null;function Vi(){if(Fi)return Fi;var s,o=ks,c=o.length,f,j="value"in Rs?Rs.value:Rs.textContent,w=j.length;for(s=0;s<c&&o[s]===j[s];s++);var V=c-s;for(f=1;f<=V&&o[c-f]===j[w-f];f++);return Fi=j.slice(s,1<f?1-f:void 0)}function gr(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ms(){return!0}function ga(){return!1}function Q(s){function o(c,f,j,w,V){this._reactName=c,this._targetInst=j,this.type=f,this.nativeEvent=w,this.target=V,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(c=s[X],this[X]=c?c(w):w[X]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ms:ga,this.isPropagationStopped=ga,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),o}var xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oe=Q(xe),pt=x({},xe,{view:0,detail:0}),gn=Q(pt),Tn,St,fn,pn=x({},pt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fn&&(fn&&s.type==="mousemove"?(Tn=s.screenX-fn.screenX,St=s.screenY-fn.screenY):St=Tn=0,fn=s),Tn)},movementY:function(s){return"movementY"in s?s.movementY:St}}),Lr=Q(pn),es=x({},pn,{dataTransfer:0}),Uo=Q(es),Ho=x({},pt,{relatedTarget:0}),Wo=Q(Ho),Ka=x({},xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Th=Q(Ka),Ah=x({},xe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bc=Q(Ah),Rh=x({},xe,{data:0}),si=Q(Rh),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $c(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=bo[s])?!!o[s]:!1}function Xa(){return $c}var Fc=x({},pt,{key:function(s){if(s.key){var o=bi[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=gr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(s){return s.type==="keypress"?gr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?gr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yu=Q(Fc),Ku=x({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=Q(Ku),kh=x({},pt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Mh=Q(kh),Vc=x({},xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ph=Q(Vc),Il=x({},pn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xu=Q(Il),zl=x({},xe,{newState:0,oldState:0}),I=Q(zl),ne=[9,13,27,32],Je=zr&&"CompositionEvent"in window,ft=null;zr&&"documentMode"in document&&(ft=document.documentMode);var Nn=zr&&"TextEvent"in window&&!ft,rn=zr&&(!Je||ft&&8<ft&&11>=ft),rr=" ",Ws=!1;function Wr(s,o){switch(s){case"keyup":return ne.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var In=!1;function Or(s,o){switch(s){case"compositionend":return Ui(o);case"keypress":return o.which!==32?null:(Ws=!0,rr);case"textInput":return s=o.data,s===rr&&Ws?null:s;default:return null}}function Uc(s,o){if(In)return s==="compositionend"||!Je&&Wr(s,o)?(s=Vi(),Fi=ks=Rs=null,In=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return rn&&o.locale!=="ko"?null:o.data;default:return null}}var Ss={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qo(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ss[s.type]:o==="textarea"}function sm(s,o,c,f){js?Hs?Hs.push(f):Hs=[f]:js=f,o=qm(o,"onChange"),0<o.length&&(c=new Oe("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var ii=null,Hc=null;function Ll(s){FC(s,0)}function Qu(s){var o=vs(s);if(nn(o))return s}function Ol(s,o){if(s==="change")return o}var Dh=!1;if(zr){var Bl;if(zr){var Nh="oninput"in document;if(!Nh){var Go=document.createElement("div");Go.setAttribute("oninput","return;"),Nh=typeof Go.oninput=="function"}Bl=Nh}else Bl=!1;Dh=Bl&&(!document.documentMode||9<document.documentMode)}function Wc(){ii&&(ii.detachEvent("onpropertychange",im),Hc=ii=null)}function im(s){if(s.propertyName==="value"&&Qu(Hc)){var o=[];sm(o,Hc,s,bs(s)),Ir(Ll,o)}}function Ih(s,o,c){s==="focusin"?(Wc(),ii=o,Hc=c,ii.attachEvent("onpropertychange",im)):s==="focusout"&&Wc()}function pv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qu(Hc)}function Zo(s,o){if(s==="click")return Qu(o)}function mv(s,o){if(s==="input"||s==="change")return Qu(o)}function $l(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var oi=typeof Object.is=="function"?Object.is:$l;function ai(s,o){if(oi(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var j=c[f];if(!rt.call(o,j)||!oi(s[j],o[j]))return!1}return!0}function qc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zh(s,o){var c=qc(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=qc(c)}}function Ju(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ju(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Gc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Un(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Un(s.document)}return o}function Zc(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var ed=zr&&"documentMode"in document&&11>=document.documentMode,Hi=null,Fl=null,Qa=null,td=!1;function om(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;td||Hi==null||Hi!==Un(f)||(f=Hi,"selectionStart"in f&&Zc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qa&&ai(Qa,f)||(Qa=f,f=qm(Fl,"onSelect"),0<f.length&&(o=new Oe("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Hi)))}function So(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Vl={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionrun:So("Transition","TransitionRun"),transitionstart:So("Transition","TransitionStart"),transitioncancel:So("Transition","TransitionCancel"),transitionend:So("Transition","TransitionEnd")},nd={},am={};zr&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function xa(s){if(nd[s])return nd[s];if(!Vl[s])return s;var o=Vl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in am)return nd[s]=o[c];return s}var lm=xa("animationend"),Wi=xa("animationiteration"),Yc=xa("animationstart"),gv=xa("transitionrun"),rd=xa("transitionstart"),xv=xa("transitioncancel"),Lh=xa("transitionend"),cm=new Map,Ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ja.push("scrollEnd");function qi(s,o){cm.set(s,o),ot(o,[s])}var el=new WeakMap;function li(s,o){if(typeof s=="object"&&s!==null){var c=el.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Gn(o)},el.set(s,o),o)}return{value:s,source:o,stack:Gn(o)}}var ci=[],Ul=0,Gi=0;function Kc(){for(var s=Ul,o=Gi=Ul=0;o<s;){var c=ci[o];ci[o++]=null;var f=ci[o];ci[o++]=null;var j=ci[o];ci[o++]=null;var w=ci[o];if(ci[o++]=null,f!==null&&j!==null){var V=f.pending;V===null?j.next=j:(j.next=V.next,V.next=j),f.pending=j}w!==0&&Qc(c,j,w)}}function Xc(s,o,c,f){ci[Ul++]=s,ci[Ul++]=o,ci[Ul++]=c,ci[Ul++]=f,Gi|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function tl(s,o,c,f){return Xc(s,o,c,f),va(s)}function Hl(s,o){return Xc(s,null,null,o),va(s)}function Qc(s,o,c){s.lanes|=c;var f=s.alternate;f!==null&&(f.lanes|=c);for(var j=!1,w=s.return;w!==null;)w.childLanes|=c,f=w.alternate,f!==null&&(f.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(j=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,j&&o!==null&&(j=31-vt(c),s=w.hiddenUpdates,f=s[j],f===null?s[j]=[o]:f.push(o),o.lane=c|536870912),w):null}function va(s){if(50<af)throw af=0,p0=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var nl={};function um(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(s,o,c,f){return new um(s,o,c,f)}function sd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Eo(s,o){var c=s.alternate;return c===null?(c=ui(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Oh(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Jc(s,o,c,f,j,w){var V=0;if(f=s,typeof s=="function")sd(s)&&(V=1);else if(typeof s=="string")V=xN(s,c,F.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case ce:return s=ui(31,c,o,j),s.elementType=ce,s.lanes=w,s;case C:return ya(c.children,j,w,o);case T:V=8,j|=24;break;case A:return s=ui(12,c,o,j|2),s.elementType=A,s.lanes=w,s;case z:return s=ui(13,c,o,j),s.elementType=z,s.lanes=w,s;case O:return s=ui(19,c,o,j),s.elementType=O,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case R:V=10;break e;case M:V=9;break e;case P:V=11;break e;case G:V=14;break e;case q:V=16,f=null;break e}V=29,c=Error(i(130,s===null?"null":typeof s,"")),f=null}return o=ui(V,c,o,j),o.elementType=s,o.type=f,o.lanes=w,o}function ya(s,o,c,f){return s=ui(7,s,f,o),s.lanes=c,s}function Bh(s,o,c){return s=ui(6,s,null,o),s.lanes=c,s}function id(s,o,c){return o=ui(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var rl=[],Wl=0,a=null,h=0,b=[],_=0,N=null,Z=1,fe="";function ke(s,o){rl[Wl++]=h,rl[Wl++]=a,a=s,h=o}function Fe(s,o,c){b[_++]=Z,b[_++]=fe,b[_++]=N,N=s;var f=Z;s=fe;var j=32-vt(f)-1;f&=~(1<<j),c+=1;var w=32-vt(o)+j;if(30<w){var V=j-j%5;w=(f&(1<<V)-1).toString(32),f>>=V,j-=V,Z=1<<32-vt(o)+j|c<<j|f,fe=w+s}else Z=1<<w|c<<j|f,fe=s}function Qe(s){s.return!==null&&(ke(s,1),Fe(s,1,0))}function mt(s){for(;s===a;)a=rl[--Wl],rl[Wl]=null,h=rl[--Wl],rl[Wl]=null;for(;s===N;)N=b[--_],b[_]=null,fe=b[--_],b[_]=null,Z=b[--_],b[_]=null}var Et=null,Lt=null,sn=!1,xr=null,Mr=!1,Es=Error(i(519));function ji(s){var o=Error(i(418,""));throw Gl(li(o,s)),Es}function dm(s){var o=s.stateNode,c=s.type,f=s.memoizedProps;switch(o[Rr]=s,o[Qr]=f,c){case"dialog":Rn("cancel",o),Rn("close",o);break;case"iframe":case"object":case"embed":Rn("load",o);break;case"video":case"audio":for(c=0;c<cf.length;c++)Rn(cf[c],o);break;case"source":Rn("error",o);break;case"img":case"image":case"link":Rn("error",o),Rn("load",o);break;case"details":Rn("toggle",o);break;case"input":Rn("invalid",o),Oc(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),mo(o);break;case"select":Rn("invalid",o);break;case"textarea":Rn("invalid",o),wr(o,f.value,f.defaultValue,f.children),mo(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||WC(o.textContent,c)?(f.popover!=null&&(Rn("beforetoggle",o),Rn("toggle",o)),f.onScroll!=null&&Rn("scroll",o),f.onScrollEnd!=null&&Rn("scrollend",o),f.onClick!=null&&(o.onclick=Gm),o=!0):o=!1,o||ji(s)}function hm(s){for(Et=s.return;Et;)switch(Et.tag){case 5:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:Et=Et.return}}function eu(s){if(s!==Et)return!1;if(!sn)return hm(s),sn=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||k0(s.type,s.memoizedProps)),c=!c),c&&Lt&&ji(s),hm(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){Lt=Qo(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}Lt=null}}else o===27?(o=Lt,lc(s.type)?(s=N0,N0=null,Lt=s):Lt=o):Lt=Et?Qo(s.stateNode.nextSibling):null;return!0}function ql(){Lt=Et=null,sn=!1}function fm(){var s=xr;return s!==null&&(Ci===null?Ci=s:Ci.push.apply(Ci,s),xr=null),s}function Gl(s){xr===null?xr=[s]:xr.push(s)}var _r=ae(null),Co=null,Yo=null;function ba(s,o,c){$(_r,o._currentValue),o._currentValue=c}function Ko(s){s._currentValue=_r.current,me(_r)}function tu(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function od(s,o,c,f){var j=s.child;for(j!==null&&(j.return=s);j!==null;){var w=j.dependencies;if(w!==null){var V=j.child;w=w.firstContext;e:for(;w!==null;){var X=w;w=j;for(var pe=0;pe<o.length;pe++)if(X.context===o[pe]){w.lanes|=c,X=w.alternate,X!==null&&(X.lanes|=c),tu(w.return,c,s),f||(V=null);break e}w=X.next}}else if(j.tag===18){if(V=j.return,V===null)throw Error(i(341));V.lanes|=c,w=V.alternate,w!==null&&(w.lanes|=c),tu(V,c,s),V=null}else V=j.child;if(V!==null)V.return=j;else for(V=j;V!==null;){if(V===s){V=null;break}if(j=V.sibling,j!==null){j.return=V.return,V=j;break}V=V.return}j=V}}function nu(s,o,c,f){s=null;for(var j=o,w=!1;j!==null;){if(!w){if((j.flags&524288)!==0)w=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var V=j.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var X=j.type;oi(j.pendingProps.value,V.value)||(s!==null?s.push(X):s=[X])}}else if(j===be.current){if(V=j.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(s!==null?s.push(mf):s=[mf])}j=j.return}s!==null&&od(o,s,c,f),o.flags|=262144}function pm(s){for(s=s.firstContext;s!==null;){if(!oi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ru(s){Co=s,Yo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function qs(s){return M1(Co,s)}function mm(s,o){return Co===null&&ru(s),M1(s,o)}function M1(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Yo===null){if(s===null)throw Error(i(308));Yo=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Yo=Yo.next=o;return c}var gD=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},xD=t.unstable_scheduleCallback,vD=t.unstable_NormalPriority,us={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vv(){return{controller:new gD,data:new Map,refCount:0}}function $h(s){s.refCount--,s.refCount===0&&xD(vD,function(){s.controller.abort()})}var Fh=null,yv=0,ad=0,ld=null;function yD(s,o){if(Fh===null){var c=Fh=[];yv=0,ad=j0(),ld={status:"pending",value:void 0,then:function(f){c.push(f)}}}return yv++,o.then(P1,P1),o}function P1(){if(--yv===0&&Fh!==null){ld!==null&&(ld.status="fulfilled");var s=Fh;Fh=null,ad=0,ld=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function bD(s,o){var c=[],f={status:"pending",value:null,reason:null,then:function(j){c.push(j)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var j=0;j<c.length;j++)(0,c[j])(o)},function(j){for(f.status="rejected",f.reason=j,j=0;j<c.length;j++)(0,c[j])(void 0)}),f}var D1=K.S;K.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&yD(s,o),D1!==null&&D1(s,o)};var su=ae(null);function bv(){var s=su.current;return s!==null?s:vr.pooledCache}function gm(s,o){o===null?$(su,su.current):$(su,o.pool)}function N1(){var s=bv();return s===null?null:{parent:us._currentValue,pool:s}}var Vh=Error(i(460)),I1=Error(i(474)),xm=Error(i(542)),jv={then:function(){}};function z1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function vm(){}function L1(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(vm,vm),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,B1(s),s;default:if(typeof o.status=="string")o.then(vm,vm);else{if(s=vr,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var j=o;j.status="fulfilled",j.value=f}},function(f){if(o.status==="pending"){var j=o;j.status="rejected",j.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,B1(s),s}throw Uh=o,Vh}}var Uh=null;function O1(){if(Uh===null)throw Error(i(459));var s=Uh;return Uh=null,s}function B1(s){if(s===Vh||s===xm)throw Error(i(483))}var Zl=!1;function Sv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ev(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Yl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Kl(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(sr&2)!==0){var j=f.pending;return j===null?o.next=o:(o.next=j.next,j.next=o),f.pending=o,o=va(s),Qc(s,null,c),o}return Xc(s,f,o,c),va(s)}function Hh(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Ga(s,c)}}function Cv(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var j=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var V={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?j=w=V:w=w.next=V,c=c.next}while(c!==null);w===null?j=w=o:w=w.next=o}else j=w=o;c={baseState:f.baseState,firstBaseUpdate:j,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var wv=!1;function Wh(){if(wv){var s=ld;if(s!==null)throw s}}function qh(s,o,c,f){wv=!1;var j=s.updateQueue;Zl=!1;var w=j.firstBaseUpdate,V=j.lastBaseUpdate,X=j.shared.pending;if(X!==null){j.shared.pending=null;var pe=X,Pe=pe.next;pe.next=null,V===null?w=Pe:V.next=Pe,V=pe;var We=s.alternate;We!==null&&(We=We.updateQueue,X=We.lastBaseUpdate,X!==V&&(X===null?We.firstBaseUpdate=Pe:X.next=Pe,We.lastBaseUpdate=pe))}if(w!==null){var Ye=j.baseState;V=0,We=Pe=pe=null,X=w;do{var ze=X.lane&-536870913,Be=ze!==X.lane;if(Be?(On&ze)===ze:(f&ze)===ze){ze!==0&&ze===ad&&(wv=!0),We!==null&&(We=We.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var tn=s,Xt=X;ze=o;var ur=c;switch(Xt.tag){case 1:if(tn=Xt.payload,typeof tn=="function"){Ye=tn.call(ur,Ye,ze);break e}Ye=tn;break e;case 3:tn.flags=tn.flags&-65537|128;case 0:if(tn=Xt.payload,ze=typeof tn=="function"?tn.call(ur,Ye,ze):tn,ze==null)break e;Ye=x({},Ye,ze);break e;case 2:Zl=!0}}ze=X.callback,ze!==null&&(s.flags|=64,Be&&(s.flags|=8192),Be=j.callbacks,Be===null?j.callbacks=[ze]:Be.push(ze))}else Be={lane:ze,tag:X.tag,payload:X.payload,callback:X.callback,next:null},We===null?(Pe=We=Be,pe=Ye):We=We.next=Be,V|=ze;if(X=X.next,X===null){if(X=j.shared.pending,X===null)break;Be=X,X=Be.next,Be.next=null,j.lastBaseUpdate=Be,j.shared.pending=null}}while(!0);We===null&&(pe=Ye),j.baseState=pe,j.firstBaseUpdate=Pe,j.lastBaseUpdate=We,w===null&&(j.shared.lanes=0),sc|=V,s.lanes=V,s.memoizedState=Ye}}function $1(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function F1(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)$1(c[s],o)}var cd=ae(null),ym=ae(0);function V1(s,o){s=ul,$(ym,s),$(cd,o),ul=s|o.baseLanes}function _v(){$(ym,ul),$(cd,cd.current)}function Tv(){ul=ym.current,me(cd),me(ym)}var Xl=0,Sn=null,lr=null,ts=null,bm=!1,ud=!1,iu=!1,jm=0,Gh=0,dd=null,jD=0;function qr(){throw Error(i(321))}function Av(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!oi(s[c],o[c]))return!1;return!0}function Rv(s,o,c,f,j,w){return Xl=w,Sn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=s===null||s.memoizedState===null?wE:_E,iu=!1,w=c(f,j),iu=!1,ud&&(w=H1(o,c,f,j)),U1(s),w}function U1(s){K.H=Tm;var o=lr!==null&&lr.next!==null;if(Xl=0,ts=lr=Sn=null,bm=!1,Gh=0,dd=null,o)throw Error(i(300));s===null||Cs||(s=s.dependencies,s!==null&&pm(s)&&(Cs=!0))}function H1(s,o,c,f){Sn=s;var j=0;do{if(ud&&(dd=null),Gh=0,ud=!1,25<=j)throw Error(i(301));if(j+=1,ts=lr=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}K.H=AD,w=o(c,f)}while(ud);return w}function SD(){var s=K.H,o=s.useState()[0];return o=typeof o.then=="function"?Zh(o):o,s=s.useState()[0],(lr!==null?lr.memoizedState:null)!==s&&(Sn.flags|=1024),o}function kv(){var s=jm!==0;return jm=0,s}function Mv(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Pv(s){if(bm){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}bm=!1}Xl=0,ts=lr=Sn=null,ud=!1,Gh=jm=0,dd=null}function Si(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?Sn.memoizedState=ts=s:ts=ts.next=s,ts}function ns(){if(lr===null){var s=Sn.alternate;s=s!==null?s.memoizedState:null}else s=lr.next;var o=ts===null?Sn.memoizedState:ts.next;if(o!==null)ts=o,lr=s;else{if(s===null)throw Sn.alternate===null?Error(i(467)):Error(i(310));lr=s,s={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},ts===null?Sn.memoizedState=ts=s:ts=ts.next=s}return ts}function Dv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zh(s){var o=Gh;return Gh+=1,dd===null&&(dd=[]),s=L1(dd,s,o),o=Sn,(ts===null?o.memoizedState:ts.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?wE:_E),s}function Sm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Zh(s);if(s.$$typeof===R)return qs(s)}throw Error(i(438,String(s)))}function Nv(s){var o=null,c=Sn.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=Sn.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(j){return j.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Dv(),Sn.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),f=0;f<s;f++)c[f]=he;return o.index++,c}function sl(s,o){return typeof o=="function"?o(s):o}function Em(s){var o=ns();return Iv(o,lr,s)}function Iv(s,o,c){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var j=s.baseQueue,w=f.pending;if(w!==null){if(j!==null){var V=j.next;j.next=w.next,w.next=V}o.baseQueue=j=w,f.pending=null}if(w=s.baseState,j===null)s.memoizedState=w;else{o=j.next;var X=V=null,pe=null,Pe=o,We=!1;do{var Ye=Pe.lane&-536870913;if(Ye!==Pe.lane?(On&Ye)===Ye:(Xl&Ye)===Ye){var ze=Pe.revertLane;if(ze===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),Ye===ad&&(We=!0);else if((Xl&ze)===ze){Pe=Pe.next,ze===ad&&(We=!0);continue}else Ye={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},pe===null?(X=pe=Ye,V=w):pe=pe.next=Ye,Sn.lanes|=ze,sc|=ze;Ye=Pe.action,iu&&c(w,Ye),w=Pe.hasEagerState?Pe.eagerState:c(w,Ye)}else ze={lane:Ye,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},pe===null?(X=pe=ze,V=w):pe=pe.next=ze,Sn.lanes|=Ye,sc|=Ye;Pe=Pe.next}while(Pe!==null&&Pe!==o);if(pe===null?V=w:pe.next=X,!oi(w,s.memoizedState)&&(Cs=!0,We&&(c=ld,c!==null)))throw c;s.memoizedState=w,s.baseState=V,s.baseQueue=pe,f.lastRenderedState=w}return j===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function zv(s){var o=ns(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var f=c.dispatch,j=c.pending,w=o.memoizedState;if(j!==null){c.pending=null;var V=j=j.next;do w=s(w,V.action),V=V.next;while(V!==j);oi(w,o.memoizedState)||(Cs=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,f]}function W1(s,o,c){var f=Sn,j=ns(),w=sn;if(w){if(c===void 0)throw Error(i(407));c=c()}else c=o();var V=!oi((lr||j).memoizedState,c);V&&(j.memoizedState=c,Cs=!0),j=j.queue;var X=Z1.bind(null,f,j,s);if(Yh(2048,8,X,[s]),j.getSnapshot!==o||V||ts!==null&&ts.memoizedState.tag&1){if(f.flags|=2048,hd(9,Cm(),G1.bind(null,f,j,c,o),null),vr===null)throw Error(i(349));w||(Xl&124)!==0||q1(f,o,c)}return c}function q1(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Sn.updateQueue,o===null?(o=Dv(),Sn.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function G1(s,o,c,f){o.value=c,o.getSnapshot=f,Y1(o)&&K1(s)}function Z1(s,o,c){return c(function(){Y1(o)&&K1(s)})}function Y1(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!oi(s,c)}catch{return!0}}function K1(s){var o=Hl(s,2);o!==null&&Qi(o,s,2)}function Lv(s){var o=Si();if(typeof s=="function"){var c=s;if(s=c(),iu){Xe(!0);try{c()}finally{Xe(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:s},o}function X1(s,o,c,f){return s.baseState=c,Iv(s,lr,typeof f=="function"?f:sl)}function ED(s,o,c,f,j){if(_m(s))throw Error(i(485));if(s=o.action,s!==null){var w={payload:j,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){w.listeners.push(V)}};K.T!==null?c(!0):w.isTransition=!1,f(w),c=o.pending,c===null?(w.next=o.pending=w,Q1(o,w)):(w.next=c.next,o.pending=c.next=w)}}function Q1(s,o){var c=o.action,f=o.payload,j=s.state;if(o.isTransition){var w=K.T,V={};K.T=V;try{var X=c(j,f),pe=K.S;pe!==null&&pe(V,X),J1(s,o,X)}catch(Pe){Ov(s,o,Pe)}finally{K.T=w}}else try{w=c(j,f),J1(s,o,w)}catch(Pe){Ov(s,o,Pe)}}function J1(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){eE(s,o,f)},function(f){return Ov(s,o,f)}):eE(s,o,c)}function eE(s,o,c){o.status="fulfilled",o.value=c,tE(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Q1(s,c)))}function Ov(s,o,c){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,tE(o),o=o.next;while(o!==f)}s.action=null}function tE(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function nE(s,o){return o}function rE(s,o){if(sn){var c=vr.formState;if(c!==null){e:{var f=Sn;if(sn){if(Lt){t:{for(var j=Lt,w=Mr;j.nodeType!==8;){if(!w){j=null;break t}if(j=Qo(j.nextSibling),j===null){j=null;break t}}w=j.data,j=w==="F!"||w==="F"?j:null}if(j){Lt=Qo(j.nextSibling),f=j.data==="F!";break e}}ji(f)}f=!1}f&&(o=c[0])}}return c=Si(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nE,lastRenderedState:o},c.queue=f,c=SE.bind(null,Sn,f),f.dispatch=c,f=Lv(!1),w=Uv.bind(null,Sn,!1,f.queue),f=Si(),j={state:o,dispatch:null,action:s,pending:null},f.queue=j,c=ED.bind(null,Sn,j,w,c),j.dispatch=c,f.memoizedState=s,[o,c,!1]}function sE(s){var o=ns();return iE(o,lr,s)}function iE(s,o,c){if(o=Iv(s,o,nE)[0],s=Em(sl)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Zh(o)}catch(V){throw V===Vh?xm:V}else f=o;o=ns();var j=o.queue,w=j.dispatch;return c!==o.memoizedState&&(Sn.flags|=2048,hd(9,Cm(),CD.bind(null,j,c),null)),[f,w,s]}function CD(s,o){s.action=o}function oE(s){var o=ns(),c=lr;if(c!==null)return iE(o,c,s);ns(),o=o.memoizedState,c=ns();var f=c.queue.dispatch;return c.memoizedState=s,[o,f,!1]}function hd(s,o,c,f){return s={tag:s,create:c,deps:f,inst:o,next:null},o=Sn.updateQueue,o===null&&(o=Dv(),Sn.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s),s}function Cm(){return{destroy:void 0,resource:void 0}}function aE(){return ns().memoizedState}function wm(s,o,c,f){var j=Si();f=f===void 0?null:f,Sn.flags|=s,j.memoizedState=hd(1|o,Cm(),c,f)}function Yh(s,o,c,f){var j=ns();f=f===void 0?null:f;var w=j.memoizedState.inst;lr!==null&&f!==null&&Av(f,lr.memoizedState.deps)?j.memoizedState=hd(o,w,c,f):(Sn.flags|=s,j.memoizedState=hd(1|o,w,c,f))}function lE(s,o){wm(8390656,8,s,o)}function cE(s,o){Yh(2048,8,s,o)}function uE(s,o){return Yh(4,2,s,o)}function dE(s,o){return Yh(4,4,s,o)}function hE(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function fE(s,o,c){c=c!=null?c.concat([s]):null,Yh(4,4,hE.bind(null,o,s),c)}function Bv(){}function pE(s,o){var c=ns();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&Av(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function mE(s,o){var c=ns();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&Av(o,f[1]))return f[0];if(f=s(),iu){Xe(!0);try{s()}finally{Xe(!1)}}return c.memoizedState=[f,o],f}function $v(s,o,c){return c===void 0||(Xl&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=vC(),Sn.lanes|=s,sc|=s,c)}function gE(s,o,c,f){return oi(c,o)?c:cd.current!==null?(s=$v(s,c,f),oi(s,o)||(Cs=!0),s):(Xl&42)===0?(Cs=!0,s.memoizedState=c):(s=vC(),Sn.lanes|=s,sc|=s,o)}function xE(s,o,c,f,j){var w=W.p;W.p=w!==0&&8>w?w:8;var V=K.T,X={};K.T=X,Uv(s,!1,o,c);try{var pe=j(),Pe=K.S;if(Pe!==null&&Pe(X,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var We=bD(pe,f);Kh(s,o,We,Xi(s))}else Kh(s,o,f,Xi(s))}catch(Ye){Kh(s,o,{then:function(){},status:"rejected",reason:Ye},Xi())}finally{W.p=w,K.T=V}}function wD(){}function Fv(s,o,c,f){if(s.tag!==5)throw Error(i(476));var j=vE(s).queue;xE(s,j,o,H,c===null?wD:function(){return yE(s),c(f)})}function vE(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:H},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function yE(s){var o=vE(s).next.queue;Kh(s,o,{},Xi())}function Vv(){return qs(mf)}function bE(){return ns().memoizedState}function jE(){return ns().memoizedState}function _D(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Xi();s=Yl(c);var f=Kl(o,s,c);f!==null&&(Qi(f,o,c),Hh(f,o,c)),o={cache:vv()},s.payload=o;return}o=o.return}}function TD(s,o,c){var f=Xi();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},_m(s)?EE(o,c):(c=tl(s,o,c,f),c!==null&&(Qi(c,s,f),CE(c,o,f)))}function SE(s,o,c){var f=Xi();Kh(s,o,c,f)}function Kh(s,o,c,f){var j={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(_m(s))EE(o,j);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var V=o.lastRenderedState,X=w(V,c);if(j.hasEagerState=!0,j.eagerState=X,oi(X,V))return Xc(s,o,j,0),vr===null&&Kc(),!1}catch{}finally{}if(c=tl(s,o,j,f),c!==null)return Qi(c,s,f),CE(c,o,f),!0}return!1}function Uv(s,o,c,f){if(f={lane:2,revertLane:j0(),action:f,hasEagerState:!1,eagerState:null,next:null},_m(s)){if(o)throw Error(i(479))}else o=tl(s,c,f,2),o!==null&&Qi(o,s,2)}function _m(s){var o=s.alternate;return s===Sn||o!==null&&o===Sn}function EE(s,o){ud=bm=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function CE(s,o,c){if((c&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Ga(s,c)}}var Tm={readContext:qs,use:Sm,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useLayoutEffect:qr,useInsertionEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useSyncExternalStore:qr,useId:qr,useHostTransitionStatus:qr,useFormState:qr,useActionState:qr,useOptimistic:qr,useMemoCache:qr,useCacheRefresh:qr},wE={readContext:qs,use:Sm,useCallback:function(s,o){return Si().memoizedState=[s,o===void 0?null:o],s},useContext:qs,useEffect:lE,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,wm(4194308,4,hE.bind(null,o,s),c)},useLayoutEffect:function(s,o){return wm(4194308,4,s,o)},useInsertionEffect:function(s,o){wm(4,2,s,o)},useMemo:function(s,o){var c=Si();o=o===void 0?null:o;var f=s();if(iu){Xe(!0);try{s()}finally{Xe(!1)}}return c.memoizedState=[f,o],f},useReducer:function(s,o,c){var f=Si();if(c!==void 0){var j=c(o);if(iu){Xe(!0);try{c(o)}finally{Xe(!1)}}}else j=o;return f.memoizedState=f.baseState=j,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:j},f.queue=s,s=s.dispatch=TD.bind(null,Sn,s),[f.memoizedState,s]},useRef:function(s){var o=Si();return s={current:s},o.memoizedState=s},useState:function(s){s=Lv(s);var o=s.queue,c=SE.bind(null,Sn,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Bv,useDeferredValue:function(s,o){var c=Si();return $v(c,s,o)},useTransition:function(){var s=Lv(!1);return s=xE.bind(null,Sn,s.queue,!0,!1),Si().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var f=Sn,j=Si();if(sn){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),vr===null)throw Error(i(349));(On&124)!==0||q1(f,o,c)}j.memoizedState=c;var w={value:c,getSnapshot:o};return j.queue=w,lE(Z1.bind(null,f,w,s),[s]),f.flags|=2048,hd(9,Cm(),G1.bind(null,f,w,c,o),null),c},useId:function(){var s=Si(),o=vr.identifierPrefix;if(sn){var c=fe,f=Z;c=(f&~(1<<32-vt(f)-1)).toString(32)+c,o=""+o+"R"+c,c=jm++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=jD++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Vv,useFormState:rE,useActionState:rE,useOptimistic:function(s){var o=Si();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Uv.bind(null,Sn,!0,c),c.dispatch=o,[s,o]},useMemoCache:Nv,useCacheRefresh:function(){return Si().memoizedState=_D.bind(null,Sn)}},_E={readContext:qs,use:Sm,useCallback:pE,useContext:qs,useEffect:cE,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:dE,useMemo:mE,useReducer:Em,useRef:aE,useState:function(){return Em(sl)},useDebugValue:Bv,useDeferredValue:function(s,o){var c=ns();return gE(c,lr.memoizedState,s,o)},useTransition:function(){var s=Em(sl)[0],o=ns().memoizedState;return[typeof s=="boolean"?s:Zh(s),o]},useSyncExternalStore:W1,useId:bE,useHostTransitionStatus:Vv,useFormState:sE,useActionState:sE,useOptimistic:function(s,o){var c=ns();return X1(c,lr,s,o)},useMemoCache:Nv,useCacheRefresh:jE},AD={readContext:qs,use:Sm,useCallback:pE,useContext:qs,useEffect:cE,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:dE,useMemo:mE,useReducer:zv,useRef:aE,useState:function(){return zv(sl)},useDebugValue:Bv,useDeferredValue:function(s,o){var c=ns();return lr===null?$v(c,s,o):gE(c,lr.memoizedState,s,o)},useTransition:function(){var s=zv(sl)[0],o=ns().memoizedState;return[typeof s=="boolean"?s:Zh(s),o]},useSyncExternalStore:W1,useId:bE,useHostTransitionStatus:Vv,useFormState:oE,useActionState:oE,useOptimistic:function(s,o){var c=ns();return lr!==null?X1(c,lr,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Nv,useCacheRefresh:jE},fd=null,Xh=0;function Am(s){var o=Xh;return Xh+=1,fd===null&&(fd=[]),L1(fd,s,o)}function Qh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Rm(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function TE(s){var o=s._init;return o(s._payload)}function AE(s){function o(_e,je){if(s){var Me=_e.deletions;Me===null?(_e.deletions=[je],_e.flags|=16):Me.push(je)}}function c(_e,je){if(!s)return null;for(;je!==null;)o(_e,je),je=je.sibling;return null}function f(_e){for(var je=new Map;_e!==null;)_e.key!==null?je.set(_e.key,_e):je.set(_e.index,_e),_e=_e.sibling;return je}function j(_e,je){return _e=Eo(_e,je),_e.index=0,_e.sibling=null,_e}function w(_e,je,Me){return _e.index=Me,s?(Me=_e.alternate,Me!==null?(Me=Me.index,Me<je?(_e.flags|=67108866,je):Me):(_e.flags|=67108866,je)):(_e.flags|=1048576,je)}function V(_e){return s&&_e.alternate===null&&(_e.flags|=67108866),_e}function X(_e,je,Me,qe){return je===null||je.tag!==6?(je=Bh(Me,_e.mode,qe),je.return=_e,je):(je=j(je,Me),je.return=_e,je)}function pe(_e,je,Me,qe){var Rt=Me.type;return Rt===C?We(_e,je,Me.props.children,qe,Me.key):je!==null&&(je.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===q&&TE(Rt)===je.type)?(je=j(je,Me.props),Qh(je,Me),je.return=_e,je):(je=Jc(Me.type,Me.key,Me.props,null,_e.mode,qe),Qh(je,Me),je.return=_e,je)}function Pe(_e,je,Me,qe){return je===null||je.tag!==4||je.stateNode.containerInfo!==Me.containerInfo||je.stateNode.implementation!==Me.implementation?(je=id(Me,_e.mode,qe),je.return=_e,je):(je=j(je,Me.children||[]),je.return=_e,je)}function We(_e,je,Me,qe,Rt){return je===null||je.tag!==7?(je=ya(Me,_e.mode,qe,Rt),je.return=_e,je):(je=j(je,Me),je.return=_e,je)}function Ye(_e,je,Me){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=Bh(""+je,_e.mode,Me),je.return=_e,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case S:return Me=Jc(je.type,je.key,je.props,null,_e.mode,Me),Qh(Me,je),Me.return=_e,Me;case E:return je=id(je,_e.mode,Me),je.return=_e,je;case q:var qe=je._init;return je=qe(je._payload),Ye(_e,je,Me)}if(re(je)||ge(je))return je=ya(je,_e.mode,Me,null),je.return=_e,je;if(typeof je.then=="function")return Ye(_e,Am(je),Me);if(je.$$typeof===R)return Ye(_e,mm(_e,je),Me);Rm(_e,je)}return null}function ze(_e,je,Me,qe){var Rt=je!==null?je.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Rt!==null?null:X(_e,je,""+Me,qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case S:return Me.key===Rt?pe(_e,je,Me,qe):null;case E:return Me.key===Rt?Pe(_e,je,Me,qe):null;case q:return Rt=Me._init,Me=Rt(Me._payload),ze(_e,je,Me,qe)}if(re(Me)||ge(Me))return Rt!==null?null:We(_e,je,Me,qe,null);if(typeof Me.then=="function")return ze(_e,je,Am(Me),qe);if(Me.$$typeof===R)return ze(_e,je,mm(_e,Me),qe);Rm(_e,Me)}return null}function Be(_e,je,Me,qe,Rt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return _e=_e.get(Me)||null,X(je,_e,""+qe,Rt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case S:return _e=_e.get(qe.key===null?Me:qe.key)||null,pe(je,_e,qe,Rt);case E:return _e=_e.get(qe.key===null?Me:qe.key)||null,Pe(je,_e,qe,Rt);case q:var Cn=qe._init;return qe=Cn(qe._payload),Be(_e,je,Me,qe,Rt)}if(re(qe)||ge(qe))return _e=_e.get(Me)||null,We(je,_e,qe,Rt,null);if(typeof qe.then=="function")return Be(_e,je,Me,Am(qe),Rt);if(qe.$$typeof===R)return Be(_e,je,Me,mm(je,qe),Rt);Rm(je,qe)}return null}function tn(_e,je,Me,qe){for(var Rt=null,Cn=null,$t=je,Qt=je=0,_s=null;$t!==null&&Qt<Me.length;Qt++){$t.index>Qt?(_s=$t,$t=null):_s=$t.sibling;var Hn=ze(_e,$t,Me[Qt],qe);if(Hn===null){$t===null&&($t=_s);break}s&&$t&&Hn.alternate===null&&o(_e,$t),je=w(Hn,je,Qt),Cn===null?Rt=Hn:Cn.sibling=Hn,Cn=Hn,$t=_s}if(Qt===Me.length)return c(_e,$t),sn&&ke(_e,Qt),Rt;if($t===null){for(;Qt<Me.length;Qt++)$t=Ye(_e,Me[Qt],qe),$t!==null&&(je=w($t,je,Qt),Cn===null?Rt=$t:Cn.sibling=$t,Cn=$t);return sn&&ke(_e,Qt),Rt}for($t=f($t);Qt<Me.length;Qt++)_s=Be($t,_e,Qt,Me[Qt],qe),_s!==null&&(s&&_s.alternate!==null&&$t.delete(_s.key===null?Qt:_s.key),je=w(_s,je,Qt),Cn===null?Rt=_s:Cn.sibling=_s,Cn=_s);return s&&$t.forEach(function(fc){return o(_e,fc)}),sn&&ke(_e,Qt),Rt}function Xt(_e,je,Me,qe){if(Me==null)throw Error(i(151));for(var Rt=null,Cn=null,$t=je,Qt=je=0,_s=null,Hn=Me.next();$t!==null&&!Hn.done;Qt++,Hn=Me.next()){$t.index>Qt?(_s=$t,$t=null):_s=$t.sibling;var fc=ze(_e,$t,Hn.value,qe);if(fc===null){$t===null&&($t=_s);break}s&&$t&&fc.alternate===null&&o(_e,$t),je=w(fc,je,Qt),Cn===null?Rt=fc:Cn.sibling=fc,Cn=fc,$t=_s}if(Hn.done)return c(_e,$t),sn&&ke(_e,Qt),Rt;if($t===null){for(;!Hn.done;Qt++,Hn=Me.next())Hn=Ye(_e,Hn.value,qe),Hn!==null&&(je=w(Hn,je,Qt),Cn===null?Rt=Hn:Cn.sibling=Hn,Cn=Hn);return sn&&ke(_e,Qt),Rt}for($t=f($t);!Hn.done;Qt++,Hn=Me.next())Hn=Be($t,_e,Qt,Hn.value,qe),Hn!==null&&(s&&Hn.alternate!==null&&$t.delete(Hn.key===null?Qt:Hn.key),je=w(Hn,je,Qt),Cn===null?Rt=Hn:Cn.sibling=Hn,Cn=Hn);return s&&$t.forEach(function(RN){return o(_e,RN)}),sn&&ke(_e,Qt),Rt}function ur(_e,je,Me,qe){if(typeof Me=="object"&&Me!==null&&Me.type===C&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case S:e:{for(var Rt=Me.key;je!==null;){if(je.key===Rt){if(Rt=Me.type,Rt===C){if(je.tag===7){c(_e,je.sibling),qe=j(je,Me.props.children),qe.return=_e,_e=qe;break e}}else if(je.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===q&&TE(Rt)===je.type){c(_e,je.sibling),qe=j(je,Me.props),Qh(qe,Me),qe.return=_e,_e=qe;break e}c(_e,je);break}else o(_e,je);je=je.sibling}Me.type===C?(qe=ya(Me.props.children,_e.mode,qe,Me.key),qe.return=_e,_e=qe):(qe=Jc(Me.type,Me.key,Me.props,null,_e.mode,qe),Qh(qe,Me),qe.return=_e,_e=qe)}return V(_e);case E:e:{for(Rt=Me.key;je!==null;){if(je.key===Rt)if(je.tag===4&&je.stateNode.containerInfo===Me.containerInfo&&je.stateNode.implementation===Me.implementation){c(_e,je.sibling),qe=j(je,Me.children||[]),qe.return=_e,_e=qe;break e}else{c(_e,je);break}else o(_e,je);je=je.sibling}qe=id(Me,_e.mode,qe),qe.return=_e,_e=qe}return V(_e);case q:return Rt=Me._init,Me=Rt(Me._payload),ur(_e,je,Me,qe)}if(re(Me))return tn(_e,je,Me,qe);if(ge(Me)){if(Rt=ge(Me),typeof Rt!="function")throw Error(i(150));return Me=Rt.call(Me),Xt(_e,je,Me,qe)}if(typeof Me.then=="function")return ur(_e,je,Am(Me),qe);if(Me.$$typeof===R)return ur(_e,je,mm(_e,Me),qe);Rm(_e,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,je!==null&&je.tag===6?(c(_e,je.sibling),qe=j(je,Me),qe.return=_e,_e=qe):(c(_e,je),qe=Bh(Me,_e.mode,qe),qe.return=_e,_e=qe),V(_e)):c(_e,je)}return function(_e,je,Me,qe){try{Xh=0;var Rt=ur(_e,je,Me,qe);return fd=null,Rt}catch($t){if($t===Vh||$t===xm)throw $t;var Cn=ui(29,$t,null,_e.mode);return Cn.lanes=qe,Cn.return=_e,Cn}finally{}}}var pd=AE(!0),RE=AE(!1),wo=ae(null),ja=null;function Ql(s){var o=s.alternate;$(ds,ds.current&1),$(wo,s),ja===null&&(o===null||cd.current!==null||o.memoizedState!==null)&&(ja=s)}function kE(s){if(s.tag===22){if($(ds,ds.current),$(wo,s),ja===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(ja=s)}}else Jl()}function Jl(){$(ds,ds.current),$(wo,wo.current)}function il(s){me(wo),ja===s&&(ja=null),me(ds)}var ds=ae(0);function km(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||D0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Hv(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:x({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Wv={enqueueSetState:function(s,o,c){s=s._reactInternals;var f=Xi(),j=Yl(f);j.payload=o,c!=null&&(j.callback=c),o=Kl(s,j,f),o!==null&&(Qi(o,s,f),Hh(o,s,f))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=Xi(),j=Yl(f);j.tag=1,j.payload=o,c!=null&&(j.callback=c),o=Kl(s,j,f),o!==null&&(Qi(o,s,f),Hh(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Xi(),f=Yl(c);f.tag=2,o!=null&&(f.callback=o),o=Kl(s,f,c),o!==null&&(Qi(o,s,c),Hh(o,s,c))}};function ME(s,o,c,f,j,w,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,V):o.prototype&&o.prototype.isPureReactComponent?!ai(c,f)||!ai(j,w):!0}function PE(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&Wv.enqueueReplaceState(o,o.state,null)}function ou(s,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(s=s.defaultProps){c===o&&(c=x({},c));for(var j in s)c[j]===void 0&&(c[j]=s[j])}return c}var Mm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function DE(s){Mm(s)}function NE(s){console.error(s)}function IE(s){Mm(s)}function Pm(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function zE(s,o,c){try{var f=s.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function qv(s,o,c){return c=Yl(c),c.tag=3,c.payload={element:null},c.callback=function(){Pm(s,o)},c}function LE(s){return s=Yl(s),s.tag=3,s}function OE(s,o,c,f){var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var w=f.value;s.payload=function(){return j(w)},s.callback=function(){zE(o,c,f)}}var V=c.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){zE(o,c,f),typeof j!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})})}function RD(s,o,c,f,j){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&nu(o,c,j,!0),c=wo.current,c!==null){switch(c.tag){case 13:return ja===null?g0():c.alternate===null&&Br===0&&(Br=3),c.flags&=-257,c.flags|=65536,c.lanes=j,f===jv?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),v0(s,f,j)),!1;case 22:return c.flags|=65536,f===jv?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),v0(s,f,j)),!1}throw Error(i(435,c.tag))}return v0(s,f,j),g0(),!1}if(sn)return o=wo.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=j,f!==Es&&(s=Error(i(422),{cause:f}),Gl(li(s,c)))):(f!==Es&&(o=Error(i(423),{cause:f}),Gl(li(o,c))),s=s.current.alternate,s.flags|=65536,j&=-j,s.lanes|=j,f=li(f,c),j=qv(s.stateNode,f,j),Cv(s,j),Br!==4&&(Br=2)),!1;var w=Error(i(520),{cause:f});if(w=li(w,c),of===null?of=[w]:of.push(w),Br!==4&&(Br=2),o===null)return!0;f=li(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=j&-j,c.lanes|=s,s=qv(c.stateNode,f,s),Cv(c,s),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ic===null||!ic.has(w))))return c.flags|=65536,j&=-j,c.lanes|=j,j=LE(j),OE(j,s,c,f),Cv(c,j),!1}c=c.return}while(c!==null);return!1}var BE=Error(i(461)),Cs=!1;function Ps(s,o,c,f){o.child=s===null?RE(o,null,c,f):pd(o,s.child,c,f)}function $E(s,o,c,f,j){c=c.render;var w=o.ref;if("ref"in f){var V={};for(var X in f)X!=="ref"&&(V[X]=f[X])}else V=f;return ru(o),f=Rv(s,o,c,V,w,j),X=kv(),s!==null&&!Cs?(Mv(s,o,j),ol(s,o,j)):(sn&&X&&Qe(o),o.flags|=1,Ps(s,o,f,j),o.child)}function FE(s,o,c,f,j){if(s===null){var w=c.type;return typeof w=="function"&&!sd(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,VE(s,o,w,f,j)):(s=Jc(c.type,null,f,o,o.mode,j),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!e0(s,j)){var V=w.memoizedProps;if(c=c.compare,c=c!==null?c:ai,c(V,f)&&s.ref===o.ref)return ol(s,o,j)}return o.flags|=1,s=Eo(w,f),s.ref=o.ref,s.return=o,o.child=s}function VE(s,o,c,f,j){if(s!==null){var w=s.memoizedProps;if(ai(w,f)&&s.ref===o.ref)if(Cs=!1,o.pendingProps=f=w,e0(s,j))(s.flags&131072)!==0&&(Cs=!0);else return o.lanes=s.lanes,ol(s,o,j)}return Gv(s,o,c,f,j)}function UE(s,o,c){var f=o.pendingProps,j=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=w!==null?w.baseLanes|c:c,s!==null){for(j=o.child=s.child,w=0;j!==null;)w=w|j.lanes|j.childLanes,j=j.sibling;o.childLanes=w&~f}else o.childLanes=0,o.child=null;return HE(s,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&gm(o,w!==null?w.cachePool:null),w!==null?V1(o,w):_v(),kE(o);else return o.lanes=o.childLanes=536870912,HE(s,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(gm(o,w.cachePool),V1(o,w),Jl(),o.memoizedState=null):(s!==null&&gm(o,null),_v(),Jl());return Ps(s,o,j,c),o.child}function HE(s,o,c,f){var j=bv();return j=j===null?null:{parent:us._currentValue,pool:j},o.memoizedState={baseLanes:c,cachePool:j},s!==null&&gm(o,null),_v(),kE(o),s!==null&&nu(s,o,f,!0),null}function Dm(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function Gv(s,o,c,f,j){return ru(o),c=Rv(s,o,c,f,void 0,j),f=kv(),s!==null&&!Cs?(Mv(s,o,j),ol(s,o,j)):(sn&&f&&Qe(o),o.flags|=1,Ps(s,o,c,j),o.child)}function WE(s,o,c,f,j,w){return ru(o),o.updateQueue=null,c=H1(o,f,c,j),U1(s),f=kv(),s!==null&&!Cs?(Mv(s,o,w),ol(s,o,w)):(sn&&f&&Qe(o),o.flags|=1,Ps(s,o,c,w),o.child)}function qE(s,o,c,f,j){if(ru(o),o.stateNode===null){var w=nl,V=c.contextType;typeof V=="object"&&V!==null&&(w=qs(V)),w=new c(f,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Wv,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=f,w.state=o.memoizedState,w.refs={},Sv(o),V=c.contextType,w.context=typeof V=="object"&&V!==null?qs(V):nl,w.state=o.memoizedState,V=c.getDerivedStateFromProps,typeof V=="function"&&(Hv(o,c,V,f),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(V=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),V!==w.state&&Wv.enqueueReplaceState(w,w.state,null),qh(o,f,w,j),Wh(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){w=o.stateNode;var X=o.memoizedProps,pe=ou(c,X);w.props=pe;var Pe=w.context,We=c.contextType;V=nl,typeof We=="object"&&We!==null&&(V=qs(We));var Ye=c.getDerivedStateFromProps;We=typeof Ye=="function"||typeof w.getSnapshotBeforeUpdate=="function",X=o.pendingProps!==X,We||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(X||Pe!==V)&&PE(o,w,f,V),Zl=!1;var ze=o.memoizedState;w.state=ze,qh(o,f,w,j),Wh(),Pe=o.memoizedState,X||ze!==Pe||Zl?(typeof Ye=="function"&&(Hv(o,c,Ye,f),Pe=o.memoizedState),(pe=Zl||ME(o,c,pe,f,ze,Pe,V))?(We||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Pe),w.props=f,w.state=Pe,w.context=V,f=pe):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,Ev(s,o),V=o.memoizedProps,We=ou(c,V),w.props=We,Ye=o.pendingProps,ze=w.context,Pe=c.contextType,pe=nl,typeof Pe=="object"&&Pe!==null&&(pe=qs(Pe)),X=c.getDerivedStateFromProps,(Pe=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V!==Ye||ze!==pe)&&PE(o,w,f,pe),Zl=!1,ze=o.memoizedState,w.state=ze,qh(o,f,w,j),Wh();var Be=o.memoizedState;V!==Ye||ze!==Be||Zl||s!==null&&s.dependencies!==null&&pm(s.dependencies)?(typeof X=="function"&&(Hv(o,c,X,f),Be=o.memoizedState),(We=Zl||ME(o,c,We,f,ze,Be,pe)||s!==null&&s.dependencies!==null&&pm(s.dependencies))?(Pe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,Be,pe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,Be,pe)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ze===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ze===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Be),w.props=f,w.state=Be,w.context=pe,f=We):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ze===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ze===s.memoizedState||(o.flags|=1024),f=!1)}return w=f,Dm(s,o),f=(o.flags&128)!==0,w||f?(w=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&f?(o.child=pd(o,s.child,null,j),o.child=pd(o,null,c,j)):Ps(s,o,c,j),o.memoizedState=w.state,s=o.child):s=ol(s,o,j),s}function GE(s,o,c,f){return ql(),o.flags|=256,Ps(s,o,c,f),o.child}var Zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yv(s){return{baseLanes:s,cachePool:N1()}}function Kv(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=_o),s}function ZE(s,o,c){var f=o.pendingProps,j=!1,w=(o.flags&128)!==0,V;if((V=w)||(V=s!==null&&s.memoizedState===null?!1:(ds.current&2)!==0),V&&(j=!0,o.flags&=-129),V=(o.flags&32)!==0,o.flags&=-33,s===null){if(sn){if(j?Ql(o):Jl(),sn){var X=Lt,pe;if(pe=X){e:{for(pe=X,X=Mr;pe.nodeType!==8;){if(!X){X=null;break e}if(pe=Qo(pe.nextSibling),pe===null){X=null;break e}}X=pe}X!==null?(o.memoizedState={dehydrated:X,treeContext:N!==null?{id:Z,overflow:fe}:null,retryLane:536870912,hydrationErrors:null},pe=ui(18,null,null,0),pe.stateNode=X,pe.return=o,o.child=pe,Et=o,Lt=null,pe=!0):pe=!1}pe||ji(o)}if(X=o.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return D0(X)?o.lanes=32:o.lanes=536870912,null;il(o)}return X=f.children,f=f.fallback,j?(Jl(),j=o.mode,X=Nm({mode:"hidden",children:X},j),f=ya(f,j,c,null),X.return=o,f.return=o,X.sibling=f,o.child=X,j=o.child,j.memoizedState=Yv(c),j.childLanes=Kv(s,V,c),o.memoizedState=Zv,f):(Ql(o),Xv(o,X))}if(pe=s.memoizedState,pe!==null&&(X=pe.dehydrated,X!==null)){if(w)o.flags&256?(Ql(o),o.flags&=-257,o=Qv(s,o,c)):o.memoizedState!==null?(Jl(),o.child=s.child,o.flags|=128,o=null):(Jl(),j=f.fallback,X=o.mode,f=Nm({mode:"visible",children:f.children},X),j=ya(j,X,c,null),j.flags|=2,f.return=o,j.return=o,f.sibling=j,o.child=f,pd(o,s.child,null,c),f=o.child,f.memoizedState=Yv(c),f.childLanes=Kv(s,V,c),o.memoizedState=Zv,o=j);else if(Ql(o),D0(X)){if(V=X.nextSibling&&X.nextSibling.dataset,V)var Pe=V.dgst;V=Pe,f=Error(i(419)),f.stack="",f.digest=V,Gl({value:f,source:null,stack:null}),o=Qv(s,o,c)}else if(Cs||nu(s,o,c,!1),V=(c&s.childLanes)!==0,Cs||V){if(V=vr,V!==null&&(f=c&-c,f=(f&42)!==0?1:ua(f),f=(f&(V.suspendedLanes|c))!==0?0:f,f!==0&&f!==pe.retryLane))throw pe.retryLane=f,Hl(s,f),Qi(V,s,f),BE;X.data==="$?"||g0(),o=Qv(s,o,c)}else X.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=pe.treeContext,Lt=Qo(X.nextSibling),Et=o,sn=!0,xr=null,Mr=!1,s!==null&&(b[_++]=Z,b[_++]=fe,b[_++]=N,Z=s.id,fe=s.overflow,N=o),o=Xv(o,f.children),o.flags|=4096);return o}return j?(Jl(),j=f.fallback,X=o.mode,pe=s.child,Pe=pe.sibling,f=Eo(pe,{mode:"hidden",children:f.children}),f.subtreeFlags=pe.subtreeFlags&65011712,Pe!==null?j=Eo(Pe,j):(j=ya(j,X,c,null),j.flags|=2),j.return=o,f.return=o,f.sibling=j,o.child=f,f=j,j=o.child,X=s.child.memoizedState,X===null?X=Yv(c):(pe=X.cachePool,pe!==null?(Pe=us._currentValue,pe=pe.parent!==Pe?{parent:Pe,pool:Pe}:pe):pe=N1(),X={baseLanes:X.baseLanes|c,cachePool:pe}),j.memoizedState=X,j.childLanes=Kv(s,V,c),o.memoizedState=Zv,f):(Ql(o),c=s.child,s=c.sibling,c=Eo(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,s!==null&&(V=o.deletions,V===null?(o.deletions=[s],o.flags|=16):V.push(s)),o.child=c,o.memoizedState=null,c)}function Xv(s,o){return o=Nm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Nm(s,o){return s=ui(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Qv(s,o,c){return pd(o,s.child,null,c),s=Xv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function YE(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),tu(s.return,o,c)}function Jv(s,o,c,f,j){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:j}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=j)}function KE(s,o,c){var f=o.pendingProps,j=f.revealOrder,w=f.tail;if(Ps(s,o,f.children,c),f=ds.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&YE(s,c,o);else if(s.tag===19)YE(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch($(ds,f),j){case"forwards":for(c=o.child,j=null;c!==null;)s=c.alternate,s!==null&&km(s)===null&&(j=c),c=c.sibling;c=j,c===null?(j=o.child,o.child=null):(j=c.sibling,c.sibling=null),Jv(o,!1,j,c,w);break;case"backwards":for(c=null,j=o.child,o.child=null;j!==null;){if(s=j.alternate,s!==null&&km(s)===null){o.child=j;break}s=j.sibling,j.sibling=c,c=j,j=s}Jv(o,!0,c,null,w);break;case"together":Jv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ol(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),sc|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(nu(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=Eo(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Eo(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function e0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&pm(s)))}function kD(s,o,c){switch(o.tag){case 3:Te(o,o.stateNode.containerInfo),ba(o,us,s.memoizedState.cache),ql();break;case 27:case 5:nt(o);break;case 4:Te(o,o.stateNode.containerInfo);break;case 10:ba(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ql(o),o.flags|=128,null):(c&o.child.childLanes)!==0?ZE(s,o,c):(Ql(o),s=ol(s,o,c),s!==null?s.sibling:null);Ql(o);break;case 19:var j=(s.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(nu(s,o,c,!1),f=(c&o.childLanes)!==0),j){if(f)return KE(s,o,c);o.flags|=128}if(j=o.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),$(ds,ds.current),f)break;return null;case 22:case 23:return o.lanes=0,UE(s,o,c);case 24:ba(o,us,s.memoizedState.cache)}return ol(s,o,c)}function XE(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Cs=!0;else{if(!e0(s,c)&&(o.flags&128)===0)return Cs=!1,kD(s,o,c);Cs=(s.flags&131072)!==0}else Cs=!1,sn&&(o.flags&1048576)!==0&&Fe(o,h,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var f=o.elementType,j=f._init;if(f=j(f._payload),o.type=f,typeof f=="function")sd(f)?(s=ou(f,s),o.tag=1,o=qE(null,o,f,s,c)):(o.tag=0,o=Gv(null,o,f,s,c));else{if(f!=null){if(j=f.$$typeof,j===P){o.tag=11,o=$E(null,o,f,s,c);break e}else if(j===G){o.tag=14,o=FE(null,o,f,s,c);break e}}throw o=de(f)||f,Error(i(306,o,""))}}return o;case 0:return Gv(s,o,o.type,o.pendingProps,c);case 1:return f=o.type,j=ou(f,o.pendingProps),qE(s,o,f,j,c);case 3:e:{if(Te(o,o.stateNode.containerInfo),s===null)throw Error(i(387));f=o.pendingProps;var w=o.memoizedState;j=w.element,Ev(s,o),qh(o,f,null,c);var V=o.memoizedState;if(f=V.cache,ba(o,us,f),f!==w.cache&&od(o,[us],c,!0),Wh(),f=V.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:V.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=GE(s,o,f,c);break e}else if(f!==j){j=li(Error(i(424)),o),Gl(j),o=GE(s,o,f,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Lt=Qo(s.firstChild),Et=o,sn=!0,xr=null,Mr=!0,c=RE(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ql(),f===j){o=ol(s,o,c);break e}Ps(s,o,f,c)}o=o.child}return o;case 26:return Dm(s,o),s===null?(c=tw(o.type,null,o.pendingProps,null))?o.memoizedState=c:sn||(c=o.type,s=o.pendingProps,f=Zm(Y.current).createElement(c),f[Rr]=o,f[Qr]=s,Ns(f,c,s),Cr(f),o.stateNode=f):o.memoizedState=tw(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return nt(o),s===null&&sn&&(f=o.stateNode=QC(o.type,o.pendingProps,Y.current),Et=o,Mr=!0,j=Lt,lc(o.type)?(N0=j,Lt=Qo(f.firstChild)):Lt=j),Ps(s,o,o.pendingProps.children,c),Dm(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&sn&&((j=f=Lt)&&(f=sN(f,o.type,o.pendingProps,Mr),f!==null?(o.stateNode=f,Et=o,Lt=Qo(f.firstChild),Mr=!1,j=!0):j=!1),j||ji(o)),nt(o),j=o.type,w=o.pendingProps,V=s!==null?s.memoizedProps:null,f=w.children,k0(j,w)?f=null:V!==null&&k0(j,V)&&(o.flags|=32),o.memoizedState!==null&&(j=Rv(s,o,SD,null,null,c),mf._currentValue=j),Dm(s,o),Ps(s,o,f,c),o.child;case 6:return s===null&&sn&&((s=c=Lt)&&(c=iN(c,o.pendingProps,Mr),c!==null?(o.stateNode=c,Et=o,Lt=null,s=!0):s=!1),s||ji(o)),null;case 13:return ZE(s,o,c);case 4:return Te(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=pd(o,null,f,c):Ps(s,o,f,c),o.child;case 11:return $E(s,o,o.type,o.pendingProps,c);case 7:return Ps(s,o,o.pendingProps,c),o.child;case 8:return Ps(s,o,o.pendingProps.children,c),o.child;case 12:return Ps(s,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,ba(o,o.type,f.value),Ps(s,o,f.children,c),o.child;case 9:return j=o.type._context,f=o.pendingProps.children,ru(o),j=qs(j),f=f(j),o.flags|=1,Ps(s,o,f,c),o.child;case 14:return FE(s,o,o.type,o.pendingProps,c);case 15:return VE(s,o,o.type,o.pendingProps,c);case 19:return KE(s,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},s===null?(c=Nm(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Eo(s.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return UE(s,o,c);case 24:return ru(o),f=qs(us),s===null?(j=bv(),j===null&&(j=vr,w=vv(),j.pooledCache=w,w.refCount++,w!==null&&(j.pooledCacheLanes|=c),j=w),o.memoizedState={parent:f,cache:j},Sv(o),ba(o,us,j)):((s.lanes&c)!==0&&(Ev(s,o),qh(o,null,null,c),Wh()),j=s.memoizedState,w=o.memoizedState,j.parent!==f?(j={parent:f,cache:f},o.memoizedState=j,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=j),ba(o,us,f)):(f=w.cache,ba(o,us,f),f!==j.cache&&od(o,[us],c,!0))),Ps(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function al(s){s.flags|=4}function QE(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ow(o)){if(o=wo.current,o!==null&&((On&4194048)===On?ja!==null:(On&62914560)!==On&&(On&536870912)===0||o!==ja))throw Uh=jv,I1;s.flags|=8192}}function Im(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Xr():536870912,s.lanes|=o,vd|=o)}function Jh(s,o){if(!sn)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Pr(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var j=s.child;j!==null;)c|=j.lanes|j.childLanes,f|=j.subtreeFlags&65011712,f|=j.flags&65011712,j.return=s,j=j.sibling;else for(j=s.child;j!==null;)c|=j.lanes|j.childLanes,f|=j.subtreeFlags,f|=j.flags,j.return=s,j=j.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function MD(s,o,c){var f=o.pendingProps;switch(mt(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(o),null;case 1:return Pr(o),null;case 3:return c=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ko(us),Re(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(eu(o)?al(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fm())),Pr(o),null;case 26:return c=o.memoizedState,s===null?(al(o),c!==null?(Pr(o),QE(o,c)):(Pr(o),o.flags&=-16777217)):c?c!==s.memoizedState?(al(o),Pr(o),QE(o,c)):(Pr(o),o.flags&=-16777217):(s.memoizedProps!==f&&al(o),Pr(o),o.flags&=-16777217),null;case 27:ht(o),c=Y.current;var j=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==f&&al(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Pr(o),null}s=F.current,eu(o)?dm(o):(s=QC(j,f,c),o.stateNode=s,al(o))}return Pr(o),null;case 5:if(ht(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&al(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Pr(o),null}if(s=F.current,eu(o))dm(o);else{switch(j=Zm(Y.current),s){case 1:s=j.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=j.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=j.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=j.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=j.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?j.createElement("select",{is:f.is}):j.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?j.createElement(c,{is:f.is}):j.createElement(c)}}s[Rr]=o,s[Qr]=f;e:for(j=o.child;j!==null;){if(j.tag===5||j.tag===6)s.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===o)break e;for(;j.sibling===null;){if(j.return===null||j.return===o)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}o.stateNode=s;e:switch(Ns(s,c,f),c){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&al(o)}}return Pr(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&al(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(s=Y.current,eu(o)){if(s=o.stateNode,c=o.memoizedProps,f=null,j=Et,j!==null)switch(j.tag){case 27:case 5:f=j.memoizedProps}s[Rr]=o,s=!!(s.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||WC(s.nodeValue,c)),s||ji(o)}else s=Zm(s).createTextNode(f),s[Rr]=o,o.stateNode=s}return Pr(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(j=eu(o),f!==null&&f.dehydrated!==null){if(s===null){if(!j)throw Error(i(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(i(317));j[Rr]=o}else ql(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pr(o),j=!1}else j=fm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=j),j=!0;if(!j)return o.flags&256?(il(o),o):(il(o),null)}if(il(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,s=s!==null&&s.memoizedState!==null,c){f=o.child,j=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(j=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==j&&(f.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Im(o,o.updateQueue),Pr(o),null;case 4:return Re(),s===null&&w0(o.stateNode.containerInfo),Pr(o),null;case 10:return Ko(o.type),Pr(o),null;case 19:if(me(ds),j=o.memoizedState,j===null)return Pr(o),null;if(f=(o.flags&128)!==0,w=j.rendering,w===null)if(f)Jh(j,!1);else{if(Br!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=km(s),w!==null){for(o.flags|=128,Jh(j,!1),s=w.updateQueue,o.updateQueue=s,Im(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Oh(c,s),c=c.sibling;return $(ds,ds.current&1|2),o.child}s=s.sibling}j.tail!==null&&Ke()>Om&&(o.flags|=128,f=!0,Jh(j,!1),o.lanes=4194304)}else{if(!f)if(s=km(w),s!==null){if(o.flags|=128,f=!0,s=s.updateQueue,o.updateQueue=s,Im(o,s),Jh(j,!0),j.tail===null&&j.tailMode==="hidden"&&!w.alternate&&!sn)return Pr(o),null}else 2*Ke()-j.renderingStartTime>Om&&c!==536870912&&(o.flags|=128,f=!0,Jh(j,!1),o.lanes=4194304);j.isBackwards?(w.sibling=o.child,o.child=w):(s=j.last,s!==null?s.sibling=w:o.child=w,j.last=w)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=Ke(),o.sibling=null,s=ds.current,$(ds,f?s&1|2:s&1),o):(Pr(o),null);case 22:case 23:return il(o),Tv(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Pr(o),o.subtreeFlags&6&&(o.flags|=8192)):Pr(o),c=o.updateQueue,c!==null&&Im(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),s!==null&&me(su),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ko(us),Pr(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function PD(s,o){switch(mt(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ko(us),Re(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ht(o),null;case 13:if(il(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ql()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return me(ds),null;case 4:return Re(),null;case 10:return Ko(o.type),null;case 22:case 23:return il(o),Tv(),s!==null&&me(su),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ko(us),null;case 25:return null;default:return null}}function JE(s,o){switch(mt(o),o.tag){case 3:Ko(us),Re();break;case 26:case 27:case 5:ht(o);break;case 4:Re();break;case 13:il(o);break;case 19:me(ds);break;case 10:Ko(o.type);break;case 22:case 23:il(o),Tv(),s!==null&&me(su);break;case 24:Ko(us)}}function ef(s,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var j=f.next;c=j;do{if((c.tag&s)===s){f=void 0;var w=c.create,V=c.inst;f=w(),V.destroy=f}c=c.next}while(c!==j)}}catch(X){fr(o,o.return,X)}}function ec(s,o,c){try{var f=o.updateQueue,j=f!==null?f.lastEffect:null;if(j!==null){var w=j.next;f=w;do{if((f.tag&s)===s){var V=f.inst,X=V.destroy;if(X!==void 0){V.destroy=void 0,j=o;var pe=c,Pe=X;try{Pe()}catch(We){fr(j,pe,We)}}}f=f.next}while(f!==w)}}catch(We){fr(o,o.return,We)}}function eC(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{F1(o,c)}catch(f){fr(s,s.return,f)}}}function tC(s,o,c){c.props=ou(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(f){fr(s,o,f)}}function tf(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof c=="function"?s.refCleanup=c(f):c.current=f}}catch(j){fr(s,o,j)}}function Sa(s,o){var c=s.ref,f=s.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(j){fr(s,o,j)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(j){fr(s,o,j)}else c.current=null}function nC(s){var o=s.type,c=s.memoizedProps,f=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(j){fr(s,s.return,j)}}function t0(s,o,c){try{var f=s.stateNode;JD(f,s.type,c,o),f[Qr]=o}catch(j){fr(s,s.return,j)}}function rC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lc(s.type)||s.tag===4}function n0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function r0(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gm));else if(f!==4&&(f===27&&lc(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(r0(s,o,c),s=s.sibling;s!==null;)r0(s,o,c),s=s.sibling}function zm(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(f===27&&lc(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(zm(s,o,c),s=s.sibling;s!==null;)zm(s,o,c),s=s.sibling}function sC(s){var o=s.stateNode,c=s.memoizedProps;try{for(var f=s.type,j=o.attributes;j.length;)o.removeAttributeNode(j[0]);Ns(o,f,c),o[Rr]=s,o[Qr]=c}catch(w){fr(s,s.return,w)}}var ll=!1,Gr=!1,s0=!1,iC=typeof WeakSet=="function"?WeakSet:Set,ws=null;function DD(s,o){if(s=s.containerInfo,A0=eg,s=Gc(s),Zc(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var j=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var V=0,X=-1,pe=-1,Pe=0,We=0,Ye=s,ze=null;t:for(;;){for(var Be;Ye!==c||j!==0&&Ye.nodeType!==3||(X=V+j),Ye!==w||f!==0&&Ye.nodeType!==3||(pe=V+f),Ye.nodeType===3&&(V+=Ye.nodeValue.length),(Be=Ye.firstChild)!==null;)ze=Ye,Ye=Be;for(;;){if(Ye===s)break t;if(ze===c&&++Pe===j&&(X=V),ze===w&&++We===f&&(pe=V),(Be=Ye.nextSibling)!==null)break;Ye=ze,ze=Ye.parentNode}Ye=Be}c=X===-1||pe===-1?null:{start:X,end:pe}}else c=null}c=c||{start:0,end:0}}else c=null;for(R0={focusedElem:s,selectionRange:c},eg=!1,ws=o;ws!==null;)if(o=ws,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,ws=s;else for(;ws!==null;){switch(o=ws,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=o,j=w.memoizedProps,w=w.memoizedState,f=c.stateNode;try{var tn=ou(c.type,j,c.elementType===c.type);s=f.getSnapshotBeforeUpdate(tn,w),f.__reactInternalSnapshotBeforeUpdate=s}catch(Xt){fr(c,c.return,Xt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)P0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":P0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,ws=s;break}ws=o.return}}function oC(s,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:tc(s,c),f&4&&ef(5,c);break;case 1:if(tc(s,c),f&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(V){fr(c,c.return,V)}else{var j=ou(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(j,o,s.__reactInternalSnapshotBeforeUpdate)}catch(V){fr(c,c.return,V)}}f&64&&eC(c),f&512&&tf(c,c.return);break;case 3:if(tc(s,c),f&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{F1(s,o)}catch(V){fr(c,c.return,V)}}break;case 27:o===null&&f&4&&sC(c);case 26:case 5:tc(s,c),o===null&&f&4&&nC(c),f&512&&tf(c,c.return);break;case 12:tc(s,c);break;case 13:tc(s,c),f&4&&cC(s,c),f&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=VD.bind(null,c),oN(s,c))));break;case 22:if(f=c.memoizedState!==null||ll,!f){o=o!==null&&o.memoizedState!==null||Gr,j=ll;var w=Gr;ll=f,(Gr=o)&&!w?nc(s,c,(c.subtreeFlags&8772)!==0):tc(s,c),ll=j,Gr=w}break;case 30:break;default:tc(s,c)}}function aC(s){var o=s.alternate;o!==null&&(s.alternate=null,aC(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ho(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Tr=null,Ei=!1;function cl(s,o,c){for(c=c.child;c!==null;)lC(s,o,c),c=c.sibling}function lC(s,o,c){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(it,c)}catch{}switch(c.tag){case 26:Gr||Sa(c,o),cl(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Gr||Sa(c,o);var f=Tr,j=Ei;lc(c.type)&&(Tr=c.stateNode,Ei=!1),cl(s,o,c),df(c.stateNode),Tr=f,Ei=j;break;case 5:Gr||Sa(c,o);case 6:if(f=Tr,j=Ei,Tr=null,cl(s,o,c),Tr=f,Ei=j,Tr!==null)if(Ei)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(c.stateNode)}catch(w){fr(c,o,w)}else try{Tr.removeChild(c.stateNode)}catch(w){fr(c,o,w)}break;case 18:Tr!==null&&(Ei?(s=Tr,KC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),yf(s)):KC(Tr,c.stateNode));break;case 4:f=Tr,j=Ei,Tr=c.stateNode.containerInfo,Ei=!0,cl(s,o,c),Tr=f,Ei=j;break;case 0:case 11:case 14:case 15:Gr||ec(2,c,o),Gr||ec(4,c,o),cl(s,o,c);break;case 1:Gr||(Sa(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&tC(c,o,f)),cl(s,o,c);break;case 21:cl(s,o,c);break;case 22:Gr=(f=Gr)||c.memoizedState!==null,cl(s,o,c),Gr=f;break;default:cl(s,o,c)}}function cC(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yf(s)}catch(c){fr(o,o.return,c)}}function ND(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new iC),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new iC),o;default:throw Error(i(435,s.tag))}}function i0(s,o){var c=ND(s);o.forEach(function(f){var j=UD.bind(null,s,f);c.has(f)||(c.add(f),f.then(j,j))})}function Zi(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var j=c[f],w=s,V=o,X=V;e:for(;X!==null;){switch(X.tag){case 27:if(lc(X.type)){Tr=X.stateNode,Ei=!1;break e}break;case 5:Tr=X.stateNode,Ei=!1;break e;case 3:case 4:Tr=X.stateNode.containerInfo,Ei=!0;break e}X=X.return}if(Tr===null)throw Error(i(160));lC(w,V,j),Tr=null,Ei=!1,w=j.alternate,w!==null&&(w.return=null),j.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)uC(o,s),o=o.sibling}var Xo=null;function uC(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zi(o,s),Yi(s),f&4&&(ec(3,s,s.return),ef(3,s),ec(5,s,s.return));break;case 1:Zi(o,s),Yi(s),f&512&&(Gr||c===null||Sa(c,c.return)),f&64&&ll&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var j=Xo;if(Zi(o,s),Yi(s),f&512&&(Gr||c===null||Sa(c,c.return)),f&4){var w=c!==null?c.memoizedState:null;if(f=s.memoizedState,c===null)if(f===null)if(s.stateNode===null){e:{f=s.type,c=s.memoizedProps,j=j.ownerDocument||j;t:switch(f){case"title":w=j.getElementsByTagName("title")[0],(!w||w[uo]||w[Rr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=j.createElement(f),j.head.insertBefore(w,j.querySelector("head > title"))),Ns(w,f,c),w[Rr]=s,Cr(w),f=w;break e;case"link":var V=sw("link","href",j).get(f+(c.href||""));if(V){for(var X=0;X<V.length;X++)if(w=V[X],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){V.splice(X,1);break t}}w=j.createElement(f),Ns(w,f,c),j.head.appendChild(w);break;case"meta":if(V=sw("meta","content",j).get(f+(c.content||""))){for(X=0;X<V.length;X++)if(w=V[X],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){V.splice(X,1);break t}}w=j.createElement(f),Ns(w,f,c),j.head.appendChild(w);break;default:throw Error(i(468,f))}w[Rr]=s,Cr(w),f=w}s.stateNode=f}else iw(j,s.type,s.stateNode);else s.stateNode=rw(j,f,s.memoizedProps);else w!==f?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,f===null?iw(j,s.type,s.stateNode):rw(j,f,s.memoizedProps)):f===null&&s.stateNode!==null&&t0(s,s.memoizedProps,c.memoizedProps)}break;case 27:Zi(o,s),Yi(s),f&512&&(Gr||c===null||Sa(c,c.return)),c!==null&&f&4&&t0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Zi(o,s),Yi(s),f&512&&(Gr||c===null||Sa(c,c.return)),s.flags&32){j=s.stateNode;try{Nr(j,"")}catch(Be){fr(s,s.return,Be)}}f&4&&s.stateNode!=null&&(j=s.memoizedProps,t0(s,j,c!==null?c.memoizedProps:j)),f&1024&&(s0=!0);break;case 6:if(Zi(o,s),Yi(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,c=s.stateNode;try{c.nodeValue=f}catch(Be){fr(s,s.return,Be)}}break;case 3:if(Xm=null,j=Xo,Xo=Ym(o.containerInfo),Zi(o,s),Xo=j,Yi(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{yf(o.containerInfo)}catch(Be){fr(s,s.return,Be)}s0&&(s0=!1,dC(s));break;case 4:f=Xo,Xo=Ym(s.stateNode.containerInfo),Zi(o,s),Yi(s),Xo=f;break;case 12:Zi(o,s),Yi(s);break;case 13:Zi(o,s),Yi(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(d0=Ke()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,i0(s,f)));break;case 22:j=s.memoizedState!==null;var pe=c!==null&&c.memoizedState!==null,Pe=ll,We=Gr;if(ll=Pe||j,Gr=We||pe,Zi(o,s),Gr=We,ll=Pe,Yi(s),f&8192)e:for(o=s.stateNode,o._visibility=j?o._visibility&-2:o._visibility|1,j&&(c===null||pe||ll||Gr||au(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){pe=c=o;try{if(w=pe.stateNode,j)V=w.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{X=pe.stateNode;var Ye=pe.memoizedProps.style,ze=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;X.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(Be){fr(pe,pe.return,Be)}}}else if(o.tag===6){if(c===null){pe=o;try{pe.stateNode.nodeValue=j?"":pe.memoizedProps}catch(Be){fr(pe,pe.return,Be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,i0(s,c))));break;case 19:Zi(o,s),Yi(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,i0(s,f)));break;case 30:break;case 21:break;default:Zi(o,s),Yi(s)}}function Yi(s){var o=s.flags;if(o&2){try{for(var c,f=s.return;f!==null;){if(rC(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var j=c.stateNode,w=n0(s);zm(s,w,j);break;case 5:var V=c.stateNode;c.flags&32&&(Nr(V,""),c.flags&=-33);var X=n0(s);zm(s,X,V);break;case 3:case 4:var pe=c.stateNode.containerInfo,Pe=n0(s);r0(s,Pe,pe);break;default:throw Error(i(161))}}catch(We){fr(s,s.return,We)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function dC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;dC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function tc(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)oC(s,o.alternate,o),o=o.sibling}function au(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ec(4,o,o.return),au(o);break;case 1:Sa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&tC(o,o.return,c),au(o);break;case 27:df(o.stateNode);case 26:case 5:Sa(o,o.return),au(o);break;case 22:o.memoizedState===null&&au(o);break;case 30:au(o);break;default:au(o)}s=s.sibling}}function nc(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,j=s,w=o,V=w.flags;switch(w.tag){case 0:case 11:case 15:nc(j,w,c),ef(4,w);break;case 1:if(nc(j,w,c),f=w,j=f.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(Pe){fr(f,f.return,Pe)}if(f=w,j=f.updateQueue,j!==null){var X=f.stateNode;try{var pe=j.shared.hiddenCallbacks;if(pe!==null)for(j.shared.hiddenCallbacks=null,j=0;j<pe.length;j++)$1(pe[j],X)}catch(Pe){fr(f,f.return,Pe)}}c&&V&64&&eC(w),tf(w,w.return);break;case 27:sC(w);case 26:case 5:nc(j,w,c),c&&f===null&&V&4&&nC(w),tf(w,w.return);break;case 12:nc(j,w,c);break;case 13:nc(j,w,c),c&&V&4&&cC(j,w);break;case 22:w.memoizedState===null&&nc(j,w,c),tf(w,w.return);break;case 30:break;default:nc(j,w,c)}o=o.sibling}}function o0(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&$h(c))}function a0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&$h(s))}function Ea(s,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hC(s,o,c,f),o=o.sibling}function hC(s,o,c,f){var j=o.flags;switch(o.tag){case 0:case 11:case 15:Ea(s,o,c,f),j&2048&&ef(9,o);break;case 1:Ea(s,o,c,f);break;case 3:Ea(s,o,c,f),j&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&$h(s)));break;case 12:if(j&2048){Ea(s,o,c,f),s=o.stateNode;try{var w=o.memoizedProps,V=w.id,X=w.onPostCommit;typeof X=="function"&&X(V,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(pe){fr(o,o.return,pe)}}else Ea(s,o,c,f);break;case 13:Ea(s,o,c,f);break;case 23:break;case 22:w=o.stateNode,V=o.alternate,o.memoizedState!==null?w._visibility&2?Ea(s,o,c,f):nf(s,o):w._visibility&2?Ea(s,o,c,f):(w._visibility|=2,md(s,o,c,f,(o.subtreeFlags&10256)!==0)),j&2048&&o0(V,o);break;case 24:Ea(s,o,c,f),j&2048&&a0(o.alternate,o);break;default:Ea(s,o,c,f)}}function md(s,o,c,f,j){for(j=j&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,V=o,X=c,pe=f,Pe=V.flags;switch(V.tag){case 0:case 11:case 15:md(w,V,X,pe,j),ef(8,V);break;case 23:break;case 22:var We=V.stateNode;V.memoizedState!==null?We._visibility&2?md(w,V,X,pe,j):nf(w,V):(We._visibility|=2,md(w,V,X,pe,j)),j&&Pe&2048&&o0(V.alternate,V);break;case 24:md(w,V,X,pe,j),j&&Pe&2048&&a0(V.alternate,V);break;default:md(w,V,X,pe,j)}o=o.sibling}}function nf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,f=o,j=f.flags;switch(f.tag){case 22:nf(c,f),j&2048&&o0(f.alternate,f);break;case 24:nf(c,f),j&2048&&a0(f.alternate,f);break;default:nf(c,f)}o=o.sibling}}var rf=8192;function gd(s){if(s.subtreeFlags&rf)for(s=s.child;s!==null;)fC(s),s=s.sibling}function fC(s){switch(s.tag){case 26:gd(s),s.flags&rf&&s.memoizedState!==null&&yN(Xo,s.memoizedState,s.memoizedProps);break;case 5:gd(s);break;case 3:case 4:var o=Xo;Xo=Ym(s.stateNode.containerInfo),gd(s),Xo=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=rf,rf=16777216,gd(s),rf=o):gd(s));break;default:gd(s)}}function pC(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function sf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];ws=f,gC(f,s)}pC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mC(s),s=s.sibling}function mC(s){switch(s.tag){case 0:case 11:case 15:sf(s),s.flags&2048&&ec(9,s,s.return);break;case 3:sf(s);break;case 12:sf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Lm(s)):sf(s);break;default:sf(s)}}function Lm(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];ws=f,gC(f,s)}pC(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ec(8,o,o.return),Lm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Lm(o));break;default:Lm(o)}s=s.sibling}}function gC(s,o){for(;ws!==null;){var c=ws;switch(c.tag){case 0:case 11:case 15:ec(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:$h(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,ws=f;else e:for(c=s;ws!==null;){f=ws;var j=f.sibling,w=f.return;if(aC(f),f===c){ws=null;break e}if(j!==null){j.return=w,ws=j;break e}ws=w}}}var ID={getCacheForType:function(s){var o=qs(us),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},zD=typeof WeakMap=="function"?WeakMap:Map,sr=0,vr=null,An=null,On=0,ir=0,Ki=null,rc=!1,xd=!1,l0=!1,ul=0,Br=0,sc=0,lu=0,c0=0,_o=0,vd=0,of=null,Ci=null,u0=!1,d0=0,Om=1/0,Bm=null,ic=null,Ds=0,oc=null,yd=null,bd=0,h0=0,f0=null,xC=null,af=0,p0=null;function Xi(){if((sr&2)!==0&&On!==0)return On&-On;if(K.T!==null){var s=ad;return s!==0?s:j0()}return Za()}function vC(){_o===0&&(_o=(On&536870912)===0||sn?br():536870912);var s=wo.current;return s!==null&&(s.flags|=32),_o}function Qi(s,o,c){(s===vr&&(ir===2||ir===9)||s.cancelPendingCommit!==null)&&(jd(s,0),ac(s,On,_o,!1)),$s(s,c),((sr&2)===0||s!==vr)&&(s===vr&&((sr&2)===0&&(lu|=c),Br===4&&ac(s,On,_o,!1)),Ca(s))}function yC(s,o,c){if((sr&6)!==0)throw Error(i(327));var f=!c&&(o&124)===0&&(o&s.expiredLanes)===0||at(s,o),j=f?BD(s,o):x0(s,o,!0),w=f;do{if(j===0){xd&&!f&&ac(s,o,0,!1);break}else{if(c=s.current.alternate,w&&!LD(c)){j=x0(s,o,!1),w=!1;continue}if(j===2){if(w=o,s.errorRecoveryDisabledLanes&w)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){o=V;e:{var X=s;j=of;var pe=X.current.memoizedState.isDehydrated;if(pe&&(jd(X,V).flags|=256),V=x0(X,V,!1),V!==2){if(l0&&!pe){X.errorRecoveryDisabledLanes|=w,lu|=w,j=4;break e}w=Ci,Ci=j,w!==null&&(Ci===null?Ci=w:Ci.push.apply(Ci,w))}j=V}if(w=!1,j!==2)continue}}if(j===1){jd(s,0),ac(s,o,0,!0);break}e:{switch(f=s,w=j,w){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ac(f,o,_o,!rc);break e;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(j=d0+300-Ke(),10<j)){if(ac(f,o,_o,!rc),Dn(f,0,!0)!==0)break e;f.timeoutHandle=ZC(bC.bind(null,f,c,Ci,Bm,u0,o,_o,lu,vd,rc,w,2,-0,0),j);break e}bC(f,c,Ci,Bm,u0,o,_o,lu,vd,rc,w,0,-0,0)}}break}while(!0);Ca(s)}function bC(s,o,c,f,j,w,V,X,pe,Pe,We,Ye,ze,Be){if(s.timeoutHandle=-1,Ye=o.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(pf={stylesheets:null,count:0,unsuspend:vN},fC(o),Ye=bN(),Ye!==null)){s.cancelPendingCommit=Ye(TC.bind(null,s,o,w,c,f,j,V,X,pe,We,1,ze,Be)),ac(s,w,V,!Pe);return}TC(s,o,w,c,f,j,V,X,pe)}function LD(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var j=c[f],w=j.getSnapshot;j=j.value;try{if(!oi(w(),j))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ac(s,o,c,f){o&=~c0,o&=~lu,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var j=o;0<j;){var w=31-vt(j),V=1<<w;f[w]=-1,j&=~V}c!==0&&$o(s,c,o)}function $m(){return(sr&6)===0?(lf(0),!1):!0}function m0(){if(An!==null){if(ir===0)var s=An.return;else s=An,Yo=Co=null,Pv(s),fd=null,Xh=0,s=An;for(;s!==null;)JE(s.alternate,s),s=s.return;An=null}}function jd(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,tN(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),m0(),vr=s,An=c=Eo(s.current,null),On=o,ir=0,Ki=null,rc=!1,xd=at(s,o),l0=!1,vd=_o=c0=lu=sc=Br=0,Ci=of=null,u0=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var j=31-vt(f),w=1<<j;o|=s[j],f&=~w}return ul=o,Kc(),c}function jC(s,o){Sn=null,K.H=Tm,o===Vh||o===xm?(o=O1(),ir=3):o===I1?(o=O1(),ir=4):ir=o===BE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ki=o,An===null&&(Br=1,Pm(s,li(o,s.current)))}function SC(){var s=K.H;return K.H=Tm,s===null?Tm:s}function EC(){var s=K.A;return K.A=ID,s}function g0(){Br=4,rc||(On&4194048)!==On&&wo.current!==null||(xd=!0),(sc&134217727)===0&&(lu&134217727)===0||vr===null||ac(vr,On,_o,!1)}function x0(s,o,c){var f=sr;sr|=2;var j=SC(),w=EC();(vr!==s||On!==o)&&(Bm=null,jd(s,o)),o=!1;var V=Br;e:do try{if(ir!==0&&An!==null){var X=An,pe=Ki;switch(ir){case 8:m0(),V=6;break e;case 3:case 2:case 9:case 6:wo.current===null&&(o=!0);var Pe=ir;if(ir=0,Ki=null,Sd(s,X,pe,Pe),c&&xd){V=0;break e}break;default:Pe=ir,ir=0,Ki=null,Sd(s,X,pe,Pe)}}OD(),V=Br;break}catch(We){jC(s,We)}while(!0);return o&&s.shellSuspendCounter++,Yo=Co=null,sr=f,K.H=j,K.A=w,An===null&&(vr=null,On=0,Kc()),V}function OD(){for(;An!==null;)CC(An)}function BD(s,o){var c=sr;sr|=2;var f=SC(),j=EC();vr!==s||On!==o?(Bm=null,Om=Ke()+500,jd(s,o)):xd=at(s,o);e:do try{if(ir!==0&&An!==null){o=An;var w=Ki;t:switch(ir){case 1:ir=0,Ki=null,Sd(s,o,w,1);break;case 2:case 9:if(z1(w)){ir=0,Ki=null,wC(o);break}o=function(){ir!==2&&ir!==9||vr!==s||(ir=7),Ca(s)},w.then(o,o);break e;case 3:ir=7;break e;case 4:ir=5;break e;case 7:z1(w)?(ir=0,Ki=null,wC(o)):(ir=0,Ki=null,Sd(s,o,w,7));break;case 5:var V=null;switch(An.tag){case 26:V=An.memoizedState;case 5:case 27:var X=An;if(!V||ow(V)){ir=0,Ki=null;var pe=X.sibling;if(pe!==null)An=pe;else{var Pe=X.return;Pe!==null?(An=Pe,Fm(Pe)):An=null}break t}}ir=0,Ki=null,Sd(s,o,w,5);break;case 6:ir=0,Ki=null,Sd(s,o,w,6);break;case 8:m0(),Br=6;break e;default:throw Error(i(462))}}$D();break}catch(We){jC(s,We)}while(!0);return Yo=Co=null,K.H=f,K.A=j,sr=c,An!==null?0:(vr=null,On=0,Kc(),Br)}function $D(){for(;An!==null&&!qt();)CC(An)}function CC(s){var o=XE(s.alternate,s,ul);s.memoizedProps=s.pendingProps,o===null?Fm(s):An=o}function wC(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=WE(c,o,o.pendingProps,o.type,void 0,On);break;case 11:o=WE(c,o,o.pendingProps,o.type.render,o.ref,On);break;case 5:Pv(o);default:JE(c,o),o=An=Oh(o,ul),o=XE(c,o,ul)}s.memoizedProps=s.pendingProps,o===null?Fm(s):An=o}function Sd(s,o,c,f){Yo=Co=null,Pv(o),fd=null,Xh=0;var j=o.return;try{if(RD(s,j,o,c,On)){Br=1,Pm(s,li(c,s.current)),An=null;return}}catch(w){if(j!==null)throw An=j,w;Br=1,Pm(s,li(c,s.current)),An=null;return}o.flags&32768?(sn||f===1?s=!0:xd||(On&536870912)!==0?s=!1:(rc=s=!0,(f===2||f===9||f===3||f===6)&&(f=wo.current,f!==null&&f.tag===13&&(f.flags|=16384))),_C(o,s)):Fm(o)}function Fm(s){var o=s;do{if((o.flags&32768)!==0){_C(o,rc);return}s=o.return;var c=MD(o.alternate,o,ul);if(c!==null){An=c;return}if(o=o.sibling,o!==null){An=o;return}An=o=s}while(o!==null);Br===0&&(Br=5)}function _C(s,o){do{var c=PD(s.alternate,s);if(c!==null){c.flags&=32767,An=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){An=s;return}An=s=c}while(s!==null);Br=6,An=null}function TC(s,o,c,f,j,w,V,X,pe){s.cancelPendingCommit=null;do Vm();while(Ds!==0);if((sr&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(w=o.lanes|o.childLanes,w|=Gi,Ts(s,c,w,V,X,pe),s===vr&&(An=vr=null,On=0),yd=o,oc=s,bd=c,h0=w,f0=j,xC=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,HD(st,function(){return PC(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,j=W.p,W.p=2,V=sr,sr|=4;try{DD(s,o,c)}finally{sr=V,W.p=j,K.T=f}}Ds=1,AC(),RC(),kC()}}function AC(){if(Ds===1){Ds=0;var s=oc,o=yd,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var f=W.p;W.p=2;var j=sr;sr|=4;try{uC(o,s);var w=R0,V=Gc(s.containerInfo),X=w.focusedElem,pe=w.selectionRange;if(V!==X&&X&&X.ownerDocument&&Ju(X.ownerDocument.documentElement,X)){if(pe!==null&&Zc(X)){var Pe=pe.start,We=pe.end;if(We===void 0&&(We=Pe),"selectionStart"in X)X.selectionStart=Pe,X.selectionEnd=Math.min(We,X.value.length);else{var Ye=X.ownerDocument||document,ze=Ye&&Ye.defaultView||window;if(ze.getSelection){var Be=ze.getSelection(),tn=X.textContent.length,Xt=Math.min(pe.start,tn),ur=pe.end===void 0?Xt:Math.min(pe.end,tn);!Be.extend&&Xt>ur&&(V=ur,ur=Xt,Xt=V);var _e=zh(X,Xt),je=zh(X,ur);if(_e&&je&&(Be.rangeCount!==1||Be.anchorNode!==_e.node||Be.anchorOffset!==_e.offset||Be.focusNode!==je.node||Be.focusOffset!==je.offset)){var Me=Ye.createRange();Me.setStart(_e.node,_e.offset),Be.removeAllRanges(),Xt>ur?(Be.addRange(Me),Be.extend(je.node,je.offset)):(Me.setEnd(je.node,je.offset),Be.addRange(Me))}}}}for(Ye=[],Be=X;Be=Be.parentNode;)Be.nodeType===1&&Ye.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Ye.length;X++){var qe=Ye[X];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}eg=!!A0,R0=A0=null}finally{sr=j,W.p=f,K.T=c}}s.current=o,Ds=2}}function RC(){if(Ds===2){Ds=0;var s=oc,o=yd,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var f=W.p;W.p=2;var j=sr;sr|=4;try{oC(s,o.alternate,o)}finally{sr=j,W.p=f,K.T=c}}Ds=3}}function kC(){if(Ds===4||Ds===3){Ds=0,Se();var s=oc,o=yd,c=bd,f=xC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ds=5:(Ds=0,yd=oc=null,MC(s,s.pendingLanes));var j=s.pendingLanes;if(j===0&&(ic=null),Pi(c),o=o.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(it,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=K.T,j=W.p,W.p=2,K.T=null;try{for(var w=s.onRecoverableError,V=0;V<f.length;V++){var X=f[V];w(X.value,{componentStack:X.stack})}}finally{K.T=o,W.p=j}}(bd&3)!==0&&Vm(),Ca(s),j=s.pendingLanes,(c&4194090)!==0&&(j&42)!==0?s===p0?af++:(af=0,p0=s):af=0,lf(0)}}function MC(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,$h(o)))}function Vm(s){return AC(),RC(),kC(),PC()}function PC(){if(Ds!==5)return!1;var s=oc,o=h0;h0=0;var c=Pi(bd),f=K.T,j=W.p;try{W.p=32>c?32:c,K.T=null,c=f0,f0=null;var w=oc,V=bd;if(Ds=0,yd=oc=null,bd=0,(sr&6)!==0)throw Error(i(331));var X=sr;if(sr|=4,mC(w.current),hC(w,w.current,V,c),sr=X,lf(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(it,w)}catch{}return!0}finally{W.p=j,K.T=f,MC(s,o)}}function DC(s,o,c){o=li(c,o),o=qv(s.stateNode,o,2),s=Kl(s,o,2),s!==null&&($s(s,2),Ca(s))}function fr(s,o,c){if(s.tag===3)DC(s,s,c);else for(;o!==null;){if(o.tag===3){DC(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ic===null||!ic.has(f))){s=li(c,s),c=LE(2),f=Kl(o,c,2),f!==null&&(OE(c,f,o,s),$s(f,2),Ca(f));break}}o=o.return}}function v0(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new zD;var j=new Set;f.set(o,j)}else j=f.get(o),j===void 0&&(j=new Set,f.set(o,j));j.has(c)||(l0=!0,j.add(c),s=FD.bind(null,s,o,c),o.then(s,s))}function FD(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,vr===s&&(On&c)===c&&(Br===4||Br===3&&(On&62914560)===On&&300>Ke()-d0?(sr&2)===0&&jd(s,0):c0|=c,vd===On&&(vd=0)),Ca(s)}function NC(s,o){o===0&&(o=Xr()),s=Hl(s,o),s!==null&&($s(s,o),Ca(s))}function VD(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),NC(s,c)}function UD(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,j=s.memoizedState;j!==null&&(c=j.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),NC(s,c)}function HD(s,o){return zt(s,o)}var Um=null,Ed=null,y0=!1,Hm=!1,b0=!1,cu=0;function Ca(s){s!==Ed&&s.next===null&&(Ed===null?Um=Ed=s:Ed=Ed.next=s),Hm=!0,y0||(y0=!0,qD())}function lf(s,o){if(!b0&&Hm){b0=!0;do for(var c=!1,f=Um;f!==null;){if(s!==0){var j=f.pendingLanes;if(j===0)var w=0;else{var V=f.suspendedLanes,X=f.pingedLanes;w=(1<<31-vt(42|s)+1)-1,w&=j&~(V&~X),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,OC(f,w))}else w=On,w=Dn(f,f===vr?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||at(f,w)||(c=!0,OC(f,w));f=f.next}while(c);b0=!1}}function WD(){IC()}function IC(){Hm=y0=!1;var s=0;cu!==0&&(eN()&&(s=cu),cu=0);for(var o=Ke(),c=null,f=Um;f!==null;){var j=f.next,w=zC(f,o);w===0?(f.next=null,c===null?Um=j:c.next=j,j===null&&(Ed=c)):(c=f,(s!==0||(w&3)!==0)&&(Hm=!0)),f=j}lf(s)}function zC(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,j=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var V=31-vt(w),X=1<<V,pe=j[V];pe===-1?((X&c)===0||(X&f)!==0)&&(j[V]=Ln(X,o)):pe<=o&&(s.expiredLanes|=X),w&=~X}if(o=vr,c=On,c=Dn(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,c===0||s===o&&(ir===2||ir===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Ue(f),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||at(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(f!==null&&Ue(f),Pi(c)){case 2:case 8:c=ve;break;case 32:c=st;break;case 268435456:c=Mn;break;default:c=st}return f=LC.bind(null,s),c=zt(c,f),s.callbackPriority=o,s.callbackNode=c,o}return f!==null&&f!==null&&Ue(f),s.callbackPriority=2,s.callbackNode=null,2}function LC(s,o){if(Ds!==0&&Ds!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Vm()&&s.callbackNode!==c)return null;var f=On;return f=Dn(s,s===vr?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(yC(s,f,o),zC(s,Ke()),s.callbackNode!=null&&s.callbackNode===c?LC.bind(null,s):null)}function OC(s,o){if(Vm())return null;yC(s,o,!0)}function qD(){nN(function(){(sr&6)!==0?zt(le,WD):IC()})}function j0(){return cu===0&&(cu=br()),cu}function BC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vo(""+s)}function $C(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function GD(s,o,c,f,j){if(o==="submit"&&c&&c.stateNode===j){var w=BC((j[Qr]||null).action),V=f.submitter;V&&(o=(o=V[Qr]||null)?BC(o.formAction):V.getAttribute("formAction"),o!==null&&(w=o,V=null));var X=new Oe("action","action",null,f,j);s.push({event:X,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(cu!==0){var pe=V?$C(j,V):new FormData(j);Fv(c,{pending:!0,data:pe,method:j.method,action:w},null,pe)}}else typeof w=="function"&&(X.preventDefault(),pe=V?$C(j,V):new FormData(j),Fv(c,{pending:!0,data:pe,method:j.method,action:w},w,pe))},currentTarget:j}]})}}for(var S0=0;S0<Ja.length;S0++){var E0=Ja[S0],ZD=E0.toLowerCase(),YD=E0[0].toUpperCase()+E0.slice(1);qi(ZD,"on"+YD)}qi(lm,"onAnimationEnd"),qi(Wi,"onAnimationIteration"),qi(Yc,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(gv,"onTransitionRun"),qi(rd,"onTransitionStart"),qi(xv,"onTransitionCancel"),qi(Lh,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cf));function FC(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],j=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var V=f.length-1;0<=V;V--){var X=f[V],pe=X.instance,Pe=X.currentTarget;if(X=X.listener,pe!==w&&j.isPropagationStopped())break e;w=X,j.currentTarget=Pe;try{w(j)}catch(We){Mm(We)}j.currentTarget=null,w=pe}else for(V=0;V<f.length;V++){if(X=f[V],pe=X.instance,Pe=X.currentTarget,X=X.listener,pe!==w&&j.isPropagationStopped())break e;w=X,j.currentTarget=Pe;try{w(j)}catch(We){Mm(We)}j.currentTarget=null,w=pe}}}}function Rn(s,o){var c=o[Jr];c===void 0&&(c=o[Jr]=new Set);var f=s+"__bubble";c.has(f)||(VC(o,s,2,!1),c.add(f))}function C0(s,o,c){var f=0;o&&(f|=4),VC(c,s,f,o)}var Wm="_reactListening"+Math.random().toString(36).slice(2);function w0(s){if(!s[Wm]){s[Wm]=!0,da.forEach(function(c){c!=="selectionchange"&&(KD.has(c)||C0(c,!1,s),C0(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Wm]||(o[Wm]=!0,C0("selectionchange",!1,o))}}function VC(s,o,c,f){switch(hw(o)){case 2:var j=EN;break;case 8:j=CN;break;default:j=B0}c=j.bind(null,o,c,s),j=void 0,!ri||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(j=!0),f?j!==void 0?s.addEventListener(o,c,{capture:!0,passive:j}):s.addEventListener(o,c,!0):j!==void 0?s.addEventListener(o,c,{passive:j}):s.addEventListener(o,c,!1)}function _0(s,o,c,f,j){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var V=f.tag;if(V===3||V===4){var X=f.stateNode.containerInfo;if(X===j)break;if(V===4)for(V=f.return;V!==null;){var pe=V.tag;if((pe===3||pe===4)&&V.stateNode.containerInfo===j)return;V=V.return}for(;X!==null;){if(V=Fs(X),V===null)return;if(pe=V.tag,pe===5||pe===6||pe===26||pe===27){f=w=V;continue e}X=X.parentNode}}f=f.return}Ir(function(){var Pe=w,We=bs(c),Ye=[];e:{var ze=cm.get(s);if(ze!==void 0){var Be=Oe,tn=s;switch(s){case"keypress":if(gr(c)===0)break e;case"keydown":case"keyup":Be=Yu;break;case"focusin":tn="focus",Be=Wo;break;case"focusout":tn="blur",Be=Wo;break;case"beforeblur":case"afterblur":Be=Wo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Mh;break;case lm:case Wi:case Yc:Be=Th;break;case Lh:Be=Ph;break;case"scroll":case"scrollend":Be=gn;break;case"wheel":Be=Xu;break;case"copy":case"cut":case"paste":Be=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=jo;break;case"toggle":case"beforetoggle":Be=I}var Xt=(o&4)!==0,ur=!Xt&&(s==="scroll"||s==="scrollend"),_e=Xt?ze!==null?ze+"Capture":null:ze;Xt=[];for(var je=Pe,Me;je!==null;){var qe=je;if(Me=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Me===null||_e===null||(qe=En(je,_e),qe!=null&&Xt.push(uf(je,qe,Me))),ur)break;je=je.return}0<Xt.length&&(ze=new Be(ze,tn,null,c,We),Ye.push({event:ze,listeners:Xt}))}}if((o&7)===0){e:{if(ze=s==="mouseover"||s==="pointerover",Be=s==="mouseout"||s==="pointerout",ze&&c!==cs&&(tn=c.relatedTarget||c.fromElement)&&(Fs(tn)||tn[co]))break e;if((Be||ze)&&(ze=We.window===We?We:(ze=We.ownerDocument)?ze.defaultView||ze.parentWindow:window,Be?(tn=c.relatedTarget||c.toElement,Be=Pe,tn=tn?Fs(tn):null,tn!==null&&(ur=u(tn),Xt=tn.tag,tn!==ur||Xt!==5&&Xt!==27&&Xt!==6)&&(tn=null)):(Be=null,tn=Pe),Be!==tn)){if(Xt=Lr,qe="onMouseLeave",_e="onMouseEnter",je="mouse",(s==="pointerout"||s==="pointerover")&&(Xt=jo,qe="onPointerLeave",_e="onPointerEnter",je="pointer"),ur=Be==null?ze:vs(Be),Me=tn==null?ze:vs(tn),ze=new Xt(qe,je+"leave",Be,c,We),ze.target=ur,ze.relatedTarget=Me,qe=null,Fs(We)===Pe&&(Xt=new Xt(_e,je+"enter",tn,c,We),Xt.target=Me,Xt.relatedTarget=ur,qe=Xt),ur=qe,Be&&tn)t:{for(Xt=Be,_e=tn,je=0,Me=Xt;Me;Me=Cd(Me))je++;for(Me=0,qe=_e;qe;qe=Cd(qe))Me++;for(;0<je-Me;)Xt=Cd(Xt),je--;for(;0<Me-je;)_e=Cd(_e),Me--;for(;je--;){if(Xt===_e||_e!==null&&Xt===_e.alternate)break t;Xt=Cd(Xt),_e=Cd(_e)}Xt=null}else Xt=null;Be!==null&&UC(Ye,ze,Be,Xt,!1),tn!==null&&ur!==null&&UC(Ye,ur,tn,Xt,!0)}}e:{if(ze=Pe?vs(Pe):window,Be=ze.nodeName&&ze.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ze.type==="file")var Rt=Ol;else if(qo(ze))if(Dh)Rt=mv;else{Rt=pv;var Cn=Ih}else Be=ze.nodeName,!Be||Be.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Pe&&ni(Pe.elementType)&&(Rt=Ol):Rt=Zo;if(Rt&&(Rt=Rt(s,Pe))){sm(Ye,Rt,c,We);break e}Cn&&Cn(s,ze,Pe),s==="focusout"&&Pe&&ze.type==="number"&&Pe.memoizedProps.value!=null&&Oi(ze,"number",ze.value)}switch(Cn=Pe?vs(Pe):window,s){case"focusin":(qo(Cn)||Cn.contentEditable==="true")&&(Hi=Cn,Fl=Pe,Qa=null);break;case"focusout":Qa=Fl=Hi=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,om(Ye,c,We);break;case"selectionchange":if(ed)break;case"keydown":case"keyup":om(Ye,c,We)}var $t;if(Je)e:{switch(s){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else In?Wr(s,c)&&(Qt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Qt="onCompositionStart");Qt&&(rn&&c.locale!=="ko"&&(In||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&In&&($t=Vi()):(Rs=We,ks="value"in Rs?Rs.value:Rs.textContent,In=!0)),Cn=qm(Pe,Qt),0<Cn.length&&(Qt=new si(Qt,s,null,c,We),Ye.push({event:Qt,listeners:Cn}),$t?Qt.data=$t:($t=Ui(c),$t!==null&&(Qt.data=$t)))),($t=Nn?Or(s,c):Uc(s,c))&&(Qt=qm(Pe,"onBeforeInput"),0<Qt.length&&(Cn=new si("onBeforeInput","beforeinput",null,c,We),Ye.push({event:Cn,listeners:Qt}),Cn.data=$t)),GD(Ye,s,Pe,c,We)}FC(Ye,o)})}function uf(s,o,c){return{instance:s,listener:o,currentTarget:c}}function qm(s,o){for(var c=o+"Capture",f=[];s!==null;){var j=s,w=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||w===null||(j=En(s,c),j!=null&&f.unshift(uf(s,j,w)),j=En(s,o),j!=null&&f.push(uf(s,j,w))),s.tag===3)return f;s=s.return}return[]}function Cd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function UC(s,o,c,f,j){for(var w=o._reactName,V=[];c!==null&&c!==f;){var X=c,pe=X.alternate,Pe=X.stateNode;if(X=X.tag,pe!==null&&pe===f)break;X!==5&&X!==26&&X!==27||Pe===null||(pe=Pe,j?(Pe=En(c,w),Pe!=null&&V.unshift(uf(c,Pe,pe))):j||(Pe=En(c,w),Pe!=null&&V.push(uf(c,Pe,pe)))),c=c.return}V.length!==0&&s.push({event:o,listeners:V})}var XD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function HC(s){return(typeof s=="string"?s:""+s).replace(XD,`
`).replace(QD,"")}function WC(s,o){return o=HC(o),HC(s)===o}function Gm(){}function cr(s,o,c,f,j,w){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Nr(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Nr(s,""+f);break;case"className":Vo(s,"class",f);break;case"tabIndex":Vo(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Vo(s,c,f);break;case"style":Bi(s,f,w);break;case"data":if(o!=="object"){Vo(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=vo(""+f),s.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&cr(s,o,"name",j.name,j,null),cr(s,o,"formEncType",j.formEncType,j,null),cr(s,o,"formMethod",j.formMethod,j,null),cr(s,o,"formTarget",j.formTarget,j,null)):(cr(s,o,"encType",j.encType,j,null),cr(s,o,"method",j.method,j,null),cr(s,o,"target",j.target,j,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=vo(""+f),s.setAttribute(c,f);break;case"onClick":f!=null&&(s.onclick=Gm);break;case"onScroll":f!=null&&Rn("scroll",s);break;case"onScrollEnd":f!=null&&Rn("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(j.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}c=vo(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""+f):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":f===!0?s.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,f):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(c,f):s.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(c):s.setAttribute(c,f);break;case"popover":Rn("beforetoggle",s),Rn("toggle",s),ti(s,"popover",f);break;case"xlinkActuate":Us(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Us(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Us(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Us(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Us(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Us(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Us(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Us(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Us(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ti(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=pa.get(c)||c,ti(s,c,f))}}function T0(s,o,c,f,j,w){switch(c){case"style":Bi(s,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(j.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof f=="string"?Nr(s,f):(typeof f=="number"||typeof f=="bigint")&&Nr(s,""+f);break;case"onScroll":f!=null&&Rn("scroll",s);break;case"onScrollEnd":f!=null&&Rn("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Gm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(j=c.endsWith("Capture"),o=c.slice(2,j?c.length-7:void 0),w=s[Qr]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(o,w,j),typeof f=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,f,j);break e}c in s?s[c]=f:f===!0?s.setAttribute(c,""):ti(s,c,f)}}}function Ns(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rn("error",s),Rn("load",s);var f=!1,j=!1,w;for(w in c)if(c.hasOwnProperty(w)){var V=c[w];if(V!=null)switch(w){case"src":f=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:cr(s,o,w,V,c,null)}}j&&cr(s,o,"srcSet",c.srcSet,c,null),f&&cr(s,o,"src",c.src,c,null);return;case"input":Rn("invalid",s);var X=w=V=j=null,pe=null,Pe=null;for(f in c)if(c.hasOwnProperty(f)){var We=c[f];if(We!=null)switch(f){case"name":j=We;break;case"type":V=We;break;case"checked":pe=We;break;case"defaultChecked":Pe=We;break;case"value":w=We;break;case"defaultValue":X=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,o));break;default:cr(s,o,f,We,c,null)}}Oc(s,w,X,pe,Pe,V,j,!1),mo(s);return;case"select":Rn("invalid",s),f=V=w=null;for(j in c)if(c.hasOwnProperty(j)&&(X=c[j],X!=null))switch(j){case"value":w=X;break;case"defaultValue":V=X;break;case"multiple":f=X;default:cr(s,o,j,X,c,null)}o=w,c=V,s.multiple=!!f,o!=null?ys(s,!!f,o,!1):c!=null&&ys(s,!!f,c,!0);return;case"textarea":Rn("invalid",s),w=j=f=null;for(V in c)if(c.hasOwnProperty(V)&&(X=c[V],X!=null))switch(V){case"value":f=X;break;case"defaultValue":j=X;break;case"children":w=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:cr(s,o,V,X,c,null)}wr(s,f,j,w),mo(s);return;case"option":for(pe in c)if(c.hasOwnProperty(pe)&&(f=c[pe],f!=null))switch(pe){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:cr(s,o,pe,f,c,null)}return;case"dialog":Rn("beforetoggle",s),Rn("toggle",s),Rn("cancel",s),Rn("close",s);break;case"iframe":case"object":Rn("load",s);break;case"video":case"audio":for(f=0;f<cf.length;f++)Rn(cf[f],s);break;case"image":Rn("error",s),Rn("load",s);break;case"details":Rn("toggle",s);break;case"embed":case"source":case"link":Rn("error",s),Rn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in c)if(c.hasOwnProperty(Pe)&&(f=c[Pe],f!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:cr(s,o,Pe,f,c,null)}return;default:if(ni(o)){for(We in c)c.hasOwnProperty(We)&&(f=c[We],f!==void 0&&T0(s,o,We,f,c,void 0));return}}for(X in c)c.hasOwnProperty(X)&&(f=c[X],f!=null&&cr(s,o,X,f,c,null))}function JD(s,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,w=null,V=null,X=null,pe=null,Pe=null,We=null;for(Be in c){var Ye=c[Be];if(c.hasOwnProperty(Be)&&Ye!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":pe=Ye;default:f.hasOwnProperty(Be)||cr(s,o,Be,null,f,Ye)}}for(var ze in f){var Be=f[ze];if(Ye=c[ze],f.hasOwnProperty(ze)&&(Be!=null||Ye!=null))switch(ze){case"type":w=Be;break;case"name":j=Be;break;case"checked":Pe=Be;break;case"defaultChecked":We=Be;break;case"value":V=Be;break;case"defaultValue":X=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,o));break;default:Be!==Ye&&cr(s,o,ze,Be,f,Ye)}}Hr(s,V,X,pe,Pe,We,w,j);return;case"select":Be=V=X=ze=null;for(w in c)if(pe=c[w],c.hasOwnProperty(w)&&pe!=null)switch(w){case"value":break;case"multiple":Be=pe;default:f.hasOwnProperty(w)||cr(s,o,w,null,f,pe)}for(j in f)if(w=f[j],pe=c[j],f.hasOwnProperty(j)&&(w!=null||pe!=null))switch(j){case"value":ze=w;break;case"defaultValue":X=w;break;case"multiple":V=w;default:w!==pe&&cr(s,o,j,w,f,pe)}o=X,c=V,f=Be,ze!=null?ys(s,!!c,ze,!1):!!f!=!!c&&(o!=null?ys(s,!!c,o,!0):ys(s,!!c,c?[]:"",!1));return;case"textarea":Be=ze=null;for(X in c)if(j=c[X],c.hasOwnProperty(X)&&j!=null&&!f.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:cr(s,o,X,null,f,j)}for(V in f)if(j=f[V],w=c[V],f.hasOwnProperty(V)&&(j!=null||w!=null))switch(V){case"value":ze=j;break;case"defaultValue":Be=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:j!==w&&cr(s,o,V,j,f,w)}Vt(s,ze,Be);return;case"option":for(var tn in c)if(ze=c[tn],c.hasOwnProperty(tn)&&ze!=null&&!f.hasOwnProperty(tn))switch(tn){case"selected":s.selected=!1;break;default:cr(s,o,tn,null,f,ze)}for(pe in f)if(ze=f[pe],Be=c[pe],f.hasOwnProperty(pe)&&ze!==Be&&(ze!=null||Be!=null))switch(pe){case"selected":s.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:cr(s,o,pe,ze,f,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in c)ze=c[Xt],c.hasOwnProperty(Xt)&&ze!=null&&!f.hasOwnProperty(Xt)&&cr(s,o,Xt,null,f,ze);for(Pe in f)if(ze=f[Pe],Be=c[Pe],f.hasOwnProperty(Pe)&&ze!==Be&&(ze!=null||Be!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,o));break;default:cr(s,o,Pe,ze,f,Be)}return;default:if(ni(o)){for(var ur in c)ze=c[ur],c.hasOwnProperty(ur)&&ze!==void 0&&!f.hasOwnProperty(ur)&&T0(s,o,ur,void 0,f,ze);for(We in f)ze=f[We],Be=c[We],!f.hasOwnProperty(We)||ze===Be||ze===void 0&&Be===void 0||T0(s,o,We,ze,f,Be);return}}for(var _e in c)ze=c[_e],c.hasOwnProperty(_e)&&ze!=null&&!f.hasOwnProperty(_e)&&cr(s,o,_e,null,f,ze);for(Ye in f)ze=f[Ye],Be=c[Ye],!f.hasOwnProperty(Ye)||ze===Be||ze==null&&Be==null||cr(s,o,Ye,ze,f,Be)}var A0=null,R0=null;function Zm(s){return s.nodeType===9?s:s.ownerDocument}function qC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GC(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function k0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var M0=null;function eN(){var s=window.event;return s&&s.type==="popstate"?s===M0?!1:(M0=s,!0):(M0=null,!1)}var ZC=typeof setTimeout=="function"?setTimeout:void 0,tN=typeof clearTimeout=="function"?clearTimeout:void 0,YC=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof YC<"u"?function(s){return YC.resolve(null).then(s).catch(rN)}:ZC;function rN(s){setTimeout(function(){throw s})}function lc(s){return s==="head"}function KC(s,o){var c=o,f=0,j=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<f&&8>f){c=f;var V=s.ownerDocument;if(c&1&&df(V.documentElement),c&2&&df(V.body),c&4)for(c=V.head,df(c),V=c.firstChild;V;){var X=V.nextSibling,pe=V.nodeName;V[uo]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&V.rel.toLowerCase()==="stylesheet"||c.removeChild(V),V=X}}if(j===0){s.removeChild(w),yf(o);return}j--}else c==="$"||c==="$?"||c==="$!"?j++:f=c.charCodeAt(0)-48;else f=0;c=w}while(c);yf(o)}function P0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":P0(c),ho(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function sN(s,o,c,f){for(;s.nodeType===1;){var j=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[uo])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==j.rel||s.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||s.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||s.getAttribute("title")!==(j.title==null?null:j.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(j.src==null?null:j.src)||s.getAttribute("type")!==(j.type==null?null:j.type)||s.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=j.name==null?null:""+j.name;if(j.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Qo(s.nextSibling),s===null)break}return null}function iN(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Qo(s.nextSibling),s===null))return null;return s}function D0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function oN(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Qo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var N0=null;function XC(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function QC(s,o,c){switch(o=Zm(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function df(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ho(s)}var To=new Map,JC=new Set;function Ym(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var dl=W.d;W.d={f:aN,r:lN,D:cN,C:uN,L:dN,m:hN,X:pN,S:fN,M:mN};function aN(){var s=dl.f(),o=$m();return s||o}function lN(s){var o=ls(s);o!==null&&o.tag===5&&o.type==="form"?yE(o):dl.r(s)}var wd=typeof document>"u"?null:document;function ew(s,o,c){var f=wd;if(f&&typeof o=="string"&&o){var j=kr(o);j='link[rel="'+s+'"][href="'+j+'"]',typeof c=="string"&&(j+='[crossorigin="'+c+'"]'),JC.has(j)||(JC.add(j),s={rel:s,crossOrigin:c,href:o},f.querySelector(j)===null&&(o=f.createElement("link"),Ns(o,"link",s),Cr(o),f.head.appendChild(o)))}}function cN(s){dl.D(s),ew("dns-prefetch",s,null)}function uN(s,o){dl.C(s,o),ew("preconnect",s,o)}function dN(s,o,c){dl.L(s,o,c);var f=wd;if(f&&s&&o){var j='link[rel="preload"][as="'+kr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(j+='[imagesrcset="'+kr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(j+='[imagesizes="'+kr(c.imageSizes)+'"]')):j+='[href="'+kr(s)+'"]';var w=j;switch(o){case"style":w=_d(s);break;case"script":w=Td(s)}To.has(w)||(s=x({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),To.set(w,s),f.querySelector(j)!==null||o==="style"&&f.querySelector(hf(w))||o==="script"&&f.querySelector(ff(w))||(o=f.createElement("link"),Ns(o,"link",s),Cr(o),f.head.appendChild(o)))}}function hN(s,o){dl.m(s,o);var c=wd;if(c&&s){var f=o&&typeof o.as=="string"?o.as:"script",j='link[rel="modulepreload"][as="'+kr(f)+'"][href="'+kr(s)+'"]',w=j;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Td(s)}if(!To.has(w)&&(s=x({rel:"modulepreload",href:s},o),To.set(w,s),c.querySelector(j)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ff(w)))return}f=c.createElement("link"),Ns(f,"link",s),Cr(f),c.head.appendChild(f)}}}function fN(s,o,c){dl.S(s,o,c);var f=wd;if(f&&s){var j=Js(f).hoistableStyles,w=_d(s);o=o||"default";var V=j.get(w);if(!V){var X={loading:0,preload:null};if(V=f.querySelector(hf(w)))X.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},c),(c=To.get(w))&&I0(s,c);var pe=V=f.createElement("link");Cr(pe),Ns(pe,"link",s),pe._p=new Promise(function(Pe,We){pe.onload=Pe,pe.onerror=We}),pe.addEventListener("load",function(){X.loading|=1}),pe.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Km(V,o,f)}V={type:"stylesheet",instance:V,count:1,state:X},j.set(w,V)}}}function pN(s,o){dl.X(s,o);var c=wd;if(c&&s){var f=Js(c).hoistableScripts,j=Td(s),w=f.get(j);w||(w=c.querySelector(ff(j)),w||(s=x({src:s,async:!0},o),(o=To.get(j))&&z0(s,o),w=c.createElement("script"),Cr(w),Ns(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(j,w))}}function mN(s,o){dl.M(s,o);var c=wd;if(c&&s){var f=Js(c).hoistableScripts,j=Td(s),w=f.get(j);w||(w=c.querySelector(ff(j)),w||(s=x({src:s,async:!0,type:"module"},o),(o=To.get(j))&&z0(s,o),w=c.createElement("script"),Cr(w),Ns(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(j,w))}}function tw(s,o,c,f){var j=(j=Y.current)?Ym(j):null;if(!j)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=_d(c.href),c=Js(j).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=_d(c.href);var w=Js(j).hoistableStyles,V=w.get(s);if(V||(j=j.ownerDocument||j,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,V),(w=j.querySelector(hf(s)))&&!w._p&&(V.instance=w,V.state.loading=5),To.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},To.set(s,c),w||gN(j,s,c,V.state))),o&&f===null)throw Error(i(528,""));return V}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Td(c),c=Js(j).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function _d(s){return'href="'+kr(s)+'"'}function hf(s){return'link[rel="stylesheet"]['+s+"]"}function nw(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function gN(s,o,c,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Ns(o,"link",c),Cr(o),s.head.appendChild(o))}function Td(s){return'[src="'+kr(s)+'"]'}function ff(s){return"script[async]"+s}function rw(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+kr(c.href)+'"]');if(f)return o.instance=f,Cr(f),f;var j=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Cr(f),Ns(f,"style",j),Km(f,c.precedence,s),o.instance=f;case"stylesheet":j=_d(c.href);var w=s.querySelector(hf(j));if(w)return o.state.loading|=4,o.instance=w,Cr(w),w;f=nw(c),(j=To.get(j))&&I0(f,j),w=(s.ownerDocument||s).createElement("link"),Cr(w);var V=w;return V._p=new Promise(function(X,pe){V.onload=X,V.onerror=pe}),Ns(w,"link",f),o.state.loading|=4,Km(w,c.precedence,s),o.instance=w;case"script":return w=Td(c.src),(j=s.querySelector(ff(w)))?(o.instance=j,Cr(j),j):(f=c,(j=To.get(w))&&(f=x({},c),z0(f,j)),s=s.ownerDocument||s,j=s.createElement("script"),Cr(j),Ns(j,"link",f),s.head.appendChild(j),o.instance=j);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Km(f,c.precedence,s));return o.instance}function Km(s,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=f.length?f[f.length-1]:null,w=j,V=0;V<f.length;V++){var X=f[V];if(X.dataset.precedence===o)w=X;else if(w!==j)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function I0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function z0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Xm=null;function sw(s,o,c){if(Xm===null){var f=new Map,j=Xm=new Map;j.set(c,f)}else j=Xm,f=j.get(c),f||(f=new Map,j.set(c,f));if(f.has(s))return f;for(f.set(s,null),c=c.getElementsByTagName(s),j=0;j<c.length;j++){var w=c[j];if(!(w[uo]||w[Rr]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var V=w.getAttribute(o)||"";V=s+V;var X=f.get(V);X?X.push(w):f.set(V,[w])}}return f}function iw(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function xN(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ow(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var pf=null;function vN(){}function yN(s,o,c){if(pf===null)throw Error(i(475));var f=pf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var j=_d(c.href),w=s.querySelector(hf(j));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Qm.bind(f),s.then(f,f)),o.state.loading|=4,o.instance=w,Cr(w);return}w=s.ownerDocument||s,c=nw(c),(j=To.get(j))&&I0(c,j),w=w.createElement("link"),Cr(w);var V=w;V._p=new Promise(function(X,pe){V.onload=X,V.onerror=pe}),Ns(w,"link",c),o.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Qm.bind(f),s.addEventListener("load",o),s.addEventListener("error",o))}}function bN(){if(pf===null)throw Error(i(475));var s=pf;return s.stylesheets&&s.count===0&&L0(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&L0(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Qm(){if(this.count--,this.count===0){if(this.stylesheets)L0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Jm=null;function L0(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Jm=new Map,o.forEach(jN,s),Jm=null,Qm.call(s))}function jN(s,o){if(!(o.state.loading&4)){var c=Jm.get(s);if(c)var f=c.get(null);else{c=new Map,Jm.set(s,c);for(var j=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<j.length;w++){var V=j[w];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(c.set(V.dataset.precedence,V),f=V)}f&&c.set(null,f)}j=o.instance,V=j.getAttribute("data-precedence"),w=c.get(V)||f,w===f&&c.set(null,j),c.set(V,j),this.count++,f=Qm.bind(this),j.addEventListener("load",f),j.addEventListener("error",f),w?w.parentNode.insertBefore(j,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(j,s.firstChild)),o.state.loading|=4}}var mf={$$typeof:R,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function SN(s,o,c,f,j,w,V,X){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=f,this.onUncaughtError=j,this.onCaughtError=w,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function aw(s,o,c,f,j,w,V,X,pe,Pe,We,Ye){return s=new SN(s,o,c,V,X,pe,Pe,Ye),o=1,w===!0&&(o|=24),w=ui(3,null,null,o),s.current=w,w.stateNode=s,o=vv(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:f,isDehydrated:c,cache:o},Sv(w),s}function lw(s){return s?(s=nl,s):nl}function cw(s,o,c,f,j,w){j=lw(j),f.context===null?f.context=j:f.pendingContext=j,f=Yl(o),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),c=Kl(s,f,o),c!==null&&(Qi(c,s,o),Hh(c,s,o))}function uw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function O0(s,o){uw(s,o),(s=s.alternate)&&uw(s,o)}function dw(s){if(s.tag===13){var o=Hl(s,67108864);o!==null&&Qi(o,s,67108864),O0(s,67108864)}}var eg=!0;function EN(s,o,c,f){var j=K.T;K.T=null;var w=W.p;try{W.p=2,B0(s,o,c,f)}finally{W.p=w,K.T=j}}function CN(s,o,c,f){var j=K.T;K.T=null;var w=W.p;try{W.p=8,B0(s,o,c,f)}finally{W.p=w,K.T=j}}function B0(s,o,c,f){if(eg){var j=$0(f);if(j===null)_0(s,o,f,tg,c),fw(s,f);else if(_N(j,s,o,c,f))f.stopPropagation();else if(fw(s,f),o&4&&-1<wN.indexOf(s)){for(;j!==null;){var w=ls(j);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var V=en(w.pendingLanes);if(V!==0){var X=w;for(X.pendingLanes|=2,X.entangledLanes|=2;V;){var pe=1<<31-vt(V);X.entanglements[1]|=pe,V&=~pe}Ca(w),(sr&6)===0&&(Om=Ke()+500,lf(0))}}break;case 13:X=Hl(w,2),X!==null&&Qi(X,w,2),$m(),O0(w,2)}if(w=$0(f),w===null&&_0(s,o,f,tg,c),w===j)break;j=w}j!==null&&f.stopPropagation()}else _0(s,o,f,null,c)}}function $0(s){return s=bs(s),F0(s)}var tg=null;function F0(s){if(tg=null,s=Fs(s),s!==null){var o=u(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=d(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return tg=s,null}function hw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case le:return 2;case ve:return 8;case st:case Mt:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var V0=!1,cc=null,uc=null,dc=null,gf=new Map,xf=new Map,hc=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fw(s,o){switch(s){case"focusin":case"focusout":cc=null;break;case"dragenter":case"dragleave":uc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":gf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(o.pointerId)}}function vf(s,o,c,f,j,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[j]},o!==null&&(o=ls(o),o!==null&&dw(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,j!==null&&o.indexOf(j)===-1&&o.push(j),s)}function _N(s,o,c,f,j){switch(o){case"focusin":return cc=vf(cc,s,o,c,f,j),!0;case"dragenter":return uc=vf(uc,s,o,c,f,j),!0;case"mouseover":return dc=vf(dc,s,o,c,f,j),!0;case"pointerover":var w=j.pointerId;return gf.set(w,vf(gf.get(w)||null,s,o,c,f,j)),!0;case"gotpointercapture":return w=j.pointerId,xf.set(w,vf(xf.get(w)||null,s,o,c,f,j)),!0}return!1}function pw(s){var o=Fs(s.target);if(o!==null){var c=u(o);if(c!==null){if(o=c.tag,o===13){if(o=d(c),o!==null){s.blockedOn=o,As(s.priority,function(){if(c.tag===13){var f=Xi();f=ua(f);var j=Hl(c,f);j!==null&&Qi(j,c,f),O0(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ng(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=$0(s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);cs=f,c.target.dispatchEvent(f),cs=null}else return o=ls(c),o!==null&&dw(o),s.blockedOn=c,!1;o.shift()}return!0}function mw(s,o,c){ng(s)&&c.delete(o)}function TN(){V0=!1,cc!==null&&ng(cc)&&(cc=null),uc!==null&&ng(uc)&&(uc=null),dc!==null&&ng(dc)&&(dc=null),gf.forEach(mw),xf.forEach(mw)}function rg(s,o){s.blockedOn===o&&(s.blockedOn=null,V0||(V0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TN)))}var sg=null;function gw(s){sg!==s&&(sg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sg===s&&(sg=null);for(var o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],j=s[o+2];if(typeof f!="function"){if(F0(f||c)===null)continue;break}var w=ls(c);w!==null&&(s.splice(o,3),o-=3,Fv(w,{pending:!0,data:j,method:c.method,action:f},f,j))}}))}function yf(s){function o(pe){return rg(pe,s)}cc!==null&&rg(cc,s),uc!==null&&rg(uc,s),dc!==null&&rg(dc,s),gf.forEach(o),xf.forEach(o);for(var c=0;c<hc.length;c++){var f=hc[c];f.blockedOn===s&&(f.blockedOn=null)}for(;0<hc.length&&(c=hc[0],c.blockedOn===null);)pw(c),c.blockedOn===null&&hc.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var j=c[f],w=c[f+1],V=j[Qr]||null;if(typeof w=="function")V||gw(c);else if(V){var X=null;if(w&&w.hasAttribute("formAction")){if(j=w,V=w[Qr]||null)X=V.formAction;else if(F0(j)!==null)continue}else X=V.action;typeof X=="function"?c[f+1]=X:(c.splice(f,3),f-=3),gw(c)}}}function U0(s){this._internalRoot=s}ig.prototype.render=U0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,f=Xi();cw(c,f,s,o,null,null)},ig.prototype.unmount=U0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;cw(s.current,2,null,s,null,null),$m(),o[co]=null}};function ig(s){this._internalRoot=s}ig.prototype.unstable_scheduleHydration=function(s){if(s){var o=Za();s={blockedOn:null,target:s,priority:o};for(var c=0;c<hc.length&&o!==0&&o<hc[c].priority;c++);hc.splice(c,0,s),c===0&&pw(s)}};var xw=n.version;if(xw!=="19.1.1")throw Error(i(527,xw,"19.1.1"));W.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var AN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{it=og.inject(AN),It=og}catch{}}return jf.createRoot=function(s,o){if(!l(s))throw Error(i(299));var c=!1,f="",j=DE,w=NE,V=IE,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(j=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks)),o=aw(s,1,!1,null,null,c,f,j,w,V,X,null),s[co]=o.current,w0(s),new U0(o)},jf.hydrateRoot=function(s,o,c){if(!l(s))throw Error(i(299));var f=!1,j="",w=DE,V=NE,X=IE,pe=null,Pe=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(j=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(V=c.onCaughtError),c.onRecoverableError!==void 0&&(X=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(pe=c.unstable_transitionCallbacks),c.formState!==void 0&&(Pe=c.formState)),o=aw(s,1,!0,o,c??null,f,j,w,V,X,pe,Pe),o.context=lw(null),c=o.current,f=Xi(),f=ua(f),j=Yl(f),j.callback=null,Kl(c,j,f),c=f,o.current.lanes=c,$s(o,c),Ca(o),s[co]=o.current,w0(s),new ig(o)},jf.version="19.1.1",jf}var Aw;function ON(){if(Aw)return q0.exports;Aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),q0.exports=LN(),q0.exports}var BN=ON();const $N=Ip(BN);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rw="popstate";function FN(t={}){function n(i,l){let{pathname:u,search:d,hash:g}=i.location;return cb("",{pathname:u,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:pp(l)}return UN(n,r,null,t)}function Ar(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function zo(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function VN(){return Math.random().toString(36).substring(2,10)}function kw(t,n){return{usr:t.state,key:t.key,idx:n}}function cb(t,n,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?vh(n):n,state:r,key:n&&n.key||i||VN()}}function pp({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vh(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(n.search=t.substring(i),t=t.substring(0,i)),t&&(n.pathname=t)}return n}function UN(t,n,r,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,g="POP",p=null,m=x();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function x(){return(d.state||{idx:null}).idx}function v(){g="POP";let A=x(),D=A==null?null:A-m;m=A,p&&p({action:g,location:T.location,delta:D})}function S(A,D){g="PUSH";let M=cb(T.location,A,D);m=x()+1;let R=kw(M,m),P=T.createHref(M);try{d.pushState(R,"",P)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;l.location.assign(P)}u&&p&&p({action:g,location:T.location,delta:1})}function E(A,D){g="REPLACE";let M=cb(T.location,A,D);m=x();let R=kw(M,m),P=T.createHref(M);d.replaceState(R,"",P),u&&p&&p({action:g,location:T.location,delta:0})}function C(A){return HN(A)}let T={get action(){return g},get location(){return t(l,d)},listen(A){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Rw,v),p=A,()=>{l.removeEventListener(Rw,v),p=null}},createHref(A){return n(l,A)},createURL:C,encodeLocation(A){let D=C(A);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:E,go(A){return d.go(A)}};return T}function HN(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:pp(t);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function XT(t,n,r="/"){return WN(t,n,r,!1)}function WN(t,n,r,i){let l=typeof n=="string"?vh(n):n,u=Al(l.pathname||"/",r);if(u==null)return null;let d=QT(t);qN(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let m=rI(u);g=tI(d[p],m,i)}return g}function QT(t,n=[],r=[],i="",l=!1){let u=(d,g,p=l,m)=>{let x={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&p)return;Ar(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let v=El([i,x.relativePath]),S=r.concat(x);d.children&&d.children.length>0&&(Ar(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),QT(d.children,n,S,v,p)),!(d.path==null&&!d.index)&&n.push({path:v,score:JN(v,d.index),routesMeta:S})};return t.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let p of JT(d.path))u(d,g,!0,p)}),n}function JT(t){let n=t.split("/");if(n.length===0)return[];let[r,...i]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=JT(i.join("/")),g=[];return g.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&g.push(...d),g.map(p=>t.startsWith("/")&&p===""?"/":p)}function qN(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:eI(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var GN=/^:[\w-]+$/,ZN=3,YN=2,KN=1,XN=10,QN=-2,Mw=t=>t==="*";function JN(t,n){let r=t.split("/"),i=r.length;return r.some(Mw)&&(i+=QN),n&&(i+=YN),r.filter(l=>!Mw(l)).reduce((l,u)=>l+(GN.test(u)?ZN:u===""?KN:XN),i)}function eI(t,n){return t.length===n.length&&t.slice(0,-1).every((i,l)=>i===n[l])?t[t.length-1]-n[n.length-1]:0}function tI(t,n,r=!1){let{routesMeta:i}=t,l={},u="/",d=[];for(let g=0;g<i.length;++g){let p=i[g],m=g===i.length-1,x=u==="/"?n:n.slice(u.length)||"/",v=ix({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),S=p.route;if(!v&&m&&r&&!i[i.length-1].route.index&&(v=ix({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!v)return null;Object.assign(l,v.params),d.push({params:l,pathname:El([u,v.pathname]),pathnameBase:aI(El([u,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(u=El([u,v.pathnameBase]))}return d}function ix(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=nI(t.path,t.caseSensitive,t.end),l=n.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:i.reduce((m,{paramName:x,isOptional:v},S)=>{if(x==="*"){let C=g[S]||"";d=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const E=g[S];return v&&!E?m[x]=void 0:m[x]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:t}}function nI(t,n=!1,r=!0){zo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(i.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function rI(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return zo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function Al(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function sI(t,n="/"){let{pathname:r,search:i="",hash:l=""}=typeof t=="string"?vh(t):t;return{pathname:r?r.startsWith("/")?r:iI(r,n):n,search:lI(i),hash:cI(l)}}function iI(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function K0(t,n,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oI(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Tj(t){let n=oI(t);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function Aj(t,n,r,i=!1){let l;typeof t=="string"?l=vh(t):(l={...t},Ar(!l.pathname||!l.pathname.includes("?"),K0("?","pathname","search",l)),Ar(!l.pathname||!l.pathname.includes("#"),K0("#","pathname","hash",l)),Ar(!l.search||!l.search.includes("#"),K0("#","search","hash",l)));let u=t===""||l.pathname==="",d=u?"/":l.pathname,g;if(d==null)g=r;else{let v=n.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),v-=1;l.pathname=S.join("/")}g=v>=0?n[v]:"/"}let p=sI(l,g),m=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}var El=t=>t.join("/").replace(/\/\/+/g,"/"),aI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var eA=["POST","PUT","PATCH","DELETE"];new Set(eA);var dI=["GET",...eA];new Set(dI);var yh=y.createContext(null);yh.displayName="DataRouter";var kx=y.createContext(null);kx.displayName="DataRouterState";y.createContext(!1);var tA=y.createContext({isTransitioning:!1});tA.displayName="ViewTransition";var hI=y.createContext(new Map);hI.displayName="Fetchers";var fI=y.createContext(null);fI.displayName="Await";var ia=y.createContext(null);ia.displayName="Navigation";var zp=y.createContext(null);zp.displayName="Location";var oa=y.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var Rj=y.createContext(null);Rj.displayName="RouteError";function pI(t,{relative:n}={}){Ar(bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=y.useContext(ia),{hash:l,pathname:u,search:d}=Lp(t,{relative:n}),g=u;return r!=="/"&&(g=u==="/"?r:El([r,u])),i.createHref({pathname:g,search:d,hash:l})}function bh(){return y.useContext(zp)!=null}function aa(){return Ar(bh(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(zp).location}var nA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rA(t){y.useContext(ia).static||y.useLayoutEffect(t)}function la(){let{isDataRoute:t}=y.useContext(oa);return t?TI():mI()}function mI(){Ar(bh(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(yh),{basename:n,navigator:r}=y.useContext(ia),{matches:i}=y.useContext(oa),{pathname:l}=aa(),u=JSON.stringify(Tj(i)),d=y.useRef(!1);return rA(()=>{d.current=!0}),y.useCallback((p,m={})=>{if(zo(d.current,nA),!d.current)return;if(typeof p=="number"){r.go(p);return}let x=Aj(p,JSON.parse(u),l,m.relative==="path");t==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:El([n,x.pathname])),(m.replace?r.replace:r.push)(x,m.state,m)},[n,r,u,l,t])}y.createContext(null);function Mx(){let{matches:t}=y.useContext(oa),n=t[t.length-1];return n?n.params:{}}function Lp(t,{relative:n}={}){let{matches:r}=y.useContext(oa),{pathname:i}=aa(),l=JSON.stringify(Tj(r));return y.useMemo(()=>Aj(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function gI(t,n){return sA(t,n)}function sA(t,n,r,i,l){Ar(bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext(ia),{matches:d}=y.useContext(oa),g=d[d.length-1],p=g?g.params:{},m=g?g.pathname:"/",x=g?g.pathnameBase:"/",v=g&&g.route;{let M=v&&v.path||"";iA(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=aa(),E;if(n){let M=typeof n=="string"?vh(n):n;Ar(x==="/"||M.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=S;let C=E.pathname||"/",T=C;if(x!=="/"){let M=x.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=XT(t,{pathname:T});zo(v||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),zo(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=jI(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:El([x,u.encodeLocation?u.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?x:El([x,u.encodeLocation?u.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),d,r,i,l);return n&&D?y.createElement(zp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function xI(){let t=_I(),n=uI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},n),r?y.createElement("pre",{style:l},r):null,d)}var vI=y.createElement(xI,null),yI=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.unstable_onError?this.props.unstable_onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(oa.Provider,{value:this.props.routeContext},y.createElement(Rj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bI({routeContext:t,match:n,children:r}){let i=y.useContext(yh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(oa.Provider,{value:t},r)}function jI(t,n=[],r=null,i=null,l=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=r?.errors;if(d!=null){let m=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Ar(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let g=!1,p=-1;if(r)for(let m=0;m<u.length;m++){let x=u[m];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=m),x.route.id){let{loaderData:v,errors:S}=r,E=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||E){g=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,x,v)=>{let S,E=!1,C=null,T=null;r&&(S=d&&x.route.id?d[x.route.id]:void 0,C=x.route.errorElement||vI,g&&(p<0&&v===0?(iA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):p===v&&(E=!0,T=x.route.hydrateFallbackElement||null)));let A=n.concat(u.slice(0,v+1)),D=()=>{let M;return S?M=C:E?M=T:x.route.Component?M=y.createElement(x.route.Component,null):x.route.element?M=x.route.element:M=m,y.createElement(bI,{match:x,routeContext:{outlet:m,matches:A,isDataRoute:r!=null},children:M})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?y.createElement(yI,{location:r.location,revalidation:r.revalidation,component:C,error:S,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:i}):D()},null)}function kj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SI(t){let n=y.useContext(yh);return Ar(n,kj(t)),n}function EI(t){let n=y.useContext(kx);return Ar(n,kj(t)),n}function CI(t){let n=y.useContext(oa);return Ar(n,kj(t)),n}function Mj(t){let n=CI(t),r=n.matches[n.matches.length-1];return Ar(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function wI(){return Mj("useRouteId")}function _I(){let t=y.useContext(Rj),n=EI("useRouteError"),r=Mj("useRouteError");return t!==void 0?t:n.errors?.[r]}function TI(){let{router:t}=SI("useNavigate"),n=Mj("useNavigate"),r=y.useRef(!1);return rA(()=>{r.current=!0}),y.useCallback(async(l,u={})=>{zo(r.current,nA),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:n,...u}))},[t,n])}var Pw={};function iA(t,n,r){!n&&!Pw[t]&&(Pw[t]=!0,zo(!1,r))}y.memo(AI);function AI({routes:t,future:n,state:r,unstable_onError:i}){return sA(t,void 0,r,i,n)}function Eu({to:t,replace:n,state:r,relative:i}){Ar(bh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=y.useContext(ia);zo(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=y.useContext(oa),{pathname:d}=aa(),g=la(),p=Aj(t,Tj(u),d,i==="path"),m=JSON.stringify(p);return y.useEffect(()=>{g(JSON.parse(m),{replace:n,state:r,relative:i})},[g,m,i,n,r]),null}function Wn(t){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RI({basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:l,static:u=!1}){Ar(!bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),g=y.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=vh(r));let{pathname:p="/",search:m="",hash:x="",state:v=null,key:S="default"}=r,E=y.useMemo(()=>{let C=Al(p,d);return C==null?null:{location:{pathname:C,search:m,hash:x,state:v,key:S},navigationType:i}},[d,p,m,x,v,S,i]);return zo(E!=null,`<Router basename="${d}"> is not able to match the URL "${p}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:y.createElement(ia.Provider,{value:g},y.createElement(zp.Provider,{children:n,value:E}))}function kI({children:t,location:n}){return gI(ub(t),n)}function ub(t,n=[]){let r=[];return y.Children.forEach(t,(i,l)=>{if(!y.isValidElement(i))return;let u=[...n,l];if(i.type===y.Fragment){r.push.apply(r,ub(i.props.children,u));return}Ar(i.type===Wn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=ub(i.props.children,u)),r.push(d)}),r}var zg="get",Lg="application/x-www-form-urlencoded";function Px(t){return t!=null&&typeof t.tagName=="string"}function MI(t){return Px(t)&&t.tagName.toLowerCase()==="button"}function PI(t){return Px(t)&&t.tagName.toLowerCase()==="form"}function DI(t){return Px(t)&&t.tagName.toLowerCase()==="input"}function NI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function II(t,n){return t.button===0&&(!n||n==="_self")&&!NI(t)}function db(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,r)=>{let i=t[r];return n.concat(Array.isArray(i)?i.map(l=>[r,l]):[[r,i]])},[]))}function zI(t,n){let r=db(t);return n&&n.forEach((i,l)=>{r.has(l)||n.getAll(l).forEach(u=>{r.append(l,u)})}),r}var lg=null;function LI(){if(lg===null)try{new FormData(document.createElement("form"),0),lg=!1}catch{lg=!0}return lg}var OI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(t){return t!=null&&!OI.has(t)?(zo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lg}"`),null):t}function BI(t,n){let r,i,l,u,d;if(PI(t)){let g=t.getAttribute("action");i=g?Al(g,n):null,r=t.getAttribute("method")||zg,l=X0(t.getAttribute("enctype"))||Lg,u=new FormData(t)}else if(MI(t)||DI(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||g.getAttribute("action");if(i=p?Al(p,n):null,r=t.getAttribute("formmethod")||g.getAttribute("method")||zg,l=X0(t.getAttribute("formenctype"))||X0(g.getAttribute("enctype"))||Lg,u=new FormData(g,t),!LI()){let{name:m,type:x,value:v}=t;if(x==="image"){let S=m?`${m}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else m&&u.append(m,v)}}else{if(Px(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=zg,i=null,l=Lg,d=t}return u&&l==="text/plain"&&(d=u,u=void 0),{action:i,method:r.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pj(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function $I(t,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&Al(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function FI(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UI(t,n,r){let i=await Promise.all(t.map(async l=>{let u=n.routes[l.route.id];if(u){let d=await FI(u,r);return d.links?d.links():[]}return[]}));return GI(i.flat(1).filter(VI).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Dw(t,n,r,i,l,u){let d=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,g=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return u==="assets"?n.filter((p,m)=>d(p,m)||g(p,m)):u==="data"?n.filter((p,m)=>{let x=i.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,m)||g(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function HI(t,n,{includeHydrateFallback:r}={}){return WI(t.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function WI(t){return[...new Set(t)]}function qI(t){let n={},r=Object.keys(t).sort();for(let i of r)n[i]=t[i];return n}function GI(t,n){let r=new Set;return new Set(n),t.reduce((i,l)=>{let u=JSON.stringify(qI(l));return r.has(u)||(r.add(u),i.push({key:u,link:l})),i},[])}function oA(){let t=y.useContext(yh);return Pj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZI(){let t=y.useContext(kx);return Pj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dj=y.createContext(void 0);Dj.displayName="FrameworkContext";function aA(){let t=y.useContext(Dj);return Pj(t,"You must render this element inside a <HydratedRouter> element"),t}function YI(t,n){let r=y.useContext(Dj),[i,l]=y.useState(!1),[u,d]=y.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:m,onMouseLeave:x,onTouchStart:v}=n,S=y.useRef(null);y.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let T=D=>{D.forEach(M=>{d(M.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return S.current&&A.observe(S.current),()=>{A.disconnect()}}},[t]),y.useEffect(()=>{if(i){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[i]);let E=()=>{l(!0)},C=()=>{l(!1),d(!1)};return r?t!=="intent"?[u,S,{}]:[u,S,{onFocus:Sf(g,E),onBlur:Sf(p,C),onMouseEnter:Sf(m,E),onMouseLeave:Sf(x,C),onTouchStart:Sf(v,E)}]:[!1,S,{}]}function Sf(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function KI({page:t,...n}){let{router:r}=oA(),i=y.useMemo(()=>XT(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?y.createElement(QI,{page:t,matches:i,...n}):null}function XI(t){let{manifest:n,routeModules:r}=aA(),[i,l]=y.useState([]);return y.useEffect(()=>{let u=!1;return UI(t,n,r).then(d=>{u||l(d)}),()=>{u=!0}},[t,n,r]),i}function QI({page:t,matches:n,...r}){let i=aa(),{manifest:l,routeModules:u}=aA(),{basename:d}=oA(),{loaderData:g,matches:p}=ZI(),m=y.useMemo(()=>Dw(t,n,p,l,i,"data"),[t,n,p,l,i]),x=y.useMemo(()=>Dw(t,n,p,l,i,"assets"),[t,n,p,l,i]),v=y.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,T=!1;if(n.forEach(D=>{let M=l.routes[D.route.id];!M||!M.hasLoader||(!m.some(R=>R.route.id===D.route.id)&&D.route.id in g&&u[D.route.id]?.shouldRevalidate||M.hasClientLoader?T=!0:C.add(D.route.id))}),C.size===0)return[];let A=$I(t,d,"data");return T&&C.size>0&&A.searchParams.set("_routes",n.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[A.pathname+A.search]},[d,g,i,l,m,n,t,u]),S=y.useMemo(()=>HI(x,l),[x,l]),E=XI(x);return y.createElement(y.Fragment,null,v.map(C=>y.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),S.map(C=>y.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),E.map(({key:C,link:T})=>y.createElement("link",{key:C,nonce:r.nonce,...T})))}function JI(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lA&&(window.__reactRouterVersion="7.8.2")}catch{}function ez({basename:t,children:n,window:r}){let i=y.useRef();i.current==null&&(i.current=FN({window:r,v5Compat:!0}));let l=i.current,[u,d]=y.useState({action:l.action,location:l.location}),g=y.useCallback(p=>{y.startTransition(()=>d(p))},[d]);return y.useLayoutEffect(()=>l.listen(g),[l,g]),y.createElement(RI,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}var cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=y.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:g,target:p,to:m,preventScrollReset:x,viewTransition:v,...S},E){let{basename:C}=y.useContext(ia),T=typeof m=="string"&&cA.test(m),A,D=!1;if(typeof m=="string"&&T&&(A=m,lA))try{let ce=new URL(window.location.href),he=m.startsWith("//")?new URL(ce.protocol+m):new URL(m),se=Al(he.pathname,C);he.origin===ce.origin&&se!=null?m=se+he.search+he.hash:D=!0}catch{zo(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=pI(m,{relative:l}),[R,P,z]=YI(i,S),O=sz(m,{replace:d,state:g,target:p,preventScrollReset:x,relative:l,viewTransition:v});function G(ce){n&&n(ce),ce.defaultPrevented||O(ce)}let q=y.createElement("a",{...S,...z,href:A||M,onClick:D||u?n:G,ref:JI(E,P),target:p,"data-discover":!T&&r==="render"?"true":void 0});return R&&!T?y.createElement(y.Fragment,null,q,y.createElement(KI,{page:M})):q});or.displayName="Link";var tz=y.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:u,to:d,viewTransition:g,children:p,...m},x){let v=Lp(d,{relative:m.relative}),S=aa(),E=y.useContext(kx),{navigator:C,basename:T}=y.useContext(ia),A=E!=null&&uz(v)&&g===!0,D=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,M=S.pathname,R=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(M=M.toLowerCase(),R=R?R.toLowerCase():null,D=D.toLowerCase()),R&&T&&(R=Al(R,T)||R);const P=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let z=M===D||!l&&M.startsWith(D)&&M.charAt(P)==="/",O=R!=null&&(R===D||!l&&R.startsWith(D)&&R.charAt(D.length)==="/"),G={isActive:z,isPending:O,isTransitioning:A},q=z?n:void 0,ce;typeof i=="function"?ce=i(G):ce=[i,z?"active":null,O?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let he=typeof u=="function"?u(G):u;return y.createElement(or,{...m,"aria-current":q,className:ce,ref:x,style:he,to:d,viewTransition:g},typeof p=="function"?p(G):p)});tz.displayName="NavLink";var nz=y.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:u,method:d=zg,action:g,onSubmit:p,relative:m,preventScrollReset:x,viewTransition:v,...S},E)=>{let C=lz(),T=cz(g,{relative:m}),A=d.toLowerCase()==="get"?"get":"post",D=typeof g=="string"&&cA.test(g),M=R=>{if(p&&p(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,z=P?.getAttribute("formmethod")||d;C(P||R.currentTarget,{fetcherKey:n,method:z,navigate:r,replace:l,state:u,relative:m,preventScrollReset:x,viewTransition:v})};return y.createElement("form",{ref:E,method:A,action:T,onSubmit:i?p:M,...S,"data-discover":!D&&t==="render"?"true":void 0})});nz.displayName="Form";function rz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uA(t){let n=y.useContext(yh);return Ar(n,rz(t)),n}function sz(t,{target:n,replace:r,state:i,preventScrollReset:l,relative:u,viewTransition:d}={}){let g=la(),p=aa(),m=Lp(t,{relative:u});return y.useCallback(x=>{if(II(x,n)){x.preventDefault();let v=r!==void 0?r:pp(p)===pp(m);g(t,{replace:v,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[p,g,m,r,i,n,t,l,u,d])}function iz(t){zo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=y.useRef(db(t)),r=y.useRef(!1),i=aa(),l=y.useMemo(()=>zI(i.search,r.current?null:n.current),[i.search]),u=la(),d=y.useCallback((g,p)=>{const m=db(typeof g=="function"?g(new URLSearchParams(l)):g);r.current=!0,u("?"+m,p)},[u,l]);return[l,d]}var oz=0,az=()=>`__${String(++oz)}__`;function lz(){let{router:t}=uA("useSubmit"),{basename:n}=y.useContext(ia),r=wI();return y.useCallback(async(i,l={})=>{let{action:u,method:d,encType:g,formData:p,body:m}=BI(i,n);if(l.navigate===!1){let x=l.fetcherKey||az();await t.fetch(x,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||g,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,n,r])}function cz(t,{relative:n}={}){let{basename:r}=y.useContext(ia),i=y.useContext(oa);Ar(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Lp(t||".",{relative:n})},d=aa();if(t==null){u.search=d.search;let g=new URLSearchParams(u.search),p=g.getAll("index");if(p.some(x=>x==="")){g.delete("index"),p.filter(v=>v).forEach(v=>g.append("index",v));let x=g.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:El([r,u.pathname])),pp(u)}function uz(t,{relative:n}={}){let r=y.useContext(tA);Ar(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uA("useViewTransitionState"),l=Lp(t,{relative:n});if(!r.isTransitioning)return!1;let u=Al(r.currentLocation.pathname,i)||r.currentLocation.pathname,d=Al(r.nextLocation.pathname,i)||r.nextLocation.pathname;return ix(l.pathname,d)!=null||ix(l.pathname,u)!=null}var Nj=KT();function Dx(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function dz(){return!!globalThis?.document}function dA(t){return t.parentElement&&dA(t.parentElement)?!0:t.hidden}function hz(t){const n=t.getAttribute("contenteditable");return n!=="false"&&n!=null}function fz(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function pz(t){return hA(t)?.defaultView??window}function hA(t){return Dx(t)?t.ownerDocument:document}function mz(t){return hA(t).activeElement}function gz(t,...n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const r={...t};for(const i of n)if(i!=null)for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(l in r&&delete r[l],r[l]=i[l]);return r}const wn=t=>t?"":void 0,Cu=t=>t?!0:void 0;function hb(t){return Array.isArray(t)}function ms(t){const n=typeof t;return t!=null&&(n==="object"||n==="function")&&!hb(t)}function xz(t){const n=t==null?0:t.length;return n?t[n-1]:void 0}function vz(t){const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}}function fb(t){if(t==null)return t;const{unitless:n}=vz(t);return n||typeof t=="number"?`${t}px`:t}const fA=(t,n)=>parseInt(t[1],10)>parseInt(n[1],10)?1:-1,Ij=t=>Object.fromEntries(Object.entries(t).sort(fA));function Nw(t){const n=Ij(t);return Object.assign(Object.values(n),n)}function yz(t){const n=Object.keys(Ij(t));return new Set(n)}function Iw(t){if(!t)return t;t=fb(t)??t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function zf(t,n){const r=["@media screen"];return t&&r.push("and",`(min-width: ${fb(t)})`),n&&r.push("and",`(max-width: ${fb(n)})`),r.join(" ")}function bz(t){if(!t)return null;t.base=t.base??"0px";const n=Nw(t),r=Object.entries(t).sort(fA).map(([u,d],g,p)=>{let[,m]=p[g+1]??[];return m=parseFloat(m)>0?Iw(m):void 0,{_minW:Iw(d),breakpoint:u,minW:d,maxW:m,maxWQuery:zf(null,m),minWQuery:zf(d),minMaxQuery:zf(d,m)}}),i=yz(t),l=Array.from(i.values());return{keys:i,normalized:n,isResponsive(u){const d=Object.keys(u);return d.length>0&&d.every(g=>i.has(g))},asObject:Ij(t),asArray:Nw(t),details:r,get(u){return r.find(d=>d.breakpoint===u)},media:[null,...n.map(u=>zf(u)).slice(1)],toArrayValue(u){if(!ms(u))throw new Error("toArrayValue: value must be an object");const d=l.map(g=>u[g]??null);for(;xz(d)===null;)d.pop();return d},toObjectValue(u){if(!Array.isArray(u))throw new Error("toObjectValue: value must be an array");return u.reduce((d,g,p)=>{const m=l[p];return m!=null&&g!=null&&(d[m]=g),d},{})}}}function pA(...t){return function(...r){t.forEach(i=>i?.(...r))}}function on(...t){return function(r){t.some(i=>(i?.(r),r?.defaultPrevented))}}function Mc(t){return y.Children.toArray(t).filter(n=>y.isValidElement(n))}function Op(t){const n=Object.assign({},t);for(let r in n)n[r]===void 0&&delete n[r];return n}function jz(t,n){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function $n(t={}){const{name:n,strict:r=!0,hookName:i="useContext",providerName:l="Provider",errorMessage:u,defaultValue:d}=t,g=y.createContext(d);g.displayName=n;function p(){const m=y.useContext(g);if(!m&&r){const x=new Error(u??jz(i,l));throw x.name="ContextError",Error.captureStackTrace?.(x,p),x}return m}return[g.Provider,p,g]}const dt=(...t)=>t.filter(Boolean).join(" "),mA=t=>t.hasAttribute("tabindex"),Sz=t=>mA(t)&&t.tabIndex===-1;function gA(t){if(!Dx(t)||dA(t)||fz(t))return!1;const{localName:n}=t;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;const i={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return n in i?i[n]():hz(t)?!0:mA(t)}function Ez(t){return t?Dx(t)&&gA(t)&&!Sz(t):!1}const Cz=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],wz=Cz.join(),_z=t=>t.offsetWidth>0&&t.offsetHeight>0;function Tz(t){const n=Array.from(t.querySelectorAll(wz));return n.unshift(t),n.filter(r=>gA(r)&&_z(r))}function Az(t,n,r,i){const l=typeof n=="string"?n.split("."):[n];for(i=0;i<l.length&&t;i+=1)t=t[l[i]];return t===void 0?r:t}const Rz=t=>{const n=new WeakMap;return(i,l,u,d)=>{if(typeof i>"u")return t(i,l,u);n.has(i)||n.set(i,new Map);const g=n.get(i);if(g.has(l))return g.get(l);const p=t(i,l,u,d);return g.set(l,p),p}},xA=Rz(Az),kz=t=>t.default||t;function vA(t){const{wasSelected:n,enabled:r,isSelected:i,mode:l="unmount"}=t;return!!(!r||i||l==="keepMounted"&&n)}function Mz(t){const n=parseFloat(t);return typeof n!="number"||Number.isNaN(n)?0:n}function yA(t,n){let r=Mz(t);const i=10**(n??10);return r=Math.round(r*i)/i,n?r.toFixed(n):r.toString()}function zw(t){if(!Number.isFinite(t))return 0;let n=1,r=0;for(;Math.round(t*n)/n!==t;)n*=10,r+=1;return r}function Pz(t,n,r){return t==null?t:(r<n&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,n),r))}function Bp(t,n=[]){const r=Object.assign({},t);for(const i of n)i in r&&delete r[i];return r}function bA(t,n){const r={};for(const i of n)i in t&&(r[i]=t[i]);return r}const jA=Object.freeze(["base","sm","md","lg","xl","2xl"]);function Nx(t,n){return Array.isArray(t)?t.map(r=>r===null?null:n(r)):ms(t)?Object.keys(t).reduce((r,i)=>(r[i]=n(t[i]),r),{}):t!=null?n(t):null}function Dz(t,n=jA){const r={};return t.forEach((i,l)=>{const u=n[l];i!=null&&(r[u]=i)}),r}const Nz=t=>typeof t=="function";function to(t,...n){return Nz(t)?t(...n):t}function Iz(t){const n=t.ownerDocument.defaultView||window,{overflow:r,overflowX:i,overflowY:l}=n.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(r+l+i)}function zz(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function SA(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:Dx(t)&&Iz(t)?t:SA(zz(t))}function Lz(t,n){const r={},i={};for(const[l,u]of Object.entries(t))n.includes(l)?r[l]=u:i[l]=u;return[r,i]}function Oz(t,...n){const r=Object.getOwnPropertyDescriptors(t),i=Object.keys(r),l=d=>{const g={};for(let p=0;p<d.length;p++){const m=d[p];r[m]&&(Object.defineProperty(g,m,r[m]),delete r[m])}return g},u=d=>l(Array.isArray(d)?d:i.filter(d));return n.map(u).concat(l(i))}function Lw(t,n,r={}){const{stop:i,getKey:l}=r;function u(d,g=[]){if(ms(d)||Array.isArray(d)){const p={};for(const[m,x]of Object.entries(d)){const v=l?.(m)??m,S=[...g,v];if(i?.(d,S))return n(d,g);p[v]=u(x,S)}return p}return n(d,g)}return u(t)}const $p=t=>{const{condition:n,message:r}=t};var Lf={exports:{}};Lf.exports;var Ow;function Bz(){return Ow||(Ow=1,(function(t,n){var r=200,i="__lodash_hash_undefined__",l=800,u=16,d=9007199254740991,g="[object Arguments]",p="[object Array]",m="[object AsyncFunction]",x="[object Boolean]",v="[object Date]",S="[object Error]",E="[object Function]",C="[object GeneratorFunction]",T="[object Map]",A="[object Number]",D="[object Null]",M="[object Object]",R="[object Proxy]",P="[object RegExp]",z="[object Set]",O="[object String]",G="[object Undefined]",q="[object WeakMap]",ce="[object ArrayBuffer]",he="[object DataView]",se="[object Float32Array]",ge="[object Float64Array]",Ae="[object Int8Array]",de="[object Int16Array]",re="[object Int32Array]",K="[object Uint8Array]",W="[object Uint8ClampedArray]",H="[object Uint16Array]",Ee="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,ae=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,$={};$[se]=$[ge]=$[Ae]=$[de]=$[re]=$[K]=$[W]=$[H]=$[Ee]=!0,$[g]=$[p]=$[ce]=$[x]=$[he]=$[v]=$[S]=$[E]=$[T]=$[A]=$[M]=$[P]=$[z]=$[O]=$[q]=!1;var F=typeof ag=="object"&&ag&&ag.Object===Object&&ag,U=typeof self=="object"&&self&&self.Object===Object&&self,Y=F||U||Function("return this")(),be=n&&!n.nodeType&&n,Te=be&&!0&&t&&!t.nodeType&&t,Re=Te&&Te.exports===be,nt=Re&&F.process,ht=(function(){try{var Q=Te&&Te.require&&Te.require("util").types;return Q||nt&&nt.binding&&nt.binding("util")}catch{}})(),rt=ht&&ht.isTypedArray;function zt(Q,xe,Oe){switch(Oe.length){case 0:return Q.call(xe);case 1:return Q.call(xe,Oe[0]);case 2:return Q.call(xe,Oe[0],Oe[1]);case 3:return Q.call(xe,Oe[0],Oe[1],Oe[2])}return Q.apply(xe,Oe)}function Ue(Q,xe){for(var Oe=-1,pt=Array(Q);++Oe<Q;)pt[Oe]=xe(Oe);return pt}function qt(Q){return function(xe){return Q(xe)}}function Se(Q,xe){return Q?.[xe]}function Ke(Q,xe){return function(Oe){return Q(xe(Oe))}}var Ot=Array.prototype,le=Function.prototype,ve=Object.prototype,st=Y["__core-js_shared__"],Mt=le.toString,Mn=ve.hasOwnProperty,ar=(function(){var Q=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return Q?"Symbol(src)_1."+Q:""})(),He=ve.toString,it=Mt.call(Object),It=RegExp("^"+Mt.call(Mn).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xe=Re?Y.Buffer:void 0,vt=Y.Symbol,Pn=Y.Uint8Array;Xe&&Xe.allocUnsafe;var Ge=Ke(Object.getPrototypeOf,Object),At=Object.create,an=ve.propertyIsEnumerable,yn=Ot.splice,en=vt?vt.toStringTag:void 0,Dn=(function(){try{var Q=kr(Object,"defineProperty");return Q({},"",{}),Q}catch{}})(),at=Xe?Xe.isBuffer:void 0,Ln=Math.max,br=Date.now,Xr=kr(Y,"Map"),un=kr(Object,"create"),$s=(function(){function Q(){}return function(xe){if(!zr(xe))return{};if(At)return At(xe);Q.prototype=xe;var Oe=new Q;return Q.prototype=void 0,Oe}})();function Ts(Q){var xe=-1,Oe=Q==null?0:Q.length;for(this.clear();++xe<Oe;){var pt=Q[xe];this.set(pt[0],pt[1])}}function $o(){this.__data__=un?un(null):{},this.size=0}function Ga(Q){var xe=this.has(Q)&&delete this.__data__[Q];return this.size-=xe?1:0,xe}function ua(Q){var xe=this.__data__;if(un){var Oe=xe[Q];return Oe===i?void 0:Oe}return Mn.call(xe,Q)?xe[Q]:void 0}function Pi(Q){var xe=this.__data__;return un?xe[Q]!==void 0:Mn.call(xe,Q)}function Za(Q,xe){var Oe=this.__data__;return this.size+=this.has(Q)?0:1,Oe[Q]=un&&xe===void 0?i:xe,this}Ts.prototype.clear=$o,Ts.prototype.delete=Ga,Ts.prototype.get=ua,Ts.prototype.has=Pi,Ts.prototype.set=Za;function As(Q){var xe=-1,Oe=Q==null?0:Q.length;for(this.clear();++xe<Oe;){var pt=Q[xe];this.set(pt[0],pt[1])}}function vi(){this.__data__=[],this.size=0}function Rr(Q){var xe=this.__data__,Oe=Vs(xe,Q);if(Oe<0)return!1;var pt=xe.length-1;return Oe==pt?xe.pop():yn.call(xe,Oe,1),--this.size,!0}function Qr(Q){var xe=this.__data__,Oe=Vs(xe,Q);return Oe<0?void 0:xe[Oe][1]}function co(Q){return Vs(this.__data__,Q)>-1}function Jr(Q,xe){var Oe=this.__data__,pt=Vs(Oe,Q);return pt<0?(++this.size,Oe.push([Q,xe])):Oe[pt][1]=xe,this}As.prototype.clear=vi,As.prototype.delete=Rr,As.prototype.get=Qr,As.prototype.has=co,As.prototype.set=Jr;function ct(Q){var xe=-1,Oe=Q==null?0:Q.length;for(this.clear();++xe<Oe;){var pt=Q[xe];this.set(pt[0],pt[1])}}function Di(){this.size=0,this.__data__={hash:new Ts,map:new(Xr||As),string:new Ts}}function Ya(Q){var xe=go(this,Q).delete(Q);return this.size-=xe?1:0,xe}function uo(Q){return go(this,Q).get(Q)}function ho(Q){return go(this,Q).has(Q)}function Fs(Q,xe){var Oe=go(this,Q),pt=Oe.size;return Oe.set(Q,xe),this.size+=Oe.size==pt?0:1,this}ct.prototype.clear=Di,ct.prototype.delete=Ya,ct.prototype.get=uo,ct.prototype.has=ho,ct.prototype.set=Fs;function ls(Q){var xe=this.__data__=new As(Q);this.size=xe.size}function vs(){this.__data__=new As,this.size=0}function Js(Q){var xe=this.__data__,Oe=xe.delete(Q);return this.size=xe.size,Oe}function Cr(Q){return this.__data__.get(Q)}function da(Q){return this.__data__.has(Q)}function Fo(Q,xe){var Oe=this.__data__;if(Oe instanceof As){var pt=Oe.__data__;if(!Xr||pt.length<r-1)return pt.push([Q,xe]),this.size=++Oe.size,this;Oe=this.__data__=new ct(pt)}return Oe.set(Q,xe),this.size=Oe.size,this}ls.prototype.clear=vs,ls.prototype.delete=Js,ls.prototype.get=Cr,ls.prototype.has=da,ls.prototype.set=Fo;function ot(Q,xe){var Oe=js(Q),pt=!Oe&&bs(Q),gn=!Oe&&!pt&&Gt(Q),Tn=!Oe&&!pt&&!gn&&Rs(Q),St=Oe||pt||gn||Tn,fn=St?Ue(Q.length,String):[],pn=fn.length;for(var Lr in Q)St&&(Lr=="length"||gn&&(Lr=="offset"||Lr=="parent")||Tn&&(Lr=="buffer"||Lr=="byteLength"||Lr=="byteOffset")||Oi(Lr,pn))||fn.push(Lr);return fn}function ei(Q,xe,Oe){(Oe!==void 0&&!cs(Q[xe],Oe)||Oe===void 0&&!(xe in Q))&&ha(Q,xe,Oe)}function zc(Q,xe,Oe){var pt=Q[xe];(!(Mn.call(Q,xe)&&cs(pt,Oe))||Oe===void 0&&!(xe in Q))&&ha(Q,xe,Oe)}function Vs(Q,xe){for(var Oe=Q.length;Oe--;)if(cs(Q[Oe][0],xe))return Oe;return-1}function ha(Q,xe,Oe){xe=="__proto__"&&Dn?Dn(Q,xe,{configurable:!0,enumerable:!0,value:Oe,writable:!0}):Q[xe]=Oe}var Lc=Un();function ti(Q){return Q==null?Q===void 0?G:D:en&&en in Object(Q)?Hr(Q):fa(Q)}function Vo(Q){return ri(Q)&&ti(Q)==g}function Us(Q){if(!zr(Q)||wr(Q))return!1;var xe=Ir(Q)?It:ae;return xe.test(vo(Q))}function Ni(Q){return ri(Q)&&En(Q.length)&&!!$[ti(Q)]}function fo(Q){if(!zr(Q))return xo(Q);var xe=Nr(Q),Oe=[];for(var pt in Q)pt=="constructor"&&(xe||!Mn.call(Q,pt))||Oe.push(pt);return Oe}function yi(Q,xe,Oe,pt,gn){Q!==xe&&Lc(xe,function(Tn,St){if(gn||(gn=new ls),zr(Tn))po(Q,xe,St,Oe,yi,pt,gn);else{var fn=pt?pt(ni(Q,St),Tn,St+"",Q,xe,gn):void 0;fn===void 0&&(fn=Tn),ei(Q,St,fn)}},Fi)}function po(Q,xe,Oe,pt,gn,Tn,St){var fn=ni(Q,Oe),pn=ni(xe,Oe),Lr=St.get(pn);if(Lr){ei(Q,Oe,Lr);return}var es=Tn?Tn(fn,pn,Oe+"",Q,xe,St):void 0,Uo=es===void 0;if(Uo){var Ho=js(pn),Wo=!Ho&&Gt(pn),Ka=!Ho&&!Wo&&Rs(pn);es=pn,Ho||Wo||Ka?js(fn)?es=fn:ma(fn)?es=Li(fn):Wo?(Uo=!1,es=Gn(pn)):Ka?(Uo=!1,es=zi(pn)):es=[]:yo(pn)||bs(pn)?(es=fn,bs(fn)?es=ks(fn):(!zr(fn)||Ir(fn))&&(es=Oc(pn))):Uo=!1}Uo&&(St.set(pn,es),gn(es,pn,pt,Tn,St),St.delete(pn)),ei(Q,Oe,es)}function Ii(Q,xe){return pa(Bi(Q,xe,Ms),Q+"")}var bn=Dn?function(Q,xe){return Dn(Q,"toString",{configurable:!0,enumerable:!1,value:gr(xe),writable:!0})}:Ms;function Gn(Q,xe){return Q.slice()}function Ur(Q){var xe=new Q.constructor(Q.byteLength);return new Pn(xe).set(new Pn(Q)),xe}function zi(Q,xe){var Oe=Ur(Q.buffer);return new Q.constructor(Oe,Q.byteOffset,Q.length)}function Li(Q,xe){var Oe=-1,pt=Q.length;for(xe||(xe=Array(pt));++Oe<pt;)xe[Oe]=Q[Oe];return xe}function mo(Q,xe,Oe,pt){var gn=!Oe;Oe||(Oe={});for(var Tn=-1,St=xe.length;++Tn<St;){var fn=xe[Tn],pn=void 0;pn===void 0&&(pn=Q[fn]),gn?ha(Oe,fn,pn):zc(Oe,fn,pn)}return Oe}function nn(Q){return Ii(function(xe,Oe){var pt=-1,gn=Oe.length,Tn=gn>1?Oe[gn-1]:void 0,St=gn>2?Oe[2]:void 0;for(Tn=Q.length>3&&typeof Tn=="function"?(gn--,Tn):void 0,St&&ys(Oe[0],Oe[1],St)&&(Tn=gn<3?void 0:Tn,gn=1),xe=Object(xe);++pt<gn;){var fn=Oe[pt];fn&&Q(xe,fn,pt,Tn)}return xe})}function Un(Q){return function(xe,Oe,pt){for(var gn=-1,Tn=Object(xe),St=pt(xe),fn=St.length;fn--;){var pn=St[++gn];if(Oe(Tn[pn],pn,Tn)===!1)break}return xe}}function go(Q,xe){var Oe=Q.__data__;return Vt(xe)?Oe[typeof xe=="string"?"string":"hash"]:Oe.map}function kr(Q,xe){var Oe=Se(Q,xe);return Us(Oe)?Oe:void 0}function Hr(Q){var xe=Mn.call(Q,en),Oe=Q[en];try{Q[en]=void 0;var pt=!0}catch{}var gn=He.call(Q);return pt&&(xe?Q[en]=Oe:delete Q[en]),gn}function Oc(Q){return typeof Q.constructor=="function"&&!Nr(Q)?$s(Ge(Q)):{}}function Oi(Q,xe){var Oe=typeof Q;return xe=xe??d,!!xe&&(Oe=="number"||Oe!="symbol"&&me.test(Q))&&Q>-1&&Q%1==0&&Q<xe}function ys(Q,xe,Oe){if(!zr(Oe))return!1;var pt=typeof xe;return(pt=="number"?Hs(Oe)&&Oi(xe,Oe.length):pt=="string"&&xe in Oe)?cs(Oe[xe],Q):!1}function Vt(Q){var xe=typeof Q;return xe=="string"||xe=="number"||xe=="symbol"||xe=="boolean"?Q!=="__proto__":Q===null}function wr(Q){return!!ar&&ar in Q}function Nr(Q){var xe=Q&&Q.constructor,Oe=typeof xe=="function"&&xe.prototype||ve;return Q===Oe}function xo(Q){var xe=[];if(Q!=null)for(var Oe in Object(Q))xe.push(Oe);return xe}function fa(Q){return He.call(Q)}function Bi(Q,xe,Oe){return xe=Ln(xe===void 0?Q.length-1:xe,0),function(){for(var pt=arguments,gn=-1,Tn=Ln(pt.length-xe,0),St=Array(Tn);++gn<Tn;)St[gn]=pt[xe+gn];gn=-1;for(var fn=Array(xe+1);++gn<xe;)fn[gn]=pt[gn];return fn[xe]=Oe(St),zt(Q,this,fn)}}function ni(Q,xe){if(!(xe==="constructor"&&typeof Q[xe]=="function")&&xe!="__proto__")return Q[xe]}var pa=$i(bn);function $i(Q){var xe=0,Oe=0;return function(){var pt=br(),gn=u-(pt-Oe);if(Oe=pt,gn>0){if(++xe>=l)return arguments[0]}else xe=0;return Q.apply(void 0,arguments)}}function vo(Q){if(Q!=null){try{return Mt.call(Q)}catch{}try{return Q+""}catch{}}return""}function cs(Q,xe){return Q===xe||Q!==Q&&xe!==xe}var bs=Vo((function(){return arguments})())?Vo:function(Q){return ri(Q)&&Mn.call(Q,"callee")&&!an.call(Q,"callee")},js=Array.isArray;function Hs(Q){return Q!=null&&En(Q.length)&&!Ir(Q)}function ma(Q){return ri(Q)&&Hs(Q)}var Gt=at||ga;function Ir(Q){if(!zr(Q))return!1;var xe=ti(Q);return xe==E||xe==C||xe==m||xe==R}function En(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=d}function zr(Q){var xe=typeof Q;return Q!=null&&(xe=="object"||xe=="function")}function ri(Q){return Q!=null&&typeof Q=="object"}function yo(Q){if(!ri(Q)||ti(Q)!=M)return!1;var xe=Ge(Q);if(xe===null)return!0;var Oe=Mn.call(xe,"constructor")&&xe.constructor;return typeof Oe=="function"&&Oe instanceof Oe&&Mt.call(Oe)==it}var Rs=rt?qt(rt):Ni;function ks(Q){return mo(Q,Fi(Q))}function Fi(Q){return Hs(Q)?ot(Q):fo(Q)}var Vi=nn(function(Q,xe,Oe,pt){yi(Q,xe,Oe,pt)});function gr(Q){return function(){return Q}}function Ms(Q){return Q}function ga(){return!1}t.exports=Vi})(Lf,Lf.exports)),Lf.exports}var $z=Bz();const No=Ip($z);function fs(t,n=[]){const r=y.useRef(t);return y.useEffect(()=>{r.current=t}),y.useCallback((...i)=>r.current?.(...i),n)}function Jf(t,n,r,i){const l=fs(r);return y.useEffect(()=>{const u=typeof t=="function"?t():t??document;if(!(!r||!u))return u.addEventListener(n,l,i),()=>{u.removeEventListener(n,l,i)}},[n,t,i,l,r]),()=>{(typeof t=="function"?t():t??document)?.removeEventListener(n,l,i)}}function Fz(t){const{isOpen:n,ref:r}=t,[i,l]=y.useState(n),[u,d]=y.useState(!1);return y.useEffect(()=>{u||(l(n),d(!0))},[n,u,i]),Jf(()=>r.current,"animationend",()=>{l(n)}),{present:!(n?!1:!i),onComplete(){const p=pz(r.current),m=new p.CustomEvent("animationend",{bubbles:!0});r.current?.dispatchEvent(m)}}}function Fp(t){const{value:n,defaultValue:r,onChange:i,shouldUpdate:l=(S,E)=>S!==E}=t,u=fs(i),d=fs(l),[g,p]=y.useState(r),m=n!==void 0,x=m?n:g,v=fs(S=>{const C=typeof S=="function"?S(x):S;d(x,C)&&(m||p(C),u(C))},[m,u,x,d]);return[x,v]}function Vz(t={}){const{onChange:n,precision:r,defaultValue:i,value:l,step:u=1,min:d=Number.MIN_SAFE_INTEGER,max:g=Number.MAX_SAFE_INTEGER,keepWithinRange:p=!0}=t,m=fs(n),[x,v]=y.useState(()=>i==null?"":Q0(i,u,r)??""),S=typeof l<"u",E=S?l:x,C=EA(vc(E),u),T=r??C,A=y.useCallback(he=>{he!==E&&(S||v(he.toString()),m?.(he.toString(),vc(he)))},[m,S,E]),D=y.useCallback(he=>{let se=he;return p&&(se=Pz(se,d,g)),yA(se,T)},[T,p,g,d]),M=y.useCallback((he=u)=>{let se;E===""?se=vc(he):se=vc(E)+he,se=D(se),A(se)},[D,u,A,E]),R=y.useCallback((he=u)=>{let se;E===""?se=vc(-he):se=vc(E)-he,se=D(se),A(se)},[D,u,A,E]),P=y.useCallback(()=>{let he;i==null?he="":he=Q0(i,u,r)??d,A(he)},[i,r,u,A,d]),z=y.useCallback(he=>{const se=Q0(he,u,T)??d;A(se)},[T,u,A,d]),O=vc(E);return{isOutOfRange:O>g||O<d,isAtMax:O===g,isAtMin:O===d,precision:T,value:E,valueAsNumber:O,update:A,reset:P,increment:M,decrement:R,clamp:D,cast:z,setValue:v}}function vc(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function EA(t,n){return Math.max(zw(n),zw(t))}function Q0(t,n,r){const i=vc(t);if(Number.isNaN(i))return;const l=EA(i,n);return yA(i,r??l)}function Nt(t={}){const{onClose:n,onOpen:r,isOpen:i,id:l}=t,u=fs(r),d=fs(n),[g,p]=y.useState(t.defaultIsOpen||!1),m=i!==void 0?i:g,x=i!==void 0,v=y.useId(),S=l??`disclosure-${v}`,E=y.useCallback(()=>{x||p(!1),d?.()},[x,d]),C=y.useCallback(()=>{x||p(!0),u?.()},[x,u]),T=y.useCallback(()=>{m?E():C()},[m,C,E]);function A(M={}){return{...M,"aria-expanded":m,"aria-controls":S,onClick(R){M.onClick?.(R),T()}}}function D(M={}){return{...M,hidden:!m,id:S}}return{isOpen:m,onOpen:C,onClose:E,onToggle:T,isControlled:x,getButtonProps:A,getDisclosureProps:D}}const Cl=globalThis?.document?y.useLayoutEffect:y.useEffect,Nu=(t,n)=>{const r=y.useRef(!1),i=y.useRef(!1);y.useEffect(()=>{if(r.current&&i.current)return t();i.current=!0},n),y.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function Uz(t){const n=t.current;if(!n)return!1;const r=mz(n);return!r||n.contains(r)?!1:!!Ez(r)}function Hz(t,n){const{visible:r,focusRef:i}=n,l=!r;Nu(()=>{if(!l||Uz(t))return;const u=i?.current||t.current;let d;if(u)return d=requestAnimationFrame(()=>{u.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(d)}},[l,t,i])}function Wz(t,n){const r=y.useId();return y.useMemo(()=>t||[n,r].filter(Boolean).join("-"),[t,n,r])}function qz(t,...n){const r=Wz(t);return y.useMemo(()=>n.map(i=>`${i}-${r}`),[r,n])}function Gz(t,n){const r=fs(t);y.useEffect(()=>{let i=null;const l=()=>r();return n!==null&&(i=window.setInterval(l,n)),()=>{i&&window.clearInterval(i)}},[n,r])}function Zz(t,n){if(t!=null){if(typeof t=="function"){t(n);return}try{t.current=n}catch{throw new Error(`Cannot assign value '${n}' to ref '${t}'`)}}}function Kr(...t){return n=>{t.forEach(r=>{Zz(r,n)})}}function Yz(...t){return y.useMemo(()=>Kr(...t),t)}function Kz(t){const{ref:n,handler:r,enabled:i=!0}=t,l=fs(r),d=y.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;y.useEffect(()=>{if(!i)return;const g=v=>{J0(v,n)&&(d.isPointerDown=!0)},p=v=>{if(d.ignoreEmulatedMouseEvents){d.ignoreEmulatedMouseEvents=!1;return}d.isPointerDown&&r&&J0(v,n)&&(d.isPointerDown=!1,l(v))},m=v=>{d.ignoreEmulatedMouseEvents=!0,r&&d.isPointerDown&&J0(v,n)&&(d.isPointerDown=!1,l(v))},x=CA(n.current);return x.addEventListener("mousedown",g,!0),x.addEventListener("mouseup",p,!0),x.addEventListener("touchstart",g,!0),x.addEventListener("touchend",m,!0),()=>{x.removeEventListener("mousedown",g,!0),x.removeEventListener("mouseup",p,!0),x.removeEventListener("touchstart",g,!0),x.removeEventListener("touchend",m,!0)}},[r,n,l,d,i])}function J0(t,n){const r=t.composedPath?.()[0]??t.target;return r&&!CA(r).contains(r)?!1:!n.current?.contains(r)}function CA(t){return t?.ownerDocument??document}function Xz(t,n){const r=fs(t);y.useEffect(()=>{if(n==null)return;let i=null;return i=window.setTimeout(()=>{r()},n),()=>{i&&window.clearTimeout(i)}},[n,r])}const hs={open:(t,n)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${n}`,closed:(t,n)=>`${t}[data-closed], ${t}[data-state=closed] ${n}`,hover:(t,n)=>`${t}:hover ${n}, ${t}[data-hover] ${n}`,focus:(t,n)=>`${t}:focus ${n}, ${t}[data-focus] ${n}`,focusVisible:(t,n)=>`${t}:focus-visible ${n}`,focusWithin:(t,n)=>`${t}:focus-within ${n}`,active:(t,n)=>`${t}:active ${n}, ${t}[data-active] ${n}`,disabled:(t,n)=>`${t}:disabled ${n}, ${t}[data-disabled] ${n}`,invalid:(t,n)=>`${t}:invalid ${n}, ${t}[data-invalid] ${n}`,checked:(t,n)=>`${t}:checked ${n}, ${t}[data-checked] ${n}`,placeholderShown:(t,n)=>`${t}:placeholder-shown ${n}`},wa=t=>wA(n=>t(n,"&"),"[role=group]","[data-group]",".group"),hl=t=>wA(n=>t(n,"~ &"),"[data-peer]",".peer"),wA=(t,...n)=>n.map(t).join(", "),Ix={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:wa(hs.open),_groupClosed:wa(hs.closed),_groupHover:wa(hs.hover),_peerHover:hl(hs.hover),_groupFocus:wa(hs.focus),_peerFocus:hl(hs.focus),_groupFocusVisible:wa(hs.focusVisible),_peerFocusVisible:hl(hs.focusVisible),_groupActive:wa(hs.active),_peerActive:hl(hs.active),_groupDisabled:wa(hs.disabled),_peerDisabled:hl(hs.disabled),_groupInvalid:wa(hs.invalid),_peerInvalid:hl(hs.invalid),_groupChecked:wa(hs.checked),_peerChecked:hl(hs.checked),_groupFocusWithin:wa(hs.focusWithin),_peerFocusWithin:hl(hs.focusWithin),_peerPlaceholderShown:hl(hs.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},_A=Object.keys(Ix),Qz=t=>/!(important)?$/.test(t),Bw=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,Jz=(t,n)=>r=>{const i=String(n),l=Qz(i),u=Bw(i),d=t?`${t}.${u}`:u;let g=ms(r.__cssMap)&&d in r.__cssMap?r.__cssMap[d].varRef:n;return g=Bw(g),l?`${g} !important`:g};function zj(t){const{scale:n,transform:r,compose:i}=t;return(u,d)=>{const g=Jz(n,u)(d);let p=r?.(g,d)??g;return i&&(p=i(p,d)),p}}const cg=(...t)=>n=>t.reduce((r,i)=>i(r),n);function Ao(t,n){return r=>{const i={property:r,scale:t};return i.transform=zj({scale:t,transform:n}),i}}const eL=({rtl:t,ltr:n})=>r=>r.direction==="rtl"?t:n;function tL(t){const{property:n,scale:r,transform:i}=t;return{scale:r,property:eL(n),transform:r?zj({scale:r,compose:i}):i}}const TA=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function nL(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...TA].join(" ")}function rL(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...TA].join(" ")}const sL={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},iL={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function oL(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const aL={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},pb={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},lL=new Set(Object.values(pb)),mb=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),cL=t=>t.trim();function uL(t,n){if(t==null||mb.has(t))return t;if(!(gb(t)||mb.has(t)))return`url('${t}')`;const l=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),u=l?.[1],d=l?.[2];if(!u||!d)return t;const g=u.includes("-gradient")?u:`${u}-gradient`,[p,...m]=d.split(",").map(cL).filter(Boolean);if(m?.length===0)return t;const x=p in pb?pb[p]:p;m.unshift(x);const v=m.map(S=>{if(lL.has(S))return S;const E=S.indexOf(" "),[C,T]=E!==-1?[S.substr(0,E),S.substr(E+1)]:[S],A=gb(T)?T:T&&T.split(" "),D=`colors.${C}`,M=D in n.__cssMap?n.__cssMap[D].varRef:C;return A?[M,...Array.isArray(A)?A:[A]].join(" "):M});return`${g}(${v.join(", ")})`}const gb=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),dL=(t,n)=>uL(t,n??{});function hL(t){return/^var\(--.+\)$/.test(t)}const fL=t=>{const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}},_a=t=>n=>`${t}(${n})`,zn={filter(t){return t!=="auto"?t:sL},backdropFilter(t){return t!=="auto"?t:iL},ring(t){return oL(zn.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?nL():t==="auto-gpu"?rL():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:n}=fL(t);return n||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,n){const r={left:"right",right:"left"};return n.direction==="rtl"?r[t]:t},degree(t){if(hL(t)||t==null)return t;const n=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||n?`${t}deg`:t},gradient:dL,blur:_a("blur"),opacity:_a("opacity"),brightness:_a("brightness"),contrast:_a("contrast"),dropShadow:_a("drop-shadow"),grayscale:_a("grayscale"),hueRotate:t=>_a("hue-rotate")(zn.degree(t)),invert:_a("invert"),saturate:_a("saturate"),sepia:_a("sepia"),bgImage(t){return t==null||gb(t)||mb.has(t)?t:`url(${t})`},outline(t){const n=String(t)==="0"||String(t)==="none";return t!==null&&n?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:n,divide:r}=aL[t]??{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},we={borderWidths:Ao("borderWidths"),borderStyles:Ao("borderStyles"),colors:Ao("colors"),borders:Ao("borders"),gradients:Ao("gradients",zn.gradient),radii:Ao("radii",zn.px),space:Ao("space",cg(zn.vh,zn.px)),spaceT:Ao("space",cg(zn.vh,zn.px)),degreeT(t){return{property:t,transform:zn.degree}},prop(t,n,r){return{property:t,scale:n,...n&&{transform:zj({scale:n,transform:r})}}},propT(t,n){return{property:t,transform:n}},sizes:Ao("sizes",cg(zn.vh,zn.px)),sizesT:Ao("sizes",cg(zn.vh,zn.fraction)),shadows:Ao("shadows"),logical:tL,blur:Ao("blur",zn.blur)},Og={background:we.colors("background"),backgroundColor:we.colors("backgroundColor"),backgroundImage:we.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:zn.bgClip},bgSize:we.prop("backgroundSize"),bgPosition:we.prop("backgroundPosition"),bg:we.colors("background"),bgColor:we.colors("backgroundColor"),bgPos:we.prop("backgroundPosition"),bgRepeat:we.prop("backgroundRepeat"),bgAttachment:we.prop("backgroundAttachment"),bgGradient:we.gradients("backgroundImage"),bgClip:{transform:zn.bgClip}};Object.assign(Og,{bgImage:Og.backgroundImage,bgImg:Og.backgroundImage});const Zn={border:we.borders("border"),borderWidth:we.borderWidths("borderWidth"),borderStyle:we.borderStyles("borderStyle"),borderColor:we.colors("borderColor"),borderRadius:we.radii("borderRadius"),borderTop:we.borders("borderTop"),borderBlockStart:we.borders("borderBlockStart"),borderTopLeftRadius:we.radii("borderTopLeftRadius"),borderStartStartRadius:we.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:we.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:we.radii("borderTopRightRadius"),borderStartEndRadius:we.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:we.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:we.borders("borderRight"),borderInlineEnd:we.borders("borderInlineEnd"),borderBottom:we.borders("borderBottom"),borderBlockEnd:we.borders("borderBlockEnd"),borderBottomLeftRadius:we.radii("borderBottomLeftRadius"),borderBottomRightRadius:we.radii("borderBottomRightRadius"),borderLeft:we.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:we.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:we.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:we.borders(["borderLeft","borderRight"]),borderInline:we.borders("borderInline"),borderY:we.borders(["borderTop","borderBottom"]),borderBlock:we.borders("borderBlock"),borderTopWidth:we.borderWidths("borderTopWidth"),borderBlockStartWidth:we.borderWidths("borderBlockStartWidth"),borderTopColor:we.colors("borderTopColor"),borderBlockStartColor:we.colors("borderBlockStartColor"),borderTopStyle:we.borderStyles("borderTopStyle"),borderBlockStartStyle:we.borderStyles("borderBlockStartStyle"),borderBottomWidth:we.borderWidths("borderBottomWidth"),borderBlockEndWidth:we.borderWidths("borderBlockEndWidth"),borderBottomColor:we.colors("borderBottomColor"),borderBlockEndColor:we.colors("borderBlockEndColor"),borderBottomStyle:we.borderStyles("borderBottomStyle"),borderBlockEndStyle:we.borderStyles("borderBlockEndStyle"),borderLeftWidth:we.borderWidths("borderLeftWidth"),borderInlineStartWidth:we.borderWidths("borderInlineStartWidth"),borderLeftColor:we.colors("borderLeftColor"),borderInlineStartColor:we.colors("borderInlineStartColor"),borderLeftStyle:we.borderStyles("borderLeftStyle"),borderInlineStartStyle:we.borderStyles("borderInlineStartStyle"),borderRightWidth:we.borderWidths("borderRightWidth"),borderInlineEndWidth:we.borderWidths("borderInlineEndWidth"),borderRightColor:we.colors("borderRightColor"),borderInlineEndColor:we.colors("borderInlineEndColor"),borderRightStyle:we.borderStyles("borderRightStyle"),borderInlineEndStyle:we.borderStyles("borderInlineEndStyle"),borderTopRadius:we.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:we.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:we.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:we.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Zn,{rounded:Zn.borderRadius,roundedTop:Zn.borderTopRadius,roundedTopLeft:Zn.borderTopLeftRadius,roundedTopRight:Zn.borderTopRightRadius,roundedTopStart:Zn.borderStartStartRadius,roundedTopEnd:Zn.borderStartEndRadius,roundedBottom:Zn.borderBottomRadius,roundedBottomLeft:Zn.borderBottomLeftRadius,roundedBottomRight:Zn.borderBottomRightRadius,roundedBottomStart:Zn.borderEndStartRadius,roundedBottomEnd:Zn.borderEndEndRadius,roundedLeft:Zn.borderLeftRadius,roundedRight:Zn.borderRightRadius,roundedStart:Zn.borderInlineStartRadius,roundedEnd:Zn.borderInlineEndRadius,borderStart:Zn.borderInlineStart,borderEnd:Zn.borderInlineEnd,borderTopStartRadius:Zn.borderStartStartRadius,borderTopEndRadius:Zn.borderStartEndRadius,borderBottomStartRadius:Zn.borderEndStartRadius,borderBottomEndRadius:Zn.borderEndEndRadius,borderStartRadius:Zn.borderInlineStartRadius,borderEndRadius:Zn.borderInlineEndRadius,borderStartWidth:Zn.borderInlineStartWidth,borderEndWidth:Zn.borderInlineEndWidth,borderStartColor:Zn.borderInlineStartColor,borderEndColor:Zn.borderInlineEndColor,borderStartStyle:Zn.borderInlineStartStyle,borderEndStyle:Zn.borderInlineEndStyle});const pL={color:we.colors("color"),textColor:we.colors("color"),fill:we.colors("fill"),stroke:we.colors("stroke"),accentColor:we.colors("accentColor"),textFillColor:we.colors("textFillColor")},ox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:zn.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:we.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:we.space("gap"),rowGap:we.space("rowGap"),columnGap:we.space("columnGap")};Object.assign(ox,{flexDir:ox.flexDirection});const Mo={width:we.sizesT("width"),inlineSize:we.sizesT("inlineSize"),height:we.sizes("height"),blockSize:we.sizes("blockSize"),boxSize:we.sizes(["width","height"]),minWidth:we.sizes("minWidth"),minInlineSize:we.sizes("minInlineSize"),minHeight:we.sizes("minHeight"),minBlockSize:we.sizes("minBlockSize"),maxWidth:we.sizes("maxWidth"),maxInlineSize:we.sizes("maxInlineSize"),maxHeight:we.sizes("maxHeight"),maxBlockSize:we.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (min-width: ${n.__breakpoints?.get(t)?.minW??t})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (max-width: ${n.__breakpoints?.get(t)?._minW??t})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:we.propT("float",zn.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Mo,{w:Mo.width,h:Mo.height,minW:Mo.minWidth,maxW:Mo.maxWidth,minH:Mo.minHeight,maxH:Mo.maxHeight,overscroll:Mo.overscrollBehavior,overscrollX:Mo.overscrollBehaviorX,overscrollY:Mo.overscrollBehaviorY});const mL={filter:{transform:zn.filter},blur:we.blur("--chakra-blur"),brightness:we.propT("--chakra-brightness",zn.brightness),contrast:we.propT("--chakra-contrast",zn.contrast),hueRotate:we.propT("--chakra-hue-rotate",zn.hueRotate),invert:we.propT("--chakra-invert",zn.invert),saturate:we.propT("--chakra-saturate",zn.saturate),dropShadow:we.propT("--chakra-drop-shadow",zn.dropShadow),backdropFilter:{transform:zn.backdropFilter},backdropBlur:we.blur("--chakra-backdrop-blur"),backdropBrightness:we.propT("--chakra-backdrop-brightness",zn.brightness),backdropContrast:we.propT("--chakra-backdrop-contrast",zn.contrast),backdropHueRotate:we.propT("--chakra-backdrop-hue-rotate",zn.hueRotate),backdropInvert:we.propT("--chakra-backdrop-invert",zn.invert),backdropSaturate:we.propT("--chakra-backdrop-saturate",zn.saturate)},gL={ring:{transform:zn.ring},ringColor:we.colors("--chakra-ring-color"),ringOffset:we.prop("--chakra-ring-offset-width"),ringOffsetColor:we.colors("--chakra-ring-offset-color"),ringInset:we.prop("--chakra-ring-inset")},xL={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:zn.outline},outlineOffset:!0,outlineColor:we.colors("outlineColor")},AA={gridGap:we.space("gridGap"),gridColumnGap:we.space("gridColumnGap"),gridRowGap:we.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function vL(t,n,r,i){const l=typeof n=="string"?n.split("."):[n];for(i=0;i<l.length&&t;i+=1)t=t[l[i]];return t===void 0?r:t}const yL=t=>{const n=new WeakMap;return(i,l,u,d)=>{if(typeof i>"u")return t(i,l,u);n.has(i)||n.set(i,new Map);const g=n.get(i);if(g.has(l))return g.get(l);const p=t(i,l,u,d);return g.set(l,p),p}},bL=yL(vL),jL={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},SL={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},ey=(t,n,r)=>{const i={},l=bL(t,n,{});for(const u in l)u in r&&r[u]!=null||(i[u]=l[u]);return i},EL={srOnly:{transform(t){return t===!0?jL:t==="focusable"?SL:{}}},layerStyle:{processResult:!0,transform:(t,n,r)=>ey(n,`layerStyles.${t}`,r)},textStyle:{processResult:!0,transform:(t,n,r)=>ey(n,`textStyles.${t}`,r)},apply:{processResult:!0,transform:(t,n,r)=>ey(n,t,r)}},ep={position:!0,pos:we.prop("position"),zIndex:we.prop("zIndex","zIndices"),inset:we.spaceT("inset"),insetX:we.spaceT(["left","right"]),insetInline:we.spaceT("insetInline"),insetY:we.spaceT(["top","bottom"]),insetBlock:we.spaceT("insetBlock"),top:we.spaceT("top"),insetBlockStart:we.spaceT("insetBlockStart"),bottom:we.spaceT("bottom"),insetBlockEnd:we.spaceT("insetBlockEnd"),left:we.spaceT("left"),insetInlineStart:we.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:we.spaceT("right"),insetInlineEnd:we.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(ep,{insetStart:ep.insetInlineStart,insetEnd:ep.insetInlineEnd});const xb={boxShadow:we.shadows("boxShadow"),mixBlendMode:!0,blendMode:we.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:we.prop("backgroundBlendMode"),opacity:!0};Object.assign(xb,{shadow:xb.boxShadow});const jr={margin:we.spaceT("margin"),marginTop:we.spaceT("marginTop"),marginBlockStart:we.spaceT("marginBlockStart"),marginRight:we.spaceT("marginRight"),marginInlineEnd:we.spaceT("marginInlineEnd"),marginBottom:we.spaceT("marginBottom"),marginBlockEnd:we.spaceT("marginBlockEnd"),marginLeft:we.spaceT("marginLeft"),marginInlineStart:we.spaceT("marginInlineStart"),marginX:we.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:we.spaceT("marginInline"),marginY:we.spaceT(["marginTop","marginBottom"]),marginBlock:we.spaceT("marginBlock"),padding:we.space("padding"),paddingTop:we.space("paddingTop"),paddingBlockStart:we.space("paddingBlockStart"),paddingRight:we.space("paddingRight"),paddingBottom:we.space("paddingBottom"),paddingBlockEnd:we.space("paddingBlockEnd"),paddingLeft:we.space("paddingLeft"),paddingInlineStart:we.space("paddingInlineStart"),paddingInlineEnd:we.space("paddingInlineEnd"),paddingX:we.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:we.space("paddingInline"),paddingY:we.space(["paddingTop","paddingBottom"]),paddingBlock:we.space("paddingBlock")};Object.assign(jr,{m:jr.margin,mt:jr.marginTop,mr:jr.marginRight,me:jr.marginInlineEnd,marginEnd:jr.marginInlineEnd,mb:jr.marginBottom,ml:jr.marginLeft,ms:jr.marginInlineStart,marginStart:jr.marginInlineStart,mx:jr.marginX,my:jr.marginY,p:jr.padding,pt:jr.paddingTop,py:jr.paddingY,px:jr.paddingX,pb:jr.paddingBottom,pl:jr.paddingLeft,ps:jr.paddingInlineStart,paddingStart:jr.paddingInlineStart,pr:jr.paddingRight,pe:jr.paddingInlineEnd,paddingEnd:jr.paddingInlineEnd});const CL={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:we.spaceT("scrollMargin"),scrollMarginTop:we.spaceT("scrollMarginTop"),scrollMarginBottom:we.spaceT("scrollMarginBottom"),scrollMarginLeft:we.spaceT("scrollMarginLeft"),scrollMarginRight:we.spaceT("scrollMarginRight"),scrollMarginX:we.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:we.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:we.spaceT("scrollPadding"),scrollPaddingTop:we.spaceT("scrollPaddingTop"),scrollPaddingBottom:we.spaceT("scrollPaddingBottom"),scrollPaddingLeft:we.spaceT("scrollPaddingLeft"),scrollPaddingRight:we.spaceT("scrollPaddingRight"),scrollPaddingX:we.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:we.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},wL={fontFamily:we.prop("fontFamily","fonts"),fontSize:we.prop("fontSize","fontSizes",zn.px),fontWeight:we.prop("fontWeight","fontWeights"),lineHeight:we.prop("lineHeight","lineHeights"),letterSpacing:we.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},_L={textDecorationColor:we.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:we.shadows("textShadow")},TL={clipPath:!0,transform:we.propT("transform",zn.transform),transformOrigin:!0,translateX:we.spaceT("--chakra-translate-x"),translateY:we.spaceT("--chakra-translate-y"),skewX:we.degreeT("--chakra-skew-x"),skewY:we.degreeT("--chakra-skew-y"),scaleX:we.prop("--chakra-scale-x"),scaleY:we.prop("--chakra-scale-y"),scale:we.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:we.degreeT("--chakra-rotate")},AL={listStyleType:!0,listStylePosition:!0,listStylePos:we.prop("listStylePosition"),listStyleImage:!0,listStyleImg:we.prop("listStyleImage")},RL={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:we.prop("transitionDuration","transition.duration"),transitionProperty:we.prop("transitionProperty","transition.property"),transitionTimingFunction:we.prop("transitionTimingFunction","transition.easing")},Lj=No({},Og,Zn,pL,ox,Mo,mL,gL,xL,AA,EL,ep,xb,jr,CL,wL,_L,TL,AL,RL),kL=Object.assign({},jr,Mo,ox,AA,ep),ML=Object.keys(kL),PL=[...Object.keys(Lj),..._A],DL={...Lj,...Ix},NL=t=>t in DL,IL=t=>n=>{if(!n.__breakpoints)return t;const{isResponsive:r,toArrayValue:i,media:l}=n.__breakpoints,u={};for(const d in t){let g=to(t[d],n);if(g==null)continue;if(g=ms(g)&&r(g)?i(g):g,!Array.isArray(g)){u[d]=g;continue}const p=g.slice(0,l.length).length;for(let m=0;m<p;m+=1){const x=l?.[m];if(!x){u[d]=g[m];continue}u[x]=u[x]||{},g[m]!=null&&(u[x][d]=g[m])}}return u};function zL(t){const n=[];let r="",i=!1;for(let l=0;l<t.length;l++){const u=t[l];u==="("?(i=!0,r+=u):u===")"?(i=!1,r+=u):u===","&&!i?(n.push(r),r=""):r+=u}return r=r.trim(),r&&n.push(r),n}function LL(t){return/^var\(--.+\)$/.test(t)}const OL=(t,n)=>t.startsWith("--")&&typeof n=="string"&&!LL(n),BL=(t,n)=>{if(n==null)return n;const r=d=>t.__cssMap?.[d]?.varRef,i=d=>r(d)??d,[l,u]=zL(n);return n=r(l)??i(u)??i(n),n};function $L(t){const{configs:n={},pseudos:r={},theme:i}=t,l=(u,d=!1)=>{const g=to(u,i),p=IL(g)(i);let m={};for(let x in p){const v=p[x];let S=to(v,i);x in r&&(x=r[x]),OL(x,S)&&(S=BL(i,S));let E=n[x];if(E===!0&&(E={property:x}),ms(S)){m[x]=m[x]??{},m[x]=No({},m[x],l(S,!0));continue}let C=E?.transform?.(S,i,g)??S;C=E?.processResult?l(C,!0):C;const T=to(E?.property,i);if(!d&&E?.static){const A=to(E.static,i);m=No({},m,A)}if(T&&Array.isArray(T)){for(const A of T)m[A]=C;continue}if(T){T==="&"&&ms(C)?m=No({},m,C):m[T]=C;continue}if(ms(C)){m=No({},m,C);continue}m[x]=C}return m};return l}const RA=t=>n=>$L({theme:n,pseudos:Ix,configs:Lj})(t);function yr(t){return{definePartsStyle(n){return n},defineMultiStyleConfig(n){return{parts:t,...n}}}}function FL(t,n,r){return t.__cssMap?.[`${n}.${r}`]?.varRef??r}function VL(t,n){if(Array.isArray(t))return t;if(ms(t))return n(t);if(t!=null)return[t]}function UL(t,n){for(let r=n+1;r<t.length;r++)if(t[r]!=null)return r;return-1}function HL(t){const n=t.__breakpoints;return function(i,l,u,d){if(!n)return;const g={},p=VL(u,n.toArrayValue);if(!p)return g;const m=p.length,x=m===1,v=!!i.parts;for(let S=0;S<m;S++){const E=n.details[S],C=n.details[UL(p,S)],T=zf(E.minW,C?._minW),A=to(i[l]?.[p[S]],d);if(A){if(v){i.parts?.forEach(D=>{No(g,{[D]:x?A[D]:{[T]:A[D]}})});continue}if(!v){x?No(g,A):g[T]=A;continue}g[T]=A}}return g}}function WL(t){return n=>{const{variant:r,size:i,theme:l}=n,u=HL(l);return No({},to(t.baseStyle??{},n),u(t,"sizes",i,n),u(t,"variants",r,n))}}function Vn(t){return Bp(t,["styleConfig","size","variant","colorScheme"])}function kA(t){return ms(t)&&t.reference?t.reference:String(t)}const zx=(t,...n)=>n.map(kA).join(` ${t} `).replace(/calc/g,""),$w=(...t)=>`calc(${zx("+",...t)})`,Fw=(...t)=>`calc(${zx("-",...t)})`,vb=(...t)=>`calc(${zx("*",...t)})`,Vw=(...t)=>`calc(${zx("/",...t)})`,Uw=t=>{const n=kA(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:vb(n,-1)},gl=Object.assign(t=>({add:(...n)=>gl($w(t,...n)),subtract:(...n)=>gl(Fw(t,...n)),multiply:(...n)=>gl(vb(t,...n)),divide:(...n)=>gl(Vw(t,...n)),negate:()=>gl(Uw(t)),toString:()=>t.toString()}),{add:$w,subtract:Fw,multiply:vb,divide:Vw,negate:Uw});function qL(t,n="-"){return t.replace(/\s+/g,n)}function GL(t){const n=qL(t.toString());return YL(ZL(n))}function ZL(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function YL(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function KL(t,n=""){return[n,t].filter(Boolean).join("-")}function XL(t,n){return`var(${t}${n?`, ${n}`:""})`}function QL(t,n=""){return GL(`--${KL(t,n)}`)}function Kt(t,n,r){const i=QL(t,r);return{variable:i,reference:XL(i,n)}}function JL(t,n){const r={};for(const i of n){if(Array.isArray(i)){const[l,u]=i;r[l]=Kt(`${t}-${l}`,u);continue}r[i]=Kt(`${t}-${i}`)}return r}const eO=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function tO(t){return bA(t,eO)}function nO(t){return t.semanticTokens}function rO(t){const{__cssMap:n,__cssVars:r,__breakpoints:i,...l}=t;return l}function sO(t){const n=tO(t),r=nO(t),i=u=>_A.includes(u)||u==="default",l={};return Lw(n,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!1,value:u})}),Lw(r,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!0,value:u})},{stop:u=>Object.keys(u).every(i)}),l}function Hw(t,n){return Kt(String(t).replace(/\./g,"-"),void 0,n)}function iO(t){const n=sO(t),r=t.config?.cssVarPrefix;let i={};const l={};function u(d,g){const m=[String(d).split(".")[0],g].join(".");if(!n[m])return g;const{reference:v}=Hw(m,r);return v}for(const[d,g]of Object.entries(n)){const{isSemantic:p,value:m}=g,{variable:x,reference:v}=Hw(d,r);if(!p){if(d.startsWith("space")){const E=d.split("."),[C,...T]=E,A=`${C}.-${T.join(".")}`,D=gl.negate(m),M=gl.negate(v);l[A]={value:D,var:x,varRef:M}}i[x]=m,l[d]={value:m,var:x,varRef:v};continue}const S=ms(m)?m:{default:m};i=No(i,Object.entries(S).reduce((E,[C,T])=>{if(!T)return E;const A=u(d,`${T}`);if(C==="default")return E[x]=A,E;const D=Ix?.[C]??C;return E[D]={[x]:A},E},{})),l[d]={value:v,var:x,varRef:v}}return{cssVars:i,cssMap:l}}function oO(t){const n=rO(t),{cssMap:r,cssVars:i}=iO(n);return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...i},__cssMap:r,__breakpoints:bz(n.breakpoints)}),n}function tr(t,n={}){let r=!1;function i(){if(!r){r=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function l(...x){i();for(const v of x)n[v]=p(v);return tr(t,n)}function u(...x){for(const v of x)v in n||(n[v]=p(v));return tr(t,n)}function d(){return Object.fromEntries(Object.entries(n).map(([v,S])=>[v,S.selector]))}function g(){return Object.fromEntries(Object.entries(n).map(([v,S])=>[v,S.className]))}function p(x){const E=`chakra-${(["container","root"].includes(x??"")?[t]:[t,x]).filter(Boolean).join("__")}`;return{className:E,selector:`.${E}`,toString:()=>x}}return{parts:l,toPart:p,extend:u,selectors:d,classnames:g,get keys(){return Object.keys(n)},__type:{}}}const aO=tr("accordion").parts("root","container","button","panel","icon"),lO=tr("alert").parts("title","description","container","icon","spinner"),cO=tr("avatar").parts("label","badge","container","excessLabel","group"),uO=tr("breadcrumb").parts("link","item","container","separator");tr("button").parts();const dO=tr("checkbox").parts("control","icon","container","label");tr("progress").parts("track","filledTrack","label");const hO=tr("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),fO=tr("editable").parts("preview","input","textarea"),pO=tr("form").parts("container","requiredIndicator","helperText"),mO=tr("formError").parts("text","icon"),gO=tr("input").parts("addon","field","element","group"),xO=tr("list").parts("container","item","icon"),vO=tr("menu").parts("button","list","item","groupTitle","icon","command","divider"),yO=tr("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),bO=tr("numberinput").parts("root","field","stepperGroup","stepper");tr("pininput").parts("field");const jO=tr("popover").parts("content","header","body","footer","popper","arrow","closeButton"),SO=tr("progress").parts("label","filledTrack","track"),EO=tr("radio").parts("container","control","label"),CO=tr("select").parts("field","icon"),wO=tr("slider").parts("container","track","thumb","filledTrack","mark"),_O=tr("stat").parts("container","label","helpText","number","icon"),TO=tr("switch").parts("container","track","thumb","label"),AO=tr("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),RO=tr("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),kO=tr("tag").parts("container","label","closeButton"),MO=tr("card").parts("container","header","body","footer");tr("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:PO,defineMultiStyleConfig:DO}=yr(aO.keys),NO={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},IO={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},zO={pt:"2",px:"4",pb:"5"},LO={fontSize:"1.25em"},OO=PO({container:NO,button:IO,panel:zO,icon:LO}),BO=DO({baseStyle:OO});function vu(t,n,r){return Math.min(Math.max(t,r),n)}class $O extends Error{constructor(n){super(`Failed to parse color: "${n}"`)}}var Of=$O;function Oj(t){if(typeof t!="string")throw new Of(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let n=t.trim();n=ZO.test(t)?UO(t):t;const r=HO.exec(n);if(r){const d=Array.from(r).slice(1);return[...d.slice(0,3).map(g=>parseInt(mp(g,2),16)),parseInt(mp(d[3]||"f",2),16)/255]}const i=WO.exec(n);if(i){const d=Array.from(i).slice(1);return[...d.slice(0,3).map(g=>parseInt(g,16)),parseInt(d[3]||"ff",16)/255]}const l=qO.exec(n);if(l){const d=Array.from(l).slice(1);return[...d.slice(0,3).map(g=>parseInt(g,10)),parseFloat(d[3]||"1")]}const u=GO.exec(n);if(u){const[d,g,p,m]=Array.from(u).slice(1).map(parseFloat);if(vu(0,100,g)!==g)throw new Of(t);if(vu(0,100,p)!==p)throw new Of(t);return[...YO(d,g,p),Number.isNaN(m)?1:m]}throw new Of(t)}function FO(t){let n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);return(n>>>0)%2341}const Ww=t=>parseInt(t.replace(/_/g,""),36),VO="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,n)=>{const r=Ww(n.substring(0,3)),i=Ww(n.substring(3)).toString(16);let l="";for(let u=0;u<6-i.length;u++)l+="0";return t[r]=`${l}${i}`,t},{});function UO(t){const n=t.toLowerCase().trim(),r=VO[FO(n)];if(!r)throw new Of(t);return`#${r}`}const mp=(t,n)=>Array.from(Array(n)).map(()=>t).join(""),HO=new RegExp(`^#${mp("([a-f0-9])",3)}([a-f0-9])?$`,"i"),WO=new RegExp(`^#${mp("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),qO=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${mp(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),GO=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,ZO=/^[a-z]+$/i,qw=t=>Math.round(t*255),YO=(t,n,r)=>{let i=r/100;if(n===0)return[i,i,i].map(qw);const l=(t%360+360)%360/60,u=(1-Math.abs(2*i-1))*(n/100),d=u*(1-Math.abs(l%2-1));let g=0,p=0,m=0;l>=0&&l<1?(g=u,p=d):l>=1&&l<2?(g=d,p=u):l>=2&&l<3?(p=u,m=d):l>=3&&l<4?(p=d,m=u):l>=4&&l<5?(g=d,m=u):l>=5&&l<6&&(g=u,m=d);const x=i-u/2,v=g+x,S=p+x,E=m+x;return[v,S,E].map(qw)};function KO(t,n,r,i){return`rgba(${vu(0,255,t).toFixed()}, ${vu(0,255,n).toFixed()}, ${vu(0,255,r).toFixed()}, ${parseFloat(vu(0,1,i).toFixed(3))})`}function XO(t,n){const[r,i,l,u]=Oj(t);return KO(r,i,l,u-n)}function QO(t){const[n,r,i,l]=Oj(t);let u=d=>{const g=vu(0,255,d).toString(16);return g.length===1?`0${g}`:g};return`#${u(n)}${u(r)}${u(i)}${l<1?u(Math.round(l*255)):""}`}const JO=t=>Object.keys(t).length===0;function e4(t,n,r,i,l){for(n=n.split?n.split("."):n,i=0;i<n.length;i++)t=t?t[n[i]]:l;return t===l?r:t}const mi=(t,n,r)=>{const i=e4(t,`colors.${n}`,n);try{return QO(i),i}catch{return r??"#000000"}},t4=t=>{const[n,r,i]=Oj(t);return(n*299+r*587+i*114)/1e3},n4=t=>n=>{const r=mi(n,t);return t4(r)<128?"dark":"light"},r4=t=>n=>n4(t)(n)==="dark",ih=(t,n)=>r=>{const i=mi(r,t);return XO(i,1-n)};function Gw(t="1rem",n="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${n} 25%,
    transparent 25%,
    transparent 50%,
    ${n} 50%,
    ${n} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const s4=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function i4(t){const n=s4();return!t||JO(t)?n:t.string&&t.colors?a4(t.string,t.colors):t.string&&!t.colors?o4(t.string):t.colors&&!t.string?l4(t.colors):n}function o4(t){let n=0;if(t.length===0)return n.toString();for(let i=0;i<t.length;i+=1)n=t.charCodeAt(i)+((n<<5)-n),n=n&n;let r="#";for(let i=0;i<3;i+=1){const l=n>>i*8&255;r+=`00${l.toString(16)}`.substr(-2)}return r}function a4(t,n){let r=0;if(t.length===0)return n[0];for(let i=0;i<t.length;i+=1)r=t.charCodeAt(i)+((r<<5)-r),r=r&r;return r=(r%n.length+n.length)%n.length,n[r]}function l4(t){return t[Math.floor(Math.random()*t.length)]}function Zt(t,n){return r=>r.colorMode==="dark"?n:t}function Bj(t){const{orientation:n,vertical:r,horizontal:i}=t;return n?n==="vertical"?r:i:{}}function MA(t){return ms(t)&&t.reference?t.reference:String(t)}const Lx=(t,...n)=>n.map(MA).join(` ${t} `).replace(/calc/g,""),Zw=(...t)=>`calc(${Lx("+",...t)})`,Yw=(...t)=>`calc(${Lx("-",...t)})`,yb=(...t)=>`calc(${Lx("*",...t)})`,Kw=(...t)=>`calc(${Lx("/",...t)})`,Xw=t=>{const n=MA(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:yb(n,-1)},xl=Object.assign(t=>({add:(...n)=>xl(Zw(t,...n)),subtract:(...n)=>xl(Yw(t,...n)),multiply:(...n)=>xl(yb(t,...n)),divide:(...n)=>xl(Kw(t,...n)),negate:()=>xl(Xw(t)),toString:()=>t.toString()}),{add:Zw,subtract:Yw,multiply:yb,divide:Kw,negate:Xw});function c4(t){return!Number.isInteger(parseFloat(t.toString()))}function u4(t,n="-"){return t.replace(/\s+/g,n)}function PA(t){const n=u4(t.toString());return n.includes("\\.")?t:c4(t)?n.replace(".","\\."):t}function d4(t,n=""){return[n,PA(t)].filter(Boolean).join("-")}function h4(t,n){return`var(${PA(t)}${n?`, ${n}`:""})`}function f4(t,n=""){return`--${d4(t,n)}`}function gs(t,n){const r=f4(t,n?.prefix);return{variable:r,reference:h4(r,p4(n?.fallback))}}function p4(t){return t?.reference}const{definePartsStyle:Vp,defineMultiStyleConfig:m4}=yr(lO.keys),no=Kt("alert-fg"),Rl=Kt("alert-bg"),g4=Vp({container:{bg:Rl.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:no.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:no.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function $j(t){const{theme:n,colorScheme:r}=t,i=ih(`${r}.200`,.16)(n);return{light:`colors.${r}.100`,dark:i}}const x4=Vp(t=>{const{colorScheme:n}=t,r=$j(t);return{container:{[no.variable]:`colors.${n}.600`,[Rl.variable]:r.light,_dark:{[no.variable]:`colors.${n}.200`,[Rl.variable]:r.dark}}}}),v4=Vp(t=>{const{colorScheme:n}=t,r=$j(t);return{container:{[no.variable]:`colors.${n}.600`,[Rl.variable]:r.light,_dark:{[no.variable]:`colors.${n}.200`,[Rl.variable]:r.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:no.reference}}}),y4=Vp(t=>{const{colorScheme:n}=t,r=$j(t);return{container:{[no.variable]:`colors.${n}.600`,[Rl.variable]:r.light,_dark:{[no.variable]:`colors.${n}.200`,[Rl.variable]:r.dark},pt:"2",borderTopWidth:"4px",borderTopColor:no.reference}}}),b4=Vp(t=>{const{colorScheme:n}=t;return{container:{[no.variable]:"colors.white",[Rl.variable]:`colors.${n}.600`,_dark:{[no.variable]:"colors.gray.900",[Rl.variable]:`colors.${n}.200`},color:no.reference}}}),j4={subtle:x4,"left-accent":v4,"top-accent":y4,solid:b4},S4=m4({baseStyle:g4,variants:j4,defaultProps:{variant:"subtle",colorScheme:"blue"}}),DA={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},E4={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},C4={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},NA={...DA,...E4,container:C4},w4=t=>typeof t=="function";function gi(t,...n){return w4(t)?t(...n):t}const{definePartsStyle:IA,defineMultiStyleConfig:_4}=yr(cO.keys),Yd=Kt("avatar-border-color"),tp=Kt("avatar-bg"),gp=Kt("avatar-font-size"),oh=Kt("avatar-size"),T4={borderRadius:"full",border:"0.2em solid",borderColor:Yd.reference,[Yd.variable]:"white",_dark:{[Yd.variable]:"colors.gray.800"}},A4={bg:tp.reference,fontSize:gp.reference,width:oh.reference,height:oh.reference,lineHeight:"1",[tp.variable]:"colors.gray.200",_dark:{[tp.variable]:"colors.whiteAlpha.400"}},R4=t=>{const{name:n,theme:r}=t,i=n?i4({string:n}):"colors.gray.400",l=r4(i)(r);let u="white";return l||(u="gray.800"),{bg:tp.reference,fontSize:gp.reference,color:u,borderColor:Yd.reference,verticalAlign:"top",width:oh.reference,height:oh.reference,"&:not([data-loaded])":{[tp.variable]:i},[Yd.variable]:"colors.white",_dark:{[Yd.variable]:"colors.gray.800"}}},k4={fontSize:gp.reference,lineHeight:"1"},M4=IA(t=>({badge:gi(T4,t),excessLabel:gi(A4,t),container:gi(R4,t),label:k4}));function pc(t){const n=t!=="100%"?NA[t]:void 0;return IA({container:{[oh.variable]:n??t,[gp.variable]:`calc(${n??t} / 2.5)`},excessLabel:{[oh.variable]:n??t,[gp.variable]:`calc(${n??t} / 2.5)`}})}const P4={"2xs":pc(4),xs:pc(6),sm:pc(8),md:pc(12),lg:pc(16),xl:pc(24),"2xl":pc(32),full:pc("100%")},D4=_4({baseStyle:M4,sizes:P4,defaultProps:{size:"md"}}),Yr=JL("badge",["bg","color","shadow"]),N4={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Yr.bg.reference,color:Yr.color.reference,boxShadow:Yr.shadow.reference},I4=t=>{const{colorScheme:n,theme:r}=t,i=ih(`${n}.500`,.6)(r);return{[Yr.bg.variable]:`colors.${n}.500`,[Yr.color.variable]:"colors.white",_dark:{[Yr.bg.variable]:i,[Yr.color.variable]:"colors.whiteAlpha.800"}}},z4=t=>{const{colorScheme:n,theme:r}=t,i=ih(`${n}.200`,.16)(r);return{[Yr.bg.variable]:`colors.${n}.100`,[Yr.color.variable]:`colors.${n}.800`,_dark:{[Yr.bg.variable]:i,[Yr.color.variable]:`colors.${n}.200`}}},L4=t=>{const{colorScheme:n,theme:r}=t,i=ih(`${n}.200`,.8)(r);return{[Yr.color.variable]:`colors.${n}.500`,_dark:{[Yr.color.variable]:i},[Yr.shadow.variable]:`inset 0 0 0px 1px ${Yr.color.reference}`}},O4={solid:I4,subtle:z4,outline:L4},np={baseStyle:N4,variants:O4,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:B4,definePartsStyle:$4}=yr(uO.keys),ty=Kt("breadcrumb-link-decor"),F4={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:ty.reference,[ty.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[ty.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},V4=$4({link:F4}),U4=B4({baseStyle:V4}),H4={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},zA=t=>{const{colorScheme:n,theme:r}=t;if(n==="gray")return{color:Zt("gray.800","whiteAlpha.900")(t),_hover:{bg:Zt("gray.100","whiteAlpha.200")(t)},_active:{bg:Zt("gray.200","whiteAlpha.300")(t)}};const i=ih(`${n}.200`,.12)(r),l=ih(`${n}.200`,.24)(r);return{color:Zt(`${n}.600`,`${n}.200`)(t),bg:"transparent",_hover:{bg:Zt(`${n}.50`,i)(t)},_active:{bg:Zt(`${n}.100`,l)(t)}}},W4=t=>{const{colorScheme:n}=t,r=Zt("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:n==="gray"?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...gi(zA,t)}},q4={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},G4=t=>{const{colorScheme:n}=t;if(n==="gray"){const g=Zt("gray.100","whiteAlpha.200")(t);return{bg:g,color:Zt("gray.800","whiteAlpha.900")(t),_hover:{bg:Zt("gray.200","whiteAlpha.300")(t),_disabled:{bg:g}},_active:{bg:Zt("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:l=`${n}.600`,activeBg:u=`${n}.700`}=q4[n]??{},d=Zt(r,`${n}.200`)(t);return{bg:d,color:Zt(i,"gray.800")(t),_hover:{bg:Zt(l,`${n}.300`)(t),_disabled:{bg:d}},_active:{bg:Zt(u,`${n}.400`)(t)}}},Z4=t=>{const{colorScheme:n}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Zt(`${n}.500`,`${n}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Zt(`${n}.700`,`${n}.500`)(t)}}},Y4={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},K4={ghost:zA,outline:W4,solid:G4,link:Z4,unstyled:Y4},X4={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},Q4={baseStyle:H4,variants:K4,sizes:X4,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:wu,defineMultiStyleConfig:J4}=yr(MO.keys),ax=Kt("card-bg"),wl=Kt("card-padding"),LA=Kt("card-shadow"),Bg=Kt("card-radius"),OA=Kt("card-border-width","0"),BA=Kt("card-border-color"),e3=wu({container:{[ax.variable]:"colors.chakra-body-bg",backgroundColor:ax.reference,boxShadow:LA.reference,borderRadius:Bg.reference,color:"chakra-body-text",borderWidth:OA.reference,borderColor:BA.reference},body:{padding:wl.reference,flex:"1 1 0%"},header:{padding:wl.reference},footer:{padding:wl.reference}}),t3={sm:wu({container:{[Bg.variable]:"radii.base",[wl.variable]:"space.3"}}),md:wu({container:{[Bg.variable]:"radii.md",[wl.variable]:"space.5"}}),lg:wu({container:{[Bg.variable]:"radii.xl",[wl.variable]:"space.7"}})},n3={elevated:wu({container:{[LA.variable]:"shadows.base",_dark:{[ax.variable]:"colors.gray.700"}}}),outline:wu({container:{[OA.variable]:"1px",[BA.variable]:"colors.chakra-border-color"}}),filled:wu({container:{[ax.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[wl.variable]:0},header:{[wl.variable]:0},footer:{[wl.variable]:0}}},r3=J4({baseStyle:e3,variants:n3,sizes:t3,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:$g,defineMultiStyleConfig:s3}=yr(dO.keys),rp=Kt("checkbox-size"),i3=t=>{const{colorScheme:n}=t;return{w:rp.reference,h:rp.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Zt(`${n}.500`,`${n}.200`)(t),borderColor:Zt(`${n}.500`,`${n}.200`)(t),color:Zt("white","gray.900")(t),_hover:{bg:Zt(`${n}.600`,`${n}.300`)(t),borderColor:Zt(`${n}.600`,`${n}.300`)(t)},_disabled:{borderColor:Zt("gray.200","transparent")(t),bg:Zt("gray.200","whiteAlpha.300")(t),color:Zt("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Zt(`${n}.500`,`${n}.200`)(t),borderColor:Zt(`${n}.500`,`${n}.200`)(t),color:Zt("white","gray.900")(t)},_disabled:{bg:Zt("gray.100","whiteAlpha.100")(t),borderColor:Zt("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Zt("red.500","red.300")(t)}}},o3={_disabled:{cursor:"not-allowed"}},a3={userSelect:"none",_disabled:{opacity:.4}},l3={transitionProperty:"transform",transitionDuration:"normal"},c3=$g(t=>({icon:l3,container:o3,control:gi(i3,t),label:a3})),u3={sm:$g({control:{[rp.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:$g({control:{[rp.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:$g({control:{[rp.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},lx=s3({baseStyle:c3,sizes:u3,defaultProps:{size:"md",colorScheme:"blue"}}),sp=gs("close-button-size"),Ef=gs("close-button-bg"),d3={w:[sp.reference],h:[sp.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Ef.variable]:"colors.blackAlpha.100",_dark:{[Ef.variable]:"colors.whiteAlpha.100"}},_active:{[Ef.variable]:"colors.blackAlpha.200",_dark:{[Ef.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Ef.reference},h3={lg:{[sp.variable]:"sizes.10",fontSize:"md"},md:{[sp.variable]:"sizes.8",fontSize:"xs"},sm:{[sp.variable]:"sizes.6",fontSize:"2xs"}},f3={baseStyle:d3,sizes:h3,defaultProps:{size:"md"}},{variants:p3,defaultProps:m3}=np,g3={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Yr.bg.reference,color:Yr.color.reference,boxShadow:Yr.shadow.reference},x3={baseStyle:g3,variants:p3,defaultProps:m3},v3={w:"100%",mx:"auto",maxW:"prose",px:"4"},y3={baseStyle:v3},b3={opacity:.6,borderColor:"inherit"},j3={borderStyle:"solid"},S3={borderStyle:"dashed"},E3={solid:j3,dashed:S3},C3={baseStyle:b3,variants:E3,defaultProps:{variant:"solid"}},{definePartsStyle:bb,defineMultiStyleConfig:w3}=yr(hO.keys),ny=Kt("drawer-bg"),ry=Kt("drawer-box-shadow");function Ad(t){return bb(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const _3={bg:"blackAlpha.600",zIndex:"modal"},T3={display:"flex",zIndex:"modal",justifyContent:"center"},A3=t=>{const{isFullHeight:n}=t;return{...n&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[ny.variable]:"colors.white",[ry.variable]:"shadows.lg",_dark:{[ny.variable]:"colors.gray.700",[ry.variable]:"shadows.dark-lg"},bg:ny.reference,boxShadow:ry.reference}},R3={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},k3={position:"absolute",top:"2",insetEnd:"3"},M3={px:"6",py:"2",flex:"1",overflow:"auto"},P3={px:"6",py:"4"},D3=bb(t=>({overlay:_3,dialogContainer:T3,dialog:gi(A3,t),header:R3,closeButton:k3,body:M3,footer:P3})),N3={xs:Ad("xs"),sm:Ad("md"),md:Ad("lg"),lg:Ad("2xl"),xl:Ad("4xl"),full:Ad("full")},I3=w3({baseStyle:D3,sizes:N3,defaultProps:{size:"xs"}}),{definePartsStyle:z3,defineMultiStyleConfig:L3}=yr(fO.keys),O3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},B3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},$3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},F3=z3({preview:O3,input:B3,textarea:$3}),V3=L3({baseStyle:F3}),{definePartsStyle:U3,defineMultiStyleConfig:H3}=yr(pO.keys),Kd=Kt("form-control-color"),W3={marginStart:"1",[Kd.variable]:"colors.red.500",_dark:{[Kd.variable]:"colors.red.300"},color:Kd.reference},q3={mt:"2",[Kd.variable]:"colors.gray.600",_dark:{[Kd.variable]:"colors.whiteAlpha.600"},color:Kd.reference,lineHeight:"normal",fontSize:"sm"},G3=U3({container:{width:"100%",position:"relative"},requiredIndicator:W3,helperText:q3}),Z3=H3({baseStyle:G3}),{definePartsStyle:Y3,defineMultiStyleConfig:K3}=yr(mO.keys),Xd=Kt("form-error-color"),X3={[Xd.variable]:"colors.red.500",_dark:{[Xd.variable]:"colors.red.300"},color:Xd.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},Q3={marginEnd:"0.5em",[Xd.variable]:"colors.red.500",_dark:{[Xd.variable]:"colors.red.300"},color:Xd.reference},J3=Y3({text:X3,icon:Q3}),e5=K3({baseStyle:J3}),t5={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},n5={baseStyle:t5},r5={fontFamily:"heading",fontWeight:"bold"},s5={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},i5={baseStyle:r5,sizes:s5,defaultProps:{size:"xl"}},{definePartsStyle:bl,defineMultiStyleConfig:o5}=yr(gO.keys),zd=Kt("input-height"),Ld=Kt("input-font-size"),Od=Kt("input-padding"),Bd=Kt("input-border-radius"),a5=bl({addon:{height:zd.reference,fontSize:Ld.reference,px:Od.reference,borderRadius:Bd.reference},field:{width:"100%",height:zd.reference,fontSize:Ld.reference,px:Od.reference,borderRadius:Bd.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),mc={lg:{[Ld.variable]:"fontSizes.lg",[Od.variable]:"space.4",[Bd.variable]:"radii.md",[zd.variable]:"sizes.12"},md:{[Ld.variable]:"fontSizes.md",[Od.variable]:"space.4",[Bd.variable]:"radii.md",[zd.variable]:"sizes.10"},sm:{[Ld.variable]:"fontSizes.sm",[Od.variable]:"space.3",[Bd.variable]:"radii.sm",[zd.variable]:"sizes.8"},xs:{[Ld.variable]:"fontSizes.xs",[Od.variable]:"space.2",[Bd.variable]:"radii.sm",[zd.variable]:"sizes.6"}},l5={lg:bl({field:mc.lg,group:mc.lg}),md:bl({field:mc.md,group:mc.md}),sm:bl({field:mc.sm,group:mc.sm}),xs:bl({field:mc.xs,group:mc.xs})};function Fj(t){const{focusBorderColor:n,errorBorderColor:r}=t;return{focusBorderColor:n||Zt("blue.500","blue.300")(t),errorBorderColor:r||Zt("red.500","red.300")(t)}}const c5=bl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Fj(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Zt("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:mi(n,i),boxShadow:`0 0 0 1px ${mi(n,i)}`},_focusVisible:{zIndex:1,borderColor:mi(n,r),boxShadow:`0 0 0 1px ${mi(n,r)}`}},addon:{border:"1px solid",borderColor:Zt("inherit","whiteAlpha.50")(t),bg:Zt("gray.100","whiteAlpha.300")(t)}}}),u5=bl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Fj(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Zt("gray.100","whiteAlpha.50")(t),_hover:{bg:Zt("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:mi(n,i)},_focusVisible:{bg:"transparent",borderColor:mi(n,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Zt("gray.100","whiteAlpha.50")(t)}}}),d5=bl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Fj(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:mi(n,i),boxShadow:`0px 1px 0px 0px ${mi(n,i)}`},_focusVisible:{borderColor:mi(n,r),boxShadow:`0px 1px 0px 0px ${mi(n,r)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),h5=bl({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),f5={outline:c5,filled:u5,flushed:d5,unstyled:h5},Jn=o5({baseStyle:a5,sizes:l5,variants:f5,defaultProps:{size:"md",variant:"outline"}}),sy=Kt("kbd-bg"),p5={[sy.variable]:"colors.gray.100",_dark:{[sy.variable]:"colors.whiteAlpha.100"},bg:sy.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},m5={baseStyle:p5},g5={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},x5={baseStyle:g5},{defineMultiStyleConfig:v5,definePartsStyle:y5}=yr(xO.keys),b5={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},j5=y5({icon:b5}),S5=v5({baseStyle:j5}),{defineMultiStyleConfig:E5,definePartsStyle:C5}=yr(vO.keys),Ra=Kt("menu-bg"),iy=Kt("menu-shadow"),w5={[Ra.variable]:"#fff",[iy.variable]:"shadows.sm",_dark:{[Ra.variable]:"colors.gray.700",[iy.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Ra.reference,boxShadow:iy.reference},_5={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ra.variable]:"colors.gray.100",_dark:{[Ra.variable]:"colors.whiteAlpha.100"}},_active:{[Ra.variable]:"colors.gray.200",_dark:{[Ra.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ra.variable]:"colors.gray.100",_dark:{[Ra.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ra.reference},T5={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},A5={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},R5={opacity:.6},k5={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},M5={transitionProperty:"common",transitionDuration:"normal"},P5=C5({button:M5,list:w5,item:_5,groupTitle:T5,icon:A5,command:R5,divider:k5}),D5=E5({baseStyle:P5}),{defineMultiStyleConfig:N5,definePartsStyle:jb}=yr(yO.keys),oy=Kt("modal-bg"),ay=Kt("modal-shadow"),I5={bg:"blackAlpha.600",zIndex:"modal"},z5=t=>{const{isCentered:n,scrollBehavior:r}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:n?"center":"flex-start",overflow:r==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},L5=t=>{const{isCentered:n,scrollBehavior:r}=t;return{borderRadius:"md",color:"inherit",my:n?"auto":"16",mx:n?"auto":void 0,zIndex:"modal",maxH:r==="inside"?"calc(100% - 7.5rem)":void 0,[oy.variable]:"colors.white",[ay.variable]:"shadows.lg",_dark:{[oy.variable]:"colors.gray.700",[ay.variable]:"shadows.dark-lg"},bg:oy.reference,boxShadow:ay.reference}},O5={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},B5={position:"absolute",top:"2",insetEnd:"3"},$5=t=>{const{scrollBehavior:n}=t;return{px:"6",py:"2",flex:"1",overflow:n==="inside"?"auto":void 0}},F5={px:"6",py:"4"},V5=jb(t=>({overlay:I5,dialogContainer:gi(z5,t),dialog:gi(L5,t),header:O5,closeButton:B5,body:gi($5,t),footer:F5}));function Jo(t){return jb(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const U5={xs:Jo("xs"),sm:Jo("sm"),md:Jo("md"),lg:Jo("lg"),xl:Jo("xl"),"2xl":Jo("2xl"),"3xl":Jo("3xl"),"4xl":Jo("4xl"),"5xl":Jo("5xl"),"6xl":Jo("6xl"),full:Jo("full")},H5=N5({baseStyle:V5,sizes:U5,defaultProps:{size:"md"}}),$A={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:W5,definePartsStyle:FA}=yr(bO.keys),Vj=gs("number-input-stepper-width"),VA=gs("number-input-input-padding"),q5=xl(Vj).add("0.5rem").toString(),ly=gs("number-input-bg"),cy=gs("number-input-color"),uy=gs("number-input-border-color"),G5={[Vj.variable]:"sizes.6",[VA.variable]:q5},Z5=t=>gi(Jn.baseStyle,t)?.field??{},Y5={width:Vj.reference},K5={borderStart:"1px solid",borderStartColor:uy.reference,color:cy.reference,bg:ly.reference,[cy.variable]:"colors.chakra-body-text",[uy.variable]:"colors.chakra-border-color",_dark:{[cy.variable]:"colors.whiteAlpha.800",[uy.variable]:"colors.whiteAlpha.300"},_active:{[ly.variable]:"colors.gray.200",_dark:{[ly.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},X5=FA(t=>({root:G5,field:gi(Z5,t)??{},stepperGroup:Y5,stepper:K5}));function ug(t){const n=Jn.sizes?.[t],r={lg:"md",md:"md",sm:"sm",xs:"sm"},i=n.field?.fontSize??"md",l=$A.fontSizes[i];return FA({field:{...n.field,paddingInlineEnd:VA.reference,verticalAlign:"top"},stepper:{fontSize:xl(l).multiply(.75).toString(),_first:{borderTopEndRadius:r[t]},_last:{borderBottomEndRadius:r[t],mt:"-1px",borderTopWidth:1}}})}const Q5={xs:ug("xs"),sm:ug("sm"),md:ug("md"),lg:ug("lg")},J5=W5({baseStyle:X5,sizes:Q5,variants:Jn.variants,defaultProps:Jn.defaultProps}),e6={...Jn.baseStyle?.field,textAlign:"center"},t6={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},n6={outline:t=>gi(Jn.variants?.outline,t)?.field??{},flushed:t=>gi(Jn.variants?.flushed,t)?.field??{},filled:t=>gi(Jn.variants?.filled,t)?.field??{},unstyled:Jn.variants?.unstyled.field??{}},r6={baseStyle:e6,sizes:t6,variants:n6,defaultProps:Jn.defaultProps},{defineMultiStyleConfig:s6,definePartsStyle:i6}=yr(jO.keys),dg=gs("popper-bg"),o6=gs("popper-arrow-bg"),Qw=gs("popper-arrow-shadow-color"),a6={zIndex:"popover"},l6={[dg.variable]:"colors.white",bg:dg.reference,[o6.variable]:dg.reference,[Qw.variable]:"colors.gray.200",_dark:{[dg.variable]:"colors.gray.700",[Qw.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},c6={px:3,py:2,borderBottomWidth:"1px"},u6={px:3,py:2},d6={px:3,py:2,borderTopWidth:"1px"},h6={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},f6=i6({popper:a6,content:l6,header:c6,body:u6,footer:d6,closeButton:h6}),p6=s6({baseStyle:f6}),{defineMultiStyleConfig:m6,definePartsStyle:Bf}=yr(SO.keys),g6=t=>{const{colorScheme:n,theme:r,isIndeterminate:i,hasStripe:l}=t,u=Zt(Gw(),Gw("1rem","rgba(0,0,0,0.1)"))(t),d=Zt(`${n}.500`,`${n}.200`)(t),g=`linear-gradient(
    to right,
    transparent 0%,
    ${mi(r,d)} 50%,
    transparent 100%
  )`;return{...!i&&l&&u,...i?{bgImage:g}:{bgColor:d}}},x6={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},v6=t=>({bg:Zt("gray.100","whiteAlpha.300")(t)}),y6=t=>({transitionProperty:"common",transitionDuration:"slow",...g6(t)}),b6=Bf(t=>({label:x6,filledTrack:y6(t),track:v6(t)})),j6={xs:Bf({track:{h:"1"}}),sm:Bf({track:{h:"2"}}),md:Bf({track:{h:"3"}}),lg:Bf({track:{h:"4"}})},S6=m6({sizes:j6,baseStyle:b6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:E6,definePartsStyle:Fg}=yr(EO.keys),C6=t=>{const n=gi(lx.baseStyle,t)?.control;return{...n,borderRadius:"full",_checked:{...n?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},w6=Fg(t=>({label:lx.baseStyle?.(t).label,container:lx.baseStyle?.(t).container,control:C6(t)})),_6={md:Fg({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Fg({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Fg({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},T6=E6({baseStyle:w6,sizes:_6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:A6,definePartsStyle:R6}=yr(CO.keys),hg=Kt("select-bg"),k6={...Jn.baseStyle?.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:hg.reference,[hg.variable]:"colors.white",_dark:{[hg.variable]:"colors.gray.700"},"> option, > optgroup":{bg:hg.reference}},M6={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},P6=R6({field:k6,icon:M6}),fg={paddingInlineEnd:"8"},D6={lg:{...Jn.sizes?.lg,field:{...Jn.sizes?.lg.field,...fg}},md:{...Jn.sizes?.md,field:{...Jn.sizes?.md.field,...fg}},sm:{...Jn.sizes?.sm,field:{...Jn.sizes?.sm.field,...fg}},xs:{...Jn.sizes?.xs,field:{...Jn.sizes?.xs.field,...fg},icon:{insetEnd:"1"}}},N6=A6({baseStyle:P6,sizes:D6,variants:Jn.variants,defaultProps:Jn.defaultProps}),dy=Kt("skeleton-start-color"),hy=Kt("skeleton-end-color"),I6={[dy.variable]:"colors.gray.100",[hy.variable]:"colors.gray.400",_dark:{[dy.variable]:"colors.gray.800",[hy.variable]:"colors.gray.600"},background:dy.reference,borderColor:hy.reference,opacity:.7,borderRadius:"sm"},z6={baseStyle:I6},fy=Kt("skip-link-bg"),L6={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[fy.variable]:"colors.white",_dark:{[fy.variable]:"colors.gray.700"},bg:fy.reference}},O6={baseStyle:L6},{defineMultiStyleConfig:B6,definePartsStyle:Ox}=yr(wO.keys),Iu=Kt("slider-thumb-size"),xp=Kt("slider-track-size"),bc=Kt("slider-bg"),$6=t=>{const{orientation:n}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Bj({orientation:n,vertical:{h:"100%",px:gl(Iu.reference).divide(2).toString()},horizontal:{w:"100%",py:gl(Iu.reference).divide(2).toString()}})}},F6=t=>({...Bj({orientation:t.orientation,horizontal:{h:xp.reference},vertical:{w:xp.reference}}),overflow:"hidden",borderRadius:"sm",[bc.variable]:"colors.gray.200",_dark:{[bc.variable]:"colors.whiteAlpha.200"},_disabled:{[bc.variable]:"colors.gray.300",_dark:{[bc.variable]:"colors.whiteAlpha.300"}},bg:bc.reference}),V6=t=>{const{orientation:n}=t;return{...Bj({orientation:n,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:Iu.reference,h:Iu.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},U6=t=>{const{colorScheme:n}=t;return{width:"inherit",height:"inherit",[bc.variable]:`colors.${n}.500`,_dark:{[bc.variable]:`colors.${n}.200`},bg:bc.reference}},H6=Ox(t=>({container:$6(t),track:F6(t),thumb:V6(t),filledTrack:U6(t)})),W6=Ox({container:{[Iu.variable]:"sizes.4",[xp.variable]:"sizes.1"}}),q6=Ox({container:{[Iu.variable]:"sizes.3.5",[xp.variable]:"sizes.1"}}),G6=Ox({container:{[Iu.variable]:"sizes.2.5",[xp.variable]:"sizes.0.5"}}),Z6={lg:W6,md:q6,sm:G6},Y6=B6({baseStyle:H6,sizes:Z6,defaultProps:{size:"md",colorScheme:"blue"}}),gu=gs("spinner-size"),K6={width:[gu.reference],height:[gu.reference]},X6={xs:{[gu.variable]:"sizes.3"},sm:{[gu.variable]:"sizes.4"},md:{[gu.variable]:"sizes.6"},lg:{[gu.variable]:"sizes.8"},xl:{[gu.variable]:"sizes.12"}},Q6={baseStyle:K6,sizes:X6,defaultProps:{size:"md"}},{defineMultiStyleConfig:J6,definePartsStyle:UA}=yr(_O.keys),eB={fontWeight:"medium"},tB={opacity:.8,marginBottom:"2"},nB={verticalAlign:"baseline",fontWeight:"semibold"},rB={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},sB=UA({container:{},label:eB,helpText:tB,number:nB,icon:rB}),iB={md:UA({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},oB=J6({baseStyle:sB,sizes:iB,defaultProps:{size:"md"}}),{defineMultiStyleConfig:aB,definePartsStyle:$f}=yr(["stepper","step","title","description","indicator","separator","icon","number"]),vl=Kt("stepper-indicator-size"),$d=Kt("stepper-icon-size"),Fd=Kt("stepper-title-font-size"),Ff=Kt("stepper-description-font-size"),Cf=Kt("stepper-accent-color"),lB=$f(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Cf.variable]:`colors.${t}.500`,_dark:{[Cf.variable]:`colors.${t}.200`}},title:{fontSize:Fd.reference,fontWeight:"medium"},description:{fontSize:Ff.reference,color:"chakra-subtle-text"},number:{fontSize:Fd.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$d.reference,height:$d.reference},indicator:{flexShrink:0,borderRadius:"full",width:vl.reference,height:vl.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Cf.reference},"&[data-status=complete]":{bg:Cf.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Cf.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${vl.reference} - 8px)`,top:`calc(${vl.reference} + 4px)`,insetStart:`calc(${vl.reference} / 2 - 1px)`}}})),cB=aB({baseStyle:lB,sizes:{xs:$f({stepper:{[vl.variable]:"sizes.4",[$d.variable]:"sizes.3",[Fd.variable]:"fontSizes.xs",[Ff.variable]:"fontSizes.xs"}}),sm:$f({stepper:{[vl.variable]:"sizes.6",[$d.variable]:"sizes.4",[Fd.variable]:"fontSizes.sm",[Ff.variable]:"fontSizes.xs"}}),md:$f({stepper:{[vl.variable]:"sizes.8",[$d.variable]:"sizes.5",[Fd.variable]:"fontSizes.md",[Ff.variable]:"fontSizes.sm"}}),lg:$f({stepper:{[vl.variable]:"sizes.10",[$d.variable]:"sizes.6",[Fd.variable]:"fontSizes.lg",[Ff.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:uB,definePartsStyle:Vg}=yr(TO.keys),ip=gs("switch-track-width"),_u=gs("switch-track-height"),py=gs("switch-track-diff"),dB=xl.subtract(ip,_u),Sb=gs("switch-thumb-x"),wf=gs("switch-bg"),hB=t=>{const{colorScheme:n}=t;return{borderRadius:"full",p:"0.5",width:[ip.reference],height:[_u.reference],transitionProperty:"common",transitionDuration:"fast",[wf.variable]:"colors.gray.300",_dark:{[wf.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[wf.variable]:`colors.${n}.500`,_dark:{[wf.variable]:`colors.${n}.200`}},bg:wf.reference}},fB={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[_u.reference],height:[_u.reference],_checked:{transform:`translateX(${Sb.reference})`}},pB=Vg(t=>({container:{[py.variable]:dB,[Sb.variable]:py.reference,_rtl:{[Sb.variable]:xl(py).negate().toString()}},track:hB(t),thumb:fB})),mB={sm:Vg({container:{[ip.variable]:"1.375rem",[_u.variable]:"sizes.3"}}),md:Vg({container:{[ip.variable]:"1.875rem",[_u.variable]:"sizes.4"}}),lg:Vg({container:{[ip.variable]:"2.875rem",[_u.variable]:"sizes.6"}})},gB=uB({baseStyle:pB,sizes:mB,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:xB,definePartsStyle:Qd}=yr(AO.keys),vB=Qd({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),cx={"&[data-is-numeric=true]":{textAlign:"end"}},yB=Qd(t=>{const{colorScheme:n}=t;return{th:{color:Zt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Zt(`${n}.100`,`${n}.700`)(t),...cx},td:{borderBottom:"1px",borderColor:Zt(`${n}.100`,`${n}.700`)(t),...cx},caption:{color:Zt("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),bB=Qd(t=>{const{colorScheme:n}=t;return{th:{color:Zt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Zt(`${n}.100`,`${n}.700`)(t),...cx},td:{borderBottom:"1px",borderColor:Zt(`${n}.100`,`${n}.700`)(t),...cx},caption:{color:Zt("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Zt(`${n}.100`,`${n}.700`)(t)},td:{background:Zt(`${n}.100`,`${n}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),jB={simple:yB,striped:bB,unstyled:{}},SB={sm:Qd({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Qd({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Qd({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},EB=xB({baseStyle:vB,variants:jB,sizes:SB,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),_i=Kt("tabs-color"),ta=Kt("tabs-bg"),pg=Kt("tabs-border-color"),{defineMultiStyleConfig:CB,definePartsStyle:Ia}=yr(RO.keys),wB=t=>{const{orientation:n}=t;return{display:n==="vertical"?"flex":"block"}},_B=t=>{const{isFitted:n}=t;return{flex:n?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},TB=t=>{const{align:n="start",orientation:r}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:r==="vertical"?"column":"row"}},AB={p:4},RB=Ia(t=>({root:wB(t),tab:_B(t),tablist:TB(t),tabpanel:AB})),kB={sm:Ia({tab:{py:1,px:4,fontSize:"sm"}}),md:Ia({tab:{fontSize:"md",py:2,px:4}}),lg:Ia({tab:{fontSize:"lg",py:3,px:4}})},MB=Ia(t=>{const{colorScheme:n,orientation:r}=t,i=r==="vertical",l=i?"borderStart":"borderBottom",u=i?"marginStart":"marginBottom";return{tablist:{[l]:"2px solid",borderColor:"inherit"},tab:{[l]:"2px solid",borderColor:"transparent",[u]:"-2px",_selected:{[_i.variable]:`colors.${n}.600`,_dark:{[_i.variable]:`colors.${n}.300`},borderColor:"currentColor"},_active:{[ta.variable]:"colors.gray.200",_dark:{[ta.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:_i.reference,bg:ta.reference}}}),PB=Ia(t=>{const{colorScheme:n}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[pg.variable]:"transparent",_selected:{[_i.variable]:`colors.${n}.600`,[pg.variable]:"colors.white",_dark:{[_i.variable]:`colors.${n}.300`,[pg.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:pg.reference},color:_i.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),DB=Ia(t=>{const{colorScheme:n}=t;return{tab:{border:"1px solid",borderColor:"inherit",[ta.variable]:"colors.gray.50",_dark:{[ta.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ta.variable]:"colors.white",[_i.variable]:`colors.${n}.600`,_dark:{[ta.variable]:"colors.gray.800",[_i.variable]:`colors.${n}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:_i.reference,bg:ta.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),NB=Ia(t=>{const{colorScheme:n,theme:r}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:mi(r,`${n}.700`),bg:mi(r,`${n}.100`)}}}}),IB=Ia(t=>{const{colorScheme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[_i.variable]:"colors.gray.600",_dark:{[_i.variable]:"inherit"},_selected:{[_i.variable]:"colors.white",[ta.variable]:`colors.${n}.600`,_dark:{[_i.variable]:"colors.gray.800",[ta.variable]:`colors.${n}.300`}},color:_i.reference,bg:ta.reference}}}),zB=Ia({}),LB={line:MB,enclosed:PB,"enclosed-colored":DB,"soft-rounded":NB,"solid-rounded":IB,unstyled:zB},OB=CB({baseStyle:RB,sizes:kB,variants:LB,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:BB,definePartsStyle:Tu}=yr(kO.keys),Jw=Kt("tag-bg"),e_=Kt("tag-color"),my=Kt("tag-shadow"),Ug=Kt("tag-min-height"),Hg=Kt("tag-min-width"),Wg=Kt("tag-font-size"),qg=Kt("tag-padding-inline"),$B={fontWeight:"medium",lineHeight:1.2,outline:0,[e_.variable]:Yr.color.reference,[Jw.variable]:Yr.bg.reference,[my.variable]:Yr.shadow.reference,color:e_.reference,bg:Jw.reference,boxShadow:my.reference,borderRadius:"md",minH:Ug.reference,minW:Hg.reference,fontSize:Wg.reference,px:qg.reference,_focusVisible:{[my.variable]:"shadows.outline"}},FB={lineHeight:1.2,overflow:"visible"},VB={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},UB=Tu({container:$B,label:FB,closeButton:VB}),HB={sm:Tu({container:{[Ug.variable]:"sizes.5",[Hg.variable]:"sizes.5",[Wg.variable]:"fontSizes.xs",[qg.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Tu({container:{[Ug.variable]:"sizes.6",[Hg.variable]:"sizes.6",[Wg.variable]:"fontSizes.sm",[qg.variable]:"space.2"}}),lg:Tu({container:{[Ug.variable]:"sizes.8",[Hg.variable]:"sizes.8",[Wg.variable]:"fontSizes.md",[qg.variable]:"space.3"}})},WB={subtle:Tu(t=>({container:np.variants?.subtle(t)})),solid:Tu(t=>({container:np.variants?.solid(t)})),outline:Tu(t=>({container:np.variants?.outline(t)}))},qB=BB({variants:WB,baseStyle:UB,sizes:HB,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),GB={...Jn.baseStyle?.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},ZB={outline:t=>Jn.variants?.outline(t).field??{},flushed:t=>Jn.variants?.flushed(t).field??{},filled:t=>Jn.variants?.filled(t).field??{},unstyled:Jn.variants?.unstyled.field??{}},YB={xs:Jn.sizes?.xs.field??{},sm:Jn.sizes?.sm.field??{},md:Jn.sizes?.md.field??{},lg:Jn.sizes?.lg.field??{}},KB={baseStyle:GB,sizes:YB,variants:ZB,defaultProps:{size:"md",variant:"outline"}},mg=gs("tooltip-bg"),gy=gs("tooltip-fg"),XB=gs("popper-arrow-bg"),QB={bg:mg.reference,color:gy.reference,[mg.variable]:"colors.gray.700",[gy.variable]:"colors.whiteAlpha.900",_dark:{[mg.variable]:"colors.gray.300",[gy.variable]:"colors.gray.900"},[XB.variable]:mg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},JB={baseStyle:QB},e$={Accordion:BO,Alert:S4,Avatar:D4,Badge:np,Breadcrumb:U4,Button:Q4,Checkbox:lx,CloseButton:f3,Code:x3,Container:y3,Divider:C3,Drawer:I3,Editable:V3,Form:Z3,FormError:e5,FormLabel:n5,Heading:i5,Input:Jn,Kbd:m5,Link:x5,List:S5,Menu:D5,Modal:H5,NumberInput:J5,PinInput:r6,Popover:p6,Progress:S6,Radio:T6,Select:N6,Skeleton:z6,SkipLink:O6,Slider:Y6,Spinner:Q6,Stat:oB,Switch:gB,Table:EB,Tabs:OB,Tag:qB,Textarea:KB,Tooltip:JB,Card:r3,Stepper:cB},t$={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},n$={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},r$={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},s$={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},i$={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},o$={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},a$={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},l$={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},c$={property:o$,easing:a$,duration:l$},u$={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},d$={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},h$={breakpoints:n$,zIndices:u$,radii:s$,blur:d$,colors:r$,...$A,sizes:NA,shadows:i$,space:DA,borders:t$,transition:c$},f$={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},p$={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},m$=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function g$(t){return ms(t)?m$.every(n=>Object.prototype.hasOwnProperty.call(t,n)):!1}const x$="ltr",v$={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},HA={semanticTokens:f$,direction:x$,...h$,components:e$,styles:p$,config:v$};function y$(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function b$(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var j$=(function(){function t(r){var i=this;this._insertTag=function(l){var u;i.tags.length===0?i.insertionPoint?u=i.insertionPoint.nextSibling:i.prepend?u=i.container.firstChild:u=i.before:u=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(l,u),i.tags.push(l)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(i){i.forEach(this._insertTag)},n.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(b$(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var u=y$(l);try{u.insertRule(i,u.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(i));this.ctr++},n.flush=function(){this.tags.forEach(function(i){var l;return(l=i.parentNode)==null?void 0:l.removeChild(i)}),this.tags=[],this.ctr=0},t})(),Zs="-ms-",ux="-moz-",Yn="-webkit-",WA="comm",Uj="rule",Hj="decl",S$="@import",qA="@keyframes",E$="@layer",C$=Math.abs,Bx=String.fromCharCode,w$=Object.assign;function _$(t,n){return zs(t,0)^45?(((n<<2^zs(t,0))<<2^zs(t,1))<<2^zs(t,2))<<2^zs(t,3):0}function GA(t){return t.trim()}function T$(t,n){return(t=n.exec(t))?t[0]:t}function Kn(t,n,r){return t.replace(n,r)}function Eb(t,n){return t.indexOf(n)}function zs(t,n){return t.charCodeAt(n)|0}function vp(t,n,r){return t.slice(n,r)}function ka(t){return t.length}function Wj(t){return t.length}function gg(t,n){return n.push(t),t}function A$(t,n){return t.map(n).join("")}var $x=1,ah=1,ZA=0,ki=0,os=0,jh="";function Fx(t,n,r,i,l,u,d){return{value:t,root:n,parent:r,type:i,props:l,children:u,line:$x,column:ah,length:d,return:""}}function _f(t,n){return w$(Fx("",null,null,"",null,null,0),t,{length:-t.length},n)}function R$(){return os}function k$(){return os=ki>0?zs(jh,--ki):0,ah--,os===10&&(ah=1,$x--),os}function ro(){return os=ki<ZA?zs(jh,ki++):0,ah++,os===10&&(ah=1,$x++),os}function za(){return zs(jh,ki)}function Gg(){return ki}function Up(t,n){return vp(jh,t,n)}function yp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YA(t){return $x=ah=1,ZA=ka(jh=t),ki=0,[]}function KA(t){return jh="",t}function Zg(t){return GA(Up(ki-1,Cb(t===91?t+2:t===40?t+1:t)))}function M$(t){for(;(os=za())&&os<33;)ro();return yp(t)>2||yp(os)>3?"":" "}function P$(t,n){for(;--n&&ro()&&!(os<48||os>102||os>57&&os<65||os>70&&os<97););return Up(t,Gg()+(n<6&&za()==32&&ro()==32))}function Cb(t){for(;ro();)switch(os){case t:return ki;case 34:case 39:t!==34&&t!==39&&Cb(os);break;case 40:t===41&&Cb(t);break;case 92:ro();break}return ki}function D$(t,n){for(;ro()&&t+os!==57;)if(t+os===84&&za()===47)break;return"/*"+Up(n,ki-1)+"*"+Bx(t===47?t:ro())}function N$(t){for(;!yp(za());)ro();return Up(t,ki)}function I$(t){return KA(Yg("",null,null,null,[""],t=YA(t),0,[0],t))}function Yg(t,n,r,i,l,u,d,g,p){for(var m=0,x=0,v=d,S=0,E=0,C=0,T=1,A=1,D=1,M=0,R="",P=l,z=u,O=i,G=R;A;)switch(C=M,M=ro()){case 40:if(C!=108&&zs(G,v-1)==58){Eb(G+=Kn(Zg(M),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:G+=Zg(M);break;case 9:case 10:case 13:case 32:G+=M$(C);break;case 92:G+=P$(Gg()-1,7);continue;case 47:switch(za()){case 42:case 47:gg(z$(D$(ro(),Gg()),n,r),p);break;default:G+="/"}break;case 123*T:g[m++]=ka(G)*D;case 125*T:case 59:case 0:switch(M){case 0:case 125:A=0;case 59+x:D==-1&&(G=Kn(G,/\f/g,"")),E>0&&ka(G)-v&&gg(E>32?n_(G+";",i,r,v-1):n_(Kn(G," ","")+";",i,r,v-2),p);break;case 59:G+=";";default:if(gg(O=t_(G,n,r,m,x,l,g,R,P=[],z=[],v),u),M===123)if(x===0)Yg(G,n,O,O,P,u,v,g,z);else switch(S===99&&zs(G,3)===110?100:S){case 100:case 108:case 109:case 115:Yg(t,O,O,i&&gg(t_(t,O,O,0,0,l,g,R,l,P=[],v),z),l,z,v,g,i?P:z);break;default:Yg(G,O,O,O,[""],z,0,g,z)}}m=x=E=0,T=D=1,R=G="",v=d;break;case 58:v=1+ka(G),E=C;default:if(T<1){if(M==123)--T;else if(M==125&&T++==0&&k$()==125)continue}switch(G+=Bx(M),M*T){case 38:D=x>0?1:(G+="\f",-1);break;case 44:g[m++]=(ka(G)-1)*D,D=1;break;case 64:za()===45&&(G+=Zg(ro())),S=za(),x=v=ka(R=G+=N$(Gg())),M++;break;case 45:C===45&&ka(G)==2&&(T=0)}}return u}function t_(t,n,r,i,l,u,d,g,p,m,x){for(var v=l-1,S=l===0?u:[""],E=Wj(S),C=0,T=0,A=0;C<i;++C)for(var D=0,M=vp(t,v+1,v=C$(T=d[C])),R=t;D<E;++D)(R=GA(T>0?S[D]+" "+M:Kn(M,/&\f/g,S[D])))&&(p[A++]=R);return Fx(t,n,r,l===0?Uj:g,p,m,x)}function z$(t,n,r){return Fx(t,n,r,WA,Bx(R$()),vp(t,2,-2),0)}function n_(t,n,r,i){return Fx(t,n,r,Hj,vp(t,0,i),vp(t,i+1,-1),i)}function Jd(t,n){for(var r="",i=Wj(t),l=0;l<i;l++)r+=n(t[l],l,t,n)||"";return r}function L$(t,n,r,i){switch(t.type){case E$:if(t.children.length)break;case S$:case Hj:return t.return=t.return||t.value;case WA:return"";case qA:return t.return=t.value+"{"+Jd(t.children,i)+"}";case Uj:t.value=t.props.join(",")}return ka(r=Jd(t.children,i))?t.return=t.value+"{"+r+"}":""}function O$(t){var n=Wj(t);return function(r,i,l,u){for(var d="",g=0;g<n;g++)d+=t[g](r,i,l,u)||"";return d}}function B$(t){return function(n){n.root||(n=n.return)&&t(n)}}var r_=function(n){var r=new WeakMap;return function(i){if(r.has(i))return r.get(i);var l=n(i);return r.set(i,l),l}};function XA(t){var n=Object.create(null);return function(r){return n[r]===void 0&&(n[r]=t(r)),n[r]}}var $$=function(n,r,i){for(var l=0,u=0;l=u,u=za(),l===38&&u===12&&(r[i]=1),!yp(u);)ro();return Up(n,ki)},F$=function(n,r){var i=-1,l=44;do switch(yp(l)){case 0:l===38&&za()===12&&(r[i]=1),n[i]+=$$(ki-1,r,i);break;case 2:n[i]+=Zg(l);break;case 4:if(l===44){n[++i]=za()===58?"&\f":"",r[i]=n[i].length;break}default:n[i]+=Bx(l)}while(l=ro());return n},V$=function(n,r){return KA(F$(YA(n),r))},s_=new WeakMap,U$=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var r=n.value,i=n.parent,l=n.column===i.column&&n.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(n.props.length===1&&r.charCodeAt(0)!==58&&!s_.get(i))&&!l){s_.set(n,!0);for(var u=[],d=V$(r,u),g=i.props,p=0,m=0;p<d.length;p++)for(var x=0;x<g.length;x++,m++)n.props[m]=u[p]?d[p].replace(/&\f/g,g[x]):g[x]+" "+d[p]}}},H$=function(n){if(n.type==="decl"){var r=n.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(n.return="",n.value="")}};function QA(t,n){switch(_$(t,n)){case 5103:return Yn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Yn+t+ux+t+Zs+t+t;case 6828:case 4268:return Yn+t+Zs+t+t;case 6165:return Yn+t+Zs+"flex-"+t+t;case 5187:return Yn+t+Kn(t,/(\w+).+(:[^]+)/,Yn+"box-$1$2"+Zs+"flex-$1$2")+t;case 5443:return Yn+t+Zs+"flex-item-"+Kn(t,/flex-|-self/,"")+t;case 4675:return Yn+t+Zs+"flex-line-pack"+Kn(t,/align-content|flex-|-self/,"")+t;case 5548:return Yn+t+Zs+Kn(t,"shrink","negative")+t;case 5292:return Yn+t+Zs+Kn(t,"basis","preferred-size")+t;case 6060:return Yn+"box-"+Kn(t,"-grow","")+Yn+t+Zs+Kn(t,"grow","positive")+t;case 4554:return Yn+Kn(t,/([^-])(transform)/g,"$1"+Yn+"$2")+t;case 6187:return Kn(Kn(Kn(t,/(zoom-|grab)/,Yn+"$1"),/(image-set)/,Yn+"$1"),t,"")+t;case 5495:case 3959:return Kn(t,/(image-set\([^]*)/,Yn+"$1$`$1");case 4968:return Kn(Kn(t,/(.+:)(flex-)?(.*)/,Yn+"box-pack:$3"+Zs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yn+t+t;case 4095:case 3583:case 4068:case 2532:return Kn(t,/(.+)-inline(.+)/,Yn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ka(t)-1-n>6)switch(zs(t,n+1)){case 109:if(zs(t,n+4)!==45)break;case 102:return Kn(t,/(.+:)(.+)-([^]+)/,"$1"+Yn+"$2-$3$1"+ux+(zs(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~Eb(t,"stretch")?QA(Kn(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(zs(t,n+1)!==115)break;case 6444:switch(zs(t,ka(t)-3-(~Eb(t,"!important")&&10))){case 107:return Kn(t,":",":"+Yn)+t;case 101:return Kn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yn+(zs(t,14)===45?"inline-":"")+"box$3$1"+Yn+"$2$3$1"+Zs+"$2box$3")+t}break;case 5936:switch(zs(t,n+11)){case 114:return Yn+t+Zs+Kn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Yn+t+Zs+Kn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Yn+t+Zs+Kn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Yn+t+Zs+t+t}return t}var W$=function(n,r,i,l){if(n.length>-1&&!n.return)switch(n.type){case Hj:n.return=QA(n.value,n.length);break;case qA:return Jd([_f(n,{value:Kn(n.value,"@","@"+Yn)})],l);case Uj:if(n.length)return A$(n.props,function(u){switch(T$(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jd([_f(n,{props:[Kn(u,/:(read-\w+)/,":"+ux+"$1")]})],l);case"::placeholder":return Jd([_f(n,{props:[Kn(u,/:(plac\w+)/,":"+Yn+"input-$1")]}),_f(n,{props:[Kn(u,/:(plac\w+)/,":"+ux+"$1")]}),_f(n,{props:[Kn(u,/:(plac\w+)/,Zs+"input-$1")]})],l)}return""})}},q$=[W$],G$=function(n){var r=n.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(T){var A=T.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var l=n.stylisPlugins||q$,u={},d,g=[];d=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(T){for(var A=T.getAttribute("data-emotion").split(" "),D=1;D<A.length;D++)u[A[D]]=!0;g.push(T)});var p,m=[U$,H$];{var x,v=[L$,B$(function(T){x.insert(T)})],S=O$(m.concat(l,v)),E=function(A){return Jd(I$(A),S)};p=function(A,D,M,R){x=M,E(A?A+"{"+D.styles+"}":D.styles),R&&(C.inserted[D.name]=!0)}}var C={key:r,sheet:new j$({key:r,container:d,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:u,registered:{},insert:p};return C.sheet.hydrate(g),C};function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zu.apply(null,arguments)}var xy={exports:{}},nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function Z$(){if(i_)return nr;i_=1;var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,g=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,E=t?Symbol.for("react.memo"):60115,C=t?Symbol.for("react.lazy"):60116,T=t?Symbol.for("react.block"):60121,A=t?Symbol.for("react.fundamental"):60117,D=t?Symbol.for("react.responder"):60118,M=t?Symbol.for("react.scope"):60119;function R(z){if(typeof z=="object"&&z!==null){var O=z.$$typeof;switch(O){case n:switch(z=z.type,z){case p:case m:case i:case u:case l:case v:return z;default:switch(z=z&&z.$$typeof,z){case g:case x:case C:case E:case d:return z;default:return O}}case r:return O}}}function P(z){return R(z)===m}return nr.AsyncMode=p,nr.ConcurrentMode=m,nr.ContextConsumer=g,nr.ContextProvider=d,nr.Element=n,nr.ForwardRef=x,nr.Fragment=i,nr.Lazy=C,nr.Memo=E,nr.Portal=r,nr.Profiler=u,nr.StrictMode=l,nr.Suspense=v,nr.isAsyncMode=function(z){return P(z)||R(z)===p},nr.isConcurrentMode=P,nr.isContextConsumer=function(z){return R(z)===g},nr.isContextProvider=function(z){return R(z)===d},nr.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===n},nr.isForwardRef=function(z){return R(z)===x},nr.isFragment=function(z){return R(z)===i},nr.isLazy=function(z){return R(z)===C},nr.isMemo=function(z){return R(z)===E},nr.isPortal=function(z){return R(z)===r},nr.isProfiler=function(z){return R(z)===u},nr.isStrictMode=function(z){return R(z)===l},nr.isSuspense=function(z){return R(z)===v},nr.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===i||z===m||z===u||z===l||z===v||z===S||typeof z=="object"&&z!==null&&(z.$$typeof===C||z.$$typeof===E||z.$$typeof===d||z.$$typeof===g||z.$$typeof===x||z.$$typeof===A||z.$$typeof===D||z.$$typeof===M||z.$$typeof===T)},nr.typeOf=R,nr}var o_;function Y$(){return o_||(o_=1,xy.exports=Z$()),xy.exports}var vy,a_;function K$(){if(a_)return vy;a_=1;var t=Y$(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[t.ForwardRef]=i,u[t.Memo]=l;function d(C){return t.isMemo(C)?l:u[C.$$typeof]||n}var g=Object.defineProperty,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,S=Object.prototype;function E(C,T,A){if(typeof T!="string"){if(S){var D=v(T);D&&D!==S&&E(C,D,A)}var M=p(T);m&&(M=M.concat(m(T)));for(var R=d(C),P=d(T),z=0;z<M.length;++z){var O=M[z];if(!r[O]&&!(A&&A[O])&&!(P&&P[O])&&!(R&&R[O])){var G=x(T,O);try{g(C,O,G)}catch{}}}}return C}return vy=E,vy}K$();var X$=!0;function JA(t,n,r){var i="";return r.split(" ").forEach(function(l){t[l]!==void 0?n.push(t[l]+";"):l&&(i+=l+" ")}),i}var qj=function(n,r,i){var l=n.key+"-"+r.name;(i===!1||X$===!1)&&n.registered[l]===void 0&&(n.registered[l]=r.styles)},Gj=function(n,r,i){qj(n,r,i);var l=n.key+"-"+r.name;if(n.inserted[r.name]===void 0){var u=r;do n.insert(r===u?"."+l:"",u,n.sheet,!0),u=u.next;while(u!==void 0)}};function Q$(t){for(var n=0,r,i=0,l=t.length;l>=4;++i,l-=4)r=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,n=(r&65535)*1540483477+((r>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(l){case 3:n^=(t.charCodeAt(i+2)&255)<<16;case 2:n^=(t.charCodeAt(i+1)&255)<<8;case 1:n^=t.charCodeAt(i)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var J$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},e8=/[A-Z]|^ms/g,t8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eR=function(n){return n.charCodeAt(1)===45},l_=function(n){return n!=null&&typeof n!="boolean"},yy=XA(function(t){return eR(t)?t:t.replace(e8,"-$&").toLowerCase()}),c_=function(n,r){switch(n){case"animation":case"animationName":if(typeof r=="string")return r.replace(t8,function(i,l,u){return Ma={name:l,styles:u,next:Ma},l})}return J$[n]!==1&&!eR(n)&&typeof r=="number"&&r!==0?r+"px":r};function bp(t,n,r){if(r==null)return"";var i=r;if(i.__emotion_styles!==void 0)return i;switch(typeof r){case"boolean":return"";case"object":{var l=r;if(l.anim===1)return Ma={name:l.name,styles:l.styles,next:Ma},l.name;var u=r;if(u.styles!==void 0){var d=u.next;if(d!==void 0)for(;d!==void 0;)Ma={name:d.name,styles:d.styles,next:Ma},d=d.next;var g=u.styles+";";return g}return n8(t,n,r)}case"function":{if(t!==void 0){var p=Ma,m=r(t);return Ma=p,bp(t,n,m)}break}}var x=r;if(n==null)return x;var v=n[x];return v!==void 0?v:x}function n8(t,n,r){var i="";if(Array.isArray(r))for(var l=0;l<r.length;l++)i+=bp(t,n,r[l])+";";else for(var u in r){var d=r[u];if(typeof d!="object"){var g=d;n!=null&&n[g]!==void 0?i+=u+"{"+n[g]+"}":l_(g)&&(i+=yy(u)+":"+c_(u,g)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(n==null||n[d[0]]===void 0))for(var p=0;p<d.length;p++)l_(d[p])&&(i+=yy(u)+":"+c_(u,d[p])+";");else{var m=bp(t,n,d);switch(u){case"animation":case"animationName":{i+=yy(u)+":"+m+";";break}default:i+=u+"{"+m+"}"}}}return i}var u_=/label:\s*([^\s;{]+)\s*(;|$)/g,Ma;function Vx(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,l="";Ma=void 0;var u=t[0];if(u==null||u.raw===void 0)i=!1,l+=bp(r,n,u);else{var d=u;l+=d[0]}for(var g=1;g<t.length;g++)if(l+=bp(r,n,t[g]),i){var p=u;l+=p[g]}u_.lastIndex=0;for(var m="",x;(x=u_.exec(l))!==null;)m+="-"+x[1];var v=Q$(l)+m;return{name:v,styles:l,next:Ma}}var r8=function(n){return n()},tR=Sw.useInsertionEffect?Sw.useInsertionEffect:!1,nR=tR||r8,d_=tR||y.useLayoutEffect,Zj=y.createContext(typeof HTMLElement<"u"?G$({key:"css"}):null);Zj.Provider;var s8=function(){return y.useContext(Zj)},Yj=function(n){return y.forwardRef(function(r,i){var l=y.useContext(Zj);return n(r,l,i)})},lh=y.createContext({}),i8=function(n,r){if(typeof r=="function"){var i=r(n);return i}return zu({},n,r)},o8=r_(function(t){return r_(function(n){return i8(t,n)})}),a8=function(n){var r=y.useContext(lh);return n.theme!==r&&(r=o8(r)(n.theme)),y.createElement(lh.Provider,{value:r},n.children)},Kj={}.hasOwnProperty,wb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",l8=function(n,r){var i={};for(var l in r)Kj.call(r,l)&&(i[l]=r[l]);return i[wb]=n,i},c8=function(n){var r=n.cache,i=n.serialized,l=n.isStringTag;return qj(r,i,l),nR(function(){return Gj(r,i,l)}),null},u8=Yj(function(t,n,r){var i=t.css;typeof i=="string"&&n.registered[i]!==void 0&&(i=n.registered[i]);var l=t[wb],u=[i],d="";typeof t.className=="string"?d=JA(n.registered,u,t.className):t.className!=null&&(d=t.className+" ");var g=Vx(u,void 0,y.useContext(lh));d+=n.key+"-"+g.name;var p={};for(var m in t)Kj.call(t,m)&&m!=="css"&&m!==wb&&(p[m]=t[m]);return p.className=d,r&&(p.ref=r),y.createElement(y.Fragment,null,y.createElement(c8,{cache:n,serialized:g,isStringTag:typeof l=="string"}),y.createElement(l,p))}),d8=u8,h_=function(n,r){var i=arguments;if(r==null||!Kj.call(r,"css"))return y.createElement.apply(void 0,i);var l=i.length,u=new Array(l);u[0]=d8,u[1]=l8(n,r);for(var d=2;d<l;d++)u[d]=i[d];return y.createElement.apply(null,u)};(function(t){var n;n||(n=t.JSX||(t.JSX={}))})(h_||(h_={}));var Ux=Yj(function(t,n){var r=t.styles,i=Vx([r],void 0,y.useContext(lh)),l=y.useRef();return d_(function(){var u=n.key+"-global",d=new n.sheet.constructor({key:u,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),g=!1,p=document.querySelector('style[data-emotion="'+u+" "+i.name+'"]');return n.sheet.tags.length&&(d.before=n.sheet.tags[0]),p!==null&&(g=!0,p.setAttribute("data-emotion",u),d.hydrate([p])),l.current=[d,g],function(){d.flush()}},[n]),d_(function(){var u=l.current,d=u[0],g=u[1];if(g){u[1]=!1;return}if(i.next!==void 0&&Gj(n,i.next,!0),d.tags.length){var p=d.tags[d.tags.length-1].nextElementSibling;d.before=p,d.flush()}n.insert("",i,d,!1)},[n,i.name]),null});function h8(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vx(n)}function Pc(){var t=h8.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Xj=y.createContext({});Xj.displayName="ColorModeContext";function Hx(){const t=y.useContext(Xj);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function Fn(t,n){const{colorMode:r}=Hx();return r==="dark"?n:t}const xg={light:"chakra-ui-light",dark:"chakra-ui-dark"};function f8(t={}){const{preventTransition:n=!0,nonce:r}=t,i={setDataset:l=>{const u=n?i.preventTransition():void 0;document.documentElement.dataset.theme=l,document.documentElement.style.colorScheme=l,u?.()},setClassName(l){document.body.classList.add(l?xg.dark:xg.light),document.body.classList.remove(l?xg.light:xg.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(l){return i.query().matches??l==="dark"?"dark":"light"},addListener(l){const u=i.query(),d=g=>{l(g.matches?"dark":"light")};return typeof u.addListener=="function"?u.addListener(d):u.addEventListener("change",d),()=>{typeof u.removeListener=="function"?u.removeListener(d):u.removeEventListener("change",d)}},preventTransition(){const l=document.createElement("style");return l.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r!==void 0&&(l.nonce=r),document.head.appendChild(l),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(l)})})}}};return i}const p8="chakra-ui-color-mode";function m8(t){return{ssr:!1,type:"localStorage",get(n){if(!globalThis?.document)return n;let r;try{r=localStorage.getItem(t)||n}catch{}return r||n},set(n){try{localStorage.setItem(t,n)}catch{}}}}const g8=m8(p8),f_=()=>{},x8=dz()?y.useLayoutEffect:y.useEffect;function p_(t,n){return t.type==="cookie"&&t.ssr?t.get(n):n}const rR=function(n){const{value:r,children:i,options:{useSystemColorMode:l,initialColorMode:u,disableTransitionOnChange:d}={},colorModeManager:g=g8}=n,p=s8(),m=u==="dark"?"dark":"light",[x,v]=y.useState(()=>p_(g,m)),[S,E]=y.useState(()=>p_(g)),{getSystemTheme:C,setClassName:T,setDataset:A,addListener:D}=y.useMemo(()=>f8({preventTransition:d,nonce:p?.nonce}),[d,p?.nonce]),M=u==="system"&&!x?S:x,R=y.useCallback(O=>{const G=O==="system"?C():O;v(G),T(G==="dark"),A(G),g.set(G)},[g,C,T,A]);x8(()=>{u==="system"&&E(C())},[]),y.useEffect(()=>{const O=g.get();if(O){R(O);return}if(u==="system"){R("system");return}R(m)},[g,m,u,R]);const P=y.useCallback(()=>{R(M==="dark"?"light":"dark")},[M,R]);y.useEffect(()=>{if(l)return D(R)},[l,D,R]);const z=y.useMemo(()=>({colorMode:r??M,toggleColorMode:r?f_:P,setColorMode:r?f_:R,forced:r!==void 0}),[M,P,R,r]);return e.jsx(Xj.Provider,{value:z,children:i})};rR.displayName="ColorModeProvider";const sR=String.raw,iR=sR`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,v8=()=>e.jsx(Ux,{styles:iR}),y8=({scope:t=""})=>e.jsx(Ux,{styles:sR`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${iR}
    `});function b8(t){const{cssVarsRoot:n,theme:r,children:i}=t,l=y.useMemo(()=>oO(r),[r]);return e.jsxs(a8,{theme:l,children:[e.jsx(j8,{root:n}),i]})}function j8({root:t=":host, :root"}){const n=[t,"[data-theme]"].join(",");return e.jsx(Ux,{styles:r=>({[n]:r.__cssVars})})}$n({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function S8(t){return $n({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function E8(){const{colorMode:t}=Hx();return e.jsx(Ux,{styles:n=>{const r=xA(n,"styles.global"),i=to(r,{theme:n,colorMode:t});return i?RA(i)(n):void 0}})}const[C8,w8]=$n({strict:!1,name:"PortalManagerContext"});function oR(t){const{children:n,zIndex:r}=t;return e.jsx(C8,{value:{zIndex:r},children:n})}oR.displayName="PortalManager";const Qj=y.createContext({getDocument(){return document},getWindow(){return window}});Qj.displayName="EnvironmentContext";function _8({defer:t}={}){const[,n]=y.useReducer(r=>r+1,0);return Cl(()=>{t&&n()},[t]),y.useContext(Qj)}function aR(t){const{children:n,environment:r,disabled:i}=t,l=y.useRef(null),u=y.useMemo(()=>r||{getDocument:()=>l.current?.ownerDocument??document,getWindow:()=>l.current?.ownerDocument.defaultView??window},[r]),d=!i||!r;return e.jsxs(Qj.Provider,{value:u,children:[n,d&&e.jsx("span",{id:"__chakra_env",hidden:!0,ref:l})]})}aR.displayName="EnvironmentProvider";const T8=t=>{const{children:n,colorModeManager:r,portalZIndex:i,resetScope:l,resetCSS:u=!0,theme:d={},environment:g,cssVarsRoot:p,disableEnvironment:m,disableGlobalStyle:x}=t,v=e.jsx(aR,{environment:g,disabled:m,children:n});return e.jsx(b8,{theme:d,cssVarsRoot:p,children:e.jsxs(rR,{colorModeManager:r,options:d.config,children:[u?e.jsx(y8,{scope:l}):e.jsx(v8,{}),!x&&e.jsx(E8,{}),i?e.jsx(oR,{zIndex:i,children:v}):v]})})},Jj=y.createContext({});function eS(t){const n=y.useRef(null);return n.current===null&&(n.current=t()),n.current}const Hp=y.createContext(null),tS=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class A8 extends y.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function R8({children:t,isPresent:n}){const r=y.useId(),i=y.useRef(null),l=y.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=y.useContext(tS);return y.useInsertionEffect(()=>{const{width:d,height:g,top:p,left:m}=l.current;if(n||!i.current||!d||!g)return;i.current.dataset.motionPopId=r;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${g}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),e.jsx(A8,{isPresent:n,childRef:i,sizeRef:l,children:y.cloneElement(t,{ref:i})})}const k8=({children:t,initial:n,isPresent:r,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:d})=>{const g=eS(M8),p=y.useId(),m=y.useCallback(v=>{g.set(v,!0);for(const S of g.values())if(!S)return;i&&i()},[g,i]),x=y.useMemo(()=>({id:p,initial:n,isPresent:r,custom:l,onExitComplete:m,register:v=>(g.set(v,!1),()=>g.delete(v))}),u?[Math.random(),m]:[r,m]);return y.useMemo(()=>{g.forEach((v,S)=>g.set(S,!1))},[r]),y.useEffect(()=>{!r&&!g.size&&i&&i()},[r]),d==="popLayout"&&(t=e.jsx(R8,{isPresent:r,children:t})),e.jsx(Hp.Provider,{value:x,children:t})};function M8(){return new Map}function nS(t=!0){const n=y.useContext(Hp);if(n===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:l}=n,u=y.useId();y.useEffect(()=>{t&&l(u)},[t]);const d=y.useCallback(()=>t&&i&&i(u),[u,i,t]);return!r&&i?[!1,d]:[!0]}function P8(){return D8(y.useContext(Hp))}function D8(t){return t===null?!0:t.isPresent}const vg=t=>t.key||"";function m_(t){const n=[];return y.Children.forEach(t,r=>{y.isValidElement(r)&&n.push(r)}),n}const rS=typeof window<"u",lR=rS?y.useLayoutEffect:y.useEffect,Dc=({children:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1})=>{const[g,p]=nS(d),m=y.useMemo(()=>m_(t),[t]),x=d&&!g?[]:m.map(vg),v=y.useRef(!0),S=y.useRef(m),E=eS(()=>new Map),[C,T]=y.useState(m),[A,D]=y.useState(m);lR(()=>{v.current=!1,S.current=m;for(let P=0;P<A.length;P++){const z=vg(A[P]);x.includes(z)?E.delete(z):E.get(z)!==!0&&E.set(z,!1)}},[A,x.length,x.join("-")]);const M=[];if(m!==C){let P=[...m];for(let z=0;z<A.length;z++){const O=A[z],G=vg(O);x.includes(G)||(P.splice(z,0,O),M.push(O))}u==="wait"&&M.length&&(P=M),D(m_(P)),T(m);return}const{forceRender:R}=y.useContext(Jj);return e.jsx(e.Fragment,{children:A.map(P=>{const z=vg(P),O=d&&!g?!1:m===A||x.includes(z),G=()=>{if(E.has(z))E.set(z,!0);else return;let q=!0;E.forEach(ce=>{ce||(q=!1)}),q&&(R?.(),D(S.current),d&&p?.(),i&&i())};return e.jsx(k8,{isPresent:O,initial:!v.current||r?void 0:!1,custom:O?void 0:n,presenceAffectsLayout:l,mode:u,onExitComplete:O?void 0:G,children:P},z)})})},so=t=>t;let cR=so;function sS(t){let n;return()=>(n===void 0&&(n=t()),n)}const ch=(t,n,r)=>{const i=n-t;return i===0?1:(r-t)/i},_l=t=>t*1e3,Tl=t=>t/1e3,N8={useManualTiming:!1};function I8(t){let n=new Set,r=new Set,i=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(m){u.has(m)&&(p.schedule(m),t()),m(d)}const p={schedule:(m,x=!1,v=!1)=>{const E=v&&i?n:r;return x&&u.add(m),E.has(m)||E.add(m),m},cancel:m=>{r.delete(m),u.delete(m)},process:m=>{if(d=m,i){l=!0;return}i=!0,[n,r]=[r,n],n.forEach(g),n.clear(),i=!1,l&&(l=!1,p.process(m))}};return p}const yg=["read","resolveKeyframes","update","preRender","render","postRender"],z8=40;function uR(t,n){let r=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,d=yg.reduce((D,M)=>(D[M]=I8(u),D),{}),{read:g,resolveKeyframes:p,update:m,preRender:x,render:v,postRender:S}=d,E=()=>{const D=performance.now();r=!1,l.delta=i?1e3/60:Math.max(Math.min(D-l.timestamp,z8),1),l.timestamp=D,l.isProcessing=!0,g.process(l),p.process(l),m.process(l),x.process(l),v.process(l),S.process(l),l.isProcessing=!1,r&&n&&(i=!1,t(E))},C=()=>{r=!0,i=!0,l.isProcessing||t(E)};return{schedule:yg.reduce((D,M)=>{const R=d[M];return D[M]=(P,z=!1,O=!1)=>(r||C(),R.schedule(P,z,O)),D},{}),cancel:D=>{for(let M=0;M<yg.length;M++)d[yg[M]].cancel(D)},state:l,steps:d}}const{schedule:Er,cancel:wc,state:Is,steps:by}=uR(typeof requestAnimationFrame<"u"?requestAnimationFrame:so,!0),dR=y.createContext({strict:!1}),g_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uh={};for(const t in g_)uh[t]={isEnabled:n=>g_[t].some(r=>!!n[r])};function L8(t){for(const n in t)uh[n]={...uh[n],...t[n]}}const O8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||O8.has(t)}let hR=t=>!dx(t);function B8(t){t&&(hR=n=>n.startsWith("on")?!dx(n):t(n))}try{B8(require("@emotion/is-prop-valid").default)}catch{}function $8(t,n,r){const i={};for(const l in t)l==="values"&&typeof t.values=="object"||(hR(l)||r===!0&&dx(l)||!n&&!dx(l)||t.draggable&&l.startsWith("onDrag"))&&(i[l]=t[l]);return i}function F8(t){if(typeof Proxy>"u")return t;const n=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,l)=>l==="create"?t:(n.has(l)||n.set(l,t(l)),n.get(l))})}const Wx=y.createContext({});function jp(t){return typeof t=="string"||Array.isArray(t)}function qx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const iS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oS=["initial",...iS];function Gx(t){return qx(t.animate)||oS.some(n=>jp(t[n]))}function fR(t){return!!(Gx(t)||t.variants)}function V8(t,n){if(Gx(t)){const{initial:r,animate:i}=t;return{initial:r===!1||jp(r)?r:void 0,animate:jp(i)?i:void 0}}return t.inherit!==!1?n:{}}function U8(t){const{initial:n,animate:r}=V8(t,y.useContext(Wx));return y.useMemo(()=>({initial:n,animate:r}),[x_(n),x_(r)])}function x_(t){return Array.isArray(t)?t.join(" "):t}const H8=Symbol.for("motionComponentSymbol");function Vd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W8(t,n,r){return y.useCallback(i=>{i&&t.onMount&&t.onMount(i),n&&(i?n.mount(i):n.unmount()),r&&(typeof r=="function"?r(i):Vd(r)&&(r.current=i))},[n])}const aS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q8="framerAppearId",pR="data-"+aS(q8),{schedule:lS}=uR(queueMicrotask,!1),mR=y.createContext({});function G8(t,n,r,i,l){var u,d;const{visualElement:g}=y.useContext(Wx),p=y.useContext(dR),m=y.useContext(Hp),x=y.useContext(tS).reducedMotion,v=y.useRef(null);i=i||p.renderer,!v.current&&i&&(v.current=i(t,{visualState:n,parent:g,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:x}));const S=v.current,E=y.useContext(mR);S&&!S.projection&&l&&(S.type==="html"||S.type==="svg")&&Z8(v.current,r,l,E);const C=y.useRef(!1);y.useInsertionEffect(()=>{S&&C.current&&S.update(r,m)});const T=r[pR],A=y.useRef(!!T&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,T))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,T)));return lR(()=>{S&&(C.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),lS.render(S.render),A.current&&S.animationState&&S.animationState.animateChanges())}),y.useEffect(()=>{S&&(!A.current&&S.animationState&&S.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,T)}),A.current=!1))}),S}function Z8(t,n,r,i){const{layoutId:l,layout:u,drag:d,dragConstraints:g,layoutScroll:p,layoutRoot:m}=n;t.projection=new r(t.latestValues,n["data-framer-portal-id"]?void 0:gR(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||g&&Vd(g),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}function gR(t){if(t)return t.options.allowProjection!==!1?t.projection:gR(t.parent)}function Y8({preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:l}){var u,d;t&&L8(t);function g(m,x){let v;const S={...y.useContext(tS),...m,layoutId:K8(m)},{isStatic:E}=S,C=U8(m),T=i(m,E);if(!E&&rS){X8();const A=Q8(S);v=A.MeasureLayout,C.visualElement=G8(l,T,S,n,A.ProjectionNode)}return e.jsxs(Wx.Provider,{value:C,children:[v&&C.visualElement?e.jsx(v,{visualElement:C.visualElement,...S}):null,r(l,m,W8(T,C.visualElement,x),T,E,C.visualElement)]})}g.displayName=`motion.${typeof l=="string"?l:`create(${(d=(u=l.displayName)!==null&&u!==void 0?u:l.name)!==null&&d!==void 0?d:""})`}`;const p=y.forwardRef(g);return p[H8]=l,p}function K8({layoutId:t}){const n=y.useContext(Jj).id;return n&&t!==void 0?n+"-"+t:t}function X8(t,n){y.useContext(dR).strict}function Q8(t){const{drag:n,layout:r}=uh;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const J8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cS(t){return typeof t!="string"||t.includes("-")?!1:!!(J8.indexOf(t)>-1||/[A-Z]/u.test(t))}function v_(t){const n=[{},{}];return t?.values.forEach((r,i)=>{n[0][i]=r.get(),n[1][i]=r.getVelocity()}),n}function uS(t,n,r,i){if(typeof n=="function"){const[l,u]=v_(i);n=n(r!==void 0?r:t.custom,l,u)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[l,u]=v_(i);n=n(r!==void 0?r:t.custom,l,u)}return n}const _b=t=>Array.isArray(t),eF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),tF=t=>_b(t)?t[t.length-1]||0:t,Ks=t=>!!(t&&t.getVelocity);function Kg(t){const n=Ks(t)?t.get():t;return eF(n)?n.toValue():n}function nF({scrapeMotionValuesFromProps:t,createRenderState:n,onUpdate:r},i,l,u){const d={latestValues:rF(i,l,u,t),renderState:n()};return r&&(d.onMount=g=>r({props:i,current:g,...d}),d.onUpdate=g=>r(g)),d}const xR=t=>(n,r)=>{const i=y.useContext(Wx),l=y.useContext(Hp),u=()=>nF(t,n,i,l);return r?u():eS(u)};function rF(t,n,r,i){const l={},u=i(t,{});for(const S in u)l[S]=Kg(u[S]);let{initial:d,animate:g}=t;const p=Gx(t),m=fR(t);n&&m&&!p&&t.inherit!==!1&&(d===void 0&&(d=n.initial),g===void 0&&(g=n.animate));let x=r?r.initial===!1:!1;x=x||d===!1;const v=x?g:d;if(v&&typeof v!="boolean"&&!qx(v)){const S=Array.isArray(v)?v:[v];for(let E=0;E<S.length;E++){const C=uS(t,S[E]);if(C){const{transitionEnd:T,transition:A,...D}=C;for(const M in D){let R=D[M];if(Array.isArray(R)){const P=x?R.length-1:0;R=R[P]}R!==null&&(l[M]=R)}for(const M in T)l[M]=T[M]}}}return l}const Sh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hu=new Set(Sh),vR=t=>n=>typeof n=="string"&&n.startsWith(t),yR=vR("--"),sF=vR("var(--"),dS=t=>sF(t)?iF.test(t.split("/*")[0].trim()):!1,iF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bR=(t,n)=>n&&typeof t=="number"?n.transform(t):t,kl=(t,n,r)=>r>n?n:r<t?t:r,Eh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sp={...Eh,transform:t=>kl(0,1,t)},bg={...Eh,default:1},Wp=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),yc=Wp("deg"),La=Wp("%"),Jt=Wp("px"),oF=Wp("vh"),aF=Wp("vw"),y_={...La,parse:t=>La.parse(t)/100,transform:t=>La.transform(t*100)},lF={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,backgroundPositionX:Jt,backgroundPositionY:Jt},cF={rotate:yc,rotateX:yc,rotateY:yc,rotateZ:yc,scale:bg,scaleX:bg,scaleY:bg,scaleZ:bg,skew:yc,skewX:yc,skewY:yc,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Sp,originX:y_,originY:y_,originZ:Jt},b_={...Eh,transform:Math.round},hS={...lF,...cF,zIndex:b_,size:Jt,fillOpacity:Sp,strokeOpacity:Sp,numOctaves:b_},uF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dF=Sh.length;function hF(t,n,r){let i="",l=!0;for(let u=0;u<dF;u++){const d=Sh[u],g=t[d];if(g===void 0)continue;let p=!0;if(typeof g=="number"?p=g===(d.startsWith("scale")?1:0):p=parseFloat(g)===0,!p||r){const m=bR(g,hS[d]);if(!p){l=!1;const x=uF[d]||d;i+=`${x}(${m}) `}r&&(n[d]=m)}}return i=i.trim(),r?i=r(n,l?"":i):l&&(i="none"),i}function fS(t,n,r){const{style:i,vars:l,transformOrigin:u}=t;let d=!1,g=!1;for(const p in n){const m=n[p];if(Hu.has(p)){d=!0;continue}else if(yR(p)){l[p]=m;continue}else{const x=bR(m,hS[p]);p.startsWith("origin")?(g=!0,u[p]=x):i[p]=x}}if(n.transform||(d||r?i.transform=hF(n,t.transform,r):i.transform&&(i.transform="none")),g){const{originX:p="50%",originY:m="50%",originZ:x=0}=u;i.transformOrigin=`${p} ${m} ${x}`}}const fF={offset:"stroke-dashoffset",array:"stroke-dasharray"},pF={offset:"strokeDashoffset",array:"strokeDasharray"};function mF(t,n,r=1,i=0,l=!0){t.pathLength=1;const u=l?fF:pF;t[u.offset]=Jt.transform(-i);const d=Jt.transform(n),g=Jt.transform(r);t[u.array]=`${d} ${g}`}function j_(t,n,r){return typeof t=="string"?t:Jt.transform(n+r*t)}function gF(t,n,r){const i=j_(n,t.x,t.width),l=j_(r,t.y,t.height);return`${i} ${l}`}function pS(t,{attrX:n,attrY:r,attrScale:i,originX:l,originY:u,pathLength:d,pathSpacing:g=1,pathOffset:p=0,...m},x,v){if(fS(t,m,v),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:E,dimensions:C}=t;S.transform&&(C&&(E.transform=S.transform),delete S.transform),C&&(l!==void 0||u!==void 0||E.transform)&&(E.transformOrigin=gF(C,l!==void 0?l:.5,u!==void 0?u:.5)),n!==void 0&&(S.x=n),r!==void 0&&(S.y=r),i!==void 0&&(S.scale=i),d!==void 0&&mF(S,d,g,p,!1)}const mS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),jR=()=>({...mS(),attrs:{}}),gS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function SR(t,{style:n,vars:r},i,l){Object.assign(t.style,n,l&&l.getProjectionStyles(i));for(const u in r)t.style.setProperty(u,r[u])}const ER=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CR(t,n,r,i){SR(t,n,void 0,i);for(const l in n.attrs)t.setAttribute(ER.has(l)?l:aS(l),n.attrs[l])}const hx={};function xF(t){Object.assign(hx,t)}function wR(t,{layout:n,layoutId:r}){return Hu.has(t)||t.startsWith("origin")||(n||r!==void 0)&&(!!hx[t]||t==="opacity")}function xS(t,n,r){var i;const{style:l}=t,u={};for(const d in l)(Ks(l[d])||n.style&&Ks(n.style[d])||wR(d,t)||((i=r?.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(u[d]=l[d]);return u}function _R(t,n,r){const i=xS(t,n,r);for(const l in t)if(Ks(t[l])||Ks(n[l])){const u=Sh.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=t[l]}return i}function vF(t,n){try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}const S_=["x","y","width","height","cx","cy","r"],yF={useVisualState:xR({scrapeMotionValuesFromProps:_R,createRenderState:jR,onUpdate:({props:t,prevProps:n,current:r,renderState:i,latestValues:l})=>{if(!r)return;let u=!!t.drag;if(!u){for(const g in l)if(Hu.has(g)){u=!0;break}}if(!u)return;let d=!n;if(n)for(let g=0;g<S_.length;g++){const p=S_[g];t[p]!==n[p]&&(d=!0)}d&&Er.read(()=>{vF(r,i),Er.render(()=>{pS(i,l,gS(r.tagName),t.transformTemplate),CR(r,i)})})}})},bF={useVisualState:xR({scrapeMotionValuesFromProps:xS,createRenderState:mS})};function TR(t,n,r){for(const i in n)!Ks(n[i])&&!wR(i,r)&&(t[i]=n[i])}function jF({transformTemplate:t},n){return y.useMemo(()=>{const r=mS();return fS(r,n,t),Object.assign({},r.vars,r.style)},[n])}function SF(t,n){const r=t.style||{},i={};return TR(i,r,t),Object.assign(i,jF(t,n)),i}function EF(t,n){const r={},i=SF(t,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function CF(t,n,r,i){const l=y.useMemo(()=>{const u=jR();return pS(u,n,gS(i),t.transformTemplate),{...u.attrs,style:{...u.style}}},[n]);if(t.style){const u={};TR(u,t.style,t),l.style={...u,...l.style}}return l}function wF(t=!1){return(r,i,l,{latestValues:u},d)=>{const p=(cS(r)?CF:EF)(i,u,d,r),m=$8(i,typeof r=="string",t),x=r!==y.Fragment?{...m,...p,ref:l}:{},{children:v}=i,S=y.useMemo(()=>Ks(v)?v.get():v,[v]);return y.createElement(r,{...x,children:S})}}function _F(t,n){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const d={...cS(i)?yF:bF,preloadedFeatures:t,useRender:wF(l),createVisualElement:n,Component:i};return Y8(d)}}function AR(t,n){if(!Array.isArray(n))return!1;const r=n.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(n[i]!==t[i])return!1;return!0}function Zx(t,n,r){const i=t.getProps();return uS(i,n,r!==void 0?r:i.custom,t)}const TF=sS(()=>window.ScrollTimeline!==void 0);class AF{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,r){for(let i=0;i<this.animations.length;i++)this.animations[i][n]=r}attachTimeline(n,r){const i=this.animations.map(l=>{if(TF()&&l.attachTimeline)return l.attachTimeline(n);if(typeof r=="function")return r(l)});return()=>{i.forEach((l,u)=>{l&&l(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let r=0;r<this.animations.length;r++)n=Math.max(n,this.animations[r].duration);return n}runAll(n){this.animations.forEach(r=>r[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class RF extends AF{then(n,r){return Promise.all(this.animations).then(n).catch(r)}}function vS(t,n){return t?t[n]||t.default||t:void 0}const Tb=2e4;function RR(t){let n=0;const r=50;let i=t.next(n);for(;!i.done&&n<Tb;)n+=r,i=t.next(n);return n>=Tb?1/0:n}function yS(t){return typeof t=="function"}function E_(t,n){t.timeline=n,t.onfinish=null}const bS=t=>Array.isArray(t)&&typeof t[0]=="number",kF={linearEasing:void 0};function MF(t,n){const r=sS(t);return()=>{var i;return(i=kF[n])!==null&&i!==void 0?i:r()}}const fx=MF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kR=(t,n,r=10)=>{let i="";const l=Math.max(Math.round(n/r),2);for(let u=0;u<l;u++)i+=t(ch(0,l-1,u))+", ";return`linear(${i.substring(0,i.length-2)})`};function MR(t){return!!(typeof t=="function"&&fx()||!t||typeof t=="string"&&(t in Ab||fx())||bS(t)||Array.isArray(t)&&t.every(MR))}const Vf=([t,n,r,i])=>`cubic-bezier(${t}, ${n}, ${r}, ${i})`,Ab={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vf([0,.65,.55,1]),circOut:Vf([.55,0,1,.45]),backIn:Vf([.31,.01,.66,-.59]),backOut:Vf([.33,1.53,.69,.99])};function PR(t,n){if(t)return typeof t=="function"&&fx()?kR(t,n):bS(t)?Vf(t):Array.isArray(t)?t.map(r=>PR(r,n)||Ab.easeOut):Ab[t]}const ea={x:!1,y:!1};function DR(){return ea.x||ea.y}function PF(t,n,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let l=document;const u=(i=void 0)!==null&&i!==void 0?i:l.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}function NR(t,n){const r=PF(t),i=new AbortController,l={passive:!0,...n,signal:i.signal};return[r,l,()=>i.abort()]}function C_(t){return n=>{n.pointerType==="touch"||DR()||t(n)}}function DF(t,n,r={}){const[i,l,u]=NR(t,r),d=C_(g=>{const{target:p}=g,m=n(g);if(typeof m!="function"||!p)return;const x=C_(v=>{m(v),p.removeEventListener("pointerleave",x)});p.addEventListener("pointerleave",x,l)});return i.forEach(g=>{g.addEventListener("pointerenter",d,l)}),u}const IR=(t,n)=>n?t===n?!0:IR(t,n.parentElement):!1,jS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IF(t){return NF.has(t.tagName)||t.tabIndex!==-1}const Uf=new WeakSet;function w_(t){return n=>{n.key==="Enter"&&t(n)}}function jy(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const zF=(t,n)=>{const r=t.currentTarget;if(!r)return;const i=w_(()=>{if(Uf.has(r))return;jy(r,"down");const l=w_(()=>{jy(r,"up")}),u=()=>jy(r,"cancel");r.addEventListener("keyup",l,n),r.addEventListener("blur",u,n)});r.addEventListener("keydown",i,n),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),n)};function __(t){return jS(t)&&!DR()}function LF(t,n,r={}){const[i,l,u]=NR(t,r),d=g=>{const p=g.currentTarget;if(!__(g)||Uf.has(p))return;Uf.add(p);const m=n(g),x=(E,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",S),!(!__(E)||!Uf.has(p))&&(Uf.delete(p),typeof m=="function"&&m(E,{success:C}))},v=E=>{x(E,r.useGlobalTarget||IR(p,E.target))},S=E=>{x(E,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",S,l)};return i.forEach(g=>{!IF(g)&&g.getAttribute("tabindex")===null&&(g.tabIndex=0),(r.useGlobalTarget?window:g).addEventListener("pointerdown",d,l),g.addEventListener("focus",m=>zF(m,l),l)}),u}function OF(t){return t==="x"||t==="y"?ea[t]?null:(ea[t]=!0,()=>{ea[t]=!1}):ea.x||ea.y?null:(ea.x=ea.y=!0,()=>{ea.x=ea.y=!1})}const zR=new Set(["width","height","top","left","right","bottom",...Sh]);let Xg;function BF(){Xg=void 0}const Oa={now:()=>(Xg===void 0&&Oa.set(Is.isProcessing||N8.useManualTiming?Is.timestamp:performance.now()),Xg),set:t=>{Xg=t,queueMicrotask(BF)}};function SS(t,n){t.indexOf(n)===-1&&t.push(n)}function ES(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class CS{constructor(){this.subscriptions=[]}add(n){return SS(this.subscriptions,n),()=>ES(this.subscriptions,n)}notify(n,r,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,r,i);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(n,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LR(t,n){return n?t*(1e3/n):0}const T_=30,$F=t=>!isNaN(parseFloat(t));class FF{constructor(n,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const u=Oa.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=Oa.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=$F(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new CS);const i=this.events[n].add(r);return n==="change"?()=>{i(),Er.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n,r=!0){!r||!this.passiveEffect?this.updateAndNotify(n,r):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-i}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Oa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>T_)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,T_);return LR(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ep(t,n){return new FF(t,n)}function VF(t,n,r){t.hasValue(n)?t.getValue(n).set(r):t.addValue(n,Ep(r))}function UF(t,n){const r=Zx(t,n);let{transitionEnd:i={},transition:l={},...u}=r||{};u={...u,...i};for(const d in u){const g=tF(u[d]);VF(t,d,g)}}function HF(t){return!!(Ks(t)&&t.add)}function Rb(t,n){const r=t.getValue("willChange");if(HF(r))return r.add(n)}function OR(t){return t.props[pR]}const BR=(t,n,r)=>(((1-3*r+3*n)*t+(3*r-6*n))*t+3*n)*t,WF=1e-7,qF=12;function GF(t,n,r,i,l){let u,d,g=0;do d=n+(r-n)/2,u=BR(d,i,l)-t,u>0?r=d:n=d;while(Math.abs(u)>WF&&++g<qF);return d}function qp(t,n,r,i){if(t===n&&r===i)return so;const l=u=>GF(u,0,1,t,r);return u=>u===0||u===1?u:BR(l(u),n,i)}const $R=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,FR=t=>n=>1-t(1-n),VR=qp(.33,1.53,.69,.99),wS=FR(VR),UR=$R(wS),HR=t=>(t*=2)<1?.5*wS(t):.5*(2-Math.pow(2,-10*(t-1))),_S=t=>1-Math.sin(Math.acos(t)),WR=FR(_S),qR=$R(_S),GR=t=>/^0[^.\s]+$/u.test(t);function ZF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||GR(t):!0}const op=t=>Math.round(t*1e5)/1e5,TS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YF(t){return t==null}const KF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AS=(t,n)=>r=>!!(typeof r=="string"&&KF.test(r)&&r.startsWith(t)||n&&!YF(r)&&Object.prototype.hasOwnProperty.call(r,n)),ZR=(t,n,r)=>i=>{if(typeof i!="string")return i;const[l,u,d,g]=i.match(TS);return{[t]:parseFloat(l),[n]:parseFloat(u),[r]:parseFloat(d),alpha:g!==void 0?parseFloat(g):1}},XF=t=>kl(0,255,t),Sy={...Eh,transform:t=>Math.round(XF(t))},yu={test:AS("rgb","red"),parse:ZR("red","green","blue"),transform:({red:t,green:n,blue:r,alpha:i=1})=>"rgba("+Sy.transform(t)+", "+Sy.transform(n)+", "+Sy.transform(r)+", "+op(Sp.transform(i))+")"};function QF(t){let n="",r="",i="",l="";return t.length>5?(n=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),l=t.substring(7,9)):(n=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),l=t.substring(4,5),n+=n,r+=r,i+=i,l+=l),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const kb={test:AS("#"),parse:QF,transform:yu.transform},Ud={test:AS("hsl","hue"),parse:ZR("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+La.transform(op(n))+", "+La.transform(op(r))+", "+op(Sp.transform(i))+")"},Ys={test:t=>yu.test(t)||kb.test(t)||Ud.test(t),parse:t=>yu.test(t)?yu.parse(t):Ud.test(t)?Ud.parse(t):kb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yu.transform(t):Ud.transform(t)},JF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eV(t){var n,r;return isNaN(t)&&typeof t=="string"&&(((n=t.match(TS))===null||n===void 0?void 0:n.length)||0)+(((r=t.match(JF))===null||r===void 0?void 0:r.length)||0)>0}const YR="number",KR="color",tV="var",nV="var(",A_="${}",rV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cp(t){const n=t.toString(),r=[],i={color:[],number:[],var:[]},l=[];let u=0;const g=n.replace(rV,p=>(Ys.test(p)?(i.color.push(u),l.push(KR),r.push(Ys.parse(p))):p.startsWith(nV)?(i.var.push(u),l.push(tV),r.push(p)):(i.number.push(u),l.push(YR),r.push(parseFloat(p))),++u,A_)).split(A_);return{values:r,split:g,indexes:i,types:l}}function XR(t){return Cp(t).values}function QR(t){const{split:n,types:r}=Cp(t),i=n.length;return l=>{let u="";for(let d=0;d<i;d++)if(u+=n[d],l[d]!==void 0){const g=r[d];g===YR?u+=op(l[d]):g===KR?u+=Ys.transform(l[d]):u+=l[d]}return u}}const sV=t=>typeof t=="number"?0:t;function iV(t){const n=XR(t);return QR(t)(n.map(sV))}const _c={test:eV,parse:XR,createTransformer:QR,getAnimatableNone:iV},oV=new Set(["brightness","contrast","saturate","opacity"]);function aV(t){const[n,r]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[i]=r.match(TS)||[];if(!i)return t;const l=r.replace(i,"");let u=oV.has(n)?1:0;return i!==r&&(u*=100),n+"("+u+l+")"}const lV=/\b([a-z-]*)\(.*?\)/gu,Mb={..._c,getAnimatableNone:t=>{const n=t.match(lV);return n?n.map(aV).join(" "):t}},cV={...hS,color:Ys,backgroundColor:Ys,outlineColor:Ys,fill:Ys,stroke:Ys,borderColor:Ys,borderTopColor:Ys,borderRightColor:Ys,borderBottomColor:Ys,borderLeftColor:Ys,filter:Mb,WebkitFilter:Mb},RS=t=>cV[t];function JR(t,n){let r=RS(t);return r!==Mb&&(r=_c),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const uV=new Set(["auto","none","0"]);function dV(t,n,r){let i=0,l;for(;i<t.length&&!l;){const u=t[i];typeof u=="string"&&!uV.has(u)&&Cp(u).values.length&&(l=t[i]),i++}if(l&&r)for(const u of n)t[u]=JR(r,l)}const R_=t=>t===Eh||t===Jt,k_=(t,n)=>parseFloat(t.split(", ")[n]),M_=(t,n)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const l=i.match(/^matrix3d\((.+)\)$/u);if(l)return k_(l[1],n);{const u=i.match(/^matrix\((.+)\)$/u);return u?k_(u[1],t):0}},hV=new Set(["x","y","z"]),fV=Sh.filter(t=>!hV.has(t));function pV(t){const n=[];return fV.forEach(r=>{const i=t.getValue(r);i!==void 0&&(n.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),n}const dh={width:({x:t},{paddingLeft:n="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),height:({y:t},{paddingTop:n="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:M_(4,13),y:M_(5,14)};dh.translateX=dh.x;dh.translateY=dh.y;const Au=new Set;let Pb=!1,Db=!1;function ek(){if(Db){const t=Array.from(Au).filter(i=>i.needsMeasurement),n=new Set(t.map(i=>i.element)),r=new Map;n.forEach(i=>{const l=pV(i);l.length&&(r.set(i,l),i.render())}),t.forEach(i=>i.measureInitialState()),n.forEach(i=>{i.render();const l=r.get(i);l&&l.forEach(([u,d])=>{var g;(g=i.getValue(u))===null||g===void 0||g.set(d)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Db=!1,Pb=!1,Au.forEach(t=>t.complete()),Au.clear()}function tk(){Au.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Db=!0)})}function mV(){tk(),ek()}class kS{constructor(n,r,i,l,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=i,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Au.add(this),Pb||(Pb=!0,Er.read(tk),Er.resolveKeyframes(ek))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:i,motionValue:l}=this;for(let u=0;u<n.length;u++)if(n[u]===null)if(u===0){const d=l?.get(),g=n[n.length-1];if(d!==void 0)n[0]=d;else if(i&&r){const p=i.readValue(r,g);p!=null&&(n[0]=p)}n[0]===void 0&&(n[0]=g),l&&d===void 0&&l.set(n[0])}else n[u]=n[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Au.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Au.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),gV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xV(t){const n=gV.exec(t);if(!n)return[,];const[,r,i,l]=n;return[`--${r??i}`,l]}function rk(t,n,r=1){const[i,l]=xV(t);if(!i)return;const u=window.getComputedStyle(n).getPropertyValue(i);if(u){const d=u.trim();return nk(d)?parseFloat(d):d}return dS(l)?rk(l,n,r+1):l}const sk=t=>n=>n.test(t),vV={test:t=>t==="auto",parse:t=>t},ik=[Eh,Jt,La,yc,aF,oF,vV],P_=t=>ik.find(sk(t));class ok extends kS{constructor(n,r,i,l,u){super(n,r,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){let m=n[p];if(typeof m=="string"&&(m=m.trim(),dS(m))){const x=rk(m,r.current);x!==void 0&&(n[p]=x),p===n.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!zR.has(i)||n.length!==2)return;const[l,u]=n,d=P_(l),g=P_(u);if(d!==g)if(R_(d)&&R_(g))for(let p=0;p<n.length;p++){const m=n[p];typeof m=="string"&&(n[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,i=[];for(let l=0;l<n.length;l++)ZF(n[l])&&i.push(l);i.length&&dV(n,i,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:i}=this;if(!n||!n.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dh[i](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&n.getValue(i,l).jump(l,!1)}measureEndState(){var n;const{element:r,name:i,unresolvedKeyframes:l}=this;if(!r||!r.current)return;const u=r.getValue(i);u&&u.jump(this.measuredOrigin,!1);const d=l.length-1,g=l[d];l[d]=dh[i](r.measureViewportBox(),window.getComputedStyle(r.current)),g!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=g),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([p,m])=>{r.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const D_=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_c.test(t)||t==="0")&&!t.startsWith("url("));function yV(t){const n=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function bV(t,n,r,i){const l=t[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const u=t[t.length-1],d=D_(l,n),g=D_(u,n);return!d||!g?!1:yV(t)||(r==="spring"||yS(r))&&i}const jV=t=>t!==null;function Yx(t,{repeat:n,repeatType:r="loop"},i){const l=t.filter(jV),u=n&&r!=="loop"&&n%2===1?0:l.length-1;return!u||i===void 0?l[u]:i}const SV=40;class ak{constructor({autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",...g}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Oa.now(),this.options={autoplay:n,delay:r,type:i,repeat:l,repeatDelay:u,repeatType:d,...g},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mV(),this._resolved}onKeyframesResolved(n,r){this.resolvedAt=Oa.now(),this.hasAttemptedResolve=!0;const{name:i,type:l,velocity:u,delay:d,onComplete:g,onUpdate:p,isGenerator:m}=this.options;if(!m&&!bV(n,i,l,u))if(d)this.options.duration=0;else{p&&p(Yx(n,this.options,r)),g&&g(),this.resolveFinishedPromise();return}const x=this.initPlayback(n,r);x!==!1&&(this._resolved={keyframes:n,finalKeyframe:r,...x},this.onPostResolved())}onPostResolved(){}then(n,r){return this.currentFinishedPromise.then(n,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const Dr=(t,n,r)=>t+(n-t)*r;function Ey(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function EV({hue:t,saturation:n,lightness:r,alpha:i}){t/=360,n/=100,r/=100;let l=0,u=0,d=0;if(!n)l=u=d=r;else{const g=r<.5?r*(1+n):r+n-r*n,p=2*r-g;l=Ey(p,g,t+1/3),u=Ey(p,g,t),d=Ey(p,g,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function px(t,n){return r=>r>0?n:t}const Cy=(t,n,r)=>{const i=t*t,l=r*(n*n-i)+i;return l<0?0:Math.sqrt(l)},CV=[kb,yu,Ud],wV=t=>CV.find(n=>n.test(t));function N_(t){const n=wV(t);if(!n)return!1;let r=n.parse(t);return n===Ud&&(r=EV(r)),r}const I_=(t,n)=>{const r=N_(t),i=N_(n);if(!r||!i)return px(t,n);const l={...r};return u=>(l.red=Cy(r.red,i.red,u),l.green=Cy(r.green,i.green,u),l.blue=Cy(r.blue,i.blue,u),l.alpha=Dr(r.alpha,i.alpha,u),yu.transform(l))},_V=(t,n)=>r=>n(t(r)),Gp=(...t)=>t.reduce(_V),Nb=new Set(["none","hidden"]);function TV(t,n){return Nb.has(t)?r=>r<=0?t:n:r=>r>=1?n:t}function AV(t,n){return r=>Dr(t,n,r)}function MS(t){return typeof t=="number"?AV:typeof t=="string"?dS(t)?px:Ys.test(t)?I_:MV:Array.isArray(t)?lk:typeof t=="object"?Ys.test(t)?I_:RV:px}function lk(t,n){const r=[...t],i=r.length,l=t.map((u,d)=>MS(u)(u,n[d]));return u=>{for(let d=0;d<i;d++)r[d]=l[d](u);return r}}function RV(t,n){const r={...t,...n},i={};for(const l in r)t[l]!==void 0&&n[l]!==void 0&&(i[l]=MS(t[l])(t[l],n[l]));return l=>{for(const u in i)r[u]=i[u](l);return r}}function kV(t,n){var r;const i=[],l={color:0,var:0,number:0};for(let u=0;u<n.values.length;u++){const d=n.types[u],g=t.indexes[d][l[d]],p=(r=t.values[g])!==null&&r!==void 0?r:0;i[u]=p,l[d]++}return i}const MV=(t,n)=>{const r=_c.createTransformer(n),i=Cp(t),l=Cp(n);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?Nb.has(t)&&!l.values.length||Nb.has(n)&&!i.values.length?TV(t,n):Gp(lk(kV(i,l),l.values),r):px(t,n)};function ck(t,n,r){return typeof t=="number"&&typeof n=="number"&&typeof r=="number"?Dr(t,n,r):MS(t)(t,n)}const PV=5;function uk(t,n,r){const i=Math.max(n-PV,0);return LR(r-t(i),n-i)}const Vr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wy=.001;function DV({duration:t=Vr.duration,bounce:n=Vr.bounce,velocity:r=Vr.velocity,mass:i=Vr.mass}){let l,u,d=1-n;d=kl(Vr.minDamping,Vr.maxDamping,d),t=kl(Vr.minDuration,Vr.maxDuration,Tl(t)),d<1?(l=m=>{const x=m*d,v=x*t,S=x-r,E=Ib(m,d),C=Math.exp(-v);return wy-S/E*C},u=m=>{const v=m*d*t,S=v*r+r,E=Math.pow(d,2)*Math.pow(m,2)*t,C=Math.exp(-v),T=Ib(Math.pow(m,2),d);return(-l(m)+wy>0?-1:1)*((S-E)*C)/T}):(l=m=>{const x=Math.exp(-m*t),v=(m-r)*t+1;return-wy+x*v},u=m=>{const x=Math.exp(-m*t),v=(r-m)*(t*t);return x*v});const g=5/t,p=IV(l,u,g);if(t=_l(t),isNaN(p))return{stiffness:Vr.stiffness,damping:Vr.damping,duration:t};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:d*2*Math.sqrt(i*m),duration:t}}}const NV=12;function IV(t,n,r){let i=r;for(let l=1;l<NV;l++)i=i-t(i)/n(i);return i}function Ib(t,n){return t*Math.sqrt(1-n*n)}const zV=["duration","bounce"],LV=["stiffness","damping","mass"];function z_(t,n){return n.some(r=>t[r]!==void 0)}function OV(t){let n={velocity:Vr.velocity,stiffness:Vr.stiffness,damping:Vr.damping,mass:Vr.mass,isResolvedFromDuration:!1,...t};if(!z_(t,LV)&&z_(t,zV))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),l=i*i,u=2*kl(.05,1,1-(t.bounce||0))*Math.sqrt(l);n={...n,mass:Vr.mass,stiffness:l,damping:u}}else{const r=DV(t);n={...n,...r,mass:Vr.mass},n.isResolvedFromDuration=!0}return n}function dk(t=Vr.visualDuration,n=Vr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:i,restDelta:l}=r;const u=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],g={done:!1,value:u},{stiffness:p,damping:m,mass:x,duration:v,velocity:S,isResolvedFromDuration:E}=OV({...r,velocity:-Tl(r.velocity||0)}),C=S||0,T=m/(2*Math.sqrt(p*x)),A=d-u,D=Tl(Math.sqrt(p/x)),M=Math.abs(A)<5;i||(i=M?Vr.restSpeed.granular:Vr.restSpeed.default),l||(l=M?Vr.restDelta.granular:Vr.restDelta.default);let R;if(T<1){const z=Ib(D,T);R=O=>{const G=Math.exp(-T*D*O);return d-G*((C+T*D*A)/z*Math.sin(z*O)+A*Math.cos(z*O))}}else if(T===1)R=z=>d-Math.exp(-D*z)*(A+(C+D*A)*z);else{const z=D*Math.sqrt(T*T-1);R=O=>{const G=Math.exp(-T*D*O),q=Math.min(z*O,300);return d-G*((C+T*D*A)*Math.sinh(q)+z*A*Math.cosh(q))/z}}const P={calculatedDuration:E&&v||null,next:z=>{const O=R(z);if(E)g.done=z>=v;else{let G=0;T<1&&(G=z===0?_l(C):uk(R,z,O));const q=Math.abs(G)<=i,ce=Math.abs(d-O)<=l;g.done=q&&ce}return g.value=g.done?d:O,g},toString:()=>{const z=Math.min(RR(P),Tb),O=kR(G=>P.next(z*G).value,z,30);return z+"ms "+O}};return P}function L_({keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:g,max:p,restDelta:m=.5,restSpeed:x}){const v=t[0],S={done:!1,value:v},E=q=>g!==void 0&&q<g||p!==void 0&&q>p,C=q=>g===void 0?p:p===void 0||Math.abs(g-q)<Math.abs(p-q)?g:p;let T=r*n;const A=v+T,D=d===void 0?A:d(A);D!==A&&(T=D-v);const M=q=>-T*Math.exp(-q/i),R=q=>D+M(q),P=q=>{const ce=M(q),he=R(q);S.done=Math.abs(ce)<=m,S.value=S.done?D:he};let z,O;const G=q=>{E(S.value)&&(z=q,O=dk({keyframes:[S.value,C(S.value)],velocity:uk(R,q,S.value),damping:l,stiffness:u,restDelta:m,restSpeed:x}))};return G(0),{calculatedDuration:null,next:q=>{let ce=!1;return!O&&z===void 0&&(ce=!0,P(q),G(q)),z!==void 0&&q>=z?O.next(q-z):(!ce&&P(q),S)}}}const BV=qp(.42,0,1,1),$V=qp(0,0,.58,1),hk=qp(.42,0,.58,1),FV=t=>Array.isArray(t)&&typeof t[0]!="number",VV={linear:so,easeIn:BV,easeInOut:hk,easeOut:$V,circIn:_S,circInOut:qR,circOut:WR,backIn:wS,backInOut:UR,backOut:VR,anticipate:HR},O_=t=>{if(bS(t)){cR(t.length===4);const[n,r,i,l]=t;return qp(n,r,i,l)}else if(typeof t=="string")return VV[t];return t};function UV(t,n,r){const i=[],l=r||ck,u=t.length-1;for(let d=0;d<u;d++){let g=l(t[d],t[d+1]);if(n){const p=Array.isArray(n)?n[d]||so:n;g=Gp(p,g)}i.push(g)}return i}function HV(t,n,{clamp:r=!0,ease:i,mixer:l}={}){const u=t.length;if(cR(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const d=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),n=[...n].reverse());const g=UV(n,i,l),p=g.length,m=x=>{if(d&&x<t[0])return n[0];let v=0;if(p>1)for(;v<t.length-2&&!(x<t[v+1]);v++);const S=ch(t[v],t[v+1],x);return g[v](S)};return r?x=>m(kl(t[0],t[u-1],x)):m}function WV(t,n){const r=t[t.length-1];for(let i=1;i<=n;i++){const l=ch(0,n,i);t.push(Dr(r,1,l))}}function qV(t){const n=[0];return WV(n,t.length-1),n}function GV(t,n){return t.map(r=>r*n)}function ZV(t,n){return t.map(()=>n||hk).splice(0,t.length-1)}function mx({duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}){const l=FV(i)?i.map(O_):O_(i),u={done:!1,value:n[0]},d=GV(r&&r.length===n.length?r:qV(n),t),g=HV(d,n,{ease:Array.isArray(l)?l:ZV(n,l)});return{calculatedDuration:t,next:p=>(u.value=g(p),u.done=p>=t,u)}}const YV=t=>{const n=({timestamp:r})=>t(r);return{start:()=>Er.update(n,!0),stop:()=>wc(n),now:()=>Is.isProcessing?Is.timestamp:Oa.now()}},KV={decay:L_,inertia:L_,tween:mx,keyframes:mx,spring:dk},XV=t=>t/100;class PS extends ak{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:r,motionValue:i,element:l,keyframes:u}=this.options,d=l?.KeyframeResolver||kS,g=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new d(u,g,r,i,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=this.options,g=yS(r)?r:KV[r]||mx;let p,m;g!==mx&&typeof n[0]!="number"&&(p=Gp(XV,ck(n[0],n[1])),n=[0,100]);const x=g({...this.options,keyframes:n});u==="mirror"&&(m=g({...this.options,keyframes:[...n].reverse(),velocity:-d})),x.calculatedDuration===null&&(x.calculatedDuration=RR(x));const{calculatedDuration:v}=x,S=v+l,E=S*(i+1)-l;return{generator:x,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:v,resolvedDuration:S,totalDuration:E}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,r=!1){const{resolved:i}=this;if(!i){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:l,generator:u,mirroredGenerator:d,mapPercentToKeyframes:g,keyframes:p,calculatedDuration:m,totalDuration:x,resolvedDuration:v}=i;if(this.startTime===null)return u.next(0);const{delay:S,repeat:E,repeatType:C,repeatDelay:T,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-x/this.speed,this.startTime)),r?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const D=this.currentTime-S*(this.speed>=0?1:-1),M=this.speed>=0?D<0:D>x;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let R=this.currentTime,P=u;if(E){const q=Math.min(this.currentTime,x)/v;let ce=Math.floor(q),he=q%1;!he&&q>=1&&(he=1),he===1&&ce--,ce=Math.min(ce,E+1),!!(ce%2)&&(C==="reverse"?(he=1-he,T&&(he-=T/v)):C==="mirror"&&(P=d)),R=kl(0,1,he)*v}const z=M?{done:!1,value:p[0]}:P.next(R);g&&(z.value=g(z.value));let{done:O}=z;!M&&m!==null&&(O=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return G&&l!==void 0&&(z.value=Yx(p,this.options,l)),A&&A(z.value),G&&this.finish(),z}get duration(){const{resolved:n}=this;return n?Tl(n.calculatedDuration):0}get time(){return Tl(this.currentTime)}set time(n){n=_l(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=Tl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=YV,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),r&&r();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const QV=new Set(["opacity","clipPath","filter","transform"]);function JV(t,n,r,{delay:i=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:g="easeInOut",times:p}={}){const m={[n]:r};p&&(m.offset=p);const x=PR(g,l);return Array.isArray(x)&&(m.easing=x),t.animate(m,{delay:i,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const e9=sS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gx=10,t9=2e4;function n9(t){return yS(t.type)||t.type==="spring"||!MR(t.ease)}function r9(t,n){const r=new PS({...n,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const l=[];let u=0;for(;!i.done&&u<t9;)i=r.sample(u),l.push(i.value),u+=gx;return{times:void 0,keyframes:l,duration:u-gx,ease:"linear"}}const fk={anticipate:HR,backInOut:UR,circInOut:qR};function s9(t){return t in fk}class B_ extends ak{constructor(n){super(n);const{name:r,motionValue:i,element:l,keyframes:u}=this.options;this.resolver=new ok(u,(d,g)=>this.onKeyframesResolved(d,g),r,i,l),this.resolver.scheduleResolve()}initPlayback(n,r){let{duration:i=300,times:l,ease:u,type:d,motionValue:g,name:p,startTime:m}=this.options;if(!g.owner||!g.owner.current)return!1;if(typeof u=="string"&&fx()&&s9(u)&&(u=fk[u]),n9(this.options)){const{onComplete:v,onUpdate:S,motionValue:E,element:C,...T}=this.options,A=r9(n,T);n=A.keyframes,n.length===1&&(n[1]=n[0]),i=A.duration,l=A.times,u=A.ease,d="keyframes"}const x=JV(g.owner.current,p,n,{...this.options,duration:i,times:l,ease:u});return x.startTime=m??this.calcStartTime(),this.pendingTimeline?(E_(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:v}=this.options;g.set(Yx(n,this.options,r)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:i,times:l,type:d,ease:u,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:r}=n;return Tl(r)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:r}=n;return Tl(r.currentTime||0)}set time(n){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=_l(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:r}=n;return r.playbackRate}set speed(n){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:r}=n;return r.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:r}=n;return r.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:r}=this;if(!r)return so;const{animation:i}=r;E_(i,n)}return so}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:r,keyframes:i,duration:l,type:u,ease:d,times:g}=n;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:x,onComplete:v,element:S,...E}=this.options,C=new PS({...E,keyframes:i,duration:l,type:u,ease:d,times:g,isGenerator:!0}),T=_l(this.time);m.setWithVelocity(C.sample(T-gx).value,C.sample(T).value,gx)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:r,name:i,repeatDelay:l,repeatType:u,damping:d,type:g}=n;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=r.owner.getProps();return e9()&&i&&QV.has(i)&&!p&&!m&&!l&&u!=="mirror"&&d!==0&&g!=="inertia"}}const i9={type:"spring",stiffness:500,damping:25,restSpeed:10},o9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),a9={type:"keyframes",duration:.8},l9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c9=(t,{keyframes:n})=>n.length>2?a9:Hu.has(t)?t.startsWith("scale")?o9(n[1]):i9:l9;function u9({when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:g,from:p,elapsed:m,...x}){return!!Object.keys(x).length}const DS=(t,n,r,i={},l,u)=>d=>{const g=vS(i,t)||{},p=g.delay||i.delay||0;let{elapsed:m=0}=i;m=m-_l(p);let x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...g,delay:-m,onUpdate:S=>{n.set(S),g.onUpdate&&g.onUpdate(S)},onComplete:()=>{d(),g.onComplete&&g.onComplete()},name:t,motionValue:n,element:u?void 0:l};u9(g)||(x={...x,...c9(t,x)}),x.duration&&(x.duration=_l(x.duration)),x.repeatDelay&&(x.repeatDelay=_l(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(v=!0)),v&&!u&&n.get()!==void 0){const S=Yx(x.keyframes,g);if(S!==void 0)return Er.update(()=>{x.onUpdate(S),x.onComplete()}),new RF([])}return!u&&B_.supports(x)?new B_(x):new PS(x)};function d9({protectedKeys:t,needsAnimating:n},r){const i=t.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,i}function pk(t,n,{delay:r=0,transitionOverride:i,type:l}={}){var u;let{transition:d=t.getDefaultTransition(),transitionEnd:g,...p}=n;i&&(d=i);const m=[],x=l&&t.animationState&&t.animationState.getState()[l];for(const v in p){const S=t.getValue(v,(u=t.latestValues[v])!==null&&u!==void 0?u:null),E=p[v];if(E===void 0||x&&d9(x,v))continue;const C={delay:r,...vS(d||{},v)};let T=!1;if(window.MotionHandoffAnimation){const D=OR(t);if(D){const M=window.MotionHandoffAnimation(D,v,Er);M!==null&&(C.startTime=M,T=!0)}}Rb(t,v),S.start(DS(v,S,E,t.shouldReduceMotion&&zR.has(v)?{type:!1}:C,t,T));const A=S.animation;A&&m.push(A)}return g&&Promise.all(m).then(()=>{Er.update(()=>{g&&UF(t,g)})}),m}function zb(t,n,r={}){var i;const l=Zx(t,n,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=l||{};r.transitionOverride&&(u=r.transitionOverride);const d=l?()=>Promise.all(pk(t,l,r)):()=>Promise.resolve(),g=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:x=0,staggerChildren:v,staggerDirection:S}=u;return h9(t,n,x+m,v,S,r)}:()=>Promise.resolve(),{when:p}=u;if(p){const[m,x]=p==="beforeChildren"?[d,g]:[g,d];return m().then(()=>x())}else return Promise.all([d(),g(r.delay)])}function h9(t,n,r=0,i=0,l=1,u){const d=[],g=(t.variantChildren.size-1)*i,p=l===1?(m=0)=>m*i:(m=0)=>g-m*i;return Array.from(t.variantChildren).sort(f9).forEach((m,x)=>{m.notify("AnimationStart",n),d.push(zb(m,n,{...u,delay:r+p(x)}).then(()=>m.notify("AnimationComplete",n)))}),Promise.all(d)}function f9(t,n){return t.sortNodePosition(n)}function p9(t,n,r={}){t.notify("AnimationStart",n);let i;if(Array.isArray(n)){const l=n.map(u=>zb(t,u,r));i=Promise.all(l)}else if(typeof n=="string")i=zb(t,n,r);else{const l=typeof n=="function"?Zx(t,n,r.custom):n;i=Promise.all(pk(t,l,r))}return i.then(()=>{t.notify("AnimationComplete",n)})}const m9=oS.length;function mk(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?mk(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const n={};for(let r=0;r<m9;r++){const i=oS[r],l=t.props[i];(jp(l)||l===!1)&&(n[i]=l)}return n}const g9=[...iS].reverse(),x9=iS.length;function v9(t){return n=>Promise.all(n.map(({animation:r,options:i})=>p9(t,r,i)))}function y9(t){let n=v9(t),r=$_(),i=!0;const l=p=>(m,x)=>{var v;const S=Zx(t,x,p==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(S){const{transition:E,transitionEnd:C,...T}=S;m={...m,...T,...C}}return m};function u(p){n=p(t)}function d(p){const{props:m}=t,x=mk(t.parent)||{},v=[],S=new Set;let E={},C=1/0;for(let A=0;A<x9;A++){const D=g9[A],M=r[D],R=m[D]!==void 0?m[D]:x[D],P=jp(R),z=D===p?M.isActive:null;z===!1&&(C=A);let O=R===x[D]&&R!==m[D]&&P;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),M.protectedKeys={...E},!M.isActive&&z===null||!R&&!M.prevProp||qx(R)||typeof R=="boolean")continue;const G=b9(M.prevProp,R);let q=G||D===p&&M.isActive&&!O&&P||A>C&&P,ce=!1;const he=Array.isArray(R)?R:[R];let se=he.reduce(l(D),{});z===!1&&(se={});const{prevResolvedValues:ge={}}=M,Ae={...ge,...se},de=W=>{q=!0,S.has(W)&&(ce=!0,S.delete(W)),M.needsAnimating[W]=!0;const H=t.getValue(W);H&&(H.liveStyle=!1)};for(const W in Ae){const H=se[W],Ee=ge[W];if(E.hasOwnProperty(W))continue;let B=!1;_b(H)&&_b(Ee)?B=!AR(H,Ee):B=H!==Ee,B?H!=null?de(W):S.add(W):H!==void 0&&S.has(W)?de(W):M.protectedKeys[W]=!0}M.prevProp=R,M.prevResolvedValues=se,M.isActive&&(E={...E,...se}),i&&t.blockInitialAnimation&&(q=!1),q&&(!(O&&G)||ce)&&v.push(...he.map(W=>({animation:W,options:{type:D}})))}if(S.size){const A={};S.forEach(D=>{const M=t.getBaseTarget(D),R=t.getValue(D);R&&(R.liveStyle=!0),A[D]=M??null}),v.push({animation:A})}let T=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(T=!1),i=!1,T?n(v):Promise.resolve()}function g(p,m){var x;if(r[p].isActive===m)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(S=>{var E;return(E=S.animationState)===null||E===void 0?void 0:E.setActive(p,m)}),r[p].isActive=m;const v=d(p);for(const S in r)r[S].protectedKeys={};return v}return{animateChanges:d,setActive:g,setAnimateFunction:u,getState:()=>r,reset:()=>{r=$_(),i=!0}}}function b9(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!AR(n,t):!1}function uu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $_(){return{animate:uu(!0),whileInView:uu(),whileHover:uu(),whileTap:uu(),whileDrag:uu(),whileFocus:uu(),exit:uu()}}class Nc{constructor(n){this.isMounted=!1,this.node=n}update(){}}class j9 extends Nc{constructor(n){super(n),n.animationState||(n.animationState=y9(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();qx(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:r}=this.node.prevProps||{};n!==r&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let S9=0;class E9 extends Nc{constructor(){super(...arguments),this.id=S9++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===i)return;const l=this.node.animationState.setActive("exit",!n);r&&!n&&l.then(()=>r(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const C9={animation:{Feature:j9},exit:{Feature:E9}};function wp(t,n,r,i={passive:!0}){return t.addEventListener(n,r,i),()=>t.removeEventListener(n,r)}function Zp(t){return{point:{x:t.pageX,y:t.pageY}}}const w9=t=>n=>jS(n)&&t(n,Zp(n));function ap(t,n,r,i){return wp(t,n,w9(r),i)}const F_=(t,n)=>Math.abs(t-n);function _9(t,n){const r=F_(t.x,n.x),i=F_(t.y,n.y);return Math.sqrt(r**2+i**2)}class gk{constructor(n,r,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ty(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,E=_9(v.offset,{x:0,y:0})>=3;if(!S&&!E)return;const{point:C}=v,{timestamp:T}=Is;this.history.push({...C,timestamp:T});const{onStart:A,onMove:D}=this.handlers;S||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=_y(S,this.transformPagePoint),Er.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Ty(v.type==="pointercancel"?this.lastMoveEventInfo:_y(S,this.transformPagePoint),this.history);this.startEvent&&E&&E(v,A),C&&C(v,A)},!jS(n))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=i,this.contextWindow=l||window;const d=Zp(n),g=_y(d,this.transformPagePoint),{point:p}=g,{timestamp:m}=Is;this.history=[{...p,timestamp:m}];const{onSessionStart:x}=r;x&&x(n,Ty(g,this.history)),this.removeListeners=Gp(ap(this.contextWindow,"pointermove",this.handlePointerMove),ap(this.contextWindow,"pointerup",this.handlePointerUp),ap(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),wc(this.updatePoint)}}function _y(t,n){return n?{point:n(t.point)}:t}function V_(t,n){return{x:t.x-n.x,y:t.y-n.y}}function Ty({point:t},n){return{point:t,delta:V_(t,xk(n)),offset:V_(t,T9(n)),velocity:A9(n,.1)}}function T9(t){return t[0]}function xk(t){return t[t.length-1]}function A9(t,n){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const l=xk(t);for(;r>=0&&(i=t[r],!(l.timestamp-i.timestamp>_l(n)));)r--;if(!i)return{x:0,y:0};const u=Tl(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const vk=1e-4,R9=1-vk,k9=1+vk,yk=.01,M9=0-yk,P9=0+yk;function io(t){return t.max-t.min}function D9(t,n,r){return Math.abs(t-n)<=r}function U_(t,n,r,i=.5){t.origin=i,t.originPoint=Dr(n.min,n.max,t.origin),t.scale=io(r)/io(n),t.translate=Dr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=R9&&t.scale<=k9||isNaN(t.scale))&&(t.scale=1),(t.translate>=M9&&t.translate<=P9||isNaN(t.translate))&&(t.translate=0)}function lp(t,n,r,i){U_(t.x,n.x,r.x,i?i.originX:void 0),U_(t.y,n.y,r.y,i?i.originY:void 0)}function H_(t,n,r){t.min=r.min+n.min,t.max=t.min+io(n)}function N9(t,n,r){H_(t.x,n.x,r.x),H_(t.y,n.y,r.y)}function W_(t,n,r){t.min=n.min-r.min,t.max=t.min+io(n)}function cp(t,n,r){W_(t.x,n.x,r.x),W_(t.y,n.y,r.y)}function I9(t,{min:n,max:r},i){return n!==void 0&&t<n?t=i?Dr(n,t,i.min):Math.max(t,n):r!==void 0&&t>r&&(t=i?Dr(r,t,i.max):Math.min(t,r)),t}function q_(t,n,r){return{min:n!==void 0?t.min+n:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function z9(t,{top:n,left:r,bottom:i,right:l}){return{x:q_(t.x,r,l),y:q_(t.y,n,i)}}function G_(t,n){let r=n.min-t.min,i=n.max-t.max;return n.max-n.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function L9(t,n){return{x:G_(t.x,n.x),y:G_(t.y,n.y)}}function O9(t,n){let r=.5;const i=io(t),l=io(n);return l>i?r=ch(n.min,n.max-i,t.min):i>l&&(r=ch(t.min,t.max-l,n.min)),kl(0,1,r)}function B9(t,n){const r={};return n.min!==void 0&&(r.min=n.min-t.min),n.max!==void 0&&(r.max=n.max-t.min),r}const Lb=.35;function $9(t=Lb){return t===!1?t=0:t===!0&&(t=Lb),{x:Z_(t,"left","right"),y:Z_(t,"top","bottom")}}function Z_(t,n,r){return{min:Y_(t,n),max:Y_(t,r)}}function Y_(t,n){return typeof t=="number"?t:t[n]||0}const K_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hd=()=>({x:K_(),y:K_()}),X_=()=>({min:0,max:0}),Zr=()=>({x:X_(),y:X_()});function Po(t){return[t("x"),t("y")]}function bk({top:t,left:n,right:r,bottom:i}){return{x:{min:n,max:r},y:{min:t,max:i}}}function F9({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function V9(t,n){if(!n)return t;const r=n({x:t.left,y:t.top}),i=n({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Ay(t){return t===void 0||t===1}function Ob({scale:t,scaleX:n,scaleY:r}){return!Ay(t)||!Ay(n)||!Ay(r)}function pu(t){return Ob(t)||jk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jk(t){return Q_(t.x)||Q_(t.y)}function Q_(t){return t&&t!=="0%"}function xx(t,n,r){const i=t-r,l=n*i;return r+l}function J_(t,n,r,i,l){return l!==void 0&&(t=xx(t,l,i)),xx(t,r,i)+n}function Bb(t,n=0,r=1,i,l){t.min=J_(t.min,n,r,i,l),t.max=J_(t.max,n,r,i,l)}function Sk(t,{x:n,y:r}){Bb(t.x,n.translate,n.scale,n.originPoint),Bb(t.y,r.translate,r.scale,r.originPoint)}const e2=.999999999999,t2=1.0000000000001;function U9(t,n,r,i=!1){const l=r.length;if(!l)return;n.x=n.y=1;let u,d;for(let g=0;g<l;g++){u=r[g],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qd(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(n.x*=d.x.scale,n.y*=d.y.scale,Sk(t,d)),i&&pu(u.latestValues)&&qd(t,u.latestValues))}n.x<t2&&n.x>e2&&(n.x=1),n.y<t2&&n.y>e2&&(n.y=1)}function Wd(t,n){t.min=t.min+n,t.max=t.max+n}function n2(t,n,r,i,l=.5){const u=Dr(t.min,t.max,l);Bb(t,n,r,u,i)}function qd(t,n){n2(t.x,n.x,n.scaleX,n.scale,n.originX),n2(t.y,n.y,n.scaleY,n.scale,n.originY)}function Ek(t,n){return bk(V9(t.getBoundingClientRect(),n))}function H9(t,n,r){const i=Ek(t,r),{scroll:l}=n;return l&&(Wd(i.x,l.offset.x),Wd(i.y,l.offset.y)),i}const Ck=({current:t})=>t?t.ownerDocument.defaultView:null,W9=new WeakMap;class q9{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.visualElement=n}start(n,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Zp(x).point)},u=(x,v)=>{const{drag:S,dragPropagation:E,onDragStart:C}=this.getProps();if(S&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OF(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Po(A=>{let D=this.getAxisMotionValue(A).get()||0;if(La.test(D)){const{projection:M}=this.visualElement;if(M&&M.layout){const R=M.layout.layoutBox[A];R&&(D=io(R)*(parseFloat(D)/100))}}this.originPoint[A]=D}),C&&Er.postRender(()=>C(x,v)),Rb(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},d=(x,v)=>{const{dragPropagation:S,dragDirectionLock:E,onDirectionLock:C,onDrag:T}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=v;if(E&&this.currentDirection===null){this.currentDirection=G9(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),T&&T(x,v)},g=(x,v)=>this.stop(x,v),p=()=>Po(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new gk(n,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Ck(this.visualElement)})}stop(n,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Er.postRender(()=>u(n,r))}cancel(){this.isDragging=!1;const{projection:n,animationState:r}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(n,r,i){const{drag:l}=this.getProps();if(!i||!jg(n,l,this.currentDirection))return;const u=this.getAxisMotionValue(n);let d=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(d=I9(d,this.constraints[n],this.elastic[n])),u.set(d)}resolveConstraints(){var n;const{dragConstraints:r,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,u=this.constraints;r&&Vd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&l?this.constraints=z9(l.layoutBox,r):this.constraints=!1,this.elastic=$9(i),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Po(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=B9(l.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!Vd(n))return!1;const i=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=H9(i,l.root,this.visualElement.getTransformPagePoint());let d=L9(l.layout.layoutBox,u);if(r){const g=r(F9(d));this.hasMutatedConstraints=!!g,g&&(d=bk(g))}return d}startAnimation(n){const{drag:r,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:g}=this.getProps(),p=this.constraints||{},m=Po(x=>{if(!jg(x,r,this.currentDirection))return;let v=p&&p[x]||{};d&&(v={min:0,max:0});const S=l?200:1e6,E=l?40:1e7,C={type:"inertia",velocity:i?n[x]:0,bounceStiffness:S,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(x,C)});return Promise.all(m).then(g)}startAxisValueAnimation(n,r){const i=this.getAxisMotionValue(n);return Rb(this.visualElement,n),i.start(DS(n,i,0,r,this.visualElement,!1))}stopAnimation(){Po(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Po(n=>{var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(n){var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(n){const r=`_drag${n.toUpperCase()}`,i=this.visualElement.getProps(),l=i[r];return l||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){Po(r=>{const{drag:i}=this.getProps();if(!jg(r,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(r);if(l&&l.layout){const{min:d,max:g}=l.layout.layoutBox[r];u.set(n[r]-Dr(d,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Vd(r)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Po(d=>{const g=this.getAxisMotionValue(d);if(g&&this.constraints!==!1){const p=g.get();l[d]=O9({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Po(d=>{if(!jg(d,n,null))return;const g=this.getAxisMotionValue(d),{min:p,max:m}=this.constraints[d];g.set(Dr(p,m,l[d]))})}addListeners(){if(!this.visualElement.current)return;W9.set(this.visualElement,this);const n=this.visualElement.current,r=ap(n,"pointerdown",p=>{const{drag:m,dragListener:x=!0}=this.getProps();m&&x&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Vd(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Er.read(i);const d=wp(window,"resize",()=>this.scalePositionWithinConstraints()),g=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Po(x=>{const v=this.getAxisMotionValue(x);v&&(this.originPoint[x]+=p[x].translate,v.set(v.get()+p[x].translate))}),this.visualElement.render())}));return()=>{d(),r(),u(),g&&g()}}getProps(){const n=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Lb,dragMomentum:g=!0}=n;return{...n,drag:r,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:g}}}function jg(t,n,r){return(n===!0||n===t)&&(r===null||r===t)}function G9(t,n=10){let r=null;return Math.abs(t.y)>n?r="y":Math.abs(t.x)>n&&(r="x"),r}class Z9 extends Nc{constructor(n){super(n),this.removeGroupControls=so,this.removeListeners=so,this.controls=new q9(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||so}unmount(){this.removeGroupControls(),this.removeListeners()}}const r2=t=>(n,r)=>{t&&Er.postRender(()=>t(n,r))};class Y9 extends Nc{constructor(){super(...arguments),this.removePointerDownListener=so}onPointerDown(n){this.session=new gk(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ck(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:r,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:r2(n),onStart:r2(r),onMove:i,onEnd:(u,d)=>{delete this.session,l&&Er.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=ap(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s2(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const Tf={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(Jt.test(t))t=parseFloat(t);else return t;const r=s2(t,n.target.x),i=s2(t,n.target.y);return`${r}% ${i}%`}},K9={correct:(t,{treeScale:n,projectionDelta:r})=>{const i=t,l=_c.parse(t);if(l.length>5)return i;const u=_c.createTransformer(t),d=typeof l[0]!="number"?1:0,g=r.x.scale*n.x,p=r.y.scale*n.y;l[0+d]/=g,l[1+d]/=p;const m=Dr(g,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=m),typeof l[3+d]=="number"&&(l[3+d]/=m),u(l)}};class X9 extends y.Component{componentDidMount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=n;xF(Q9),u&&(r.group&&r.group.add(u),i&&i.register&&l&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Qg.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:r,visualElement:i,drag:l,isPresent:u}=this.props,d=i.projection;return d&&(d.isPresent=u,l||n.layoutDependency!==r||r===void 0?d.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?d.promote():d.relegate()||Er.postRender(()=>{const g=d.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),lS.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:l}=n;l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function wk(t){const[n,r]=nS(),i=y.useContext(Jj);return e.jsx(X9,{...t,layoutGroup:i,switchLayoutGroup:y.useContext(mR),isPresent:n,safeToRemove:r})}const Q9={borderRadius:{...Tf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tf,borderTopRightRadius:Tf,borderBottomLeftRadius:Tf,borderBottomRightRadius:Tf,boxShadow:K9};function J9(t,n,r){const i=Ks(t)?t:Ep(t);return i.start(DS("",i,n,r)),i.animation}function e7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const t7=(t,n)=>t.depth-n.depth;class n7{constructor(){this.children=[],this.isDirty=!1}add(n){SS(this.children,n),this.isDirty=!0}remove(n){ES(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(t7),this.isDirty=!1,this.children.forEach(n)}}function r7(t,n){const r=Oa.now(),i=({timestamp:l})=>{const u=l-r;u>=n&&(wc(i),t(u-n))};return Er.read(i,!0),()=>wc(i)}const _k=["TopLeft","TopRight","BottomLeft","BottomRight"],s7=_k.length,i2=t=>typeof t=="string"?parseFloat(t):t,o2=t=>typeof t=="number"||Jt.test(t);function i7(t,n,r,i,l,u){l?(t.opacity=Dr(0,r.opacity!==void 0?r.opacity:1,o7(i)),t.opacityExit=Dr(n.opacity!==void 0?n.opacity:1,0,a7(i))):u&&(t.opacity=Dr(n.opacity!==void 0?n.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let d=0;d<s7;d++){const g=`border${_k[d]}Radius`;let p=a2(n,g),m=a2(r,g);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||o2(p)===o2(m)?(t[g]=Math.max(Dr(i2(p),i2(m),i),0),(La.test(m)||La.test(p))&&(t[g]+="%")):t[g]=m}(n.rotate||r.rotate)&&(t.rotate=Dr(n.rotate||0,r.rotate||0,i))}function a2(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const o7=Tk(0,.5,WR),a7=Tk(.5,.95,so);function Tk(t,n,r){return i=>i<t?0:i>n?1:r(ch(t,n,i))}function l2(t,n){t.min=n.min,t.max=n.max}function Ro(t,n){l2(t.x,n.x),l2(t.y,n.y)}function c2(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function u2(t,n,r,i,l){return t-=n,t=xx(t,1/r,i),l!==void 0&&(t=xx(t,1/l,i)),t}function l7(t,n=0,r=1,i=.5,l,u=t,d=t){if(La.test(n)&&(n=parseFloat(n),n=Dr(d.min,d.max,n/100)-d.min),typeof n!="number")return;let g=Dr(u.min,u.max,i);t===u&&(g-=n),t.min=u2(t.min,n,r,g,l),t.max=u2(t.max,n,r,g,l)}function d2(t,n,[r,i,l],u,d){l7(t,n[r],n[i],n[l],n.scale,u,d)}const c7=["x","scaleX","originX"],u7=["y","scaleY","originY"];function h2(t,n,r,i){d2(t.x,n,c7,r?r.x:void 0,i?i.x:void 0),d2(t.y,n,u7,r?r.y:void 0,i?i.y:void 0)}function f2(t){return t.translate===0&&t.scale===1}function Ak(t){return f2(t.x)&&f2(t.y)}function p2(t,n){return t.min===n.min&&t.max===n.max}function d7(t,n){return p2(t.x,n.x)&&p2(t.y,n.y)}function m2(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function Rk(t,n){return m2(t.x,n.x)&&m2(t.y,n.y)}function g2(t){return io(t.x)/io(t.y)}function x2(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class h7{constructor(){this.members=[]}add(n){SS(this.members,n),n.scheduleRender()}remove(n){if(ES(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(n){const r=this.members.findIndex(l=>n===l);if(r===0)return!1;let i;for(let l=r;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(n,r){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,r&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:r,resumingFrom:i}=n;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function f7(t,n,r){let i="";const l=t.x.translate/n.x,u=t.y.translate/n.y,d=r?.z||0;if((l||u||d)&&(i=`translate3d(${l}px, ${u}px, ${d}px) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),r){const{transformPerspective:m,rotate:x,rotateX:v,rotateY:S,skewX:E,skewY:C}=r;m&&(i=`perspective(${m}px) ${i}`),x&&(i+=`rotate(${x}deg) `),v&&(i+=`rotateX(${v}deg) `),S&&(i+=`rotateY(${S}deg) `),E&&(i+=`skewX(${E}deg) `),C&&(i+=`skewY(${C}deg) `)}const g=t.x.scale*n.x,p=t.y.scale*n.y;return(g!==1||p!==1)&&(i+=`scale(${g}, ${p})`),i||"none"}const mu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hf=typeof window<"u"&&window.MotionDebug!==void 0,Ry=["","X","Y","Z"],p7={visibility:"hidden"},v2=1e3;let m7=0;function ky(t,n,r,i){const{latestValues:l}=n;l[t]&&(r[t]=l[t],n.setStaticValue(t,0),i&&(i[t]=0))}function kk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const r=OR(n);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Er,!(l||u))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&kk(i)}function Mk({attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},g=n?.()){this.id=m7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hf&&(mu.totalNodes=mu.resolvedTargetDeltas=mu.recalculatedProjection=0),this.nodes.forEach(v7),this.nodes.forEach(E7),this.nodes.forEach(C7),this.nodes.forEach(y7),Hf&&window.MotionDebug.record(mu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new n7)}addEventListener(d,g){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new CS),this.eventHandlers.get(d).add(g)}notifyListeners(d,...g){const p=this.eventHandlers.get(d);p&&p.notify(...g)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e7(d),this.instance=d;const{layoutId:p,layout:m,visualElement:x}=this.options;if(x&&!x.current&&x.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(m||p)&&(this.isLayoutDirty=!0),t){let v;const S=()=>this.root.updateBlockedByResize=!1;t(d,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=r7(S,250),Qg.hasAnimatedSinceResize&&(Qg.hasAnimatedSinceResize=!1,this.nodes.forEach(b2))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeTargetChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||x.getDefaultTransition()||R7,{onLayoutAnimationStart:A,onLayoutAnimationComplete:D}=x.getProps(),M=!this.targetLayout||!Rk(this.targetLayout,C)||E,R=!S&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||S&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,R);const P={...vS(T,"layout"),onPlay:A,onComplete:D};(x.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else S||b2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w7),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:g,layout:p}=this.options;if(g===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y2);return}this.isUpdating||this.nodes.forEach(j7),this.isUpdating=!1,this.nodes.forEach(S7),this.nodes.forEach(g7),this.nodes.forEach(x7),this.clearAllSnapshots();const g=Oa.now();Is.delta=kl(0,1e3/60,g-Is.timestamp),Is.timestamp=g,Is.isProcessing=!0,by.update.process(Is),by.preRender.process(Is),by.render.process(Is),Is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b7),this.sharedNodes.forEach(_7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Er.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Er.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(g=!1),g){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!Ak(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,x=m!==this.prevTransformTemplateValue;d&&(g||pu(this.latestValues)||x)&&(l(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const g=this.measurePageBox();let p=this.removeElementScroll(g);return d&&(p=this.removeTransform(p)),k7(p),{animationId:this.root.animationId,measuredBox:g,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:g}=this.options;if(!g)return Zr();const p=g.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(M7))){const{scroll:x}=this.root;x&&(Wd(p.x,x.offset.x),Wd(p.y,x.offset.y))}return p}removeElementScroll(d){var g;const p=Zr();if(Ro(p,d),!((g=this.scroll)===null||g===void 0)&&g.wasRoot)return p;for(let m=0;m<this.path.length;m++){const x=this.path[m],{scroll:v,options:S}=x;x!==this.root&&v&&S.layoutScroll&&(v.wasRoot&&Ro(p,d),Wd(p.x,v.offset.x),Wd(p.y,v.offset.y))}return p}applyTransform(d,g=!1){const p=Zr();Ro(p,d);for(let m=0;m<this.path.length;m++){const x=this.path[m];!g&&x.options.layoutScroll&&x.scroll&&x!==x.root&&qd(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),pu(x.latestValues)&&qd(p,x.latestValues)}return pu(this.latestValues)&&qd(p,this.latestValues),p}removeTransform(d){const g=Zr();Ro(g,d);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!pu(m.latestValues))continue;Ob(m.latestValues)&&m.updateSnapshot();const x=Zr(),v=m.measurePageBox();Ro(x,v),h2(g,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,x)}return pu(this.latestValues)&&h2(g,this.latestValues),g}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var g;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:S}=this.options;if(!(!this.layout||!(v||S))){if(this.resolvedRelativeTargetAt=Is.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),cp(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ro(this.target,this.layout.layoutBox),Sk(this.target,this.targetDelta)):Ro(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),cp(this.relativeTargetOrigin,this.target,E.target),Ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hf&&mu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ob(this.parent.latestValues)||jk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const g=this.getLead(),p=!!this.resumingFrom||this!==g;let m=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Is.timestamp&&(m=!1),m)return;const{layout:x,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||v))return;Ro(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,E=this.treeScale.y;U9(this.layoutCorrected,this.treeScale,this.path,p),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox,g.targetWithTransforms=Zr());const{target:C}=g;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c2(this.prevProjectionDelta.x,this.projectionDelta.x),c2(this.prevProjectionDelta.y,this.projectionDelta.y)),lp(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==E||!x2(this.projectionDelta.x,this.prevProjectionDelta.x)||!x2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Hf&&mu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var g;if((g=this.options.visualElement)===null||g===void 0||g.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hd(),this.projectionDelta=Hd(),this.projectionDeltaWithTransform=Hd()}setAnimationOrigin(d,g=!1){const p=this.snapshot,m=p?p.latestValues:{},x={...this.latestValues},v=Hd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const S=Zr(),E=p?p.source:void 0,C=this.layout?this.layout.source:void 0,T=E!==C,A=this.getStack(),D=!A||A.members.length<=1,M=!!(T&&!D&&this.options.crossfade===!0&&!this.path.some(A7));this.animationProgress=0;let R;this.mixTargetDelta=P=>{const z=P/1e3;j2(v.x,d.x,z),j2(v.y,d.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cp(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T7(this.relativeTarget,this.relativeTargetOrigin,S,z),R&&d7(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Zr()),Ro(R,this.relativeTarget)),T&&(this.animationValues=x,i7(x,m,this.latestValues,z,M,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Er.update(()=>{Qg.hasAnimatedSinceResize=!0,this.currentAnimation=J9(0,v2,{...d,onUpdate:g=>{this.mixTargetDelta(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:g,target:p,layout:m,latestValues:x}=d;if(!(!g||!p||!m)){if(this!==d&&this.layout&&m&&Pk(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||Zr();const v=io(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+v;const S=io(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+S}Ro(g,p),qd(g,x),lp(this.projectionDeltaWithTransform,this.layoutCorrected,g,x)}}registerSharedNode(d,g){this.sharedNodes.has(d)||this.sharedNodes.set(d,new h7),this.sharedNodes.get(d).add(g);const m=g.options.initialPromotionConfig;g.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(g):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:g}=this.options;return g?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:g}=this.options;return g?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:g,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let g=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(g=!0),!g)return;const m={};p.z&&ky("z",d,m,this.animationValues);for(let x=0;x<Ry.length;x++)ky(`rotate${Ry[x]}`,d,m,this.animationValues),ky(`skew${Ry[x]}`,d,m,this.animationValues);d.render();for(const x in m)d.setStaticValue(x,m[x]),this.animationValues&&(this.animationValues[x]=m[x]);d.scheduleRender()}getProjectionStyles(d){var g,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return p7;const m={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Kg(d?.pointerEvents)||"",m.transform=x?x(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Kg(d?.pointerEvents)||""),this.hasProjected&&!pu(this.latestValues)&&(T.transform=x?x({},""):"none",this.hasProjected=!1),T}const S=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=f7(this.projectionDeltaWithTransform,this.treeScale,S),x&&(m.transform=x(S,m.transform));const{x:E,y:C}=this.projectionDelta;m.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,v.animationValues?m.opacity=v===this?(p=(g=S.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:m.opacity=v===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const T in hx){if(S[T]===void 0)continue;const{correct:A,applyTo:D}=hx[T],M=m.transform==="none"?S[T]:A(S[T],v);if(D){const R=D.length;for(let P=0;P<R;P++)m[D[P]]=M}else m[T]=M}return this.options.layoutId&&(m.pointerEvents=v===this?Kg(d?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var g;return(g=d.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(y2),this.root.sharedNodes.clear()}}}function g7(t){t.updateLayout()}function x7(t){var n;const r=((n=t.resumeFrom)===null||n===void 0?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=t.layout,{animationType:u}=t.options,d=r.source!==t.layout.source;u==="size"?Po(v=>{const S=d?r.measuredBox[v]:r.layoutBox[v],E=io(S);S.min=i[v].min,S.max=S.min+E}):Pk(u,r.layoutBox,i)&&Po(v=>{const S=d?r.measuredBox[v]:r.layoutBox[v],E=io(i[v]);S.max=S.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+E)});const g=Hd();lp(g,i,r.layoutBox);const p=Hd();d?lp(p,t.applyTransform(l,!0),r.measuredBox):lp(p,i,r.layoutBox);const m=!Ak(g);let x=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:S,layout:E}=v;if(S&&E){const C=Zr();cp(C,r.layoutBox,S.layoutBox);const T=Zr();cp(T,i,E.layoutBox),Rk(C,T)||(x=!0),v.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=C,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:p,layoutDelta:g,hasLayoutChanged:m,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function v7(t){Hf&&mu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function y7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function b7(t){t.clearSnapshot()}function y2(t){t.clearMeasurements()}function j7(t){t.isLayoutDirty=!1}function S7(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function b2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function E7(t){t.resolveTargetDelta()}function C7(t){t.calcProjection()}function w7(t){t.resetSkewAndRotation()}function _7(t){t.removeLeadSnapshot()}function j2(t,n,r){t.translate=Dr(n.translate,0,r),t.scale=Dr(n.scale,1,r),t.origin=n.origin,t.originPoint=n.originPoint}function S2(t,n,r,i){t.min=Dr(n.min,r.min,i),t.max=Dr(n.max,r.max,i)}function T7(t,n,r,i){S2(t.x,n.x,r.x,i),S2(t.y,n.y,r.y,i)}function A7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const R7={duration:.45,ease:[.4,0,.1,1]},E2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),C2=E2("applewebkit/")&&!E2("chrome/")?Math.round:so;function w2(t){t.min=C2(t.min),t.max=C2(t.max)}function k7(t){w2(t.x),w2(t.y)}function Pk(t,n,r){return t==="position"||t==="preserve-aspect"&&!D9(g2(n),g2(r),.2)}function M7(t){var n;return t!==t.root&&((n=t.scroll)===null||n===void 0?void 0:n.wasRoot)}const P7=Mk({attachResizeListener:(t,n)=>wp(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),My={current:void 0},Dk=Mk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!My.current){const t=new P7({});t.mount(window),t.setOptions({layoutScroll:!0}),My.current=t}return My.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),D7={pan:{Feature:Y9},drag:{Feature:Z9,ProjectionNode:Dk,MeasureLayout:wk}};function _2(t,n,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,u=i[l];u&&Er.postRender(()=>u(n,Zp(n)))}class N7 extends Nc{mount(){const{current:n}=this.node;n&&(this.unmount=DF(n,r=>(_2(this.node,r,"Start"),i=>_2(this.node,i,"End"))))}unmount(){}}class I7 extends Nc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gp(wp(this.node.current,"focus",()=>this.onFocus()),wp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T2(t,n,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),u=i[l];u&&Er.postRender(()=>u(n,Zp(n)))}class z7 extends Nc{mount(){const{current:n}=this.node;n&&(this.unmount=LF(n,r=>(T2(this.node,r,"Start"),(i,{success:l})=>T2(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $b=new WeakMap,Py=new WeakMap,L7=t=>{const n=$b.get(t.target);n&&n(t)},O7=t=>{t.forEach(L7)};function B7({root:t,...n}){const r=t||document;Py.has(r)||Py.set(r,{});const i=Py.get(r),l=JSON.stringify(n);return i[l]||(i[l]=new IntersectionObserver(O7,{root:t,...n})),i[l]}function $7(t,n,r){const i=B7(n);return $b.set(t,r),i.observe(t),()=>{$b.delete(t),i.unobserve(t)}}const F7={some:0,all:1};class V7 extends Nc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:r,margin:i,amount:l="some",once:u}=n,d={root:r?r.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:F7[l]},g=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),S=m?x:v;S&&S(p)};return $7(this.node.current,d,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:r}=this.node;["amount","margin","root"].some(U7(n,r))&&this.startObserver()}unmount(){}}function U7({viewport:t={}},{viewport:n={}}={}){return r=>t[r]!==n[r]}const H7={inView:{Feature:V7},tap:{Feature:z7},focus:{Feature:I7},hover:{Feature:N7}},W7={layout:{ProjectionNode:Dk,MeasureLayout:wk}},Fb={current:null},Nk={current:!1};function q7(){if(Nk.current=!0,!!rS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Fb.current=t.matches;t.addListener(n),n()}else Fb.current=!1}const G7=[...ik,Ys,_c],Z7=t=>G7.find(sk(t)),A2=new WeakMap;function Y7(t,n,r){for(const i in n){const l=n[i],u=r[i];if(Ks(l))t.addValue(i,l);else if(Ks(u))t.addValue(i,Ep(l,{owner:t}));else if(u!==l)if(t.hasValue(i)){const d=t.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=t.getStaticValue(i);t.addValue(i,Ep(d!==void 0?d:l,{owner:t}))}}for(const i in r)n[i]===void 0&&t.removeValue(i);return n}const R2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K7{scrapeMotionValuesFromProps(n,r,i){return{}}constructor({parent:n,props:r,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Oa.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Er.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:x}=d;this.onUpdate=x,this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=m,this.parent=n,this.props=r,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=g,this.blockInitialAnimation=!!u,this.isControllingVariants=Gx(r),this.isVariantNode=fR(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(r,{},this);for(const E in S){const C=S[E];p[E]!==void 0&&Ks(C)&&C.set(p[E],!1)}}mount(n){this.current=n,A2.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Nk.current||q7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){A2.delete(this.current),this.projection&&this.projection.unmount(),wc(this.notifyUpdate),wc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const i=Hu.has(n),l=r.on("change",g=>{this.latestValues[n]=g,this.props.onUpdate&&Er.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{l(),u(),d&&d(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in uh){const r=uh[n];if(!r)continue;const{isEnabled:i,Feature:l}=r;if(!this.features[n]&&l&&i(this.props)&&(this.features[n]=new l(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<R2.length;i++){const l=R2[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=n[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=Y7(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const i=this.values.get(n);r!==i&&(i&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&r!==void 0&&(i=Ep(r===null?void 0:r,{owner:this}),this.addValue(n,i)),i}readValue(n,r){var i;let l=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(i=this.getBaseTargetFromProps(this.props,n))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,n,this.options);return l!=null&&(typeof l=="string"&&(nk(l)||GR(l))?l=parseFloat(l):!Z7(l)&&_c.test(r)&&(l=JR(n,r)),this.setBaseTarget(n,Ks(l)?l.get():l)),Ks(l)?l.get():l}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){var r;const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const d=uS(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);d&&(l=d[n])}if(i&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,n);return u!==void 0&&!Ks(u)?u:this.initialValues[n]!==void 0&&l===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new CS),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}}class Ik extends K7{constructor(){super(...arguments),this.KeyframeResolver=ok}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){return n.style?n.style[r]:void 0}removeValueFromRenderState(n,{vars:r,style:i}){delete r[n],delete i[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Ks(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function X7(t){return window.getComputedStyle(t)}class Q7 extends Ik{constructor(){super(...arguments),this.type="html",this.renderInstance=SR}readValueFromInstance(n,r){if(Hu.has(r)){const i=RS(r);return i&&i.default||0}else{const i=X7(n),l=(yR(r)?i.getPropertyValue(r):i[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:r}){return Ek(n,r)}build(n,r,i){fS(n,r,i.transformTemplate)}scrapeMotionValuesFromProps(n,r,i){return xS(n,r,i)}}class J7 extends Ik{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zr}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(Hu.has(r)){const i=RS(r);return i&&i.default||0}return r=ER.has(r)?r:aS(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,i){return _R(n,r,i)}build(n,r,i){pS(n,r,this.isSVGTag,i.transformTemplate)}renderInstance(n,r,i,l){CR(n,r,i,l)}mount(n){this.isSVGTag=gS(n.tagName),super.mount(n)}}const eU=(t,n)=>cS(t)?new J7(n):new Q7(n,{allowProjection:t!==y.Fragment}),tU=_F({...C9,...H7,...D7,...W7},eU),Wa=F8(tU),nU=(t,n)=>t.find(r=>r.id===n);function k2(t,n){const r=zk(t,n),i=r?t[r].findIndex(l=>l.id===n):-1;return{position:r,index:i}}function zk(t,n){for(const[r,i]of Object.entries(t))if(nU(i,n))return r}function rU(t){const n=t.includes("right"),r=t.includes("left");let i="center";return n&&(i="flex-end"),r&&(i="flex-start"),{display:"flex",flexDirection:"column",alignItems:i}}function sU(t){const r=t==="top"||t==="bottom"?"0 auto":void 0,i=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,l=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,u=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",d=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:r,top:i,bottom:l,right:u,left:d}}var iU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oU=XA(function(t){return iU.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),aU=oU,lU=function(n){return n!=="theme"},M2=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?aU:lU},P2=function(n,r,i){var l;if(r){var u=r.shouldForwardProp;l=n.__emotion_forwardProp&&u?function(d){return n.__emotion_forwardProp(d)&&u(d)}:u}return typeof l!="function"&&i&&(l=n.__emotion_forwardProp),l},cU=function(n){var r=n.cache,i=n.serialized,l=n.isStringTag;return qj(r,i,l),nR(function(){return Gj(r,i,l)}),null},uU=function t(n,r){var i=n.__emotion_real===n,l=i&&n.__emotion_base||n,u,d;r!==void 0&&(u=r.label,d=r.target);var g=P2(n,r,i),p=g||M2(l),m=!p("as");return function(){var x=arguments,v=i&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(u!==void 0&&v.push("label:"+u+";"),x[0]==null||x[0].raw===void 0)v.push.apply(v,x);else{var S=x[0];v.push(S[0]);for(var E=x.length,C=1;C<E;C++)v.push(x[C],S[C])}var T=Yj(function(A,D,M){var R=m&&A.as||l,P="",z=[],O=A;if(A.theme==null){O={};for(var G in A)O[G]=A[G];O.theme=y.useContext(lh)}typeof A.className=="string"?P=JA(D.registered,z,A.className):A.className!=null&&(P=A.className+" ");var q=Vx(v.concat(z),D.registered,O);P+=D.key+"-"+q.name,d!==void 0&&(P+=" "+d);var ce=m&&g===void 0?M2(R):p,he={};for(var se in A)m&&se==="as"||ce(se)&&(he[se]=A[se]);return he.className=P,M&&(he.ref=M),y.createElement(y.Fragment,null,y.createElement(cU,{cache:D,serialized:q,isStringTag:typeof R=="string"}),y.createElement(R,he))});return T.displayName=u!==void 0?u:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",T.defaultProps=n.defaultProps,T.__emotion_real=T,T.__emotion_base=l,T.__emotion_styles=v,T.__emotion_forwardProp=g,Object.defineProperty(T,"toString",{value:function(){return"."+d}}),T.withComponent=function(A,D){var M=t(A,zu({},r,D,{shouldForwardProp:P2(T,D,!0)}));return M.apply(void 0,v)},T}},dU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vb=uU.bind(null);dU.forEach(function(t){Vb[t]=Vb(t)});const hU=new Set([...PL,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),fU=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function pU(t){return(fU.has(t)||!hU.has(t))&&t[0]!=="_"}const mU=kz(Vb),gU=({baseStyle:t})=>n=>{const{theme:r,css:i,__css:l,sx:u,...d}=n,[g]=Oz(d,NL),p=to(t,n),m=gz({},l,p,Op(g),u),x=RA(m)(n.theme);return i?[x,i]:x};function Dy(t,n){const{baseStyle:r,...i}=n??{};i.shouldForwardProp||(i.shouldForwardProp=pU);const l=gU({baseStyle:r}),u=mU(t,i)(l);return y.forwardRef(function(p,m){const{children:x,...v}=p,{colorMode:S,forced:E}=Hx(),C=E?S:void 0;return y.createElement(u,{ref:m,"data-theme":C,...v},x)})}function xU(){const t=new Map;return new Proxy(Dy,{apply(n,r,i){return Dy(...i)},get(n,r){return t.has(r)||t.set(r,Dy(r)),t.get(r)}})}const Ve=xU(),vU={initial:t=>{const{position:n}=t,r=["top","bottom"].includes(n)?"y":"x";let i=["top-right","bottom-right"].includes(n)?1:-1;return n==="bottom"&&(i=1),{opacity:0,[r]:i*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Lk=y.memo(t=>{const{id:n,message:r,onCloseComplete:i,onRequestRemove:l,requestClose:u=!1,position:d="bottom",duration:g=5e3,containerStyle:p,motionVariants:m=vU,toastSpacing:x="0.5rem"}=t,[v,S]=y.useState(g),E=P8();Nu(()=>{E||i?.()},[E]),Nu(()=>{S(g)},[g]);const C=()=>S(null),T=()=>S(g),A=()=>{E&&l()};y.useEffect(()=>{E&&u&&l()},[E,u,l]),Xz(A,v);const D=y.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:x,...p}),[p,x]),M=y.useMemo(()=>rU(d),[d]);return e.jsx(Wa.div,{layout:!0,className:"chakra-toast",variants:m,initial:"initial",animate:"animate",exit:"exit",onHoverStart:C,onHoverEnd:T,custom:{position:d},style:M,children:e.jsx(Ve.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:D,children:to(r,{id:n,onClose:A})})})});Lk.displayName="ToastComponent";function tt(t){return y.forwardRef(t)}var Ny,D2;function yU(){if(D2)return Ny;D2=1;var t=typeof Element<"u",n=typeof Map=="function",r=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){if(u.constructor!==d.constructor)return!1;var g,p,m;if(Array.isArray(u)){if(g=u.length,g!=d.length)return!1;for(p=g;p--!==0;)if(!l(u[p],d[p]))return!1;return!0}var x;if(n&&u instanceof Map&&d instanceof Map){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;for(x=u.entries();!(p=x.next()).done;)if(!l(p.value[1],d.get(p.value[0])))return!1;return!0}if(r&&u instanceof Set&&d instanceof Set){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(d)){if(g=u.length,g!=d.length)return!1;for(p=g;p--!==0;)if(u[p]!==d[p])return!1;return!0}if(u.constructor===RegExp)return u.source===d.source&&u.flags===d.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof d.valueOf=="function")return u.valueOf()===d.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof d.toString=="function")return u.toString()===d.toString();if(m=Object.keys(u),g=m.length,g!==Object.keys(d).length)return!1;for(p=g;p--!==0;)if(!Object.prototype.hasOwnProperty.call(d,m[p]))return!1;if(t&&u instanceof Element)return!1;for(p=g;p--!==0;)if(!((m[p]==="_owner"||m[p]==="__v"||m[p]==="__o")&&u.$$typeof)&&!l(u[m[p]],d[m[p]]))return!1;return!0}return u!==u&&d!==d}return Ny=function(d,g){try{return l(d,g)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},Ny}var bU=yU();const jU=Ip(bU);function Wu(){const t=y.useContext(lh);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function Ok(){const t=Hx(),n=Wu();return{...t,theme:n}}function SU(t,n,r){if(n==null)return n;const i=l=>t.__cssMap?.[l]?.value;return i(n)??i(r)??r}function EU(t,n,r){const i=Array.isArray(n)?n:[n],l=Array.isArray(r)?r:[r];return u=>{const d=l.filter(Boolean),g=i.map((p,m)=>{const x=`${t}.${p}`;return SU(u,x,d[m]??p)});return Array.isArray(n)?g:g[0]}}function CU(t){return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0&&n!=="children"&&!y.isValidElement(r)))}function Bk(t,n={}){const{styleConfig:r,...i}=n,{theme:l,colorMode:u}=Ok(),d=t?xA(l,`components.${t}`):void 0,g=r||d,p=No({theme:l,colorMode:u},g?.defaultProps??{},CU(i),(x,v)=>x?void 0:v),m=y.useRef({});if(g){const v=WL(g)(p);jU(m.current,v)||(m.current=v)}return m.current}function xi(t,n={}){return Bk(t,n)}function as(t,n={}){return Bk(t,n)}const N2={path:e.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},qn=tt((t,n)=>{const{as:r,viewBox:i,color:l="currentColor",focusable:u=!1,children:d,className:g,__css:p,...m}=t,x=dt("chakra-icon",g),v=xi("Icon",t),S={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:l,...p,...v},E={ref:n,focusable:u,className:x,__css:S},C=i??N2.viewBox;if(r&&typeof r!="string")return e.jsx(Ve.svg,{as:r,...E,...m});const T=d??N2.path;return e.jsx(Ve.svg,{verticalAlign:"middle",viewBox:C,...E,...m,children:T})});qn.displayName="Icon";function wU(t){return e.jsx(qn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function _U(t){return e.jsx(qn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function I2(t){return e.jsx(qn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const TU=Pc({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),hn=tt((t,n)=>{const r=xi("Spinner",t),{label:i="Loading...",thickness:l="2px",speed:u="0.45s",emptyColor:d="transparent",className:g,...p}=Vn(t),m=dt("chakra-spinner",g),x={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:d,borderLeftColor:d,animation:`${TU} ${u} linear infinite`,...r};return e.jsx(Ve.div,{ref:n,__css:x,className:m,...p,children:i&&e.jsx(Ve.span,{srOnly:!0,children:i})})});hn.displayName="Spinner";const[AU,NS]=$n({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[RU,IS]=$n({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),$k={info:{icon:_U,colorScheme:"blue"},warning:{icon:I2,colorScheme:"orange"},success:{icon:wU,colorScheme:"green"},error:{icon:I2,colorScheme:"red"},loading:{icon:hn,colorScheme:"blue"}};function kU(t){return $k[t].colorScheme}function MU(t){return $k[t].icon}const Ut=tt(function(n,r){const{status:i="info",addRole:l=!0,...u}=Vn(n),d=n.colorScheme??kU(i),g=as("Alert",{...n,colorScheme:d}),p={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...g.container};return e.jsx(AU,{value:{status:i},children:e.jsx(RU,{value:g,children:e.jsx(Ve.div,{"data-status":i,role:l?"alert":void 0,ref:r,...u,className:dt("chakra-alert",n.className),__css:p})})})});Ut.displayName="Alert";function Ht(t){const{status:n}=NS(),r=MU(n),i=IS(),l=n==="loading"?i.spinner:i.icon;return e.jsx(Ve.span,{display:"inherit","data-status":n,...t,className:dt("chakra-alert__icon",t.className),__css:l,children:t.children||e.jsx(r,{h:"100%",w:"100%"})})}Ht.displayName="AlertIcon";const Fk=tt(function(n,r){const i=IS(),{status:l}=NS();return e.jsx(Ve.div,{ref:r,"data-status":l,...n,className:dt("chakra-alert__title",n.className),__css:i.title})});Fk.displayName="AlertTitle";const Vk=tt(function(n,r){const{status:i}=NS(),l=IS(),u={display:"inline",...l.description};return e.jsx(Ve.div,{ref:r,"data-status":i,...n,className:dt("chakra-alert__desc",n.className),__css:u})});Vk.displayName="AlertDescription";function PU(t){return e.jsx(qn,{focusable:"false","aria-hidden":!0,...t,children:e.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const zS=tt(function(n,r){const i=xi("CloseButton",n),{children:l,isDisabled:u,__css:d,...g}=Vn(n),p={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return e.jsx(Ve.button,{type:"button","aria-label":"Close",ref:r,disabled:u,__css:{...p,...i,...d},...g,children:l||e.jsx(PU,{width:"1em",height:"1em"})})});zS.displayName="CloseButton";const DU=t=>{const{status:n,variant:r="solid",id:i,title:l,isClosable:u,onClose:d,description:g,colorScheme:p,icon:m}=t,x=i?{root:`toast-${i}`,title:`toast-${i}-title`,description:`toast-${i}-description`}:void 0;return e.jsxs(Ut,{addRole:!1,status:n,variant:r,id:x?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:p,children:[e.jsx(Ht,{children:m}),e.jsxs(Ve.div,{flex:"1",maxWidth:"100%",children:[l&&e.jsx(Fk,{id:x?.title,children:l}),g&&e.jsx(Vk,{id:x?.description,display:"block",children:g})]}),u&&e.jsx(zS,{size:"sm",onClick:d,position:"absolute",insetEnd:1,top:1})]})};function Uk(t={}){const{render:n,toastComponent:r=DU}=t;return l=>typeof n=="function"?n({...l,...t}):e.jsx(r,{...l,...t})}const NU={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Pa=IU(NU);function IU(t){let n=t;const r=new Set,i=l=>{n=l(n),r.forEach(u=>u())};return{getState:()=>n,subscribe:l=>(r.add(l),()=>{i(()=>t),r.delete(l)}),removeToast:(l,u)=>{i(d=>({...d,[u]:d[u].filter(g=>g.id!=l)}))},notify:(l,u)=>{const d=zU(l,u),{position:g,id:p}=d;return i(m=>{const v=g.includes("top")?[d,...m[g]??[]]:[...m[g]??[],d];return{...m,[g]:v}}),p},update:(l,u)=>{l&&i(d=>{const g={...d},{position:p,index:m}=k2(g,l);return p&&m!==-1&&(g[p][m]={...g[p][m],...u,message:Uk(u)}),g})},closeAll:({positions:l}={})=>{i(u=>(l??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((p,m)=>(p[m]=u[m].map(x=>({...x,requestClose:!0})),p),{...u}))},close:l=>{i(u=>{const d=zk(u,l);return d?{...u,[d]:u[d].map(g=>g.id==l?{...g,requestClose:!0}:g)}:u})},isActive:l=>!!k2(Pa.getState(),l).position}}let z2=0;function zU(t,n={}){z2+=1;const r=n.id??z2,i=n.position??"bottom";return{id:r,message:t,position:i,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:()=>Pa.removeToast(String(r),i),status:n.status,requestClose:!1,containerStyle:n.containerStyle}}const[Hk,LU]=$n({strict:!1,name:"PortalContext"}),LS="chakra-portal",OU=".chakra-portal",BU=t=>e.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),$U=t=>{const{appendToParentPortal:n,children:r}=t,[i,l]=y.useState(null),u=y.useRef(null),[,d]=y.useState({});y.useEffect(()=>d({}),[]);const g=LU(),p=w8();Cl(()=>{if(!i)return;const x=i.ownerDocument,v=n?g??x.body:x.body;if(!v)return;u.current=x.createElement("div"),u.current.className=LS,v.appendChild(u.current),d({});const S=u.current;return()=>{v.contains(S)&&v.removeChild(S)}},[i]);const m=p?.zIndex?e.jsx(BU,{zIndex:p?.zIndex,children:r}):r;return u.current?Nj.createPortal(e.jsx(Hk,{value:u.current,children:m}),u.current):e.jsx("span",{ref:x=>{x&&l(x)}})},FU=t=>{const{children:n,containerRef:r,appendToParentPortal:i}=t,l=r.current,u=l??(typeof window<"u"?document.body:void 0),d=y.useMemo(()=>{const p=l?.ownerDocument.createElement("div");return p&&(p.className=LS),p},[l]),[,g]=y.useState({});return Cl(()=>g({}),[]),Cl(()=>{if(!(!d||!u))return u.appendChild(d),()=>{u.removeChild(d)}},[d,u]),u&&d?Nj.createPortal(e.jsx(Hk,{value:i?d:null,children:n}),d):null};function Ch(t){const n={appendToParentPortal:!0,...t},{containerRef:r,...i}=n;return r?e.jsx(FU,{containerRef:r,...i}):e.jsx($U,{...i})}Ch.className=LS;Ch.selector=OU;Ch.displayName="Portal";const[VU,UU]=$n({name:"ToastOptionsContext",strict:!1}),HU=t=>{const n=y.useSyncExternalStore(Pa.subscribe,Pa.getState,Pa.getState),{motionVariants:r,component:i=Lk,portalProps:l,animatePresenceProps:u}=t,g=Object.keys(n).map(p=>{const m=n[p];return e.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${p}`,id:`chakra-toast-manager-${p}`,style:sU(p),children:e.jsx(Dc,{...u,initial:!1,children:m.map(x=>e.jsx(i,{motionVariants:r,...x},x.id))})},p)});return e.jsx(Ch,{...l,children:g})},WU=t=>function({children:r,theme:i=t,toastOptions:l,...u}){return e.jsxs(T8,{theme:i,...u,children:[e.jsx(VU,{value:l?.defaultOptions,children:r}),e.jsx(HU,{...l})]})},qU=WU(HA);function L2(t){return t.sort((n,r)=>{const i=n.compareDocumentPosition(r);if(i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(i&Node.DOCUMENT_POSITION_DISCONNECTED||i&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const GU=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function O2(t,n,r){let i=t+1;return r&&i>=n&&(i=0),i}function B2(t,n,r){let i=t-1;return r&&i<0&&(i=n),i}const Iy=typeof window<"u"?y.useLayoutEffect:y.useEffect,$2=t=>t;var ZU=Object.defineProperty,YU=(t,n,r)=>n in t?ZU(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,$r=(t,n,r)=>(YU(t,typeof n!="symbol"?n+"":n,r),r);class KU{constructor(){$r(this,"descendants",new Map),$r(this,"register",n=>{if(n!=null)return GU(n)?this.registerNode(n):r=>{this.registerNode(r,n)}}),$r(this,"unregister",n=>{this.descendants.delete(n);const r=L2(Array.from(this.descendants.keys()));this.assignIndex(r)}),$r(this,"destroy",()=>{this.descendants.clear()}),$r(this,"assignIndex",n=>{this.descendants.forEach(r=>{const i=n.indexOf(r.node);r.index=i,r.node.dataset.index=r.index.toString()})}),$r(this,"count",()=>this.descendants.size),$r(this,"enabledCount",()=>this.enabledValues().length),$r(this,"values",()=>Array.from(this.descendants.values()).sort((r,i)=>r.index-i.index)),$r(this,"enabledValues",()=>this.values().filter(n=>!n.disabled)),$r(this,"item",n=>{if(this.count()!==0)return this.values()[n]}),$r(this,"enabledItem",n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]}),$r(this,"first",()=>this.item(0)),$r(this,"firstEnabled",()=>this.enabledItem(0)),$r(this,"last",()=>this.item(this.descendants.size-1)),$r(this,"lastEnabled",()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)}),$r(this,"indexOf",n=>n?this.descendants.get(n)?.index??-1:-1),$r(this,"enabledIndexOf",n=>n==null?-1:this.enabledValues().findIndex(r=>r.node.isSameNode(n))),$r(this,"next",(n,r=!0)=>{const i=O2(n,this.count(),r);return this.item(i)}),$r(this,"nextEnabled",(n,r=!0)=>{const i=this.item(n);if(!i)return;const l=this.enabledIndexOf(i.node),u=O2(l,this.enabledCount(),r);return this.enabledItem(u)}),$r(this,"prev",(n,r=!0)=>{const i=B2(n,this.count()-1,r);return this.item(i)}),$r(this,"prevEnabled",(n,r=!0)=>{const i=this.item(n);if(!i)return;const l=this.enabledIndexOf(i.node),u=B2(l,this.enabledCount()-1,r);return this.enabledItem(u)}),$r(this,"registerNode",(n,r)=>{if(!n||this.descendants.has(n))return;const i=Array.from(this.descendants.keys()).concat(n),l=L2(i);r?.disabled&&(r.disabled=!!r.disabled);const u={node:n,index:-1,...r};this.descendants.set(n,u),this.assignIndex(l)})}}function Kx(){const[t,n]=$n({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,n,()=>{const l=y.useRef(new KU);return Iy(()=>()=>l.current.destroy()),l.current},l=>{const u=n(),[d,g]=y.useState(-1),p=y.useRef(null);Iy(()=>()=>{p.current&&u.unregister(p.current)},[]),Iy(()=>{if(!p.current)return;const x=Number(p.current.dataset.index);d!=x&&!Number.isNaN(x)&&g(x)});const m=$2(l?u.register(l):u.register);return{descendants:u,index:d,enabledIndex:u.enabledIndexOf(p.current),register:Kr(m,p)}}]}const[XU,Xx]=$n({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[QU,OS]=$n({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[JU,dee,eH,tH]=Kx();function nH(t){const{onChange:n,defaultIndex:r,index:i,allowMultiple:l,allowToggle:u,...d}=t;iH(t),oH(t);const g=eH(),[p,m]=y.useState(-1);y.useEffect(()=>()=>{m(-1)},[]);const[x,v]=Fp({value:i,defaultValue(){return l?r??[]:r??-1},onChange:n});return{index:x,setIndex:v,htmlProps:d,getAccordionItemProps:E=>{let C=!1;return E!==null&&(C=Array.isArray(x)?x.includes(E):x===E),{isOpen:C,onChange:A=>{if(E!==null)if(l&&Array.isArray(x)){const D=A?x.concat(E):x.filter(M=>M!==E);v(D)}else A?v(E):u&&v(-1)}}},focusedIndex:p,setFocusedIndex:m,descendants:g}}const[rH,BS]=$n({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function sH(t){const{isDisabled:n,isFocusable:r,id:i,...l}=t,{getAccordionItemProps:u,setFocusedIndex:d}=BS(),g=y.useRef(null),p=y.useId(),m=i??p,x=`accordion-button-${m}`,v=`accordion-panel-${m}`;aH(t);const{register:S,index:E,descendants:C}=tH({disabled:n&&!r}),{isOpen:T,onChange:A}=u(E===-1?null:E);lH({isOpen:T,isDisabled:n});const D=()=>{A?.(!0)},M=()=>{A?.(!1)},R=y.useCallback(()=>{A?.(!T),d(E)},[E,d,T,A]),P=y.useCallback(q=>{const he={ArrowDown:()=>{C.nextEnabled(E)?.node.focus()},ArrowUp:()=>{C.prevEnabled(E)?.node.focus()},Home:()=>{C.firstEnabled()?.node.focus()},End:()=>{C.lastEnabled()?.node.focus()}}[q.key];he&&(q.preventDefault(),he(q))},[C,E]),z=y.useCallback(()=>{d(E)},[d,E]),O=y.useCallback(function(ce={},he=null){return{...ce,type:"button",ref:Kr(S,g,he),id:x,disabled:!!n,"aria-expanded":!!T,"aria-controls":v,onClick:on(ce.onClick,R),onFocus:on(ce.onFocus,z),onKeyDown:on(ce.onKeyDown,P)}},[x,n,T,R,z,P,v,S]),G=y.useCallback(function(ce={},he=null){return{...ce,ref:he,role:"region",id:v,"aria-labelledby":x,hidden:!T}},[x,T,v]);return{isOpen:T,isDisabled:n,isFocusable:r,onOpen:D,onClose:M,getButtonProps:O,getPanelProps:G,htmlProps:l}}function iH(t){const n=t.index||t.defaultIndex,r=n!=null&&!Array.isArray(n)&&t.allowMultiple;$p({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function oH(t){$p({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function aH(t){$p({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function lH(t){$p({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}const Wk=tt(function({children:n,reduceMotion:r,...i},l){const u=as("Accordion",i),d=Vn(i),{htmlProps:g,descendants:p,...m}=nH(d),x=y.useMemo(()=>({...m,reduceMotion:!!r}),[m,r]);return e.jsx(JU,{value:p,children:e.jsx(rH,{value:x,children:e.jsx(XU,{value:u,children:e.jsx(Ve.div,{ref:l,...g,className:dt("chakra-accordion",i.className),__css:u.root,children:n})})})})});Wk.displayName="Accordion";const qk=tt(function(n,r){const{getButtonProps:i}=OS(),l=i(n,r),d={display:"flex",alignItems:"center",width:"100%",outline:0,...Xx().button};return e.jsx(Ve.button,{...l,className:dt("chakra-accordion__button",n.className),__css:d})});qk.displayName="AccordionButton";function Gk(t){const{isOpen:n,isDisabled:r}=OS(),{reduceMotion:i}=BS(),l=dt("chakra-accordion__icon",t.className),u=Xx(),d={opacity:r?.4:1,transform:n?"rotate(-180deg)":void 0,transition:i?void 0:"transform 0.2s",transformOrigin:"center",...u.icon};return e.jsx(qn,{viewBox:"0 0 24 24","aria-hidden":!0,className:l,__css:d,...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}Gk.displayName="AccordionIcon";const Zk=tt(function(n,r){const{children:i,className:l}=n,{htmlProps:u,...d}=sH(n),g=Xx(),p={...g.container,overflowAnchor:"none"},m=y.useMemo(()=>d,[d]);return e.jsx(QU,{value:m,children:e.jsx(Ve.div,{ref:r,...u,className:dt("chakra-accordion__item",l),__css:p,children:typeof i=="function"?i({isExpanded:!!d.isOpen,isDisabled:!!d.isDisabled}):i})})});Zk.displayName="AccordionItem";const bu={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Af={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function Ub(t){switch(t?.direction??"right"){case"right":return Af.slideRight;case"left":return Af.slideLeft;case"bottom":return Af.slideDown;case"top":return Af.slideUp;default:return Af.slideRight}}const Ru={enter:{duration:.2,ease:bu.easeOut},exit:{duration:.1,ease:bu.easeIn}},ra={enter:(t,n)=>({...t,delay:typeof n=="number"?n:n?.enter}),exit:(t,n)=>({...t,delay:typeof n=="number"?n:n?.exit})},cH=t=>t!=null&&parseInt(t.toString(),10)>0,F2={exit:{height:{duration:.2,ease:bu.ease},opacity:{duration:.3,ease:bu.ease}},enter:{height:{duration:.3,ease:bu.ease},opacity:{duration:.4,ease:bu.ease}}},uH={exit:({animateOpacity:t,startingHeight:n,transition:r,transitionEnd:i,delay:l})=>({...t&&{opacity:cH(n)?1:0},height:n,transitionEnd:i?.exit,transition:r?.exit??ra.exit(F2.exit,l)}),enter:({animateOpacity:t,endingHeight:n,transition:r,transitionEnd:i,delay:l})=>({...t&&{opacity:1},height:n,transitionEnd:i?.enter,transition:r?.enter??ra.enter(F2.enter,l)})},$S=y.forwardRef((t,n)=>{const{in:r,unmountOnExit:i,animateOpacity:l=!0,startingHeight:u=0,endingHeight:d="auto",style:g,className:p,transition:m,transitionEnd:x,animatePresenceProps:v,...S}=t,[E,C]=y.useState(!1);y.useEffect(()=>{const R=setTimeout(()=>{C(!0)});return()=>clearTimeout(R)},[]),$p({condition:Number(u)>0&&!!i,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const T=parseFloat(u.toString())>0,A={startingHeight:u,endingHeight:d,animateOpacity:l,transition:E?m:{enter:{duration:0}},transitionEnd:{enter:x?.enter,exit:i?x?.exit:{...x?.exit,display:T?"block":"none"}}},D=i?r:!0,M=r||i?"enter":"exit";return e.jsx(Dc,{...v,initial:!1,custom:A,children:D&&e.jsx(Wa.div,{ref:n,...S,className:dt("chakra-collapse",p),style:{overflow:"hidden",display:"block",...g},custom:A,variants:uH,initial:i?"exit":!1,animate:M,exit:"exit"})})});$S.displayName="Collapse";const Yk=tt(function(n,r){const{className:i,motionProps:l,...u}=n,{reduceMotion:d}=BS(),{getPanelProps:g,isOpen:p}=OS(),m=g(u,r),x=dt("chakra-accordion__panel",i),v=Xx();d||delete m.hidden;const S=e.jsx(Ve.div,{...m,__css:v.panel,className:x});return d?S:e.jsx($S,{in:p,...l,children:S})});Yk.displayName="AccordionPanel";const[dH,hH]=$n({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function fH(t){const n=t.trim().split(" "),r=n[0]??"",i=n.length>1?n[n.length-1]:"";return r&&i?`${r.charAt(0)}${i.charAt(0)}`:r.charAt(0)}function Kk(t){const{name:n,getInitials:r,...i}=t,l=hH();return e.jsx(Ve.div,{role:"img","aria-label":n,...i,__css:l.label,children:n?r?.(n):null})}Kk.displayName="AvatarName";const Xk=t=>e.jsxs(Ve.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[e.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),e.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function Qk(t){const{loading:n,src:r,srcSet:i,onLoad:l,onError:u,crossOrigin:d,sizes:g,ignoreFallback:p}=t,[m,x]=y.useState("pending");y.useEffect(()=>{x(r?"loading":"pending")},[r]);const v=y.useRef(null),S=y.useCallback(()=>{if(!r)return;E();const C=new Image;C.src=r,d&&(C.crossOrigin=d),i&&(C.srcset=i),g&&(C.sizes=g),n&&(C.loading=n),C.onload=T=>{E(),x("loaded"),l?.(T)},C.onerror=T=>{E(),x("failed"),u?.(T)},v.current=C},[r,d,i,g,l,u,n]),E=()=>{v.current&&(v.current.onload=null,v.current.onerror=null,v.current=null)};return Cl(()=>{if(!p)return m==="loading"&&S(),()=>{E()}},[m,S,p]),p?"loaded":m}const pH=(t,n)=>t!=="loaded"&&n==="beforeLoadOrError"||t==="failed"&&n==="onError";function Jk(t){const{src:n,srcSet:r,onError:i,onLoad:l,getInitials:u,name:d,borderRadius:g,loading:p,iconLabel:m,icon:x=e.jsx(Xk,{}),ignoreFallback:v,referrerPolicy:S,crossOrigin:E}=t,T=Qk({src:n,onError:i,crossOrigin:E,ignoreFallback:v})==="loaded";return!n||!T?d?e.jsx(Kk,{className:"chakra-avatar__initials",getInitials:u,name:d}):y.cloneElement(x,{role:"img","aria-label":m}):e.jsx(Ve.img,{src:n,srcSet:r,alt:d??m,onLoad:l,referrerPolicy:S,crossOrigin:E??void 0,className:"chakra-avatar__img",loading:p,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:g}})}Jk.displayName="AvatarImage";const mH={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},eM=tt((t,n)=>{const r=as("Avatar",t),[i,l]=y.useState(!1),{src:u,srcSet:d,name:g,showBorder:p,borderRadius:m="full",onError:x,onLoad:v,getInitials:S=fH,icon:E=e.jsx(Xk,{}),iconLabel:C=" avatar",loading:T,children:A,borderColor:D,ignoreFallback:M,crossOrigin:R,referrerPolicy:P,...z}=Vn(t),O={borderRadius:m,borderWidth:p?"2px":void 0,...mH,...r.container};return D&&(O.borderColor=D),e.jsx(Ve.span,{ref:n,...z,className:dt("chakra-avatar",t.className),"data-loaded":wn(i),__css:O,children:e.jsxs(dH,{value:r,children:[e.jsx(Jk,{src:u,srcSet:d,loading:T,onLoad:on(v,()=>{l(!0)}),onError:x,getInitials:S,name:g,borderRadius:m,icon:E,iconLabel:C,ignoreFallback:M,crossOrigin:R,referrerPolicy:P}),A]})})});eM.displayName="Avatar";const et=tt(function(n,r){const i=xi("Badge",n),{className:l,...u}=Vn(n);return e.jsx(Ve.span,{ref:r,className:dt("chakra-badge",n.className),...u,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...i}})});et.displayName="Badge";const ue=Ve("div");ue.displayName="Box";const[gH,FS]=$n({name:"BreadcrumbStylesContext",errorMessage:`useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Breadcrumb />" `}),Hb=tt(function(n,r){const i=as("Breadcrumb",n),l=Vn(n),{children:u,spacing:d="0.5rem",separator:g="/",className:p,listProps:m,...x}=l,v=Mc(u),S=v.length,E=v.map((T,A)=>y.cloneElement(T,{separator:g,spacing:d,isLastChild:S===A+1})),C=dt("chakra-breadcrumb",p);return e.jsx(Ve.nav,{ref:r,"aria-label":"breadcrumb",className:C,__css:i.container,...x,children:e.jsx(gH,{value:i,children:e.jsx(Ve.ol,{className:"chakra-breadcrumb__list",...m,__css:{display:"flex",alignItems:"center",...i.list},children:E})})})});Hb.displayName="Breadcrumb";const vx=tt(function(n,r){const{isCurrentPage:i,as:l,className:u,href:d,...g}=n,p=FS(),m={ref:r,as:l,className:dt("chakra-breadcrumb__link",u),...g};return i?e.jsx(Ve.span,{"aria-current":"page",__css:p.link,...m}):e.jsx(Ve.a,{__css:p.link,href:d,...m})});vx.displayName="BreadcrumbLink";const Wb=tt(function(n,r){const{spacing:i,...l}=n,u=FS(),d={mx:i,...u.separator};return e.jsx(Ve.span,{ref:r,role:"presentation",...l,__css:d})});Wb.displayName="BreadcrumbSeparator";const qb=tt(function(n,r){const{isCurrentPage:i,separator:l,isLastChild:u,spacing:d,children:g,className:p,...m}=n,v=Mc(g).map(T=>T.type===vx?y.cloneElement(T,{isCurrentPage:i}):T.type===Wb?y.cloneElement(T,{spacing:d,children:T.props.children||l}):T),S=FS(),E={display:"inline-flex",alignItems:"center",...S.item},C=dt("chakra-breadcrumb__list-item",p);return e.jsxs(Ve.li,{ref:r,className:C,...m,__css:E,children:[v,!u&&e.jsx(Wb,{spacing:d,children:l})]})});qb.displayName="BreadcrumbItem";const[xH,vH]=$n({strict:!1,name:"ButtonGroupContext"});function Wf(t){const{children:n,className:r,...i}=t,l=y.isValidElement(n)?y.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,u=dt("chakra-button__icon",r);return e.jsx(Ve.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:u,children:l})}Wf.displayName="ButtonIcon";function Gb(t){const{label:n,placement:r,spacing:i="0.5rem",children:l=e.jsx(hn,{color:"currentColor",width:"1em",height:"1em"}),className:u,__css:d,...g}=t,p=dt("chakra-button__spinner",u),m=r==="start"?"marginEnd":"marginStart",x=y.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[m]:n?i:0,fontSize:"1em",lineHeight:"normal",...d}),[d,n,m,i]);return e.jsx(Ve.div,{className:p,...g,__css:x,children:l})}Gb.displayName="ButtonSpinner";function yH(t){const[n,r]=y.useState(!t);return{ref:y.useCallback(u=>{u&&r(u.tagName==="BUTTON")},[]),type:n?"button":void 0}}const te=tt((t,n)=>{const r=vH(),i=xi("Button",{...r,...t}),{isDisabled:l=r?.isDisabled,isLoading:u,isActive:d,children:g,leftIcon:p,rightIcon:m,loadingText:x,iconSpacing:v="0.5rem",type:S,spinner:E,spinnerPlacement:C="start",className:T,as:A,shouldWrapChildren:D,...M}=Vn(t),R=y.useMemo(()=>{const G={...i?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!r&&{_focus:G}}},[i,r]),{ref:P,type:z}=yH(A),O={rightIcon:m,leftIcon:p,iconSpacing:v,children:g,shouldWrapChildren:D};return e.jsxs(Ve.button,{disabled:l||u,ref:Yz(n,P),as:A,type:S??z,"data-active":wn(d),"data-loading":wn(u),__css:R,className:dt("chakra-button",T),...M,children:[u&&C==="start"&&e.jsx(Gb,{className:"chakra-button__spinner--start",label:x,placement:"start",spacing:v,children:E}),u?x||e.jsx(Ve.span,{opacity:0,children:e.jsx(V2,{...O})}):e.jsx(V2,{...O}),u&&C==="end"&&e.jsx(Gb,{className:"chakra-button__spinner--end",label:x,placement:"end",spacing:v,children:E})]})});te.displayName="Button";function V2(t){const{leftIcon:n,rightIcon:r,children:i,iconSpacing:l,shouldWrapChildren:u}=t;return u?e.jsxs("span",{style:{display:"contents"},children:[n&&e.jsx(Wf,{marginEnd:l,children:n}),i,r&&e.jsx(Wf,{marginStart:l,children:r})]}):e.jsxs(e.Fragment,{children:[n&&e.jsx(Wf,{marginEnd:l,children:n}),i,r&&e.jsx(Wf,{marginStart:l,children:r})]})}const bH={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},jH={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},Zb=tt(function(n,r){const{size:i,colorScheme:l,variant:u,className:d,spacing:g="0.5rem",isAttached:p,isDisabled:m,orientation:x="horizontal",...v}=n,S=dt("chakra-button__group",d),E=y.useMemo(()=>({size:i,colorScheme:l,variant:u,isDisabled:m}),[i,l,u,m]);let C={display:"inline-flex",...p?bH[x]:jH[x](g)};const T=x==="vertical";return e.jsx(xH,{value:E,children:e.jsx(Ve.div,{ref:r,role:"group",__css:C,className:S,"data-attached":p?"":void 0,"data-orientation":x,flexDir:T?"column":void 0,...v})})});Zb.displayName="ButtonGroup";const xt=tt((t,n)=>{const{icon:r,children:i,isRound:l,"aria-label":u,...d}=t,g=r||i,p=y.isValidElement(g)?y.cloneElement(g,{"aria-hidden":!0,focusable:!1}):null;return e.jsx(te,{px:"0",py:"0",borderRadius:l?"full":void 0,ref:n,"aria-label":u,...d,children:p})});xt.displayName="IconButton";const[SH,tM]=S8("Card"),Ne=tt(function(n,r){const{className:i,children:l,direction:u="column",justify:d,align:g,...p}=Vn(n),m=as("Card",n);return e.jsx(Ve.div,{ref:r,className:dt("chakra-card",i),__css:{display:"flex",flexDirection:u,justifyContent:d,alignItems:g,position:"relative",minWidth:0,wordWrap:"break-word",...m.container},...p,children:e.jsx(SH,{value:m,children:l})})}),Ie=tt(function(n,r){const{className:i,...l}=n,u=tM();return e.jsx(Ve.div,{ref:r,className:dt("chakra-card__body",i),__css:u.body,...l})}),Dt=tt(function(n,r){const{className:i,...l}=n,u=tM();return e.jsx(Ve.div,{ref:r,className:dt("chakra-card__header",i),__css:u.header,...l})}),jn=Ve("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});jn.displayName="Center";const EH={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};tt(function(n,r){const{axis:i="both",...l}=n;return e.jsx(Ve.div,{ref:r,__css:EH[i],...l,position:"absolute"})});const[CH,wH]=$n({name:"CheckboxGroupContext",strict:!1});function _H(t){return e.jsx(Ve.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function TH(t){return e.jsx(Ve.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function AH(t){const{isIndeterminate:n,isChecked:r,...i}=t,l=n?TH:_H;return r||n?e.jsx(Ve.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(l,{...i})}):null}var RH=()=>typeof document<"u",U2=!1,Yp=null,Lu=!1,Yb=!1,Kb=new Set;function VS(t,n){Kb.forEach(r=>r(t,n))}var kH=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function MH(t){return!(t.metaKey||!kH&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function H2(t){Lu=!0,MH(t)&&(Yp="keyboard",VS("keyboard",t))}function Rd(t){if(Yp="pointer",t.type==="mousedown"||t.type==="pointerdown"){Lu=!0;const n=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=n.matches(":focus-visible")}catch{}if(r)return;VS("pointer",t)}}function PH(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function DH(t){PH(t)&&(Lu=!0,Yp="virtual")}function NH(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Lu&&!Yb&&(Yp="virtual",VS("virtual",t)),Lu=!1,Yb=!1)}function IH(){Lu=!1,Yb=!0}function W2(){return Yp!=="pointer"}function zH(){if(!RH()||U2)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...r){Lu=!0,t.apply(this,r)},document.addEventListener("keydown",H2,!0),document.addEventListener("keyup",H2,!0),document.addEventListener("click",DH,!0),window.addEventListener("focus",NH,!0),window.addEventListener("blur",IH,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Rd,!0),document.addEventListener("pointermove",Rd,!0),document.addEventListener("pointerup",Rd,!0)):(document.addEventListener("mousedown",Rd,!0),document.addEventListener("mousemove",Rd,!0),document.addEventListener("mouseup",Rd,!0)),U2=!0}function LH(t){zH(),t(W2());const n=()=>t(W2());return Kb.add(n),()=>{Kb.delete(n)}}const[OH,nM]=$n({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[BH,Qx]=$n({strict:!1,name:"FormControlContext"});function $H(t){const{id:n,isRequired:r,isInvalid:i,isDisabled:l,isReadOnly:u,...d}=t,g=y.useId(),p=n||`field-${g}`,m=`${p}-label`,x=`${p}-feedback`,v=`${p}-helptext`,[S,E]=y.useState(!1),[C,T]=y.useState(!1),[A,D]=y.useState(!1),M=y.useCallback((G={},q=null)=>({id:v,...G,ref:Kr(q,ce=>{ce&&T(!0)})}),[v]),R=y.useCallback((G={},q=null)=>({...G,ref:q,"data-focus":wn(A),"data-disabled":wn(l),"data-invalid":wn(i),"data-readonly":wn(u),id:G.id!==void 0?G.id:m,htmlFor:G.htmlFor!==void 0?G.htmlFor:p}),[p,l,A,i,u,m]),P=y.useCallback((G={},q=null)=>({id:x,...G,ref:Kr(q,ce=>{ce&&E(!0)}),"aria-live":"polite"}),[x]),z=y.useCallback((G={},q=null)=>({...G,...d,ref:q,role:"group","data-focus":wn(A),"data-disabled":wn(l),"data-invalid":wn(i),"data-readonly":wn(u)}),[d,l,A,i,u]),O=y.useCallback((G={},q=null)=>({...G,ref:q,role:"presentation","aria-hidden":!0,children:G.children||"*"}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!u,isDisabled:!!l,isFocused:!!A,onFocus:()=>D(!0),onBlur:()=>D(!1),hasFeedbackText:S,setHasFeedbackText:E,hasHelpText:C,setHasHelpText:T,id:p,labelId:m,feedbackId:x,helpTextId:v,htmlProps:d,getHelpTextProps:M,getErrorMessageProps:P,getRootProps:z,getLabelProps:R,getRequiredIndicatorProps:O}}const ee=tt(function(n,r){const i=as("Form",n),l=Vn(n),{getRootProps:u,htmlProps:d,...g}=$H(l),p=dt("chakra-form-control",n.className);return e.jsx(BH,{value:g,children:e.jsx(OH,{value:i,children:e.jsx(Ve.div,{...u({},r),className:p,__css:i.container})})})});ee.displayName="FormControl";const Jg=tt(function(n,r){const i=Qx(),l=nM(),u=dt("chakra-form__helper-text",n.className);return e.jsx(Ve.div,{...i?.getHelpTextProps(n,r),__css:l.helperText,className:u})});Jg.displayName="FormHelperText";function US(t){const{isDisabled:n,isInvalid:r,isReadOnly:i,isRequired:l,...u}=HS(t);return{...u,disabled:n,readOnly:i,required:l,"aria-invalid":Cu(r),"aria-required":Cu(l),"aria-readonly":Cu(i)}}function HS(t){const n=Qx(),{id:r,disabled:i,readOnly:l,required:u,isRequired:d,isInvalid:g,isReadOnly:p,isDisabled:m,onFocus:x,onBlur:v,...S}=t,E=t["aria-describedby"]?[t["aria-describedby"]]:[];return n?.hasFeedbackText&&n?.isInvalid&&E.push(n.feedbackId),n?.hasHelpText&&E.push(n.helpTextId),{...S,"aria-describedby":E.join(" ")||void 0,id:r??n?.id,isDisabled:i??m??n?.isDisabled,isReadOnly:l??p??n?.isReadOnly,isRequired:u??d??n?.isRequired,isInvalid:g??n?.isInvalid,onFocus:on(n?.onFocus,x),onBlur:on(n?.onBlur,v)}}const WS={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function rM(t={}){const n=HS(t),{isDisabled:r,isReadOnly:i,isRequired:l,isInvalid:u,id:d,onBlur:g,onFocus:p,"aria-describedby":m}=n,{defaultChecked:x,isChecked:v,isFocusable:S,onChange:E,isIndeterminate:C,name:T,value:A,tabIndex:D=void 0,"aria-label":M,"aria-labelledby":R,"aria-invalid":P,...z}=t,O=Bp(z,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),G=fs(E),q=fs(g),ce=fs(p),[he,se]=y.useState(!1),[ge,Ae]=y.useState(!1),[de,re]=y.useState(!1),K=y.useRef(!1);y.useEffect(()=>LH(Ue=>{K.current=Ue}),[]);const W=y.useRef(null),[H,Ee]=y.useState(!0),[B,ae]=y.useState(!!x),me=v!==void 0,$=me?v:B,F=y.useCallback(Ue=>{if(i||r){Ue.preventDefault();return}me||ae($?Ue.currentTarget.checked:C?!0:Ue.currentTarget.checked),G?.(Ue)},[i,r,$,me,C,G]);Cl(()=>{W.current&&(W.current.indeterminate=!!C)},[C]),Nu(()=>{r&&se(!1)},[r,se]),Cl(()=>{const Ue=W.current;if(!Ue?.form)return;const qt=()=>{ae(!!x)};return Ue.form.addEventListener("reset",qt),()=>Ue.form?.removeEventListener("reset",qt)},[]);const U=r&&!S,Y=y.useCallback(Ue=>{Ue.key===" "&&re(!0)},[re]),be=y.useCallback(Ue=>{Ue.key===" "&&re(!1)},[re]);Cl(()=>{if(!W.current)return;W.current.checked!==$&&ae(W.current.checked)},[W.current]);const Te=y.useCallback((Ue={},qt=null)=>{const Se=Ke=>{he&&Ke.preventDefault(),re(!0)};return{...Ue,ref:qt,"data-active":wn(de),"data-hover":wn(ge),"data-checked":wn($),"data-focus":wn(he),"data-focus-visible":wn(he&&K.current),"data-indeterminate":wn(C),"data-disabled":wn(r),"data-invalid":wn(u),"data-readonly":wn(i),"aria-hidden":!0,onMouseDown:on(Ue.onMouseDown,Se),onMouseUp:on(Ue.onMouseUp,()=>re(!1)),onMouseEnter:on(Ue.onMouseEnter,()=>Ae(!0)),onMouseLeave:on(Ue.onMouseLeave,()=>Ae(!1))}},[de,$,r,he,ge,C,u,i]),Re=y.useCallback((Ue={},qt=null)=>({...Ue,ref:qt,"data-active":wn(de),"data-hover":wn(ge),"data-checked":wn($),"data-focus":wn(he),"data-focus-visible":wn(he&&K.current),"data-indeterminate":wn(C),"data-disabled":wn(r),"data-invalid":wn(u),"data-readonly":wn(i)}),[de,$,r,he,ge,C,u,i]),nt=y.useCallback((Ue={},qt=null)=>({...O,...Ue,ref:Kr(qt,Se=>{Se&&Ee(Se.tagName==="LABEL")}),onClick:on(Ue.onClick,()=>{H||(W.current?.click(),requestAnimationFrame(()=>{W.current?.focus({preventScroll:!0})}))}),"data-disabled":wn(r),"data-checked":wn($),"data-invalid":wn(u)}),[O,r,$,u,H]),ht=y.useCallback((Ue={},qt=null)=>({...Ue,ref:Kr(W,qt),type:"checkbox",name:T,value:A,id:d,tabIndex:D,onChange:on(Ue.onChange,F),onBlur:on(Ue.onBlur,q,()=>se(!1)),onFocus:on(Ue.onFocus,ce,()=>se(!0)),onKeyDown:on(Ue.onKeyDown,Y),onKeyUp:on(Ue.onKeyUp,be),required:l,checked:$,disabled:U,readOnly:i,"aria-label":M,"aria-labelledby":R,"aria-invalid":P?!!P:u,"aria-describedby":m,"aria-disabled":r,"aria-checked":C?"mixed":$,style:WS}),[T,A,d,D,F,q,ce,Y,be,l,$,U,i,M,R,P,u,m,r,C]),rt=y.useCallback((Ue={},qt=null)=>({...Ue,ref:qt,onMouseDown:on(Ue.onMouseDown,FH),"data-disabled":wn(r),"data-checked":wn($),"data-invalid":wn(u)}),[$,r,u]);return{state:{isInvalid:u,isFocused:he,isChecked:$,isActive:de,isHovered:ge,isIndeterminate:C,isDisabled:r,isReadOnly:i,isRequired:l},getRootProps:nt,getCheckboxProps:Te,getIndicatorProps:Re,getInputProps:ht,getLabelProps:rt,htmlProps:O}}function FH(t){t.preventDefault(),t.stopPropagation()}function VH(t){const[n,r]=y.useState(t),[i,l]=y.useState(!1);return t!==n&&(l(!0),r(t)),i}const UH={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},HH={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},WH=Pc({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),qH=Pc({from:{opacity:0},to:{opacity:1}}),GH=Pc({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Ba=tt(function(n,r){const i=wH(),l={...i,...n},u=as("Checkbox",l),d=Vn(n),{spacing:g="0.5rem",className:p,children:m,iconColor:x,iconSize:v,icon:S=e.jsx(AH,{}),isChecked:E,isDisabled:C=i?.isDisabled,onChange:T,inputProps:A,...D}=d;let M=E;i?.value&&d.value&&(M=i.value.includes(d.value));let R=T;i?.onChange&&d.value&&(R=pA(i.onChange,T));const{state:P,getInputProps:z,getCheckboxProps:O,getLabelProps:G,getRootProps:q}=rM({...D,isDisabled:C,isChecked:M,onChange:R}),ce=VH(P.isChecked),he=y.useMemo(()=>({animation:ce?P.isIndeterminate?`${qH} 20ms linear, ${GH} 200ms linear`:`${WH} 200ms linear`:void 0,...u.icon,...Op({fontSize:v,color:x})}),[x,v,ce,P.isIndeterminate,u.icon]),se=y.cloneElement(S,{__css:he,isIndeterminate:P.isIndeterminate,isChecked:P.isChecked});return e.jsxs(Ve.label,{__css:{...HH,...u.container},className:dt("chakra-checkbox",p),...q(),children:[e.jsx("input",{className:"chakra-checkbox__input",...z(A,r)}),e.jsx(Ve.span,{__css:{...UH,...u.control},className:"chakra-checkbox__control",...O(),children:se}),m&&e.jsx(Ve.span,{className:"chakra-checkbox__label",...G(),__css:{marginStart:g,...u.label},children:m})]})});Ba.displayName="Checkbox";function q2(t){return t&&ms(t)&&ms(t.target)}function ZH(t={}){const{defaultValue:n,value:r,onChange:i,isDisabled:l,isNative:u}=t,d=fs(i),[g,p]=Fp({value:r,defaultValue:n||[],onChange:d}),m=y.useCallback(v=>{if(!g)return;const S=q2(v)?v.target.checked:!g.includes(v),E=q2(v)?v.target.value:v,C=S?[...g,E]:g.filter(T=>String(T)!==String(E));p(C)},[p,g]),x=y.useCallback((v={})=>({...v,[u?"checked":"isChecked"]:g.some(E=>String(v.value)===String(E)),onChange:m}),[m,u,g]);return{value:g,isDisabled:l,onChange:m,setValue:p,getCheckboxProps:x}}function sM(t){const{colorScheme:n,size:r,variant:i,children:l,isDisabled:u}=t,{value:d,onChange:g}=ZH(t),p=y.useMemo(()=>({size:r,onChange:g,colorScheme:n,value:d,variant:i,isDisabled:u}),[r,g,n,d,i,u]);return e.jsx(CH,{value:p,children:l})}sM.displayName="CheckboxGroup";const hh=tt(function(n,r){const i=xi("Code",n),{className:l,...u}=Vn(n);return e.jsx(Ve.code,{ref:r,className:dt("chakra-code",n.className),...u,__css:{display:"inline-block",...i}})});hh.displayName="Code";const Os=tt(function(n,r){const{className:i,centerContent:l,...u}=Vn(n),d=xi("Container",n);return e.jsx(Ve.div,{ref:r,className:dt("chakra-container",i),...u,__css:{...d,...l&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Os.displayName="Container";const vn=tt(function(n,r){const{borderLeftWidth:i,borderBottomWidth:l,borderTopWidth:u,borderRightWidth:d,borderWidth:g,borderStyle:p,borderColor:m,...x}=xi("Divider",n),{className:v,orientation:S="horizontal",__css:E,...C}=Vn(n),T={vertical:{borderLeftWidth:i||d||g||"1px",height:"100%"},horizontal:{borderBottomWidth:l||u||g||"1px",width:"100%"}};return e.jsx(Ve.hr,{ref:r,"aria-orientation":S,...C,__css:{...x,border:"0",borderColor:m,borderStyle:p,...T[S],...E},className:dt("chakra-divider",v)})});vn.displayName="Divider";function qf(t){return typeof t=="function"}function YH(...t){return n=>t.reduce((r,i)=>i(r),n)}const KH=t=>function(...r){let i=[...r],l=r[r.length-1];return g$(l)&&i.length>1?i=i.slice(0,i.length-1):l=t,YH(...i.map(u=>d=>qf(u)?u(d):QH(d,u)))(l)},XH=KH(HA);function QH(...t){return No({},...t,iM)}function iM(t,n,r,i){if((qf(t)||qf(n))&&Object.prototype.hasOwnProperty.call(i,r))return(...l)=>{const u=qf(t)?t(...l):t,d=qf(n)?n(...l):n;return No({},u,d,iM)};if(ms(t)&&hb(n)||hb(t)&&ms(n))return n}const er=tt(function(n,r){const{direction:i,align:l,justify:u,wrap:d,basis:g,grow:p,shrink:m,...x}=n,v={display:"flex",flexDirection:i,alignItems:l,justifyContent:u,flexWrap:d,flexBasis:g,flexGrow:p,flexShrink:m};return e.jsx(Ve.div,{ref:r,__css:v,...x})});er.displayName="Flex";function JH(t,n){if(t==null)return{};var r={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(n.indexOf(i)!==-1)continue;r[i]=t[i]}return r}var Xb="data-focus-lock",oM="data-focus-lock-disabled",eW="data-no-focus-lock",tW="data-autofocus-inside",nW="data-no-autofocus";function zy(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function rW(t,n){var r=y.useState(function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(i){var l=r.value;l!==i&&(r.value=i,r.callback(i,l))}}}})[0];return r.callback=n,r.facade}var sW=typeof window<"u"?y.useLayoutEffect:y.useEffect,G2=new WeakMap;function aM(t,n){var r=rW(null,function(i){return t.forEach(function(l){return zy(l,i)})});return sW(function(){var i=G2.get(r);if(i){var l=new Set(i),u=new Set(t),d=r.current;l.forEach(function(g){u.has(g)||zy(g,null)}),u.forEach(function(g){l.has(g)||zy(g,d)})}G2.set(r,t)},[t]),r}var Ly={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Da=function(){return Da=Object.assign||function(n){for(var r,i=1,l=arguments.length;i<l;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},Da.apply(this,arguments)};function lM(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r}function iW(t,n,r){if(r||arguments.length===2)for(var i=0,l=n.length,u;i<l;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return t.concat(u||Array.prototype.slice.call(n))}function cM(t){return t}function uM(t,n){n===void 0&&(n=cM);var r=[],i=!1,l={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(u){var d=n(u,i);return r.push(d),function(){r=r.filter(function(g){return g!==d})}},assignSyncMedium:function(u){for(i=!0;r.length;){var d=r;r=[],d.forEach(u)}r={push:function(g){return u(g)},filter:function(){return r}}},assignMedium:function(u){i=!0;var d=[];if(r.length){var g=r;r=[],g.forEach(u),d=r}var p=function(){var x=d;d=[],x.forEach(u)},m=function(){return Promise.resolve().then(p)};m(),r={push:function(x){d.push(x),m()},filter:function(x){return d=d.filter(x),r}}}};return l}function qS(t,n){return n===void 0&&(n=cM),uM(t,n)}function dM(t){t===void 0&&(t={});var n=uM(null);return n.options=Da({async:!0,ssr:!1},t),n}var hM=function(t){var n=t.sideCar,r=lM(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return y.createElement(i,Da({},r))};hM.isSideCarExport=!0;function oW(t,n){return t.useMedium(n),hM}var fM=qS({},function(t){var n=t.target,r=t.currentTarget;return{target:n,currentTarget:r}}),pM=qS(),aW=qS(),lW=dM({async:!0,ssr:typeof document<"u"}),cW=y.createContext(void 0),uW=[],GS=y.forwardRef(function(n,r){var i,l=y.useState(),u=l[0],d=l[1],g=y.useRef(),p=y.useRef(!1),m=y.useRef(null),x=y.useState({}),v=x[1],S=n.children,E=n.disabled,C=E===void 0?!1:E,T=n.noFocusGuards,A=T===void 0?!1:T,D=n.persistentFocus,M=D===void 0?!1:D,R=n.crossFrame,P=R===void 0?!0:R,z=n.autoFocus,O=z===void 0?!0:z;n.allowTextSelection;var G=n.group,q=n.className,ce=n.whiteList,he=n.hasPositiveIndices,se=n.shards,ge=se===void 0?uW:se,Ae=n.as,de=Ae===void 0?"div":Ae,re=n.lockProps,K=re===void 0?{}:re,W=n.sideCar,H=n.returnFocus,Ee=H===void 0?!1:H,B=n.focusOptions,ae=n.onActivation,me=n.onDeactivation,$=y.useState({}),F=$[0],U=y.useCallback(function(Se){var Ke=Se.captureFocusRestore;if(!m.current){var Ot,le=(Ot=document)==null?void 0:Ot.activeElement;m.current=le,le!==document.body&&(m.current=Ke(le))}g.current&&ae&&ae(g.current),p.current=!0,v()},[ae]),Y=y.useCallback(function(){p.current=!1,me&&me(g.current),v()},[me]),be=y.useCallback(function(Se){var Ke=m.current;if(Ke){var Ot=(typeof Ke=="function"?Ke():Ke)||document.body,le=typeof Ee=="function"?Ee(Ot):Ee;if(le){var ve=typeof le=="object"?le:void 0;m.current=null,Se?Promise.resolve().then(function(){return Ot.focus(ve)}):Ot.focus(ve)}}},[Ee]),Te=y.useCallback(function(Se){p.current&&fM.useMedium(Se)},[]),Re=pM.useMedium,nt=y.useCallback(function(Se){g.current!==Se&&(g.current=Se,d(Se))},[]),ht=zu((i={},i[oM]=C&&"disabled",i[Xb]=G,i),K),rt=A!==!0,zt=rt&&A!=="tail",Ue=aM([r,nt]),qt=y.useMemo(function(){return{observed:g,shards:ge,enabled:!C,active:p.current}},[C,p.current,ge,u]);return dn.createElement(y.Fragment,null,rt&&[dn.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:C?-1:0,style:Ly}),he?dn.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:C?-1:1,style:Ly}):null],!C&&dn.createElement(W,{id:F,sideCar:lW,observed:u,disabled:C,persistentFocus:M,crossFrame:P,autoFocus:O,whiteList:ce,shards:ge,onActivation:U,onDeactivation:Y,returnFocus:be,focusOptions:B,noFocusGuards:A}),dn.createElement(de,zu({ref:Ue},ht,{className:q,onBlur:Re,onFocus:Te}),dn.createElement(cW.Provider,{value:qt},S)),zt&&dn.createElement("div",{"data-focus-guard":!0,tabIndex:C?-1:0,style:Ly}))});GS.propTypes={};function Qb(t,n){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,n)}function dW(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Qb(t,n)}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_p(t)}function hW(t,n){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,n);if(_p(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function fW(t){var n=hW(t,"string");return _p(n)=="symbol"?n:n+""}function pW(t,n,r){return(n=fW(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function mW(t,n){function r(i){return i.displayName||i.name||"Component"}return function(l){var u=[],d;function g(){d=t(u.map(function(m){return m.props})),n(d)}var p=(function(m){dW(x,m);function x(){return m.apply(this,arguments)||this}x.peek=function(){return d};var v=x.prototype;return v.componentDidMount=function(){u.push(this),g()},v.componentDidUpdate=function(){g()},v.componentWillUnmount=function(){var E=u.indexOf(this);u.splice(E,1),g()},v.render=function(){return dn.createElement(l,this.props)},x})(y.PureComponent);return pW(p,"displayName","SideEffect("+r(l)+")"),p}}var qa=function(t){for(var n=Array(t.length),r=0;r<t.length;++r)n[r]=t[r];return n},Ou=function(t){return Array.isArray(t)?t:[t]},mM=function(t){return Array.isArray(t)?t[0]:t},gW=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},gM=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},xM=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},xW=function(t){return t.hasAttribute("inert")},vW=function(t,n){return!t||xM(t)||!gW(t)&&!xW(t)&&n(gM(t))},vM=function(t,n){var r=t.get(n);if(r!==void 0)return r;var i=vW(n,vM.bind(void 0,t));return t.set(n,i),i},yW=function(t,n){return t&&!xM(t)?SW(t)?n(gM(t)):!1:!0},yM=function(t,n){var r=t.get(n);if(r!==void 0)return r;var i=yW(n,yM.bind(void 0,t));return t.set(n,i),i},bM=function(t){return t.dataset},bW=function(t){return t.tagName==="BUTTON"},jM=function(t){return t.tagName==="INPUT"},SM=function(t){return jM(t)&&t.type==="radio"},jW=function(t){return!((jM(t)||bW(t))&&(t.type==="hidden"||t.disabled))},SW=function(t){var n=t.getAttribute(nW);return![!0,"true",""].includes(n)},ZS=function(t){var n;return!!(t&&(!((n=bM(t))===null||n===void 0)&&n.focusGuard))},Jb=function(t){return!ZS(t)},EW=function(t){return!!t},CW=function(t,n){var r=Math.max(0,t.tabIndex),i=Math.max(0,n.tabIndex),l=r-i,u=t.index-n.index;if(l){if(!r)return 1;if(!i)return-1}return l||u},wW=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},YS=function(t,n,r){return qa(t).map(function(i,l){var u=wW(i);return{node:i,index:l,tabIndex:r&&u===-1?(i.dataset||{}).focusGuard?0:-1:u}}).filter(function(i){return!n||i.tabIndex>=0}).sort(CW)},_W=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],KS=_W.join(","),TW="".concat(KS,", [data-focus-guard]"),EM=function(t,n){return qa((t.shadowRoot||t).children).reduce(function(r,i){return r.concat(i.matches(n?TW:KS)?[i]:[],EM(i))},[])},AW=function(t,n){var r;return t instanceof HTMLIFrameElement&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?fh([t.contentDocument.body],n):[t]},fh=function(t,n){return t.reduce(function(r,i){var l,u=EM(i,n),d=(l=[]).concat.apply(l,u.map(function(g){return AW(g,n)}));return r.concat(d,i.parentNode?qa(i.parentNode.querySelectorAll(KS)).filter(function(g){return g===i}):[])},[])},RW=function(t){var n=t.querySelectorAll("[".concat(tW,"]"));return qa(n).map(function(r){return fh([r])}).reduce(function(r,i){return r.concat(i)},[])},XS=function(t,n){return qa(t).filter(function(r){return vM(n,r)}).filter(function(r){return jW(r)})},Z2=function(t,n){return n===void 0&&(n=new Map),qa(t).filter(function(r){return yM(n,r)})},QS=function(t,n,r){return YS(XS(fh(t,r),n),!0,r)},Tp=function(t,n){return YS(XS(fh(t),n),!1)},kW=function(t,n){return XS(RW(t),n)},ku=function(t,n){return t.shadowRoot?ku(t.shadowRoot,n):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,n)?!0:qa(t.children).some(function(r){var i;if(r instanceof HTMLIFrameElement){var l=(i=r.contentDocument)===null||i===void 0?void 0:i.body;return l?ku(l,n):!1}return ku(r,n)})},MW=function(t){for(var n=new Set,r=t.length,i=0;i<r;i+=1)for(var l=i+1;l<r;l+=1){var u=t[i].compareDocumentPosition(t[l]);(u&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(l),(u&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(i)}return t.filter(function(d,g){return!n.has(g)})},CM=function(t){return t.parentNode?CM(t.parentNode):t},JS=function(t){var n=Ou(t);return n.filter(Boolean).reduce(function(r,i){var l=i.getAttribute(Xb);return r.push.apply(r,l?MW(qa(CM(i).querySelectorAll("[".concat(Xb,'="').concat(l,'"]:not([').concat(oM,'="disabled"])')))):[i]),r},[])},PW=function(t){try{return t()}catch{return}},Ap=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var n=t.activeElement;return n.shadowRoot?Ap(n.shadowRoot):n instanceof HTMLIFrameElement&&PW(function(){return n.contentWindow.document})?Ap(n.contentWindow.document):n}},DW=function(t,n){return t===n},NW=function(t,n){return!!qa(t.querySelectorAll("iframe")).some(function(r){return DW(r,n)})},wM=function(t,n){return n===void 0&&(n=Ap(mM(t).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:JS(t).some(function(r){return ku(r,n)||NW(r,n)})},IW=function(t){t===void 0&&(t=document);var n=Ap(t);return n?qa(t.querySelectorAll("[".concat(eW,"]"))).some(function(r){return ku(r,n)}):!1},zW=function(t,n){return n.filter(SM).filter(function(r){return r.name===t.name}).filter(function(r){return r.checked})[0]||t},e1=function(t,n){return SM(t)&&t.name?zW(t,n):t},LW=function(t){var n=new Set;return t.forEach(function(r){return n.add(e1(r,t))}),t.filter(function(r){return n.has(r)})},Y2=function(t){return t[0]&&t.length>1?e1(t[0],t):t[0]},K2=function(t,n){return t.indexOf(e1(n,t))},ej="NEW_FOCUS",OW=function(t,n,r,i,l){var u=t.length,d=t[0],g=t[u-1],p=ZS(i);if(!(i&&t.indexOf(i)>=0)){var m=i!==void 0?r.indexOf(i):-1,x=l?r.indexOf(l):m,v=l?t.indexOf(l):-1;if(m===-1)return v!==-1?v:ej;if(v===-1)return ej;var S=m-x,E=r.indexOf(d),C=r.indexOf(g),T=LW(r),A=i!==void 0?T.indexOf(i):-1,D=l?T.indexOf(l):A,M=T.filter(function(q){return q.tabIndex>=0}),R=i!==void 0?M.indexOf(i):-1,P=l?M.indexOf(l):R,z=R>=0&&P>=0?P-R:D-A;if(!S&&v>=0||n.length===0)return v;var O=K2(t,n[0]),G=K2(t,n[n.length-1]);if(m<=E&&p&&Math.abs(S)>1)return G;if(m>=C&&p&&Math.abs(S)>1)return O;if(S&&Math.abs(z)>1)return v;if(m<=E)return G;if(m>C)return O;if(S)return Math.abs(S)>1?v:(u+v+S)%u}},BW=function(t){return function(n){var r,i=(r=bM(n))===null||r===void 0?void 0:r.autofocus;return n.autofocus||i!==void 0&&i!=="false"||t.indexOf(n)>=0}},X2=function(t,n,r){var i=t.map(function(u){var d=u.node;return d}),l=Z2(i.filter(BW(r)));return l&&l.length?Y2(l):Y2(Z2(n))},tj=function(t,n){return n===void 0&&(n=[]),n.push(t),t.parentNode&&tj(t.parentNode.host||t.parentNode,n),n},Oy=function(t,n){for(var r=tj(t),i=tj(n),l=0;l<r.length;l+=1){var u=r[l];if(i.indexOf(u)>=0)return u}return!1},_M=function(t,n,r){var i=Ou(t),l=Ou(n),u=i[0],d=!1;return l.filter(Boolean).forEach(function(g){d=Oy(d||g,g)||d,r.filter(Boolean).forEach(function(p){var m=Oy(u,p);m&&(!d||ku(m,d)?d=m:d=Oy(m,d))})}),d},Q2=function(t,n){return t.reduce(function(r,i){return r.concat(kW(i,n))},[])},$W=function(t,n){var r=new Map;return n.forEach(function(i){return r.set(i.node,i)}),t.map(function(i){return r.get(i)}).filter(EW)},FW=function(t,n){var r=Ap(Ou(t).length>0?document:mM(t).ownerDocument),i=JS(t).filter(Jb),l=_M(r||t,t,i),u=new Map,d=Tp(i,u),g=d.filter(function(C){var T=C.node;return Jb(T)});if(g[0]){var p=Tp([l],u).map(function(C){var T=C.node;return T}),m=$W(p,g),x=m.map(function(C){var T=C.node;return T}),v=m.filter(function(C){var T=C.tabIndex;return T>=0}).map(function(C){var T=C.node;return T}),S=OW(x,v,p,r,n);if(S===ej){var E=X2(d,v,Q2(i,u))||X2(d,x,Q2(i,u));if(E)return{node:E};console.warn("focus-lock: cannot find any node to move focus into");return}return S===void 0?S:m[S]}},VW=function(t){var n=JS(t).filter(Jb),r=_M(t,t,n),i=YS(fh([r],!0),!0,!0),l=fh(n,!1);return i.map(function(u){var d=u.node,g=u.index;return{node:d,index:g,lockItem:l.indexOf(d)>=0,guard:ZS(d)}})},t1=function(t,n){t&&("focus"in t&&t.focus(n),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},By=0,$y=!1,TM=function(t,n,r){r===void 0&&(r={});var i=FW(t,n);if(!$y&&i){if(By>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),$y=!0,setTimeout(function(){$y=!1},1);return}By++,t1(i.node,r.focusOptions),By--}};function Rf(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var n=t?new WeakRef(t):null;return function(){return n?.deref()||null}}var UW=function(t){if(!t)return null;for(var n=[],r=t;r&&r!==document.body;)n.push({current:Rf(r),parent:Rf(r.parentElement),left:Rf(r.previousElementSibling),right:Rf(r.nextElementSibling)}),r=r.parentElement;return{element:Rf(t),stack:n,ownerDocument:t.ownerDocument}},HW=function(t){var n,r,i,l,u;if(t)for(var d=t.stack,g=t.ownerDocument,p=new Map,m=0,x=d;m<x.length;m++){var v=x[m],S=(n=v.parent)===null||n===void 0?void 0:n.call(v);if(S&&g.contains(S)){for(var E=(r=v.left)===null||r===void 0?void 0:r.call(v),C=v.current(),T=S.contains(C)?C:void 0,A=(i=v.right)===null||i===void 0?void 0:i.call(v),D=QS([S],p),M=(u=(l=T??E?.nextElementSibling)!==null&&l!==void 0?l:A)!==null&&u!==void 0?u:E;M;){for(var R=0,P=D;R<P.length;R++){var z=P[R];if(M?.contains(z.node))return z.node}M=M.nextElementSibling}if(D.length)return D[0].node}}},AM=function(t){var n=UW(t);return function(){return HW(n)}},WW=function(t,n,r){if(!t||!n)return console.error("no element or scope given"),{};var i=Ou(n);if(i.every(function(d){return!ku(d,t)}))return console.error("Active element is not contained in the scope"),{};var l=r?QS(i,new Map):Tp(i,new Map),u=l.findIndex(function(d){var g=d.node;return g===t});if(u!==-1)return{prev:l[u-1],next:l[u+1],first:l[0],last:l[l.length-1]}},qW=function(t,n){var r=n?QS(Ou(t),new Map):Tp(Ou(t),new Map);return{first:r[0],last:r[r.length-1]}},GW=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},RM=function(t,n,r){n===void 0&&(n={});var i=GW(n),l=WW(t,i.scope,i.onlyTabbable);if(l){var u=r(l,i.cycle);u&&t1(u.node,i.focusOptions)}},ZW=function(t,n){n===void 0&&(n={}),RM(t,n,function(r,i){var l=r.next,u=r.first;return l||i&&u})},YW=function(t,n){n===void 0&&(n={}),RM(t,n,function(r,i){var l=r.prev,u=r.last;return l||i&&u})},kM=function(t,n,r){var i,l=qW(t,(i=n.onlyTabbable)!==null&&i!==void 0?i:!0),u=l[r];u&&t1(u.node,n.focusOptions)},KW=function(t,n){n===void 0&&(n={}),kM(t,n,"first")},XW=function(t,n){n===void 0&&(n={}),kM(t,n,"last")};function n1(t){setTimeout(t,1)}var QW=function(n){return n&&"current"in n?n.current:n},MM=function(){return document&&document.activeElement===document.body},JW=function(){return MM()||IW()},eh=null,wi=null,J2=function(){return null},th=null,Rp=!1,r1=!1,eq=function(){return!0},tq=function(n){return(eh.whiteList||eq)(n)},nq=function(n,r){th={observerNode:n,portaledElement:r}},rq=function(n){return th&&th.portaledElement===n};function eT(t,n,r,i){var l=null,u=t;do{var d=i[u];if(d.guard)d.node.dataset.focusAutoGuard&&(l=d);else if(d.lockItem){if(u!==t)return;l=null}else break}while((u+=r)!==n);l&&(l.node.tabIndex=0)}var sq=function(n){return n?!!Rp:Rp==="meanwhile"},iq=function t(n,r,i){return r&&(r.host===n&&(!r.activeElement||i.contains(r.activeElement))||r.parentNode&&t(n,r.parentNode,i))},oq=function(n,r){return r.some(function(i){return iq(n,i,i)})},PM=function(n){return Tp(n,new Map)},aq=function(n){return!PM([n.parentNode]).some(function(r){return r.node===n})},yx=function(){var n=!1;if(eh){var r=eh,i=r.observed,l=r.persistentFocus,u=r.autoFocus,d=r.shards,g=r.crossFrame,p=r.focusOptions,m=r.noFocusGuards,x=i||th&&th.portaledElement;if(MM()&&wi&&wi!==document.body&&(!document.body.contains(wi)||aq(wi))){var v=J2();v&&v.focus()}var S=document&&document.activeElement;if(x){var E=[x].concat(d.map(QW).filter(Boolean)),C=function(){if(!sq(g)||!m||!wi||r1)return!1;var R=PM(E),P=R.findIndex(function(z){var O=z.node;return O===wi});return P===0||P===R.length-1};if((!S||tq(S))&&(l||C()||!JW()||!wi&&u)&&(x&&!(wM(E)||S&&oq(S,E)||rq(S))&&(document&&!wi&&S&&!u?(S.blur&&S.blur(),document.body.focus()):(n=TM(E,wi,{focusOptions:p}),th={})),wi=document&&document.activeElement,wi!==document.body&&(J2=AM(wi)),Rp=!1),document&&S!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var T=document&&document.activeElement,A=VW(E),D=A.map(function(M){var R=M.node;return R}).indexOf(T);D>-1&&(A.filter(function(M){var R=M.guard,P=M.node;return R&&P.dataset.focusAutoGuard}).forEach(function(M){var R=M.node;return R.removeAttribute("tabIndex")}),eT(D,A.length,1,A),eT(D,-1,-1,A))}}}return n},DM=function(n){yx()&&n&&(n.stopPropagation(),n.preventDefault())},s1=function(){return n1(yx)},lq=function(n){var r=n.target,i=n.currentTarget;i.contains(r)||nq(i,r)},cq=function(){return null},NM=function(){r1=!0},IM=function(){r1=!1,Rp="just",n1(function(){Rp="meanwhile"})},uq=function(){document.addEventListener("focusin",DM),document.addEventListener("focusout",s1),window.addEventListener("focus",NM),window.addEventListener("blur",IM)},dq=function(){document.removeEventListener("focusin",DM),document.removeEventListener("focusout",s1),window.removeEventListener("focus",NM),window.removeEventListener("blur",IM)};function hq(t){return t.filter(function(n){var r=n.disabled;return!r})}var zM={moveFocusInside:TM,focusInside:wM,focusNextElement:ZW,focusPrevElement:YW,focusFirstElement:KW,focusLastElement:XW,captureFocusRestore:AM};function fq(t){var n=t.slice(-1)[0];n&&!eh&&uq();var r=eh,i=r&&n&&n.id===r.id;eh=n,r&&!i&&(r.onDeactivation(),t.filter(function(l){var u=l.id;return u===r.id}).length||r.returnFocus(!n)),n?(wi=null,(!i||r.observed!==n.observed)&&n.onActivation(zM),yx(),n1(yx)):(dq(),wi=null)}fM.assignSyncMedium(lq);pM.assignMedium(s1);aW.assignMedium(function(t){return t(zM)});const pq=mW(hq,fq)(cq);var nj=y.forwardRef(function(n,r){return dn.createElement(GS,zu({sideCar:pq,ref:r},n))}),LM=GS.propTypes||{};LM.sideCar;JH(LM,["sideCar"]);nj.propTypes={};const mq=nj.default??nj,OM=t=>{const{initialFocusRef:n,finalFocusRef:r,contentRef:i,restoreFocus:l,children:u,isDisabled:d,autoFocus:g,persistentFocus:p,lockFocusAcrossFrames:m}=t,x=y.useCallback(()=>{n?.current?n.current.focus():i?.current&&Tz(i.current).length===0&&requestAnimationFrame(()=>{i.current?.focus()})},[n,i]),v=y.useCallback(()=>{r?.current?.focus()},[r]),S=l&&!r;return e.jsx(mq,{crossFrame:m,persistentFocus:p,autoFocus:g,disabled:d,onActivation:x,onDeactivation:v,returnFocus:S,children:u})};OM.displayName="FocusLock";const J=tt(function(n,r){const i=xi("FormLabel",n),l=Vn(n),{className:u,children:d,requiredIndicator:g=e.jsx(BM,{}),optionalIndicator:p=null,...m}=l,x=Qx(),v=x?.getLabelProps(m,r)??{ref:r,...m};return e.jsxs(Ve.label,{...v,className:dt("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...i},children:[d,x?.isRequired?g:p]})});J.displayName="FormLabel";const BM=tt(function(n,r){const i=Qx(),l=nM();if(!i?.isRequired)return null;const u=dt("chakra-form__required-indicator",n.className);return e.jsx(Ve.span,{...i?.getRequiredIndicatorProps(n,r),__css:l.requiredIndicator,className:u})});BM.displayName="RequiredIndicator";const Xs=tt(function(n,r){const{templateAreas:i,gap:l,rowGap:u,columnGap:d,column:g,row:p,autoFlow:m,autoRows:x,templateRows:v,autoColumns:S,templateColumns:E,...C}=n,T={display:"grid",gridTemplateAreas:i,gridGap:l,gridRowGap:u,gridColumnGap:d,gridAutoColumns:S,gridColumn:g,gridRow:p,gridAutoFlow:m,gridAutoRows:x,gridTemplateRows:v,gridTemplateColumns:E};return e.jsx(Ve.div,{ref:r,__css:T,...C})});Xs.displayName="Grid";function tT(t){return Nx(t,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const rj=tt(function(n,r){const{area:i,colSpan:l,colStart:u,colEnd:d,rowEnd:g,rowSpan:p,rowStart:m,...x}=n,v=Op({gridArea:i,gridColumn:tT(l),gridRow:tT(p),gridColumnStart:u,gridColumnEnd:d,gridRowStart:m,gridRowEnd:g});return e.jsx(Ve.div,{ref:r,__css:v,...x})});rj.displayName="GridItem";const gt=tt(function(n,r){const{columns:i,spacingX:l,spacingY:u,spacing:d,minChildWidth:g,...p}=n,m=Wu(),x=g?xq(g,m):vq(i);return e.jsx(Xs,{ref:r,gap:d,columnGap:l,rowGap:u,templateColumns:x,...p})});gt.displayName="SimpleGrid";function gq(t){return typeof t=="number"?`${t}px`:t}function xq(t,n){return Nx(t,r=>{const i=EU("sizes",r,gq(r))(n);return r===null?null:`repeat(auto-fit, minmax(${i}, 1fr))`})}function vq(t){return Nx(t,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}function Nl(t){const{viewBox:n="0 0 24 24",d:r,displayName:i,defaultProps:l={}}=t,u=y.Children.toArray(t.path),d=tt((g,p)=>e.jsx(qn,{ref:p,viewBox:n,...l,...g,children:u.length?u:e.jsx("path",{fill:"currentColor",d:r})}));return d.displayName=i,d}const sj=tt(function(n,r){const{htmlWidth:i,htmlHeight:l,alt:u,...d}=n;return e.jsx("img",{width:i,height:l,ref:r,alt:u,...d})});sj.displayName="NativeImage";const Mi=tt(function(n,r){const{fallbackSrc:i,fallback:l,src:u,srcSet:d,align:g,fit:p,loading:m,ignoreFallback:x,crossOrigin:v,fallbackStrategy:S="beforeLoadOrError",referrerPolicy:E,...C}=n,T=i!==void 0||l!==void 0,A=m!=null||x||!T,D=Qk({...n,crossOrigin:v,ignoreFallback:A}),M=pH(D,S),R={ref:r,objectFit:p,objectPosition:g,...A?C:Bp(C,["onError","onLoad"])};return M?l||e.jsx(Ve.img,{as:sj,className:"chakra-image__placeholder",src:i,...R}):e.jsx(Ve.img,{as:sj,src:u,srcSet:d,crossOrigin:v,loading:m,referrerPolicy:E,className:"chakra-image",...R})});Mi.displayName="Image";const ye=tt(function(n,r){const{htmlSize:i,...l}=n,u=as("Input",l),d=Vn(l),g=US(d),p=dt("chakra-input",n.className);return e.jsx(Ve.input,{size:i,...g,__css:u.field,ref:r,className:p})});ye.displayName="Input";ye.id="Input";const[yq,bq]=$n({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Tc=tt(function(n,r){const i=as("Input",n),{children:l,className:u,...d}=Vn(n),g=dt("chakra-input__group",u),p={},m=Mc(l),x=i.field;m.forEach(S=>{i&&(x&&S.type.id==="InputLeftElement"&&(p.paddingStart=x.height??x.h),x&&S.type.id==="InputRightElement"&&(p.paddingEnd=x.height??x.h),S.type.id==="InputRightAddon"&&(p.borderEndRadius=0),S.type.id==="InputLeftAddon"&&(p.borderStartRadius=0))});const v=m.map(S=>{const E=Op({size:S.props?.size||n.size,variant:S.props?.variant||n.variant});return S.type.id!=="Input"?y.cloneElement(S,E):y.cloneElement(S,Object.assign(E,p,S.props))});return e.jsx(Ve.div,{className:g,ref:r,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...i.group},"data-group":!0,...d,children:e.jsx(yq,{value:i,children:v})})});Tc.displayName="InputGroup";const jq=Ve("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Jx=tt(function(n,r){const{placement:i="left",...l}=n,u=bq(),d=u.field,p={[i==="left"?"insetStart":"insetEnd"]:"0",width:d?.height??d?.h,height:d?.height??d?.h,fontSize:d?.fontSize,...u.element};return e.jsx(jq,{ref:r,__css:p,...l})});Jx.id="InputElement";Jx.displayName="InputElement";const Ac=tt(function(n,r){const{className:i,...l}=n,u=dt("chakra-input__left-element",i);return e.jsx(Jx,{ref:r,placement:"left",className:u,...l})});Ac.id="InputLeftElement";Ac.displayName="InputLeftElement";const i1=tt(function(n,r){const{className:i,...l}=n,u=dt("chakra-input__right-element",i);return e.jsx(Jx,{ref:r,placement:"right",className:u,...l})});i1.id="InputRightElement";i1.displayName="InputRightElement";const o1=tt(function(n,r){const i=xi("Link",n),{className:l,isExternal:u,...d}=Vn(n);return e.jsx(Ve.a,{target:u?"_blank":void 0,rel:u?"noopener":void 0,ref:r,className:dt("chakra-link",l),...d,__css:i})});o1.displayName="Link";const[Sq,$M]=$n({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),ev=tt(function(n,r){const i=as("List",n),{children:l,styleType:u="none",stylePosition:d,spacing:g,...p}=Vn(n),m=Mc(l),v=g?{"& > *:not(style) ~ *:not(style)":{mt:g}}:{};return e.jsx(Sq,{value:i,children:e.jsx(Ve.ul,{ref:r,listStyleType:u,listStylePosition:d,role:"list",__css:{...i.container,...v},...p,children:m})})});ev.displayName="List";const Eq=tt((t,n)=>{const{as:r,...i}=t;return e.jsx(ev,{ref:n,as:"ol",styleType:"decimal",marginStart:"1em",...i})});Eq.displayName="OrderedList";const Cq=tt(function(n,r){const{as:i,...l}=n;return e.jsx(ev,{ref:r,as:"ul",styleType:"initial",marginStart:"1em",...l})});Cq.displayName="UnorderedList";const FM=tt(function(n,r){const i=$M();return e.jsx(Ve.li,{ref:r,...n,__css:i.item})});FM.displayName="ListItem";const wq=tt(function(n,r){const i=$M();return e.jsx(qn,{ref:r,role:"presentation",...n,__css:i.icon})});wq.displayName="ListIcon";function _q(t,n={}){const{ssr:r=!0,fallback:i}=n,{getWindow:l}=_8(),u=Array.isArray(t)?t:[t];let d=Array.isArray(i)?i:[i];d=d.filter(m=>m!=null);const[g,p]=y.useState(()=>u.map((m,x)=>({media:m,matches:r?!!d[x]:l().matchMedia(m).matches})));return y.useEffect(()=>{const m=l();p(u.map(S=>({media:S,matches:m.matchMedia(S).matches})));const x=u.map(S=>m.matchMedia(S)),v=S=>{p(E=>E.slice().map(C=>C.media===S.media?{...C,matches:S.matches}:C))};return x.forEach(S=>{typeof S.addListener=="function"?S.addListener(v):S.addEventListener("change",v)}),()=>{x.forEach(S=>{typeof S.removeListener=="function"?S.removeListener(v):S.removeEventListener("change",v)})}},[l]),g.map(m=>m.matches)}function Tq(t){const n=ms(t)?t:{fallback:t??"base"},i=Wu().__breakpoints.details.map(({minMaxQuery:g,breakpoint:p})=>({breakpoint:p,query:g.replace("@media screen and ","")})),l=i.map(g=>g.breakpoint===n.fallback),d=_q(i.map(g=>g.query),{fallback:l,ssr:n.ssr}).findIndex(g=>g==!0);return i[d]?.breakpoint??n.fallback}function Aq(t,n,r=jA){let i=Object.keys(t).indexOf(n);if(i!==-1)return t[n];let l=r.indexOf(n);for(;l>=0;){const u=r[l];if(t.hasOwnProperty(u)){i=l;break}l-=1}if(i!==-1){const u=r[i];return t[u]}}function Rq(t,n){const r=ms(n)?n:{fallback:"base"},i=Tq(r),l=Wu();if(!i)return;const u=Array.from(l.__breakpoints?.keys||[]),d=Array.isArray(t)?Object.fromEntries(Object.entries(Dz(t,u)).map(([g,p])=>[g,p])):t;return Aq(d,i,u)}function kq(t,n,r,i){if(n==null)return i;if(!i)return t.find(d=>r(d).toLowerCase().startsWith(n.toLowerCase()));const l=t.filter(u=>r(u).toLowerCase().startsWith(n.toLowerCase()));if(l.length>0){let u;return l.includes(i)?(u=l.indexOf(i)+1,u===l.length&&(u=0),l[u]):(u=t.indexOf(l[0]),t[u])}return i}function Mq(t){const{key:n}=t;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function Pq(t={}){const{timeout:n=300,preventDefault:r=()=>!0}=t,[i,l]=y.useState([]),u=y.useRef(void 0),d=()=>{u.current&&(clearTimeout(u.current),u.current=null)},g=()=>{d(),u.current=setTimeout(()=>{l([]),u.current=null},n)};y.useEffect(()=>d,[]);function p(m){return x=>{if(x.key==="Backspace"){const v=[...i];v.pop(),l(v);return}if(Mq(x)){const v=i.concat(x.key);r(x)&&(x.preventDefault(),x.stopPropagation()),l(v),m(v.join("")),g()}}}return p}var Ai="top",Lo="bottom",Oo="right",Ri="left",a1="auto",Kp=[Ai,Lo,Oo,Ri],ph="start",kp="end",Dq="clippingParents",VM="viewport",kf="popper",Nq="reference",nT=Kp.reduce(function(t,n){return t.concat([n+"-"+ph,n+"-"+kp])},[]),UM=[].concat(Kp,[a1]).reduce(function(t,n){return t.concat([n,n+"-"+ph,n+"-"+kp])},[]),Iq="beforeRead",zq="read",Lq="afterRead",Oq="beforeMain",Bq="main",$q="afterMain",Fq="beforeWrite",Vq="write",Uq="afterWrite",Hq=[Iq,zq,Lq,Oq,Bq,$q,Fq,Vq,Uq];function Ha(t){return t?(t.nodeName||"").toLowerCase():null}function oo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Bu(t){var n=oo(t).Element;return t instanceof n||t instanceof Element}function Io(t){var n=oo(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function l1(t){if(typeof ShadowRoot>"u")return!1;var n=oo(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function Wq(t){var n=t.state;Object.keys(n.elements).forEach(function(r){var i=n.styles[r]||{},l=n.attributes[r]||{},u=n.elements[r];!Io(u)||!Ha(u)||(Object.assign(u.style,i),Object.keys(l).forEach(function(d){var g=l[d];g===!1?u.removeAttribute(d):u.setAttribute(d,g===!0?"":g)}))})}function qq(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(i){var l=n.elements[i],u=n.attributes[i]||{},d=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:r[i]),g=d.reduce(function(p,m){return p[m]="",p},{});!Io(l)||!Ha(l)||(Object.assign(l.style,g),Object.keys(u).forEach(function(p){l.removeAttribute(p)}))})}}const Gq={name:"applyStyles",enabled:!0,phase:"write",fn:Wq,effect:qq,requires:["computeStyles"]};function $a(t){return t.split("-")[0]}var Mu=Math.max,bx=Math.min,mh=Math.round;function ij(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function HM(){return!/^((?!chrome|android).)*safari/i.test(ij())}function gh(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),l=1,u=1;n&&Io(t)&&(l=t.offsetWidth>0&&mh(i.width)/t.offsetWidth||1,u=t.offsetHeight>0&&mh(i.height)/t.offsetHeight||1);var d=Bu(t)?oo(t):window,g=d.visualViewport,p=!HM()&&r,m=(i.left+(p&&g?g.offsetLeft:0))/l,x=(i.top+(p&&g?g.offsetTop:0))/u,v=i.width/l,S=i.height/u;return{width:v,height:S,top:x,right:m+v,bottom:x+S,left:m,x:m,y:x}}function c1(t){var n=gh(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function WM(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&l1(r)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ml(t){return oo(t).getComputedStyle(t)}function Zq(t){return["table","td","th"].indexOf(Ha(t))>=0}function Ic(t){return((Bu(t)?t.ownerDocument:t.document)||window.document).documentElement}function tv(t){return Ha(t)==="html"?t:t.assignedSlot||t.parentNode||(l1(t)?t.host:null)||Ic(t)}function rT(t){return!Io(t)||Ml(t).position==="fixed"?null:t.offsetParent}function Yq(t){var n=/firefox/i.test(ij()),r=/Trident/i.test(ij());if(r&&Io(t)){var i=Ml(t);if(i.position==="fixed")return null}var l=tv(t);for(l1(l)&&(l=l.host);Io(l)&&["html","body"].indexOf(Ha(l))<0;){var u=Ml(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function Xp(t){for(var n=oo(t),r=rT(t);r&&Zq(r)&&Ml(r).position==="static";)r=rT(r);return r&&(Ha(r)==="html"||Ha(r)==="body"&&Ml(r).position==="static")?n:r||Yq(t)||n}function u1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function up(t,n,r){return Mu(t,bx(n,r))}function Kq(t,n,r){var i=up(t,n,r);return i>r?r:i}function qM(){return{top:0,right:0,bottom:0,left:0}}function GM(t){return Object.assign({},qM(),t)}function ZM(t,n){return n.reduce(function(r,i){return r[i]=t,r},{})}var Xq=function(n,r){return n=typeof n=="function"?n(Object.assign({},r.rects,{placement:r.placement})):n,GM(typeof n!="number"?n:ZM(n,Kp))};function Qq(t){var n,r=t.state,i=t.name,l=t.options,u=r.elements.arrow,d=r.modifiersData.popperOffsets,g=$a(r.placement),p=u1(g),m=[Ri,Oo].indexOf(g)>=0,x=m?"height":"width";if(!(!u||!d)){var v=Xq(l.padding,r),S=c1(u),E=p==="y"?Ai:Ri,C=p==="y"?Lo:Oo,T=r.rects.reference[x]+r.rects.reference[p]-d[p]-r.rects.popper[x],A=d[p]-r.rects.reference[p],D=Xp(u),M=D?p==="y"?D.clientHeight||0:D.clientWidth||0:0,R=T/2-A/2,P=v[E],z=M-S[x]-v[C],O=M/2-S[x]/2+R,G=up(P,O,z),q=p;r.modifiersData[i]=(n={},n[q]=G,n.centerOffset=G-O,n)}}function Jq(t){var n=t.state,r=t.options,i=r.element,l=i===void 0?"[data-popper-arrow]":i;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||WM(n.elements.popper,l)&&(n.elements.arrow=l))}const eG={name:"arrow",enabled:!0,phase:"main",fn:Qq,effect:Jq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xh(t){return t.split("-")[1]}var tG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nG(t,n){var r=t.x,i=t.y,l=n.devicePixelRatio||1;return{x:mh(r*l)/l||0,y:mh(i*l)/l||0}}function sT(t){var n,r=t.popper,i=t.popperRect,l=t.placement,u=t.variation,d=t.offsets,g=t.position,p=t.gpuAcceleration,m=t.adaptive,x=t.roundOffsets,v=t.isFixed,S=d.x,E=S===void 0?0:S,C=d.y,T=C===void 0?0:C,A=typeof x=="function"?x({x:E,y:T}):{x:E,y:T};E=A.x,T=A.y;var D=d.hasOwnProperty("x"),M=d.hasOwnProperty("y"),R=Ri,P=Ai,z=window;if(m){var O=Xp(r),G="clientHeight",q="clientWidth";if(O===oo(r)&&(O=Ic(r),Ml(O).position!=="static"&&g==="absolute"&&(G="scrollHeight",q="scrollWidth")),O=O,l===Ai||(l===Ri||l===Oo)&&u===kp){P=Lo;var ce=v&&O===z&&z.visualViewport?z.visualViewport.height:O[G];T-=ce-i.height,T*=p?1:-1}if(l===Ri||(l===Ai||l===Lo)&&u===kp){R=Oo;var he=v&&O===z&&z.visualViewport?z.visualViewport.width:O[q];E-=he-i.width,E*=p?1:-1}}var se=Object.assign({position:g},m&&tG),ge=x===!0?nG({x:E,y:T},oo(r)):{x:E,y:T};if(E=ge.x,T=ge.y,p){var Ae;return Object.assign({},se,(Ae={},Ae[P]=M?"0":"",Ae[R]=D?"0":"",Ae.transform=(z.devicePixelRatio||1)<=1?"translate("+E+"px, "+T+"px)":"translate3d("+E+"px, "+T+"px, 0)",Ae))}return Object.assign({},se,(n={},n[P]=M?T+"px":"",n[R]=D?E+"px":"",n.transform="",n))}function rG(t){var n=t.state,r=t.options,i=r.gpuAcceleration,l=i===void 0?!0:i,u=r.adaptive,d=u===void 0?!0:u,g=r.roundOffsets,p=g===void 0?!0:g,m={placement:$a(n.placement),variation:xh(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,sT(Object.assign({},m,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:p})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,sT(Object.assign({},m,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const sG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rG,data:{}};var Sg={passive:!0};function iG(t){var n=t.state,r=t.instance,i=t.options,l=i.scroll,u=l===void 0?!0:l,d=i.resize,g=d===void 0?!0:d,p=oo(n.elements.popper),m=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&m.forEach(function(x){x.addEventListener("scroll",r.update,Sg)}),g&&p.addEventListener("resize",r.update,Sg),function(){u&&m.forEach(function(x){x.removeEventListener("scroll",r.update,Sg)}),g&&p.removeEventListener("resize",r.update,Sg)}}const oG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iG,data:{}};var aG={left:"right",right:"left",bottom:"top",top:"bottom"};function ex(t){return t.replace(/left|right|bottom|top/g,function(n){return aG[n]})}var lG={start:"end",end:"start"};function iT(t){return t.replace(/start|end/g,function(n){return lG[n]})}function d1(t){var n=oo(t),r=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:r,scrollTop:i}}function h1(t){return gh(Ic(t)).left+d1(t).scrollLeft}function cG(t,n){var r=oo(t),i=Ic(t),l=r.visualViewport,u=i.clientWidth,d=i.clientHeight,g=0,p=0;if(l){u=l.width,d=l.height;var m=HM();(m||!m&&n==="fixed")&&(g=l.offsetLeft,p=l.offsetTop)}return{width:u,height:d,x:g+h1(t),y:p}}function uG(t){var n,r=Ic(t),i=d1(t),l=(n=t.ownerDocument)==null?void 0:n.body,u=Mu(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=Mu(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),g=-i.scrollLeft+h1(t),p=-i.scrollTop;return Ml(l||r).direction==="rtl"&&(g+=Mu(r.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:g,y:p}}function f1(t){var n=Ml(t),r=n.overflow,i=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+l+i)}function YM(t){return["html","body","#document"].indexOf(Ha(t))>=0?t.ownerDocument.body:Io(t)&&f1(t)?t:YM(tv(t))}function dp(t,n){var r;n===void 0&&(n=[]);var i=YM(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),u=oo(i),d=l?[u].concat(u.visualViewport||[],f1(i)?i:[]):i,g=n.concat(d);return l?g:g.concat(dp(tv(d)))}function oj(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dG(t,n){var r=gh(t,!1,n==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function oT(t,n,r){return n===VM?oj(cG(t,r)):Bu(n)?dG(n,r):oj(uG(Ic(t)))}function hG(t){var n=dp(tv(t)),r=["absolute","fixed"].indexOf(Ml(t).position)>=0,i=r&&Io(t)?Xp(t):t;return Bu(i)?n.filter(function(l){return Bu(l)&&WM(l,i)&&Ha(l)!=="body"}):[]}function fG(t,n,r,i){var l=n==="clippingParents"?hG(t):[].concat(n),u=[].concat(l,[r]),d=u[0],g=u.reduce(function(p,m){var x=oT(t,m,i);return p.top=Mu(x.top,p.top),p.right=bx(x.right,p.right),p.bottom=bx(x.bottom,p.bottom),p.left=Mu(x.left,p.left),p},oT(t,d,i));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}function KM(t){var n=t.reference,r=t.element,i=t.placement,l=i?$a(i):null,u=i?xh(i):null,d=n.x+n.width/2-r.width/2,g=n.y+n.height/2-r.height/2,p;switch(l){case Ai:p={x:d,y:n.y-r.height};break;case Lo:p={x:d,y:n.y+n.height};break;case Oo:p={x:n.x+n.width,y:g};break;case Ri:p={x:n.x-r.width,y:g};break;default:p={x:n.x,y:n.y}}var m=l?u1(l):null;if(m!=null){var x=m==="y"?"height":"width";switch(u){case ph:p[m]=p[m]-(n[x]/2-r[x]/2);break;case kp:p[m]=p[m]+(n[x]/2-r[x]/2);break}}return p}function Mp(t,n){n===void 0&&(n={});var r=n,i=r.placement,l=i===void 0?t.placement:i,u=r.strategy,d=u===void 0?t.strategy:u,g=r.boundary,p=g===void 0?Dq:g,m=r.rootBoundary,x=m===void 0?VM:m,v=r.elementContext,S=v===void 0?kf:v,E=r.altBoundary,C=E===void 0?!1:E,T=r.padding,A=T===void 0?0:T,D=GM(typeof A!="number"?A:ZM(A,Kp)),M=S===kf?Nq:kf,R=t.rects.popper,P=t.elements[C?M:S],z=fG(Bu(P)?P:P.contextElement||Ic(t.elements.popper),p,x,d),O=gh(t.elements.reference),G=KM({reference:O,element:R,placement:l}),q=oj(Object.assign({},R,G)),ce=S===kf?q:O,he={top:z.top-ce.top+D.top,bottom:ce.bottom-z.bottom+D.bottom,left:z.left-ce.left+D.left,right:ce.right-z.right+D.right},se=t.modifiersData.offset;if(S===kf&&se){var ge=se[l];Object.keys(he).forEach(function(Ae){var de=[Oo,Lo].indexOf(Ae)>=0?1:-1,re=[Ai,Lo].indexOf(Ae)>=0?"y":"x";he[Ae]+=ge[re]*de})}return he}function pG(t,n){n===void 0&&(n={});var r=n,i=r.placement,l=r.boundary,u=r.rootBoundary,d=r.padding,g=r.flipVariations,p=r.allowedAutoPlacements,m=p===void 0?UM:p,x=xh(i),v=x?g?nT:nT.filter(function(C){return xh(C)===x}):Kp,S=v.filter(function(C){return m.indexOf(C)>=0});S.length===0&&(S=v);var E=S.reduce(function(C,T){return C[T]=Mp(t,{placement:T,boundary:l,rootBoundary:u,padding:d})[$a(T)],C},{});return Object.keys(E).sort(function(C,T){return E[C]-E[T]})}function mG(t){if($a(t)===a1)return[];var n=ex(t);return[iT(t),n,iT(n)]}function gG(t){var n=t.state,r=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,g=d===void 0?!0:d,p=r.fallbackPlacements,m=r.padding,x=r.boundary,v=r.rootBoundary,S=r.altBoundary,E=r.flipVariations,C=E===void 0?!0:E,T=r.allowedAutoPlacements,A=n.options.placement,D=$a(A),M=D===A,R=p||(M||!C?[ex(A)]:mG(A)),P=[A].concat(R).reduce(function(F,U){return F.concat($a(U)===a1?pG(n,{placement:U,boundary:x,rootBoundary:v,padding:m,flipVariations:C,allowedAutoPlacements:T}):U)},[]),z=n.rects.reference,O=n.rects.popper,G=new Map,q=!0,ce=P[0],he=0;he<P.length;he++){var se=P[he],ge=$a(se),Ae=xh(se)===ph,de=[Ai,Lo].indexOf(ge)>=0,re=de?"width":"height",K=Mp(n,{placement:se,boundary:x,rootBoundary:v,altBoundary:S,padding:m}),W=de?Ae?Oo:Ri:Ae?Lo:Ai;z[re]>O[re]&&(W=ex(W));var H=ex(W),Ee=[];if(u&&Ee.push(K[ge]<=0),g&&Ee.push(K[W]<=0,K[H]<=0),Ee.every(function(F){return F})){ce=se,q=!1;break}G.set(se,Ee)}if(q)for(var B=C?3:1,ae=function(U){var Y=P.find(function(be){var Te=G.get(be);if(Te)return Te.slice(0,U).every(function(Re){return Re})});if(Y)return ce=Y,"break"},me=B;me>0;me--){var $=ae(me);if($==="break")break}n.placement!==ce&&(n.modifiersData[i]._skip=!0,n.placement=ce,n.reset=!0)}}const xG={name:"flip",enabled:!0,phase:"main",fn:gG,requiresIfExists:["offset"],data:{_skip:!1}};function aT(t,n,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function lT(t){return[Ai,Oo,Lo,Ri].some(function(n){return t[n]>=0})}function vG(t){var n=t.state,r=t.name,i=n.rects.reference,l=n.rects.popper,u=n.modifiersData.preventOverflow,d=Mp(n,{elementContext:"reference"}),g=Mp(n,{altBoundary:!0}),p=aT(d,i),m=aT(g,l,u),x=lT(p),v=lT(m);n.modifiersData[r]={referenceClippingOffsets:p,popperEscapeOffsets:m,isReferenceHidden:x,hasPopperEscaped:v},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":v})}const yG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vG};function bG(t,n,r){var i=$a(t),l=[Ri,Ai].indexOf(i)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},n,{placement:t})):r,d=u[0],g=u[1];return d=d||0,g=(g||0)*l,[Ri,Oo].indexOf(i)>=0?{x:g,y:d}:{x:d,y:g}}function jG(t){var n=t.state,r=t.options,i=t.name,l=r.offset,u=l===void 0?[0,0]:l,d=UM.reduce(function(x,v){return x[v]=bG(v,n.rects,u),x},{}),g=d[n.placement],p=g.x,m=g.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=p,n.modifiersData.popperOffsets.y+=m),n.modifiersData[i]=d}const SG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jG};function EG(t){var n=t.state,r=t.name;n.modifiersData[r]=KM({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const CG={name:"popperOffsets",enabled:!0,phase:"read",fn:EG,data:{}};function wG(t){return t==="x"?"y":"x"}function _G(t){var n=t.state,r=t.options,i=t.name,l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,g=d===void 0?!1:d,p=r.boundary,m=r.rootBoundary,x=r.altBoundary,v=r.padding,S=r.tether,E=S===void 0?!0:S,C=r.tetherOffset,T=C===void 0?0:C,A=Mp(n,{boundary:p,rootBoundary:m,padding:v,altBoundary:x}),D=$a(n.placement),M=xh(n.placement),R=!M,P=u1(D),z=wG(P),O=n.modifiersData.popperOffsets,G=n.rects.reference,q=n.rects.popper,ce=typeof T=="function"?T(Object.assign({},n.rects,{placement:n.placement})):T,he=typeof ce=="number"?{mainAxis:ce,altAxis:ce}:Object.assign({mainAxis:0,altAxis:0},ce),se=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,ge={x:0,y:0};if(O){if(u){var Ae,de=P==="y"?Ai:Ri,re=P==="y"?Lo:Oo,K=P==="y"?"height":"width",W=O[P],H=W+A[de],Ee=W-A[re],B=E?-q[K]/2:0,ae=M===ph?G[K]:q[K],me=M===ph?-q[K]:-G[K],$=n.elements.arrow,F=E&&$?c1($):{width:0,height:0},U=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:qM(),Y=U[de],be=U[re],Te=up(0,G[K],F[K]),Re=R?G[K]/2-B-Te-Y-he.mainAxis:ae-Te-Y-he.mainAxis,nt=R?-G[K]/2+B+Te+be+he.mainAxis:me+Te+be+he.mainAxis,ht=n.elements.arrow&&Xp(n.elements.arrow),rt=ht?P==="y"?ht.clientTop||0:ht.clientLeft||0:0,zt=(Ae=se?.[P])!=null?Ae:0,Ue=W+Re-zt-rt,qt=W+nt-zt,Se=up(E?bx(H,Ue):H,W,E?Mu(Ee,qt):Ee);O[P]=Se,ge[P]=Se-W}if(g){var Ke,Ot=P==="x"?Ai:Ri,le=P==="x"?Lo:Oo,ve=O[z],st=z==="y"?"height":"width",Mt=ve+A[Ot],Mn=ve-A[le],ar=[Ai,Ri].indexOf(D)!==-1,He=(Ke=se?.[z])!=null?Ke:0,it=ar?Mt:ve-G[st]-q[st]-He+he.altAxis,It=ar?ve+G[st]+q[st]-He-he.altAxis:Mn,Xe=E&&ar?Kq(it,ve,It):up(E?it:Mt,ve,E?It:Mn);O[z]=Xe,ge[z]=Xe-ve}n.modifiersData[i]=ge}}const TG={name:"preventOverflow",enabled:!0,phase:"main",fn:_G,requiresIfExists:["offset"]};function AG(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function RG(t){return t===oo(t)||!Io(t)?d1(t):AG(t)}function kG(t){var n=t.getBoundingClientRect(),r=mh(n.width)/t.offsetWidth||1,i=mh(n.height)/t.offsetHeight||1;return r!==1||i!==1}function MG(t,n,r){r===void 0&&(r=!1);var i=Io(n),l=Io(n)&&kG(n),u=Ic(n),d=gh(t,l,r),g={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!r)&&((Ha(n)!=="body"||f1(u))&&(g=RG(n)),Io(n)?(p=gh(n,!0),p.x+=n.clientLeft,p.y+=n.clientTop):u&&(p.x=h1(u))),{x:d.left+g.scrollLeft-p.x,y:d.top+g.scrollTop-p.y,width:d.width,height:d.height}}function PG(t){var n=new Map,r=new Set,i=[];t.forEach(function(u){n.set(u.name,u)});function l(u){r.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(g){if(!r.has(g)){var p=n.get(g);p&&l(p)}}),i.push(u)}return t.forEach(function(u){r.has(u.name)||l(u)}),i}function DG(t){var n=PG(t);return Hq.reduce(function(r,i){return r.concat(n.filter(function(l){return l.phase===i}))},[])}function NG(t){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(t())})})),n}}function IG(t){var n=t.reduce(function(r,i){var l=r[i.name];return r[i.name]=l?Object.assign({},l,i,{options:Object.assign({},l.options,i.options),data:Object.assign({},l.data,i.data)}):i,r},{});return Object.keys(n).map(function(r){return n[r]})}var cT={placement:"bottom",modifiers:[],strategy:"absolute"};function uT(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function zG(t){t===void 0&&(t={});var n=t,r=n.defaultModifiers,i=r===void 0?[]:r,l=n.defaultOptions,u=l===void 0?cT:l;return function(g,p,m){m===void 0&&(m=u);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},cT,u),modifiersData:{},elements:{reference:g,popper:p},attributes:{},styles:{}},v=[],S=!1,E={state:x,setOptions:function(D){var M=typeof D=="function"?D(x.options):D;T(),x.options=Object.assign({},u,x.options,M),x.scrollParents={reference:Bu(g)?dp(g):g.contextElement?dp(g.contextElement):[],popper:dp(p)};var R=DG(IG([].concat(i,x.options.modifiers)));return x.orderedModifiers=R.filter(function(P){return P.enabled}),C(),E.update()},forceUpdate:function(){if(!S){var D=x.elements,M=D.reference,R=D.popper;if(uT(M,R)){x.rects={reference:MG(M,Xp(R),x.options.strategy==="fixed"),popper:c1(R)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(he){return x.modifiersData[he.name]=Object.assign({},he.data)});for(var P=0;P<x.orderedModifiers.length;P++){if(x.reset===!0){x.reset=!1,P=-1;continue}var z=x.orderedModifiers[P],O=z.fn,G=z.options,q=G===void 0?{}:G,ce=z.name;typeof O=="function"&&(x=O({state:x,options:q,name:ce,instance:E})||x)}}}},update:NG(function(){return new Promise(function(A){E.forceUpdate(),A(x)})}),destroy:function(){T(),S=!0}};if(!uT(g,p))return E;E.setOptions(m).then(function(A){!S&&m.onFirstUpdate&&m.onFirstUpdate(A)});function C(){x.orderedModifiers.forEach(function(A){var D=A.name,M=A.options,R=M===void 0?{}:M,P=A.effect;if(typeof P=="function"){var z=P({state:x,name:D,instance:E,options:R}),O=function(){};v.push(z||O)}})}function T(){v.forEach(function(A){return A()}),v=[]}return E}}var LG=[oG,CG,sG,Gq,SG,xG,TG,eG,yG],OG=zG({defaultModifiers:LG});const kd=(t,n)=>({var:t,varRef:n?`var(${t}, ${n})`:`var(${t})`}),Ls={arrowShadowColor:kd("--popper-arrow-shadow-color"),arrowSize:kd("--popper-arrow-size","8px"),arrowSizeHalf:kd("--popper-arrow-size-half"),arrowBg:kd("--popper-arrow-bg"),transformOrigin:kd("--popper-transform-origin"),arrowOffset:kd("--popper-arrow-offset")};function BG(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const $G={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},FG=t=>$G[t],dT={scroll:!0,resize:!0};function VG(t){let n;return typeof t=="object"?n={enabled:!0,options:{...dT,...t}}:n={enabled:t,options:dT},n}const UG={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const n=t.elements.reference;t.elements.popper.style.width=`${n.offsetWidth}px`}},HG={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{hT(t)},effect:({state:t})=>()=>{hT(t)}},hT=t=>{t.elements.popper.style.setProperty(Ls.transformOrigin.var,FG(t.placement))},WG={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{qG(t)}},qG=t=>{if(!t.placement)return;const n=GG(t.placement);if(t.elements?.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:Ls.arrowSize.varRef,height:Ls.arrowSize.varRef,zIndex:-1});const r={[Ls.arrowSizeHalf.var]:`calc(${Ls.arrowSize.varRef} / 2 - 1px)`,[Ls.arrowOffset.var]:`calc(${Ls.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},GG=t=>{if(t.startsWith("top"))return{property:"bottom",value:Ls.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Ls.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Ls.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Ls.arrowOffset.varRef}},ZG={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{fT(t)},effect:({state:t})=>()=>{fT(t)}},fT=t=>{if(!t.elements.arrow)return;const n=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!n)return;const r=BG(t.placement);r&&n.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(n.style,{transform:"rotate(45deg)",background:Ls.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},YG={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},KG={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function XG(t,n="ltr"){const r=YG[t]?.[n]||t;return n==="ltr"?r:KG[t]??r}function XM(t={}){const{enabled:n=!0,modifiers:r,placement:i="bottom",strategy:l="absolute",arrowPadding:u=8,eventListeners:d=!0,offset:g,gutter:p=8,flip:m=!0,boundary:x="clippingParents",preventOverflow:v=!0,matchWidth:S,direction:E="ltr"}=t,C=y.useRef(null),T=y.useRef(null),A=y.useRef(null),D=XG(i,E),M=y.useRef(()=>{}),R=y.useCallback(()=>{!n||!C.current||!T.current||(M.current?.(),A.current=OG(C.current,T.current,{placement:D,modifiers:[ZG,WG,HG,{...UG,enabled:!!S},{name:"eventListeners",...VG(d)},{name:"arrow",options:{padding:u}},{name:"offset",options:{offset:g??[0,p]}},{name:"flip",enabled:!!m,options:{padding:8}},{name:"preventOverflow",enabled:!!v,options:{boundary:x}},...r??[]],strategy:l}),A.current.forceUpdate(),M.current=A.current.destroy)},[D,n,r,S,d,u,g,p,m,v,x,l]);y.useEffect(()=>()=>{!C.current&&!T.current&&(A.current?.destroy(),A.current=null)},[]);const P=y.useCallback(he=>{C.current=he,R()},[R]),z=y.useCallback((he={},se=null)=>({...he,ref:Kr(P,se)}),[P]),O=y.useCallback(he=>{T.current=he,R()},[R]),G=y.useCallback((he={},se=null)=>({...he,ref:Kr(O,se),style:{...he.style,position:l,minWidth:S?void 0:"max-content",inset:"0 auto auto 0"}}),[l,O,S]),q=y.useCallback((he={},se=null)=>{const{size:ge,shadowColor:Ae,bg:de,style:re,...K}=he;return{...K,ref:se,"data-popper-arrow":"",style:QG(he)}},[]),ce=y.useCallback((he={},se=null)=>({...he,ref:se,"data-popper-arrow-inner":""}),[]);return{update(){A.current?.update()},forceUpdate(){A.current?.forceUpdate()},transformOrigin:Ls.transformOrigin.varRef,referenceRef:P,popperRef:O,getPopperProps:G,getArrowProps:q,getArrowInnerProps:ce,getReferenceProps:z}}function QG(t){const{size:n,shadowColor:r,bg:i,style:l}=t,u={...l,position:"absolute"};return n&&(u["--popper-arrow-size"]=n),r&&(u["--popper-arrow-shadow-color"]=r),i&&(u["--popper-arrow-bg"]=i),u}function JG(){const t=y.useRef(new Map),n=t.current,r=y.useCallback((l,u,d,g)=>{t.current.set(d,{type:u,el:l,options:g}),l.addEventListener(u,d,g)},[]),i=y.useCallback((l,u,d,g)=>{l.removeEventListener(u,d,g),t.current.delete(d)},[]);return y.useEffect(()=>()=>{n.forEach((l,u)=>{i(l.el,l.type,u,l.options)})},[i,n]),{add:r,remove:i}}function Fy(t){const n=t.composedPath?.()?.[0]??t.target,{tagName:r,isContentEditable:i}=n;return r!=="INPUT"&&r!=="TEXTAREA"&&i!==!0}function QM(t={}){const{ref:n,isDisabled:r,isFocusable:i,clickOnEnter:l=!0,clickOnSpace:u=!0,onMouseDown:d,onMouseUp:g,onClick:p,onKeyDown:m,onKeyUp:x,tabIndex:v,onMouseOver:S,onMouseLeave:E,...C}=t,[T,A]=y.useState(!0),[D,M]=y.useState(!1),R=JG(),P=W=>{W&&W.tagName!=="BUTTON"&&A(!1)},z=T?v:v||0,O=r&&!i,G=y.useCallback(W=>{if(r){W.stopPropagation(),W.preventDefault();return}W.currentTarget.focus(),p?.(W)},[r,p]),q=y.useCallback(W=>{D&&Fy(W)&&(W.preventDefault(),W.stopPropagation(),M(!1),R.remove(document,"keyup",q,!1))},[D,R]),ce=y.useCallback(W=>{if(m?.(W),r||W.defaultPrevented||W.metaKey||!Fy(W.nativeEvent)||T)return;const H=l&&W.key==="Enter";u&&W.key===" "&&(W.preventDefault(),M(!0)),H&&(W.preventDefault(),W.currentTarget.click()),R.add(document,"keyup",q,!1)},[r,T,m,l,u,R,q]),he=y.useCallback(W=>{if(x?.(W),r||W.defaultPrevented||W.metaKey||!Fy(W.nativeEvent)||T)return;u&&W.key===" "&&(W.preventDefault(),M(!1),W.currentTarget.click())},[u,T,r,x]),se=y.useCallback(W=>{W.button===0&&(M(!1),R.remove(document,"mouseup",se,!1))},[R]),ge=y.useCallback(W=>{if(W.button!==0)return;if(r){W.stopPropagation(),W.preventDefault();return}T||M(!0),W.currentTarget.focus({preventScroll:!0}),R.add(document,"mouseup",se,!1),d?.(W)},[r,T,d,R,se]),Ae=y.useCallback(W=>{W.button===0&&(T||M(!1),g?.(W))},[g,T]),de=y.useCallback(W=>{if(r){W.preventDefault();return}S?.(W)},[r,S]),re=y.useCallback(W=>{D&&(W.preventDefault(),M(!1)),E?.(W)},[D,E]),K=Kr(n,P);return T?{...C,ref:K,type:"button","aria-disabled":O?void 0:r,disabled:O,onClick:G,onMouseDown:d,onMouseUp:g,onKeyUp:x,onKeyDown:m,onMouseOver:S,onMouseLeave:E}:{...C,ref:K,role:"button","data-active":wn(D),"aria-disabled":r?"true":void 0,tabIndex:O?void 0:z,onClick:G,onMouseDown:ge,onMouseUp:Ae,onKeyUp:he,onKeyDown:ce,onMouseOver:de,onMouseLeave:re}}const[eZ,tZ,nZ,rZ]=Kx(),[sZ,Qp]=$n({strict:!1,name:"MenuContext"});function JM(t){return t?.ownerDocument??document}function iZ(t){return JM(t).activeElement===t}function oZ(t={}){const{id:n,closeOnSelect:r=!0,closeOnBlur:i=!0,initialFocusRef:l,autoSelect:u=!0,isLazy:d,isOpen:g,defaultIsOpen:p,onClose:m,onOpen:x,placement:v="bottom-start",lazyBehavior:S="unmount",direction:E,computePositionOnMount:C=!1,...T}=t,A=y.useRef(null),D=y.useRef(null),M=y.useRef(!0),R=nZ(),P=y.useCallback(()=>{requestAnimationFrame(()=>{A.current?.focus({preventScroll:!1})})},[]),z=y.useCallback(()=>{const $=setTimeout(()=>{if(l)l.current?.focus();else if(!R.count())A.current?.focus({preventScroll:!1});else{const F=R.firstEnabled();F&&de(F.index)}});Ee.current.add($)},[R,l]),O=y.useCallback(()=>{const $=setTimeout(()=>{if(!R.count())A.current?.focus({preventScroll:!1});else{const F=R.lastEnabled();F&&de(F.index)}});Ee.current.add($)},[R]),G=y.useCallback(()=>{x?.(),u?z():P()},[u,z,P,x]),{isOpen:q,onOpen:ce,onClose:he,onToggle:se}=Nt({isOpen:g,defaultIsOpen:p,onClose:m,onOpen:G});Kz({enabled:q&&i,ref:A,handler:$=>{const F=$.composedPath?.()?.[0]??$.target;D.current?.contains(F)||he()}});const ge=XM({...T,enabled:q||C,placement:v,direction:E}),[Ae,de]=y.useState(-1);Hz(A,{focusRef:D,visible:q});const re=Fz({isOpen:q,ref:A}),[K,W]=qz(n,"menu-button","menu-list"),H=y.useCallback(()=>{ce(),P()},[ce,P]),Ee=y.useRef(new Set([]));y.useEffect(()=>{const $=Ee.current;return()=>{$.forEach(F=>clearTimeout(F)),$.clear()}},[]),Nu(()=>{q||(de(-1),A.current?.scrollTo(0,0))},[q]),Nu(()=>{q&&Ae===-1&&P()},[Ae,q]),y.useEffect(()=>{if(!q)return;R.item(Ae)?.node?.focus({preventScroll:!M.current})},[R,Ae,q]);const B=y.useCallback(()=>{ce(),z()},[z,ce]),ae=y.useCallback(()=>{M.current=!0,ce(),O()},[ce,O]),me=y.useCallback(()=>{const $=JM(A.current),F=A.current?.contains($.activeElement);if(!(q&&!F))return;R.item(Ae)?.node?.focus({preventScroll:!M.current})},[q,Ae,R]);return{openAndFocusMenu:H,openAndFocusFirstItem:B,openAndFocusLastItem:ae,onTransitionEnd:me,unstable__animationState:re,descendants:R,popper:ge,buttonId:K,menuId:W,forceUpdate:ge.forceUpdate,orientation:"vertical",isOpen:q,onToggle:se,onOpen:ce,onClose:he,menuRef:A,buttonRef:D,focusedIndex:Ae,closeOnSelect:r,closeOnBlur:i,autoSelect:u,setFocusedIndex:de,isLazy:d,lazyBehavior:S,initialFocusRef:l,scrollIntoViewRef:M}}function aZ(t={},n=null){const r=Qp(),{onToggle:i,popper:l,openAndFocusFirstItem:u,openAndFocusLastItem:d,scrollIntoViewRef:g}=r,p=y.useCallback(m=>{const x=m.key,S={Enter:u,ArrowDown:u,ArrowUp:d}[x];S&&(g.current=!0,m.preventDefault(),m.stopPropagation(),S(m))},[u,d,g]);return{...t,ref:Kr(r.buttonRef,n,l.referenceRef),id:r.buttonId,"data-active":wn(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:on(t.onClick,i),onKeyDown:on(t.onKeyDown,p)}}function aj(t){return hZ(t)&&!!t?.getAttribute("role")?.startsWith("menuitem")}function lZ(t={},n=null){const r=Qp();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:i,setFocusedIndex:l,menuRef:u,isOpen:d,onClose:g,menuId:p,isLazy:m,lazyBehavior:x,scrollIntoViewRef:v,unstable__animationState:S}=r,E=tZ(),C=Pq({preventDefault:M=>M.key!==" "&&aj(M.target)}),T=y.useCallback(M=>{if(!M.currentTarget.contains(M.target))return;const R=M.key,z={Tab:G=>G.preventDefault(),Escape:G=>{G.stopPropagation(),g()},ArrowDown:()=>{v.current=!0;const G=E.nextEnabled(i)??E.firstEnabled();G&&l(G.index)},ArrowUp:()=>{v.current=!0;const G=E.prevEnabled(i)??E.firstEnabled();G&&l(G.index)}}[R];if(z){M.preventDefault(),z(M);return}const O=C(G=>{const q=kq(E.values(),G,ce=>ce?.node?.textContent??"",E.item(i));if(q){const ce=E.indexOf(q.node);l(ce)}});aj(M.target)&&O(M)},[E,i,C,g,l,v]),A=y.useRef(!1);d&&(A.current=!0);const D=vA({wasSelected:A.current,enabled:m,mode:x,isSelected:S.present});return{...t,ref:Kr(u,n),children:D?t.children:null,tabIndex:-1,role:"menu",id:p,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:on(t.onKeyDown,T)}}function cZ(t={}){const{popper:n,isOpen:r}=Qp();return n.getPopperProps({...t,style:{visibility:r?"visible":"hidden",...t.style}})}function eP(t={},n=null){const{onMouseEnter:r,onMouseMove:i,onMouseLeave:l,onClick:u,onFocus:d,isDisabled:g,isFocusable:p,closeOnSelect:m,type:x,...v}=t,S=Qp(),{setFocusedIndex:E,focusedIndex:C,closeOnSelect:T,onClose:A,menuId:D,scrollIntoViewRef:M}=S,R=y.useRef(null),P=`${D}-menuitem-${y.useId()}`,{index:z,register:O}=rZ({disabled:g&&!p}),G=y.useCallback(de=>{r?.(de),!g&&(M.current=!1,E(z))},[E,z,g,r,M]),q=y.useCallback(de=>{i?.(de),R.current&&!iZ(R.current)&&G(de)},[G,i]),ce=y.useCallback(de=>{l?.(de),!g&&E(-1)},[E,g,l]),he=y.useCallback(de=>{u?.(de),aj(de.currentTarget)&&(m??T)&&A()},[A,u,T,m]),se=y.useCallback(de=>{d?.(de),E(z)},[E,d,z]),ge=z===C,Ae=QM({onClick:he,onFocus:se,onMouseEnter:G,onMouseMove:q,onMouseLeave:ce,ref:Kr(O,R,n),isDisabled:g,isFocusable:p});return{...v,...Ae,type:x??Ae.type,id:P,role:"menuitem",tabIndex:ge?0:-1}}function uZ(t={},n=null){const{type:r="radio",isChecked:i,...l}=t;return{...eP(l,n),role:`menuitem${r}`,"aria-checked":i}}function dZ(t={}){const{children:n,type:r="radio",value:i,defaultValue:l,onChange:u,...d}=t,p=r==="radio"?"":[],[m,x]=Fp({defaultValue:l??p,value:i,onChange:u}),v=y.useCallback(C=>{if(r==="radio"&&typeof m=="string"&&x(C),r==="checkbox"&&Array.isArray(m)){const T=m.includes(C)?m.filter(A=>A!==C):m.concat(C);x(T)}},[m,x,r]),E=Mc(n).map(C=>{if(C.type.id!=="MenuItemOption")return C;const T=D=>{v(C.props.value),C.props.onClick?.(D)},A=r==="radio"?C.props.value===m:m.includes(C.props.value);return y.cloneElement(C,{type:r,onClick:T,isChecked:A})});return{...d,children:E}}function hZ(t){if(!fZ(t))return!1;const n=t.ownerDocument.defaultView??window;return t instanceof n.HTMLElement}function fZ(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[pZ,qu]=$n({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Fa=t=>{const{children:n}=t,r=as("Menu",t),i=Vn(t),{direction:l}=Wu(),{descendants:u,...d}=oZ({...i,direction:l}),g=y.useMemo(()=>d,[d]),{isOpen:p,onClose:m,forceUpdate:x}=g;return e.jsx(eZ,{value:u,children:e.jsx(sZ,{value:g,children:e.jsx(pZ,{value:r,children:to(n,{isOpen:p,onClose:m,forceUpdate:x})})})})};Fa.displayName="Menu";const mZ=tt((t,n)=>{const r=qu();return e.jsx(Ve.button,{ref:n,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...r.button}})}),Va=tt((t,n)=>{const{children:r,as:i,...l}=t,u=aZ(l,n),d=i||mZ;return e.jsx(d,{...u,className:dt("chakra-menu__menu-button",t.className),children:e.jsx(Ve.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});Va.displayName="MenuButton";const tP=tt((t,n)=>{const r=qu();return e.jsx(Ve.span,{ref:n,...t,__css:r.command,className:"chakra-menu__command"})});tP.displayName="MenuCommand";const jx=t=>{const{className:n,...r}=t,i=qu();return e.jsx(Ve.hr,{"aria-orientation":"horizontal",className:dt("chakra-menu__divider",n),...r,__css:i.divider})};jx.displayName="MenuDivider";const nP=tt((t,n)=>{const{title:r,children:i,className:l,...u}=t,d=dt("chakra-menu__group__title",l),g=qu();return e.jsxs("div",{ref:n,className:"chakra-menu__group",role:"group",children:[r&&e.jsx(Ve.p,{className:d,...u,__css:g.groupTitle,children:r}),i]})});nP.displayName="MenuGroup";const Sx=t=>{const{className:n,children:r,...i}=t,l=qu(),u=y.Children.only(r),d=y.isValidElement(u)?y.cloneElement(u,{focusable:"false","aria-hidden":!0,className:dt("chakra-menu__icon",u.props.className)}):null,g=dt("chakra-menu__icon-wrapper",n);return e.jsx(Ve.span,{className:g,...i,__css:l.icon,children:d})};Sx.displayName="MenuIcon";const rP=tt((t,n)=>{const{type:r,...i}=t,l=qu(),u=i.as||r?r??void 0:"button",d=y.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...l.item}),[l.item]);return e.jsx(Ve.button,{ref:n,type:u,...i,__css:d})}),_n=tt((t,n)=>{const{icon:r,iconSpacing:i="0.75rem",command:l,commandSpacing:u="0.75rem",children:d,...g}=t,p=eP(g,n),x=r||l?e.jsx("span",{style:{pointerEvents:"none",flex:1},children:d}):d;return e.jsxs(rP,{...p,className:dt("chakra-menu__menuitem",p.className),children:[r&&e.jsx(Sx,{fontSize:"0.8em",marginEnd:i,children:r}),x,l&&e.jsx(tP,{marginStart:u,children:l})]})});_n.displayName="MenuItem";const pT=t=>e.jsx("svg",{viewBox:"0 0 14 14",width:"1em",height:"1em",...t,children:e.jsx("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})}),Ji=tt((t,n)=>{const{icon:r,iconSpacing:i="0.75rem",iconPlacement:l="start",...u}=t,d=uZ(u,n);return e.jsxs(rP,{...d,className:dt("chakra-menu__menuitem-option",u.className),children:[r!==null&&l==="start"&&e.jsx(Sx,{fontSize:"0.8em",marginEnd:i,opacity:t.isChecked?1:0,children:r||e.jsx(pT,{})}),e.jsx("span",{style:{flex:1},children:d.children}),r!==null&&l==="end"&&e.jsx(Sx,{fontSize:"0.8em",marginStart:i,opacity:t.isChecked?1:0,children:r||e.jsx(pT,{})})]})});Ji.id="MenuItemOption";Ji.displayName="MenuItemOption";const gZ={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},xZ=Ve(Wa.div),Ua=tt(function(n,r){const{rootProps:i,motionProps:l,...u}=n,{isOpen:d,onTransitionEnd:g,unstable__animationState:p}=Qp(),m=lZ(u,r),x=cZ(i),v=qu();return e.jsx(Ve.div,{...x,__css:{zIndex:n.zIndex??v.list?.zIndex},children:e.jsx(xZ,{variants:gZ,initial:!1,animate:d?"enter":"exit",__css:{outline:0,...v.list},...l,...m,className:dt("chakra-menu__menu-list",m.className),onUpdate:g,onAnimationComplete:pA(p.onComplete,m.onAnimationComplete)})})});Ua.displayName="MenuList";const sP=t=>{const{className:n,title:r,...i}=t,l=dZ(i);return e.jsx(nP,{title:r,className:dt("chakra-menu__option-group",n),...l})};sP.displayName="MenuOptionGroup";var vZ=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},Md=new WeakMap,Eg=new WeakMap,Cg={},Vy=0,iP=function(t){return t&&(t.host||iP(t.parentNode))},yZ=function(t,n){return n.map(function(r){if(t.contains(r))return r;var i=iP(r);return i&&t.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},bZ=function(t,n,r,i){var l=yZ(n,Array.isArray(t)?t:[t]);Cg[r]||(Cg[r]=new WeakMap);var u=Cg[r],d=[],g=new Set,p=new Set(l),m=function(v){!v||g.has(v)||(g.add(v),m(v.parentNode))};l.forEach(m);var x=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(S){if(g.has(S))x(S);else try{var E=S.getAttribute(i),C=E!==null&&E!=="false",T=(Md.get(S)||0)+1,A=(u.get(S)||0)+1;Md.set(S,T),u.set(S,A),d.push(S),T===1&&C&&Eg.set(S,!0),A===1&&S.setAttribute(r,"true"),C||S.setAttribute(i,"true")}catch(D){console.error("aria-hidden: cannot operate on ",S,D)}})};return x(n),g.clear(),Vy++,function(){d.forEach(function(v){var S=Md.get(v)-1,E=u.get(v)-1;Md.set(v,S),u.set(v,E),S||(Eg.has(v)||v.removeAttribute(i),Eg.delete(v)),E||v.removeAttribute(r)}),Vy--,Vy||(Md=new WeakMap,Md=new WeakMap,Eg=new WeakMap,Cg={})}},jZ=function(t,n,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),l=vZ(t);return l?(i.push.apply(i,Array.from(l.querySelectorAll("[aria-live], script"))),bZ(i,l,r,"aria-hidden")):function(){return null}},SZ=Object.defineProperty,EZ=(t,n,r)=>n in t?SZ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,CZ=(t,n,r)=>(EZ(t,n+"",r),r);class wZ{constructor(){CZ(this,"modals"),this.modals=new Set}add(n){return this.modals.add(n),this.modals.size}remove(n){this.modals.delete(n)}isTopModal(n){if(!n)return!1;const r=Array.from(this.modals)[this.modals.size-1];return n===r}}const lj=new wZ;function oP(t,n){const[r,i]=y.useState(0);return y.useEffect(()=>{const l=t.current;if(l){if(n){const u=lj.add(l);i(u)}return()=>{lj.remove(l),i(0)}}},[n,t]),r}function _Z(t){const{isOpen:n,onClose:r,id:i,closeOnOverlayClick:l=!0,closeOnEsc:u=!0,useInert:d=!0,onOverlayClick:g,onEsc:p}=t,m=y.useRef(null),x=y.useRef(null),[v,S,E]=AZ(i,"chakra-modal","chakra-modal--header","chakra-modal--body");TZ(m,n&&d);const C=oP(m,n),T=y.useRef(null),A=y.useCallback(ce=>{T.current=ce.target},[]),D=y.useCallback(ce=>{ce.key==="Escape"&&(ce.stopPropagation(),u&&r?.(),p?.())},[u,r,p]),[M,R]=y.useState(!1),[P,z]=y.useState(!1),O=y.useCallback((ce={},he=null)=>({role:"dialog",...ce,ref:Kr(he,m),id:v,tabIndex:-1,"aria-modal":!0,"aria-labelledby":M?S:void 0,"aria-describedby":P?E:void 0,onClick:on(ce.onClick,se=>se.stopPropagation())}),[E,P,v,S,M]),G=y.useCallback(ce=>{ce.stopPropagation(),T.current===ce.target&&lj.isTopModal(m.current)&&(l&&r?.(),g?.())},[r,l,g]),q=y.useCallback((ce={},he=null)=>({...ce,ref:Kr(he,x),onClick:on(ce.onClick,G),onKeyDown:on(ce.onKeyDown,D),onMouseDown:on(ce.onMouseDown,A)}),[D,A,G]);return{isOpen:n,onClose:r,headerId:S,bodyId:E,setBodyMounted:z,setHeaderMounted:R,dialogRef:m,overlayRef:x,getDialogProps:O,getDialogContainerProps:q,index:C}}function TZ(t,n){const r=t.current;y.useEffect(()=>{if(!(!t.current||!n))return jZ(t.current)},[n,t,r])}function AZ(t,...n){const r=y.useId(),i=t||r;return y.useMemo(()=>n.map(l=>`${l}-${i}`),[i,n])}const[RZ,Gu]=$n({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[kZ,Rc]=$n({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Ct=t=>{const n={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames??!0},{portalProps:r,children:i,autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:g,returnFocusOnClose:p,blockScrollOnMount:m,allowPinchZoom:x,preserveScrollBarGap:v,motionPreset:S,lockFocusAcrossFrames:E,animatePresenceProps:C,onCloseComplete:T}=n,A=as("Modal",n),M={..._Z(n),autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:g,returnFocusOnClose:p,blockScrollOnMount:m,allowPinchZoom:x,preserveScrollBarGap:v,motionPreset:S,lockFocusAcrossFrames:E};return e.jsx(kZ,{value:M,children:e.jsx(RZ,{value:A,children:e.jsx(Dc,{...C,onExitComplete:T,children:M.isOpen&&e.jsx(Ch,{...r,children:i})})})})};Ct.displayName="Modal";var tx="right-scroll-bar-position",nx="width-before-scroll-bar",MZ="with-scroll-bars-hidden",PZ="--removed-body-scroll-bar-size",aP=dM(),Uy=function(){},nv=y.forwardRef(function(t,n){var r=y.useRef(null),i=y.useState({onScrollCapture:Uy,onWheelCapture:Uy,onTouchMoveCapture:Uy}),l=i[0],u=i[1],d=t.forwardProps,g=t.children,p=t.className,m=t.removeScrollBar,x=t.enabled,v=t.shards,S=t.sideCar,E=t.noRelative,C=t.noIsolation,T=t.inert,A=t.allowPinchZoom,D=t.as,M=D===void 0?"div":D,R=t.gapMode,P=lM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=S,O=aM([r,n]),G=Da(Da({},P),l);return y.createElement(y.Fragment,null,x&&y.createElement(z,{sideCar:aP,removeScrollBar:m,shards:v,noRelative:E,noIsolation:C,inert:T,setCallbacks:u,allowPinchZoom:!!A,lockRef:r,gapMode:R}),d?y.cloneElement(y.Children.only(g),Da(Da({},G),{ref:O})):y.createElement(M,Da({},G,{className:p,ref:O}),g))});nv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nv.classNames={fullWidth:nx,zeroRight:tx};var DZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=DZ();return n&&t.setAttribute("nonce",n),t}function IZ(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function zZ(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var LZ=function(){var t=0,n=null;return{add:function(r){t==0&&(n=NZ())&&(IZ(n,r),zZ(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},OZ=function(){var t=LZ();return function(n,r){y.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}},lP=function(){var t=OZ(),n=function(r){var i=r.styles,l=r.dynamic;return t(i,l),null};return n},BZ={left:0,top:0,right:0,gap:0},Hy=function(t){return parseInt(t||"",10)||0},$Z=function(t){var n=window.getComputedStyle(document.body),r=n[t==="padding"?"paddingLeft":"marginLeft"],i=n[t==="padding"?"paddingTop":"marginTop"],l=n[t==="padding"?"paddingRight":"marginRight"];return[Hy(r),Hy(i),Hy(l)]},FZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BZ;var n=$Z(t),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,i-r+n[2]-n[0])}},VZ=lP(),nh="data-scroll-locked",UZ=function(t,n,r,i){var l=t.left,u=t.top,d=t.right,g=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(MZ,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(g,"px ").concat(i,`;
  }
  body[`).concat(nh,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(g,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(g,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tx,` {
    right: `).concat(g,"px ").concat(i,`;
  }
  
  .`).concat(nx,` {
    margin-right: `).concat(g,"px ").concat(i,`;
  }
  
  .`).concat(tx," .").concat(tx,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(nx," .").concat(nx,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(nh,`] {
    `).concat(PZ,": ").concat(g,`px;
  }
`)},mT=function(){var t=parseInt(document.body.getAttribute(nh)||"0",10);return isFinite(t)?t:0},HZ=function(){y.useEffect(function(){return document.body.setAttribute(nh,(mT()+1).toString()),function(){var t=mT()-1;t<=0?document.body.removeAttribute(nh):document.body.setAttribute(nh,t.toString())}},[])},WZ=function(t){var n=t.noRelative,r=t.noImportant,i=t.gapMode,l=i===void 0?"margin":i;HZ();var u=y.useMemo(function(){return FZ(l)},[l]);return y.createElement(VZ,{styles:UZ(u,!n,l,r?"":"!important")})},cj=!1;if(typeof window<"u")try{var wg=Object.defineProperty({},"passive",{get:function(){return cj=!0,!0}});window.addEventListener("test",wg,wg),window.removeEventListener("test",wg,wg)}catch{cj=!1}var Pd=cj?{passive:!1}:!1,qZ=function(t){return t.tagName==="TEXTAREA"},cP=function(t,n){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!qZ(t)&&r[n]==="visible")},GZ=function(t){return cP(t,"overflowY")},ZZ=function(t){return cP(t,"overflowX")},gT=function(t,n){var r=n.ownerDocument,i=n;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var l=uP(t,i);if(l){var u=dP(t,i),d=u[1],g=u[2];if(d>g)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},YZ=function(t){var n=t.scrollTop,r=t.scrollHeight,i=t.clientHeight;return[n,r,i]},KZ=function(t){var n=t.scrollLeft,r=t.scrollWidth,i=t.clientWidth;return[n,r,i]},uP=function(t,n){return t==="v"?GZ(n):ZZ(n)},dP=function(t,n){return t==="v"?YZ(n):KZ(n)},XZ=function(t,n){return t==="h"&&n==="rtl"?-1:1},QZ=function(t,n,r,i,l){var u=XZ(t,window.getComputedStyle(n).direction),d=u*i,g=r.target,p=n.contains(g),m=!1,x=d>0,v=0,S=0;do{if(!g)break;var E=dP(t,g),C=E[0],T=E[1],A=E[2],D=T-A-u*C;(C||D)&&uP(t,g)&&(v+=D,S+=C);var M=g.parentNode;g=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!p&&g!==document.body||p&&(n.contains(g)||n===g));return(x&&Math.abs(v)<1||!x&&Math.abs(S)<1)&&(m=!0),m},_g=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xT=function(t){return[t.deltaX,t.deltaY]},vT=function(t){return t&&"current"in t?t.current:t},JZ=function(t,n){return t[0]===n[0]&&t[1]===n[1]},eY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tY=0,Dd=[];function nY(t){var n=y.useRef([]),r=y.useRef([0,0]),i=y.useRef(),l=y.useState(tY++)[0],u=y.useState(lP)[0],d=y.useRef(t);y.useEffect(function(){d.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var T=iW([t.lockRef.current],(t.shards||[]).map(vT),!0).filter(Boolean);return T.forEach(function(A){return A.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),T.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var g=y.useCallback(function(T,A){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!d.current.allowPinchZoom;var D=_g(T),M=r.current,R="deltaX"in T?T.deltaX:M[0]-D[0],P="deltaY"in T?T.deltaY:M[1]-D[1],z,O=T.target,G=Math.abs(R)>Math.abs(P)?"h":"v";if("touches"in T&&G==="h"&&O.type==="range")return!1;var q=gT(G,O);if(!q)return!0;if(q?z=G:(z=G==="v"?"h":"v",q=gT(G,O)),!q)return!1;if(!i.current&&"changedTouches"in T&&(R||P)&&(i.current=z),!z)return!0;var ce=i.current||z;return QZ(ce,A,T,ce==="h"?R:P)},[]),p=y.useCallback(function(T){var A=T;if(!(!Dd.length||Dd[Dd.length-1]!==u)){var D="deltaY"in A?xT(A):_g(A),M=n.current.filter(function(z){return z.name===A.type&&(z.target===A.target||A.target===z.shadowParent)&&JZ(z.delta,D)})[0];if(M&&M.should){A.cancelable&&A.preventDefault();return}if(!M){var R=(d.current.shards||[]).map(vT).filter(Boolean).filter(function(z){return z.contains(A.target)}),P=R.length>0?g(A,R[0]):!d.current.noIsolation;P&&A.cancelable&&A.preventDefault()}}},[]),m=y.useCallback(function(T,A,D,M){var R={name:T,delta:A,target:D,should:M,shadowParent:rY(D)};n.current.push(R),setTimeout(function(){n.current=n.current.filter(function(P){return P!==R})},1)},[]),x=y.useCallback(function(T){r.current=_g(T),i.current=void 0},[]),v=y.useCallback(function(T){m(T.type,xT(T),T.target,g(T,t.lockRef.current))},[]),S=y.useCallback(function(T){m(T.type,_g(T),T.target,g(T,t.lockRef.current))},[]);y.useEffect(function(){return Dd.push(u),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Pd),document.addEventListener("touchmove",p,Pd),document.addEventListener("touchstart",x,Pd),function(){Dd=Dd.filter(function(T){return T!==u}),document.removeEventListener("wheel",p,Pd),document.removeEventListener("touchmove",p,Pd),document.removeEventListener("touchstart",x,Pd)}},[]);var E=t.removeScrollBar,C=t.inert;return y.createElement(y.Fragment,null,C?y.createElement(u,{styles:eY(l)}):null,E?y.createElement(WZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function rY(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const sY=oW(aP,nY);var hP=y.forwardRef(function(t,n){return y.createElement(nv,Da({},t,{ref:n,sideCar:sY}))});hP.classNames=nv.classNames;function fP(t){const{autoFocus:n,trapFocus:r,dialogRef:i,initialFocusRef:l,blockScrollOnMount:u,allowPinchZoom:d,finalFocusRef:g,returnFocusOnClose:p,preserveScrollBarGap:m,lockFocusAcrossFrames:x,isOpen:v}=Rc(),[S,E]=nS();y.useEffect(()=>{!S&&E&&setTimeout(E)},[S,E]);const C=oP(i,v);return e.jsx(OM,{autoFocus:n,isDisabled:!r,initialFocusRef:l,finalFocusRef:g,restoreFocus:p,contentRef:i,lockFocusAcrossFrames:x,children:e.jsx(hP,{removeScrollBar:!m,allowPinchZoom:d,enabled:C===1&&u,forwardProps:!0,children:t.children})})}const iY={initial:({offsetX:t,offsetY:n,transition:r,transitionEnd:i,delay:l})=>({opacity:0,x:t,y:n,transition:r?.exit??ra.exit(Ru.exit,l),transitionEnd:i?.exit}),enter:({transition:t,transitionEnd:n,delay:r})=>({opacity:1,x:0,y:0,transition:t?.enter??ra.enter(Ru.enter,r),transitionEnd:n?.enter}),exit:({offsetY:t,offsetX:n,transition:r,transitionEnd:i,reverse:l,delay:u})=>{const d={x:n,y:t};return{opacity:0,transition:r?.exit??ra.exit(Ru.exit,u),...l?{...d,transitionEnd:i?.exit}:{transitionEnd:{...d,...i?.exit}}}}},Gf={initial:"initial",animate:"enter",exit:"exit",variants:iY},oY=y.forwardRef(function(n,r){const{unmountOnExit:i,in:l,reverse:u=!0,className:d,offsetX:g=0,offsetY:p=8,transition:m,transitionEnd:x,delay:v,animatePresenceProps:S,...E}=n,C=i?l&&i:!0,T=l||i?"enter":"exit",A={offsetX:g,offsetY:p,reverse:u,transition:m,transitionEnd:x,delay:v};return e.jsx(Dc,{...S,custom:A,children:C&&e.jsx(Wa.div,{ref:r,className:dt("chakra-offset-slide",d),custom:A,...Gf,animate:T,...E})})});oY.displayName="SlideFade";const aY={exit:({reverse:t,initialScale:n,transition:r,transitionEnd:i,delay:l})=>({opacity:0,...t?{scale:n,transitionEnd:i?.exit}:{transitionEnd:{scale:n,...i?.exit}},transition:r?.exit??ra.exit(Ru.exit,l)}),enter:({transitionEnd:t,transition:n,delay:r})=>({opacity:1,scale:1,transition:n?.enter??ra.enter(Ru.enter,r),transitionEnd:t?.enter})},pP={initial:"exit",animate:"enter",exit:"exit",variants:aY},lY=y.forwardRef(function(n,r){const{unmountOnExit:i,in:l,reverse:u=!0,initialScale:d=.95,className:g,transition:p,transitionEnd:m,delay:x,animatePresenceProps:v,...S}=n,E=i?l&&i:!0,C=l||i?"enter":"exit",T={initialScale:d,reverse:u,transition:p,transitionEnd:m,delay:x};return e.jsx(Dc,{...v,custom:T,children:E&&e.jsx(Wa.div,{ref:r,className:dt("chakra-offset-slide",g),...pP,animate:C,custom:T,...S})})});lY.displayName="ScaleFade";const cY={slideInBottom:{...Gf,custom:{offsetY:16,reverse:!0}},slideInRight:{...Gf,custom:{offsetX:16,reverse:!0}},slideInTop:{...Gf,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...Gf,custom:{offsetX:-16,reverse:!0}},scale:{...pP,custom:{initialScale:.95,reverse:!0}},none:{}},uY=Ve(Wa.section),dY=t=>cY[t||"none"],mP=y.forwardRef((t,n)=>{const{preset:r,motionProps:i=dY(r),...l}=t;return e.jsx(uY,{ref:n,...i,...l})});mP.displayName="ModalTransition";const kt=tt((t,n)=>{const{className:r,children:i,containerProps:l,motionProps:u,...d}=t,{getDialogProps:g,getDialogContainerProps:p}=Rc(),m=g(d,n),x=p(l),v=dt("chakra-modal__content",r),S=Gu(),E={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...S.dialog},C={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...S.dialogContainer},{motionPreset:T}=Rc();return e.jsx(fP,{children:e.jsx(Ve.div,{...x,className:"chakra-modal__content-container",tabIndex:-1,__css:C,children:e.jsx(mP,{preset:T,motionProps:u,className:v,...m,__css:E,children:i})})})});kt.displayName="ModalContent";const wt=tt((t,n)=>{const{className:r,...i}=t,{bodyId:l,setBodyMounted:u}=Rc();y.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=dt("chakra-modal__body",r),g=Gu();return e.jsx(Ve.div,{ref:n,className:d,id:l,...i,__css:g.body})});wt.displayName="ModalBody";const Bt=tt((t,n)=>{const{onClick:r,className:i,...l}=t,{onClose:u}=Rc(),d=dt("chakra-modal__close-btn",i),g=Gu();return e.jsx(zS,{ref:n,__css:g.closeButton,className:d,onClick:on(r,p=>{p.stopPropagation(),u()}),...l})});Bt.displayName="ModalCloseButton";const Wt=tt((t,n)=>{const{className:r,...i}=t,l=dt("chakra-modal__footer",r),u=Gu(),d={display:"flex",alignItems:"center",justifyContent:"flex-end",...u.footer};return e.jsx(Ve.footer,{ref:n,...i,__css:d,className:l})});Wt.displayName="ModalFooter";const _t=tt((t,n)=>{const{className:r,...i}=t,{headerId:l,setHeaderMounted:u}=Rc();y.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=dt("chakra-modal__header",r),g=Gu(),p={flex:0,...g.header};return e.jsx(Ve.header,{ref:n,className:d,id:l,...i,__css:p})});_t.displayName="ModalHeader";const hY={enter:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:1,transition:t?.enter??ra.enter(Ru.enter,r),transitionEnd:n?.enter}),exit:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:0,transition:t?.exit??ra.exit(Ru.exit,r),transitionEnd:n?.exit})},gP={initial:"exit",animate:"enter",exit:"exit",variants:hY},fY=y.forwardRef(function(n,r){const{unmountOnExit:i,in:l,className:u,transition:d,transitionEnd:g,delay:p,animatePresenceProps:m,...x}=n,v=l||i?"enter":"exit",S=i?l&&i:!0,E={transition:d,transitionEnd:g,delay:p};return e.jsx(Dc,{...m,custom:E,children:S&&e.jsx(Wa.div,{ref:r,className:dt("chakra-fade",u),custom:E,...gP,animate:v,...x})})});fY.displayName="Fade";const pY=Ve(Wa.div),Tt=tt((t,n)=>{const{className:r,transition:i,motionProps:l,...u}=t,d=dt("chakra-modal__overlay",r),p={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Gu().overlay},{motionPreset:m}=Rc(),v=l||(m==="none"?{}:gP);return e.jsx(pY,{...v,__css:p,ref:n,className:d,...u})});Tt.displayName="ModalOverlay";function mY(t){const{leastDestructiveRef:n,...r}=t;return e.jsx(Ct,{...r,initialFocusRef:n})}const gY=tt((t,n)=>e.jsx(kt,{ref:n,role:"alertdialog",...t})),[xY,vY]=$n(),yY={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function bY(t,n){if(t)return yY[t]?.[n]??t}function jY(t){const{isOpen:n,onClose:r,placement:i="right",children:l,...u}=t,d=Wu(),g=d.components?.Drawer,p=bY(i,d.direction);return e.jsx(xY,{value:{placement:p},children:e.jsx(Ct,{isOpen:n,onClose:r,styleConfig:g,...u,children:l})})}const yT={exit:{duration:.15,ease:bu.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},SY={exit:({direction:t,transition:n,transitionEnd:r,delay:i})=>{const{exit:l}=Ub({direction:t});return{...l,transition:n?.exit??ra.exit(yT.exit,i),transitionEnd:r?.exit}},enter:({direction:t,transitionEnd:n,transition:r,delay:i})=>{const{enter:l}=Ub({direction:t});return{...l,transition:r?.enter??ra.enter(yT.enter,i),transitionEnd:n?.enter}}},xP=y.forwardRef(function(n,r){const{direction:i="right",style:l,unmountOnExit:u,in:d,className:g,transition:p,transitionEnd:m,delay:x,motionProps:v,animatePresenceProps:S,...E}=n,C=Ub({direction:i}),T=Object.assign({position:"fixed"},C.position,l),A=u?d&&u:!0,D=d||u?"enter":"exit",M={transitionEnd:m,transition:p,direction:i,delay:x};return e.jsx(Dc,{...S,custom:M,children:A&&e.jsx(Wa.div,{...E,ref:r,initial:"exit",className:dt("chakra-slide",g),animate:D,exit:"exit",custom:M,variants:SY,style:T,...v})})});xP.displayName="Slide";const EY=Ve(xP),vP=tt((t,n)=>{const{className:r,children:i,motionProps:l,containerProps:u,...d}=t,{getDialogProps:g,getDialogContainerProps:p,isOpen:m}=Rc(),x=g(d,n),v=p(u),S=dt("chakra-modal__content",r),E=Gu(),C={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...E.dialog},T={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...E.dialogContainer},{placement:A}=vY();return e.jsx(fP,{children:e.jsx(Ve.div,{...v,className:"chakra-modal__content-container",__css:T,children:e.jsx(EY,{motionProps:l,direction:A,in:m,className:S,...x,__css:C,children:i})})})});vP.displayName="DrawerContent";const CY=t=>e.jsx(qn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),wY=t=>e.jsx(qn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function bT(t,n,r,i){y.useEffect(()=>{if(!t.current||!i)return;const l=t.current.ownerDocument.defaultView??window,u=Array.isArray(n)?n:[n],d=new l.MutationObserver(g=>{for(const p of g)p.type==="attributes"&&p.attributeName&&u.includes(p.attributeName)&&r(p)});return d.observe(t.current,{attributes:!0,attributeFilter:u}),()=>d.disconnect()})}const _Y=50,jT=300;function TY(t,n){const[r,i]=y.useState(!1),[l,u]=y.useState(null),[d,g]=y.useState(!0),p=y.useRef(null),m=()=>clearTimeout(p.current);Gz(()=>{l==="increment"&&t(),l==="decrement"&&n()},r?_Y:null);const x=y.useCallback(()=>{d&&t(),p.current=setTimeout(()=>{g(!1),i(!0),u("increment")},jT)},[t,d]),v=y.useCallback(()=>{d&&n(),p.current=setTimeout(()=>{g(!1),i(!0),u("decrement")},jT)},[n,d]),S=y.useCallback(()=>{g(!0),i(!1),m()},[]);return y.useEffect(()=>()=>m(),[]),{up:x,down:v,stop:S,isSpinning:r}}const AY=/^[Ee0-9+\-.]$/;function RY(t){return AY.test(t)}function kY(t,n){if(t.key==null)return!0;const r=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||r?!0:n(t.key)}function MY(t={}){const{focusInputOnChange:n=!0,clampValueOnBlur:r=!0,keepWithinRange:i=!0,min:l=Number.MIN_SAFE_INTEGER,max:u=Number.MAX_SAFE_INTEGER,step:d=1,isReadOnly:g,isDisabled:p,isRequired:m,isInvalid:x,pattern:v="[0-9]*(.[0-9]+)?",inputMode:S="decimal",allowMouseWheel:E,id:C,onChange:T,precision:A,name:D,"aria-describedby":M,"aria-label":R,"aria-labelledby":P,onFocus:z,onBlur:O,onInvalid:G,getAriaValueText:q,isValidCharacter:ce,format:he,parse:se,...ge}=t,Ae=fs(z),de=fs(O),re=fs(G),K=fs(ce??RY),W=fs(q),H=Vz(t),{update:Ee,increment:B,decrement:ae}=H,[me,$]=y.useState(!1),F=!(g||p),U=y.useRef(null),Y=y.useRef(null),be=y.useRef(null),Te=y.useRef(null),Re=y.useCallback(Xe=>Xe.split("").filter(K).join(""),[K]),nt=y.useCallback(Xe=>se?.(Xe)??Xe,[se]),ht=y.useCallback(Xe=>(he?.(Xe)??Xe).toString(),[he]);Nu(()=>{(H.valueAsNumber>u||H.valueAsNumber<l)&&re?.("rangeOverflow",ht(H.value),H.valueAsNumber)},[H.valueAsNumber,H.value,ht,re]),Cl(()=>{if(!U.current)return;if(U.current.value!=H.value){const vt=nt(U.current.value);H.setValue(Re(vt))}},[nt,Re]);const rt=y.useCallback((Xe=d)=>{F&&B(Xe)},[B,F,d]),zt=y.useCallback((Xe=d)=>{F&&ae(Xe)},[ae,F,d]),Ue=TY(rt,zt);bT(be,"disabled",Ue.stop,Ue.isSpinning),bT(Te,"disabled",Ue.stop,Ue.isSpinning);const qt=y.useCallback(Xe=>{if(Xe.nativeEvent.isComposing)return;const Pn=nt(Xe.currentTarget.value);Ee(Re(Pn)),Y.current={start:Xe.currentTarget.selectionStart,end:Xe.currentTarget.selectionEnd}},[Ee,Re,nt]),Se=y.useCallback(Xe=>{Ae?.(Xe),Y.current&&(Xe.currentTarget.selectionStart=Y.current.start??Xe.currentTarget.value?.length,Xe.currentTarget.selectionEnd=Y.current.end??Xe.currentTarget.selectionStart)},[Ae]),Ke=y.useCallback(Xe=>{if(Xe.nativeEvent.isComposing)return;kY(Xe,K)||Xe.preventDefault();const vt=Ot(Xe)*d,Pn=Xe.key,At={ArrowUp:()=>rt(vt),ArrowDown:()=>zt(vt),Home:()=>Ee(l),End:()=>Ee(u)}[Pn];At&&(Xe.preventDefault(),At(Xe))},[K,d,rt,zt,Ee,l,u]),Ot=Xe=>{let vt=1;return(Xe.metaKey||Xe.ctrlKey)&&(vt=.1),Xe.shiftKey&&(vt=10),vt},le=y.useMemo(()=>{const Xe=W?.(H.value);if(Xe!=null)return Xe;const vt=H.value.toString();return vt||void 0},[H.value,W]),ve=y.useCallback(()=>{let Xe=H.value;if(H.value==="")return;/^[eE]/.test(H.value.toString())?H.setValue(""):(H.valueAsNumber<l&&(Xe=l),H.valueAsNumber>u&&(Xe=u),H.cast(Xe))},[H,u,l]),st=y.useCallback(()=>{$(!1),r&&ve()},[r,$,ve]),Mt=y.useCallback(()=>{n&&requestAnimationFrame(()=>{U.current?.focus()})},[n]),Mn=y.useCallback(Xe=>{Xe.preventDefault(),Ue.up(),Mt()},[Mt,Ue]),ar=y.useCallback(Xe=>{Xe.preventDefault(),Ue.down(),Mt()},[Mt,Ue]);Jf(()=>U.current,"wheel",Xe=>{const Pn=(U.current?.ownerDocument??document).activeElement===U.current;if(!E||!Pn)return;Xe.preventDefault();const Ge=Ot(Xe)*d,At=Math.sign(Xe.deltaY);At===-1?rt(Ge):At===1&&zt(Ge)},{passive:!1});const He=y.useCallback((Xe={},vt=null)=>{const Pn=p||i&&H.isAtMax;return{...Xe,ref:Kr(vt,be),role:"button",tabIndex:-1,onPointerDown:on(Xe.onPointerDown,Ge=>{Ge.button!==0||Pn||Mn(Ge)}),onPointerLeave:on(Xe.onPointerLeave,Ue.stop),onPointerUp:on(Xe.onPointerUp,Ue.stop),disabled:Pn,"aria-disabled":Cu(Pn)}},[H.isAtMax,i,Mn,Ue.stop,p]),it=y.useCallback((Xe={},vt=null)=>{const Pn=p||i&&H.isAtMin;return{...Xe,ref:Kr(vt,Te),role:"button",tabIndex:-1,onPointerDown:on(Xe.onPointerDown,Ge=>{Ge.button!==0||Pn||ar(Ge)}),onPointerLeave:on(Xe.onPointerLeave,Ue.stop),onPointerUp:on(Xe.onPointerUp,Ue.stop),disabled:Pn,"aria-disabled":Cu(Pn)}},[H.isAtMin,i,ar,Ue.stop,p]),It=y.useCallback((Xe={},vt=null)=>({name:D,inputMode:S,type:"text",pattern:v,"aria-labelledby":P,"aria-label":R,"aria-describedby":M,id:C,disabled:p,role:"spinbutton",...Xe,readOnly:Xe.readOnly??g,"aria-readonly":Xe.readOnly??g,"aria-required":Xe.required??m,required:Xe.required??m,ref:Kr(U,vt),value:ht(H.value),"aria-valuemin":l,"aria-valuemax":u,"aria-valuenow":Number.isNaN(H.valueAsNumber)?void 0:H.valueAsNumber,"aria-invalid":Cu(x??H.isOutOfRange),"aria-valuetext":le,autoComplete:"off",autoCorrect:"off",onChange:on(Xe.onChange,qt),onKeyDown:on(Xe.onKeyDown,Ke),onFocus:on(Xe.onFocus,Se,()=>$(!0)),onBlur:on(Xe.onBlur,de,st)}),[D,S,v,P,R,ht,M,C,p,m,g,x,H.value,H.valueAsNumber,H.isOutOfRange,l,u,le,qt,Ke,Se,de,st]);return{value:ht(H.value),valueAsNumber:H.valueAsNumber,isFocused:me,isDisabled:p,isReadOnly:g,getIncrementButtonProps:He,getDecrementButtonProps:it,getInputProps:It,htmlProps:ge}}const[PY,rv]=$n({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[DY,p1]=$n({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),Xn=tt(function(n,r){const i=as("NumberInput",n),l=Vn(n),u=HS(l),{htmlProps:d,...g}=MY(u),p=y.useMemo(()=>g,[g]);return e.jsx(DY,{value:p,children:e.jsx(PY,{value:i,children:e.jsx(Ve.div,{...d,ref:r,className:dt("chakra-numberinput",n.className),__css:{position:"relative",zIndex:0,...i.root}})})})});Xn.displayName="NumberInput";const di=tt(function(n,r){const i=rv();return e.jsx(Ve.div,{"aria-hidden":!0,ref:r,...n,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...i.stepperGroup}})});di.displayName="NumberInputStepper";const Qn=tt(function(n,r){const{getInputProps:i}=p1(),l=i(n,r),u=rv();return e.jsx(Ve.input,{...l,className:dt("chakra-numberinput__field",n.className),__css:{width:"100%",...u.field}})});Qn.displayName="NumberInputField";const yP=Ve("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),hi=tt(function(n,r){const i=rv(),{getDecrementButtonProps:l}=p1(),u=l(n,r);return e.jsx(yP,{...u,__css:i.stepper,children:n.children??e.jsx(CY,{})})});hi.displayName="NumberDecrementStepper";const fi=tt(function(n,r){const{getIncrementButtonProps:i}=p1(),l=i(n,r),u=rv();return e.jsx(yP,{...l,__css:u.stepper,children:n.children??e.jsx(wY,{})})});fi.displayName="NumberIncrementStepper";const[NY,hee,IY,zY]=Kx(),[LY,OY]=$n({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to place all pin input fields within `<PinInput />`"}),ST=t=>t?.split("");function ET(t,n){return(n==="alphanumeric"?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(t)}function BY(t={}){const{autoFocus:n,value:r,defaultValue:i,onChange:l,onComplete:u,placeholder:d="",manageFocus:g=!0,otp:p=!1,id:m,isDisabled:x,isInvalid:v,type:S="number",mask:E}=t,C=y.useId(),T=m??`pin-input-${C}`,A=IY(),[D,M]=y.useState(!0),[R,P]=y.useState(-1),[z,O]=Fp({defaultValue:ST(i)||[],value:ST(r),onChange:ge=>l?.(ge.join(""))});y.useEffect(()=>{if(n){const ge=A.first();ge&&requestAnimationFrame(()=>{ge.node.focus()})}},[A]);const G=y.useCallback(ge=>{if(!D||!g)return;const Ae=A.next(ge,!1);Ae&&requestAnimationFrame(()=>{Ae.node.focus()})},[A,D,g]),q=y.useCallback((ge,Ae,de=!0)=>{const re=[...z];re[Ae]=ge,O(re),ge!==""&&re.length===A.count()&&re.every(W=>W!=null&&W!=="")?u?.(re.join("")):de&&G(Ae)},[z,O,G,u,A]),ce=y.useCallback(()=>{const ge=Array(A.count()).fill("");O(ge),A.first()?.node?.focus()},[A,O]),he=y.useCallback((ge,Ae)=>{let de=Ae;return ge?.length>0&&(ge[0]===Ae.charAt(0)?de=Ae.charAt(1):ge[0]===Ae.charAt(1)&&(de=Ae.charAt(0))),de},[]);return{getInputProps:y.useCallback(ge=>{const{index:Ae,...de}=ge,re=ae=>{const me=ae.currentTarget.value,$=z[Ae],F=he($,me);if(F===""){q("",Ae);return}if(me.length>2){if(ET(me,S)){const U=me.split("").filter((Y,be)=>be<A.count());O(U),U.length===A.count()&&u?.(U.join(""))}}else ET(F,S)&&q(F,Ae),M(!0)},K=ae=>{if(ae.key==="Backspace"&&g)if(ae.currentTarget.value===""){const me=A.prev(Ae,!1);me&&(q("",Ae-1,!1),me.node?.focus(),M(!0))}else M(!1)},W=()=>{P(Ae)},H=()=>{P(-1)},Ee=R===Ae;return{"aria-label":"Please enter your pin code",inputMode:S==="number"?"numeric":"text",type:E?"password":S==="number"?"tel":"text",...de,id:`${T}-${Ae}`,disabled:x,"aria-invalid":Cu(v),onChange:on(de.onChange,re),onKeyDown:on(de.onKeyDown,K),onFocus:on(de.onFocus,W),onBlur:on(de.onBlur,H),value:z[Ae]||"",autoComplete:p?"one-time-code":"off",placeholder:Ee?"":d}},[A,R,he,T,x,E,v,g,u,p,d,q,O,S,z]),id:T,descendants:A,values:z,setValue:q,setValues:O,clear:ce}}function $Y(t={},n=null){const{getInputProps:r}=OY(),{index:i,register:l}=zY();return r({...t,ref:Kr(l,n),index:t.index??i})}function uj(t){const n=xi("PinInput",t),{children:r,...i}=Vn(t),{descendants:l,...u}=BY(i),d=Mc(r).map(g=>y.cloneElement(g,{__css:n}));return e.jsx(NY,{value:l,children:e.jsx(LY,{value:u,children:d})})}uj.displayName="PinInput";const pl=tt(function(n,r){const i=$Y(n,r);return e.jsx(Ve.input,{...i,className:dt("chakra-pin-input",n.className)})});pl.displayName="PinInputField";function FY(t){const n=y.version;return typeof n!="string"||n.startsWith("18.")?t?.ref:t?.props?.ref}function VY(t,n,r){return(t-n)*100/(r-n)}Pc({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});Pc({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});const UY=Pc({"0%":{left:"-40%"},"100%":{left:"100%"}}),HY=Pc({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function WY(t){const{value:n=0,min:r,max:i,valueText:l,getValueText:u,isIndeterminate:d,role:g="progressbar"}=t,p=VY(n,r,i);return{bind:{"data-indeterminate":d?"":void 0,"aria-valuemax":i,"aria-valuemin":r,"aria-valuenow":d?void 0:n,"aria-valuetext":(()=>{if(n!=null)return typeof u=="function"?u(n,p):l})(),role:g},percent:p,value:n}}const[qY,GY]=$n({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),ZY=tt((t,n)=>{const{min:r,max:i,value:l,isIndeterminate:u,role:d,...g}=t,p=WY({value:l,min:r,max:i,isIndeterminate:u,role:d}),x={height:"100%",...GY().filledTrack};return e.jsx(Ve.div,{ref:n,style:{width:`${p.percent}%`,...g.style},...p.bind,...g,__css:x})}),jc=tt((t,n)=>{const{value:r,min:i=0,max:l=100,hasStripe:u,isAnimated:d,children:g,borderRadius:p,isIndeterminate:m,"aria-label":x,"aria-labelledby":v,"aria-valuetext":S,title:E,role:C,...T}=Vn(t),A=as("Progress",t),D=p??A.track?.borderRadius,M={animation:`${HY} 1s linear infinite`},z={...!m&&u&&d&&M,...m&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${UY} 1s ease infinite normal none running`}},O={overflow:"hidden",position:"relative",...A.track};return e.jsx(Ve.div,{ref:n,borderRadius:D,__css:O,...T,children:e.jsxs(qY,{value:A,children:[e.jsx(ZY,{"aria-label":x,"aria-labelledby":v,"aria-valuetext":S,min:i,max:l,value:r,isIndeterminate:m,css:z,borderRadius:D,title:E,role:C}),g]})})});jc.displayName="Progress";const bP=tt(function(n,r){const{children:i,placeholder:l,className:u,...d}=n;return e.jsxs(Ve.select,{...d,ref:r,className:dt("chakra-select",u),children:[l&&e.jsx("option",{value:"",children:l}),i]})});bP.displayName="SelectField";const lt=tt((t,n)=>{const r=as("Select",t),{rootProps:i,placeholder:l,icon:u,color:d,height:g,h:p,minH:m,minHeight:x,iconColor:v,iconSize:S,...E}=Vn(t),[C,T]=Lz(E,ML),A=US(T),D={width:"100%",height:"fit-content",position:"relative",color:d},M={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...r.field?._focus}};return e.jsxs(Ve.div,{className:"chakra-select__wrapper",__css:D,...C,...i,children:[e.jsx(bP,{ref:n,height:p??g,minH:m??x,placeholder:l,...A,__css:M,children:t.children}),e.jsx(jP,{"data-disabled":wn(A.disabled),...(v||d)&&{color:v||d},__css:r.icon,...S&&{fontSize:S},children:u})]})});lt.displayName="Select";const YY=t=>e.jsx("svg",{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),KY=Ve("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),jP=t=>{const{children:n=e.jsx(YY,{}),...r}=t,i=y.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return e.jsx(KY,{...r,className:"chakra-select__icon-wrapper",children:y.isValidElement(n)?i:null})};jP.displayName="SelectIcon";const Pp=Ve("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Pp.displayName="Spacer";const SP=t=>e.jsx(Ve.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});SP.displayName="StackItem";function XY(t){const{spacing:n,direction:r}=t,i={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Nx(r,l=>i[l])}}const ca=tt((t,n)=>{const{isInline:r,direction:i,align:l,justify:u,spacing:d="0.5rem",wrap:g,children:p,divider:m,className:x,shouldWrapChildren:v,...S}=t,E=r?"row":i??"column",C=y.useMemo(()=>XY({spacing:d,direction:E}),[d,E]),T=!!m,A=!v&&!T,D=y.useMemo(()=>{const R=Mc(p);return A?R:R.map((P,z)=>{const O=typeof P.key<"u"?P.key:z,G=z+1===R.length,ce=v?e.jsx(SP,{children:P},O):P;if(!T)return ce;const he=y.cloneElement(m,{__css:C}),se=G?null:he;return e.jsxs(y.Fragment,{children:[ce,se]},O)})},[m,C,T,A,v,p]),M=dt("chakra-stack",x);return e.jsx(Ve.div,{ref:n,display:"flex",alignItems:l,justifyContent:u,flexDirection:E,flexWrap:g,gap:T?void 0:d,className:M,...S,children:D})});ca.displayName="Stack";const oe=tt((t,n)=>e.jsx(ca,{align:"center",...t,direction:"row",ref:n}));oe.displayName="HStack";const ie=tt((t,n)=>e.jsx(ca,{align:"center",...t,direction:"column",ref:n}));ie.displayName="VStack";const[QY,sv]=$n({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),jt=tt(function(n,r){const i=as("Stat",n),l={position:"relative",flex:"1 1 0%",...i.container},{className:u,children:d,...g}=Vn(n);return e.jsx(QY,{value:i,children:e.jsx(Ve.div,{ref:r,...g,className:dt("chakra-stat",u),__css:l,children:e.jsx("dl",{children:d})})})});jt.displayName="Stat";const EP=t=>e.jsx(qn,{color:"red.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})});EP.displayName="StatDownArrow";function CP(t){return e.jsx(qn,{color:"green.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})})}CP.displayName="StatUpArrow";function Gd(t){const{type:n,"aria-label":r,...i}=t,l=sv(),u=n==="increase"?CP:EP,g=r||(n==="increase"?"increased by":"decreased by");return e.jsxs(e.Fragment,{children:[e.jsx(Ve.span,{srOnly:!0,children:g}),e.jsx(u,{"aria-hidden":!0,...i,__css:l.icon})]})}Gd.displayName="StatArrow";const m1=tt(function(n,r){return e.jsx(Ve.div,{...n,ref:r,role:"group",className:dt("chakra-stat__group",n.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})});m1.displayName="StatGroup";const eo=tt(function(n,r){const i=sv();return e.jsx(Ve.dd,{ref:r,...n,className:dt("chakra-stat__help-text",n.className),__css:i.helpText})});eo.displayName="StatHelpText";const bt=tt(function(n,r){const i=sv();return e.jsx(Ve.dt,{ref:r,...n,className:dt("chakra-stat__label",n.className),__css:i.label})});bt.displayName="StatLabel";const yt=tt(function(n,r){const i=sv();return e.jsx(Ve.dd,{ref:r,...n,className:dt("chakra-stat__number",n.className),__css:{...i.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});yt.displayName="StatNumber";const Sr=tt(function(n,r){const i=as("Switch",n),{spacing:l="0.5rem",children:u,...d}=Vn(n),{getIndicatorProps:g,getInputProps:p,getCheckboxProps:m,getRootProps:x,getLabelProps:v}=rM(d),S=y.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...i.container}),[i.container]),E=y.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...i.track}),[i.track]),C=y.useMemo(()=>({userSelect:"none",marginStart:l,...i.label}),[l,i.label]);return e.jsxs(Ve.label,{...x(),className:dt("chakra-switch",n.className),__css:S,children:[e.jsx("input",{className:"chakra-switch__input",...p({},r)}),e.jsx(Ve.span,{...m(),className:"chakra-switch__track",__css:E,children:e.jsx(Ve.span,{__css:i.thumb,className:"chakra-switch__thumb",...g()})}),u&&e.jsx(Ve.span,{className:"chakra-switch__label",...v(),__css:C,children:u})]})});Sr.displayName="Switch";const[JY,Jp]=$n({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),dr=tt((t,n)=>{const r=as("Table",t),{className:i,layout:l,...u}=Vn(t);return e.jsx(JY,{value:r,children:e.jsx(Ve.table,{ref:n,__css:{tableLayout:l,...r.table},className:dt("chakra-table",i),...u})})});dr.displayName="Table";const pr=tt((t,n)=>{const r=Jp();return e.jsx(Ve.tbody,{...t,ref:n,__css:r.tbody})}),Le=tt(({isNumeric:t,...n},r)=>{const i=Jp();return e.jsx(Ve.td,{...n,ref:r,__css:i.td,"data-is-numeric":t})}),$e=tt(({isNumeric:t,...n},r)=>{const i=Jp();return e.jsx(Ve.th,{...n,ref:r,__css:i.th,"data-is-numeric":t})}),mr=tt((t,n)=>{const r=Jp();return e.jsx(Ve.thead,{...t,ref:n,__css:r.thead})}),Ft=tt((t,n)=>{const r=Jp();return e.jsx(Ve.tr,{...t,ref:n,__css:r.tr})}),[eK,tK,nK,rK]=Kx();function sK(t){const{defaultIndex:n,onChange:r,index:i,isManual:l,isLazy:u,lazyBehavior:d="unmount",orientation:g="horizontal",direction:p="ltr",...m}=t,[x,v]=y.useState(n??0),[S,E]=Fp({defaultValue:n??0,value:i,onChange:r});y.useEffect(()=>{i!=null&&v(i)},[i]);const C=nK(),T=y.useId();return{id:`tabs-${t.id??T}`,selectedIndex:S,focusedIndex:x,setSelectedIndex:E,setFocusedIndex:v,isManual:l,isLazy:u,lazyBehavior:d,orientation:g,descendants:C,direction:p,htmlProps:m}}const[iK,iv]=$n({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function oK(t){const{focusedIndex:n,orientation:r,direction:i}=iv(),l=tK(),u=y.useCallback(d=>{const g=()=>{const M=l.nextEnabled(n);M&&M.node?.focus()},p=()=>{const M=l.prevEnabled(n);M&&M.node?.focus()},m=()=>{const M=l.firstEnabled();M&&M.node?.focus()},x=()=>{const M=l.lastEnabled();M&&M.node?.focus()},v=r==="horizontal",S=r==="vertical",E=d.key,C=i==="ltr"?"ArrowLeft":"ArrowRight",T=i==="ltr"?"ArrowRight":"ArrowLeft",D={[C]:()=>v&&p(),[T]:()=>v&&g(),ArrowDown:()=>S&&g(),ArrowUp:()=>S&&p(),Home:m,End:x}[E];D&&(d.preventDefault(),D(d))},[l,n,r,i]);return{...t,role:"tablist","aria-orientation":r,onKeyDown:on(t.onKeyDown,u)}}function aK(t){const{isDisabled:n=!1,isFocusable:r=!1,...i}=t,{setSelectedIndex:l,isManual:u,id:d,setFocusedIndex:g,selectedIndex:p}=iv(),{index:m,register:x}=rK({disabled:n&&!r}),v=m===p,S=()=>{l(m)},E=()=>{g(m),!u&&!(n&&r)&&l(m)};return{...QM({...i,ref:Kr(x,t.ref),isDisabled:n,isFocusable:r,onClick:on(t.onClick,S)}),id:wP(d,m),role:"tab",tabIndex:v?0:-1,type:"button","aria-selected":v,"aria-controls":_P(d,m),onFocus:n?void 0:on(t.onFocus,E)}}const[lK,cK]=$n({});function uK(t){const n=iv(),{id:r,selectedIndex:i}=n,u=Mc(t.children).map((d,g)=>y.createElement(lK,{key:d.key??g,value:{isSelected:g===i,id:_P(r,g),tabId:wP(r,g),selectedIndex:i}},d));return{...t,children:u}}function dK(t){const{children:n,...r}=t,{isLazy:i,lazyBehavior:l}=iv(),{isSelected:u,id:d,tabId:g}=cK(),p=y.useRef(!1);u&&(p.current=!0);const m=vA({wasSelected:p.current,isSelected:u,enabled:i,mode:l});return{tabIndex:0,...r,children:m?n:null,role:"tabpanel","aria-labelledby":g,hidden:!u,id:d}}function wP(t,n){return`${t}--tab-${n}`}function _P(t,n){return`${t}--tabpanel-${n}`}const[hK,ov]=$n({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),ao=tt(function(n,r){const i=as("Tabs",n),{children:l,className:u,...d}=Vn(n),{htmlProps:g,descendants:p,...m}=sK(d),x=y.useMemo(()=>m,[m]),{isFitted:v,...S}=g,E={position:"relative",...i.root};return e.jsx(eK,{value:p,children:e.jsx(iK,{value:x,children:e.jsx(hK,{value:i,children:e.jsx(Ve.div,{className:dt("chakra-tabs",u),ref:r,...S,__css:E,children:l})})})})});ao.displayName="Tabs";const ln=tt(function(n,r){const i=ov(),l=aK({...n,ref:r}),u={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...i.tab};return e.jsx(Ve.button,{...l,className:dt("chakra-tabs__tab",n.className),__css:u})});ln.displayName="Tab";const lo=tt(function(n,r){const i=oK({...n,ref:r}),l=ov(),u={display:"flex",...l.tablist};return e.jsx(Ve.div,{...i,className:dt("chakra-tabs__tablist",n.className),__css:u})});lo.displayName="TabList";const cn=tt(function(n,r){const i=dK({...n,ref:r}),l=ov();return e.jsx(Ve.div,{outline:"0",...i,className:dt("chakra-tabs__tab-panel",n.className),__css:l.tabpanel})});cn.displayName="TabPanel";const Bo=tt(function(n,r){const i=uK(n),l=ov();return e.jsx(Ve.div,{...i,width:"100%",ref:r,className:dt("chakra-tabs__tab-panels",n.className),__css:l.tabpanels})});Bo.displayName="TabPanels";const[fK,TP]=$n({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),$u=tt((t,n)=>{const r=as("Tag",t),i=Vn(t),l={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...r.container};return e.jsx(fK,{value:r,children:e.jsx(Ve.span,{ref:n,...i,__css:l})})});$u.displayName="Tag";const Fu=tt((t,n)=>{const r=TP();return e.jsx(Ve.span,{ref:n,noOfLines:1,...t,__css:r.label})});Fu.displayName="TagLabel";const pK=tt((t,n)=>e.jsx(qn,{ref:n,verticalAlign:"top",marginEnd:"0.5rem",...t}));pK.displayName="TagLeftIcon";const mK=tt((t,n)=>e.jsx(qn,{ref:n,verticalAlign:"top",marginStart:"0.5rem",...t}));mK.displayName="TagRightIcon";const AP=t=>e.jsx(qn,{verticalAlign:"inherit",viewBox:"0 0 512 512",...t,children:e.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});AP.displayName="TagCloseIcon";const g1=tt((t,n)=>{const{isDisabled:r,children:i,...l}=t,d={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...TP().closeButton};return e.jsx(Ve.button,{ref:n,"aria-label":"close",...l,type:"button",disabled:r,__css:d,children:i||e.jsx(AP,{})})});g1.displayName="TagCloseButton";const gK=["h","minH","height","minHeight"],Yt=tt((t,n)=>{const r=xi("Textarea",t),{className:i,rows:l,...u}=Vn(t),d=US(u),g=l?Bp(r,gK):r;return e.jsx(Ve.textarea,{ref:n,rows:l,...d,className:dt("chakra-textarea",i),__css:g})});Yt.displayName="Textarea";function xK(t,n){const r=t??"bottom";return{"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r]?.[n]??r}function vK(t,n){const r=l=>({...n,...l,position:xK(l?.position??n?.position,t)}),i=l=>{const u=r(l),d=Uk(u);return Pa.notify(d,u)};return i.update=(l,u)=>{Pa.update(l,r(u))},i.promise=(l,u)=>{const d=i({...u.loading,status:"loading",duration:null});l.then(g=>i.update(d,{status:"success",duration:5e3,...to(u.success,g)})).catch(g=>i.update(d,{status:"error",duration:5e3,...to(u.error,g)}))},i.closeAll=Pa.closeAll,i.close=Pa.close,i.isActive=Pa.isActive,i}function mn(t){const{theme:n}=Ok(),r=UU();return y.useMemo(()=>vK(n.direction,{...r,...t}),[t,n.direction,r])}const yK={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},dj=t=>t.current?.ownerDocument||document,rx=t=>t.current?.ownerDocument?.defaultView||window;function bK(t={}){const{openDelay:n=0,closeDelay:r=0,closeOnClick:i=!0,closeOnMouseDown:l,closeOnScroll:u,closeOnPointerDown:d=l,closeOnEsc:g=!0,onOpen:p,onClose:m,placement:x,id:v,isOpen:S,defaultIsOpen:E,arrowSize:C=10,arrowShadowColor:T,arrowPadding:A,modifiers:D,isDisabled:M,gutter:R,offset:P,direction:z,...O}=t,{isOpen:G,onOpen:q,onClose:ce}=Nt({isOpen:S,defaultIsOpen:E,onOpen:p,onClose:m}),{referenceRef:he,getPopperProps:se,getArrowInnerProps:ge,getArrowProps:Ae}=XM({enabled:G,placement:x,arrowPadding:A,modifiers:D,gutter:R,offset:P,direction:z}),de=y.useId(),K=`tooltip-${v??de}`,W=y.useRef(null),H=y.useRef(void 0),Ee=y.useCallback(()=>{H.current&&(clearTimeout(H.current),H.current=void 0)},[]),B=y.useRef(void 0),ae=y.useCallback(()=>{B.current&&(clearTimeout(B.current),B.current=void 0)},[]),me=y.useCallback(()=>{ae(),ce()},[ce,ae]),$=jK(W,me),F=y.useCallback(()=>{if(!M&&!H.current){G&&$();const rt=rx(W);H.current=rt.setTimeout(q,n)}},[$,M,G,q,n]),U=y.useCallback(()=>{Ee();const rt=rx(W);B.current=rt.setTimeout(me,r)},[r,me,Ee]),Y=y.useCallback(()=>{G&&i&&U()},[i,U,G]),be=y.useCallback(()=>{G&&d&&U()},[d,U,G]),Te=y.useCallback(rt=>{G&&rt.key==="Escape"&&U()},[G,U]);Jf(()=>dj(W),"keydown",g?Te:void 0),Jf(()=>{if(!u)return null;const rt=W.current;if(!rt)return null;const zt=SA(rt);return zt.localName==="body"?rx(W):zt},"scroll",()=>{G&&u&&me()},{passive:!0,capture:!0}),y.useEffect(()=>{M&&(Ee(),G&&ce())},[M,G,ce,Ee]),y.useEffect(()=>()=>{Ee(),ae()},[Ee,ae]),Jf(()=>W.current,"pointerleave",U);const Re=y.useCallback((rt={},zt=null)=>({...rt,ref:Kr(W,zt,he),onPointerEnter:on(rt.onPointerEnter,qt=>{qt.pointerType!=="touch"&&F()}),onClick:on(rt.onClick,Y),onPointerDown:on(rt.onPointerDown,be),onFocus:on(rt.onFocus,F),onBlur:on(rt.onBlur,U),"aria-describedby":G?K:void 0}),[F,U,be,G,K,Y,he]),nt=y.useCallback((rt={},zt=null)=>se({...rt,style:{...rt.style,[Ls.arrowSize.var]:C?`${C}px`:void 0,[Ls.arrowShadowColor.var]:T}},zt),[se,C,T]),ht=y.useCallback((rt={},zt=null)=>{const Ue={...rt.style,position:"relative",transformOrigin:Ls.transformOrigin.varRef};return{ref:zt,...O,...rt,id:K,role:"tooltip",style:Ue}},[O,K]);return{isOpen:G,show:F,hide:U,getTriggerProps:Re,getTooltipProps:ht,getTooltipPositionerProps:nt,getArrowProps:Ae,getArrowInnerProps:ge}}const Wy="chakra-ui:close-tooltip";function jK(t,n){return y.useEffect(()=>{const r=dj(t);return r.addEventListener(Wy,n),()=>r.removeEventListener(Wy,n)},[n,t]),()=>{const r=dj(t),i=rx(t);r.dispatchEvent(new i.CustomEvent(Wy))}}const SK=Ve(Wa.div),Qs=tt((t,n)=>{const r=xi("Tooltip",t),i=Vn(t),l=Wu(),{children:u,label:d,shouldWrapChildren:g,"aria-label":p,hasArrow:m,bg:x,portalProps:v,background:S,backgroundColor:E,bgColor:C,motionProps:T,animatePresenceProps:A,...D}=i,M=S??E??x??C;if(M){r.bg=M;const he=FL(l,"colors",M);r[Ls.arrowBg.var]=he}const R=bK({...D,direction:l.direction}),P=!y.isValidElement(u)||g;let z;if(P)z=e.jsx(Ve.span,{display:"inline-block",tabIndex:0,...R.getTriggerProps(),children:u});else{const he=y.Children.only(u);z=y.cloneElement(he,R.getTriggerProps(he.props,FY(he)))}const O=!!p,G=R.getTooltipProps({},n),q=O?Bp(G,["role","id"]):G,ce=bA(G,["role","id"]);return d?e.jsxs(e.Fragment,{children:[z,e.jsx(Dc,{...A,children:R.isOpen&&e.jsx(Ch,{...v,children:e.jsx(Ve.div,{...R.getTooltipPositionerProps(),__css:{zIndex:r.zIndex,pointerEvents:"none"},children:e.jsxs(SK,{variants:yK,initial:"exit",animate:"enter",exit:"exit",...T,...q,__css:r,children:[d,O&&e.jsx(Ve.span,{srOnly:!0,...ce,children:p}),m&&e.jsx(Ve.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:e.jsx(Ve.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:r.bg}})})]})})})})]}):e.jsx(e.Fragment,{children:u})});Qs.displayName="Tooltip";const De=tt(function(n,r){const i=xi("Heading",n),{className:l,...u}=Vn(n);return e.jsx(Ve.h2,{ref:r,className:dt("chakra-heading",n.className),...u,__css:i})});De.displayName="Heading";const k=tt(function(n,r){const i=xi("Text",n),{className:l,align:u,decoration:d,casing:g,...p}=Vn(n),m=Op({textAlign:n.align,textDecoration:n.decoration,textTransform:n.casing});return e.jsx(Ve.p,{ref:r,className:dt("chakra-text",n.className),...m,...p,__css:i})});k.displayName="Text";const RP=Ve("span",{baseStyle:WS});RP.displayName="VisuallyHidden";const EK=Ve("input",{baseStyle:WS});EK.displayName="VisuallyHiddenInput";const kP=tt(function(n,r){const{spacing:i="0.5rem",spacingX:l,spacingY:u,children:d,justify:g,direction:p,align:m,className:x,shouldWrapChildren:v,...S}=n,E=y.useMemo(()=>v?y.Children.map(d,(C,T)=>e.jsx(MP,{children:C},T)):d,[d,v]);return e.jsx(Ve.div,{ref:r,className:dt("chakra-wrap",x),...S,children:e.jsx(Ve.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:g,alignItems:m,flexDirection:p,listStyleType:"none",gap:i,columnGap:l,rowGap:u,padding:"0"},children:E})})});kP.displayName="Wrap";const MP=tt(function(n,r){const{className:i,...l}=n;return e.jsx(Ve.li,{ref:r,__css:{display:"flex",alignItems:"flex-start"},className:dt("chakra-wrap__listitem",i),...l})});MP.displayName="WrapItem";const CK=XH({fonts:{heading:"Montserrat, system-ui, sans-serif",body:"Montserrat, system-ui, sans-serif"},styles:{global:{body:{fontFamily:"Montserrat, system-ui, sans-serif",bg:"gray.50",color:"gray.800"},"*":{borderColor:"gray.200"}}},colors:{rbe:{50:"#fef2f4",100:"#fde2e7",200:"#facbd4",300:"#f5a3b2",400:"#ed7189",500:"#e14964",600:"#be003c",700:"#9f1d3d",800:"#881b38",900:"#751a35"},brand:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},gray:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"}},semanticTokens:{colors:{primary:{default:"rbe.600",_dark:"rbe.400"},accent:{default:"rbe.500",_dark:"rbe.300"},background:{default:"gray.50",_dark:"gray.900"},surface:{default:"white",_dark:"gray.800"},muted:{default:"gray.100",_dark:"gray.700"}}},components:{Card:{baseStyle:{container:{fontFamily:"Montserrat, system-ui, sans-serif",borderRadius:"xl",boxShadow:"sm",border:"1px solid",borderColor:"gray.200",transition:"all 0.2s ease-out",_hover:{boxShadow:"md",transform:"translateY(-2px)"}}},variants:{modern:{container:{bg:"white",borderRadius:"2xl",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"none",_hover:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transform:"translateY(-4px)"}}},gradient:{container:{bgGradient:"linear(to-br, rbe.500, rbe.700)",color:"white",border:"none",_hover:{bgGradient:"linear(to-br, rbe.400, rbe.600)"}}}}},Heading:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",letterSpacing:"-0.025em",lineHeight:"shorter"},variants:{page:{fontSize:{base:"2xl",md:"4xl"},fontWeight:"800",bgGradient:"linear(to-r, rbe.600, rbe.800)",bgClip:"text",textAlign:"center",mb:2},section:{fontSize:{base:"xl",md:"2xl"},fontWeight:"700",color:"gray.800",mb:4},card:{fontSize:{base:"lg",md:"xl"},fontWeight:"600",color:"gray.700"}}},Text:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",lineHeight:"relaxed"},variants:{subtitle:{fontSize:{base:"md",md:"lg"},color:"gray.600",textAlign:"center",maxW:"2xl",mx:"auto"},description:{fontSize:"sm",color:"gray.600",lineHeight:"relaxed"}}},Button:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",borderRadius:"lg",transition:"all 0.2s ease-out",_focus:{boxShadow:"0 0 0 3px rgba(190, 0, 60, 0.1)"}},variants:{primary:{bg:"rbe.600",color:"white",_hover:{bg:"rbe.700",transform:"translateY(-1px)",boxShadow:"lg"},_active:{bg:"rbe.800"}},secondary:{bg:"white",color:"rbe.600",borderWidth:"2px",borderColor:"rbe.600",_hover:{bg:"rbe.50",transform:"translateY(-1px)"}},modern:{bg:"white",color:"gray.700",borderWidth:"1px",borderColor:"gray.300",boxShadow:"sm",_hover:{bg:"gray.50",borderColor:"gray.400",transform:"translateY(-1px)",boxShadow:"md"}}},sizes:{modern:{h:"12",px:"6",fontSize:"sm",fontWeight:"600"}}},Container:{baseStyle:{maxW:"container.xl",px:{base:4,md:8}}},Badge:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",fontSize:"xs",textTransform:"none",borderRadius:"md",px:2,py:1}},Modal:{baseStyle:{dialog:{borderRadius:"2xl",boxShadow:"2xl"},header:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",fontSize:"xl",color:"gray.800"}}}},breakpoints:{base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},shadows:{modern:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","modern-lg":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",rbe:"0 4px 14px 0 rgba(190, 0, 60, 0.15)"},radii:{modern:"12px","modern-lg":"16px","modern-xl":"20px"}}),wK=[{code:"ADMIN",label:"Administrateur"},{code:"VOLUNTEER",label:"Bnvole"},{code:"DRIVER",label:"Conducteur"},{code:"MEMBER",label:"Membre"},{code:"PRESIDENT",label:"Prsident (hritage)"},{code:"VICE_PRESIDENT",label:"Vice-prsident (hritage)"},{code:"TRESORIER",label:"Trsorier (hritage)"},{code:"SECRETAIRE_GENERAL",label:"Secrtaire gnral (hritage)"}];function _K(t){if(!t)return"MEMBER";let n=String(t).trim().toUpperCase().replace(/[-\s]+/g,"_");const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN",BENEVOLE:"VOLUNTEER",BNVOLE:"VOLUNTEER",BENEVOLES:"VOLUNTEER",BNVOLES:"VOLUNTEER",CONDUCTEUR:"DRIVER",CONDUCTEURS:"DRIVER",MEMBRE:"MEMBER",MEMBRES:"MEMBER"};return r[n]&&(n=r[n]),new Set(wK.map(l=>l.code)).has(n)?n:"MEMBER"}const TK=Nl({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),AK=Nl({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),em=Nl({displayName:"ViewIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),RK=Nl({displayName:"ViewOffIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.jsx("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),PP=Nl({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),av=Nl({displayName:"DeleteIcon",path:e.jsx("g",{fill:"currentColor",children:e.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),x1=Nl({displayName:"EditIcon",path:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),kK=Nl({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),MK=Nl({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});function PK({isOpen:t,onPasswordChanged:n}){const[r,i]=y.useState(""),[l,u]=y.useState(""),[d,g]=y.useState(!1),[p,m]=y.useState(!1),[x,v]=y.useState(""),E=(T=>{let A=0;return T.length>=8&&(A+=25),/[A-Z]/.test(T)&&(A+=25),/[a-z]/.test(T)&&(A+=25),/[0-9]/.test(T)&&(A+=25),A})(r),C=async T=>{if(T.preventDefault(),v(""),r.length<6){v("Le mot de passe doit contenir au moins 6 caractres");return}if(r!==l){v("Les mots de passe ne correspondent pas");return}m(!0);try{const A=await fetch("https://attractive-kindness-rbe-serveurs.up.railway.app/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newPassword:r})}),D=await A.json();if(!A.ok)throw new Error(D.error||"Erreur de changement de mot de passe");n()}catch(A){v(A.message)}finally{m(!1)}};return e.jsxs(Ct,{isOpen:t,closeOnOverlayClick:!1,closeOnEsc:!1,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Changement de mot de passe obligatoire"}),e.jsxs(wt,{pb:6,children:[e.jsxs(Ut,{status:"info",mb:4,children:[e.jsx(Ht,{}),"Vous devez changer votre mot de passe temporaire avant de continuer."]}),e.jsx("form",{onSubmit:C,children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nouveau mot de passe"}),e.jsxs(Tc,{children:[e.jsx(ye,{type:d?"text":"password",value:r,onChange:T=>i(T.target.value),placeholder:"Au moins 6 caractres"}),e.jsx(i1,{children:e.jsx(xt,{variant:"ghost",size:"sm",icon:d?e.jsx(RK,{}):e.jsx(em,{}),onClick:()=>g(!d)})})]}),r&&e.jsxs(ie,{align:"start",spacing:1,mt:2,children:[e.jsx(k,{fontSize:"xs",color:"gray.600",children:"Force du mot de passe:"}),e.jsx(jc,{value:E,colorScheme:E<50?"red":E<75?"yellow":"green",size:"sm",width:"100%"})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Confirmer le mot de passe"}),e.jsx(ye,{type:d?"text":"password",value:l,onChange:T=>u(T.target.value),placeholder:"Retapez le nouveau mot de passe"})]}),x&&e.jsx(k,{color:"red.500",fontSize:"sm",children:x}),e.jsx(te,{type:"submit",colorScheme:"blue",width:"100%",isLoading:p,isDisabled:!r||!l,children:"Changer le mot de passe"})]})})]})]})]})}const DP=y.createContext(null);function DK({children:t}){const[n,r]=y.useState(()=>localStorage.getItem("token")||""),[i,l]=y.useState(()=>{const me=localStorage.getItem("user");return me?JSON.parse(me):null}),[u,d]=y.useState(!1),[g,p]=y.useState(!1),m=!!n,[x,v]=y.useState(null),[S,E]=y.useState(!1),[C,T]=y.useState(null),[A,D]=y.useState(null),M=y.useRef(0),[R,P]=y.useState(null),[z,O]=y.useState(!1);y.useEffect(()=>{n?localStorage.setItem("token",n):localStorage.removeItem("token")},[n]),y.useEffect(()=>{i?localStorage.setItem("user",JSON.stringify(i)):localStorage.removeItem("user")},[i]);const G=()=>{r(""),l(null),v(null),T(null),D(null),localStorage.removeItem("token"),localStorage.removeItem("user")},q=async()=>{if(!n)return l(null),p(!0),!1;const me="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),$=String(n).startsWith("local-dev-token-");if(!me||$)return p(!0),!0;try{const F=await fetch(`${me}/api/me`,{headers:{Authorization:`Bearer ${n}`}});if(!F.ok)throw new Error(`HTTP ${F.status}`);const U=await F.json();if(U?.disabled===!0||U?.active===!1||U?.status==="DISABLED")return G(),p(!0),!1;const be=(()=>{const Te=U?.username||U?.matricule||U?.login||(U?.email?String(U.email).split("@")[0]:""),Re=U?.prenom||U?.firstName||U?.given_name||"",nt=U?.nom||U?.lastName||U?.family_name||"";return{...U,username:Te,prenom:Re,nom:nt}})();return l(be),d(!!U.mustChangePassword),p(!0),!0}catch{return G(),p(!0),!1}},ce=()=>{const me="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),$=[];return me&&$.push(me),$.push(""),$},he=async(me=!1)=>{if(!n)return v(null),T("no-token"),null;const $=Date.now();if(!me&&$-M.current<500)return x;M.current=$,E(!0),T(null);try{const F=ce();let U=!1,Y=null;for(const be of F)try{const Te=await fetch(`${be}/api/members/me`,{headers:{Authorization:`Bearer ${n}`}});if(Y=Te.status,Te.ok){const Re=await Te.json();v(Re),D(be||null),U=!0;break}}catch{Y="network";continue}return U?x:(v(null),T(Y),null)}finally{E(!1)}},se=async()=>{if(!i?.id||!n)return P(null),null;O(!0);try{const me=ce();for(const $ of me)try{const F=await fetch(`${$}/api/admin/users/${i.id}/permissions`,{headers:{Authorization:`Bearer ${n}`}});if(F.ok){const U=await F.json(),Y=U.permissions&&Array.isArray(U.permissions)&&U.permissions.length>0?U.permissions:null;return P(Y),Y}}catch{continue}return P(null),null}finally{O(!1)}};y.useEffect(()=>{q()},[]),y.useEffect(()=>{n?q().then(me=>{me&&(he(),se())}):p(!0)},[n]),y.useEffect(()=>{const me=()=>q();window.addEventListener("focus",me);const $=setInterval(()=>q(),300*1e3);return()=>{window.removeEventListener("focus",me),clearInterval($)}},[n]);const ge=i?.username||"",Ae=i?.prenom||"",de=i?.nom||"",re=(i?.roles||[]).map(me=>_K(me)),K=re.includes("ADMIN")||re.includes("PRESIDENT")||re.includes("VICE_PRESIDENT")||re.includes("TRESORIER")||re.includes("SECRETAIRE_GENERAL"),W=re.includes("VOLUNTEER"),H=re.includes("DRIVER"),Ee=re.includes("MEMBER"),B=i?.username||"",ae=y.useMemo(()=>({token:n,setToken:r,user:i,setUser:l,isAuthenticated:m,username:ge,prenom:Ae,nom:de,roles:re,isAdmin:K,isVolunteer:W,isDriver:H,isMember:Ee,matricule:B,logout:G,sessionChecked:g,ensureSession:q,member:x,memberLoading:S,memberError:C,memberApiBase:A,refreshMember:he,customPermissions:R,permissionsLoading:z,refreshPermissions:se}),[n,i,m,ge,Ae,de,re,K,W,H,Ee,B,g,x,S,C,A,R,z]);return e.jsxs(DP.Provider,{value:ae,children:[t,e.jsx(PK,{isOpen:u,onPasswordChanged:()=>{d(!1),n&&q()}})]})}function xs(){return y.useContext(DP)}const ko="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),Mf=(t={})=>({"Content-Type":"application/json",...t.headers}),Pf=(t,n={})=>({"Content-Type":"application/json",Authorization:`Bearer ${t}`,...n.headers}),Ta=async t=>{const n=t.headers.get("content-type");if(n&&n.includes("application/json"))try{return await t.json()}catch(r){throw console.error(" Erreur parsing JSON:",r),new Error("Rponse JSON invalide du serveur")}else{const r=await t.text();throw console.error(" Rponse non-JSON reue:",r.substring(0,200)+"..."),r.includes("<!DOCTYPE")?new Error("Le serveur a renvoy une page HTML au lieu de JSON. Vrifiez l'URL de l'API."):new Error(`Rponse inattendue du serveur (${t.status}): ${r.substring(0,100)}`)}},Pt={baseURL:ko,get:async(t,n={})=>{const r=localStorage.getItem("token"),i=r?Pf(r,n):Mf(n);console.log(` GET ${ko}${t}`);try{const l=await fetch(`${ko}${t}`,{method:"GET",headers:i,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const u=await Ta(l),d=u?.error||u?.message||`HTTP ${l.status}`;throw new Error(d)}return await Ta(l)}catch(l){throw console.error(` Erreur GET ${t}:`,l.message),l}},post:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?Pf(i,r):Mf(r);console.log(` POST ${ko}${t}`,n);try{const u=await fetch(`${ko}${t}`,{method:"POST",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await Ta(u),g=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(g)}return await Ta(u)}catch(u){throw console.error(` Erreur POST ${t}:`,u.message),u}},put:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?Pf(i,r):Mf(r);console.log(` PUT ${ko}${t}`,n);try{const u=await fetch(`${ko}${t}`,{method:"PUT",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await Ta(u),g=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(g)}return await Ta(u)}catch(u){throw console.error(` Erreur PUT ${t}:`,u.message),u}},patch:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?Pf(i,r):Mf(r);console.log(` PATCH ${ko}${t}`,n);try{const u=await fetch(`${ko}${t}`,{method:"PATCH",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await Ta(u),g=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(g)}return await Ta(u)}catch(u){throw console.error(` Erreur PATCH ${t}:`,u.message),u}},delete:async(t,n={})=>{const r=localStorage.getItem("token"),i=r?Pf(r,n):Mf(n);console.log(` DELETE ${ko}${t}`);try{const l=await fetch(`${ko}${t}`,{method:"DELETE",headers:i,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await Ta(l),g=d?.error||d?.message||`HTTP ${l.status}`;throw new Error(g)}return l.headers.get("content-length")==="0"||l.status===204?{success:!0}:await Ta(l)}catch(l){throw console.error(` Erreur DELETE ${t}:`,l.message),l}}},lv={getActive:async()=>{console.log(" API: getActive flashs...");const t=await Pt.get("/flashes");return console.log(" API: getActive result:",t),t},getAll:async()=>{console.log(" API: getAll flashs...");const t=await Pt.get("/flashes/all");return console.log(" API: getAll result:",t),t},create:async t=>{console.log(" API: create flash:",t);const n=await Pt.post("/flashes",t);return console.log(" API: create result:",n),n},update:async(t,n)=>{console.log(" API: update flash:",t,n);const r=await Pt.put(`/flashes/${t}`,n);return console.log(" API: update result:",r),r},delete:async t=>{console.log(" API: delete flash:",t);const n=await Pt.delete(`/flashes/${t}`);return console.log(" API: delete result:",n),n}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,i)=>i?i.toUpperCase():r.toLowerCase()),CT=t=>{const n=IK(t);return n.charAt(0).toUpperCase()+n.slice(1)},NP=(...t)=>t.filter((n,r,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===r).join(" ").trim(),zK=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=y.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:d,...g},p)=>y.createElement("svg",{ref:p,...LK,width:n,height:n,stroke:t,strokeWidth:i?Number(r)*24/Number(n):r,className:NP("lucide",l),...!u&&!zK(g)&&{"aria-hidden":"true"},...g},[...d.map(([m,x])=>y.createElement(m,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=(t,n)=>{const r=y.forwardRef(({className:i,...l},u)=>y.createElement(OK,{ref:u,iconNode:n,className:NP(`lucide-${NK(CT(t))}`,`lucide-${t}`,i),...l}));return r.displayName=CT(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wT=tm("bell",BK);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FK=tm("check",$K);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UK=tm("settings",VK);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],WK=tm("trash-2",HK);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GK=tm("x",qK);function ZK(){const[t,n]=y.useState([]),[r,i]=y.useState(0),[l,u]=y.useState(!1),[d,g]=y.useState(!1),[p,m]=y.useState(!1),[x,v]=y.useState({}),S=y.useCallback(async()=>{try{const M=localStorage.getItem("token");if(!M)return;const R=await fetch("/api/notifications/inbox?limit=20",{headers:{Authorization:`Bearer ${M}`}});if(!R.ok)throw new Error("Failed to fetch");const P=await R.json();P.success&&(n(P.messages||[]),i(P.unread||0))}catch(M){console.error(" Fetch notifications error:",M)}},[]),E=y.useCallback(async()=>{try{const M=localStorage.getItem("token");if(!M)return;const R=await fetch("/api/notifications/preferences",{headers:{Authorization:`Bearer ${M}`}});if(R.ok){const P=await R.json();v(P.preferences||{})}}catch(M){console.error(" Fetch preferences error:",M)}},[]),C=async M=>{try{const R=localStorage.getItem("token");(await fetch(`/api/notifications/mark-read/${M}`,{method:"PATCH",headers:{Authorization:`Bearer ${R}`}})).ok&&S()}catch(R){console.error(" Mark read error:",R)}},T=async M=>{try{const R=localStorage.getItem("token");(await fetch(`/api/notifications/message/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`}})).ok&&S()}catch(R){console.error(" Delete error:",R)}},A=async()=>{try{const M=localStorage.getItem("token");(await fetch("/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${M}`}})).ok&&S()}catch(M){console.error(" Mark all read error:",M)}},D=async(M,R)=>{try{const P=localStorage.getItem("token");(await fetch("/api/notifications/preferences",{method:"PUT",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({[M]:R})})).ok&&E()}catch(P){console.error(" Update preferences error:",P)}};return y.useEffect(()=>{S(),E();const M=setInterval(S,3e4);return()=>clearInterval(M)},[S,E]),e.jsxs("div",{className:"notification-center",children:[e.jsxs("button",{className:"bell-button",onClick:()=>{u(!l),m(!1)},title:"Notifications",children:[e.jsx(wT,{size:20}),r>0&&e.jsx("span",{className:"badge",children:r>9?"9+":r})]}),l&&e.jsxs("div",{className:"notification-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsxs("h3",{children:["Notifications ",t.length>0&&`(${t.length})`]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"icon-button",onClick:()=>m(!p),title:"Paramtres",children:e.jsx(UK,{size:16})}),e.jsx("button",{className:"close-button",onClick:()=>u(!1),children:e.jsx(GK,{size:16})})]})]}),e.jsx("div",{className:"popup-content",children:p?e.jsxs("div",{className:"preferences-panel",children:[e.jsx("h4",{children:"Prfrences de notification"}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.ticketNotifications!==!1,onChange:M=>D("ticketNotifications",M.target.checked)}),e.jsx("span",{children:" Notifications de tickets"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.eventNotifications!==!1,onChange:M=>D("eventNotifications",M.target.checked)}),e.jsx("span",{children:" Notifications d'vnements"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.reportNotifications!==!1,onChange:M=>D("reportNotifications",M.target.checked)}),e.jsx("span",{children:" Notifications de rapports"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.maintenanceNotifications!==!1,onChange:M=>D("maintenanceNotifications",M.target.checked)}),e.jsx("span",{children:" Alertes de maintenance"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.systemNotifications!==!1,onChange:M=>D("systemNotifications",M.target.checked)}),e.jsx("span",{children:" Messages systme"})]})]}):e.jsx(e.Fragment,{children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(wT,{size:48}),e.jsx("p",{children:"Aucune notification"})]}):e.jsxs("div",{className:"messages-list",children:[r>0&&e.jsx("div",{className:"mark-all-read",children:e.jsx("button",{onClick:A,children:" Marquer tout comme lu"})}),t.map(M=>e.jsxs("div",{className:`message-item ${M.readAt?"read":"unread"}`,children:[e.jsxs("div",{className:"message-header",children:[e.jsx("strong",{children:M.title}),e.jsx("small",{children:YK(new Date(M.createdAt))})]}),e.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:M.content}}),e.jsxs("div",{className:"message-footer",children:[e.jsx("small",{className:"type-badge",children:M.type}),e.jsxs("div",{className:"message-actions",children:[!M.readAt&&e.jsx("button",{className:"action-button",onClick:()=>C(M.id),title:"Marquer comme lu",children:e.jsx(FK,{size:14})}),e.jsx("button",{className:"action-button delete",onClick:()=>T(M.id),title:"Supprimer",children:e.jsx(WK,{size:14})})]})]})]},M.id))]})})})]})]})}function YK(t){const r=new Date-t,i=Math.floor(r/6e4),l=Math.floor(r/36e5),u=Math.floor(r/864e5);return i<1?" l'instant":i<60?`${i}m`:l<24?`${l}h`:u<7?`${u}j`:t.toLocaleDateString("fr-FR")}const KK="/assets/retro_intranet_essonne-BfWPiuYY.svg",XK="/assets/flash-info-rvZ9UMs-.png",QK="/assets/flash-notif-HViqZ6l6.png",JK="/assets/flash-pos-1o7mOrZv.png",Ce={SITE_MANAGEMENT:"site:management",SITE_USERS:"site:users",SITE_CONFIG:"site:config",SITE_CONTENT:"site:content",VEHICLES:"vehicles:list",VEHICLE_VIEW:"vehicles:view",VEHICLE_CREATE:"vehicles:create",VEHICLE_EDIT:"vehicles:edit",VEHICLE_DELETE:"vehicles:delete",EVENTS:"events:list",EVENT_VIEW:"events:view",EVENT_CREATE:"events:create",EVENT_EDIT:"events:edit",EVENT_DELETE:"events:delete",FINANCE:"finance:access",FINANCE_VIEW:"finance:view",FINANCE_EDIT:"finance:edit",MEMBERS:"members:list",MEMBER_VIEW:"members:view",MEMBER_EDIT:"members:edit",MEMBER_DELETE:"members:delete",STOCK:"stock:access",STOCK_VIEW:"stock:view",STOCK_EDIT:"stock:edit",NEWSLETTER:"newsletter:access",RETROMAIL:"retromail:access",RETROPLANNING:"retroplanning:access",RETROPLANNING_VIEW:"retroplanning:view",RETROPLANNING_CREATE:"retroplanning:create",RETROPLANNING_RESPOND:"retroplanning:respond",RETROSUPPORT:"retrosupport:access",RETROSUPPORT_VIEW:"retrosupport:view",RETROSUPPORT_CREATE:"retrosupport:create",RETRODEMANDES:"retrodemandes:access",RETRODEMANDES_VIEW:"retrodemandes:view",RETRODEMANDES_CREATE:"retrodemandes:create",RETRODEMANDES_EDIT:"retrodemandes:edit",PERMISSIONS_MANAGEMENT:"permissions:management",PERMISSIONS_VIEW:"permissions:view",PERMISSIONS_EDIT:"permissions:edit",MYRBE:"myrbe:access",MYRBE_VIEW:"myrbe:view",MYRBE_ACCESS:"myrbe:card-access",ADMIN_PANEL:"admin:panel",ADMIN_LOGS:"admin:logs",ADMIN_SETTINGS:"admin:settings"},sx={VIEW:"view",EDIT:"edit"},Sc={ADMIN:{label:"Administrateur",color:"red",permissions:{[Ce.SITE_MANAGEMENT]:["access","view","edit"],[Ce.SITE_USERS]:["access","view","edit"],[Ce.SITE_CONFIG]:["access","view","edit"],[Ce.SITE_CONTENT]:["access","view","edit"],[Ce.VEHICLES]:["access","view","edit"],[Ce.VEHICLE_VIEW]:["access","view","edit"],[Ce.VEHICLE_CREATE]:["access","view","edit"],[Ce.VEHICLE_EDIT]:["access","view","edit"],[Ce.VEHICLE_DELETE]:["access","view","edit"],[Ce.EVENTS]:["access","view","edit"],[Ce.EVENT_VIEW]:["access","view","edit"],[Ce.EVENT_CREATE]:["access","view","edit"],[Ce.EVENT_EDIT]:["access","view","edit"],[Ce.EVENT_DELETE]:["access","view","edit"],[Ce.FINANCE]:["access","view","edit"],[Ce.FINANCE_VIEW]:["access","view","edit"],[Ce.FINANCE_EDIT]:["access","view","edit"],[Ce.MEMBERS]:["access","view","edit"],[Ce.MEMBER_VIEW]:["access","view","edit"],[Ce.MEMBER_EDIT]:["access","view","edit"],[Ce.MEMBER_DELETE]:["access","view","edit"],[Ce.STOCK]:["access","view","edit"],[Ce.STOCK_VIEW]:["access","view","edit"],[Ce.STOCK_EDIT]:["access","view","edit"],[Ce.NEWSLETTER]:["access","view","edit"],[Ce.RETROMAIL]:["access","view","edit"],[Ce.RETROPLANNING]:["access","view","edit"],[Ce.RETROPLANNING_VIEW]:["access","view","edit"],[Ce.RETROPLANNING_CREATE]:["access","view","edit"],[Ce.RETROPLANNING_RESPOND]:["access","view","edit"],[Ce.RETROSUPPORT]:["access","view","edit"],[Ce.RETROSUPPORT_VIEW]:["access","view","edit"],[Ce.RETROSUPPORT_CREATE]:["access","view","edit"],[Ce.RETRODEMANDES]:["access","view","edit"],[Ce.RETRODEMANDES_VIEW]:["access","view","edit"],[Ce.RETRODEMANDES_CREATE]:["access","view","edit"],[Ce.RETRODEMANDES_EDIT]:["access","view","edit"],[Ce.PERMISSIONS_MANAGEMENT]:["access","view","edit"],[Ce.PERMISSIONS_VIEW]:["access","view","edit"],[Ce.PERMISSIONS_EDIT]:["access","view","edit"],[Ce.MYRBE]:["access","view","edit"],[Ce.MYRBE_VIEW]:["access","view","edit"],[Ce.MYRBE_ACCESS]:["access","view","edit"],[Ce.ADMIN_PANEL]:["access","view","edit"],[Ce.ADMIN_LOGS]:["access","view","edit"],[Ce.ADMIN_SETTINGS]:["access","view","edit"]}},PRESIDENT:{label:"Prsident",color:"red",permissions:{[Ce.SITE_MANAGEMENT]:["access","view","edit"],[Ce.SITE_USERS]:["access","view","edit"],[Ce.SITE_CONFIG]:["access","view","edit"],[Ce.SITE_CONTENT]:["access","view","edit"],[Ce.VEHICLES]:["access","view","edit"],[Ce.VEHICLE_VIEW]:["access","view","edit"],[Ce.VEHICLE_CREATE]:["access","view","edit"],[Ce.VEHICLE_EDIT]:["access","view","edit"],[Ce.VEHICLE_DELETE]:["access","view"],[Ce.EVENTS]:["access","view","edit"],[Ce.EVENT_VIEW]:["access","view","edit"],[Ce.EVENT_CREATE]:["access","view","edit"],[Ce.EVENT_EDIT]:["access","view","edit"],[Ce.EVENT_DELETE]:["access","view"],[Ce.FINANCE]:["access","view"],[Ce.FINANCE_VIEW]:["access","view"],[Ce.MEMBERS]:["access","view","edit"],[Ce.MEMBER_VIEW]:["access","view","edit"],[Ce.MEMBER_EDIT]:["access","view","edit"],[Ce.STOCK]:["access","view","edit"],[Ce.STOCK_VIEW]:["access","view","edit"],[Ce.STOCK_EDIT]:["access","view","edit"],[Ce.NEWSLETTER]:["access","view","edit"],[Ce.RETROMAIL]:["access","view"],[Ce.RETROPLANNING]:["access","view","edit"],[Ce.RETROPLANNING_VIEW]:["access","view","edit"],[Ce.RETROPLANNING_CREATE]:["access","view","edit"],[Ce.RETROPLANNING_RESPOND]:["access","view","edit"],[Ce.RETROSUPPORT]:["access","view","edit"],[Ce.RETROSUPPORT_VIEW]:["access","view","edit"],[Ce.RETROSUPPORT_CREATE]:["access","view","edit"],[Ce.RETRODEMANDES]:["access","view","edit"],[Ce.RETRODEMANDES_VIEW]:["access","view","edit"],[Ce.RETRODEMANDES_CREATE]:["access","view","edit"],[Ce.RETRODEMANDES_EDIT]:["access","view","edit"],[Ce.PERMISSIONS_MANAGEMENT]:["access","view","edit"],[Ce.PERMISSIONS_VIEW]:["access","view","edit"],[Ce.PERMISSIONS_EDIT]:["access","view","edit"],[Ce.MYRBE]:["access","view","edit"],[Ce.MYRBE_VIEW]:["access","view","edit"],[Ce.MYRBE_ACCESS]:["access","view","edit"],[Ce.ADMIN_LOGS]:["access","view"]}},VICE_PRESIDENT:{label:"Vice-Prsident",color:"pink",permissions:{[Ce.SITE_MANAGEMENT]:["access","view"],[Ce.SITE_USERS]:["access","view"],[Ce.SITE_CONFIG]:["access","view"],[Ce.SITE_CONTENT]:["access","view","edit"],[Ce.VEHICLES]:["access","view","edit"],[Ce.VEHICLE_VIEW]:["access","view","edit"],[Ce.VEHICLE_CREATE]:["access","view","edit"],[Ce.VEHICLE_EDIT]:["access","view","edit"],[Ce.EVENTS]:["access","view","edit"],[Ce.EVENT_VIEW]:["access","view","edit"],[Ce.EVENT_CREATE]:["access","view","edit"],[Ce.EVENT_EDIT]:["access","view","edit"],[Ce.MEMBERS]:["access","view"],[Ce.MEMBER_VIEW]:["access","view"],[Ce.STOCK]:["access","view"],[Ce.STOCK_VIEW]:["access","view"],[Ce.NEWSLETTER]:["access","view","edit"],[Ce.RETROMAIL]:["access","view"]}},TRESORIER:{label:"Trsorier",color:"green",permissions:{[Ce.SITE_MANAGEMENT]:["access","view"],[Ce.SITE_USERS]:["access","view"],[Ce.SITE_CONFIG]:["access","view"],[Ce.VEHICLES]:["access","view"],[Ce.VEHICLE_VIEW]:["access","view"],[Ce.EVENTS]:["access","view"],[Ce.EVENT_VIEW]:["access","view"],[Ce.FINANCE]:["access","view","edit"],[Ce.FINANCE_VIEW]:["access","view","edit"],[Ce.FINANCE_EDIT]:["access","view","edit"],[Ce.MEMBERS]:["access","view"],[Ce.MEMBER_VIEW]:["access","view"],[Ce.STOCK]:["access","view"],[Ce.STOCK_VIEW]:["access","view"]}},SECRETAIRE_GENERAL:{label:"Secrtaire Gnral",color:"purple",permissions:{[Ce.SITE_MANAGEMENT]:["access","view"],[Ce.SITE_CONTENT]:["access","view","edit"],[Ce.VEHICLES]:["access","view"],[Ce.VEHICLE_VIEW]:["access","view"],[Ce.EVENTS]:["access","view","edit"],[Ce.EVENT_VIEW]:["access","view","edit"],[Ce.EVENT_CREATE]:["access","view","edit"],[Ce.EVENT_EDIT]:["access","view","edit"],[Ce.MEMBERS]:["access","view"],[Ce.MEMBER_VIEW]:["access","view"],[Ce.NEWSLETTER]:["access","view","edit"],[Ce.RETROMAIL]:["access","view","edit"]}},VOLUNTEER:{label:"Bnvole",color:"orange",permissions:{[Ce.VEHICLES]:["access","view"],[Ce.VEHICLE_VIEW]:["access","view"],[Ce.VEHICLE_CREATE]:["access","view","edit"],[Ce.VEHICLE_EDIT]:["access","view","edit"],[Ce.EVENTS]:["access","view"],[Ce.EVENT_VIEW]:["access","view"],[Ce.EVENT_CREATE]:["access","view"],[Ce.MEMBERS]:["access","view"],[Ce.MEMBER_VIEW]:["access","view"],[Ce.STOCK]:["access","view"],[Ce.STOCK_VIEW]:["access","view"],[Ce.NEWSLETTER]:["access","view"]}},DRIVER:{label:"Conducteur",color:"cyan",permissions:{[Ce.VEHICLES]:["access","view"],[Ce.VEHICLE_VIEW]:["access","view"],[Ce.EVENTS]:["access","view"],[Ce.EVENT_VIEW]:["access","view"]}},PRESTATAIRE:{label:"Prestataire",color:"yellow",permissions:{[Ce.RETROPLANNING]:["access","view","edit"],[Ce.RETROPLANNING_VIEW]:["access","view"],[Ce.RETROPLANNING_CREATE]:["access","view","edit"],[Ce.RETROPLANNING_RESPOND]:["access","view","edit"],[Ce.RETROSUPPORT]:["access","view","edit"],[Ce.RETROSUPPORT_VIEW]:["access","view"],[Ce.RETROSUPPORT_CREATE]:["access","view","edit"]}},PARTENAIRE:{label:"Partenaire",color:"teal",permissions:{[Ce.MYRBE_ACCESS]:["access","view"]}},MEMBER:{label:"Membre",color:"blue",permissions:{[Ce.VEHICLES]:["access","view"],[Ce.VEHICLE_VIEW]:["access","view"],[Ce.EVENTS]:["access","view"],[Ce.EVENT_VIEW]:["access","view"],[Ce.NEWSLETTER]:["access","view"]}}};function eX(t,n,r="access",i=null){if(i&&Array.isArray(i)){const l=i.find(u=>u.resource===n||u.resource===n?.toUpperCase());if(l&&(!l.expiresAt||new Date(l.expiresAt)>new Date)){const d={access:"READ",view:"READ",read:"READ",edit:"UPDATE",update:"UPDATE",delete:"DELETE",create:"CREATE"}[r]||"READ";if(l.actions&&l.actions.includes(d))return!0}}return t==="PRESTATAIRE"?n?.startsWith("retroplanning")||n?.startsWith("retrosupport"):!0}function ml(t,n,r=null){return eX(t,n,"access",r)}function tX(){return Object.keys(Sc).map(t=>({code:t,label:Sc[t].label,color:Sc[t].color}))}function du({to:t,exact:n=!1,children:r}){const{pathname:i}=aa(),l=n?i===t:i===t||i.startsWith(t+"/");return e.jsx(o1,{as:or,to:t,color:l?"var(--rbe-red)":"gray.600",fontWeight:l?"bold":"normal",textDecoration:"none",position:"relative",_hover:{color:"var(--rbe-red)",textDecoration:"none"},_after:l?{content:'""',position:"absolute",bottom:"-8px",left:0,right:0,height:"2px",bg:"var(--rbe-red)",borderRadius:"1px"}:{},"aria-current":l?"page":void 0,children:r})}function nX(){const{user:t,customPermissions:n}=xs(),r=t?.role||"MEMBER",i=ml(r,Ce.SITE_MANAGEMENT,n),l=ml(r,Ce.VEHICLES,n),u=ml(r,Ce.EVENTS,n),d=ml(r,Ce.MYRBE,n),g=ml(r,Ce.NEWSLETTER,n),p=ml(r,Ce.RETROPLANNING,n),m=ml(r,Ce.RETROSUPPORT,n);return r==="PRESTATAIRE"?e.jsxs(er,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[p&&e.jsx(du,{to:"/dashboard/retroplanning",children:" RtroPlanning"}),m&&e.jsx(du,{to:"/dashboard/support",children:" RtroSupport"})]}):e.jsxs(er,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[i&&e.jsx(du,{to:"/dashboard",children:" Accueil"}),l&&e.jsx(du,{to:"/dashboard/vehicules",children:" Vhicules"}),u&&e.jsx(du,{to:"/dashboard/evenements",children:" vnements"}),d&&e.jsx(du,{to:"/dashboard/myrbe",children:" MyRBE"}),g&&e.jsx(du,{to:"/dashboard/retromerch",children:" RtroMerch"})]})}const Tg={red:"#2e538d",yellow:"#2e538d",green:"#bb1f11",blue:"#bb1f11"},xu={INFO:{key:"INFO",label:"Flash Infos",color:{bg:"red.50",border:"red.300",text:"red.800",accent:"#bb1f11"}},NOTIF:{key:"NOTIF",label:"Flash Notifications",color:{bg:"orange.50",border:"orange.300",text:"orange.800",accent:"#d97706"}},POS:{key:"POS",label:"Flash Positif",color:{bg:"green.50",border:"green.300",text:"green.900",accent:"#16a34a"}}},rX="56px",sX="80px",iX="52px",oX="110px",IP="rbe:announcements:dismissed:";function aX(){return`flash-${Date.now()}-${Math.floor(Math.random()*1e3)}`}async function lX(){try{const t=await lv.getAll();return Array.isArray(t)?t:[]}catch{return[]}}async function cX(t){try{return await lv.create(t)}catch(n){throw n}}async function _T(t,n){try{return await lv.update(t,n)}catch(r){throw r}}async function uX(t){try{return await lv.delete(t),!0}catch(n){throw n}}function TT(t){if(!t)return{};try{const n=localStorage.getItem(IP+t);return n?JSON.parse(n):{}}catch{return{}}}function dX(t,n){try{localStorage.setItem(IP+t,JSON.stringify(n||{}))}catch{}}const AT={INFO:XK,NOTIF:QK,POS:JK};function qy({catKey:t}){const n=Object.values(xu).find(i=>i.key===t)||xu.INFO,r=AT[t]||AT.INFO;return e.jsx(Qs,{label:n.label,children:e.jsxs(ue,{as:"span",display:"inline-flex",alignItems:"center",gap:2,children:[e.jsx(Mi,{src:r,alt:"",boxSize:"18px",draggable:!1}),e.jsx(RP,{children:n.label})]})})}function hX(t){return e.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor","aria-hidden":"true",...t,children:e.jsx("path",{d:"M3 10v4a2 2 0 0 0 2 2h1v2a1 1 0 0 0 1.555.832L12 16h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6L7.555 3.168A1 1 0 0 0 6 4v2H5a2 2 0 0 0-2 2z"})})}function fX(){const{logout:t,prenom:n,nom:r,isAuthenticated:i,isAdmin:l,matricule:u}=xs(),d=la(),g=mn(),p=Nt(),m=Nt(),x=Nt(),v=Rq({base:!0,md:!1}),[S,E]=y.useState([]),[C,T]=y.useState(!0),[A,D]=y.useState(null),[M,R]=y.useState({message:"",category:"INFO",active:!0,expiresAt:""}),P=()=>{t(),d("/login"),g({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs",status:"info",duration:3e3,isClosable:!0})};y.useEffect(()=>{if(!i)return;let W;const H=600*1e3,Ee=()=>{clearTimeout(W),W=setTimeout(()=>{t(),d("/login"),g({title:"Session expire",description:"Vous avez t dconnect pour inactivit (10 minutes)",status:"warning",duration:5e3,isClosable:!0})},H)},B=["mousedown","mousemove","keypress","scroll","touchstart","click"];return Ee(),B.forEach(ae=>{document.addEventListener(ae,Ee,!0)}),()=>{clearTimeout(W),B.forEach(ae=>{document.removeEventListener(ae,Ee,!0)})}},[i,t,d,g]),y.useEffect(()=>{async function W(){try{T(!0);const H=await lX();E(H)}finally{T(!1)}}W()},[g]);const z=Date.now(),O=y.useMemo(()=>S.filter(W=>W&&W.active&&(!W.expiresAt||new Date(W.expiresAt).getTime()>z)),[S,z]),G=y.useMemo(()=>O.filter(W=>W.category==="INFO"),[O]),[q,ce]=y.useState(0);y.useEffect(()=>{const W=TT(u||"anon"),H=O.reduce((Ee,B)=>{const ae=W[B.id]||0,me=B.updatedAt?new Date(B.updatedAt).getTime():B.createdAt?new Date(B.createdAt).getTime():0;return Ee+(ae>=me?0:1)},0);ce(H)},[S,u,O.length]);const he=()=>{D(null),R({message:"",category:"INFO",active:!0,expiresAt:""}),p.onOpen()},se=W=>{D(W),R({message:W.message||"",category:W.category||"INFO",active:!!W.active,expiresAt:W.expiresAt||""}),p.onOpen()},ge=async()=>{const W=(M.message||"").trim();if(!W)return g({status:"warning",title:"Le message est requis"});["INFO","NOTIF","POS"].includes(M.category)||(M.category="INFO");try{if(A){const H=await _T(A.id,{message:W,category:M.category,active:!!M.active,expiresAt:M.expiresAt||null});E(Ee=>Ee.map(B=>B.id===A.id?H:B)),g({status:"success",title:"Flash modifi"})}else{const H={id:aX(),message:W,category:M.category,active:!!M.active,expiresAt:M.expiresAt||null},Ee=await cX(H);E(B=>[Ee,...B]),g({status:"success",title:"Flash ajout"})}D(null),p.onClose()}catch(H){g({status:"error",title:"Erreur",description:`Impossible de sauvegarder le flash: ${H.message}`})}},Ae=async W=>{if(confirm("Supprimer ce flash ?"))try{await uX(W),E(H=>H.filter(Ee=>Ee.id!==W)),g({status:"info",title:"Flash supprim"})}catch{g({status:"error",title:"Erreur",description:"Impossible de supprimer le flash"})}},de=async W=>{try{const H=S.find(B=>B.id===W);if(!H)return;const Ee=await _T(W,{active:!H.active});E(B=>B.map(ae=>ae.id===W?Ee:ae))}catch{g({status:"error",title:"Erreur",description:"Impossible de modifier le flash"})}},re=W=>{const H=u||"anon",Ee=TT(H),B=Date.now();Ee[W]=B,dX(H,Ee),ce(ae=>Math.max(0,ae-1)),g({status:"info",title:"Prise de connaissance enregistre"})},K=W=>{const H=Object.values(xu).find(Ee=>Ee.key===W)||xu.INFO;return{bg:H.color.bg,borderColor:H.color.border,color:H.color.text,accent:H.color.accent}};return e.jsxs(ue,{as:"header",w:"100%",bg:"white",position:"sticky",top:"0",zIndex:"1000",borderBottom:"1px solid #3a3a3aff",children:[e.jsxs(ue,{position:"relative",h:{base:rX,md:sX},overflow:"visible",children:[e.jsx(ue,{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",zIndex:0,pointerEvents:"none",style:{background:`linear-gradient(90deg,
              ${Tg.red} 0%,
              ${Tg.yellow} 22%,
              ${Tg.green} 70%,
              ${Tg.blue} 100%
            )`}}),e.jsx(Mi,{src:KK,alt:"RtroBus Essonne Intranet",height:{base:iX,md:oX},objectFit:"contain",position:"absolute",left:{base:3,md:5},top:"50%",transform:"translateY(-50%)",zIndex:2,draggable:!1}),e.jsx(ue,{position:"absolute",right:{base:2,md:6},top:"50%",transform:"translateY(-50%)",zIndex:2,children:v?e.jsx(xt,{"aria-label":"Menu",icon:e.jsx(ue,{as:"span",display:"inline-block",w:"18px",h:"2px",bg:"white",position:"relative",_before:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"-6px",left:0},_after:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"6px",left:0}}),size:"sm",variant:"ghost",color:"white",onClick:x.onOpen,title:"Ouvrir le menu"}):e.jsxs(oe,{spacing:2,children:[e.jsx(Qs,{label:l?"Grer les flashs":"Vous n'tes pas autoris",children:e.jsx("span",{children:e.jsx(xt,{"aria-label":"Annonces (gestion)",icon:e.jsx(hX,{}),size:"sm",variant:"ghost",color:"white",onClick:()=>{l&&p.onOpen()},title:"Annonces",isDisabled:!l})})}),e.jsx(ZK,{}),e.jsxs(Fa,{children:[e.jsxs(Va,{as:te,colorScheme:"red",children:["Bonjour, ",n||"Utilisateur"]}),e.jsxs(Ua,{children:[e.jsx(_n,{as:or,to:"/adhesion",children:"Mon Adhsion"}),e.jsx(_n,{as:or,to:"/retromail",children:"RtroMail"}),e.jsx(_n,{onClick:P,color:"red.500",children:"Dconnexion"})]})]})]})})]}),e.jsx(ue,{display:{base:"none",md:"block"},children:e.jsx(nX,{})}),e.jsxs(jY,{isOpen:x.isOpen,onClose:x.onClose,placement:"right",children:[e.jsx(Tt,{}),e.jsxs(vP,{children:[e.jsx(Bt,{}),e.jsxs(_t,{bg:"var(--rbe-red)",color:"white",children:[e.jsxs(k,{fontWeight:"bold",children:[" Bonjour ",n||"Utilisateur"]}),q>0&&e.jsxs(k,{fontSize:"sm",color:"whiteAlpha.800",children:[q," flash(s) non lu(s)"]})]}),e.jsx(wt,{p:0,children:e.jsxs(ie,{align:"stretch",spacing:0,children:[e.jsx(te,{as:or,to:"/dashboard",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Accueil"}),e.jsx(te,{as:or,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Vhicules"}),e.jsx(te,{as:or,to:"/dashboard/evenements",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"vnements"}),e.jsx(te,{as:or,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"MyRBE"}),e.jsx(te,{as:or,to:"/dashboard/retromerch",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMerch"}),e.jsx(vn,{}),e.jsx(te,{onClick:()=>{m.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Voir les flashs"}),l&&e.jsx(te,{onClick:()=>{p.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Grer les flashs"}),e.jsx(vn,{}),e.jsx(te,{as:or,to:"/adhesion",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Mon Adhsion"}),e.jsx(te,{as:or,to:"/retromail",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMail"}),e.jsx(te,{onClick:()=>{x.onClose(),P()},colorScheme:"red",justifyContent:"flex-start",variant:"ghost",py:4,px:5,children:"Dconnexion"})]})})]})]}),e.jsx(ue,{children:G.map(W=>{const H=K(W.category);return e.jsx(ue,{bg:H.bg,borderTop:"2px solid",borderColor:H.borderColor||H.border,py:2,px:4,children:e.jsxs(oe,{spacing:3,flex:"1",align:"center",children:[e.jsx(ue,{children:e.jsx(qy,{catKey:W.category})}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:{base:"sm",md:"md"},color:H.color,children:W.message}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:W.createdAt?`Publi: ${new Date(W.createdAt).toLocaleString()}`:""})]}),e.jsx(ue,{children:l?e.jsxs(oe,{spacing:2,children:[e.jsx(te,{size:"sm",onClick:()=>se(W),children:"diter"}),e.jsx(te,{size:"sm",colorScheme:W.active?"yellow":"green",onClick:()=>de(W.id),children:W.active?"Dsactiver":"Activer"}),e.jsx(te,{size:"sm",colorScheme:"red",onClick:()=>Ae(W.id),children:"Supprimer"})]}):e.jsx(te,{size:"sm",onClick:()=>re(W.id),children:"Prendre connaissance"})})]})},W.id)})}),e.jsxs(Ct,{isOpen:m.isOpen,onClose:m.onClose,isCentered:!0,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxW:"900px",children:[e.jsx(_t,{children:"Flashs en cours"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:3,align:"stretch",children:[O.length===0&&e.jsx(k,{color:"gray.600",children:"Aucun flash en cours."}),O.map(W=>e.jsxs(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsxs(oe,{spacing:2,align:"center",children:[e.jsx(qy,{catKey:W.category}),e.jsx(k,{fontWeight:"600",children:W.message})]}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:W.createdAt?`Publi: ${new Date(W.createdAt).toLocaleString()}`:""}),e.jsx(te,{size:"sm",onClick:()=>{re(W.id)},children:"Prendre connaissance"})]},W.id))]})}),e.jsx(Wt,{children:e.jsx(te,{onClick:m.onClose,children:"Fermer"})})]})]}),e.jsxs(Ct,{isOpen:p.isOpen,onClose:()=>{D(null),p.onClose()},isCentered:!0,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxW:"900px",children:[e.jsx(_t,{children:"Gestion des flashs"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ca,{direction:"row",justify:"space-between",align:"center",children:[e.jsx(k,{fontWeight:"600",children:"Diffusions existantes"}),e.jsx(te,{size:"sm",onClick:he,children:"Nouveau flash"})]}),S.length===0&&e.jsx(k,{color:"gray.600",children:"Aucun flash enregistr."}),S.map(W=>{const H=K(W.category);return e.jsxs(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:H.bg,children:[e.jsxs(oe,{spacing:2,align:"center",children:[e.jsx(qy,{catKey:W.category}),e.jsx(k,{fontWeight:"600",children:W.message})]}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:W.createdAt?`Publi: ${new Date(W.createdAt).toLocaleString()}`:""}),e.jsxs(oe,{spacing:2,children:[e.jsx(te,{size:"sm",onClick:()=>se(W),children:"diter"}),e.jsx(te,{size:"sm",onClick:()=>de(W.id),children:W.active?"Dsactiver":"Activer"}),e.jsx(te,{size:"sm",colorScheme:"red",onClick:()=>Ae(W.id),children:"Supprimer"})]})]},W.id)}),e.jsxs(ue,{mt:2,p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsx(k,{fontWeight:"600",mb:2,children:A?"Modifier le flash":"Crer un nouveau flash"}),e.jsxs(ee,{mb:2,children:[e.jsx(J,{children:"Catgorie"}),e.jsxs(lt,{value:M.category,onChange:W=>R(H=>({...H,category:W.target.value})),children:[e.jsx("option",{value:"INFO",children:xu.INFO.label}),e.jsx("option",{value:"NOTIF",children:xu.NOTIF.label}),e.jsx("option",{value:"POS",children:xu.POS.label})]})]}),e.jsxs(ee,{mb:2,children:[e.jsx(J,{children:"Message"}),e.jsx(Yt,{value:M.message,onChange:W=>R(H=>({...H,message:W.target.value})),rows:4})]}),e.jsxs(ee,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(J,{mb:"0",mr:3,children:"Actif"}),e.jsx(Sr,{isChecked:M.active,onChange:W=>R(H=>({...H,active:W.target.checked}))})]}),e.jsxs(ee,{mb:2,children:[e.jsx(J,{children:"Expire le (optionnel)"}),e.jsx("input",{type:"datetime-local",value:M.expiresAt||"",onChange:W=>R(H=>({...H,expiresAt:W.target.value||""})),style:{width:"100%",padding:"8px",borderRadius:6,border:"1px solid #e2e8f0"}})]}),e.jsxs(oe,{gap:2,justify:"flex-end",children:[e.jsx(te,{variant:"ghost",onClick:()=>{D(null),R({message:"",category:"INFO",active:!0,expiresAt:""})},children:"Rinitialiser"}),e.jsx(te,{colorScheme:"blue",onClick:ge,children:A?"Sauvegarder":"Crer"})]})]})]})}),e.jsx(Wt,{children:e.jsx(te,{onClick:()=>{D(null),p.onClose()},children:"Fermer"})})]})]})]})}function fl({children:t}){const{isAuthenticated:n,user:r,sessionChecked:i,ensureSession:l}=xs(),[u,d]=y.useState(!1);return y.useEffect(()=>{!i&&!u&&(l(),d(!0))},[i,u,l]),i?!n||!r?e.jsx(Eu,{to:"/login",replace:!0}):t:e.jsx(jn,{py:20,children:e.jsx(hn,{size:"lg"})})}var zP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RT=dn.createContext&&dn.createContext(zP),pX=["attr","size","title"];function mX(t,n){if(t==null)return{};var r=gX(t,n),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)i=u[l],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function gX(t,n){if(t==null)return{};var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(n.indexOf(i)>=0)continue;r[i]=t[i]}return r}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ex.apply(this,arguments)}function kT(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,i)}return r}function Cx(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kT(Object(r),!0).forEach(function(i){xX(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function xX(t,n,r){return n=vX(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function vX(t){var n=yX(t,"string");return typeof n=="symbol"?n:n+""}function yX(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function LP(t){return t&&t.map((n,r)=>dn.createElement(n.tag,Cx({key:r},n.attr),LP(n.child)))}function ut(t){return n=>dn.createElement(bX,Ex({attr:Cx({},t.attr)},n),LP(t.child))}function bX(t){var n=r=>{var{attr:i,size:l,title:u}=t,d=mX(t,pX),g=l||r.size||"1em",p;return r.className&&(p=r.className),t.className&&(p=(p?p+" ":"")+t.className),dn.createElement("svg",Ex({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,d,{className:p,style:Cx(Cx({color:t.color||r.color},r.style),t.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),u&&dn.createElement("title",null,u),t.children)};return RT!==void 0?dn.createElement(RT.Consumer,null,r=>n(r)):n(zP)}function Na(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function v1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function OP(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function BP(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function jX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function SX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function EX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function CX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function wX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function pi(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function y1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function wx(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function b1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function $P(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function _x(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function j1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function S1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function MT(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function _X(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function hj(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function Vu(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function na(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function TX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Zf(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Bs(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function FP(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function fj(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Dp(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function pj(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function AX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function rh(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function E1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function RX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function kX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(t)}function Pu(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function MX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"},child:[]}]})(t)}function PX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function VP(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function Pl(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function kc(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function Ec(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function DX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function NX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function sh(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(t)}function Tx(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function UP(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function IX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function Bn(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function sa(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Du(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function cv(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function zX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function nm(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function C1(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function LX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function OX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function BX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function hr(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function $X(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function Cc(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function mj(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(t)}function FX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function HP(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function PT(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Ax(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(t)}function Gy(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Ti(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function VX(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Np(t){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function rs({children:t,allowedRoles:n=null,deniedRoles:r=null,fallbackRoute:i="/dashboard/home",showError:l=!0}){const{isAuthenticated:u,roles:d}=xs();if(!u)return e.jsx(Eu,{to:"/login",replace:!0});const g=d?.[0]||"MEMBER";return r&&r.includes(g)?(console.warn(` RoleProtectedRoute: Role "${g}" is denied access`),l?e.jsx(jn,{minH:"60vh",px:4,children:e.jsxs(ie,{spacing:4,textAlign:"center",children:[e.jsx(qn,{as:Pl,boxSize:12,color:"red.500"}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(k,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(k,{fontSize:"sm",color:"gray.500",children:["Rle: ",e.jsx("strong",{children:g})]})]})]})}):e.jsx(Eu,{to:i,replace:!0})):n&&!n.includes(g)?(console.warn(` RoleProtectedRoute: Role "${g}" not in allowed roles`),l?e.jsx(jn,{minH:"60vh",px:4,children:e.jsxs(ie,{spacing:4,textAlign:"center",children:[e.jsx(qn,{as:Pl,boxSize:12,color:"red.500"}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(k,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(k,{fontSize:"sm",color:"gray.500",children:["Rles autoriss: ",e.jsx("strong",{children:n.join(", ")})]})]})]})}):e.jsx(Eu,{to:i,replace:!0})):t}function Ag({children:t,resource:n=null,permissionType:r="access",fallbackRoute:i="/dashboard/home",showError:l=!1}){const{isAuthenticated:u,user:d}=xs();if(!u)return console.warn(" PermissionProtectedRoute: Not authenticated"),e.jsx(Eu,{to:"/login",replace:!0});if(!d)return console.warn(" PermissionProtectedRoute: No user data"),e.jsx(Eu,{to:"/login",replace:!0});if(!n)return t;const g=d.role||d.roles?.[0]||"MEMBER";return ml(g,n)?(console.log(` PermissionProtectedRoute: Access granted to "${n}" for role "${g}"`),t):(console.warn(` PermissionProtectedRoute: User role "${g}" denied access to resource "${n}"`),l?e.jsx(ue,{p:8,textAlign:"center",minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:e.jsxs(ie,{spacing:4,children:[e.jsx(k,{fontSize:"2xl",fontWeight:"bold",children:" Accs Refus"}),e.jsx(k,{fontSize:"md",color:"gray.600",children:"Vous n'avez pas les permissions ncessaires pour accder  cette ressource."}),e.jsxs(k,{fontSize:"sm",color:"gray.400",children:["Votre rle: ",e.jsx("strong",{children:g})]})]})}):e.jsx(Eu,{to:i,replace:!0}))}function WP(t){if(!t)return null;const n=String(t).trim().toUpperCase();if(Sc[n])return n;const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN"};return r[n]?r[n]:n}function Zy(t,n){const r=WP(t),i=Sc[r];if(!i)return console.warn(` Rle inconnu: "${t}" (normalis: "${r}")`),!1;const l=i.permissions[n]||[];return l.includes(sx.EDIT)||l.includes("edit")}function UX(){const{matricule:t,roles:n=[]}=xs(),r=n?.[0]||null,i=WP(r),l=()=>!i||!t?!1:Zy(i,Ce.VEHICLE_CREATE);return{canCreateVehicle:l,canViewVehicles:()=>{if(!i||!t)return!1;const x=Sc[i];if(!x)return!1;const v=x.permissions[Ce.VEHICLES]||[];return v.includes(sx.VIEW)||v.includes("view")||v.includes(sx.EDIT)||v.includes("edit")},canEditVehicle:()=>!i||!t?!1:Zy(i,Ce.VEHICLE_EDIT),canDeleteVehicle:()=>!i||!t?!1:Zy(i,Ce.VEHICLE_DELETE),getAccessDeniedMessage:(x="create")=>{const v=r||"inconnu",S=Object.entries(Sc).filter(([C,T])=>{const A=T.permissions[Ce.VEHICLE_CREATE]||[];return A.includes(sx.EDIT)||A.includes("edit")}).map(([C,T])=>T.label),E={create:`Vous n'tes pas autoris  ajouter des vhicules.

Rle actuel: ${v}
Rles autoriss: ${S.join(", ")}`,view:`Vous n'tes pas autoris  consulter les vhicules. Rle: ${v}`,edit:`Vous n'tes pas autoris  modifier les vhicules. Rle: ${v}`,delete:`Vous n'tes pas autoris  supprimer les vhicules. Rle: ${v}`};return E[x]||E.create},currentRole:i,currentMatricule:t,rawRole:r,debugInfo:()=>({rawRole:r,normalizedRole:i,matricule:t,canCreate:l(),roleConfig:Sc[i]})}}function HX({children:t}){const{matricule:n,user:r}=xs(),{canCreateVehicle:i,getAccessDeniedMessage:l,currentRole:u,rawRole:d,debugInfo:g}=UX();if(i())return t;const p=g?.();return e.jsx(ue,{p:8,maxW:"700px",mx:"auto",mt:8,children:e.jsxs(ie,{spacing:4,align:"stretch",textAlign:"center",children:[e.jsx(De,{size:"lg",color:"red.600",children:" Accs refus"}),e.jsx(ue,{bg:"red.50",p:4,borderRadius:"md",borderLeft:"4px",borderColor:"red.500",children:e.jsx(k,{fontWeight:"bold",mb:2,whiteSpace:"pre-wrap",children:l("create")})}),e.jsxs(ue,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px",borderColor:"blue.500",children:[e.jsx(k,{fontWeight:"bold",mb:2,fontSize:"sm",children:" Informations actuelles:"}),e.jsxs(ie,{align:"start",spacing:1,fontSize:"sm",children:[e.jsxs(k,{children:[e.jsx("strong",{children:"Matricule:"})," ",e.jsx(hh,{children:n||"N/A"})]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Rle brut:"})," ",e.jsx(hh,{children:d||"N/A"})]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Rle normalis:"})," ",e.jsx(et,{colorScheme:"purple",children:u||"INCONNU"})]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Peut crer:"})," ",e.jsx(et,{colorScheme:"red",children:"Non"})]})]})]}),p&&e.jsxs(ue,{bg:"gray.100",p:3,borderRadius:"md",textAlign:"left",fontSize:"xs",fontFamily:"monospace",overflowX:"auto",children:[e.jsx(k,{fontWeight:"bold",mb:1,children:"Debug info:"}),e.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},children:JSON.stringify(p,null,2)})]}),e.jsx(vn,{}),e.jsx(k,{fontSize:"xs",color:"gray.600",p:3,bg:"gray.50",borderRadius:"md",children:`Si vous pensez que c'est une erreur, contactez un administrateur avec le lien "Support" en bas de page.`})]})})}var WX=Object.defineProperty,Rx=Object.getOwnPropertySymbols,qP=Object.prototype.hasOwnProperty,GP=Object.prototype.propertyIsEnumerable,DT=(t,n,r)=>n in t?WX(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,gj=(t,n)=>{for(var r in n||(n={}))qP.call(n,r)&&DT(t,r,n[r]);if(Rx)for(var r of Rx(n))GP.call(n,r)&&DT(t,r,n[r]);return t},xj=(t,n)=>{var r={};for(var i in t)qP.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&Rx)for(var i of Rx(t))n.indexOf(i)<0&&GP.call(t,i)&&(r[i]=t[i]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Uu;(t=>{const n=class kn{constructor(p,m,x,v){if(this.version=p,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],p<kn.MIN_VERSION||p>kn.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let S=[];for(let C=0;C<this.size;C++)S.push(!1);for(let C=0;C<this.size;C++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(x);if(this.drawCodewords(E),v==-1){let C=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);const A=this.getPenaltyScore();A<C&&(v=T,C=A),this.applyMask(T)}}l(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(p,m){const x=t.QrSegment.makeSegments(p);return kn.encodeSegments(x,m)}static encodeBinary(p,m){const x=t.QrSegment.makeBytes(p);return kn.encodeSegments([x],m)}static encodeSegments(p,m,x=1,v=40,S=-1,E=!0){if(!(kn.MIN_VERSION<=x&&x<=v&&v<=kn.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let C,T;for(C=x;;C++){const R=kn.getNumDataCodewords(C,m)*8,P=d.getTotalBits(p,C);if(P<=R){T=P;break}if(C>=v)throw new RangeError("Data too long")}for(const R of[kn.Ecc.MEDIUM,kn.Ecc.QUARTILE,kn.Ecc.HIGH])E&&T<=kn.getNumDataCodewords(C,R)*8&&(m=R);let A=[];for(const R of p){r(R.mode.modeBits,4,A),r(R.numChars,R.mode.numCharCountBits(C),A);for(const P of R.getData())A.push(P)}l(A.length==T);const D=kn.getNumDataCodewords(C,m)*8;l(A.length<=D),r(0,Math.min(4,D-A.length),A),r(0,(8-A.length%8)%8,A),l(A.length%8==0);for(let R=236;A.length<D;R^=253)r(R,8,A);let M=[];for(;M.length*8<A.length;)M.push(0);return A.forEach((R,P)=>M[P>>>3]|=R<<7-(P&7)),new kn(C,m,M,S)}getModule(p,m){return 0<=p&&p<this.size&&0<=m&&m<this.size&&this.modules[m][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),m=p.length;for(let x=0;x<m;x++)for(let v=0;v<m;v++)x==0&&v==0||x==0&&v==m-1||x==m-1&&v==0||this.drawAlignmentPattern(p[x],p[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const m=this.errorCorrectionLevel.formatBits<<3|p;let x=m;for(let S=0;S<10;S++)x=x<<1^(x>>>9)*1335;const v=(m<<10|x)^21522;l(v>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,i(v,S));this.setFunctionModule(8,7,i(v,6)),this.setFunctionModule(8,8,i(v,7)),this.setFunctionModule(7,8,i(v,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,i(v,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,i(v,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,i(v,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const m=this.version<<12|p;l(m>>>18==0);for(let x=0;x<18;x++){const v=i(m,x),S=this.size-11+x%3,E=Math.floor(x/3);this.setFunctionModule(S,E,v),this.setFunctionModule(E,S,v)}}drawFinderPattern(p,m){for(let x=-4;x<=4;x++)for(let v=-4;v<=4;v++){const S=Math.max(Math.abs(v),Math.abs(x)),E=p+v,C=m+x;0<=E&&E<this.size&&0<=C&&C<this.size&&this.setFunctionModule(E,C,S!=2&&S!=4)}}drawAlignmentPattern(p,m){for(let x=-2;x<=2;x++)for(let v=-2;v<=2;v++)this.setFunctionModule(p+v,m+x,Math.max(Math.abs(v),Math.abs(x))!=1)}setFunctionModule(p,m,x){this.modules[m][p]=x,this.isFunction[m][p]=!0}addEccAndInterleave(p){const m=this.version,x=this.errorCorrectionLevel;if(p.length!=kn.getNumDataCodewords(m,x))throw new RangeError("Invalid argument");const v=kn.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][m],S=kn.ECC_CODEWORDS_PER_BLOCK[x.ordinal][m],E=Math.floor(kn.getNumRawDataModules(m)/8),C=v-E%v,T=Math.floor(E/v);let A=[];const D=kn.reedSolomonComputeDivisor(S);for(let R=0,P=0;R<v;R++){let z=p.slice(P,P+T-S+(R<C?0:1));P+=z.length;const O=kn.reedSolomonComputeRemainder(z,D);R<C&&z.push(0),A.push(z.concat(O))}let M=[];for(let R=0;R<A[0].length;R++)A.forEach((P,z)=>{(R!=T-S||z>=C)&&M.push(P[R])});return l(M.length==E),M}drawCodewords(p){if(p.length!=Math.floor(kn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let v=0;v<this.size;v++)for(let S=0;S<2;S++){const E=x-S,T=(x+1&2)==0?this.size-1-v:v;!this.isFunction[T][E]&&m<p.length*8&&(this.modules[T][E]=i(p[m>>>3],7-(m&7)),m++)}}l(m==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let x=0;x<this.size;x++){let v;switch(p){case 0:v=(x+m)%2==0;break;case 1:v=m%2==0;break;case 2:v=x%3==0;break;case 3:v=(x+m)%3==0;break;case 4:v=(Math.floor(x/3)+Math.floor(m/2))%2==0;break;case 5:v=x*m%2+x*m%3==0;break;case 6:v=(x*m%2+x*m%3)%2==0;break;case 7:v=((x+m)%2+x*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][x]&&v&&(this.modules[m][x]=!this.modules[m][x])}}getPenaltyScore(){let p=0;for(let S=0;S<this.size;S++){let E=!1,C=0,T=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[S][A]==E?(C++,C==5?p+=kn.PENALTY_N1:C>5&&p++):(this.finderPenaltyAddHistory(C,T),E||(p+=this.finderPenaltyCountPatterns(T)*kn.PENALTY_N3),E=this.modules[S][A],C=1);p+=this.finderPenaltyTerminateAndCount(E,C,T)*kn.PENALTY_N3}for(let S=0;S<this.size;S++){let E=!1,C=0,T=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][S]==E?(C++,C==5?p+=kn.PENALTY_N1:C>5&&p++):(this.finderPenaltyAddHistory(C,T),E||(p+=this.finderPenaltyCountPatterns(T)*kn.PENALTY_N3),E=this.modules[A][S],C=1);p+=this.finderPenaltyTerminateAndCount(E,C,T)*kn.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let E=0;E<this.size-1;E++){const C=this.modules[S][E];C==this.modules[S][E+1]&&C==this.modules[S+1][E]&&C==this.modules[S+1][E+1]&&(p+=kn.PENALTY_N2)}let m=0;for(const S of this.modules)m=S.reduce((E,C)=>E+(C?1:0),m);const x=this.size*this.size,v=Math.ceil(Math.abs(m*20-x*10)/x)-1;return l(0<=v&&v<=9),p+=v*kn.PENALTY_N4,l(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let v=this.size-7;x.length<p;v-=m)x.splice(1,0,v);return x}}static getNumRawDataModules(p){if(p<kn.MIN_VERSION||p>kn.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;m-=(25*x-10)*x-55,p>=7&&(m-=36)}return l(208<=m&&m<=29648),m}static getNumDataCodewords(p,m){return Math.floor(kn.getNumRawDataModules(p)/8)-kn.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p]*kn.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let m=[];for(let v=0;v<p-1;v++)m.push(0);m.push(1);let x=1;for(let v=0;v<p;v++){for(let S=0;S<m.length;S++)m[S]=kn.reedSolomonMultiply(m[S],x),S+1<m.length&&(m[S]^=m[S+1]);x=kn.reedSolomonMultiply(x,2)}return m}static reedSolomonComputeRemainder(p,m){let x=m.map(v=>0);for(const v of p){const S=v^x.shift();x.push(0),m.forEach((E,C)=>x[C]^=kn.reedSolomonMultiply(E,S))}return x}static reedSolomonMultiply(p,m){if(p>>>8||m>>>8)throw new RangeError("Byte out of range");let x=0;for(let v=7;v>=0;v--)x=x<<1^(x>>>7)*285,x^=(m>>>v&1)*p;return l(x>>>8==0),x}finderPenaltyCountPatterns(p){const m=p[1];l(m<=this.size*3);const x=m>0&&p[2]==m&&p[3]==m*3&&p[4]==m&&p[5]==m;return(x&&p[0]>=m*4&&p[6]>=m?1:0)+(x&&p[6]>=m*4&&p[0]>=m?1:0)}finderPenaltyTerminateAndCount(p,m,x){return p&&(this.finderPenaltyAddHistory(m,x),m=0),m+=this.size,this.finderPenaltyAddHistory(m,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,m){m[0]==0&&(p+=this.size),m.pop(),m.unshift(p)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(g,p,m){if(p<0||p>31||g>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)m.push(g>>>x&1)}function i(g,p){return(g>>>p&1)!=0}function l(g){if(!g)throw new Error("Assertion error")}const u=class Fr{constructor(p,m,x){if(this.mode=p,this.numChars=m,this.bitData=x,m<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let m=[];for(const x of p)r(x,8,m);return new Fr(Fr.Mode.BYTE,p.length,m)}static makeNumeric(p){if(!Fr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let m=[];for(let x=0;x<p.length;){const v=Math.min(p.length-x,3);r(parseInt(p.substring(x,x+v),10),v*3+1,m),x+=v}return new Fr(Fr.Mode.NUMERIC,p.length,m)}static makeAlphanumeric(p){if(!Fr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],x;for(x=0;x+2<=p.length;x+=2){let v=Fr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;v+=Fr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),r(v,11,m)}return x<p.length&&r(Fr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,m),new Fr(Fr.Mode.ALPHANUMERIC,p.length,m)}static makeSegments(p){return p==""?[]:Fr.isNumeric(p)?[Fr.makeNumeric(p)]:Fr.isAlphanumeric(p)?[Fr.makeAlphanumeric(p)]:[Fr.makeBytes(Fr.toUtf8ByteArray(p))]}static makeEci(p){let m=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,m);else if(p<16384)r(2,2,m),r(p,14,m);else if(p<1e6)r(6,3,m),r(p,21,m);else throw new RangeError("ECI assignment value out of range");return new Fr(Fr.Mode.ECI,0,m)}static isNumeric(p){return Fr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Fr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,m){let x=0;for(const v of p){const S=v.mode.numCharCountBits(m);if(v.numChars>=1<<S)return 1/0;x+=4+S+v.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let m=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?m.push(p.charCodeAt(x)):(m.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return m}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=u;t.QrSegment=u})(Uu||(Uu={}));(t=>{(n=>{const r=class{constructor(l,u){this.ordinal=l,this.formatBits=u}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),n.Ecc=r})(t.QrCode||(t.QrCode={}))})(Uu||(Uu={}));(t=>{(n=>{const r=class{constructor(l,u){this.modeBits=l,this.numBitsCharCount=u}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),n.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Uu||(Uu={}));var Zd=Uu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var qX={L:Zd.QrCode.Ecc.LOW,M:Zd.QrCode.Ecc.MEDIUM,Q:Zd.QrCode.Ecc.QUARTILE,H:Zd.QrCode.Ecc.HIGH},ZP=128,YP="L",KP="#FFFFFF",XP="#000000",QP=!1,JP=1,GX=4,ZX=0,YX=.1;function eD(t,n=0){const r=[];return t.forEach(function(i,l){let u=null;i.forEach(function(d,g){if(!d&&u!==null){r.push(`M${u+n} ${l+n}h${g-u}v1H${u+n}z`),u=null;return}if(g===i.length-1){if(!d)return;u===null?r.push(`M${g+n},${l+n} h1v1H${g+n}z`):r.push(`M${u+n},${l+n} h${g+1-u}v1H${u+n}z`);return}d&&u===null&&(u=g)})}),r.join("")}function tD(t,n){return t.slice().map((r,i)=>i<n.y||i>=n.y+n.h?r:r.map((l,u)=>u<n.x||u>=n.x+n.w?l:!1))}function KX(t,n,r,i){if(i==null)return null;const l=t.length+r*2,u=Math.floor(n*YX),d=l/n,g=(i.width||u)*d,p=(i.height||u)*d,m=i.x==null?t.length/2-g/2:i.x*d,x=i.y==null?t.length/2-p/2:i.y*d,v=i.opacity==null?1:i.opacity;let S=null;if(i.excavate){let C=Math.floor(m),T=Math.floor(x),A=Math.ceil(g+m-C),D=Math.ceil(p+x-T);S={x:C,y:T,w:A,h:D}}const E=i.crossOrigin;return{x:m,y:x,h:p,w:g,excavation:S,opacity:v,crossOrigin:E}}function XX(t,n){return n!=null?Math.max(Math.floor(n),0):t?GX:ZX}function nD({value:t,level:n,minVersion:r,includeMargin:i,marginSize:l,imageSettings:u,size:d,boostLevel:g}){let p=dn.useMemo(()=>{const C=(Array.isArray(t)?t:[t]).reduce((T,A)=>(T.push(...Zd.QrSegment.makeSegments(A)),T),[]);return Zd.QrCode.encodeSegments(C,qX[n],r,void 0,void 0,g)},[t,n,r,g]);const{cells:m,margin:x,numCells:v,calculatedImageSettings:S}=dn.useMemo(()=>{let E=p.getModules();const C=XX(i,l),T=E.length+C*2,A=KX(E,d,C,u);return{cells:E,margin:C,numCells:T,calculatedImageSettings:A}},[p,d,u,i,l]);return{qrcode:p,margin:x,cells:m,numCells:v,calculatedImageSettings:S}}var QX=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),rD=dn.forwardRef(function(n,r){const i=n,{value:l,size:u=ZP,level:d=YP,bgColor:g=KP,fgColor:p=XP,includeMargin:m=QP,minVersion:x=JP,boostLevel:v,marginSize:S,imageSettings:E}=i,T=xj(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:A}=T,D=xj(T,["style"]),M=E?.src,R=dn.useRef(null),P=dn.useRef(null),z=dn.useCallback(de=>{R.current=de,typeof r=="function"?r(de):r&&(r.current=de)},[r]),[O,G]=dn.useState(!1),{margin:q,cells:ce,numCells:he,calculatedImageSettings:se}=nD({value:l,level:d,minVersion:x,boostLevel:v,includeMargin:m,marginSize:S,imageSettings:E,size:u});dn.useEffect(()=>{if(R.current!=null){const de=R.current,re=de.getContext("2d");if(!re)return;let K=ce;const W=P.current,H=se!=null&&W!==null&&W.complete&&W.naturalHeight!==0&&W.naturalWidth!==0;H&&se.excavation!=null&&(K=tD(ce,se.excavation));const Ee=window.devicePixelRatio||1;de.height=de.width=u*Ee;const B=u/he*Ee;re.scale(B,B),re.fillStyle=g,re.fillRect(0,0,he,he),re.fillStyle=p,QX?re.fill(new Path2D(eD(K,q))):ce.forEach(function(ae,me){ae.forEach(function($,F){$&&re.fillRect(F+q,me+q,1,1)})}),se&&(re.globalAlpha=se.opacity),H&&re.drawImage(W,se.x+q,se.y+q,se.w,se.h)}}),dn.useEffect(()=>{G(!1)},[M]);const ge=gj({height:u,width:u},A);let Ae=null;return M!=null&&(Ae=dn.createElement("img",{src:M,key:M,style:{display:"none"},onLoad:()=>{G(!0)},ref:P,crossOrigin:se?.crossOrigin})),dn.createElement(dn.Fragment,null,dn.createElement("canvas",gj({style:ge,height:u,width:u,ref:z,role:"img"},D)),Ae)});rD.displayName="QRCodeCanvas";var JX=dn.forwardRef(function(n,r){const i=n,{value:l,size:u=ZP,level:d=YP,bgColor:g=KP,fgColor:p=XP,includeMargin:m=QP,minVersion:x=JP,boostLevel:v,title:S,marginSize:E,imageSettings:C}=i,T=xj(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:A,cells:D,numCells:M,calculatedImageSettings:R}=nD({value:l,level:d,minVersion:x,boostLevel:v,includeMargin:m,marginSize:E,imageSettings:C,size:u});let P=D,z=null;C!=null&&R!=null&&(R.excavation!=null&&(P=tD(D,R.excavation)),z=dn.createElement("image",{href:C.src,height:R.h,width:R.w,x:R.x+A,y:R.y+A,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const O=eD(P,A);return dn.createElement("svg",gj({height:u,width:u,viewBox:`0 0 ${M} ${M}`,ref:r,role:"img"},T),!!S&&dn.createElement("title",null,S),dn.createElement("path",{fill:g,d:`M0,0 h${M}v${M}H0z`,shapeRendering:"crispEdges"}),dn.createElement("path",{fill:p,d:O,shapeRendering:"crispEdges"}),z)});JX.displayName="QRCodeSVG";const NT=window.location.origin,eQ=()=>{const[t,n]=y.useState([]),[r,i]=y.useState(!1),[l,u]=y.useState(""),[d,g]=y.useState(!1),[p,m]=y.useState(null),x=mn(),v=y.useRef(null),S=y.useCallback(async A=>{try{i(!0);const D=await Pt.get("/vehicles");n(Array.isArray(D)?D:[])}catch(D){D.name!=="AbortError"&&(console.error(D),n([]),x({status:"error",title:"Impossible de charger la liste",description:D.message}))}finally{i(!1)}},[x]);y.useEffect(()=>{const A=new AbortController;return S(A.signal),()=>A.abort()},[S]);const E=t.filter(A=>{if(!l.trim())return!0;const D=l.toLowerCase();return[A.parc,A.modele,A.marque,A.immat].filter(Boolean).some(M=>M.toLowerCase().includes(D))}),C=A=>{m(A),g(!0)},T=()=>{const A=v.current?.querySelector("canvas");if(A){const D=A.toDataURL(),M=document.createElement("a");M.href=D,M.download=`qr-${p?.parc||"vehicle"}.png`,M.click()}};return e.jsxs(ue,{p:6,children:[e.jsxs(er,{justify:"space-between",align:"center",mb:6,children:[e.jsx(De,{children:"Vhicules"}),e.jsx(te,{as:or,to:"/dashboard/vehicules/ajouter",leftIcon:e.jsx(Bn,{}),colorScheme:"blue",children:"Ajouter un vhicule"})]}),e.jsx(ue,{mb:6,children:e.jsx(ye,{placeholder:"Rechercher par parc, modle, marque ou immatriculation...",value:l,onChange:A=>u(A.target.value),maxW:"400px"})}),r?e.jsx(jn,{py:20,children:e.jsx(hn,{size:"xl"})}):e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:6,children:E.map(A=>e.jsxs(Ne,{shadow:"md",children:[e.jsx(Dt,{pb:2,children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:A.parc}),e.jsx(et,{colorScheme:A.etat==="disponible"?"green":"orange",children:A.etat})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsxs(k,{children:[e.jsx("strong",{children:"Modle:"})," ",A.modele||"Non spcifi"]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Marque:"})," ",A.marque||"Non spcifie"]}),A.immat&&e.jsxs(k,{children:[e.jsx("strong",{children:"Immat:"})," ",A.immat]}),e.jsxs(oe,{spacing:2,pt:4,w:"100%",children:[e.jsx(te,{as:or,to:`/dashboard/vehicules/${A.parc}`,leftIcon:e.jsx(Bs,{}),size:"sm",flex:1,children:"Grer"}),e.jsx(te,{leftIcon:e.jsx(E1,{}),size:"sm",onClick:()=>C(A),children:"QR"})]})]})})]},A.parc))}),E.length===0&&!r&&e.jsx(jn,{py:20,children:e.jsx(k,{color:"gray.500",children:"Aucun vhicule trouv"})}),e.jsxs(Ct,{isOpen:d,onClose:()=>g(!1),isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsxs(_t,{children:["QR Code - ",p?.parc]}),e.jsx(Bt,{}),e.jsx(wt,{pb:6,children:e.jsxs(ie,{spacing:4,children:[e.jsx(ue,{ref:v,children:e.jsx(rD,{value:`${NT}/mobile/v/${p?.parc}`,size:200,level:"M"})}),e.jsx(k,{fontSize:"sm",color:"gray.600",textAlign:"center",children:`${NT}/mobile/v/${p?.parc}`}),e.jsx(te,{onClick:T,colorScheme:"blue",children:"Tlcharger"})]})})]})]})]})},tQ=(ko||"https://attractive-kindness-rbe-serveurs.up.railway.app").replace(/\/+$/,""),nQ=(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+|\/+$/g,""),Rg=()=>(localStorage.getItem("rbe_api_vehicles_path")||`${nQ}/vehicles`).replace(/^\/+/,"").replace(/\/+$/,""),rQ=()=>(localStorage.getItem("rbe_api_origin")||tQ).replace(/\/+$/,""),Aa=t=>{const n=String(t||"").replace(/^\/+/,""),r=rQ(),i=`/${n}`,l=r?`${r}/${n}`:null,u=[i];return l&&u.push(l),u},hu=async(t,n)=>{let r=null;for(const i of t)try{const l=await fetch(i,n);if(!l.ok){r=new Error(`HTTP ${l.status}`);continue}if(!(l.headers.get("content-type")||"").toLowerCase().includes("application/json")){r=new Error("non-json");continue}return await l.json()}catch(l){r=l}throw r||new Error("fetch failed")};function sQ(){const{parc:t}=Mx(),[n]=iz(),r=mn(),i=la(),l=n.get("t")||"",{matricule:u,setMatricule:d,token:g}=xs(),[p,m]=y.useState(l||""),[x,v]=y.useState(null),[S,E]=y.useState([]),[C,T]=y.useState([]),[A,D]=y.useState(!0),[M,R]=y.useState(!1),[P,z]=y.useState(!1),[O,G]=y.useState(!1),[q,ce]=y.useState(!1),[he,se]=y.useState(u||""),[ge,Ae]=y.useState(!1),[de,re]=y.useState([]),[K,W]=y.useState(!1),[H,Ee]=y.useState(""),[B,ae]=y.useState([]),[me,$]=y.useState(""),[F,U]=y.useState(""),[Y,be]=y.useState(""),[Te,Re]=y.useState(""),[nt,ht]=y.useState(""),[rt,zt]=y.useState(""),[Ue,qt]=y.useState(""),[Se,Ke]=y.useState(null),[Ot,le]=y.useState(null),ve=`rbe_current_usage_${t}`,[st,Mt]=y.useState(()=>{const Ge=localStorage.getItem(ve);return Ge?JSON.parse(Ge):null}),Mn=Ge=>{Mt(Ge),Ge?localStorage.setItem(ve,JSON.stringify(Ge)):localStorage.removeItem(ve)},ar=()=>new Promise(Ge=>{if(!("geolocation"in navigator))return Ge(null);navigator.geolocation.getCurrentPosition(At=>Ge({lat:At.coords.latitude,lng:At.coords.longitude,accuracy:At.coords.accuracy}),()=>Ge(null),{enableHighAccuracy:!0,timeout:8e3,maximumAge:3e4})});y.useEffect(()=>{if(P&&!O){const Ge=new Date;be(Ge.toISOString().slice(0,10)),Re(Ge.toTimeString().slice(0,5)),ar().then(Ke)}if(P&&O){const Ge=new Date;ht(Ge.toISOString().slice(0,10)),zt(Ge.toTimeString().slice(0,5)),ar().then(le)}P||G(!1)},[P,O]);const He=async()=>{if(g)try{W(!0);const Ge=Aa(`${(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+/,"")}/members?limit=500`),At=await hu(Ge,{headers:{Authorization:`Bearer ${g}`}});re(Array.isArray(At?.members)?At.members:[])}catch{re([])}finally{W(!1)}},it=(Ge=p,At=u)=>{const an={"Content-Type":"application/json"};return Ge?an["x-qr-token"]=Ge:At&&(an["x-user-matricule"]=At),g&&(an.Authorization=`Bearer ${g}`),an};y.useEffect(()=>{let Ge=!1;return(async()=>{try{D(!0);const At=it(p),an=Rg(),yn=Aa(`${an}/${encodeURIComponent(t)}`),en=Aa(`${an}/${encodeURIComponent(t)}/reports`),Dn=Aa(`${an}/${encodeURIComponent(t)}/usages`),[at,Ln,br]=await Promise.all([hu(yn,{headers:At}),hu(en,{headers:At}).catch(()=>[]),hu(Dn,{headers:At}).catch(()=>[])]);if(Ge)return;v(at);const Xr=Array.isArray(Ln)?Ln.map(un=>({id:un.id,type:un.type||"Rapport",date:un.createdAt||un.date||new Date().toISOString(),note:un.description||un.note||"",createdBy:un.createdBy||un.author||""})):[];E(Xr),T(Array.isArray(br)?br:[])}catch(At){console.warn("fetch vehicle failed:",At),v(null),E([]),T([])}finally{Ge||D(!1)}})(),()=>{Ge=!0}},[t,p]);const It=async Ge=>{if(Ge?.preventDefault?.(),!he?.trim())return r({status:"warning",title:"Matricule requis"});try{Ae(!0),d(he.trim()),r({status:"success",title:"Connect",description:he.trim()}),m(""),setTimeout(()=>{(async()=>{try{D(!0);const At=it("",he.trim()),an=Rg(),yn=Aa(`${an}/${encodeURIComponent(t)}`),en=Aa(`${an}/${encodeURIComponent(t)}/reports`),Dn=Aa(`${an}/${encodeURIComponent(t)}/usages`),[at,Ln,br]=await Promise.all([hu(yn,{headers:At}),hu(en,{headers:At}).catch(()=>[]),hu(Dn,{headers:At}).catch(()=>[])]);v(at);const Xr=Array.isArray(Ln)?Ln.map(un=>({id:un.id,type:un.type||"Rapport",date:un.createdAt||un.date||new Date().toISOString(),note:un.description||un.note||"",createdBy:un.createdBy||un.author||""})):[];E(Xr),T(Array.isArray(br)?br:[])}catch{r({status:"error",title:"Accs refus"})}finally{D(!1)}})()},250)}finally{Ae(!1)}},Xe=async Ge=>{try{const At=Rg(),an=Aa(`${At}/${encodeURIComponent(t)}/reports`),yn=await fetch(an[0],{method:"POST",headers:it(),body:JSON.stringify({description:Ge?.note?`${Ge.type||"vnement"}: ${Ge.note}`:Ge?.type||"vnement"})});if(!yn.ok){const at=await yn.json().catch(()=>({error:"err"}));throw new Error(at?.error||yn.statusText||"Erreur")}const en=await yn.json(),Dn={id:en.id,type:"Rapport",date:en.createdAt||new Date().toISOString(),note:en.description||"",createdBy:en.createdBy||""};return E(at=>[Dn,...at]),r({status:"success",title:"vnement ajout"}),en}catch(At){throw console.error(At),r({status:"error",title:"Impossible d'ajouter l'vnement",description:String(At.message)}),At}},vt=async Ge=>{try{const At=Rg(),an=Aa(`${At}/${encodeURIComponent(t)}/usages`),yn=await fetch(an[0],{method:"POST",headers:it(),body:JSON.stringify(Ge)});if(!yn.ok){const Dn=await yn.json().catch(()=>({error:"err"}));throw new Error(Dn?.error||yn.statusText||"Erreur")}const en=await yn.json();return T(Dn=>[en,...Dn]),en}catch(At){throw console.error(At),r({status:"error",title:"Impossible d'ajouter l'usage",description:String(At.message)}),At}},Pn=async(Ge,At)=>{try{const an=Aa(`usages/${encodeURIComponent(Ge)}`),yn=await fetch(an[0],{method:"PUT",headers:it(),body:JSON.stringify(At)});if(!yn.ok){const Dn=await yn.json().catch(()=>({error:"err"}));throw new Error(Dn?.error||yn.statusText||"Erreur")}const en=await yn.json();return T(Dn=>Dn.map(at=>at.id===en.id?en:at)),en}catch(an){throw console.error(an),r({status:"error",title:"Impossible de mettre  jour l'usage",description:String(an.message)}),an}};return A?e.jsx(jn,{p:8,children:e.jsx(hn,{size:"lg"})}):e.jsxs(ue,{p:4,maxW:"720px",mx:"auto",children:[x?e.jsxs(ue,{children:[e.jsx(De,{size:"md",children:x.modele||`Parc ${x.parc}`}),e.jsx(k,{mt:1,opacity:.8,children:x.immat?`${x.immat}  Parc ${x.parc}`:`Parc ${x.parc}`}),e.jsxs(ca,{spacing:4,mt:6,children:[e.jsx(te,{colorScheme:"red",onClick:()=>R(!0),children:"Signaler une anomalie"}),!st&&e.jsx(te,{colorScheme:"orange",onClick:()=>{G(!1),z(!0)},children:"Dmarrer un pointage"}),st&&e.jsx(te,{colorScheme:"green",onClick:()=>{G(!0),z(!0)},children:"Terminer le pointage"}),e.jsx(te,{colorScheme:"blue",onClick:()=>ce(!0),children:"Ajouter un vnement au vhicule"})]}),e.jsxs(ue,{mt:6,children:[e.jsx(De,{size:"sm",mb:2,children:"Derniers vnements"}),e.jsxs(ie,{spacing:2,align:"stretch",children:[S.length===0&&e.jsx(k,{opacity:.7,children:"Aucun vnement"}),S.map(Ge=>e.jsxs(ue,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(k,{fontSize:"sm",children:[e.jsx("b",{children:Ge.type}),"  ",new Date(Ge.date).toLocaleString()]}),Ge.note&&e.jsx(k,{mt:1,fontSize:"sm",children:Ge.note}),e.jsxs(k,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",Ge.createdBy||""]})]},Ge.id))]})]}),e.jsxs(ue,{mt:6,children:[e.jsx(De,{size:"sm",mb:2,children:"Derniers passages"}),e.jsxs(ie,{spacing:2,align:"stretch",children:[C.length===0&&e.jsx(k,{opacity:.7,children:"Aucun passage"}),C.map(Ge=>e.jsxs(ue,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(k,{fontSize:"sm",children:[Ge.conducteur||"","  ",Ge.km?`${Ge.km} km`:"","  ",Ge.durationMin?`${Ge.durationMin} min`:""]}),Ge.note&&e.jsx(k,{mt:1,fontSize:"sm",children:Ge.note}),e.jsxs(k,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",Ge.createdBy||""]})]},Ge.id))]})]})]}):e.jsxs(ue,{textAlign:"center",py:8,children:[e.jsx(De,{size:"md",children:"Accs restreint"}),e.jsx(k,{mt:2,opacity:.8,children:"Ce carnet est accessible uniquement via le QR code du vhicule ou aprs authentification."}),e.jsx(ue,{mt:6,as:"form",onSubmit:It,maxW:"360px",mx:"auto",children:e.jsxs(ie,{spacing:3,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Matricule"}),e.jsx(ye,{value:he,onChange:Ge=>se(Ge.target.value),placeholder:"ex: w.belaidi"})]}),e.jsxs(oe,{children:[e.jsx(te,{colorScheme:"blue",onClick:It,isLoading:ge,children:"Se connecter"}),e.jsx(te,{variant:"ghost",onClick:()=>i(-1),children:"Retour"})]})]})}),e.jsx(k,{mt:4,fontSize:"sm",opacity:.8,children:"Astuce : scannez le QR sur le vhicule pour accder sans vous connecter."})]}),e.jsxs(Ct,{isOpen:M,onClose:()=>R(!1),isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Signaler une anomalie"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsxs(k,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type d'anomalie"}),e.jsx(ye,{id:"anom-type",placeholder:"ex: Frein / Porte / Moteur"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{id:"anom-note",placeholder:"Dcris l'anomalie..."})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:()=>R(!1),children:"Annuler"}),e.jsx(te,{colorScheme:"red",onClick:async()=>{const Ge=document.getElementById("anom-type")?.value||"Anomalie",At=document.getElementById("anom-note")?.value||"";try{await Xe({type:`Anomalie: ${Ge}`,note:At}),R(!1)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(Ct,{isOpen:P,onClose:()=>z(!1),isCentered:!0,onOverlayClick:()=>{},children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:O?"Terminer le pointage":"Dmarrer un pointage"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsxs(k,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Conducteur"}),e.jsx(ye,{id:"pass-conducteur",placeholder:"Nom ou matricule"})]}),!O&&e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Date d'arrive"}),e.jsx(ye,{type:"date",value:Y,onChange:Ge=>be(Ge.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Heure d'arrive"}),e.jsx(ye,{type:"time",value:Te,onChange:Ge=>Re(Ge.target.value)})]})]}),Se&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[" Arrive GPS: ",Se.lat.toFixed(5),",",Se.lng.toFixed(5)," (",Math.round(Se.accuracy),"m)"]})]}),O&&e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Date de sortie"}),e.jsx(ye,{type:"date",value:nt,onChange:Ge=>ht(Ge.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Heure de sortie"}),e.jsx(ye,{type:"time",value:rt,onChange:Ge=>zt(Ge.target.value)})]})]}),Ot&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[" Sortie GPS: ",Ot.lat.toFixed(5),",",Ot.lng.toFixed(5)," (",Math.round(Ot.accuracy),"m)"]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Membres prsents"}),e.jsx(ye,{placeholder:"Rechercher un adhrent (nom, prnom, n)",value:H,onChange:Ge=>Ee(Ge.target.value),onFocus:()=>{de.length===0&&He()}}),e.jsxs(ue,{mt:2,maxH:"180px",overflowY:"auto",border:"1px solid #eee",borderRadius:"md",p:2,children:[K&&e.jsx(jn,{py:3,children:e.jsx(hn,{size:"sm"})}),!K&&de.filter(Ge=>{if(!H.trim())return!0;const At=H.toLowerCase();return[Ge.firstName,Ge.lastName,Ge.memberNumber,Ge.email].filter(Boolean).some(an=>String(an).toLowerCase().includes(At))}).slice(0,50).map(Ge=>{const At=Ge.id,an=B.includes(At),yn=`${Ge.lastName?.toUpperCase()||""} ${Ge.firstName||""}${Ge.memberNumber?`  ${Ge.memberNumber}`:""}`.trim();return e.jsxs(oe,{py:1,spacing:3,children:[e.jsx("input",{type:"checkbox",checked:an,onChange:en=>{ae(Dn=>en.target.checked?[...Dn,At]:Dn.filter(at=>at!==At))}}),e.jsx(k,{fontSize:"sm",children:yn})]},At)}),!K&&de.length===0&&e.jsx(k,{fontSize:"sm",opacity:.7,children:"Aucun adhrent charg. Connectez-vous pour voir la liste."})]})]}),e.jsxs(oe,{children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Invit - Prnom"}),e.jsx(ye,{value:me,onChange:Ge=>$(Ge.target.value),placeholder:"Prnom invit"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Invit - Nom"}),e.jsx(ye,{value:F,onChange:Ge=>U(Ge.target.value),placeholder:"Nom invit"})]})]}),O&&e.jsxs(ee,{children:[e.jsx(J,{children:"Actions ralises"}),e.jsx(Yt,{value:Ue,onChange:Ge=>qt(Ge.target.value),placeholder:"Dtaillez les actions ralises pendant le passage",rows:4})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:()=>z(!1),children:"Annuler"}),e.jsx(te,{colorScheme:O?"green":"orange",onClick:async()=>{const Ge=document.getElementById("pass-conducteur")?.value||"",an=de.filter(br=>B.includes(br.id)).map(br=>`${br.firstName||""} ${br.lastName||""}`.trim()).filter(Boolean),yn=me||F?`Invit: ${[me,F].filter(Boolean).join(" ")}`:"",en=[Ge?`Conducteur: ${Ge}`:"",...an,yn].filter(Boolean).join("; "),Dn=(br,Xr)=>{if(!br&&!Xr)return null;const un=br||new Date().toISOString().split("T")[0],$s=Xr||new Date().toTimeString().slice(0,5),[Ts,$o,Ga]=un.split("-").map(Number),[ua,Pi]=$s.split(":").map(Number);return new Date(Ts,$o-1,Ga,ua,Pi,0).toISOString()},at=Dn(Y,Te),Ln=nt||rt?Dn(nt,rt):null;try{if(O){if(!st)throw new Error("Aucun pointage en cours");const br=Ot?`
Sortie GPS: ${Ot.lat?.toFixed(5)},${Ot.lng?.toFixed(5)} (${Math.round(Ot.accuracy||0)}m)`:"",Xr=Ue?`
Actions:
${Ue}`:"";await Pn(st,{endedAt:Ln||new Date().toISOString(),conducteur:Ge||null,participants:en||null,note:`${Xr}${br}`.trim()}),Mn(null),r({status:"success",title:"Pointage termin"})}else{const br=Se?`
Arrive GPS: ${Se.lat?.toFixed(5)},${Se.lng?.toFixed(5)} (${Math.round(Se.accuracy||0)}m)`:"",Xr=await vt({startedAt:at||new Date().toISOString(),conducteur:Ge||null,participants:en||null,note:br||""});Mn(Xr?.id||null),r({status:"success",title:"Pointage dmarr"})}z(!1),ae([]),$(""),U(""),Ee(""),be(""),Re(""),ht(""),zt(""),qt(""),Ke(null),le(null)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(Ct,{isOpen:q,onClose:()=>ce(!1),isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Ajouter un vnement"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsxs(k,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type"}),e.jsx(ye,{id:"evt-type",placeholder:"ex: Rvision"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Note"}),e.jsx(Yt,{id:"evt-note",placeholder:"Dtails..."})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:()=>ce(!1),children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:async()=>{const Ge=document.getElementById("evt-type")?.value||"vnement",At=document.getElementById("evt-note")?.value||"";try{await Xe({type:Ge,note:At}),ce(!1)}catch{}},children:"Ajouter"})]})]})]})]})}function sD({value:t=[],onChange:n,uploadEndpoint:r,deleteEndpoint:i,authHeader:l}){const u=mn(),[d,g]=y.useState(!1),p=(S,E)=>{const C=[...t],T=S+E;T<0||T>=C.length||([C[S],C[T]]=[C[T],C[S]],n(C))},m=async S=>{if(!i){n(t.filter(E=>E!==S));return}try{const E=await fetch(i,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:l},body:JSON.stringify({image:S})});if(!E.ok)throw new Error;const C=await E.json();n(C.gallery||[])}catch{n(t.filter(E=>E!==S))}},x=async S=>{if(!S?.length)return;g(!0);const E=new FormData;[...S].forEach(C=>E.append("images",C)),console.log(" Upload debug:",{endpoint:r,filesCount:S.length,hasAuth:!!l});try{const C=await fetch(r,{method:"POST",headers:{Authorization:l},body:E});if(console.log(" Upload response:",{status:C.status,statusText:C.statusText,headers:Object.fromEntries(C.headers)}),!C.ok){const A=await C.text().catch(()=>"");throw console.error(" Upload failed:",C.status,A),u({status:"error",title:"chec upload",description:`Erreur ${C.status}: ${A||C.statusText}`}),new Error(`HTTP ${C.status}: ${A}`)}const T=await C.json();n(T.gallery||[]),u({status:"success",title:"Images ajoutes"})}catch(C){console.error("Upload error",C),u({status:"error",title:"chec upload",description:C.message||"Erreur rseau"})}finally{g(!1)}},v=S=>!S||S.startsWith("http://")||S.startsWith("https://")||S.startsWith("data:")||S.startsWith("blob:")?S:"https://attractive-kindness-rbe-serveurs.up.railway.app"+S;return e.jsxs(ue,{children:[e.jsx(ye,{type:"file",multiple:!0,accept:"image/*",onChange:S=>x(S.target.files),isDisabled:d,mb:3}),t.length===0&&e.jsx(k,{fontSize:"sm",color:"gray.500",mb:2,children:"Aucune image dans la galerie."}),e.jsx(gt,{columns:{base:2,md:4},spacing:3,children:t.map((S,E)=>e.jsxs(ue,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:1,children:[e.jsx(Mi,{src:v(S),w:"100%",h:"110px",objectFit:"cover",borderRadius:"sm"}),e.jsxs(oe,{mt:1,justify:"space-between",children:[e.jsxs(oe,{children:[e.jsx(xt,{"aria-label":"Monter",icon:e.jsx(j1,{}),size:"xs",onClick:()=>p(E,-1),isDisabled:E===0}),e.jsx(xt,{"aria-label":"Descendre",icon:e.jsx(b1,{}),size:"xs",onClick:()=>p(E,1),isDisabled:E===t.length-1})]}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"xs",colorScheme:"red",onClick:()=>m(S)})]})]},S+E))})]})}function iQ({value:t=[],onChange:n}){const r=(u,d,g)=>{const p=[...t];p[u]={...p[u],[d]:g},n(p)},i=()=>n([...t||[],{label:"",value:""}]),l=u=>{const d=[...t];d.splice(u,1),n(d)};return e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(J,{mb:0,children:"Caractristiques"}),e.jsx(te,{size:"xs",leftIcon:e.jsx(Bn,{}),onClick:i,children:"Ajouter"})]}),(t||[]).map((u,d)=>e.jsxs(oe,{align:"flex-start",children:[e.jsx(ye,{placeholder:"Label",value:u.label,onChange:g=>r(d,"label",g.target.value)}),e.jsx(ye,{placeholder:"Valeur",value:u.value,onChange:g=>r(d,"value",g.target.value)}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx($X,{}),size:"sm",onClick:()=>l(d)})]},d))]})}const IT=[{value:"disponible",label:" Disponible",color:"green"},{value:"preserv",label:" Prserv",color:"blue"},{value:"en_restauration",label:" En restauration",color:"orange"},{value:"en_achat",label:" En achat",color:"yellow"},{value:"en_panne",label:" En panne",color:"red"},{value:"maintenance",label:" Maintenance",color:"orange"},{value:"a_venir",label:"  venir",color:"gray"}],oQ=[{value:"diesel",label:" Diesel"},{value:"essence",label:" Essence"},{value:"electrique",label:" lectrique"},{value:"gpl",label:"GPL"},{value:"hybride",label:"Hybride"},{value:"autre",label:"Autre"}];function aQ({data:t={},onUpdate:n=()=>{},readOnly:r=!1}){const i=(l,u)=>{n(l,u)};return e.jsxs(ie,{align:"stretch",spacing:6,children:[e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:4,fontSize:"lg",children:" Informations techniques"}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"600",children:"tat du vhicule"}),e.jsx(lt,{value:t.etat||"disponible",onChange:l=>i("etat",l.target.value),isDisabled:r,placeholder:"Slectionner l'tat",children:IT.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsxs(k,{fontSize:"xs",color:"gray.500",mt:1,children:["Statut du vhicule: ",t.etat?IT.find(l=>l.value===t.etat)?.label:"Non dfini"]})]}),e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"600",children:"Type d'nergie"}),e.jsx(lt,{value:t.energie||"",onChange:l=>i("energie",l.target.value),isDisabled:r,placeholder:"Slectionner l'nergie",children:oQ.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Carburant/nergie du vhicule"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"600",children:"Immatriculation"}),e.jsx(ye,{type:"text",placeholder:"ex: FG-920-RE",value:t.immat||"",onChange:l=>i("immat",l.target.value),isReadOnly:r}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Numro de plaque d'immatriculation"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"600",children:"Mise en circulation"}),e.jsx(ye,{type:"date",value:t.miseEnCirculation||"",onChange:l=>i("miseEnCirculation",l.target.value),isReadOnly:r}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Date de mise en service"})]})]})]}),e.jsx(ue,{children:e.jsxs(k,{fontSize:"xs",color:"gray.600",p:3,bg:"blue.50",borderRadius:"md",children:[" ",e.jsx("strong",{children:"Important:"})," Toutes les informations techniques peuvent tre modifies  tout moment. Ces donnes ne sont pas geles et restent flexibles selon les besoins de gestion du parc."]})})]})}const lQ="https://attractive-kindness-rbe-serveurs.up.railway.app";function cQ(){const t=la(),n=mn(),[r,i]=y.useState({parc:"",modele:"",marque:"",subtitle:"",etat:"disponible",immat:"",energie:"",miseEnCirculation:"",description:"",history:"",caracteristiques:[],gallery:[],isPublic:!1}),[l,u]=y.useState(!1),d=(p,m)=>i(x=>({...x,[p]:m})),g=async()=>{if(!r.parc.trim()){n({status:"error",title:"Parc requis"});return}u(!0);try{const p=await fetch(`${lQ}/vehicles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({parc:r.parc.trim(),modele:r.modele,marque:r.marque,subtitle:r.subtitle,etat:r.etat,immat:r.immat,energie:r.energie,miseEnCirculation:r.miseEnCirculation,description:r.description,history:r.history,caracteristiques:r.caracteristiques,gallery:r.gallery,isPublic:r.isPublic})});if(!p.ok){const x=await p.json();throw new Error(x.error||"Erreur cration")}const m=await p.json();n({status:"success",title:"Vhicule cr !",description:`Le vhicule ${r.parc} a t cr avec succs`}),t(`/dashboard/vehicules/${m.parc}`)}catch(p){console.error(" Erreur cration:",p),n({status:"error",title:"Erreur sauvegarde",description:p.message})}finally{u(!1)}};return e.jsxs(ue,{p:8,children:[e.jsxs(oe,{mb:6,children:[e.jsx(te,{as:"a",href:"/dashboard/vehicules",leftIcon:e.jsx(BP,{}),variant:"outline",children:"Retour"}),e.jsx(De,{children:" Crer un vhicule"})]}),e.jsxs(ie,{align:"stretch",spacing:6,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Identit du vhicule"}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Numro de parc"}),e.jsx(ye,{placeholder:"ex: 920",value:r.parc,onChange:p=>d("parc",p.target.value),fontWeight:"bold"}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:"Identifiant unique du vhicule"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Marque"}),e.jsx(ye,{placeholder:"ex: Mercedes-Benz",value:r.marque,onChange:p=>d("marque",p.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Modle"}),e.jsx(ye,{placeholder:"ex: Citaro",value:r.modele,onChange:p=>d("modele",p.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Sous-titre"}),e.jsx(ye,{placeholder:"ex: Un grand classique",value:r.subtitle,onChange:p=>d("subtitle",p.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Immatriculation"}),e.jsx(ye,{placeholder:"ex: FG-920-RE",value:r.immat,onChange:p=>d("immat",p.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"tat"}),e.jsx(ye,{placeholder:"ex: Disponible, Prserv, En restauration...",value:r.etat,onChange:p=>d("etat",p.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"nergie"}),e.jsx(ye,{placeholder:"ex: Diesel",value:r.energie,onChange:p=>d("energie",p.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Mise en circulation"}),e.jsx(ye,{type:"date",value:r.miseEnCirculation,onChange:p=>d("miseEnCirculation",p.target.value)})]})]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Descriptions"}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{rows:4,placeholder:"Description gnrale du vhicule...",value:r.description,onChange:p=>d("description",p.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Historique"}),e.jsx(Yt,{rows:5,placeholder:"Historique, anecdotes, restaurations...",value:r.history,onChange:p=>d("history",p.target.value)})]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Caractristiques techniques"}),e.jsx(aQ,{data:r,onUpdate:d})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Caractristiques additionnelles"}),e.jsx(iQ,{value:r.caracteristiques,onChange:p=>d("caracteristiques",p)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Galerie photos"}),e.jsx(sD,{value:r.gallery,onChange:p=>d("gallery",p),parc:r.parc||"nouveau"})]})})}),e.jsx(Ne,{bg:"blue.50",children:e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Publication"}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:0,flex:1,children:"Afficher sur le site public"}),e.jsx(Sr,{isChecked:r.isPublic,onChange:p=>d("isPublic",p.target.checked),size:"lg",colorScheme:"green"})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:r.isPublic?" Ce vhicule sera visible sur le site public":" Ce vhicule n'est visible que par les administrateurs"})]})})}),e.jsx(vn,{}),e.jsxs(oe,{spacing:4,justify:"flex-end",children:[e.jsx(te,{variant:"outline",onClick:()=>t("/dashboard/vehicules"),children:"Annuler"}),e.jsx(te,{colorScheme:"green",leftIcon:e.jsx(Du,{}),isLoading:l,loadingText:"Cration...",onClick:g,size:"lg",children:"Crer le vhicule"})]})]})]})}function uQ({parc:t,marque:n,modele:r,onSuccess:i}){const{isOpen:l,onOpen:u,onClose:d}=Nt(),[g,p]=y.useState(!1),[m,x]=y.useState(""),v=mn(),S=la(),E="https://attractive-kindness-rbe-serveurs.up.railway.app",C=`DELETE ${t}`,T=async()=>{if(m!==C){v({status:"error",title:"Confirmation incorrecte",description:`Veuillez taper exactement: ${C}`});return}p(!0);try{const A=await fetch(`${E}/vehicles/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!A.ok){const D=await A.json();throw new Error(D.error||"Erreur lors de la suppression")}v({status:"success",title:"Vhicule supprim",description:`Le vhicule ${t} a t supprim avec succs`,duration:3e3}),d(),x(""),setTimeout(()=>{i?i():S("/dashboard/vehicules")},500)}catch(A){console.error("Erreur suppression:",A),v({status:"error",title:"Erreur suppression",description:A.message})}finally{p(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(te,{leftIcon:e.jsx(hr,{}),colorScheme:"red",variant:"outline",onClick:u,size:"sm",children:"Supprimer ce vhicule"}),e.jsxs(Ct,{isOpen:l,onClose:d,isCentered:!0,size:"md",children:[e.jsx(Tt,{backdropFilter:"blur(5px)"}),e.jsxs(kt,{children:[e.jsx(_t,{children:e.jsxs(oe,{spacing:2,color:"red.600",children:[e.jsx(OP,{size:24}),e.jsx(k,{children:"Supprimer le vhicule?"})]})}),e.jsx(Bt,{isDisabled:g}),e.jsx(wt,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsxs(ue,{bg:"red.50",p:3,borderRadius:"md",borderLeft:"4px",borderColor:"red.500",children:[e.jsx(k,{fontWeight:"600",color:"red.700",mb:2,children:" Action irrversible"}),e.jsxs(k,{fontSize:"sm",color:"red.600",children:["Cette action ne peut pas tre annule. Le vhicule ",t," (",n," ",r,") et toutes ses donnes seront supprims dfinitivement."]})]}),e.jsxs(ue,{bg:"gray.50",p:3,borderRadius:"md",children:[e.jsx(k,{fontWeight:"600",fontSize:"sm",mb:2,children:"Vhicule  supprimer:"}),e.jsxs(ie,{align:"stretch",spacing:1,fontSize:"sm",children:[e.jsxs(k,{children:[e.jsx("strong",{children:"Parc:"})," ",t]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Marque:"})," ",n||"Non dfini"]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Modle:"})," ",r||"Non dfini"]})]})]}),e.jsxs(ue,{children:[e.jsxs(k,{fontWeight:"600",fontSize:"sm",mb:2,children:["Pour confirmer, tapez: ",e.jsx("code",{style:{background:"#f0f0f0",padding:"2px 6px",borderRadius:"3px",fontWeight:"bold"},children:C})]}),e.jsx("input",{type:"text",placeholder:C,value:m,onChange:A=>x(A.target.value),style:{width:"100%",padding:"8px 12px",border:"2px solid #e2e8f0",borderRadius:"4px",fontSize:"14px",fontFamily:"monospace",boxSizing:"border-box"},disabled:g,autoFocus:!0})]})]})}),e.jsx(Wt,{children:e.jsxs(oe,{spacing:3,children:[e.jsx(te,{variant:"outline",onClick:d,isDisabled:g,children:"Annuler"}),e.jsx(te,{colorScheme:"red",onClick:T,isLoading:g,loadingText:"Suppression...",isDisabled:m!==C,children:"Supprimer dfinitivement"})]})})]})]})]})}const dQ=window.location.origin;function hQ({etat:t}){const n={disponible:"green",en_panne:"red",maintenance:"orange",Service:"green",Prserv:"blue","A VENIR":"gray",Restauration:"orange"};return e.jsx(et,{colorScheme:n[t]||"purple",children:t})}function fQ({vehicle:t,parc:n,onChange:r,authHeader:i}){const{isOpen:l,onOpen:u,onClose:d}=Nt(),g=y.useRef(),[p,m]=y.useState(!1),[x,v]=y.useState(null),[S,E]=y.useState(!1),C=mn(),T=async P=>{if(!P)return;m(!0);const z=new FormData;z.append("image",P);try{const O=await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${n}/background`,{method:"POST",headers:{Authorization:i},body:z});if(!O.ok)throw new Error("Upload failed");const G=await O.json();r({backgroundImage:G.backgroundImage}),C({status:"success",title:"Image de fond mise  jour"})}catch{C({status:"error",title:"Erreur upload image de fond"})}finally{m(!1)}},A=async()=>{try{await Pt.put(`/vehicles/${n}`,{backgroundImage:null,backgroundPosition:null}),r({backgroundImage:null,backgroundPosition:null}),C({status:"success",title:"Image de fond supprime"})}catch{C({status:"error",title:"Erreur suppression image de fond"})}},D=async P=>{const z=P.target.getBoundingClientRect(),O=(P.clientX-z.left)/z.width*100,G=(P.clientY-z.top)/z.height*100,q=`${O.toFixed(1)}% ${G.toFixed(1)}%`;v({x:O,y:G});try{await Pt.put(`/vehicles/${n}`,{backgroundPosition:q}),r({backgroundPosition:q}),C({status:"success",title:"Position focale sauvegarde",description:q})}catch{C({status:"error",title:"Erreur sauvegarde position"})}},M=t.backgroundImage??null,R=M&&t.backgroundPosition||"center";return e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",cursor:"pointer",onClick:()=>E(!S),children:[e.jsx(De,{size:"md",children:" Image de fond Hero"}),e.jsxs(oe,{spacing:2,children:[M&&S&&e.jsx(te,{leftIcon:e.jsx(hr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:P=>{P.stopPropagation(),A()},children:"Supprimer"}),e.jsx(xt,{icon:S?e.jsx(j1,{}):e.jsx(b1,{}),size:"sm",variant:"ghost","aria-label":S?"Replier":"Dplier"})]})]}),e.jsx($S,{in:S,animateOpacity:!0,children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Gestion de l'image de fond plein cran pour la page publique"}),e.jsxs(oe,{children:[e.jsx(te,{leftIcon:e.jsx(FX,{}),size:"sm",onClick:P=>{P.stopPropagation(),g.current?.click()},isLoading:p,colorScheme:"blue",children:"Changer le fond"}),M&&e.jsx(te,{leftIcon:e.jsx(OX,{}),size:"sm",colorScheme:"orange",onClick:P=>{P.stopPropagation(),u()},children:"Position focale"})]})]}),e.jsx(ye,{ref:g,type:"file",accept:"image/*",onChange:P=>T(P.target.files[0]),display:"none"}),M&&e.jsxs(ue,{borderRadius:"md",overflow:"hidden",bg:"gray.100",border:"1px solid",borderColor:"gray.200",children:[e.jsx(Mi,{src:M,alt:"Aperu image de fond",w:"100%",h:"200px",objectFit:"cover",objectPosition:R}),e.jsxs(k,{fontSize:"sm",color:"gray.600",p:2,bg:"gray.50",children:[" Position focale : ",R]})]}),!M&&e.jsxs(ue,{borderRadius:"md",border:"2px dashed",borderColor:"gray.300",p:8,textAlign:"center",bg:"gray.50",children:[e.jsx(k,{color:"gray.500",mb:2,children:"Aucune image de fond dfinie"}),e.jsx(k,{fontSize:"sm",color:"gray.400",children:"La premire image de la galerie sera utilise par dfaut"})]})]})}),e.jsxs(Ct,{isOpen:l,onClose:d,size:"4xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:" Ajuster la position focale"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsx(k,{color:"gray.600",children:"Cliquez sur l'image pour dfinir le point focal qui sera visible sur la page publique"}),M&&e.jsxs(ue,{position:"relative",borderRadius:"md",overflow:"hidden",children:[e.jsx(Mi,{src:M,alt:"Rglage position focale",w:"100%",h:"400px",objectFit:"cover",cursor:"crosshair",onClick:D}),x&&e.jsx(ue,{position:"absolute",left:`${x.x}%`,top:`${x.y}%`,transform:"translate(-50%, -50%)",w:"20px",h:"20px",borderRadius:"50%",bg:"red.500",border:"2px solid white",boxShadow:"0 0 0 2px red.500",zIndex:1})]}),e.jsxs(k,{fontSize:"sm",color:"gray.500",mb:4,children:[" Position actuelle : ",R]})]})})]})]})]})}function pQ(){const{parc:t}=Mx(),n=la(),r=mn(),[i,l]=y.useState(!0),[u,d]=y.useState(!1),[g,p]=y.useState(null),[m,x]=y.useState({}),[v,S]=y.useState([]),E={marque:"Mercedes-Benz",modele:"Citaro ",subtitle:"Citaro 1 |  II |  | ",etat:"Prserv",type:"Bus",immat:"FG-920-RE",energie:"Diesel",miseEnCirculation:"2001-07-01",numerosFlotte:"592 / 720 / X / 920",constructeur:"Mercedes-Benz",longueur:"11,95 m",placesAssises:"32",placesDebout:"64",ufr:"1",statut:"Prserv",preservePar:"Association RtroBus Essonne",normeEuro:"Euro II",moteur:"Mercedes-Benz OM906hLA - 279 ch",boiteVitesses:"Automatique ZF5HP-502C",nombrePortes:"2",livree:"Grise",girouette:"Duhamel LED Oranges + Pastilles Vertes",climatisation:"Complte",description:"Ce vhicule est un exemple emblmatique de la gamme Citaro de premire gnration. Mis en service commercial en juillet 2001, il reprsente l'volution technologique des transports urbains du dbut des annes 2000. quip d'une climatisation complte et accessible aux personnes  mobilit rduite.",history:"Le Mercedes-Benz Citaro est un autobus urbain produit par Daimler AG depuis 1997. Ce modle a rvolutionn les transports publics europens avec son design moderne et ses innovations techniques. Notre exemplaire FG-920-RE a t command par Cars Bridet  Wissous pour le rseau du Palladin et mis en service en juillet 2001. Au cours de sa carrire, il a port successivement les numros 592, 720, X, puis 920. Il a assur la desserte Le Palladin jusqu'en aot 2014. Aprs plusieurs annes de service fidle, il est pass brivement par Brtigny en 2018, puis a rejoint Transdev STRAV  Limeil-Brvannes, avant d'tre exploit par Cars Sur. En mai 2025, ce vhicule historique a trouv sa place au sein de la collection de l'association RtroBus Essonne, o il tmoigne de l'volution du transport public francilien au dbut du XXIe sicle.",caracteristiques:[{label:"Numros de flotte",value:"592 / 720 / X / 920"},{label:"Constructeur",value:"Mercedes-Benz"},{label:"Modle",value:"Citaro "},{label:"Immatriculation",value:"FG-920-RE"},{label:"Mise en circulation",value:"juillet 2001"},{label:"Longueur",value:"11,95 m"},{label:"Places assises",value:"32"},{label:"Places debout",value:"64"},{label:"UFR",value:"1"},{label:"Statut",value:"Prserv"},{label:"Prserv par",value:"Association RtroBus Essonne"},{label:"nergie",value:"Diesel"},{label:"Norme Euro",value:"Euro II"},{label:"Moteur",value:"Mercedes-Benz OM906hLA - 279 ch"},{label:"Bote de vitesses",value:"Automatique ZF5HP-502C"},{label:"Nombre de portes",value:"2"},{label:"Livre",value:"Grise"},{label:"Girouette",value:"Duhamel LED Oranges + Pastilles Vertes"},{label:"Climatisation",value:"Complte"}]},C=y.useCallback(async()=>{if(t){l(!0);try{const R=await Pt.get(`/vehicles/${t}`);p(R);try{const z=await Pt.get(`/vehicles/${t}/usages`);S(Array.isArray(z)?z:[])}catch{S([])}const P={...E,...R,caracteristiques:R.caracteristiques&&R.caracteristiques.length>0?R.caracteristiques:E.caracteristiques,description:R.description||E.description,history:R.history||E.history};x(P)}catch(R){r({status:"error",title:R.message||"Erreur chargement"}),n("/dashboard/vehicules")}finally{l(!1)}}},[t,r,n]);y.useEffect(()=>{C()},[C]);const T=y.useCallback(()=>{const R=[{label:"Numros de flotte",value:m.numerosFlotte||""},{label:"Constructeur",value:m.constructeur||""},{label:"Modle",value:m.modele||""},{label:"Immatriculation",value:m.immat||""},{label:"Mise en circulation",value:m.miseEnCirculation?"juillet 2001":""},{label:"Longueur",value:m.longueur||""},{label:"Places assises",value:m.placesAssises||""},{label:"Places debout",value:m.placesDebout||""},{label:"UFR",value:m.ufr||""},{label:"Statut",value:m.statut||""},{label:"Prserv par",value:m.preservePar||""},{label:"nergie",value:m.energie||""},{label:"Norme Euro",value:m.normeEuro||""},{label:"Moteur",value:m.moteur||""},{label:"Bote de vitesses",value:m.boiteVitesses||""},{label:"Nombre de portes",value:m.nombrePortes||""},{label:"Livre",value:m.livree||""},{label:"Girouette",value:m.girouette||""},{label:"Climatisation",value:m.climatisation||""}].filter(P=>P.value);x(P=>({...P,caracteristiques:R}))},[m.numerosFlotte,m.constructeur,m.modele,m.immat,m.miseEnCirculation,m.longueur,m.placesAssises,m.placesDebout,m.ufr,m.statut,m.preservePar,m.energie,m.normeEuro,m.moteur,m.boiteVitesses,m.nombrePortes,m.livree,m.girouette,m.climatisation]);y.useEffect(()=>{T()},[T]);const A=async()=>{try{d(!0);const R=m.statut||m.etat;await Pt.put(`/vehicles/${t}`,{etat:R,marque:m.marque,modele:m.modele,type:m.type,immat:m.immat,energie:m.energie,miseEnCirculation:m.miseEnCirculation,subtitle:m.subtitle,description:m.description,history:m.history,caracteristiques:m.caracteristiques,gallery:m.gallery,backgroundImage:m.backgroundImage,backgroundPosition:m.backgroundPosition,isPublic:m.isPublic!==void 0?m.isPublic:g?.isPublic||!1,numerosFlotte:m.numerosFlotte,constructeur:m.constructeur,longueur:m.longueur,placesAssises:m.placesAssises,placesDebout:m.placesDebout,ufr:m.ufr,statut:m.statut,preservePar:m.preservePar,normeEuro:m.normeEuro,moteur:m.moteur,boiteVitesses:m.boiteVitesses,nombrePortes:m.nombrePortes,livree:m.livree,girouette:m.girouette,climatisation:m.climatisation}),r({status:"success",title:" Sauvegard avec succs",description:"Visible sur la page publique"}),C()}catch{r({status:"error",title:" Erreur sauvegarde"})}finally{d(!1)}},D=R=>{p(P=>({...P,...R})),x(P=>({...P,...R}))},M=()=>{x(R=>({...R,...E,parc:R.parc,id:R.id,createdAt:R.createdAt,updatedAt:R.updatedAt,gallery:R.gallery,backgroundImage:R.backgroundImage,backgroundPosition:R.backgroundPosition})),r({status:"info",title:" Donnes par dfaut restaures",description:"N'oubliez pas de sauvegarder"})};return i?e.jsx(jn,{h:"60vh",children:e.jsx(hn,{size:"xl"})}):g?(g.marque?`${g.marque}${g.modele}`:g.modele,e.jsxs(ue,{p:8,children:[e.jsxs(er,{align:"center",justify:"space-between",mb:6,children:[e.jsxs(oe,{children:[e.jsx(te,{leftIcon:e.jsx(BP,{}),variant:"ghost",onClick:()=>n("/dashboard/vehicules"),children:"Retour"}),e.jsxs(De,{size:"lg",children:[" dition vhicule ",g.parc]}),e.jsx(hQ,{etat:g.etat})]}),e.jsxs(oe,{children:[e.jsx(te,{size:"sm",variant:"outline",onClick:M,children:" Donnes par dfaut"}),e.jsx(te,{leftIcon:e.jsx(FP,{}),colorScheme:"blue",variant:"outline",onClick:()=>window.open(dQ+"/vehicles/"+t,"_blank"),children:" Voir la page publique"})]})]}),e.jsxs(ie,{spacing:8,align:"stretch",children:[e.jsx(ue,{bg:"blue.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"blue.200",children:e.jsx(fQ,{vehicle:g,parc:t,onChange:D,authHeader:`Bearer ${localStorage.getItem("token")}`})}),e.jsxs(ue,{bg:"gray.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"gray.200",children:[e.jsxs(er,{justify:"space-between",align:"center",mb:4,children:[e.jsx(De,{size:"md",children:" Informations principales"}),e.jsxs(ee,{display:"flex",alignItems:"center",w:"auto",children:[e.jsxs(J,{htmlFor:"isPublic",mb:"0",mr:3,fontWeight:"bold",children:[m.isPublic?" Visible":" Cach"," sur le site public:"]}),e.jsx(Sr,{id:"isPublic",isChecked:m.isPublic||!1,onChange:R=>x(P=>({...P,isPublic:R.target.checked})),colorScheme:m.isPublic?"green":"red",size:"lg"})]})]}),e.jsxs(gt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Parc"}),e.jsx(ye,{value:g.parc,isReadOnly:!0,bg:"gray.100"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Numros de flotte"}),e.jsx(ye,{value:m.numerosFlotte||"",onChange:R=>x(P=>({...P,numerosFlotte:R.target.value})),placeholder:"592 / 720 / X / 920"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Constructeur"}),e.jsx(ye,{value:m.constructeur||"",onChange:R=>x(P=>({...P,constructeur:R.target.value})),placeholder:"Mercedes-Benz"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Modle"}),e.jsx(ye,{value:m.modele||"",onChange:R=>x(P=>({...P,modele:R.target.value})),placeholder:"Citaro "})]})]}),e.jsxs(gt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Immatriculation"}),e.jsx(ye,{value:m.immat||"",onChange:R=>x(P=>({...P,immat:R.target.value})),placeholder:"FG-920-RE"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Mise en circulation"}),e.jsx(ye,{type:"date",value:m.miseEnCirculation?new Date(m.miseEnCirculation).toISOString().split("T")[0]:"",onChange:R=>x(P=>({...P,miseEnCirculation:R.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Longueur"}),e.jsx(ye,{value:m.longueur||"",onChange:R=>x(P=>({...P,longueur:R.target.value})),placeholder:"11,95 m"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Places assises"}),e.jsx(ye,{value:m.placesAssises||"",onChange:R=>x(P=>({...P,placesAssises:R.target.value})),placeholder:"32"})]})]}),e.jsxs(gt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Places debout"}),e.jsx(ye,{value:m.placesDebout||"",onChange:R=>x(P=>({...P,placesDebout:R.target.value})),placeholder:"64"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"UFR"}),e.jsx(ye,{value:m.ufr||"",onChange:R=>x(P=>({...P,ufr:R.target.value})),placeholder:"1"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Statut"}),e.jsxs(lt,{value:m.statut||"",onChange:R=>x(P=>({...P,statut:R.target.value})),children:[e.jsx("option",{value:"Prserv",children:"Prserv"}),e.jsx("option",{value:"Service",children:"Service"}),e.jsx("option",{value:"disponible",children:"Disponible"}),e.jsx("option",{value:"en_panne",children:"En panne"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"A VENIR",children:"A venir"}),e.jsx("option",{value:"Restauration",children:"Restauration"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"nergie"}),e.jsxs(lt,{value:m.energie||"",onChange:R=>x(P=>({...P,energie:R.target.value})),children:[e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"lectrique",children:"lectrique"}),e.jsx("option",{value:"Hybride",children:"Hybride"}),e.jsx("option",{value:"GNV",children:"GNV"})]})]})]}),e.jsx(gt,{columns:{base:1,md:1},spacing:4,mb:4,children:e.jsxs(ee,{children:[e.jsx(J,{children:"Prserv par"}),e.jsx(ye,{value:m.preservePar||"",onChange:R=>x(P=>({...P,preservePar:R.target.value})),placeholder:"Association RtroBus Essonne"})]})}),e.jsxs(gt,{columns:{base:1,md:2,lg:3},spacing:4,mb:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Norme Euro"}),e.jsx(ye,{value:m.normeEuro||"",onChange:R=>x(P=>({...P,normeEuro:R.target.value})),placeholder:"Euro II"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Moteur"}),e.jsx(ye,{value:m.moteur||"",onChange:R=>x(P=>({...P,moteur:R.target.value})),placeholder:"Mercedes-Benz OM906hLA - 279 ch"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Bote de vitesses"}),e.jsx(ye,{value:m.boiteVitesses||"",onChange:R=>x(P=>({...P,boiteVitesses:R.target.value})),placeholder:"Automatique ZF5HP-502C"})]})]}),e.jsxs(gt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Nombre de portes"}),e.jsx(ye,{value:m.nombrePortes||"",onChange:R=>x(P=>({...P,nombrePortes:R.target.value})),placeholder:"2"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Livre"}),e.jsx(ye,{value:m.livree||"",onChange:R=>x(P=>({...P,livree:R.target.value})),placeholder:"Grise"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Girouette"}),e.jsx(ye,{value:m.girouette||"",onChange:R=>x(P=>({...P,girouette:R.target.value})),placeholder:"Duhamel LED Oranges + Pastilles Vertes"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Climatisation"}),e.jsx(ye,{value:m.climatisation||"",onChange:R=>x(P=>({...P,climatisation:R.target.value})),placeholder:"Complte"})]})]}),e.jsxs(ee,{mt:4,children:[e.jsx(J,{children:"Sous-titre (badges affichs)"}),e.jsx(ye,{value:m.subtitle||"",onChange:R=>x(P=>({...P,subtitle:R.target.value})),placeholder:"Citaro 1 |  II |  | "}),e.jsx(k,{fontSize:"sm",color:"gray.600",mt:1,children:'Exemple avec mojis : "Citaro 1 |  II |  | "'})]}),e.jsx(Ne,{mt:6,bg:"blue.50",borderWidth:"2px",borderColor:"blue.200",children:e.jsx(Ie,{children:e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:0,flex:1,children:e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"bold",children:" Afficher sur le site public"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:g?.isPublic?" Ce vhicule est visible par tous":" Ce vhicule n'est visible que par les administrateurs"})]})}),e.jsx(Sr,{isChecked:g?.isPublic||!1,onChange:R=>p(P=>({...P,isPublic:R.target.checked})),size:"lg",colorScheme:"green"})]})})}),e.jsx(k,{fontSize:"xs",color:"blue.600",mt:4,fontStyle:"italic",children:" Les caractristiques techniques sont automatiquement mises  jour en fonction des champs ci-dessus"})]}),e.jsxs(ue,{bg:"green.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"green.200",children:[e.jsx(De,{size:"md",mb:4,children:" Textes descriptifs"}),e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:m.description||"",onChange:R=>x(P=>({...P,description:R.target.value})),rows:4,placeholder:"Ce vhicule est un exemple emblmatique..."}),e.jsx(k,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Description" sur la page publique'})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Histoire"}),e.jsx(Yt,{value:m.history||"",onChange:R=>x(P=>({...P,history:R.target.value})),rows:6,placeholder:"Le Mercedes-Benz Citaro est un autobus urbain..."}),e.jsx(k,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Histoire" sur la page publique'})]})]})]}),e.jsxs(ue,{bg:"purple.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"purple.200",children:[e.jsx(De,{size:"md",mb:4,children:" Galerie photos"}),e.jsx(sD,{value:m.gallery||[],onChange:R=>x(P=>({...P,gallery:R})),uploadEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,deleteEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,authHeader:`Bearer ${localStorage.getItem("token")}`}),e.jsx(k,{fontSize:"sm",color:"gray.600",mt:2,children:"La premire image peut servir de fond si aucune image de fond spcifique n'est dfinie. Les autres images apparaissent dans le carrousel."})]}),e.jsxs(ue,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(De,{size:"md",mb:4,children:" Carnet de suivi"}),!v?.length&&e.jsx(k,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(ie,{align:"stretch",spacing:3,divider:e.jsx(vn,{}),mt:v?.length?2:0,children:v.map(R=>e.jsxs(ue,{children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{fontWeight:"bold",children:R.conducteur||""}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:R.startedAt?new Date(R.startedAt).toLocaleString():""})]}),R.participants&&e.jsx(k,{mt:1,fontSize:"sm",children:R.participants}),R.note&&e.jsx(k,{mt:1,fontSize:"sm",color:"gray.700",children:R.note})]},R.id))})]}),e.jsxs(ue,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(De,{size:"md",mb:4,children:" Carnet de suivi"}),!v?.length&&e.jsx(k,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(ie,{align:"stretch",spacing:3,divider:e.jsx(vn,{}),mt:v?.length?2:0,children:v.map(R=>{const P=R.startedAt?new Date(R.startedAt):null,z=R.endedAt?new Date(R.endedAt):null,O=P&&z?Math.round((z-P)/6e4):null;return e.jsxs(ue,{children:[e.jsxs(oe,{justify:"space-between",align:"start",children:[e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontWeight:"bold",children:R.conducteur||""}),R.participants&&e.jsx(k,{mt:1,fontSize:"sm",children:R.participants})]}),e.jsxs(ie,{align:"end",spacing:0,children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:P?P.toLocaleString():""}),z&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[" ",z.toLocaleString()," ",O!=null?`(${O} min)`:""]})]})]}),R.note&&e.jsx(k,{mt:2,fontSize:"sm",whiteSpace:"pre-wrap",children:R.note})]},R.id)})})]}),e.jsxs(ue,{textAlign:"center",py:4,children:[e.jsxs(oe,{spacing:4,justify:"center",children:[e.jsx(te,{leftIcon:e.jsx(Du,{}),colorScheme:"blue",size:"lg",onClick:A,isLoading:u,loadingText:"Sauvegarde en cours...",children:" Sauvegarder les modifications"}),e.jsx(uQ,{parc:t,marque:m.marque,modele:m.modele,onSuccess:()=>n("/dashboard/vehicules")})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",mt:2,children:"Les modifications seront visibles immdiatement sur la page publique"})]})]})]})):null}const mQ=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173"),gQ=(mQ?"https://attractive-kindness-rbe-serveurs.up.railway.app":"").replace(/\/$/,"");function xQ(){try{const t=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("jwt");return t?{Authorization:`Bearer ${t}`}:{}}catch{return{}}}const ps=async(t,n={})=>{const r=`${gQ}${t.startsWith("/")?"":"/"}${t}`,i={Accept:"application/json",...xQ(),...n.headers||{}},l=p=>{const m=p.toLowerCase();for(const x of Object.keys(i))if(x.toLowerCase()===m)return!0;return!1};let u=n.body;(p=>p&&typeof p=="object"&&!(p instanceof FormData)&&!(p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(p instanceof URLSearchParams))(u)?(u=JSON.stringify(u),l("Content-Type")||(i["Content-Type"]="application/json")):typeof u=="string"&&(l("Content-Type")||(i["Content-Type"]="application/json"));const g=await fetch(r,{credentials:"include",headers:i,...n,...u!==void 0?{body:u}:{}});if(g.status===404)return{notFound:!0};if(g.status===204)return null;if(!g.ok){const p=await g.text().catch(()=>"");throw new Error(`HTTP ${g.status} ${g.statusText} - ${p}`)}return g.json()};function vQ(t){const[n,r]=y.useState([]),[i,l]=y.useState(!1),[u,d]=y.useState(null);return y.useEffect(()=>{if(!t)return;(async()=>{try{l(!0),d(null);const v=await ps(`/api/user-permissions/${t}`);if(v.success){const S=(v.permissions||[]).map(E=>({...E,actions:Array.isArray(E.actions)?E.actions:JSON.parse(E.actions||"[]")}));r(S)}else d(v.error||"Failed to load permissions")}catch(v){console.error("Error loading permissions:",v),d(v.message)}finally{l(!1)}})()},[t]),{permissions:n,loading:i,error:u,hasPermission:(x,v)=>{const S=n.find(E=>E.resource===x);return!S||S.expiresAt&&new Date(S.expiresAt)<new Date?!1:S.actions.includes(v)},hasResourceAccess:x=>n.some(v=>v.resource===x),getResourceActions:x=>{const v=n.find(S=>S.resource===x);return!v||v.expiresAt&&new Date(v.expiresAt)<new Date?[]:v.actions}}}const Dl=({title:t,subtitle:n,breadcrumbs:r=[],children:i,headerActions:l,bgGradient:u,maxW:d="container.xl",titleSize:g="2xl",titleWeight:p="800",headerVariant:m="full"})=>{const x=Fn(u||"linear(to-r, rbe.600, rbe.800)","linear(to-r, rbe.700, rbe.900)");return e.jsxs(ue,{minH:"100vh",fontFamily:"Montserrat, system-ui, sans-serif",children:[m==="full"?e.jsxs(ue,{bgGradient:x,color:"white",py:{base:12,md:16},position:"relative",overflow:"hidden",children:[e.jsx(ue,{position:"absolute",inset:0,bgGradient:"radial(circle at 30% 30%, whiteAlpha.200, transparent 50%)",pointerEvents:"none"}),e.jsx(Os,{maxW:d,position:"relative",children:e.jsxs(ie,{spacing:6,align:"stretch",children:[r.length>0&&e.jsx(Hb,{separator:e.jsx(_x,{color:"whiteAlpha.700"}),color:"whiteAlpha.800",fontSize:"sm",children:r.map((v,S)=>e.jsx(qb,{children:e.jsx(vx,{as:or,to:v.href,_hover:{color:"white"},children:v.label})},S))}),e.jsxs(ie,{spacing:4,textAlign:"center",children:[e.jsx(De,{as:"h1",size:g,fontWeight:p,letterSpacing:"-0.025em",textShadow:"0 2px 4px rgba(0,0,0,0.1)",children:t}),n&&e.jsx(k,{fontSize:{base:"lg",md:"xl"},opacity:.9,maxW:"2xl",lineHeight:"relaxed",children:n}),l&&e.jsx(ue,{pt:4,children:l})]})]})})]}):e.jsxs(Os,{maxW:d,py:{base:6,md:8},children:[r.length>0&&e.jsx(Hb,{separator:e.jsx(_x,{}),color:Fn("gray.600","gray.300"),fontSize:"sm",mb:4,children:r.map((v,S)=>e.jsx(qb,{children:e.jsx(vx,{as:or,to:v.href,children:v.label})},S))}),e.jsxs(ue,{bgGradient:x,color:"white",p:{base:6,md:8},borderRadius:"xl",textAlign:"center",boxShadow:"lg",children:[e.jsx(De,{as:"h1",size:g,fontWeight:p,letterSpacing:"-0.02em",children:t}),n&&e.jsx(k,{mt:2,opacity:.9,fontSize:{base:"md",md:"lg"},children:n}),l&&e.jsx(ue,{pt:4,children:l})]})]}),e.jsx(Os,{maxW:d,py:{base:8,md:12},children:i})]})},yl=({title:t,description:n,icon:r,badge:i,children:l,variant:u="modern",color:d="gray",onClick:g,...p})=>{const m=Fn("white","gray.800"),x=Fn("gray.200","gray.600"),v=Fn("0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)");return e.jsxs(Ne,{variant:u,bg:m,borderColor:x,cursor:g?"pointer":"default",onClick:g,_hover:g?{boxShadow:v,transform:"translateY(-4px)",borderColor:`${d}.300`}:{},transition:"all 0.3s ease-out",...p,children:[(t||r||i)&&e.jsx(Dt,{pb:n?3:6,children:e.jsxs(oe,{justify:"space-between",align:"start",children:[e.jsxs(oe,{spacing:3,flex:1,children:[r&&e.jsx(qn,{as:r,color:`${d}.600`,boxSize:6,flexShrink:0}),e.jsxs(ie,{align:"start",spacing:1,flex:1,children:[e.jsx(De,{size:"md",color:"gray.700",fontWeight:"600",children:t}),n&&e.jsx(k,{variant:"description",fontSize:"sm",children:n})]})]}),i&&e.jsx(et,{colorScheme:i.color||d,variant:"subtle",children:i.label})]})}),l&&e.jsx(Ie,{pt:t?0:6,children:l})]})};function yQ({isOpen:t,onClose:n,user:r,onPermissionUpdated:i}){const l=mn(),[u,d]=y.useState(!1),[g,p]=y.useState(!1),[m,x]=y.useState([]),[v,S]=y.useState({resource:"",actions:[],reason:"",expiresAt:""}),E=[{value:"VEHICLES",label:" Vhicules"},{value:"EVENTS",label:" vnements"},{value:"FINANCE",label:" Finance"},{value:"MEMBERS",label:" Adhrents"},{value:"STOCK",label:" Stock"},{value:"SITE_MANAGEMENT",label:" Gestion du Site"},{value:"NEWSLETTER",label:" Newsletter"},{value:"PLANNING",label:" Planning"}],C=[{value:"READ",label:"Lecture"},{value:"CREATE",label:"Crer"},{value:"EDIT",label:"Modifier"},{value:"DELETE",label:"Supprimer"}];y.useEffect(()=>{t&&r&&T()},[t,r]);const T=async()=>{try{d(!0);const P=await ps(`/api/user-permissions/${r.id}`);if(P.success){const z=(P.permissions||[]).map(O=>({...O,actions:Array.isArray(O.actions)?O.actions:JSON.parse(O.actions||"[]")}));x(z)}else l({title:"Erreur",description:P.error||"Impossible de charger les permissions",status:"error",duration:3e3})}catch(P){console.error("Erreur:",P),l({title:"Erreur",description:P.message,status:"error",duration:3e3})}finally{d(!1)}},A=async()=>{if(!v.resource||v.actions.length===0){l({title:"Erreur",description:"Slectionnez une ressource et au moins une action",status:"error",duration:2e3});return}try{p(!0);const P=await ps(`/api/user-permissions/${r.id}`,{method:"POST",body:{resource:v.resource,actions:v.actions,reason:v.reason||"",expiresAt:v.expiresAt||null}});P.success?(l({title:"Succs",description:"Permission ajoute",status:"success",duration:2e3}),S({resource:"",actions:[],reason:"",expiresAt:""}),await T(),i&&i()):l({title:"Erreur",description:P.error||"Impossible d'ajouter la permission",status:"error",duration:3e3})}catch(P){console.error("Erreur:",P),l({title:"Erreur",description:P.message,status:"error",duration:3e3})}finally{p(!1)}},D=async P=>{try{p(!0);const z=await ps(`/api/user-permissions/${r.id}/${P}`,{method:"DELETE"});z.success?(l({title:"Succs",description:"Permission supprime",status:"success",duration:2e3}),await T(),i&&i()):l({title:"Erreur",description:z.error||"Impossible de supprimer la permission",status:"error",duration:3e3})}catch(z){console.error("Erreur:",z),l({title:"Erreur",description:z.message,status:"error",duration:3e3})}finally{p(!1)}},M=P=>P&&new Date(P)<new Date,R=P=>new Date(P).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"});return e.jsxs(Ct,{isOpen:t,onClose:n,size:"2xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxHeight:"90vh",overflowY:"auto",children:[e.jsxs(_t,{children:[" Permissions de ",r?.firstName," ",r?.lastName]}),e.jsx(Bt,{isDisabled:u||g}),e.jsx(wt,{children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(Ut,{status:"info",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsxs(k,{fontWeight:"bold",fontSize:"sm",children:["Rle: ",e.jsx(et,{ml:2,colorScheme:"purple",children:r?.role})]}),e.jsx(k,{fontSize:"xs",color:"gray.600",mt:1,children:r?.email})]})]}),u?e.jsx(ue,{textAlign:"center",py:6,children:e.jsx(hn,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(ue,{children:[e.jsxs(J,{fontWeight:"bold",fontSize:"md",children:[" Permissions actuelles (",m.length,")"]}),m.length===0?e.jsxs(Ut,{status:"warning",borderRadius:"md",fontSize:"sm",children:[e.jsx(Ht,{}),"Aucune permission spcifique attribue"]}):e.jsx(ue,{overflowX:"auto",borderRadius:"md",border:"1px",borderColor:"gray.200",children:e.jsxs(dr,{size:"sm",variant:"striped",children:[e.jsx(mr,{bg:"gray.100",children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Ressource"}),e.jsx($e,{children:"Actions"}),e.jsx($e,{children:"Raison"}),e.jsx($e,{children:"Expire"}),e.jsx($e,{width:"50px",children:"Action"})]})}),e.jsx(pr,{children:m.map(P=>{const z=M(P.expiresAt);return e.jsxs(Ft,{opacity:z?.6:1,children:[e.jsxs(Le,{fontWeight:"medium",children:[E.find(O=>O.value===P.resource)?.label||P.resource,z&&e.jsx(et,{ml:2,colorScheme:"red",fontSize:"xs",children:"EXPIR"})]}),e.jsx(Le,{children:e.jsx(oe,{spacing:1,children:(P.actions||[]).map(O=>e.jsx(et,{colorScheme:"blue",fontSize:"xs",children:C.find(G=>G.value===O)?.label||O},O))})}),e.jsx(Le,{fontSize:"sm",color:"gray.600",children:P.reason||"-"}),e.jsx(Le,{fontSize:"sm",children:P.expiresAt?R(P.expiresAt):""}),e.jsx(Le,{children:e.jsx(xt,{icon:e.jsx(av,{}),size:"sm",colorScheme:"red",variant:"ghost",isLoading:g,onClick:()=>D(P.resource)})})]},P.id)})})]})})]}),e.jsx(vn,{}),e.jsxs(ue,{children:[e.jsx(J,{fontWeight:"bold",fontSize:"md",children:" Ajouter une permission"}),e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"medium",children:"Ressource *"}),e.jsx(lt,{placeholder:"Slectionner une ressource",value:v.resource,onChange:P=>S({...v,resource:P.target.value}),isDisabled:g,children:E.map(P=>e.jsx("option",{value:P.value,children:P.label},P.value))})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"medium",children:"Actions *"}),e.jsx(ca,{spacing:2,pl:2,children:C.map(P=>e.jsx(Ba,{isChecked:v.actions.includes(P.value),onChange:z=>{z.target.checked?S({...v,actions:[...v.actions,P.value]}):S({...v,actions:v.actions.filter(O=>O!==P.value)})},isDisabled:g,children:P.label},P.value))})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"medium",children:"Raison (optionnelle)"}),e.jsx(Yt,{placeholder:"Ex: Gestion d'un vnement spcifique",value:v.reason,onChange:P=>S({...v,reason:P.target.value}),isDisabled:g,size:"sm",rows:2})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"medium",children:"Date d'expiration (optionnelle)"}),e.jsx(ye,{type:"date",value:v.expiresAt,onChange:P=>S({...v,expiresAt:P.target.value}),isDisabled:g})]})]})]})]})]})}),e.jsx(Wt,{borderTopWidth:"1px",children:e.jsxs(oe,{spacing:3,children:[e.jsx(te,{variant:"ghost",onClick:n,isDisabled:u||g,children:"Fermer"}),e.jsx(te,{colorScheme:"blue",onClick:A,isLoading:g,isDisabled:!v.resource||v.actions.length===0,children:" Ajouter Permission"})]})})]})]})}function bQ(){const t=mn(),[n,r]=y.useState(!0),[i,l]=y.useState([]),[u,d]=y.useState({totalPermissions:0,usersWithPermissions:0,resourceCounts:{},actionCounts:{}});y.useEffect(()=>{g()},[]);const g=async()=>{try{r(!0);const S=await(await fetch("/api/user-permissions")).json();if(S.success){const E=S.permissions||[];l(E);const C={},T={},A=new Set;E.forEach(D=>{A.add(D.userId),C[D.resource]=(C[D.resource]||0)+1,(Array.isArray(D.actions)?D.actions:JSON.parse(D.actions||"[]")).forEach(R=>{T[R]=(T[R]||0)+1})}),d({totalPermissions:E.length,usersWithPermissions:A.size,resourceCounts:C,actionCounts:T})}else t({title:"Erreur",description:S.error||"Impossible de charger les statistiques",status:"error",duration:3e3})}catch(v){console.error("Erreur:",v),t({title:"Erreur",description:v.message,status:"error",duration:3e3})}finally{r(!1)}},p=async()=>{try{const S=await(await fetch("/api/user-permissions/export/all")).json();if(S.success){const E=JSON.stringify(S,null,2),C=new Blob([E],{type:"application/json"}),T=window.URL.createObjectURL(C),A=document.createElement("a");A.href=T,A.download=`permissions-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(T),t({title:"Succs",description:"Permissions exportes",status:"success",duration:2e3})}}catch(v){console.error("Erreur:",v),t({title:"Erreur",description:"Impossible d'exporter les permissions",status:"error",duration:3e3})}};if(n)return e.jsx(Ne,{children:e.jsx(Ie,{textAlign:"center",py:8,children:e.jsx(hn,{})})});const m={VEHICLES:" Vhicules",EVENTS:" vnements",FINANCE:" Finance",MEMBERS:" Adhrents",STOCK:" Stock",SITE_MANAGEMENT:" Gestion du Site",NEWSLETTER:" Newsletter",PLANNING:" Planning"},x={READ:"Lecture",CREATE:"Crer",EDIT:"Modifier",DELETE:"Supprimer"};return e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(Xs,{templateColumns:{base:"1fr 1fr",md:"1fr 1fr"},gap:4,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Permissions totales"}),e.jsx(yt,{fontSize:"2xl",color:"blue.600",children:u.totalPermissions})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Utilisateurs avec permissions"}),e.jsx(yt,{fontSize:"2xl",color:"green.600",children:u.usersWithPermissions})]})})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:" Permissions par ressource"})}),e.jsx(vn,{}),e.jsx(Ie,{children:Object.keys(u.resourceCounts).length===0?e.jsxs(Ut,{status:"warning",borderRadius:"md",children:[e.jsx(Ht,{}),"Aucune permission attribue"]}):e.jsx(Xs,{templateColumns:{base:"1fr",md:"1fr 1fr"},gap:4,children:Object.entries(u.resourceCounts).map(([v,S])=>e.jsxs(ue,{p:4,bg:"gray.50",borderRadius:"md",borderLeft:"4px",borderColor:"blue.500",children:[e.jsx(De,{size:"sm",children:m[v]||v}),e.jsxs(yt,{fontSize:"xl",color:"blue.600",mt:2,children:[S," ",S>1?"permissions":"permission"]})]},v))})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:" Actions les plus utilises"})}),e.jsx(vn,{}),e.jsx(Ie,{children:e.jsx(Xs,{templateColumns:{base:"1fr 1fr",md:"1fr 1fr 1fr 1fr"},gap:4,children:Object.entries(u.actionCounts).map(([v,S])=>e.jsxs(ue,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",children:[e.jsx(bt,{fontSize:"sm",children:x[v]||v}),e.jsx(yt,{fontSize:"2xl",color:"green.600",children:S})]},v))})})]}),e.jsxs(oe,{children:[e.jsx(te,{leftIcon:e.jsx(PP,{}),colorScheme:"blue",onClick:p,children:"Exporter toutes les permissions"}),e.jsx(te,{variant:"outline",onClick:g,children:"Rafrachir"})]})]})}const Ze={VEHICLES_VIEW:"vehicles.view",VEHICLES_CREATE:"vehicles.create",VEHICLES_EDIT:"vehicles.edit",VEHICLES_DELETE:"vehicles.delete",VEHICLES_MAINTENANCE:"vehicles.maintenance",VEHICLES_USAGE:"vehicles.usage",PLANNING_VIEW:"planning.view",PLANNING_CREATE:"planning.create",PLANNING_EDIT:"planning.edit",PLANNING_DELETE:"planning.delete",PLANNING_ASSIGN:"planning.assign",TICKETS_VIEW:"tickets.view",TICKETS_CREATE:"tickets.create",TICKETS_RESPOND:"tickets.respond",TICKETS_CLOSE:"tickets.close",TICKETS_MANAGE:"tickets.manage",RETRODEMANDES_VIEW:"retrodemandes.view",RETRODEMANDES_CREATE:"retrodemandes.create",RETRODEMANDES_EDIT:"retrodemandes.edit",RETRODEMANDES_APPROVE:"retrodemandes.approve",RETRODEMANDES_RECAP:"retrodemandes.recap",RETROMAIL_VIEW:"retromail.view",RETROMAIL_SEND:"retromail.send",RETROMAIL_READ:"retromail.read",RETROMAIL_DELETE:"retromail.delete",FINANCE_VIEW:"finance.view",FINANCE_CREATE:"finance.create",FINANCE_EDIT:"finance.edit",FINANCE_DELETE:"finance.delete",FINANCE_REPORT:"finance.report",EVENTS_VIEW:"events.view",EVENTS_CREATE:"events.create",EVENTS_EDIT:"events.edit",EVENTS_DELETE:"events.delete",EVENTS_PARTICIPANTS:"events.participants",MEMBERS_VIEW:"members.view",MEMBERS_CREATE:"members.create",MEMBERS_EDIT:"members.edit",MEMBERS_DELETE:"members.delete",MEMBERS_PAYMENTS:"members.payments",MEMBERS_DOCUMENTS:"members.documents",STOCK_VIEW:"stock.view",STOCK_CREATE:"stock.create",STOCK_EDIT:"stock.edit",STOCK_DELETE:"stock.delete",STOCK_TRANSFER:"stock.transfer",NEWSLETTER_VIEW:"newsletter.view",NEWSLETTER_CREATE:"newsletter.create",NEWSLETTER_SEND:"newsletter.send",NEWSLETTER_SUBSCRIBERS:"newsletter.subscribers",SITE_VIEW:"site.view",SITE_EDIT:"site.edit",SITE_CONFIG:"site.config",SITE_CHANGELOG:"site.changelog",PERMISSIONS_VIEW:"permissions.view",PERMISSIONS_EDIT:"permissions.edit",PERMISSIONS_ADMIN:"permissions.admin",REPORTS_VIEW:"reports.view",REPORTS_GENERATE:"reports.generate",REPORTS_EXPORT:"reports.export",SUPPORT_VIEW:"support.view",SUPPORT_RESPOND:"support.respond",SUPPORT_MANAGE:"support.manage"},zT={GROUPE_ADMIN:Object.values(Ze),GROUPE_MANAGER:[Ze.VEHICLES_VIEW,Ze.VEHICLES_EDIT,Ze.VEHICLES_MAINTENANCE,Ze.PLANNING_VIEW,Ze.PLANNING_CREATE,Ze.PLANNING_EDIT,Ze.PLANNING_ASSIGN,Ze.TICKETS_MANAGE,Ze.RETRODEMANDES_VIEW,Ze.RETRODEMANDES_APPROVE,Ze.FINANCE_VIEW,Ze.FINANCE_CREATE,Ze.EVENTS_VIEW,Ze.EVENTS_CREATE,Ze.EVENTS_EDIT,Ze.MEMBERS_VIEW,Ze.MEMBERS_EDIT,Ze.STOCK_VIEW,Ze.NEWSLETTER_VIEW,Ze.REPORTS_VIEW],GROUPE_OPERATEUR:[Ze.VEHICLES_VIEW,Ze.VEHICLES_CREATE,Ze.VEHICLES_USAGE,Ze.PLANNING_VIEW,Ze.PLANNING_CREATE,Ze.TICKETS_VIEW,Ze.TICKETS_CREATE,Ze.TICKETS_RESPOND,Ze.RETRODEMANDES_VIEW,Ze.RETRODEMANDES_CREATE,Ze.EVENTS_VIEW,Ze.STOCK_VIEW,Ze.RETROMAIL_VIEW,Ze.RETROMAIL_SEND],GROUPE_VOLUNTEER:[Ze.VEHICLES_VIEW,Ze.PLANNING_VIEW,Ze.EVENTS_VIEW,Ze.MEMBERS_VIEW,Ze.STOCK_VIEW,Ze.RETROMAIL_VIEW,Ze.RETROMAIL_READ],GROUPE_CLIENT:[Ze.RETRODEMANDES_VIEW,Ze.RETRODEMANDES_CREATE,Ze.RETRODEMANDES_EDIT,Ze.TICKETS_VIEW,Ze.TICKETS_CREATE,Ze.TICKETS_RESPOND],GROUPE_PARTENAIRE:[]},iD={[Ze.VEHICLES_VIEW]:{module:"Vhicules",name:"Voir",description:"Voir les vhicules"},[Ze.VEHICLES_CREATE]:{module:"Vhicules",name:"Crer",description:"Crer un vhicule"},[Ze.VEHICLES_EDIT]:{module:"Vhicules",name:"Modifier",description:"Modifier un vhicule"},[Ze.VEHICLES_DELETE]:{module:"Vhicules",name:"Supprimer",description:"Supprimer un vhicule"},[Ze.VEHICLES_MAINTENANCE]:{module:"Vhicules",name:"Maintenance",description:"Grer la maintenance"},[Ze.VEHICLES_USAGE]:{module:"Vhicules",name:"Usages",description:"Enregistrer les usages"},[Ze.PLANNING_VIEW]:{module:"Planning",name:"Voir",description:"Voir le planning"},[Ze.PLANNING_CREATE]:{module:"Planning",name:"Crer",description:"Crer un vnement"},[Ze.PLANNING_EDIT]:{module:"Planning",name:"Modifier",description:"Modifier un vnement"},[Ze.PLANNING_DELETE]:{module:"Planning",name:"Supprimer",description:"Supprimer un vnement"},[Ze.PLANNING_ASSIGN]:{module:"Planning",name:"Assigner",description:"Assigner des ressources"},[Ze.TICKETS_VIEW]:{module:"Tickets",name:"Voir",description:"Voir les tickets"},[Ze.TICKETS_CREATE]:{module:"Tickets",name:"Crer",description:"Crer un ticket"},[Ze.TICKETS_RESPOND]:{module:"Tickets",name:"Rpondre",description:"Rpondre aux tickets"},[Ze.TICKETS_CLOSE]:{module:"Tickets",name:"Fermer",description:"Fermer un ticket"},[Ze.TICKETS_MANAGE]:{module:"Tickets",name:"Grer",description:"Grer tous les tickets"},[Ze.RETRODEMANDES_VIEW]:{module:"Demandes",name:"Voir",description:"Voir les demandes"},[Ze.RETRODEMANDES_CREATE]:{module:"Demandes",name:"Crer",description:"Crer une demande"},[Ze.RETRODEMANDES_EDIT]:{module:"Demandes",name:"Modifier",description:"Modifier une demande"},[Ze.RETRODEMANDES_APPROVE]:{module:"Demandes",name:"Approuver",description:"Approuver une demande"},[Ze.RETRODEMANDES_RECAP]:{module:"Demandes",name:"Rcap",description:"Voir le rcapitulatif"},[Ze.RETROMAIL_VIEW]:{module:"RetroMail",name:"Accs",description:"Accder  RetroMail"},[Ze.RETROMAIL_SEND]:{module:"RetroMail",name:"Envoyer",description:"Envoyer des messages"},[Ze.RETROMAIL_READ]:{module:"RetroMail",name:"Lire",description:"Lire les messages"},[Ze.RETROMAIL_DELETE]:{module:"RetroMail",name:"Supprimer",description:"Supprimer les messages"},[Ze.FINANCE_VIEW]:{module:"Finances",name:"Voir",description:"Voir les finances"},[Ze.FINANCE_CREATE]:{module:"Finances",name:"Crer",description:"Crer une transaction"},[Ze.FINANCE_EDIT]:{module:"Finances",name:"Modifier",description:"Modifier une transaction"},[Ze.FINANCE_DELETE]:{module:"Finances",name:"Supprimer",description:"Supprimer une transaction"},[Ze.FINANCE_REPORT]:{module:"Finances",name:"Rapports",description:"Gnrer des rapports"},[Ze.EVENTS_VIEW]:{module:"vnements",name:"Voir",description:"Voir les vnements"},[Ze.EVENTS_CREATE]:{module:"vnements",name:"Crer",description:"Crer un vnement"},[Ze.EVENTS_EDIT]:{module:"vnements",name:"Modifier",description:"Modifier un vnement"},[Ze.EVENTS_DELETE]:{module:"vnements",name:"Supprimer",description:"Supprimer un vnement"},[Ze.EVENTS_PARTICIPANTS]:{module:"vnements",name:"Participants",description:"Grer les participants"},[Ze.MEMBERS_VIEW]:{module:"Membres",name:"Voir",description:"Voir les membres"},[Ze.MEMBERS_CREATE]:{module:"Membres",name:"Crer",description:"Crer un membre"},[Ze.MEMBERS_EDIT]:{module:"Membres",name:"Modifier",description:"Modifier un membre"},[Ze.MEMBERS_DELETE]:{module:"Membres",name:"Supprimer",description:"Supprimer un membre"},[Ze.MEMBERS_PAYMENTS]:{module:"Membres",name:"Cotisations",description:"Grer les cotisations"},[Ze.MEMBERS_DOCUMENTS]:{module:"Membres",name:"Documents",description:"Grer les documents"},[Ze.STOCK_VIEW]:{module:"Stocks",name:"Voir",description:"Voir les stocks"},[Ze.STOCK_CREATE]:{module:"Stocks",name:"Crer",description:"Ajouter du stock"},[Ze.STOCK_EDIT]:{module:"Stocks",name:"Modifier",description:"Modifier le stock"},[Ze.STOCK_DELETE]:{module:"Stocks",name:"Supprimer",description:"Supprimer du stock"},[Ze.STOCK_TRANSFER]:{module:"Stocks",name:"Transfrer",description:"Transfrer le stock"},[Ze.NEWSLETTER_VIEW]:{module:"Newsletter",name:"Voir",description:"Voir les newsletters"},[Ze.NEWSLETTER_CREATE]:{module:"Newsletter",name:"Crer",description:"Crer une newsletter"},[Ze.NEWSLETTER_SEND]:{module:"Newsletter",name:"Envoyer",description:"Envoyer une newsletter"},[Ze.NEWSLETTER_SUBSCRIBERS]:{module:"Newsletter",name:"Abonns",description:"Grer les abonns"},[Ze.SITE_VIEW]:{module:"Site",name:"Voir",description:"Voir la gestion du site"},[Ze.SITE_EDIT]:{module:"Site",name:"Modifier",description:"Modifier le contenu"},[Ze.SITE_CONFIG]:{module:"Site",name:"Config",description:"Configurer le site"},[Ze.SITE_CHANGELOG]:{module:"Site",name:"Changelog",description:"Grer le changelog"},[Ze.PERMISSIONS_VIEW]:{module:"Permissions",name:"Voir",description:"Voir les permissions"},[Ze.PERMISSIONS_EDIT]:{module:"Permissions",name:"Modifier",description:"Modifier les permissions"},[Ze.PERMISSIONS_ADMIN]:{module:"Permissions",name:"Admin",description:"Accs admin complet"},[Ze.REPORTS_VIEW]:{module:"Rapports",name:"Voir",description:"Voir les rapports"},[Ze.REPORTS_GENERATE]:{module:"Rapports",name:"Gnrer",description:"Gnrer des rapports"},[Ze.REPORTS_EXPORT]:{module:"Rapports",name:"Exporter",description:"Exporter les donnes"},[Ze.SUPPORT_VIEW]:{module:"Support",name:"Voir",description:"Voir le support"},[Ze.SUPPORT_RESPOND]:{module:"Support",name:"Rpondre",description:"Rpondre aux tickets"},[Ze.SUPPORT_MANAGE]:{module:"Support",name:"Grer",description:"Grer le support"}};function jQ(t){const n={};return(Array.isArray(t)?t:Object.values(Ze)).forEach(i=>{const l=iD[i];l&&l.module&&(n[l.module]||(n[l.module]=[]),n[l.module].push(i))}),n}function SQ(){const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(!1),[d,g]=y.useState(null);y.useEffect(()=>{(async()=>{try{u(!0);const[S,E]=await Promise.all([ps("/api/functions"),ps("/api/functions/groups")]);S.success&&n(S.functions||[]),E.success&&i(E.groups||[])}catch(S){console.error(" Error loading function data:",S),g(S.message)}finally{u(!1)}})()},[]);const p=y.useCallback(async(v,S,E,C)=>{try{const T=await ps("/api/functions/grant",{method:"POST",body:JSON.stringify({userId:v,functionId:S,reason:E,expiresAt:C})});return T.success&&console.log(` Function granted: ${v} <- ${S}`),T}catch(T){throw console.error(" Error granting function:",T),T}},[]),m=y.useCallback(async(v,S)=>{try{const E=await ps("/api/functions/revoke",{method:"DELETE",body:JSON.stringify({userId:v,functionId:S})});return E.success&&console.log(` Function revoked: ${v} -> ${S}`),E}catch(E){throw console.error(" Error revoking function:",E),E}},[]),x=y.useCallback(async(v,S)=>{try{const E=await ps("/api/functions/grant-group",{method:"POST",body:JSON.stringify({userId:v,groupName:S})});return E.success&&console.log(` Group granted: ${v} <- ${S}`),E}catch(E){throw console.error(" Error granting group:",E),E}},[]);return{functions:t,groups:r,loading:l,error:d,grantFunction:p,revokeFunction:m,grantGroup:x}}function EQ(){const t=mn(),{loading:n,grantFunction:r,revokeFunction:i}=SQ(),[l,u]=y.useState([]),[d,g]=y.useState(!0),[p,m]=y.useState(!1),[x,v]=y.useState(""),[S,E]=y.useState(0),[C,T]=y.useState({}),A=Fn("white","gray.800"),D=Fn("blue.50","blue.900"),M=Fn("gray.50","gray.700"),R=y.useMemo(()=>jQ(Object.keys(Ze)),[]),P=y.useMemo(()=>Object.keys(R),[R]),z=P[S]||"",O=R[z]||[],G=y.useCallback(async()=>{try{g(!0);const se=await ps("/api/site-users");u(Array.isArray(se)?se:[]);const ge={};if(Array.isArray(se))for(const Ae of se)try{const de=await ps(`/api/functions/user/${Ae.id}`);ge[Ae.id]={},Array.isArray(de)&&de.forEach(re=>{ge[Ae.id][re]=!0})}catch(de){console.warn(`Erreur chargement perms pour ${Ae.id}:`,de),ge[Ae.id]={}}T(ge),console.log(" Donnes charges:",se.length,"utilisateurs")}catch(se){console.error(" Erreur:",se),t({title:"Erreur",description:se.message,status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}},[t]);y.useEffect(()=>{G()},[G]);const q=async(se,ge)=>{try{m(!0),C[se]?.[ge]?(await i(se,ge),T(de=>({...de,[se]:{...de[se],[ge]:!1}})),t({title:"Accs supprim",status:"success",duration:2e3})):(await r(se,ge),T(de=>({...de,[se]:{...de[se],[ge]:!0}})),t({title:"Accs accord",status:"success",duration:2e3}))}catch(Ae){console.error(" Erreur:",Ae),t({title:"Erreur",description:Ae.message,status:"error",duration:5e3,isClosable:!0})}finally{m(!1)}},ce=async(se,ge,Ae)=>{try{m(!0);const de=zT[ge]||[];for(const re of de)Ae&&(await r(se,re),T(K=>({...K,[se]:{...K[se],[re]:!0}})));t({title:Ae?"Groupe accord":"Groupe retir",status:"success",duration:2e3})}catch(de){console.error(" Erreur:",de),t({title:"Erreur",description:de.message,status:"error",duration:5e3,isClosable:!0})}finally{m(!1)}},he=l.filter(se=>`${se.firstName} ${se.lastName} ${se.email}`.toLowerCase().includes(x.toLowerCase()));return d||n?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ie,{spacing:4,align:"center",py:8,children:[e.jsx(hn,{size:"lg",color:"blue.500"}),e.jsx(k,{children:" Chargement des permissions..."})]})})}):l.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(Ut,{status:"warning",borderRadius:"md",children:[e.jsx(Ht,{}),"Aucun utilisateur trouv"]})})}):e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(De,{size:"lg",mb:2,children:" Gestion des accs par Fonction"}),e.jsx(k,{color:"gray.600",children:"Matrice permettant de grer les accs granulaires aux fonctions du systme pour chaque utilisateur. Les permissions individuelles priment sur les rles."})]}),e.jsxs(Tc,{children:[e.jsx(Ac,{pointerEvents:"none",children:e.jsx(TK,{color:"gray.300"})}),e.jsx(ye,{placeholder:"Rechercher un utilisateur...",value:x,onChange:se=>v(se.target.value)})]}),e.jsxs(Ut,{status:"info",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsx(ue,{children:e.jsxs(k,{fontWeight:"bold",fontSize:"sm",children:[" ",he.length," utilisateur(s) - ",O.length,' fonction(s) dans "',z,'"']})})]}),e.jsxs(Ne,{bg:A,children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:" Matrice des permissions par Module"})}),e.jsx(vn,{}),e.jsx(Ie,{children:e.jsxs(ao,{index:S,onChange:E,variant:"enclosed",colorScheme:"blue",children:[e.jsx(lo,{mb:4,children:P.map((se,ge)=>e.jsx(ln,{children:e.jsxs(oe,{spacing:2,children:[e.jsx(k,{children:se}),e.jsx(et,{colorScheme:"blue",fontSize:"xs",children:R[se].length})]})},se))}),e.jsx(cn,{children:e.jsx(ue,{overflowX:"auto",children:e.jsxs(dr,{size:"sm",variant:"striped",children:[e.jsx(mr,{bg:D,children:e.jsxs(Ft,{children:[e.jsx($e,{position:"sticky",left:"0",bg:D,zIndex:"10",minW:"200px",children:"Utilisateur"}),e.jsx($e,{textAlign:"center",minW:"80px",children:"Accs"}),O.map(se=>{const ge=iD[se]||{};return e.jsx($e,{textAlign:"center",minW:"85px",title:ge.description,children:e.jsx(ue,{fontSize:"xs",whiteSpace:"normal",lineHeight:"1.2",children:ge.name||se})},se)})]})}),e.jsx(pr,{children:he.map(se=>{const ge=C[se.id]||{},Ae=O.filter(de=>ge[de]).length;return e.jsxs(Ft,{_hover:{bg:M},children:[e.jsx(Le,{position:"sticky",left:"0",bg:A,zIndex:"5",fontWeight:"medium",minW:"200px",children:e.jsxs(ie,{align:"start",spacing:0,children:[e.jsxs(k,{children:[se.firstName," ",se.lastName]}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:se.email})]})}),e.jsx(Le,{textAlign:"center",children:e.jsxs(et,{colorScheme:Ae>0?"green":"gray",fontSize:"xs",children:[Ae,"/",O.length]})}),O.map(de=>e.jsx(Le,{textAlign:"center",children:e.jsx(Ba,{isChecked:!!ge[de],onChange:()=>q(se.id,de),isDisabled:p,size:"md",colorScheme:"blue"})},de))]},se.id)})})]})})})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:" Groupes de Fonctions Prdfinis"})}),e.jsx(vn,{}),e.jsx(Ie,{children:e.jsx(ie,{spacing:3,align:"stretch",children:Object.entries(zT).map(([se,ge])=>e.jsx(Ne,{size:"sm",bg:"gray.50",p:3,children:e.jsxs(oe,{justify:"space-between",align:"start",spacing:4,children:[e.jsxs(ie,{align:"start",spacing:1,flex:1,children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:se}),e.jsxs(k,{fontSize:"xs",color:"gray.600",children:[ge.length," fonction(s)"]})]}),e.jsx(oe,{spacing:1,flexWrap:"wrap",justify:"flex-end",children:he.slice(0,5).map(Ae=>e.jsxs(te,{size:"xs",colorScheme:"green",onClick:()=>ce(Ae.id,se,!0),isDisabled:p,title:`Accorder ${se}  ${Ae.firstName}`,children:["+",Ae.firstName?.substring(0,1).toUpperCase()]},`grant-${Ae.id}-${se}`))})]})},se))})})]}),e.jsxs(Ut,{status:"warning",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:"  savoir"}),e.jsxs(ie,{align:"start",spacing:1,fontSize:"xs",color:"gray.700",mt:2,children:[e.jsx(k,{children:" Cochez pour accorder l'accs  une fonction"}),e.jsx(k,{children:" Dcochez pour rvoquer l'accs"}),e.jsx(k,{children:" Les permissions individuelles priment sur les rles"}),e.jsx(k,{children:" Les changements sont appliqus immdiatement"}),e.jsx(k,{children:" Utilisez les groupes pour accorder rapidement des ensembles de fonctions"}),e.jsx(k,{children:" Filtrez par utilisateur pour une meilleure visibilit"})]})]})]})]})}function CQ(){mn();const{isOpen:t,onOpen:n,onClose:r}=Nt(),[i,l]=y.useState([]),[u,d]=y.useState(!0),[g,p]=y.useState(null),[m,x]=y.useState("");tX();const v=y.useCallback(async()=>{try{d(!0),x("Chargement...");const C=await ps("/api/site-users");x(` Reu ${Array.isArray(C)?C.length:0} utilisateurs`),Array.isArray(C)?(l(C),console.log(" Utilisateurs chargs:",C.length)):(console.error(" Format inattendu:",C),x(` Format inattendu: ${typeof C}`),l([]))}catch(C){console.error(" Erreur:",C),x(` Erreur: ${C.message}`),l([])}finally{d(!1)}},[]);y.useEffect(()=>{v()},[v]);const S=C=>{p(C),n()},E=()=>{v()};return u?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsx(k,{textAlign:"center",py:8,children:" Chargement des utilisateurs..."})})}):i.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(Ut,{status:"error",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",children:" Aucun utilisateur charg"}),e.jsx(k,{fontSize:"sm",mt:2,children:m})]})]}),e.jsx(te,{colorScheme:"blue",onClick:()=>v(),children:"Ressayer"})]})})}):e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ao,{colorScheme:"blue",variant:"enclosed",children:[e.jsxs(lo,{children:[e.jsx(ln,{children:" Statistiques"}),e.jsx(ln,{children:" Accs MyRBE"}),e.jsx(ln,{children:" Gestion des utilisateurs"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{children:e.jsx(bQ,{})}),e.jsx(cn,{children:e.jsx(EQ,{})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(Ut,{status:"success",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsxs(k,{fontWeight:"bold",children:[" ",i.length," utilisateur(s) charg(s)"]}),e.jsx(k,{fontSize:"xs",color:"gray.600",mt:1,children:m})]})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"lg",children:" Utilisateurs"}),e.jsx(et,{colorScheme:"blue",children:i.length})]})}),e.jsx(vn,{}),e.jsx(Ie,{children:e.jsx(ue,{overflowX:"auto",children:e.jsxs(dr,{size:"sm",variant:"striped",children:[e.jsx(mr,{bg:"gray.100",children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Nom"}),e.jsx($e,{children:"Email"}),e.jsx($e,{children:"Rle"}),e.jsx($e,{children:"Accs Interne"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:i.map(C=>e.jsxs(Ft,{children:[e.jsxs(Le,{fontWeight:"medium",children:[C.firstName," ",C.lastName]}),e.jsx(Le,{fontSize:"sm",children:C.email}),e.jsx(Le,{children:e.jsx(et,{colorScheme:"purple",children:C.role})}),e.jsx(Le,{children:C.hasInternalAccess?e.jsx(et,{colorScheme:"green",children:" Oui"}):e.jsx(et,{colorScheme:"red",children:" Non"})}),e.jsx(Le,{children:e.jsx(te,{size:"sm",colorScheme:"blue",onClick:()=>S(C),children:"Grer"})})]},C.id))})]})})})]}),e.jsxs(Ut,{status:"info",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:" Utilisateurs du systme"}),e.jsx(k,{fontSize:"xs",color:"gray.700",mt:1,children:"Affichage de tous les utilisateurs actifs du systme"})]})]})]})})]})]}),g&&e.jsx(yQ,{isOpen:t,onClose:r,user:g,onPermissionUpdated:E})]})}const wQ=[{title:"RtroDemandes",description:"Crez vos demandes et consultez vos devis",to:"/dashboard/retro-requests",icon:Bn,color:"blue",resource:"RETRODEMANDES",cardAccess:!0},{title:"Rcapitulatif Demandes",description:"Vue d'ensemble de toutes les RtroDemandes",to:"/dashboard/president/retro-requests",icon:Bn,color:"cyan",requiredRole:["PRESIDENT","ADMIN"],resource:"RETRODEMANDES",cardAccess:!0},{title:"RtroBus",description:"Mcanique, vhicules et maintenance",to:"/dashboard/retrobus",icon:BX,color:"teal",resource:"VEHICLES",cardAccess:!0},{title:"Gestion Financire",description:"Recettes, dpenses et oprations programmes",to:"/admin/finance",icon:Vu,color:"rbe",resource:"FINANCE",cardAccess:!0},{title:"Gestion des vnements",description:"Cration, planification et suivi",to:"/dashboard/events-management",icon:pi,color:"green",resource:"EVENTS",cardAccess:!0},{title:"Grer les adhsions",description:"Membres, cotisations et documents",to:"/dashboard/members-management",icon:Ti,color:"blue",resource:"MEMBERS",cardAccess:!0},{title:"Gestion des Stocks",description:"Inventaire et matriel de l'association",to:"/dashboard/stock-management",icon:Tx,color:"yellow",resource:"STOCK",cardAccess:!0},{title:"Gestion Newsletter",description:"Abonns et campagnes d'envoi",to:"/dashboard/newsletter",icon:kc,color:"purple",resource:"NEWSLETTER",cardAccess:!0},{title:"RtroPlanning",description:"Calendrier centralis: campagnes, tournes, affectations",to:"/dashboard/retroplanning",icon:pi,color:"orange",resource:"PLANNING",cardAccess:!0},{title:"Gestion du Site",description:"Changelog, contenu et mise  jour",to:"/dashboard/site-management",icon:rh,color:"pink",resource:"SITE_MANAGEMENT",cardAccess:!0},{title:"Gestion des Autorisations",description:"Rles et permissions des utilisateurs",to:"/dashboard/myrbe/permissions",icon:C1,color:"red",requiredRole:["ADMIN","MANAGER","OPERATOR"],resource:"PERMISSIONS_MANAGEMENT",cardAccess:!0},{title:"Retromail",description:"Messagerie interne de l'quipe",to:"/retromail",icon:kX,color:"teal",resource:"RETROMAIL",cardAccess:!0},{title:"RtroSupport",description:"Tickets: incidents, bugs et amliorations",to:"/dashboard/support",icon:MX,color:"cyan",resource:"RETROSUPPORT",cardAccess:!0},{title:"Mon Profil",description:"Informations personnelles et permissions",to:"/dashboard/profile",icon:Ti,color:"blue"}];function _Q(){const t=Fn("blue.50","blue.900"),n=Fn("blue.500","blue.300"),{user:r,roles:i,customPermissions:l}=xs(),u=i?.[0]||"MEMBER",{permissions:d,loading:g}=vQ(r?.id),[p,m]=dn.useState(!1),x=dn.useMemo(()=>window.location.pathname,[]);dn.useEffect(()=>{x.includes("permissions")&&m(!0)},[x]);const v=E=>{if(u==="ADMIN")return!0;if(u==="PRESTATAIRE")return E.title==="RtroPlanning"||E.title==="RtroSupport";if(E.requiredRole&&!E.requiredRole.includes(u))return!1;if(E.cardAccess){if(d.some(T=>T.resource===E.resource))return!0;if(u==="PARTENAIRE")return!1;if(E.resource){const A={VEHICLES:Ce.VEHICLES,EVENTS:Ce.EVENTS,PLANNING:Ce.RETROPLANNING,FINANCE:Ce.FINANCE,MEMBERS:Ce.MEMBERS,STOCK:Ce.STOCK,NEWSLETTER:Ce.NEWSLETTER,SITE_MANAGEMENT:Ce.SITE_MANAGEMENT,RETRODEMANDES:Ce.RETRODEMANDES,RETROMAIL:Ce.RETROMAIL,RETROSUPPORT:Ce.RETROSUPPORT,PERMISSIONS_MANAGEMENT:Ce.PERMISSIONS_MANAGEMENT}[E.resource];return!A||ml(u,A,l)}return!0}return!0},S=wQ.filter(v);return g?e.jsx(Dl,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",bgGradient:"linear(to-r, blue.500, purple.600)",children:e.jsxs(ie,{spacing:4,py:8,children:[e.jsx(hn,{size:"lg"}),e.jsx(k,{children:"Chargement des permissions..."})]})}):e.jsx(Dl,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",headerVariant:"card",bgGradient:"linear(to-r, blue.500, purple.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"}],children:e.jsxs(ie,{spacing:8,align:"stretch",children:[p&&(i?.includes("ADMIN")||i?.includes("MANAGER")||i?.includes("OPERATOR"))&&e.jsxs(ue,{children:[e.jsx(te,{mb:4,variant:"ghost",onClick:()=>m(!1),size:"sm",children:" Retour  MyRBE"}),e.jsxs(ue,{bg:Fn("white","gray.800"),borderRadius:"md",p:6,borderWidth:"1px",borderColor:Fn("gray.200","gray.700"),children:[e.jsx(De,{size:"md",mb:4,children:" Gestion des Autorisations"}),e.jsx(CQ,{})]})]}),!p&&e.jsx(e.Fragment,{children:S.length>0?e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:6,children:S.map(E=>e.jsx(yl,{title:E.title,description:E.description,icon:E.icon,color:E.color,badge:E.badge,as:E.title==="Gestion des Autorisations"?"button":or,to:E.title!=="Gestion des Autorisations"?E.to:void 0,onClick:E.title==="Gestion des Autorisations"?()=>m(!0):void 0},E.title))}):e.jsxs(ue,{bg:Fn("gray.50","gray.900"),borderRadius:"md",p:12,textAlign:"center",borderWidth:"2px",borderStyle:"dashed",borderColor:Fn("gray.300","gray.600"),children:[e.jsx(oe,{justify:"center",mb:3,children:e.jsx(v1,{size:32})}),e.jsx(De,{size:"md",mb:2,children:"Accs limit"}),e.jsx(k,{color:"gray.600",mb:4,children:"Vous n'avez pas accs aux fonctionnalits de MyRBE avec votre rle et vos permissions actuels."}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Contactez un administrateur pour demander l'accs."})]})}),!p&&S.length>0&&e.jsxs(ie,{spacing:6,children:[e.jsx(ue,{bg:t,p:6,borderRadius:"xl",borderLeft:"4px solid",borderLeftColor:n,w:"full",children:e.jsxs(ie,{spacing:3,align:"start",children:[e.jsx(oe,{children:e.jsx(k,{fontSize:"lg",fontWeight:"600",color:"blue.700",children:" Guide d'utilisation"})}),e.jsx(k,{color:"blue.600",lineHeight:"relaxed",fontSize:"sm",children:"Votre vue MyRBE est personnalise selon vos permissions individuelles et votre rle. Les cartes affiches correspondent  vos droits d'accs. Les modifications que vous effectuez sont automatiquement sauvegardes et synchronises avec les autres membres de l'quipe."}),e.jsxs(oe,{spacing:3,pt:2,children:[e.jsx(te,{size:"sm",variant:"secondary",colorScheme:"blue",children:"Guide complet"}),e.jsx(te,{size:"sm",variant:"modern",as:or,to:"/dashboard/support",children:"Support technique"})]})]})}),e.jsxs(gt,{columns:{base:2,md:4},spacing:4,w:"full",children:[e.jsx(yl,{title:"Cartes visibles",description:`${S.length}`,color:"blue",variant:"modern"}),e.jsx(yl,{title:"Votre rle",description:u,color:"green",variant:"modern"}),e.jsx(yl,{title:"Permissions individuelles",description:`${d.length}`,color:"orange",variant:"modern"}),e.jsx(yl,{title:"Version",description:"v2.2.0",color:"purple",variant:"modern"})]})]})]})})}const gc="https://attractive-kindness-rbe-serveurs.up.railway.app",LT=[{matricule:"w.belaidi",label:"Waiyl Belaidi"},{matricule:"m.ravichandran",label:"Mthusan Ravichandran"}];function OT(t,n){return`pointage:${t}:${n}`}function TQ(t){try{const n="rbe:reports:local",r=localStorage.getItem(n),i=r?JSON.parse(r):[];return i.unshift(t),localStorage.setItem(n,JSON.stringify(i)),!0}catch(n){return console.error("saveLocalReport failed",n),!1}}function AQ(){const{parc:t}=Mx(),n=mn(),{matricule:r,prenom:i}=xs(),[l,u]=y.useState(null),[d,g]=y.useState(!0),[p,m]=y.useState(LT),[x,v]=y.useState(""),[S,E]=y.useState([]),[C,T]=y.useState(null),[A,D]=y.useState(!1),[M,R]=y.useState(!1),[P,z]=y.useState(!1),[O,G]=y.useState(""),[q,ce]=y.useState(""),[he,se]=y.useState(!1),[ge,Ae]=y.useState(""),[de,re]=y.useState([]),[K,W]=y.useState(!1),[H,Ee]=y.useState(null);y.useEffect(()=>{let Re=!1;return(async()=>{try{g(!0);const nt=await fetch(`${gc}/vehicles/${encodeURIComponent(t)}`);if(!nt.ok)throw new Error("Vhicule introuvable");const ht=await nt.json();Re||u(ht)}catch(nt){console.error(nt),n({status:"error",title:"Impossible de charger le vhicule",description:String(nt.message)})}finally{Re||g(!1)}})(),()=>{Re=!0}},[t,n]),y.useEffect(()=>{r&&r.trim()?(v(r),p.some(Re=>Re.matricule===r)||m(Re=>[{matricule:r,label:i?`${i} (${r})`:r},...Re])):x||v(LT[0].matricule)},[r,i]),y.useEffect(()=>{if(!x)return;const Re=OT(t,x);try{const nt=localStorage.getItem(Re);if(nt){const ht=JSON.parse(nt);T(ht)}else T(null)}catch(nt){console.warn("failed reading pointage from storage",nt)}},[t,x]);const B=Re=>{const nt=OT(t,x);if(Re)try{localStorage.setItem(nt,JSON.stringify(Re))}catch(ht){console.warn("persistActiveLocal failed",ht)}else try{localStorage.removeItem(nt)}catch(ht){console.warn("persistActiveLocal remove failed",ht)}},ae=Re=>{try{return new Date(Re).toLocaleString()}catch{return Re}},me=()=>{const Re=O.trim();if(!Re)return n({status:"warning",title:"Matricule requis"});if(Re===x)return G(""),n({status:"info",title:"C'est dj le membre principal"});if(S.includes(Re))return G(""),n({status:"info",title:"Participant dj ajout"});E(nt=>[...nt,Re]),p.some(nt=>nt.matricule===Re)||m(nt=>[{matricule:Re,label:Re},...nt]),G(""),n({status:"success",title:"Participant ajout"})},$=Re=>{E(nt=>nt.filter(ht=>ht!==Re))},F=async()=>{D(!0);try{try{if(!(await fetch(`${gc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Le serveur est indisponible  le pointage informatique est dsactiv."}),D(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage informatique est dsactiv."}),D(!1);return}const Re=[...S],nt={conducteur:x||null,participants:Re,note:"pointage:start",startedAt:new Date().toISOString()},ht=await fetch(`${gc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json","x-user-matricule":x||""},body:JSON.stringify(nt)});if(!ht.ok){let Ue=null;try{Ue=await ht.json()}catch{Ue=await ht.text().catch(()=>null)}console.warn("startPointage server error",ht.status,Ue),n({status:"error",title:"chec du pointage",description:Ue?.error||`Erreur serveur (${ht.status})`}),D(!1);return}const rt=await ht.json(),zt={id:rt.id||`local-${Date.now()}`,startedAt:rt.startedAt||nt.startedAt,conducteur:nt.conducteur,participants:nt.participants||[]};T(zt),B(zt),n({status:"success",title:"Pointage dmarr",description:` ${ae(zt.startedAt)}`}),R(!1)}catch(Re){console.error(Re),n({status:"error",title:"chec du pointage",description:String(Re.message)})}finally{D(!1)}},U=async()=>{if(!C)return;D(!0);const Re=new Date().toISOString(),nt=(ht,rt)=>{try{const zt="rbe:usages:local",Ue=localStorage.getItem(zt),qt=Ue?JSON.parse(Ue):[],Se={id:`local-end-${Date.now()}`,relatedTo:ht,parc:t,startedAt:rt||C.startedAt,endedAt:Re,conducteur:C.conducteur||x,participants:C.participants||S,note:q||"depointe",createdAt:new Date().toISOString(),synced:!1};return qt.unshift(Se),localStorage.setItem(zt,JSON.stringify(qt)),Se}catch(zt){return console.error("saveLocalEnded failed",zt),null}};try{try{if(!(await fetch(`${gc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Impossible de terminer le pointage  serveur indisponible."}),D(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage ne peut pas tre termin."}),D(!1);return}const ht={endedAt:Re,note:q||"depointe",participants:C.participants||S};let rt=null;try{const Se=await fetch(`${gc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(C.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ht)});if(Se.ok){try{rt=await Se.json()}catch{rt=null}B(null),T(null),z(!1),ce(""),n({status:"success",title:"Dpointe",description:`arrt  ${new Date(Re).toLocaleString()}`})}else{let Ke=null;try{Ke=await Se.json()}catch{Ke=await Se.text().catch(()=>null)}console.warn("depointerWithNote: PATCH failed",Se.status,Ke)}}catch(Se){console.warn("depointerWithNote: PATCH network error",Se)}if(!rt)try{const Se=await fetch(`${gc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conducteur:x||null,note:q||"pointage:end",relatedTo:C.id,participants:C.participants||S,endedAt:Re})});if(Se.ok){try{rt=await Se.json()}catch{rt=null}B(null),T(null),z(!1),ce(""),n({status:"success",title:"Dpointe (fallback)",description:`arrt  ${new Date(Re).toLocaleString()}`})}else{let Ke=null;try{Ke=await Se.json()}catch{Ke=await Se.text().catch(()=>null)}console.warn("depointerWithNote: POST fallback failed",Se.status,Ke)}}catch(Se){console.warn("depointerWithNote: POST fallback network error",Se)}if(!rt){const Se=nt(C.id,C.startedAt);B(null),T(null),z(!1),ce(""),n({status:"warning",title:"Dpointe local",description:Se?"Le pointage a t enregistr localement (pas d'API). La fiche peut tre envoye plus tard.":"Le serveur est indisponible et la sauvegarde locale a chou."}),Ee({usageId:Se?Se.id:`local-${Date.now()}`,startedAt:Se?.startedAt||C.startedAt,endedAt:Se?.endedAt||Re,conducteur:C.conducteur||x,participants:C.participants||S}),Ae(q||""),re([]),se(!0);return}const zt=rt?.id||C.id,Ue=rt?.startedAt||C.startedAt,qt=rt?.endedAt||Re;Ee({usageId:zt,startedAt:Ue,endedAt:qt,conducteur:x,participants:C.participants||S}),Ae(q||""),re([]),se(!0)}catch(ht){console.error("depointerWithNote: unexpected error",ht),n({status:"error",title:"chec du dpointeur",description:String(ht.message)})}finally{D(!1)}},Y=Re=>{const nt=Array.from(Re.target.files||[]);re(ht=>[...ht,...nt]),Re.target.value=""},be=Re=>{re(nt=>nt.filter((ht,rt)=>rt!==Re))},Te=async()=>{if(H){W(!0);try{const{usageId:Re,startedAt:nt,endedAt:ht,conducteur:rt,participants:zt}=H,Ue=new FormData;Ue.append("description",ge||""),Ue.append("startedAt",nt||""),Ue.append("endedAt",ht||""),Ue.append("conducteur",rt||""),Ue.append("participants",JSON.stringify(zt||[])),de.forEach((Se,Ke)=>Ue.append("files",Se,Se.name));let qt=!1;try{const Se=await fetch(`${gc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(Re)}/report`,{method:"POST",body:Ue});Se.ok?(qt=!0,n({status:"success",title:"Fiche enregistre",description:"La fiche a t enregistre sur le serveur."})):console.warn("primary report endpoint failed",Se.status)}catch(Se){console.warn("primary report endpoint error",Se)}if(!qt)try{const Se=await fetch(`${gc}/vehicles/${encodeURIComponent(t)}/reports`,{method:"POST",body:Ue});Se.ok?(qt=!0,n({status:"success",title:"Fiche enregistre (fallback)",description:"La fiche a t envoye au fallback serveur."})):console.warn("fallback report endpoint failed",Se.status)}catch(Se){console.warn("fallback report endpoint error",Se)}if(!qt){const Se={id:`local-${Date.now()}`,parc:t,usageId:Re,startedAt:nt,endedAt:ht,conducteur:rt,participants:zt||[],description:ge||"",files:de.map(Ot=>({name:Ot.name,size:Ot.size,type:Ot.type})),createdAt:new Date().toISOString()},Ke=TQ(Se);n(Ke?{status:"warning",title:"Fiche sauvegarde localement",description:"Pas d'API disponible  la fiche est dans votre navigateur."}:{status:"error",title:"chec sauvegarde locale",description:"Impossible de sauvegarder la fiche."})}se(!1),Ae(""),re([]),Ee(null)}catch(Re){console.error(Re),n({status:"error",title:"Erreur lors de l'envoi de la fiche",description:String(Re.message)})}finally{W(!1)}}};return d?e.jsx(jn,{p:8,children:e.jsx(hn,{size:"lg"})}):e.jsxs(Os,{maxW:"4xl",py:10,children:[e.jsx(De,{as:"h1",size:"xl",mb:4,children:"MyRBE  Actions rapides"}),e.jsxs(ue,{mb:4,children:[e.jsxs(k,{fontSize:"md",children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["Parc ",t]})]}),e.jsxs(ue,{mb:4,children:[e.jsx(k,{mb:2,children:e.jsx("b",{children:"Initiateur (scan)"})}),e.jsxs(oe,{spacing:3,align:"start",children:[e.jsxs(lt,{value:x,onChange:Re=>v(Re.target.value),maxW:"360px",children:[p.map(Re=>e.jsxs("option",{value:Re.matricule,children:[Re.label," (",Re.matricule,")"]},Re.matricule)),r&&!p.some(Re=>Re.matricule===r)&&e.jsx("option",{value:r,children:i?`${i} (${r})`:r})]}),e.jsx(ue,{children:e.jsx(ye,{placeholder:"Ajouter participant (matricule)",value:O,onChange:Re=>G(Re.target.value),maxW:"220px"})}),e.jsx(te,{size:"sm",onClick:me,children:"Ajouter"})]}),e.jsxs(ue,{mt:3,children:[e.jsx(k,{mb:2,fontSize:"sm",children:"Participants prsents :"}),e.jsxs(kP,{spacing:2,children:[S.length===0&&e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Aucun participant ajout"}),S.map(Re=>e.jsxs($u,{size:"sm",borderRadius:"full",variant:"solid",colorScheme:"blue",children:[e.jsx(Fu,{children:Re}),e.jsx(g1,{onClick:()=>$(Re)})]},Re))]})]})]}),e.jsxs(ca,{direction:{base:"column",md:"row"},spacing:4,mb:4,children:[e.jsx(te,{colorScheme:"blue",size:"lg",onClick:()=>n({status:"info",title:"Planifier",description:"Fonctionnalit planification  ajouter"}),children:"Planifier une intervention"}),e.jsx(te,{colorScheme:"red",size:"lg",onClick:()=>n({status:"info",title:"Signaler",description:"Fonctionnalit signalement  ajouter"}),children:"Signaler une anomalie"}),e.jsx(te,{colorScheme:C?"orange":"green",size:"lg",onClick:()=>{C?z(!0):R(!0)},isLoading:A,children:C?"Dpointer":"Pointer"})]}),e.jsxs(ue,{children:[e.jsxs(k,{fontSize:"sm",color:"gray.700",children:[e.jsx("b",{children:"Initiateur :"})," ",x," ",r===x&&i?`  ${i}`:""]}),C?e.jsxs(k,{fontSize:"sm",color:"gray.700",children:["Point depuis : ",ae(C.startedAt)]}):e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Aucun pointage actif pour ce membre sur ce vhicule."})]}),e.jsxs(Ct,{isOpen:M,onClose:()=>R(!1),isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Pointer  dmarrer"}),e.jsx(Bt,{}),e.jsxs(wt,{children:[e.jsxs(k,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(k,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(k,{mb:3,children:["Participants : ",S.length?S.join(", "):""]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Confirmer pour crer le pointage (heure actuelle enregistre)."})]}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:()=>R(!1),children:"Annuler"}),e.jsx(te,{colorScheme:"green",onClick:F,isLoading:A,children:"Confirmer"})]})]})]}),e.jsxs(Ct,{isOpen:P,onClose:()=>z(!1),isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Dpointer  terminer"}),e.jsx(Bt,{}),e.jsxs(wt,{children:[e.jsxs(k,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(k,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description des activits ralises"}),e.jsx(Yt,{value:q,onChange:Re=>ce(Re.target.value),placeholder:"Ex: contrle frein, remplacement ampoule..."})]}),e.jsx(k,{mt:3,fontSize:"sm",color:"gray.500",children:"(Aprs validation, vous pourrez ajouter photos/vidos  la fiche.)"})]}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:()=>z(!1),children:"Annuler"}),e.jsx(te,{colorScheme:"orange",onClick:U,isLoading:A,isDisabled:!q.trim(),children:"Confirmer dpointer"})]})]})]}),e.jsxs(Ct,{isOpen:he,onClose:()=>se(!1),size:"xl",isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Fiche de pointage  dtails"}),e.jsx(Bt,{}),e.jsxs(wt,{children:[e.jsxs(ue,{mb:3,children:[e.jsxs(k,{children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(k,{children:[e.jsx("b",{children:"Initiateur :"})," ",H?.conducteur]}),e.jsxs(k,{children:[e.jsx("b",{children:"Participants :"})," ",(H?.participants||[]).join(", ")||""]}),e.jsxs(k,{children:[e.jsx("b",{children:"Dbut :"})," ",H?ae(H.startedAt):""]}),e.jsxs(k,{children:[e.jsx("b",{children:"Fin :"})," ",H?ae(H.endedAt):""]})]}),e.jsxs(ee,{mb:3,children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:ge,onChange:Re=>Ae(Re.target.value),placeholder:"Dcrivez les actions effectues..."})]}),e.jsxs(ee,{mb:3,children:[e.jsx(J,{children:"Photos / Vidos"}),e.jsx(ye,{type:"file",accept:"image/*,video/*",multiple:!0,onChange:Y}),de.length>0&&e.jsx(gt,{columns:{base:2,md:3},spacing:2,mt:3,children:de.map((Re,nt)=>e.jsxs(ue,{borderRadius:"md",overflow:"hidden",pos:"relative",bg:"gray.50",p:2,children:[Re.type.startsWith("image/")?e.jsx(Mi,{src:URL.createObjectURL(Re),alt:Re.name,objectFit:"cover",maxH:"140px",w:"100%"}):e.jsxs(ue,{p:2,children:[e.jsx(k,{fontSize:"sm",noOfLines:2,children:Re.name}),e.jsxs(k,{fontSize:"xs",color:"gray.600",children:[Re.size/1024|0," KB"]})]}),e.jsx(xt,{"aria-label":"Supprimer",size:"sm",pos:"absolute",top:"6px",right:"6px",onClick:()=>be(nt),icon:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 6h18"}),e.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),e.jsx("path",{d:"M10 11v6"}),e.jsx("path",{d:"M14 11v6"})]})})]},nt))})]}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Les fichiers seront envoys au serveur si disponible ; sinon la fiche sera sauvegarde localement."})]}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:()=>se(!1),children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:Te,isLoading:K,children:"Enregistrer la fiche"})]})]})]})]})}const hp={getAll:async()=>Pt.get("/vehicles"),getByParc:async t=>Pt.get(`/vehicles/${t}`),create:async t=>Pt.post("/vehicles",t),update:async(t,n)=>Pt.put(`/vehicles/${t}`,n),delete:async t=>Pt.delete(`/vehicles/${t}`)},Do={getAll:async()=>Pt.get("/events"),getById:async t=>Pt.get(`/events/${t}`),create:async t=>Pt.post("/events",t),update:async(t,n)=>Pt.put(`/events/${t}`,n),delete:async t=>Pt.delete(`/events/${t}`),publish:async(t,n)=>Pt.put(`/events/${t}`,{status:n})},BT="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),vj=()=>{const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}},RQ=async t=>{const n=(t.headers.get("content-type")||"").toLowerCase();if(!(n.includes("application/json")||n.includes("+json"))){const r=await t.text().catch(()=>"");throw new Error(`Rponse non-JSON (${t.status}) ${r?.slice(0,200)||""}`)}},yj=(t,n={},r=8e3)=>{const i=new AbortController,l=setTimeout(()=>i.abort(),r);return fetch(t,{...n,signal:i.signal}).finally(()=>clearTimeout(l))},Yf=t=>{const n=String(t||"").replace(/^\/+|\/+$/g,"");return BT?`${BT}/${n}`:`/${n}`},bj=["api/members","members","api/v1/members","v1/members"];async function Df(t,n,r){let i=null;for(const l of bj)try{const u=Yf(l),d=await yj(u,{method:t,headers:{Accept:"application/json","Content-Type":n instanceof FormData?void 0:"application/json",...vj(),...r||{}},body:n==null?void 0:n instanceof FormData?n:JSON.stringify(n)});if(!d.ok){i=new Error(`HTTP ${d.status}`);continue}return await RQ(d),await d.json()}catch(u){i=u;continue}throw i||new Error("Aucun endpoint membre valide")}const jl={async getAll(){try{const t=await Df("GET");return Array.isArray(t)?{members:t}:Array.isArray(t?.members)?t:Array.isArray(t?.data)?{members:t.data}:{members:[]}}catch{return{members:[]}}},async testConnectivity(){const t=[Yf("api/health"),Yf("health"),Yf(bj[0])];for(const n of t)try{if((await yj(n,{method:"GET",headers:{...vj()}},3e3)).ok)return!0}catch{}return!1},async create(t){const n=await Df("POST",t);return n?.member||n?.data||n},async update(t,n){try{const r=await Df("PATCH",{id:t,...n},{"X-Method-Override":"PATCH"});return r?.member||r?.data||r}catch{const r=await Df("PUT",{id:t,...n});return r?.member||r?.data||r}},async delete(t){const n={id:t};try{const r=await Df("DELETE",n);return r?.ok===!0?r:{ok:!0}}catch(r){for(const i of bj)try{const l=Yf(`${i}/${encodeURIComponent(t)}`);if((await yj(l,{method:"DELETE",headers:{...vj()}})).ok)return{ok:!0}}catch{}throw r}}},kQ="rbe:announcements";function MQ(){try{const t=localStorage.getItem(kQ);if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))return[];const r=Date.now();return n.filter(i=>i&&i.active&&(!i.expiresAt||new Date(i.expiresAt).getTime()>r))}catch(t){return console.warn("loadFlashes:",t),[]}}function Yy(){const t=xs(),[n,r]=y.useState([]),[i,l]=y.useState({vehicles:{total:0,active:0,loading:!0},events:{total:0,upcoming:0,published:0,loading:!0},members:{total:0,active:0,loading:!0}}),[u,d]=y.useState([]),[g,p]=y.useState(!0),[m,x]=y.useState([]),[v,S]=y.useState([]),[E,C]=y.useState(0);mn();const T=Fn("white","gray.800"),A=Fn("linear(to-r, blue.500, purple.600)","linear(to-r, blue.600, purple.700)"),D=Fn("gray.200","gray.700");y.useEffect(()=>{r(MQ()),M();const se=setInterval(M,300*1e3);return()=>clearInterval(se)},[]);const M=async()=>{console.log(" Chargement des donnes du dashboard..."),P(),z(),O(),G(),q(),R()},R=async()=>{try{const se="https://attractive-kindness-rbe-serveurs.up.railway.app",ge=[`${se}/api/retro-news`,`${se}/retro-news`,"/data/retro-news.json"];for(const Ae of ge)try{const de=await fetch(Ae);if(!de.ok)continue;const re=await de.json();S(Array.isArray(re)?re:[]);return}catch(de){console.warn(`chec chargement depuis ${Ae}:`,de)}S([])}catch(se){console.error("Erreur chargement RtroActus:",se),S([])}},P=async()=>{try{if(console.log(" Chargement des vhicules..."),!hp||typeof hp.getAll!="function"){console.warn("vehiculesAPI non disponible"),l(de=>({...de,vehicles:{total:0,active:0,loading:!1}}));return}const se=await hp.getAll();console.log(" Rponse vhicules:",se);let ge=[];se?.data?ge=Array.isArray(se.data)?se.data:[se.data]:Array.isArray(se)&&(ge=se);const Ae={total:ge.length,active:ge.filter(de=>{const re=de?.statut||de?.status||de?.etat||"";return re==="ACTIF"||re==="ACTIVE"||re==="active"||re==="En service"}).length,loading:!1};if(console.log(" Stats vhicules:",Ae),l(de=>({...de,vehicles:Ae})),ge.length>0){const de=ge.filter(re=>{const K=new Date(re.createdAt||re.dateCreation||re.created_at),W=new Date(Date.now()-1440*60*1e3);return K>W});de.length>0&&d(re=>[{id:`vehicles-${Date.now()}`,type:"vehicle",title:`${de.length} nouveau(x) vhicule(s) ajout(s)`,time:"Aujourd'hui",icon:Cc,color:"blue"},...re.filter(K=>K.type!=="vehicle")])}}catch(se){console.error(" Erreur chargement vhicules:",se),l(ge=>({...ge,vehicles:{total:0,active:0,loading:!1}}))}},z=async()=>{try{if(console.log(" Chargement des vnements..."),!Do||typeof Do.getAll!="function"){console.warn("eventsAPI non disponible"),l(re=>({...re,events:{total:0,upcoming:0,published:0,loading:!1}}));return}const se=await Do.getAll();console.log(" Rponse vnements:",se);let ge=[];se?.data?ge=Array.isArray(se.data)?se.data:[se.data]:Array.isArray(se)&&(ge=se);const Ae=new Date,de={total:ge.length,upcoming:ge.filter(re=>{try{const K=new Date(re?.date||re?.dateEvent||re?.startDate),W=re?.status||re?.statut||"";return K>Ae&&(W==="PUBLISHED"||W==="published"||W==="Publi")}catch{return!1}}).length,published:ge.filter(re=>{const K=re?.status||re?.statut||"";return K==="PUBLISHED"||K==="published"||K==="Publi"}).length,loading:!1};if(console.log(" Stats vnements:",de),l(re=>({...re,events:de})),ge.length>0){const re=ge.filter(K=>{const W=new Date(K.createdAt||K.dateCreation||K.created_at),H=new Date(Date.now()-1440*60*1e3);return W>H});re.length>0&&d(K=>[{id:`events-${Date.now()}`,type:"event",title:`${re.length} nouvel(s) vnement(s) cr(s)`,time:"Aujourd'hui",icon:pi,color:"green"},...K.filter(W=>W.type!=="event")])}}catch(se){console.error(" Erreur chargement vnements:",se),l(ge=>({...ge,events:{total:0,upcoming:0,published:0,loading:!1}}))}},O=async()=>{try{if(console.log(" Chargement des membres..."),!jl||typeof jl.getAll!="function"){console.warn("membersAPI non disponible"),l(de=>({...de,members:{total:0,active:0,loading:!1}}));return}const se=await jl.getAll();console.log(" Rponse membres:",se);let ge=[];se?.members?ge=Array.isArray(se.members)?se.members:[se.members]:se?.data?ge=Array.isArray(se.data)?se.data:[se.data]:Array.isArray(se)&&(ge=se);const Ae={total:ge.length,active:ge.filter(de=>{const re=de?.membershipStatus||de?.statut||de?.status||de?.adhesionStatus||"";return re==="ACTIVE"||re==="active"||re==="Actif"||re===" jour"}).length,loading:!1};if(console.log(" Stats membres:",Ae),l(de=>({...de,members:Ae})),ge.length>0){const de=ge.filter(re=>{const K=new Date(re.createdAt||re.dateCreation||re.dateAdhesion||re.created_at),W=new Date(Date.now()-1440*60*1e3);return K>W});de.length>0&&d(re=>[{id:`members-${Date.now()}`,type:"member",title:`${de.length} nouvelle(s) adhsion(s)`,time:"Aujourd'hui",icon:Ti,color:"purple"},...re.filter(K=>K.type!=="member")])}}catch(se){console.error(" Erreur chargement membres:",se),l(ge=>({...ge,members:{total:0,active:0,loading:!1}}))}},G=()=>{const se=[{id:"system-1",type:"system",title:"Dashboard mis  jour",time:" l'instant",icon:Na,color:"gray"}];d(ge=>ge.length>0?ge:se)},q=()=>{x([{title:"Nouveau vhicule",icon:Bn,to:"/dashboard/vehicules",color:"blue"},{title:"Crer vnement",icon:pi,to:"/dashboard/events-management",color:"green"},{title:"Gestion membres",icon:Ti,to:"/dashboard/members-management",color:"purple"},{title:"Finance",icon:Vu,to:"/admin",color:"orange"}])};y.useEffect(()=>{!i.vehicles.loading&&!i.events.loading&&!i.members.loading&&g&&(console.log(" Toutes les donnes sont charges"),p(!1))},[i,g]);const ce=()=>{const se=new Date().getHours();return se<12?"Bonjour":se<17?"Bon aprs-midi":"Bonsoir"},he=y.useMemo(()=>n.map(se=>({id:se.id,message:se.message,category:se.category||"info",createdAt:se.createdAt})),[n]);return g?e.jsx(Os,{maxW:"container.xl",py:8,children:e.jsxs(ie,{spacing:8,children:[e.jsxs(ue,{bgGradient:A,color:"white",p:8,borderRadius:"xl",textAlign:"center",w:"full",children:[e.jsx(De,{size:"xl",children:"Chargement des donnes..."}),e.jsx(k,{mt:2,opacity:.9,children:"Rcupration des vhicules, vnements et membres"})]}),e.jsx(hn,{size:"xl",color:"blue.500"})]})}):e.jsxs(Os,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(ue,{bgGradient:A,color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsxs(De,{size:"xl",mb:4,children:[ce(),", ",t?.prenom||t?.email||"Utilisateur"," ! "]}),e.jsx(k,{fontSize:"lg",opacity:.9,children:"Voici un aperu de votre activit RtrobuS Essonne"})]}),e.jsxs(gt,{columns:{base:1,lg:4},spacing:8,children:[e.jsx(rj,{colSpan:{base:1,lg:3},children:e.jsxs(ie,{spacing:8,align:"stretch",children:[e.jsxs(gt,{columns:{base:2,md:4},spacing:6,children:[e.jsx(Ne,{bg:T,borderColor:D,shadow:"lg",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{color:"gray.600",children:"Vhicules actifs"}),e.jsx(yt,{color:"blue.500",children:e.jsxs(oe,{children:[e.jsx(qn,{as:Cc}),i.vehicles.loading?e.jsx(hn,{size:"sm"}):e.jsxs(k,{children:[i.vehicles.active,"/",i.vehicles.total]})]})}),e.jsx(jc,{value:i.vehicles.total>0?i.vehicles.active/i.vehicles.total*100:0,colorScheme:"blue",size:"sm",mt:2,isIndeterminate:i.vehicles.loading})]})})}),e.jsx(Ne,{bg:T,borderColor:D,shadow:"lg",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{color:"gray.600",children:"vnements  venir"}),e.jsx(yt,{color:"green.500",children:e.jsxs(oe,{children:[e.jsx(qn,{as:pi}),i.events.loading?e.jsx(hn,{size:"sm"}):e.jsxs(k,{children:[i.events.upcoming,"/",i.events.total]})]})}),e.jsx(jc,{value:i.events.total>0?i.events.upcoming/i.events.total*100:0,colorScheme:"green",size:"sm",mt:2,isIndeterminate:i.events.loading})]})})}),e.jsx(Ne,{bg:T,borderColor:D,shadow:"lg",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{color:"gray.600",children:"Membres actifs"}),e.jsx(yt,{color:"purple.500",children:e.jsxs(oe,{children:[e.jsx(qn,{as:Ti}),i.members.loading?e.jsx(hn,{size:"sm"}):e.jsxs(k,{children:[i.members.active,"/",i.members.total]})]})}),e.jsx(jc,{value:i.members.total>0?i.members.active/i.members.total*100:0,colorScheme:"purple",size:"sm",mt:2,isIndeterminate:i.members.loading})]})})})]}),e.jsxs(Ne,{bg:T,borderColor:D,shadow:"lg",children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",fontWeight:"700",children:"Actions rapides"})}),e.jsx(Ie,{children:e.jsx(gt,{columns:{base:2,md:4},spacing:4,children:m.map(se=>e.jsx(te,{as:or,to:se.to,leftIcon:e.jsx(qn,{as:se.icon}),colorScheme:se.color,variant:"outline",size:"sm",h:"auto",py:4,flexDirection:"column",textAlign:"center",children:se.title},se.title))})})]}),v.length>0&&e.jsxs(Ne,{bg:T,borderColor:D,shadow:"lg",children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",fontWeight:"700",children:" Les RtroActus"}),e.jsxs(oe,{spacing:2,children:[e.jsx(xt,{icon:e.jsx($P,{}),size:"sm",variant:"ghost",onClick:()=>C(se=>se===0?v.length-1:se-1),"aria-label":"Actu prcdente",isDisabled:v.length<=1}),e.jsxs(k,{fontSize:"xs",color:"gray.500",children:[E+1," / ",v.length]}),e.jsx(xt,{icon:e.jsx(_x,{}),size:"sm",variant:"ghost",onClick:()=>C(se=>(se+1)%v.length),"aria-label":"Actu suivante",isDisabled:v.length<=1})]})]})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"start",spacing:3,children:[e.jsx(De,{size:"sm",color:"blue.600",children:v[E]?.title||"Sans titre"}),v[E]?.date&&e.jsxs(oe,{spacing:2,color:"gray.500",fontSize:"sm",children:[e.jsx(qn,{as:pi}),e.jsx(k,{children:new Date(v[E].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(k,{fontSize:"sm",color:"gray.700",children:v[E]?.content||""}),v[E]?.imageUrl&&e.jsx(Mi,{src:v[E].imageUrl,alt:v[E]?.title,maxH:"150px",w:"100%",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsxs(Ne,{bg:T,borderColor:D,shadow:"lg",children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",fontWeight:"700",children:"Activit rcente"}),e.jsx(xt,{icon:e.jsx(sa,{}),size:"sm",variant:"ghost",onClick:M,title:"Actualiser"})]})}),e.jsx(Ie,{children:e.jsx(ie,{spacing:4,align:"stretch",children:u.length===0?e.jsx(k,{color:"gray.500",textAlign:"center",py:4,children:"Aucune activit rcente"}):u.slice(0,5).map(se=>e.jsxs(oe,{spacing:4,p:3,bg:"gray.50",borderRadius:"lg",children:[e.jsx(qn,{as:se.icon,color:`${se.color}.500`}),e.jsxs(ie,{align:"start",spacing:0,flex:1,children:[e.jsx(k,{fontWeight:"600",fontSize:"sm",children:se.title}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:se.time})]}),e.jsx(et,{colorScheme:se.color,variant:"subtle",children:se.type})]},se.id))})})]})]})}),e.jsx(rj,{children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{bg:T,borderColor:D,shadow:"lg",children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",fontWeight:"700",children:"Notifications"}),e.jsx(et,{colorScheme:"blue",variant:"subtle",children:n.length})]})}),e.jsx(Ie,{children:e.jsx(ie,{spacing:3,align:"stretch",children:he.length===0?e.jsx(k,{color:"gray.500",fontSize:"sm",textAlign:"center",py:4,children:"Aucune notification"}):he.slice(0,5).map(se=>e.jsx(ue,{p:3,borderRadius:"lg",bg:"gray.50",children:e.jsxs(oe,{justify:"space-between",align:"start",children:[e.jsxs(ie,{align:"start",spacing:1,flex:1,children:[e.jsx(k,{fontSize:"sm",fontWeight:"600",children:se.message}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:se.createdAt?new Date(se.createdAt).toLocaleDateString("fr-FR"):""})]}),e.jsx(et,{colorScheme:"blue",variant:"subtle",fontSize:"xs",children:se.category})]})},se.id))})})]}),e.jsxs(Ne,{bg:T,borderColor:D,shadow:"lg",children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",fontWeight:"700",children:"Liens utiles"})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsx(te,{as:or,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(RX,{}),size:"sm",children:"MyRBE"}),e.jsxs(te,{as:or,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Cc,{}),size:"sm",children:["Vhicules (",i.vehicles.total,")"]}),e.jsxs(te,{as:or,to:"/dashboard/events-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(pi,{}),size:"sm",children:["vnements (",i.events.total,")"]}),e.jsxs(te,{as:or,to:"/dashboard/members-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Ti,{}),size:"sm",children:["Membres (",i.members.total,")"]}),e.jsx(te,{as:or,to:"/admin",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Vu,{}),size:"sm",children:"Finance"}),e.jsx(vn,{my:1}),e.jsx(te,{as:or,to:"/dashboard/api-diagnostics",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(_X,{}),size:"sm",colorScheme:"orange",children:" Diagnostiques API"})]})})]}),e.jsxs(Ut,{status:"info",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:"APIs disponibles"}),e.jsx(k,{fontSize:"xs",children:"Les donnes sont rcupres en temps rel quand les APIs sont disponibles."})]})]})]})})]})]})}const Nd="https://attractive-kindness-rbe-serveurs.up.railway.app";function Ky(t){return`retromail:read:${t||"anon"}`}function $T(t){return`retromail:released:${t}`}function PQ(){const{matricule:t,prenom:n,isAdmin:r}=xs(),i=mn(),[l,u]=y.useState(!0),[d,g]=y.useState([]),[p,m]=y.useState([]),[x,v]=y.useState(null),[S,E]=y.useState("");y.useEffect(()=>{let P=!0;return(async()=>{u(!0);try{const z=await fetch(`${Nd.replace(/\/$/,"")}/retromail/list`);if(!P)return;if(!z.ok)throw new Error(`status ${z.status}`);const O=await z.json();g(Array.isArray(O)?O:[])}catch(z){console.warn("retromail list failed",z),g(null)}finally{P&&u(!1)}})(),()=>{P=!1}},[]),y.useEffect(()=>{let P=!0;if(!d||d.length===0){m([]);return}return(async()=>{try{const z=await Promise.all(d.map(async G=>{try{const q=await fetch(`${Nd.replace(/\/$/,"")}/retromail/${encodeURIComponent(G)}`);if(!q.ok)return null;const ce=await q.json();return{filename:G,json:ce}}catch{return null}}));if(!P)return;const O=z.filter(Boolean).sort((G,q)=>{const ce=new Date(G.json.createdAt||0).getTime();return new Date(q.json.createdAt||0).getTime()-ce});m(O),!x&&O.length>0&&v(O[0].filename)}catch(z){console.error(z)}})(),()=>{P=!1}},[d]);const C=P=>{const z=Ky(t);try{const O=localStorage.getItem(z),G=O?JSON.parse(O):{};G[P]=Date.now(),localStorage.setItem(z,JSON.stringify(G))}catch{}},T=P=>{try{const z=localStorage.getItem(Ky(t));if(!z)return!1;const O=JSON.parse(z);return!!(O&&O[P])}catch{return!1}},A=P=>{try{localStorage.setItem($T(P),"1"),i({status:"success",title:"Vido libre",description:"Le tlchargement est maintenant autoris localement."}),m(z=>[...z])}catch(z){i({status:"error",title:"Impossible",description:String(z.message)})}},D=P=>localStorage.getItem($T(P))==="1",M=y.useMemo(()=>{if(!p)return[];const P=(S||"").trim().toLowerCase();return P?p.filter(z=>{const O=z.json||{};return String(O.parc||"").toLowerCase().includes(P)||String(O.id||"").toLowerCase().includes(P)||String(O.description||"").toLowerCase().includes(P)}):p},[p,S]),R=p.find(P=>P.filename===x);return y.useEffect(()=>{x&&(C(x),m(P=>[...P]))},[x]),e.jsxs(ue,{p:6,children:[e.jsx(De,{size:"lg",mb:4,children:"RtroMail"}),e.jsxs(er,{gap:6,align:"stretch",children:[e.jsxs(ue,{w:{base:"100%",md:"360px"},borderWidth:"1px",borderRadius:"md",p:3,bg:"white",children:[e.jsxs(oe,{mb:3,children:[e.jsx(ye,{placeholder:"Rechercher par parc / id / texte",value:S,onChange:P=>E(P.target.value)}),e.jsx(te,{size:"sm",onClick:()=>{E("")},children:"Effacer"})]}),l&&e.jsx(jn,{p:6,children:e.jsx(hn,{})}),!l&&d===null&&e.jsxs(ue,{p:4,bg:"orange.50",borderRadius:"md",children:[e.jsx(k,{color:"orange.800",fontWeight:"600",children:"API Retromail non disponible"}),e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["Aucune liste trouve. Vrifie que le serveur expose ",e.jsx("code",{children:"/retromail/list"}),"."]})]}),!l&&M&&M.length===0&&e.jsx(k,{color:"gray.600",mt:3,children:"Aucun message."}),e.jsx(ie,{align:"stretch",spacing:2,mt:3,children:M.map(P=>{const z=P.json||{},O=z.parc?`Parc ${z.parc}`:`Fiche ${z.id||P.filename}`,G=(z.description||"").slice(0,120),q=!T(P.filename);return e.jsx(Ne,{size:"sm",onClick:()=>v(P.filename),cursor:"pointer",bg:x===P.filename?"gray.50":"white",children:e.jsx(Dt,{children:e.jsxs(er,{justify:"space-between",align:"center",children:[e.jsxs(ue,{children:[e.jsxs(k,{fontWeight:"600",children:[O," ",z.id?e.jsx(et,{ml:2,children:`#${z.id}`}):null]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:G||e.jsx("i",{children:"(Pas de description)"})})]}),e.jsxs(ue,{textAlign:"right",children:[q?e.jsx(et,{colorScheme:"red",children:"Nouveau"}):e.jsx(k,{fontSize:"xs",color:"gray.500",children:"Lu"}),e.jsx(k,{fontSize:"xs",color:"gray.400",children:z.createdAt?new Date(z.createdAt).toLocaleString():""})]})]})})},P.filename)})})]}),e.jsx(ue,{flex:"1",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",children:R?e.jsxs(e.Fragment,{children:[e.jsxs(er,{justify:"space-between",align:"center",mb:3,children:[e.jsxs(ue,{children:[e.jsxs(De,{size:"md",children:["Fiche pointage  ",R.json.parc?`Parc ${R.json.parc}`:R.json.id]}),e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["ID: ",R.json.id||R.filename,"  ",R.json.createdAt?new Date(R.json.createdAt).toLocaleString():""]})]}),e.jsx(ue,{children:e.jsxs(oe,{spacing:2,children:[e.jsx(te,{size:"sm",as:"a",href:`${Nd.replace(/\/$/,"")}/retromail/${encodeURIComponent(R.filename.replace(/\.json$/,"")+".pdf")}`,target:"_blank",rel:"noreferrer",children:"Tlcharger PDF"}),e.jsx(te,{size:"sm",variant:"outline",onClick:()=>{const P=Ky(t),z=localStorage.getItem(P),O=z?JSON.parse(z):{};O[R.filename]?delete O[R.filename]:O[R.filename]=Date.now(),localStorage.setItem(P,JSON.stringify(O)),m(G=>[...G])},children:T(R.filename)?"Marquer non lu":"Marquer lu"})]})})]}),e.jsx(vn,{mb:3}),e.jsxs(ue,{mb:4,children:[e.jsx(k,{fontWeight:"600",children:"Initiateur :"}),e.jsx(k,{mb:2,children:R.json.conducteur||""}),e.jsx(k,{fontWeight:"600",children:"Participants :"}),e.jsx(k,{mb:2,children:(R.json.participants||[]).join(", ")||""}),e.jsx(k,{fontWeight:"600",children:"Description :"}),e.jsx(k,{mb:3,whiteSpace:"pre-wrap",children:R.json.description||""}),e.jsx(k,{fontWeight:"600",mb:2,children:"Images :"}),(R.json.files||[]).filter(P=>(P.mime||"").startsWith("image/")).length===0?e.jsx(k,{color:"gray.600",mb:2,children:"Aucune image."}):e.jsx(gt,{columns:{base:1,md:3},gap:3,mb:3,children:(R.json.files||[]).filter(P=>(P.mime||"").startsWith("image/")).map((P,z)=>e.jsxs(ue,{borderWidth:"1px",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(Mi,{src:`${Nd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(P.filename)}`,alt:P.originalname||P.filename,objectFit:"cover",maxH:"160px",w:"100%"}),e.jsxs(oe,{mt:2,justify:"space-between",children:[e.jsx(k,{fontSize:"sm",noOfLines:1,children:P.originalname||P.filename}),e.jsx(te,{size:"sm",as:"a",href:`${Nd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(P.filename)}`,target:"_blank",rel:"noreferrer",children:"Ouvrir"})]})]},z))}),e.jsx(k,{fontWeight:"600",mb:2,children:"Vidos (spares)"}),(R.json.files||[]).filter(P=>(P.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(P.originalname||P.filename)).length===0?e.jsx(k,{color:"gray.600",children:"Aucune vido."}):e.jsx(ie,{align:"stretch",spacing:2,mb:3,children:(R.json.files||[]).filter(P=>(P.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(P.originalname||P.filename)).map((P,z)=>{const O=D(P.filename);return e.jsx(ue,{p:3,borderWidth:"1px",borderRadius:"md",children:e.jsxs(er,{justify:"space-between",align:"center",children:[e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"600",noOfLines:1,children:P.originalname||P.filename}),e.jsxs(k,{fontSize:"sm",color:"gray.500",children:[P.size/1024|0," KB"]}),!O&&e.jsx(k,{fontSize:"xs",color:"orange.600",children:"Tlchargement restreint ( analyser)"})]}),e.jsxs(oe,{children:[r&&!O&&e.jsx(te,{size:"sm",colorScheme:"green",onClick:()=>A(P.filename),children:"Librer le tlchargement"}),e.jsx(te,{size:"sm",as:"a",href:O?`${Nd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(P.filename)}`:"#",target:"_blank",rel:"noreferrer",isDisabled:!O,children:O?"Tlcharger":"Demand"})]})]})},z)})})]})]}):e.jsx(jn,{p:6,children:e.jsx(k,{color:"gray.600",children:"Slectionne un message  lire."})})})]})]})}function DQ({template:t,data:n}){if(!t)return e.jsxs(Ut,{status:"warning",children:[e.jsx(Ht,{}),e.jsx(k,{children:"Aucun template slectionn"})]});if(!t.htmlContent)return e.jsxs(Ut,{status:"error",children:[e.jsx(Ht,{}),e.jsx(k,{children:"Contenu HTML du template vide"})]});let r=t.htmlContent;return n&&Object.entries(n).forEach(([i,l])=>{const u=`{{${i}}}`,d=new RegExp(u,"g");r=r.replace(d,l||"")}),t.logoBig&&(r=r.replace(/{{LOGO_BIG}}/g,`data:image/png;base64,${t.logoBig}`)),t.logoSmall&&(r=r.replace(/{{LOGO_SMALL}}/g,`data:image/png;base64,${t.logoSmall}`)),e.jsx(ue,{maxH:"600px",overflowY:"auto",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",className:"template-preview",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:r},style:{fontSize:"14px",lineHeight:"1.6",color:"#333"}})})}const NQ={},IQ=()=>{const[t,n]=y.useState(!1),[r,i]=y.useState(0),[l,u]=y.useState(0),[d,g]=y.useState(null),[p,m]=y.useState(!0),[x,v]=y.useState({balance:0,totalCredits:0,totalDebits:0,monthlyBalance:0,scheduledMonthlyImpact:0,scheduledCount:0}),[S,E]=y.useState([]),[C,T]=y.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),[A,D]=y.useState([]),[M,R]=y.useState({categoryId:"",allocatedAmount:"",notes:""}),[P,z]=y.useState([]),[O,G]=y.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[q,ce]=y.useState(null),[he,se]=y.useState(()=>{const I=new Date;return`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`}),[ge,Ae]=y.useState(""),[de,re]=y.useState(null),[K,W]=y.useState([]),[H,Ee]=y.useState(!1),[B,ae]=y.useState(""),[me,$]=y.useState(""),[F,U]=y.useState(""),[Y,be]=y.useState([]),[Te,Re]=y.useState({scenarios:[],activeScenario:null,projectionMonths:12}),[nt,ht]=y.useState(null),[rt,zt]=y.useState(null),[Ue,qt]=y.useState(null),[Se,Ke]=y.useState({name:"",description:"",projectionMonths:12}),[Ot,le]=y.useState({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),[ve,st]=y.useState({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),[Mt,Mn]=y.useState([]),[ar,He]=y.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),it=new Date().getFullYear(),[It,Xe]=y.useState(it),[vt,Pn]=y.useState(null),[Ge,At]=y.useState([]),[an,yn]=y.useState([]),[en,Dn]=y.useState(null),[at,Ln]=y.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),[br,Xr]=y.useState("manual"),[un,$s]=y.useState(null),[Ts,$o]=y.useState([]),[Ga,ua]=y.useState(null),[Pi,Za]=y.useState(null),{isOpen:As,onOpen:vi,onClose:Rr}=Nt(),{isOpen:Qr,onOpen:co,onClose:Jr}=Nt(),[ct,Di]=y.useState(null),{isOpen:Ya,onOpen:uo,onClose:ho}=Nt(),[Fs,ls]=y.useState(null),[vs,Js]=y.useState(""),{isOpen:Cr,onOpen:da,onClose:Fo}=Nt(),ot=mn(),{isOpen:ei,onOpen:zc,onClose:Vs}=Nt(),{isOpen:ha,onOpen:Lc,onClose:ti}=Nt(),{isOpen:Vo,onOpen:Us,onClose:Ni}=Nt(),{isOpen:fo,onOpen:yi,onClose:po}=Nt(),{isOpen:Ii,onOpen:bn,onClose:Gn}=Nt(),{isOpen:Ur,onOpen:zi,onClose:Li}=Nt(),{isOpen:mo,onOpen:nn,onClose:Un}=Nt(),{isOpen:go,onOpen:kr,onClose:Hr}=Nt(),Oi=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173")?NQ?.VITE_API_BASE_URL||"https://attractive-kindness-rbe-serveurs.up.railway.app":"",ys=String(Oi||"").replace(/\/$/,""),Vt=I=>`${ys}${I}`,wr=I=>{const ne=String(I||"");return ne.startsWith("/api/")?[ne,ne.replace(/^\/api/,"")]:[ne,`/api${ne}`]},Nr=async(I,ne={})=>{const Je=Array.isArray(I)?I:[I];let ft=null;for(const Nn of Je)try{const rn=await fetch(Vt(Nn),ne);if(!rn.ok)throw new Error(`${rn.status} ${rn.statusText}`);return(rn.headers.get("content-type")||"").includes("application/json")?await rn.json():{}}catch(rn){ft=rn}if(ft)throw ft;return{}},xo=async(I,ne={})=>{const Je=Array.isArray(I)?I:[I];let ft=null;for(const Nn of Je)try{const rn=await fetch(Vt(Nn),{method:"DELETE",headers:ne});if(!rn.ok)throw new Error(`${rn.status} ${rn.statusText}`);return!0}catch(rn){ft=rn}if(ft)throw ft;return!1},fa=async(I,ne={},Je={})=>{const ft=Array.isArray(I)?I:[I];let Nn=null;for(const rn of ft)try{const rr=await fetch(Vt(rn),{method:"PATCH",headers:{"Content-Type":"application/json",...Je},body:JSON.stringify(ne)});if(!rr.ok)throw new Error(`${rr.status} ${rr.statusText}`);return(rr.headers.get("content-type")||"").includes("application/json")?await rr.json():ne}catch(rr){Nn=rr}if(Nn)throw Nn;return ne},Bi=()=>{try{const I=localStorage.getItem("rbe:finance:documents");return I?JSON.parse(I):[]}catch{return[]}},ni=I=>{try{localStorage.setItem("rbe:finance:documents",JSON.stringify(I||[]))}catch{}},pa=async()=>{try{n(!0),await Promise.all([cs(),bs(),js(),ma(),Gt(),Ir(),$i(),En(It),ri()])}catch(I){console.error(" Erreur chargement donnes financires:",I),ot({status:"error",title:"Erreur de chargement",description:"Impossible de charger les donnes financires",duration:4e3,isClosable:!0})}finally{n(!1)}},$i=async()=>{try{const I=wr("/api/finance/documents"),ne=await Nr(I,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),Je=Array.isArray(ne?.documents)?ne.documents:Array.isArray(ne?.items)?ne.items:Array.isArray(ne)?ne:[];if(Je.length===0){const ft=Bi();yn(ft)}else yn(Je),ni(Je)}catch{const ne=Bi();yn(ne)}},vo=async()=>{try{const I=wr("/api/quote-templates"),ne=await fetch(I[0]||"/api/quote-templates",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ne.ok){const Je=await ne.json(),ft=Array.isArray(Je)?Je:Je?.templates||[];$o(ft)}}catch(I){console.warn(" Impossible de charger les templates:",I),$o([])}},cs=async()=>{try{const I=await fetch(Vt("/api/finance/balance"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const ne=await I.json();u(ne.balance||0),g(ne.lastUpdate),m(ne.isLocked!==!1)}else console.warn(" Solde non disponible, utilisation de 0"),u(0)}catch(I){console.error(" Erreur chargement solde:",I),u(0)}},bs=async()=>{try{const I=await fetch(Vt("/api/finance/transactions"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const ne=await I.json();E(ne.transactions||[])}else console.warn(" Transactions non disponibles"),E([])}catch(I){console.error(" Erreur chargement transactions:",I),E([])}},js=async()=>{try{const I=await fetch(Vt("/api/finance/scheduled-operations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const ne=await I.json();z(ne.operations||[])}else console.warn(" Oprations programmes non disponibles"),z([])}catch(I){console.error(" Erreur chargement oprations programmes:",I),z([])}},Hs=async I=>{try{const ne=await fetch(Vt(`/api/finance/scheduled-operations/${I}/payments`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ne.ok){const Je=await ne.json();W(Je.payments||[])}else W([])}catch(ne){console.error(" Erreur chargement paiements chance:",ne),W([])}},ma=async()=>{try{const I=await fetch(Vt("/api/finance/simulations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const ne=await I.json();Re(Je=>({...Je,scenarios:ne.scenarios||[]}))}else console.warn(" Simulations non disponibles"),Re(ne=>({...ne,scenarios:[]}))}catch(I){console.error(" Erreur chargement simulations:",I),Re(ne=>({...ne,scenarios:[]}))}},Gt=async()=>{try{const I=await fetch(Vt("/api/finance/balance/history"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const ne=await I.json();be(ne.history||[])}else console.warn(" Historique non disponible"),be([])}catch(I){console.error(" Erreur chargement historique:",I),be([])}},Ir=async()=>{try{const I=await fetch(Vt("/api/finance/expense-reports"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const ne=await I.json();Mn(ne.reports||[])}else Mn([])}catch(I){console.error(" Erreur chargement notes de frais:",I),Mn([])}},En=async I=>{try{const ne=await fetch(Vt(`/api/finance/reports?year=${encodeURIComponent(I)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ne.ok){const Je=await ne.json();Pn(Je)}else Pn(null)}catch(ne){console.error(" Erreur chargement rapports:",ne),Pn(null)}},zr=async()=>{try{const I=await fetch(Vt(`/api/finance/reports/pdf?year=${encodeURIComponent(It)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!I.ok){ot({status:"error",title:"Export PDF chou"});return}const ne=await I.blob(),Je=URL.createObjectURL(ne),ft=document.createElement("a");ft.href=Je,ft.download=`rapport-financier-${It}.pdf`,document.body.appendChild(ft),ft.click(),ft.remove(),URL.revokeObjectURL(Je)}catch(I){console.error(" Export PDF:",I),ot({status:"error",title:"Export PDF chou"})}},ri=async()=>{try{const I=await fetch(Vt("/api/finance/categories"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(I.ok){const ne=await I.json();At(Array.isArray(ne)?ne:[])}}catch(I){console.error(" Erreur chargement catgories:",I)}},[yo,Rs]=y.useState(!1),[ks,Fi]=y.useState(null),Vi=(ks?.roles||[]).some(I=>String(I).toUpperCase()==="TRESORIER"),gr=async()=>{try{const I=await fetch(Vt("/api/me"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(I.ok){const ne=await I.json();Fi(ne),Rs(!0),console.log(" Utilisateur connect:",ne.matricule,"- Modification du solde contrle par code")}}catch(I){console.error(" Erreur chargement utilisateur:",I)}},Ms=()=>{const I=S.filter(In=>In.type==="CREDIT").reduce((In,Or)=>In+(Or.amount||0),0),ne=S.filter(In=>In.type==="DEBIT").reduce((In,Or)=>In+(Or.amount||0),0),Je=new Date,ft=new Date(Je.getFullYear(),Je.getMonth(),1),Nn=new Date(Je.getFullYear(),Je.getMonth()+1,0),rn=S.filter(In=>{const Or=new Date(In.date||In.createdAt);return Or>=ft&&Or<=Nn}),rr=rn.filter(In=>In.type==="CREDIT").reduce((In,Or)=>In+(Or.amount||0),0),Ws=rn.filter(In=>In.type==="DEBIT").reduce((In,Or)=>In+(Or.amount||0),0),Wr=rr-Ws,Ui=P.filter(In=>In.isActive).reduce((In,Or)=>{const Uc=pt(Or.frequency),Ss=Or.type==="SCHEDULED_CREDIT"?Or.amount||0:-(Or.amount||0);return In+Ss*Uc},0);v({balance:l,totalCredits:I,totalDebits:ne,monthlyBalance:Wr,scheduledMonthlyImpact:Ui,scheduledCount:P.filter(In=>In.isActive).length})},ga=({percent:I,color:ne="gray"})=>{const Je=typeof I=="number"?Math.max(0,Math.min(1,I)):null,ft=50,Nn=60,rn=60,rr=Math.PI,Ws=Math.PI*(1-(Je??0)),Wr=Nn+ft*Math.cos(rr),Ui=rn-ft*Math.sin(rr),In=Nn+ft*Math.cos(Ws),Or=rn-ft*Math.sin(Ws),Uc=0,Ss=0,qo=`M ${Wr} ${Ui} A ${ft} ${ft} 0 ${Uc} ${Ss} ${In} ${Or}`;return e.jsxs("svg",{viewBox:"0 0 120 70",width:"100%",height:"70",role:"img","aria-label":Je!=null?`${Math.round(Je*100)}%`:"N/A",children:[e.jsx("path",{d:`M ${Wr} ${Ui} A ${ft} ${ft} 0 0 ${Ss} ${Nn+ft} ${rn}`,stroke:"#E2E8F0",strokeWidth:"10",fill:"none"}),Je!=null&&Je>0&&e.jsx("path",{d:qo,stroke:ne,strokeWidth:"10",fill:"none",strokeLinecap:"round"}),e.jsx("text",{x:"60",y:"65",textAnchor:"middle",fontSize:"10",fill:"#4A5568",children:Je!=null?`${Math.round(Je*100)}%`:"N/A"})]})},Q=I=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(I||0),xe=I=>I?new Date(I).toLocaleDateString("fr-FR"):"N/A",Oe=I=>({ADHESION:"Adhsion",MAINTENANCE:"Maintenance",CARBURANT:"Carburant",ASSURANCE:"Assurance",AUTRE:"Autre"})[I]||I,pt=I=>{switch(I){case"SEMI_ANNUAL":return .5;case"ONE_SHOT":return 0;case"WEEKLY":return 4.33;case"QUARTERLY":return 1/3;case"YEARLY":return 1/12;case"MONTHLY":default:return 1}},gn=I=>{switch(I){case"ONE_SHOT":return"Ponctuel";case"SEMI_ANNUAL":return"Semestriel (6 mois)";case"WEEKLY":return"Hebdomadaire";case"QUARTERLY":return"Trimestriel";case"YEARLY":return"Annuel";case"MONTHLY":default:return"Mensuel"}},Tn=async()=>{if(!B||B.length!==4){ot({status:"warning",title:"Code requis",description:"Veuillez saisir le code  4 chiffres (0920)",duration:3e3,isClosable:!0});return}if(B!=="0920"){ot({status:"error",title:"Code incorrect",description:"Le code de scurit n'est pas valide",duration:4e3,isClosable:!0});return}if(!me||isNaN(parseFloat(me))){ot({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide",duration:3e3,isClosable:!0});return}try{n(!0);const I=await fetch(Vt("/api/finance/balance/configure"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({code:B,newBalance:parseFloat(me),reason:F?.trim()||`Mise  jour manuelle du solde par ${ks?.matricule||ks?.username||"inconnu"} - ${new Date().toLocaleDateString("fr-FR")}`})});if(I.ok){const ne=await I.json();u(ne.newBalance),ae(""),$(""),U(""),Ee(!1),Vs(),ot({status:"success",title:"Solde mis  jour",description:`Nouveau solde: ${Q(ne.newBalance)} (diffrence: ${ne.difference>=0?"+":""}${Q(ne.difference)})`,duration:5e3,isClosable:!0}),await Gt(),await cs()}else{const ne=await I.text().catch(()=>"");let Je={};try{Je=ne?JSON.parse(ne):{}}catch{Je={message:ne?.slice(0,200)||"Erreur inconnue"}}I.status===403?ot({status:"error",title:"Accs refus",description:"Vous n'avez pas l'autorisation de modifier le solde",duration:5e3,isClosable:!0}):I.status===401?ot({status:"error",title:"Code incorrect",description:"Le code de scurit 0920 est incorrect",duration:4e3,isClosable:!0}):ot({status:"error",title:"Erreur de configuration",description:Je.message||"Erreur serveur",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur configuration solde:",I),ot({status:"error",title:"Erreur",description:"Impossible de configurer le solde. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},St=async()=>{if(!ar.description||!ar.amount){ot({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires"});return}try{n(!0);const I=await fetch(Vt("/api/finance/expense-reports"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:ar.description,amount:parseFloat(ar.amount),date:ar.date})});if(I.ok)ot({status:"success",title:"Note de frais ajoute"}),He({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),await Ir();else{const ne=await I.json().catch(()=>({}));ot({status:"error",title:"Erreur",description:ne.message||"Impossible d'ajouter la note de frais"})}}catch(I){console.error(" Erreur cration note de frais:",I),ot({status:"error",title:"Erreur",description:"Impossible d'ajouter la note de frais"})}finally{n(!1)}},fn=async(I,ne)=>{try{(await fetch(Vt(`/api/finance/expense-reports/${I}`),{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:ne})})).ok?await Ir():ot({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}catch(Je){console.error(" Erreur MAJ statut note de frais:",Je),ot({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}},pn=async I=>{try{(await fetch(Vt(`/api/finance/expense-reports/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(ot({status:"success",title:"Note de frais supprime"}),await Ir()):ot({status:"error",title:"Erreur",description:"Suppression impossible"})}catch(ne){console.error(" Erreur suppression note de frais:",ne),ot({status:"error",title:"Erreur",description:"Suppression impossible"})}},Lr=async()=>{if(!C.type||!C.amount||!C.description){ot({status:"warning",title:"Champs requis",description:"Type, montant et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const I=wr("/api/finance/transactions"),ne=await Nr(I,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...C,amount:parseFloat(C.amount)})});if(ne){if(A.length>0){const Je=wr(`/api/finance/transactions/${ne.id}/categories`),ft=A.map(Nn=>({categoryId:Nn.categoryId,allocatedAmount:parseFloat(Nn.allocatedAmount),notes:Nn.notes||null}));await Nr(Je,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({allocations:ft})})}ot({status:"success",title:"Transaction ajoute",description:A.length>0?`Transaction ajoute avec ${A.length} allocation(s)`:"La transaction a t enregistre avec succs",duration:3e3,isClosable:!0}),T({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),D([]),R({categoryId:"",allocatedAmount:"",notes:""}),ti(),await bs(),await cs()}}catch(I){console.error(" Erreur ajout transaction:",I),ot({status:"error",title:"Erreur",description:"Impossible d'ajouter la transaction. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},es=I=>{Di({...I}),co()},Uo=async()=>{if(!(!ct||!ct.id))try{n(!0);const I=wr(`/api/finance/transactions/${encodeURIComponent(ct.id)}`);await Nr(I,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:ct.description,category:ct.category,type:ct.type,amount:parseFloat(ct.amount),date:ct.date})}),ot({status:"success",title:"Transaction mise  jour"}),Jr(),await bs(),await cs()}catch(I){console.error(" Erreur modification transaction:",I),ot({status:"error",title:"Erreur",description:"Impossible de modifier la transaction"})}finally{n(!1)}},Ho=async I=>{try{if(!confirm("Supprimer cette transaction ?"))return;const ne=wr(`/api/finance/transactions/${encodeURIComponent(I)}`);await xo(ne,{Authorization:`Bearer ${localStorage.getItem("token")}`}),ot({status:"success",title:"Transaction supprime"}),await bs(),await cs()}catch(ne){console.error(" Erreur suppression transaction:",ne),ot({status:"error",title:"Erreur",description:"Suppression impossible"})}},Wo=I=>{ls(I),Js(I?.documentId||""),uo()},Ka=async()=>{try{if(!Fs)return;const I=wr(`/api/finance/transactions/${encodeURIComponent(Fs.id)}`);await Nr(I,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({documentId:vs||null})}),E(ne=>ne.map(Je=>Je.id===Fs.id?{...Je,documentId:vs||null}:Je)),ho(),ls(null),Js(""),ot({status:"success",title:"Transaction lie au document"})}catch(I){console.error(" Erreur liaison transaction/document:",I),ot({status:"error",title:"Erreur",description:"Impossible de lier la transaction"})}},Th=async()=>{if(!un){ot({status:"warning",title:"Erreur",description:"Slectionnez un template"});return}try{if(!at.number){ot({status:"warning",title:"Champ requis",description:"Le numro du document est obligatoire"});return}if(!at.title){ot({status:"warning",title:"Champ requis",description:"Le titre du document est obligatoire"});return}if(!at.amount){ot({status:"warning",title:"Champ requis",description:"Le montant est obligatoire"});return}const I={NUM_DEVIS:at.number,TITRE:at.title,OBJET:at.title,DESCRIPTION:at.description||"",MONTANT:parseFloat(at.amount||0).toFixed(2),DATE:new Date(at.date).toLocaleDateString("fr-FR"),DESTINATAIRE_NOM:at.destinataireName||"Destinataire",DESTINATAIRE_ADRESSE:at.destinataireAdresse||"",NOTES:at.notes||"",LOGO_BIG:un.logoBig||"",LOGO_SMALL:un.logoSmall||""};Za({templateId:un.id,data:I,templateName:un.name}),vi(),ot({status:"success",title:"Aperu gnr",description:"Vrifiez l'aperu avant d'imprimer"})}catch(I){console.error(" Erreur gnration aperu:",I),ot({status:"error",title:"Erreur",description:"Impossible de gnrer l'aperu"})}},Ah=()=>{Dn(null),Ln({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),$s(null),da()},Bc=I=>{Dn(I),Ln({type:I.type||"QUOTE",number:I.number||"",title:I.title||"",description:I.description||"",date:(I.date||new Date().toISOString()).slice(0,10),dueDate:I.dueDate?I.dueDate.slice(0,10):"",amountExcludingTax:String(I.amountExcludingTax??""),taxRate:I.taxRate||20,taxAmount:I.taxAmount||0,amount:String(I.amount??""),status:I.quoteStatus||I.invoiceStatus||I.status||"DRAFT",eventId:I.eventId||"",memberId:I.memberId||"",destinataireName:I.destinataireName||"",destinataireAdresse:I.destinataireAdresse||"",notes:I.notes||"",paymentMethod:I.paymentMethod||"",paymentDate:I.paymentDate?I.paymentDate.slice(0,10):"",amountPaid:String(I.amountPaid??"")}),$s(null),da()},Rh=async()=>{try{if(!at.number||!at.title){ot({status:"warning",title:"Erreur",description:"Numro et titre obligatoires"});return}const I=!!en?.id,ne=wr(I?`/api/finance/documents/${encodeURIComponent(en.id)}`:"/api/finance/documents"),Je=parseFloat(at.amount)||0,ft={type:at.type,number:at.number,title:at.title,description:at.description||null,date:at.date,dueDate:at.dueDate||null,amountExcludingTax:Je,taxRate:0,taxAmount:0,amount:Je,quoteStatus:at.type==="QUOTE"?at.status:null,invoiceStatus:at.type==="INVOICE"?at.status:null,eventId:at.eventId||null,memberId:at.memberId||null,destinataireName:at.destinataireName||null,destinataireAdresse:at.destinataireAdresse||null,notes:at.notes||null,paymentMethod:at.paymentMethod||null,paymentDate:at.paymentDate||null,amountPaid:parseFloat(at.amountPaid||0)},Nn=await Nr(ne,{method:I?"PUT":"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(ft)});await $i(),Fo(),ot({status:"success",title:I?"Document modifi":"Document cr"})}catch{const ne=en?.id||`local-${Date.now()}`,Je=parseFloat(at.amount)||0,ft={...at,id:ne,amountExcludingTax:Je,taxRate:0,taxAmount:0,amount:Je,quoteStatus:at.type==="QUOTE"?at.status:null,invoiceStatus:at.type==="INVOICE"?at.status:null},Nn=en?an.map(rn=>rn.id===en.id?ft:rn):[ft,...an];ni(Nn),yn(Nn),Fo(),ot({status:"info",title:"Document enregistr en local"})}},si=async I=>{try{const ne=wr(`/api/finance/documents/${encodeURIComponent(I)}`);await xo(ne,{Authorization:`Bearer ${localStorage.getItem("token")}`}),await $i(),ot({status:"success",title:"Document supprim"})}catch{const Je=an.filter(ft=>ft.id!==I);ni(Je),yn(Je),ot({status:"info",title:"Document supprim (local)"})}},bi=async(I,ne)=>{try{const Je=wr(`/api/finance/documents/${encodeURIComponent(I)}/status`),ft=await fa(Je,{status:ne},{Authorization:`Bearer ${localStorage.getItem("token")}`});yn(rn=>rn.map(rr=>rr.id===I?ft:rr));const Nn=I.type==="QUOTE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[ne]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente",PAID:"Pay",DEPOSIT_PAID:"Accompte"}[ne];ot({status:"success",title:"Statut mis  jour",description:` ${Nn}`}),await $i()}catch(Je){console.error("Erreur changement statut:",Je),ot({status:"error",title:"Erreur",description:"Impossible de mettre  jour le statut"})}},Zu=I=>{Dn(I),Ln({type:"QUOTE",number:`${I.number}-REV`,title:`${I.title} (Rvision)`,date:new Date().toISOString().split("T")[0],amount:I.amount,status:"DRAFT",eventId:I.eventId||""}),da()},bo=async()=>{const I=r===2;if(!O.amount||!O.description||!O.nextDate||!I&&!O.type||!I&&!O.frequency){ot({status:"warning",title:"Champs requis",description:"Tous les champs sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const ne=await fetch(Vt("/api/finance/scheduled-operations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...O,type:I?"SCHEDULED_PAYMENT":O.type,frequency:I?"MONTHLY":O.frequency,amount:parseFloat(O.amount),totalAmount:O.totalAmount!==""&&O.totalAmount!==null?parseFloat(O.totalAmount):void 0})});if(ne.ok)ot({status:"success",title:I?"chancier cr":"Opration programme",description:I?"L'chancier a t cr avec succs":"L'opration a t programme avec succs",duration:3e3,isClosable:!0}),G({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),Ni(),await js();else{const Je=await ne.json();ot({status:"error",title:"Erreur",description:Je.message||"Impossible de programmer l'opration",duration:4e3,isClosable:!0})}}catch(ne){console.error(" Erreur programmation opration:",ne),ot({status:"error",title:"Erreur",description:"Impossible de programmer l'opration. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},$c=async I=>{try{if(!confirm("Supprimer cette opration programme et tous ses paiements ?"))return;const ne=await fetch(Vt(`/api/finance/scheduled-operations/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ne.ok)ot({status:"success",title:"Opration supprime"}),await js();else{const Je=await ne.json().catch(()=>({}));ot({status:"error",title:"Erreur",description:Je.message||"Suppression impossible"})}}catch(ne){console.error(" Erreur suppression opration programme:",ne),ot({status:"error",title:"Erreur",description:"Suppression impossible"})}},Xa=I=>{ce(I),Ae(I.amount||"");const ne=I.nextDate?new Date(I.nextDate):new Date,Je=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}`;se(Je),re(null),nn()},Fc=async()=>{if(q){if(!he||!/^\d{4}-\d{2}$/.test(he)){ot({status:"warning",title:"Priode invalide",description:"Format attendu: YYYY-MM"});return}if(!ge||isNaN(parseFloat(ge))){ot({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide"});return}try{n(!0);const I=new FormData;I.append("period",he),I.append("amount",String(parseFloat(ge))),de&&I.append("attachment",de);const ne=await fetch(Vt(`/api/finance/scheduled-operations/${q.id}/payments`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:I});if(ne.ok)ot({status:"success",title:"Mensualit dclare paye"}),Un(),await Promise.all([js(),bs(),cs()]);else{const Je=await ne.json().catch(()=>({}));ot({status:"error",title:"Erreur",description:Je.message||"Dclaration impossible"})}}catch(I){console.error(" Erreur dclaration paiement:",I),ot({status:"error",title:"Erreur",description:"Dclaration impossible"})}finally{n(!1)}}},Yu=async I=>{ce(I),await Hs(I.id),kr()};y.useEffect(()=>{(async()=>{await gr(),await pa(),await vo()})()},[]),y.useEffect(()=>{S.length>=0&&P.length>=0&&Ms()},[S,P,l]);const Ku=async()=>{if(!Se.name||!Se.description){ot({status:"warning",title:"Champs requis",description:"Nom et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const I=await fetch(Vt("/api/finance/simulations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(Se)});if(I.ok){const ne=await I.json();ot({status:"success",title:"Scnario cr",description:"Vous pouvez maintenant ajouter les recettes et dpenses",duration:4e3,isClosable:!0}),Ke({name:"",description:"",projectionMonths:12}),await ma(),po(),qt(ne.scenario),bn()}else{const ne=await I.json();ot({status:"error",title:"Erreur",description:ne.message||"Impossible de crer le scnario",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur cration scnario:",I),ot({status:"error",title:"Erreur",description:"Impossible de crer le scnario. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},jo=async I=>{try{const ne=await fetch(Vt(`/api/finance/simulations/${I}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ne.ok){const Je=await ne.json();qt(Je.scenario)}else ot({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}catch(ne){console.error(" Erreur chargement dtails scnario:",ne),ot({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}},kh=async()=>{if(!Ot.description||!Ot.amount){ot({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const I=await fetch(Vt(`/api/finance/simulations/${Ue.id}/income`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...Ot,amount:parseFloat(Ot.amount)})});if(I.ok)ot({status:"success",title:"Recette ajoute",duration:2e3,isClosable:!0}),le({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),await jo(Ue.id);else{const ne=await I.json();ot({status:"error",title:"Erreur",description:ne.message||"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur ajout recette:",I),ot({status:"error",title:"Erreur",description:"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}},Mh=async()=>{if(!ve.description||!ve.amount){ot({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const I=await fetch(Vt(`/api/finance/simulations/${Ue.id}/expense`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...ve,amount:parseFloat(ve.amount)})});if(I.ok)ot({status:"success",title:"Dpense ajoute",duration:2e3,isClosable:!0}),st({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),await jo(Ue.id);else{const ne=await I.json();ot({status:"error",title:"Erreur",description:ne.message||"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}}catch(I){console.error(" Erreur ajout dpense:",I),ot({status:"error",title:"Erreur",description:"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}},Vc=async I=>{try{(await fetch(Vt(`/api/finance/simulations/income/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(ot({status:"success",title:"Recette supprime",duration:2e3,isClosable:!0}),await jo(Ue.id)):ot({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}catch(ne){console.error(" Erreur suppression recette:",ne),ot({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}},Ph=async I=>{try{(await fetch(Vt(`/api/finance/simulations/expense/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(ot({status:"success",title:"Dpense supprime",duration:2e3,isClosable:!0}),await jo(Ue.id)):ot({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}catch(ne){console.error(" Erreur suppression dpense:",ne),ot({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}},Il=async I=>{try{n(!0);const ne=await fetch(Vt(`/api/finance/simulations/${I}/run`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ne.ok){const Je=await ne.json();zt(Je.simulation),zi()}else{const Je=await ne.json();ot({status:"error",title:"Erreur",description:Je.message||"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}}catch(ne){console.error(" Erreur excution simulation:",ne),ot({status:"error",title:"Erreur",description:"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}finally{n(!1)}},Xu=async I=>{try{(await fetch(Vt(`/api/finance/simulations/${I}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(ot({status:"success",title:"Scnario supprim",duration:2e3,isClosable:!0}),await ma()):ot({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}catch(ne){console.error(" Erreur suppression scnario:",ne),ot({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}},zl=async(I,ne="simulation")=>{try{const Je=await fetch(Vt(`/api/finance/simulations/${I}/report.pdf`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Je.ok){ot({status:"error",title:"Export PDF",description:"chec de la gnration du PDF"});return}const ft=await Je.blob(),Nn=URL.createObjectURL(ft),rn=document.createElement("a");rn.href=Nn;const rr=(ne||"simulation").replace(/[^a-z0-9-_]+/gi,"_");rn.download=`simulation-${rr}.pdf`,document.body.appendChild(rn),rn.click(),document.body.removeChild(rn),URL.revokeObjectURL(Nn),ot({status:"success",title:"Export PDF",description:"Tlchargement dmarr"})}catch(Je){console.error(" Erreur export PDF:",Je),ot({status:"error",title:"Export PDF",description:"Erreur lors du tlchargement"})}};return e.jsx(ue,{p:6,children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"lg",color:"blue.600",children:" Gestion Financire"}),e.jsxs(oe,{children:[e.jsx(xt,{icon:e.jsx(sa,{}),onClick:pa,isLoading:t,variant:"outline",size:"sm"}),e.jsx(xt,{icon:e.jsx(nm,{}),onClick:zc,variant:"outline",size:"sm",colorScheme:"purple"}),e.jsxs(et,{colorScheme:x.balance>=0?"green":"red",fontSize:"lg",p:2,borderRadius:"md",cursor:"pointer",onClick:()=>Ee(!H),children:[p?e.jsx(qn,{as:Pl,mr:1}):e.jsx(qn,{as:mj,mr:1}),"Solde: ",Q(x.balance)]})]})]}),H&&e.jsxs(Ut,{status:"warning",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"stretch",spacing:3,flex:1,children:[e.jsx(k,{fontWeight:"bold",children:"Configuration du solde (Code requis)"}),e.jsxs(oe,{children:[e.jsxs(oe,{children:[e.jsx(k,{fontSize:"sm",children:"Code:"}),e.jsx(oe,{children:e.jsxs(uj,{value:B,onChange:ae,type:"number",children:[e.jsx(pl,{}),e.jsx(pl,{}),e.jsx(pl,{}),e.jsx(pl,{})]})})]}),e.jsxs(Xn,{value:me,onChange:$,precision:2,step:.01,width:"150px",children:[e.jsx(Qn,{placeholder:"Nouveau solde"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]}),e.jsx(ye,{value:F,onChange:I=>U(I.target.value),placeholder:"Motif de rgularisation",width:"280px",size:"sm"}),e.jsx(te,{size:"sm",colorScheme:"orange",onClick:Tn,isLoading:t,leftIcon:e.jsx(wx,{}),children:"Appliquer"}),e.jsx(te,{size:"sm",variant:"ghost",onClick:()=>Ee(!1),leftIcon:e.jsx(Np,{}),children:"Annuler"})]})]})]}),e.jsxs(gt,{columns:{base:2,md:6},spacing:4,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Solde Actuel"}),e.jsx(yt,{color:x.balance>=0?"green.600":"red.600",children:Q(x.balance)}),d&&e.jsxs(eo,{fontSize:"xs",children:["MAJ: ",xe(d)]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Recettes Total"}),e.jsx(yt,{color:"green.600",children:Q(x.totalCredits)}),e.jsxs(eo,{children:[e.jsx(Gd,{type:"increase"}),"Entres"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Dpenses Total"}),e.jsx(yt,{color:"red.600",children:Q(x.totalDebits)}),e.jsxs(eo,{children:[e.jsx(Gd,{type:"decrease"}),"Sorties"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Ce Mois"}),e.jsx(yt,{color:x.monthlyBalance>=0?"green.600":"red.600",children:Q(x.monthlyBalance)}),e.jsxs(eo,{children:[e.jsx(Gd,{type:x.monthlyBalance>=0?"increase":"decrease"}),"Rsultat mensuel"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Programm/Mois"}),e.jsx(yt,{color:x.scheduledMonthlyImpact>=0?"green.600":"red.600",children:Q(x.scheduledMonthlyImpact)}),e.jsxs(eo,{children:[x.scheduledCount," oprations"]})]})})})]}),e.jsxs(ao,{index:r,onChange:i,children:[e.jsxs(lo,{children:[e.jsx(ln,{children:" Transactions"}),e.jsx(ln,{children:" Devis & Factures"}),e.jsx(ln,{children:" chanciers"}),e.jsx(ln,{children:" Paiements programms"}),e.jsx(ln,{children:" Notes de frais"}),e.jsx(ln,{children:" Simulations"}),e.jsx(ln,{children:" Rapports"}),e.jsx(ln,{children:" Configuration"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Transactions"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:Lc,size:"sm",children:"Nouvelle transaction"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(hn,{size:"lg"}),e.jsx(k,{mt:2,children:"Chargement..."})]}):S.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucune transaction enregistre"]}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(dr,{variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Description"}),e.jsx($e,{children:"Catgorie"}),e.jsx($e,{children:"Document"}),e.jsx($e,{children:"Type"}),e.jsx($e,{isNumeric:!0,children:"Montant"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:S.map((I,ne)=>e.jsxs(Ft,{children:[e.jsx(Le,{children:xe(I.date||I.createdAt)}),e.jsx(Le,{children:I.description}),e.jsx(Le,{children:e.jsx(et,{size:"sm",variant:"outline",children:Oe(I.category)})}),e.jsx(Le,{children:(()=>{const Je=an.find(ft=>ft.id===I.documentId);return Je?e.jsxs(oe,{spacing:2,children:[e.jsx(et,{colorScheme:Je.type==="INVOICE"?"purple":"gray",children:Je.type==="INVOICE"?"Facture":"Devis"}),e.jsx(k,{fontSize:"sm",children:Je.number||Je.title||Je.id})]}):e.jsx(k,{fontSize:"sm",color:"gray.500",children:""})})()}),e.jsx(Le,{children:e.jsx(et,{colorScheme:I.type==="CREDIT"?"green":"red",size:"sm",children:I.type==="CREDIT"?"Recette":"Dpense"})}),e.jsx(Le,{isNumeric:!0,children:e.jsxs(k,{color:I.type==="CREDIT"?"green.600":"red.600",fontWeight:"bold",children:[I.type==="CREDIT"?"+":"-",Q(Math.abs(I.amount))]})}),e.jsx(Le,{children:e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(sh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ua,{children:[e.jsx(_n,{icon:e.jsx(Zf,{}),onClick:()=>es(I),children:"Modifier"}),e.jsx(_n,{onClick:()=>Wo(I),children:"Lier  devis/facture"}),e.jsx(_n,{icon:e.jsx(hr,{}),color:"red.500",onClick:()=>Ho(I.id),children:"Supprimer"})]})]})})]},I.id||ne))})]})})})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Devis & Factures"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"purple",size:"sm",onClick:Ah,children:"Nouveau document"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(hn,{size:"lg"}),e.jsx(k,{mt:2,children:"Chargement"})]}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(dr,{variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Type"}),e.jsx($e,{children:"Numro"}),e.jsx($e,{children:"Titre"}),e.jsx($e,{children:"Date"}),e.jsx($e,{isNumeric:!0,children:"Montant"}),e.jsx($e,{children:"vnement"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:an.map(I=>e.jsxs(Ft,{children:[e.jsx(Le,{children:e.jsx(et,{colorScheme:I.type==="INVOICE"?"purple":"gray",children:I.type==="INVOICE"?"Facture":"Devis"})}),e.jsx(Le,{children:I.number||""}),e.jsx(Le,{children:I.title||""}),e.jsx(Le,{children:xe(I.date)}),e.jsx(Le,{isNumeric:!0,children:Q(Number(I.amount||0))}),e.jsx(Le,{children:I.eventId?e.jsx(et,{children:I.eventId}):e.jsx(k,{fontSize:"sm",color:"gray.500",children:""})}),e.jsx(Le,{children:e.jsx(et,{colorScheme:I.type==="INVOICE"?{DRAFT:"gray",SENT:"blue",ACCEPTED:"cyan",PENDING_PAYMENT:"orange",PAID:"green",DEPOSIT_PAID:"yellow"}[I.invoiceStatus||"gray"]:{DRAFT:"gray",SENT:"blue",ACCEPTED:"green",REFUSED:"red",REEDITED:"orange"}[I.quoteStatus||"gray"],variant:"subtle",children:I.type==="INVOICE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente de paiement",PAID:"Pay",DEPOSIT_PAID:"Accompte pay"}[I.invoiceStatus||"DRAFT"]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[I.quoteStatus||"DRAFT"]})}),e.jsx(Le,{children:e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(sh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ua,{children:[e.jsx(_n,{icon:e.jsx(Zf,{}),onClick:()=>Bc(I),children:"Modifier"}),e.jsx(jx,{}),e.jsx(sP,{title:"Changer le statut",children:I.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx(Ji,{onClick:()=>bi(I.id,"DRAFT"),children:"Brouillon"}),e.jsx(Ji,{onClick:()=>bi(I.id,"SENT"),children:"Envoy"}),e.jsx(Ji,{onClick:()=>bi(I.id,"ACCEPTED"),children:"Accept"}),e.jsx(Ji,{onClick:()=>bi(I.id,"REFUSED"),children:"Refus"}),e.jsx(Ji,{onClick:()=>Zu(I),children:"Rdit vers un nouveau"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ji,{onClick:()=>bi(I.id,"DRAFT"),children:"Brouillon"}),e.jsx(Ji,{onClick:()=>bi(I.id,"SENT"),children:"Envoy"}),e.jsx(Ji,{onClick:()=>bi(I.id,"ACCEPTED"),children:"Accept"}),e.jsx(Ji,{onClick:()=>bi(I.id,"PENDING_PAYMENT"),children:"En attente de paiement"}),e.jsx(Ji,{onClick:()=>bi(I.id,"PAID"),children:"Pay"}),e.jsx(Ji,{onClick:()=>bi(I.id,"DEPOSIT_PAID"),children:"Accompte pay"})]})}),e.jsx(jx,{}),e.jsx(_n,{icon:e.jsx(hr,{}),color:"red.500",onClick:()=>si(I.id),children:"Supprimer"})]})]})})]},I.id))})]})})})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"chanciers"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"purple",onClick:Us,size:"sm",children:"Nouvel chancier"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(hn,{size:"lg"}),e.jsx(k,{mt:2,children:"Chargement..."})]}):(()=>{const I=P.filter(ne=>ne.type==="SCHEDULED_PAYMENT"&&String(ne.frequency||"").toUpperCase()==="MONTHLY");return I.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucun chancier (mensualits) enregistr"]}):e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:4,children:I.map((ne,Je)=>{const ft=Number.isFinite(ne.totalAmount)&&ne.totalAmount>0,Nn=ft?Math.max(ne.totalAmount-(ne.remainingTotalAmount||0),0):null,rn=Number.isFinite(ne.plannedCountYear)&&ne.plannedCountYear>0,rr=rn?Math.max((ne.plannedCountYear||0)-(ne.remainingCountYear||0),0):null,Ws=rn?Math.max(0,Math.min(1,rr/ne.plannedCountYear)):null,Wr=ft?Math.max(0,Math.min(1,Nn/ne.totalAmount)):Ws,Ui=Wr==null?"gray.400":Wr>=.75?"red":Wr>=.4?"orange":"red";return e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",noOfLines:2,children:ne.description}),e.jsxs(oe,{children:[e.jsx(et,{variant:"outline",children:"Mensuel"}),e.jsx(et,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Ie,{children:e.jsxs(oe,{align:"center",spacing:4,children:[e.jsx(ue,{minW:"120px",w:"120px",children:e.jsx(ga,{percent:Wr,color:Ui})}),e.jsxs(ie,{align:"start",spacing:1,flex:1,children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(k,{fontWeight:"medium",children:ne.nextDate?xe(ne.nextDate):""}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(k,{fontWeight:"bold",color:"red.600",children:["- ",Q(Math.abs(ne.amount))]}),e.jsxs(oe,{spacing:3,children:[e.jsxs(et,{variant:"subtle",colorScheme:"blue",children:["Payes: ",ne.paymentsCount??0]}),ft&&e.jsxs(et,{variant:"subtle",children:["Restant total: ",Q(ne.remainingTotalAmount||0)]}),!ft&&rn&&e.jsxs(et,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",rr]})]}),ne.monthsRemainingTotal&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["Mensualits restantes: ",ne.monthsRemainingTotal]}),ne.estimatedEndDate&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",xe(ne.estimatedEndDate)]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(oe,{children:[e.jsx(te,{size:"sm",onClick:()=>Xa(ne),children:"Dclarer pay"}),e.jsx(te,{size:"sm",variant:"outline",onClick:()=>Yu(ne),children:"Voir paiements"}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>$c(ne.id)})]})})]},ne.id||Je)})})})()]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Paiements programms (mensuels)"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"purple",onClick:Us,size:"sm",children:"Ajouter un prlvement"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(hn,{size:"lg"}),e.jsx(k,{mt:2,children:"Chargement..."})]}):(()=>{const I=P.filter(ne=>ne.type==="SCHEDULED_PAYMENT"&&String(ne.frequency||"").toUpperCase()==="MONTHLY");return I.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucun paiement mensuel programm"]}):e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:4,children:I.map((ne,Je)=>{const ft=Number.isFinite(ne.totalAmount)&&ne.totalAmount>0,Nn=ft?Math.max(ne.totalAmount-(ne.remainingTotalAmount||0),0):null,rn=Number.isFinite(ne.plannedCountYear)&&ne.plannedCountYear>0,rr=rn?Math.max((ne.plannedCountYear||0)-(ne.remainingCountYear||0),0):null,Ws=rn?Math.max(0,Math.min(1,rr/ne.plannedCountYear)):null,Wr=ft?Math.max(0,Math.min(1,Nn/ne.totalAmount)):Ws,Ui=Wr==null?"gray.400":Wr>=.75?"red":Wr>=.4?"orange":"red";return e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",noOfLines:2,children:ne.description}),e.jsxs(oe,{children:[e.jsx(et,{variant:"outline",children:"Mensuel"}),e.jsx(et,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Ie,{children:e.jsxs(oe,{align:"center",spacing:4,children:[e.jsx(ue,{minW:"120px",w:"120px",children:e.jsx(ga,{percent:Wr,color:Ui})}),e.jsxs(ie,{align:"start",spacing:1,flex:1,children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(k,{fontWeight:"medium",children:ne.nextDate?xe(ne.nextDate):""}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(k,{fontWeight:"bold",color:"red.600",children:["- ",Q(Math.abs(ne.amount))]}),e.jsxs(oe,{spacing:3,children:[e.jsxs(et,{variant:"subtle",colorScheme:"blue",children:["Payes: ",ne.paymentsCount??0]}),ft&&e.jsxs(et,{variant:"subtle",children:["Restant total: ",Q(ne.remainingTotalAmount||0)]}),!ft&&rn&&e.jsxs(et,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",rr]})]}),ne.estimatedEndDate&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",xe(ne.estimatedEndDate)]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(oe,{children:[e.jsx(te,{size:"sm",onClick:()=>Xa(ne),children:"Dclarer pay"}),e.jsx(te,{size:"sm",variant:"outline",onClick:()=>Yu(ne),children:"Voir paiements"}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>$c(ne.id)})]})})]},ne.id||Je)})})})()]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsx(oe,{justify:"space-between",children:e.jsx(De,{size:"md",children:"Notes de frais"})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(oe,{spacing:3,align:"end",children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description"}),e.jsx(ye,{value:ar.description,onChange:I=>He(ne=>({...ne,description:I.target.value})),placeholder:"Ex: Achat fournitures"})]}),e.jsxs(ee,{isRequired:!0,width:"220px",children:[e.jsx(J,{children:"Montant ()"}),e.jsxs(Xn,{value:ar.amount,onChange:I=>He(ne=>({...ne,amount:I})),precision:2,step:.01,children:[e.jsx(Qn,{placeholder:"0.00"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),e.jsxs(ee,{width:"220px",children:[e.jsx(J,{children:"Date"}),e.jsx(ye,{type:"date",value:ar.date,onChange:I=>He(ne=>({...ne,date:I.target.value}))})]}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:St,children:"Ajouter"})]})})}),Mt.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucune note de frais pour le moment"]}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(dr,{variant:"simple",size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Description"}),e.jsx($e,{isNumeric:!0,children:"Montant"}),e.jsx($e,{children:"Statut"}),Vi&&e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:Mt.map(I=>e.jsxs(Ft,{children:[e.jsx(Le,{children:xe(I.date||I.createdAt)}),e.jsx(Le,{children:I.description}),e.jsx(Le,{isNumeric:!0,children:Q(I.amount)}),e.jsx(Le,{children:e.jsx(et,{colorScheme:I.status==="PAID"?"green":I.status==="APPROVED"?"blue":I.status==="REJECTED"?"red":"orange",children:I.status})}),Vi&&e.jsx(Le,{children:e.jsxs(oe,{children:[e.jsx(te,{size:"xs",onClick:()=>fn(I.id,"APPROVED"),leftIcon:e.jsx(wx,{}),colorScheme:"blue",variant:"outline",children:"Approuver"}),e.jsx(te,{size:"xs",onClick:()=>fn(I.id,"PAID"),leftIcon:e.jsx(Vu,{}),colorScheme:"green",variant:"outline",children:"Pay"}),e.jsx(te,{size:"xs",onClick:()=>fn(I.id,"REJECTED"),leftIcon:e.jsx(Np,{}),colorScheme:"red",variant:"outline",children:"Rejeter"}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>pn(I.id)})]})})]},I.id))})]})})})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Simulations Financires"}),e.jsx(te,{leftIcon:e.jsx(Na,{}),colorScheme:"teal",onClick:yi,size:"sm",children:"Nouveau scnario"})]}),Te.scenarios.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:2,children:[e.jsx(k,{fontWeight:"bold",children:"Aucun scnario de simulation"}),e.jsx(k,{fontSize:"sm",children:"Crez des scnarios pour simuler l'volution de votre trsorerie. tape 1: Crer le contexte, tape 2: Ajouter recettes/dpenses."})]})]}):e.jsx(gt,{columns:{base:1,md:2},spacing:4,children:Te.scenarios.map(I=>{const ne=I.itemsCount>0,Je=I.totalMonthlyIncome-I.totalMonthlyExpenses;return e.jsxs(Ne,{borderWidth:2,borderColor:ne?"green.200":"orange.200",children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",children:I.name}),e.jsxs(oe,{children:[e.jsx(et,{colorScheme:ne?"green":"orange",size:"sm",children:ne?"Complet":"Brouillon"}),e.jsxs(et,{variant:"outline",size:"sm",children:[I.itemsCount," lment(s)"]})]})]}),e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(sh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ua,{children:[e.jsx(_n,{icon:e.jsx(Zf,{}),onClick:async()=>{await jo(I.id),bn()},children:"diter"}),e.jsx(_n,{icon:e.jsx(Na,{}),onClick:()=>Il(I.id),isDisabled:!ne,children:"Excuter"}),e.jsx(_n,{icon:e.jsx(na,{}),onClick:()=>zl(I.id,I.name),isDisabled:!ne,children:"Exporter PDF"}),e.jsx(vn,{}),e.jsx(_n,{icon:e.jsx(hr,{}),color:"red.500",onClick:()=>{confirm("Supprimer ce scnario ?")&&Xu(I.id)},children:"Supprimer"})]})]})]})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsx(k,{fontSize:"sm",color:"gray.600",noOfLines:2,children:I.description}),ne?e.jsxs(gt,{columns:3,spacing:2,children:[e.jsxs(jt,{size:"sm",children:[e.jsx(bt,{fontSize:"xs",children:"Revenus"}),e.jsx(yt,{fontSize:"sm",color:"green.600",children:Q(I.totalMonthlyIncome)})]}),e.jsxs(jt,{size:"sm",children:[e.jsx(bt,{fontSize:"xs",children:"Dpenses"}),e.jsx(yt,{fontSize:"sm",color:"red.600",children:Q(I.totalMonthlyExpenses)})]}),e.jsxs(jt,{size:"sm",children:[e.jsx(bt,{fontSize:"xs",children:"Rsultat"}),e.jsx(yt,{fontSize:"sm",color:Je>=0?"green.600":"red.600",children:Q(Je)})]})]}):e.jsxs(Ut,{status:"warning",size:"sm",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"xs",children:"Ajoutez des recettes et dpenses pour complter le scnario"})]}),e.jsxs(oe,{children:[e.jsx(te,{size:"xs",variant:"outline",leftIcon:e.jsx(Zf,{}),onClick:async()=>{await jo(I.id),bn()},children:"diter"}),e.jsx(te,{size:"xs",colorScheme:"teal",leftIcon:e.jsx(Na,{}),onClick:()=>Il(I.id),isDisabled:!ne,isLoading:t,children:"Simuler"})]})]})})]},I.id)})})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Rapports Financiers"}),e.jsxs(oe,{children:[e.jsxs(ee,{width:"150px",children:[e.jsx(J,{children:"Anne"}),e.jsx(lt,{value:It,onChange:I=>Xe(parseInt(I.target.value,10)),children:[0,1,2,3,4].map(I=>{const ne=new Date().getFullYear()-I;return e.jsx("option",{value:ne,children:ne},ne)})})]}),e.jsx(te,{leftIcon:e.jsx(sa,{}),onClick:()=>En(It),isLoading:t,children:"Actualiser"}),e.jsx(te,{leftIcon:e.jsx(na,{}),colorScheme:"purple",onClick:zr,children:"Export PDF"})]})]}),vt?e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(gt,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Total recettes (priode)"}),e.jsx(yt,{color:"green.600",children:Q(vt?.totals?.credits||0)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Total dpenses (priode)"}),e.jsx(yt,{color:"red.600",children:Q(vt?.totals?.debits||0)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Net (priode)"}),e.jsx(yt,{color:(vt?.totals?.net||0)>=0?"green.600":"red.600",children:Q(vt?.totals?.net||0)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Solde actuel"}),e.jsx(yt,{children:Q(l)})]})})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Soldes de priode"})}),e.jsx(Ie,{children:e.jsxs(gt,{columns:{base:1,md:3},spacing:4,children:[e.jsxs(jt,{children:[e.jsx(bt,{children:"Solde d'ouverture"}),e.jsx(yt,{children:Q(vt?.balances?.opening||0)})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Solde de clture (calcul)"}),e.jsx(yt,{children:Q(vt?.balances?.closing||0)})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Ouverture + Net"}),e.jsx(yt,{children:Q(vt?.balances?.closingFromOpeningPlusNet||0)})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(De,{size:"sm",children:["Par mois (",It,")"]})}),e.jsx(Ie,{p:0,children:e.jsxs(dr,{size:"sm",variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Mois"}),e.jsx($e,{isNumeric:!0,children:"Recettes"}),e.jsx($e,{isNumeric:!0,children:"Dpenses"}),e.jsx($e,{isNumeric:!0,children:"Net"})]})}),e.jsx(pr,{children:(vt?.monthly||[]).map(I=>e.jsxs(Ft,{children:[e.jsx(Le,{children:String(I.month).padStart(2,"0")}),e.jsx(Le,{isNumeric:!0,children:Q(I.credits)}),e.jsx(Le,{isNumeric:!0,children:Q(I.debits)}),e.jsx(Le,{isNumeric:!0,children:e.jsx(k,{color:(I.net||0)>=0?"green.600":"red.600",children:Q(I.net)})})]},I.month))})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Par catgorie"})}),e.jsx(Ie,{p:0,children:e.jsxs(dr,{size:"sm",variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Catgorie"}),e.jsx($e,{isNumeric:!0,children:"Recettes"}),e.jsx($e,{isNumeric:!0,children:"Dpenses"}),e.jsx($e,{isNumeric:!0,children:"Net"})]})}),e.jsx(pr,{children:Object.entries(vt?.byCategory||{}).map(([I,ne])=>e.jsxs(Ft,{children:[e.jsx(Le,{children:I}),e.jsx(Le,{isNumeric:!0,children:Q(ne.credits)}),e.jsx(Le,{isNumeric:!0,children:Q(ne.debits)}),e.jsx(Le,{isNumeric:!0,children:e.jsx(k,{color:(ne.net||0)>=0?"green.600":"red.600",children:Q(ne.net)})})]},I))})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Transactions rcentes (extrait)"})}),e.jsx(Ie,{p:0,children:e.jsxs(dr,{size:"sm",variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Description"}),e.jsx($e,{children:"Catgorie"}),e.jsx($e,{isNumeric:!0,children:"Montant"})]})}),e.jsx(pr,{children:(vt?.sample||[]).map(I=>e.jsxs(Ft,{children:[e.jsx(Le,{children:xe(I.date)}),e.jsx(Le,{children:I.description}),e.jsx(Le,{children:(I.category||"AUTRE").toUpperCase()}),e.jsx(Le,{isNumeric:!0,children:e.jsx(k,{color:String(I.type).toUpperCase()==="CREDIT"?"green.600":"red.600",children:Q(I.amount)})})]},`${I.id}-${I.date}`))})]})})]})]}):e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsxs(k,{children:["Aucun rapport disponible pour ",It,". Essayez d'actualiser."]})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsx(De,{size:"md",children:"Configuration Avance"}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Historique des Modifications de Solde"})}),e.jsx(Ie,{children:Y.length===0?e.jsx(k,{color:"gray.500",fontSize:"sm",children:"Aucune modification enregistre"}):e.jsxs(dr,{variant:"simple",size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Ancien solde"}),e.jsx($e,{children:"Nouveau solde"}),e.jsx($e,{children:"Diffrence"}),e.jsx($e,{children:"Raison"})]})}),e.jsx(pr,{children:Y.slice(0,10).map((I,ne)=>e.jsxs(Ft,{children:[e.jsx(Le,{children:xe(I.date)}),e.jsx(Le,{children:Q(I.oldBalance)}),e.jsx(Le,{children:Q(I.newBalance)}),e.jsx(Le,{children:e.jsxs(k,{color:I.newBalance-I.oldBalance>=0?"green.600":"red.600",children:[I.newBalance-I.oldBalance>=0?"+":"",Q(I.newBalance-I.oldBalance)]})}),e.jsx(Le,{fontSize:"sm",children:I.reason})]},ne))})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Paramtres de Simulation"})}),e.jsx(Ie,{children:e.jsxs(ee,{children:[e.jsx(J,{children:"Nombre de mois  projeter"}),e.jsxs(Xn,{value:Te.projectionMonths,onChange:I=>Re(ne=>({...ne,projectionMonths:parseInt(I)||12})),min:1,max:60,children:[e.jsx(Qn,{}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]}),e.jsxs(k,{fontSize:"xs",color:"gray.500",mt:1,children:["Entre 1 et 60 mois (actuellement: ",Te.projectionMonths," mois)"]})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Scurit"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsxs(oe,{children:[e.jsx(qn,{as:p?Pl:mj,color:p?"red.500":"green.500"}),e.jsxs(k,{fontSize:"sm",children:["Solde ",p?"verrouill":"dverrouill"," -",p?" Code requis pour modification":" Modification libre"]})]}),e.jsxs(Ut,{status:"warning",size:"sm",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"xs",children:"Le code de scurit  4 chiffres est requis pour toute modification directe du solde. Contactez l'administrateur systme si vous avez oubli le code."})]})]})})]})]})})]})]}),e.jsxs(Ct,{isOpen:Qr,onClose:Jr,isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Modifier la transaction"}),e.jsx(Bt,{}),e.jsx(wt,{children:ct&&e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(ye,{value:ct.description||"",onChange:I=>Di(ne=>({...ne,description:I.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Catgorie"}),e.jsxs(lt,{value:ct.category||"ADHESION",onChange:I=>Di(ne=>({...ne,category:I.target.value})),children:[e.jsx("option",{value:"ADHESION",children:"Adhsion"}),e.jsx("option",{value:"EVENEMENT",children:"vnement"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"CARBURANT",children:"Carburant"}),e.jsx("option",{value:"AUTRE",children:"Autre"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type"}),e.jsxs(lt,{value:ct.type||"CREDIT",onChange:I=>Di(ne=>({...ne,type:I.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Montant"}),e.jsxs(Xn,{value:ct.amount,onChange:I=>Di(ne=>({...ne,amount:I})),precision:2,step:.5,children:[e.jsx(Qn,{}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date"}),e.jsx(ye,{type:"date",value:(ct.date||"").slice(0,10),onChange:I=>Di(ne=>({...ne,date:I.target.value}))})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:Jr,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:Uo,children:"Enregistrer"})]})]})]}),e.jsxs(Ct,{isOpen:Ya,onClose:ho,isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Lier  un devis/une facture"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsx(ie,{spacing:3,align:"stretch",children:e.jsxs(ee,{children:[e.jsx(J,{children:"Document"}),e.jsx(lt,{placeholder:"Slectionner un document",value:vs,onChange:I=>Js(I.target.value),children:an.map(I=>e.jsxs("option",{value:I.id,children:[I.type==="INVOICE"?"Facture":"Devis","  ",I.number||I.title||I.id,"  ",Q(Number(I.amount||0))]},I.id))})]})})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",onClick:ho,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:Ka,children:"Lier"})]})]})]}),e.jsxs(Ct,{isOpen:Cr,onClose:Fo,isCentered:!0,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:en?"Modifier le document":"Nouveau document"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{spacing:3,children:[e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"bold",children:"Type"}),e.jsxs(lt,{value:at.type,onChange:I=>Ln(ne=>({...ne,type:I.target.value})),children:[e.jsx("option",{value:"QUOTE",children:" Devis"}),e.jsx("option",{value:"INVOICE",children:" Facture"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"bold",children:"Date"}),e.jsx(ye,{type:"date",value:at.date,onChange:I=>Ln(ne=>({...ne,date:I.target.value}))})]}),at.type==="INVOICE"&&e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"bold",children:"chance"}),e.jsx(ye,{type:"date",value:at.dueDate||"",onChange:I=>Ln(ne=>({...ne,dueDate:I.target.value}))})]})]}),e.jsxs(oe,{spacing:3,children:[e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"bold",children:"Numro"}),e.jsx(ye,{value:at.number,onChange:I=>Ln(ne=>({...ne,number:I.target.value})),placeholder:at.type==="QUOTE"?"ex: DV-2025-001":"ex: FA-2025-001"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"bold",children:"Titre"}),e.jsx(ye,{value:at.title,onChange:I=>Ln(ne=>({...ne,title:I.target.value})),placeholder:"Objet du document"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"bold",children:"Description"}),e.jsx(Yt,{value:at.description||"",onChange:I=>Ln(ne=>({...ne,description:I.target.value})),placeholder:"Dtails du document",rows:2})]}),e.jsx(ue,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"sm",children:" Montant"}),e.jsx(k,{fontSize:"xs",color:"gray.600",children:" Association (exempte TVA)"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"bold",children:"Montant total"}),e.jsxs(Xn,{value:at.amount||"",onChange:I=>{Ln(ne=>({...ne,amount:I,amountExcludingTax:I,taxRate:0,taxAmount:0}))},precision:2,step:10,children:[e.jsx(Qn,{placeholder:"0.00"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),e.jsx(ue,{p:3,bg:"green.100",borderRadius:"md",border:"1px solid",borderColor:"green.400",children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{fontSize:"sm",color:"green.700",fontWeight:"bold",children:"Montant TTC:"}),e.jsxs(k,{fontSize:"lg",color:"green.700",fontWeight:"bold",children:[parseFloat(at.amount||0).toFixed(2)," "]})]})})]})}),e.jsxs(ee,{children:[e.jsx(J,{fontWeight:"bold",children:"Statut"}),e.jsx(lt,{value:at.status,onChange:I=>Ln(ne=>({...ne,status:I.target.value})),children:at.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"REFUSED",children:" Refus"}),e.jsx("option",{value:"REEDITED",children:" Rdit"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"PENDING_PAYMENT",children:" En attente de paiement"}),e.jsx("option",{value:"PAID",children:" Pay"}),e.jsx("option",{value:"DEPOSIT_PAID",children:" Accompte pay"})]})})]}),at.type==="INVOICE"&&e.jsx(ue,{bg:"purple.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"purple.500",children:e.jsxs(ie,{spacing:2,align:"stretch",children:[e.jsx(J,{fontSize:"sm",fontWeight:"bold",children:"Infos de paiement"}),e.jsxs(oe,{spacing:2,children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Mode"}),e.jsx(ye,{size:"sm",value:at.paymentMethod||"",onChange:I=>Ln(ne=>({...ne,paymentMethod:I.target.value})),placeholder:"ex: Virement, Espces"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Date paiement"}),e.jsx(ye,{size:"sm",type:"date",value:at.paymentDate||"",onChange:I=>Ln(ne=>({...ne,paymentDate:I.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Montant pay"}),e.jsx(Xn,{value:at.amountPaid||"",onChange:I=>Ln(ne=>({...ne,amountPaid:I})),size:"sm",precision:2,children:e.jsx(Qn,{})})]})]})]})}),e.jsxs(oe,{spacing:3,children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"vnement (optionnel)"}),e.jsx(ye,{size:"sm",value:at.eventId||"",onChange:I=>Ln(ne=>({...ne,eventId:I.target.value})),placeholder:"ID d'vnement"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Membre (optionnel)"}),e.jsx(ye,{size:"sm",value:at.memberId||"",onChange:I=>Ln(ne=>({...ne,memberId:I.target.value})),placeholder:"ID de membre"})]})]}),e.jsxs(oe,{spacing:3,children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Nom"}),e.jsx(ye,{size:"sm",value:at.destinataireName||"",onChange:I=>Ln(ne=>({...ne,destinataireName:I.target.value})),placeholder:"Nom du destinataire (pour le template)"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Adresse"}),e.jsx(ye,{size:"sm",value:at.destinataireAdresse||"",onChange:I=>Ln(ne=>({...ne,destinataireAdresse:I.target.value})),placeholder:"Adresse (pour le template)"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Notes (visibles au client)"}),e.jsx(Yt,{size:"sm",value:at.notes||"",onChange:I=>Ln(ne=>({...ne,notes:I.target.value})),placeholder:"Remarques publiques",rows:1})]}),e.jsx(ue,{bg:"amber.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"amber.500",children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsx(oe,{justify:"space-between",children:e.jsx(De,{size:"sm",children:" Gnrer le document"})}),e.jsxs(ie,{spacing:2,align:"stretch",children:[Ts.length>0?e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",fontWeight:"bold",children:" Slectionner un template"}),e.jsx(lt,{size:"sm",value:un?.id||"",onChange:I=>{const ne=Ts.find(Je=>Je.id===I.target.value);$s(ne)},placeholder:"Choisir un template...",children:Ts.map(I=>e.jsxs("option",{value:I.id,children:[I.name," ",I.isDefault?"":""]},I.id))}),un&&e.jsxs(k,{fontSize:"xs",color:"gray.600",mt:1,children:[" ",un.name]})]}):e.jsxs(Ut,{status:"warning",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"xs",children:"Aucun template disponible. Crez-en un d'abord."})]}),un&&e.jsx(te,{colorScheme:"orange",size:"sm",onClick:Th,leftIcon:e.jsx(na,{}),width:"100%",children:" Gnrer l'aperu & PDF"}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:2,children:" Remplissez tous les champs du formulaire (Numro, Titre, Montant, Destinataire) avant de gnrer"})]})]})})]})}),e.jsx(Wt,{children:e.jsxs(oe,{spacing:2,children:[e.jsx(te,{variant:"ghost",onClick:Fo,children:"Annuler"}),e.jsx(te,{colorScheme:"purple",onClick:Rh,children:en?" Enregistrer les modifications":" Crer le document"})]})})]})]}),e.jsxs(Ct,{isOpen:ei,onClose:Vs,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Configuration Rapide"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"sm",children:"Configuration scurise du solde de base. Un code  4 chiffres est requis."})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Code de scurit (4 chiffres)"}),e.jsx(oe,{children:e.jsxs(uj,{value:B,onChange:ae,type:"number",children:[e.jsx(pl,{}),e.jsx(pl,{}),e.jsx(pl,{}),e.jsx(pl,{})]})})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nouveau solde ()"}),e.jsxs(Xn,{value:me,onChange:$,precision:2,step:.01,children:[e.jsx(Qn,{placeholder:"Entrez le nouveau solde"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),me&&!isNaN(parseFloat(me))&&e.jsxs(Ut,{status:parseFloat(me)>=l?"success":"warning",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontSize:"sm",fontWeight:"bold",children:"Aperu de la modification"}),e.jsxs(k,{fontSize:"sm",children:["Solde actuel: ",Q(l)]}),e.jsxs(k,{fontSize:"sm",children:["Nouveau solde: ",Q(parseFloat(me))]}),e.jsxs(k,{fontSize:"sm",color:parseFloat(me)-l>=0?"green.600":"red.600",children:["Diffrence: ",parseFloat(me)-l>=0?"+":"",Q(parseFloat(me)-l)]})]})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:Vs,children:"Annuler"}),e.jsx(te,{colorScheme:"orange",onClick:Tn,isLoading:t,leftIcon:e.jsx(Du,{}),children:"Configurer le solde"})]})]})]}),e.jsxs(Ct,{isOpen:mo,onClose:Un,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Dclarer une mensualit paye"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Priode"}),e.jsx(ye,{type:"month",value:he,onChange:I=>se(I.target.value)})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Montant ()"}),e.jsxs(Xn,{value:ge,onChange:I=>Ae(I),precision:2,step:.01,children:[e.jsx(Qn,{}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Attestation / Photo"}),e.jsx(ye,{type:"file",accept:"image/*,application/pdf",onChange:I=>re(I.target.files?.[0]||null)}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Pice justificative obligatoire"})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:Un,children:"Annuler"}),e.jsx(te,{colorScheme:"green",onClick:Fc,isLoading:t,children:"Dclarer"})]})]})]}),e.jsxs(Ct,{isOpen:go,onClose:Hr,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsxs(_t,{children:["Paiements  ",q?.description]}),e.jsx(Bt,{}),e.jsx(wt,{children:K.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucun paiement enregistr"]}):e.jsxs(dr,{size:"sm",variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Priode"}),e.jsx($e,{children:"Pay le"}),e.jsx($e,{isNumeric:!0,children:"Montant"}),e.jsx($e,{children:"Justificatif"})]})}),e.jsx(pr,{children:K.map(I=>e.jsxs(Ft,{children:[e.jsx(Le,{children:I.period}),e.jsx(Le,{children:xe(I.paidAt)}),e.jsx(Le,{isNumeric:!0,children:Q(I.amount)}),e.jsx(Le,{children:I.attachment?.dataUrl?e.jsx(o1,{href:I.attachment.dataUrl,target:"_blank",color:"blue.600",children:"Ouvrir"}):e.jsx(k,{fontSize:"xs",color:"gray.500",children:"N/A"})})]},I.id))})]})}),e.jsx(Wt,{children:e.jsx(te,{onClick:Hr,children:"Fermer"})})]})]}),e.jsxs(Ct,{isOpen:ha,onClose:ti,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(_t,{children:"Nouvelle Transaction"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:6,children:[e.jsxs(ie,{spacing:4,width:"full",children:[e.jsx(De,{size:"sm",children:"Informations de la transaction"}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Type"}),e.jsxs(lt,{value:C.type,onChange:I=>T(ne=>({...ne,type:I.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Montant ()"}),e.jsxs(Xn,{value:C.amount,onChange:I=>T(ne=>({...ne,amount:I})),precision:2,step:.01,children:[e.jsx(Qn,{placeholder:"0.00"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description"}),e.jsx(ye,{value:C.description,onChange:I=>T(ne=>({...ne,description:I.target.value})),placeholder:"Description de la transaction"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date"}),e.jsx(ye,{type:"date",value:C.date,onChange:I=>T(ne=>({...ne,date:I.target.value}))})]})]}),e.jsx(vn,{}),e.jsxs(ie,{spacing:3,width:"full",children:[e.jsx(De,{size:"sm",children:"Allouer par catgorie"}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Vous pouvez diviser ce montant entre plusieurs catgories (ex: 100 gasoil + 13 assurance)"}),A.length>0&&e.jsxs(ue,{width:"full",children:[e.jsx(k,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Allocations actuelles:"}),e.jsx(ie,{spacing:2,align:"stretch",children:A.map((I,ne)=>e.jsxs(oe,{p:2,borderRadius:"md",bg:Fn("gray.100","gray.600"),justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:0,children:[e.jsxs(oe,{children:[e.jsx(ue,{w:3,h:3,borderRadius:"full",bg:I.category?.color}),e.jsx(k,{fontWeight:"bold",children:I.category?.name})]}),I.notes&&e.jsx(k,{fontSize:"xs",color:"gray.500",children:I.notes})]}),e.jsxs(oe,{children:[e.jsx(k,{fontWeight:"bold",children:Q(I.allocatedAmount)}),e.jsx(xt,{size:"sm",icon:e.jsx(hr,{}),colorScheme:"red",variant:"ghost",onClick:()=>{D(A.filter((Je,ft)=>ft!==ne))}})]})]},ne))}),e.jsxs(k,{fontSize:"xs",color:"gray.500",mt:2,children:["Total allou: ",Q(A.reduce((I,ne)=>I+(parseFloat(ne.allocatedAmount)||0),0))," / ",Q(parseFloat(C.amount)||0)]})]}),e.jsx(Ne,{width:"full",children:e.jsx(Ie,{children:e.jsxs(ie,{spacing:3,children:[e.jsx(De,{size:"xs",children:"Ajouter une allocation"}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Catgorie"}),e.jsxs(lt,{value:M.categoryId,onChange:I=>R({...M,categoryId:I.target.value}),size:"sm",children:[e.jsx("option",{value:"",children:"Slectionner une catgorie"}),Ge.map(I=>e.jsx("option",{value:I.id,children:I.name},I.id))]})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Montant ()"}),e.jsxs(Xn,{value:M.allocatedAmount,onChange:I=>R({...M,allocatedAmount:I}),precision:2,step:.01,size:"sm",children:[e.jsx(Qn,{placeholder:"0.00"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Notes (optionnel)"}),e.jsx(Yt,{value:M.notes,onChange:I=>R({...M,notes:I.target.value}),placeholder:"ex: gasoil station Shell",rows:2,size:"sm"})]}),e.jsxs(te,{colorScheme:"blue",width:"full",size:"sm",onClick:()=>{if(!M.categoryId||!M.allocatedAmount){ot({status:"error",title:"Remplissez catgorie et montant"});return}const I=Ge.find(ne=>ne.id===M.categoryId);D([...A,{categoryId:M.categoryId,category:I,allocatedAmount:parseFloat(M.allocatedAmount),notes:M.notes}]),R({categoryId:"",allocatedAmount:"",notes:""})},children:[e.jsx(Bn,{})," Ajouter l'allocation"]})]})})})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:ti,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:()=>{if(!C.type||!C.amount||!C.description){ot({status:"error",title:"Remplissez les champs obligatoires"});return}Lr()},isLoading:t,children:"Ajouter"})]})]})]}),e.jsxs(Ct,{isOpen:Vo,onClose:Ni,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:r===2?"Nouvel chancier":"Nouvelle Opration Programme"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[r!==2&&e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Type"}),e.jsxs(lt,{value:O.type,onChange:I=>G(ne=>({...ne,type:I.target.value})),children:[e.jsx("option",{value:"SCHEDULED_PAYMENT",children:"Paiement programm"}),e.jsx("option",{value:"SCHEDULED_CREDIT",children:"Crdit programm"})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:r===2?"Mensualit ( / mois)":"Montant ()"}),e.jsxs(Xn,{value:O.amount,onChange:I=>G(ne=>({...ne,amount:I})),precision:2,step:.01,children:[e.jsx(Qn,{placeholder:"0.00"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description"}),e.jsx(ye,{value:O.description,onChange:I=>G(ne=>({...ne,description:I.target.value})),placeholder:"Description de l'opration"})]}),r!==2&&e.jsxs(ee,{children:[e.jsx(J,{children:"Frquence"}),e.jsxs(lt,{value:O.frequency,onChange:I=>G(ne=>({...ne,frequency:I.target.value})),children:[e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"WEEKLY",children:"Hebdomadaire"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Prochaine excution"}),e.jsx(ye,{type:"date",value:O.nextDate,onChange:I=>G(ne=>({...ne,nextDate:I.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:r===2?"Montant total (optionnel)":"Total  amortir (optionnel)"}),e.jsxs(Xn,{value:O.totalAmount,onChange:I=>G(ne=>({...ne,totalAmount:I})),precision:2,step:.01,children:[e.jsx(Qn,{placeholder:"Ex: 4000.00"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:"Permet de calculer le nombre de mensualits restantes et la date de fin estime."})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:Ni,children:"Annuler"}),e.jsx(te,{colorScheme:"purple",onClick:bo,isLoading:t,children:r===2?"Crer lchancier":"Programmer"})]})]})]}),e.jsxs(Ct,{isOpen:fo,onClose:po,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Nouveau Scnario de Simulation"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontSize:"sm",fontWeight:"bold",children:"tape 1: Contexte du scnario"}),e.jsx(k,{fontSize:"xs",children:"Dfinissez le nom et la description. Vous pourrez ajouter les recettes et dpenses dans l'tape suivante."})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nom du scnario"}),e.jsx(ye,{value:Se.name,onChange:I=>Ke(ne=>({...ne,name:I.target.value})),placeholder:"ex: Scnario optimiste 2024"})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:Se.description,onChange:I=>Ke(ne=>({...ne,description:I.target.value})),placeholder:"Dcrivez les hypothses et le contexte de ce scnario...",rows:4})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Priode de projection (mois)"}),e.jsxs(Xn,{value:Se.projectionMonths,onChange:I=>Ke(ne=>({...ne,projectionMonths:parseInt(I)||12})),min:1,max:60,children:[e.jsx(Qn,{}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Entre 1 et 60 mois"})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:po,children:"Annuler"}),e.jsx(te,{colorScheme:"teal",onClick:Ku,isLoading:t,leftIcon:e.jsx(Na,{}),children:"Crer le scnario"})]})]})]}),e.jsxs(Ct,{isOpen:Ii,onClose:Gn,size:"6xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:e.jsxs(oe,{children:[e.jsxs(k,{children:["dition: ",Ue?.name]}),e.jsx(et,{colorScheme:"blue",variant:"outline",children:"tape 2: Recettes & Dpenses"})]})}),e.jsx(Bt,{}),e.jsxs(wt,{children:[Ue&&e.jsxs(Xs,{templateColumns:"1fr 1fr",gap:6,children:[e.jsx(ie,{align:"stretch",spacing:4,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(De,{size:"sm",color:"green.600",children:[" Recettes (",Ue.incomeItems?.length||0,")"]})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:3,children:[e.jsxs(oe,{width:"100%",children:[e.jsx(ye,{placeholder:"Description",size:"sm",value:Ot.description,onChange:I=>le(ne=>({...ne,description:I.target.value}))}),e.jsx(Xn,{size:"sm",width:"120px",value:Ot.amount,onChange:I=>le(ne=>({...ne,amount:I})),children:e.jsx(Qn,{placeholder:"Montant"})}),e.jsxs(lt,{size:"sm",width:"120px",value:Ot.frequency,onChange:I=>le(ne=>({...ne,frequency:I.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(xt,{icon:e.jsx(Bn,{}),size:"sm",colorScheme:"green",onClick:kh})]}),e.jsx(ie,{width:"100%",spacing:2,children:Ue.incomeItems?.map((I,ne)=>e.jsxs(oe,{width:"100%",justify:"space-between",p:2,bg:"green.50",borderRadius:"md",children:[e.jsxs(ie,{align:"start",spacing:0,flex:1,children:[e.jsx(k,{fontSize:"sm",fontWeight:"bold",children:I.description}),e.jsxs(k,{fontSize:"xs",color:"gray.600",children:[Q(I.amount)," - ",gn(I.frequency)]})]}),e.jsx(xt,{icon:e.jsx(hr,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>Vc(I.id)})]},I.id))}),e.jsx(ue,{width:"100%",p:2,bg:"green.100",borderRadius:"md",children:e.jsxs(k,{fontSize:"sm",fontWeight:"bold",color:"green.700",children:["Total mensuel: ",Q(Ue.totalMonthlyIncome||0)]})})]})})]})}),e.jsx(ie,{align:"stretch",spacing:4,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(De,{size:"sm",color:"red.600",children:[" Dpenses (",Ue.expenseItems?.length||0,")"]})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:3,children:[e.jsxs(oe,{width:"100%",children:[e.jsx(ye,{placeholder:"Description",size:"sm",value:ve.description,onChange:I=>st(ne=>({...ne,description:I.target.value}))}),e.jsx(Xn,{size:"sm",width:"120px",value:ve.amount,onChange:I=>st(ne=>({...ne,amount:I})),children:e.jsx(Qn,{placeholder:"Montant"})}),e.jsxs(lt,{size:"sm",width:"120px",value:ve.frequency,onChange:I=>st(ne=>({...ne,frequency:I.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(xt,{icon:e.jsx(Bn,{}),size:"sm",colorScheme:"red",onClick:Mh})]}),e.jsx(ie,{width:"100%",spacing:2,children:Ue.expenseItems?.map((I,ne)=>e.jsxs(oe,{width:"100%",justify:"space-between",p:2,bg:"red.50",borderRadius:"md",children:[e.jsxs(ie,{align:"start",spacing:0,flex:1,children:[e.jsx(k,{fontSize:"sm",fontWeight:"bold",children:I.description}),e.jsxs(k,{fontSize:"xs",color:"gray.600",children:[Q(I.amount)," - ",gn(I.frequency)]})]}),e.jsx(xt,{icon:e.jsx(hr,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>Ph(I.id)})]},I.id))}),e.jsx(ue,{width:"100%",p:2,bg:"red.100",borderRadius:"md",children:e.jsxs(k,{fontSize:"sm",fontWeight:"bold",color:"red.700",children:["Total mensuel: ",Q(Ue.totalMonthlyExpenses||0)]})})]})})]})})]}),Ue&&e.jsx(Ne,{mt:4,children:e.jsx(Ie,{children:e.jsxs(gt,{columns:4,spacing:4,children:[e.jsxs(jt,{children:[e.jsx(bt,{children:"Recettes/mois"}),e.jsx(yt,{color:"green.600",children:Q(Ue.totalMonthlyIncome||0)})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Dpenses/mois"}),e.jsx(yt,{color:"red.600",children:Q(Ue.totalMonthlyExpenses||0)})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Rsultat/mois"}),e.jsx(yt,{color:Ue.monthlyNet>=0?"green.600":"red.600",children:Q(Ue.monthlyNet||0)})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"lments"}),e.jsx(yt,{children:(Ue.incomeItems?.length||0)+(Ue.expenseItems?.length||0)})]})]})})}),e.jsxs(ee,{children:[e.jsx(J,{children:"Motif de rgularisation"}),e.jsx(ye,{value:F,onChange:I=>U(I.target.value),placeholder:"Ex: Correction comptable, ajustement bancaire, etc."})]})]}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:Gn,children:"Fermer"}),e.jsx(te,{colorScheme:"teal",onClick:()=>Il(Ue?.id),isLoading:t,leftIcon:e.jsx(Na,{}),isDisabled:!Ue||Ue.itemsCount===0,children:"Excuter la simulation"})]})]})]}),e.jsxs(Ct,{isOpen:Ur,onClose:Li,size:"6xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:e.jsxs(oe,{children:[e.jsxs(k,{children:["Rsultats: ",rt?.scenarioName]}),e.jsx(et,{colorScheme:rt?.summary?.isPositive?"green":"red",children:rt?.summary?.isPositive?"Positif":"Dficitaire"})]})}),e.jsx(Bt,{}),e.jsx(wt,{children:rt&&e.jsxs(ie,{spacing:6,children:[e.jsxs(gt,{columns:4,spacing:4,width:"100%",children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Solde initial"}),e.jsx(yt,{children:Q(rt.startingBalance)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Solde final"}),e.jsx(yt,{color:rt.finalBalance>=0?"green.600":"red.600",children:Q(rt.finalBalance)})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"volution totale"}),e.jsxs(yt,{color:rt.totalChange>=0?"green.600":"red.600",children:[e.jsx(Gd,{type:rt.totalChange>=0?"increase":"decrease"}),Q(Math.abs(rt.totalChange))]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Rsultat/mois"}),e.jsx(yt,{color:rt.monthlyNet>=0?"green.600":"red.600",children:Q(rt.monthlyNet)})]})})})]}),e.jsxs(Ne,{width:"100%",children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"volution mensuelle"})}),e.jsxs(Ie,{children:[e.jsx(ue,{overflowX:"auto",children:e.jsxs(dr,{variant:"simple",size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Mois"}),e.jsx($e,{children:"Solde dbut"}),e.jsx($e,{isNumeric:!0,children:"Recettes"}),e.jsx($e,{isNumeric:!0,children:"Dpenses"}),e.jsx($e,{isNumeric:!0,children:"Rsultat"}),e.jsx($e,{isNumeric:!0,children:"Solde fin"})]})}),e.jsx(pr,{children:rt.projection.slice(0,12).map(I=>e.jsxs(Ft,{children:[e.jsxs(Le,{children:["Mois ",I.month]}),e.jsx(Le,{children:Q(I.startBalance)}),e.jsxs(Le,{isNumeric:!0,color:"green.600",children:["+",Q(I.income)]}),e.jsxs(Le,{isNumeric:!0,color:"red.600",children:["-",Q(I.expenses)]}),e.jsxs(Le,{isNumeric:!0,color:I.net>=0?"green.600":"red.600",children:[I.net>=0?"+":"",Q(I.net)]}),e.jsx(Le,{isNumeric:!0,fontWeight:"bold",color:I.endBalance>=0?"green.600":"red.600",children:Q(I.endBalance)})]},I.month))})]})}),rt.projection.length>12&&e.jsxs(k,{fontSize:"sm",color:"gray.500",mt:2,textAlign:"center",children:["... et ",rt.projection.length-12," mois supplmentaires"]})]})]}),rt.summary.breakEvenMonth&&e.jsxs(Ut,{status:"warning",width:"100%",children:[e.jsx(Ht,{}),e.jsxs(k,{children:["Attention: Le solde devient ngatif au mois ",rt.summary.breakEvenMonth]})]})]})}),e.jsx(Wt,{children:e.jsx(te,{onClick:Li,children:"Fermer"})})]})]}),e.jsxs(Ct,{isOpen:As,onClose:Rr,size:"6xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(_t,{children:e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{children:" Aperu du document"}),e.jsx(k,{fontSize:"sm",color:"gray.600",fontWeight:"normal",children:Pi?.templateName})]})}),e.jsx(Bt,{}),e.jsx(wt,{children:Pi&&un&&e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(Ut,{status:"info",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",children:"Aperu du rendu final"}),e.jsxs(k,{fontSize:"sm",children:["Les variables ",{PLACEHOLDERS}," ont t remplaces avec vos donnes. Vous pouvez imprimer ou exporter en PDF."]})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"md",bg:"white",boxShadow:"sm",children:e.jsx(DQ,{template:un,data:Pi.data})})]})}),e.jsx(Wt,{children:e.jsxs(oe,{spacing:2,children:[e.jsx(te,{variant:"ghost",onClick:Rr,children:"Fermer"}),e.jsx(te,{colorScheme:"orange",leftIcon:e.jsx(na,{}),onClick:()=>{window.print()},children:" Imprimer / Exporter en PDF"})]})})]})]})]})})},Xy={public_open_access:{name:"Ouvert au Public",icon:rh,color:"green",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"vnement ouvert au public, accs libre sans inscription"},public_with_registration:{name:"Public avec Inscription",icon:Ti,color:"blue",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:15,childPrice:8,maxParticipants:100,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"vnement public avec inscription ouverte directement au public"},private_outing:{name:"Sortie Prive",icon:fj,color:"yellow",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Sortie visible publiquement mais rserve (pas d'inscription possible)"},public_contact_required:{name:"Contact Association Requis",icon:fj,color:"orange",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:30,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Visible par tous mais inscription uniquement en contactant l'association"},members_only:{name:"Adhrents Seulement",icon:Pl,color:"purple",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:50,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"Rserv aux adhrents, non visible sur le site public"},private_internal:{name:"vnement Interne",icon:Pl,color:"red",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"DRAFT"},description:"vnement interne, compltement priv"},public_pdf_form:{name:"Formulaire PDF Public",icon:na,color:"teal",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:null,registrationDeadline:"",registrationMethod:"pdf",status:"PUBLISHED"},description:"vnement public avec formulaire PDF  tlcharger"},parade_classic_vehicles:{name:" Dfil Anciennes",icon:Cc,color:"red",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED",registrationType:"parade_vehicles"},description:"Dfil de vhicules anciens - Inscription avec nom, vhicule et club"}},zQ=()=>{const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(!1),[d,g]=y.useState(!1),[p,m]=y.useState("cards"),[x,v]=y.useState(""),S=mn(),{isOpen:E,onOpen:C,onClose:T}=Nt(),[A,D]=y.useState(null),[M,R]=y.useState(null),[P,z]=y.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),O=async()=>{const F=localStorage.getItem("token");if(console.log(" Testing API connection..."),console.log("Token exists:",!!F),!F){S({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const U=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}});if(console.log("GET /events status:",U.status),U.ok){const Y=await U.json();console.log(" GET API works, events:",Y.length),n(Array.isArray(Y)?Y:[]),console.log(" Testing POST with minimal data...");const be={id:`test-${Date.now()}`,title:"Test Event",date:"2025-12-31",status:"DRAFT"},Te=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify(be)});if(console.log("POST /events status:",Te.status),Te.ok){const Re=await Te.json();console.log(" POST works, created:",Re),await fetch(`https://refreshing-adaptation-rbe-serveurs.up.railway.app/events/${be.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`}}),S({status:"success",title:"API entirement fonctionnelle",description:"GET et POST fonctionnent correctement"})}else{const Re=await Te.text();console.log(" POST error:",Te.status,Re),S({status:"error",title:`Erreur POST ${Te.status}`,description:Re})}}else{const Y=await U.text();console.log(" GET error:",U.status,Y),S({status:"error",title:`Erreur GET ${U.status}`,description:Y})}}catch(U){console.error("Network error:",U),S({status:"error",title:"Erreur rseau",description:U.message})}},G=y.useCallback(async()=>{try{u(!0);const F=localStorage.getItem("token");if(!F){S({status:"warning",title:"Session expire",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}try{const Y=F.split(".");if(Y.length!==3)throw new Error("Format de token invalide");const be=JSON.parse(atob(Y[1])),Te=Math.floor(Date.now()/1e3);if(be.exp&&be.exp<Te)throw new Error("Token expir")}catch(Y){console.error("Token invalide:",Y),localStorage.removeItem("token"),localStorage.removeItem("user"),S({status:"error",title:"Session invalide",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}const U=await Do.getAll();n(Array.isArray(U)?U:[])}catch(F){if(console.error("Erreur events API:",F),F.message.includes("401")){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}F.message.includes("400")?S({status:"error",title:"Erreur 400 - Bad Request",description:"Problme avec la requte. Cliquez sur 'Tester API' pour diagnostiquer."}):S({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements."}),n([])}finally{u(!1)}},[S]),q=y.useCallback(async()=>{try{const F=await hp.getAll();i(Array.isArray(F)?F:[])}catch(F){console.error(F),i([])}},[]);y.useEffect(()=>{G(),q()},[G,q]);const ce=()=>{z({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),v("")},he=F=>{const U=Xy[F];U&&(z(Y=>({...Y,...U.defaults,eventType:F,title:Y.title,date:Y.date,time:Y.time,location:Y.location,description:Y.description,vehicleId:Y.vehicleId})),v(F),S({status:"info",title:"Template appliqu",description:U.description}))},se=()=>{D(null),ce(),C()},ge=F=>{D(F);let U={};try{U=F.extras?JSON.parse(F.extras):{}}catch(Y){console.log("Impossible de parser extras:",Y)}z({title:F.title||"",date:F.date||"",time:F.time||"",location:F.location||"",description:F.description||"",adultPrice:F.adultPrice||"",childPrice:F.childPrice||"",helloAssoUrl:F.helloAssoUrl||"",vehicleId:F.vehicleId||"",status:F.status||"DRAFT",isVisible:U.isVisible!==!1,allowPublicRegistration:U.allowPublicRegistration||!1,requiresRegistration:U.requiresRegistration||!!F.helloAssoUrl,isFree:U.isFree!==!1,maxParticipants:U.maxParticipants||"",registrationDeadline:U.registrationDeadline||"",registrationMethod:U.registrationMethod||(F.helloAssoUrl?"helloasso":"none"),pdfUrl:U.pdfUrl||"",eventType:U.eventType||"public_info_only"}),v(U.eventType||""),C()},Ae=(F,U)=>{const Y=F.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,30),be=U.replace(/-/g,""),Te=Math.random().toString(36).substring(2,6);return`${Y}-${be}-${Te}`},de=async()=>{if(!P.title.trim()){S({status:"warning",title:"Le titre est requis"});return}if(!P.date){S({status:"warning",title:"La date est requise"});return}try{g(!0);const F={title:P.title.trim(),date:P.date,time:P.time||null,location:P.location.trim()||null,description:P.description.trim()||null,adultPrice:P.adultPrice?parseFloat(P.adultPrice):null,childPrice:P.childPrice?parseFloat(P.childPrice):null,helloAssoUrl:P.helloAssoUrl.trim()||null,vehicleId:P.vehicleId||null,status:P.status,extras:{isVisible:P.isVisible,allowPublicRegistration:P.allowPublicRegistration,requiresRegistration:P.requiresRegistration,isFree:P.isFree,maxParticipants:P.maxParticipants?parseInt(P.maxParticipants):null,registrationDeadline:P.registrationDeadline||null,registrationMethod:P.registrationMethod,pdfUrl:P.pdfUrl||null,eventType:P.eventType}};A||(F.id=Ae(P.title,P.date),console.log(" Generated ID:",F.id)),console.log(" Saving event data:",F),A?(await Do.update(A.id,F),S({status:"success",title:"vnement modifi avec succs"})):(await Do.create(F),S({status:"success",title:"vnement cr avec succs"})),await G(),T(),ce()}catch(F){console.error("Save error:",F),F.message.includes("409")||F.message.includes("ID dj utilis")?S({status:"error",title:"ID dj utilis",description:"Un vnement avec ce nom et cette date existe dj. Modifiez le titre ou la date."}):F.message.includes("400")?(console.log("Dtails erreur 400 - Data envoye:",eventData),S({status:"error",title:"Erreur 400 - Donnes invalides",description:"Vrifiez la console pour voir les donnes envoyes."})):S({status:"error",title:"Erreur lors de la sauvegarde",description:F.message})}finally{g(!1)}},re=async F=>{if(confirm(`tes-vous sr de vouloir supprimer l'vnement "${F.title}" ?`))try{await Do.delete(F.id),S({status:"success",title:"vnement supprim"}),await G()}catch(U){S({status:"error",title:"Erreur lors de la suppression",description:U.message})}},K=async F=>{const U=F.status==="PUBLISHED"?"DRAFT":"PUBLISHED";try{console.log(" Toggling status from",F.status,"to",U),await Do.update(F.id,{status:U}),S({status:"success",title:`vnement ${U==="PUBLISHED"?"publi":"dpubli"}`}),await G()}catch(Y){console.error("Erreur toggle publish:",Y),S({status:"error",title:"Erreur lors de la publication",description:Y.message})}},W=F=>F==="PUBLISHED"?e.jsx(et,{colorScheme:"green",children:"Publi"}):e.jsx(et,{colorScheme:"gray",children:"Brouillon"}),H=F=>{try{const Y=(F.extras?JSON.parse(F.extras):{}).eventType||"public_info_only",be=Xy[Y];if(be)return e.jsxs(et,{colorScheme:be.color,variant:"subtle",children:[e.jsx(qn,{as:be.icon,mr:1}),be.name]})}catch(U){console.log("Error parsing event extras:",U)}return e.jsx(et,{colorScheme:"gray",children:"Standard"})},Ee=F=>{try{const U=F.extras?JSON.parse(F.extras):{};return console.log(` Internal - Event "${F.title}" extras:`,U),U.isVisible?U.requiresRegistration?U.requiresRegistration&&!U.allowPublicRegistration?e.jsx(te,{size:"sm",leftIcon:e.jsx(fj,{}),colorScheme:"orange",variant:"outline",isDisabled:!0,children:"Contact requis"}):U.requiresRegistration&&U.allowPublicRegistration?e.jsx(te,{size:"sm",leftIcon:e.jsx(Ti,{}),colorScheme:"blue",variant:"solid",isDisabled:!0,children:"Inscription publique"}):e.jsx(te,{size:"sm",leftIcon:e.jsx(rh,{}),colorScheme:"gray",variant:"outline",isDisabled:!0,children:"Indtermin"}):e.jsx(te,{size:"sm",leftIcon:e.jsx(rh,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Ouvert au public"}):e.jsx(te,{size:"sm",leftIcon:e.jsx(Pl,{}),colorScheme:"red",variant:"solid",isDisabled:!0,children:"Priv/Interne"})}catch(U){return console.log(`Error parsing extras for ${F.title}:`,U),e.jsx(te,{size:"sm",leftIcon:e.jsx(rh,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Legacy (ouvert)"})}},B=F=>{const U=r.find(Y=>Y.parc===F);return U?`${U.parc} - ${U.modele}`:"Aucun vhicule"},ae=t.find(F=>F.id===M);ae&&r.find(F=>F.parc===ae.vehicleId);const me=()=>e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(F=>e.jsxs(Ne,{shadow:"md",position:"relative",children:[e.jsx(Dt,{pb:2,children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsxs(oe,{justify:"space-between",w:"100%",children:[e.jsx(De,{size:"md",noOfLines:2,flex:1,children:F.title}),Ee(F)]}),e.jsxs(oe,{spacing:2,wrap:"wrap",children:[W(F.status),H(F)]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsxs(oe,{children:[e.jsx(pi,{}),e.jsxs(k,{fontSize:"sm",children:[F.date," ",F.time&&` ${F.time}`]})]}),F.location&&e.jsxs(oe,{children:[e.jsx(Ec,{}),e.jsx(k,{fontSize:"sm",children:F.location})]}),F.vehicleId&&e.jsxs(k,{fontSize:"sm",children:[" ",B(F.vehicleId)]}),F.description&&e.jsx(k,{fontSize:"sm",color:"gray.600",noOfLines:3,children:F.description}),(F.adultPrice||F.childPrice)&&e.jsxs(oe,{spacing:4,children:[F.adultPrice&&e.jsxs(k,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Adulte: ",F.adultPrice,""]}),F.childPrice&&e.jsxs(k,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Enfant: ",F.childPrice,""]})]}),e.jsxs(oe,{spacing:2,pt:4,w:"100%",wrap:"wrap",children:[e.jsx(te,{leftIcon:e.jsx(Bs,{}),size:"sm",onClick:()=>ge(F),children:"Modifier"}),e.jsx(te,{leftIcon:e.jsx(Dp,{}),size:"sm",colorScheme:F.status==="PUBLISHED"?"red":"green",onClick:()=>K(F),children:F.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(te,{leftIcon:e.jsx(hr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>re(F),children:"Supprimer"})]})]})})]},F.id))}),$=()=>e.jsx(ue,{overflowX:"auto",children:e.jsxs(dr,{variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Titre"}),e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Type"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:t.map(F=>e.jsxs(Ft,{bg:F.id===M?"blue.50":void 0,cursor:"pointer",onClick:()=>R(F.id===M?null:F.id),_hover:{bg:"gray.50"},children:[e.jsx(Le,{fontWeight:"semibold",children:F.title}),e.jsxs(Le,{children:[F.date," ",F.time&&` ${F.time}`]}),e.jsx(Le,{children:H(F)}),e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:1,children:[W(F.status),Ee(F)]})}),e.jsx(Le,{children:e.jsxs(oe,{spacing:1,children:[e.jsx(te,{size:"sm",onClick:U=>{U.stopPropagation(),ge(F)},children:"diter"}),e.jsx(te,{size:"sm",colorScheme:F.status==="PUBLISHED"?"red":"green",onClick:U=>{U.stopPropagation(),K(F)},children:F.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(te,{size:"sm",colorScheme:"red",variant:"outline",onClick:U=>{U.stopPropagation(),re(F)},children:"Supprimer"})]})})]},F.id))})]})});return e.jsxs(ue,{p:6,children:[e.jsxs(er,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{children:" Cration des vnements"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(oe,{spacing:3,children:[e.jsx(te,{leftIcon:e.jsx(Bs,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:O,children:"Tester API"}),e.jsx(te,{leftIcon:p==="cards"?e.jsx(VP,{}):e.jsx(E1,{}),size:"sm",variant:"outline",onClick:()=>m(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:se,children:"Nouvel vnement"})]})]}),l?e.jsx(jn,{py:20,children:e.jsx(hn,{size:"xl"})}):t.length===0?e.jsx(jn,{py:20,children:e.jsxs(ie,{spacing:4,children:[e.jsx(k,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsxs(oe,{spacing:3,children:[e.jsx(te,{leftIcon:e.jsx(Bs,{}),colorScheme:"purple",variant:"outline",onClick:O,children:"Tester API"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:se,children:"Crer le premier vnement"})]})]})}):p==="cards"?e.jsx(me,{}):e.jsx($,{}),e.jsxs(Ct,{isOpen:E,onClose:T,size:"6xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(_t,{children:A?"Modifier l'vnement":"Nouvel vnement"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ao,{children:[e.jsxs(lo,{children:[e.jsx(ln,{children:" Informations de base"}),e.jsx(ln,{children:" Configuration"}),e.jsx(ln,{children:" Templates"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Titre"}),e.jsx(ye,{value:P.title,onChange:F=>z(U=>({...U,title:F.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(oe,{w:"100%",spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Date"}),e.jsx(ye,{type:"date",value:P.date,onChange:F=>z(U=>({...U,date:F.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Heure"}),e.jsx(ye,{type:"time",value:P.time,onChange:F=>z(U=>({...U,time:F.target.value}))})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Lieu"}),e.jsx(ye,{value:P.location,onChange:F=>z(U=>({...U,location:F.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Vhicule participant"}),e.jsx(lt,{value:P.vehicleId,onChange:F=>z(U=>({...U,vehicleId:F.target.value})),placeholder:"Slectionner un vhicule (optionnel)",children:r.map(F=>e.jsxs("option",{value:F.parc,children:[F.parc," - ",F.modele," (",F.marque,")"]},F.parc))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:P.description,onChange:F=>z(U=>({...U,description:F.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:6,children:[e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(De,{size:"sm",mb:3,children:" Visibilit"}),e.jsxs(ee,{children:[e.jsxs(oe,{children:[e.jsx(Sr,{isChecked:P.isVisible,onChange:F=>z(U=>({...U,isVisible:F.target.checked}))}),e.jsx(J,{mb:0,children:"Visible sur le site public"})]}),e.jsxs(Ut,{status:P.isVisible?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"sm",children:P.isVisible?" L'vnement apparatra sur la page Events du site externe":" vnement priv, visible seulement dans l'interface interne"})]})]})]}),e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(De,{size:"sm",mb:3,children:" Gestion des inscriptions"}),e.jsxs(ie,{spacing:4,align:"start",children:[e.jsxs(ee,{children:[e.jsxs(oe,{children:[e.jsx(Sr,{isChecked:P.requiresRegistration,onChange:F=>z(U=>({...U,requiresRegistration:F.target.checked}))}),e.jsx(J,{mb:0,children:"Inscription requise pour participer"})]}),e.jsxs(Ut,{status:P.requiresRegistration?"info":"success",mt:2,borderRadius:"md",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"sm",children:P.requiresRegistration?" Une inscription sera ncessaire pour participer  cet vnement":" Bouton 'Ouvert au public' - Aucune inscription ncessaire"})]})]}),P.requiresRegistration&&e.jsxs(ee,{children:[e.jsxs(oe,{children:[e.jsx(Sr,{isChecked:P.allowPublicRegistration,onChange:F=>z(U=>({...U,allowPublicRegistration:F.target.checked}))}),e.jsx(J,{mb:0,children:"Le public peut s'inscrire directement"})]}),e.jsxs(Ut,{status:P.allowPublicRegistration?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"sm",children:P.allowPublicRegistration?" Bouton d'inscription disponible sur le site externe":" Bouton 'Contacter l'association' - Inscription via contact uniquement"})]})]})]})]}),e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(De,{size:"sm",mb:3,children:" Tarification"}),e.jsxs(ie,{spacing:3,align:"start",children:[e.jsx(ee,{children:e.jsxs(oe,{children:[e.jsx(Sr,{isChecked:P.isFree,onChange:F=>z(U=>({...U,isFree:F.target.checked,adultPrice:F.target.checked?"":U.adultPrice,childPrice:F.target.checked?"":U.childPrice}))}),e.jsx(J,{mb:0,children:"vnement gratuit"})]})}),!P.isFree&&e.jsxs(oe,{w:"100%",spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Prix adulte ()"}),e.jsx(ye,{type:"number",step:"0.01",value:P.adultPrice,onChange:F=>z(U=>({...U,adultPrice:F.target.value})),placeholder:"15.00"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Prix enfant ()"}),e.jsx(ye,{type:"number",step:"0.01",value:P.childPrice,onChange:F=>z(U=>({...U,childPrice:F.target.value})),placeholder:"8.00"})]})]})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Statut de publication"}),e.jsxs(lt,{value:P.status,onChange:F=>z(U=>({...U,status:F.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"})]})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,children:[e.jsx(k,{fontSize:"lg",fontWeight:"bold",mb:4,children:" Choisissez un template pour configurer rapidement votre vnement"}),e.jsx(gt,{columns:{base:1,md:2},spacing:4,w:"100%",children:Object.entries(Xy).map(([F,U])=>e.jsx(Ne,{cursor:"pointer",onClick:()=>he(F),bg:x===F?`${U.color}.50`:"white",borderColor:x===F?`${U.color}.200`:"gray.200",borderWidth:"2px",_hover:{borderColor:`${U.color}.300`},children:e.jsx(Ie,{children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsxs(oe,{children:[e.jsx(qn,{as:U.icon,color:`${U.color}.500`}),e.jsx(k,{fontWeight:"bold",color:`${U.color}.700`,children:U.name})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:U.description}),x===F&&e.jsx(et,{colorScheme:U.color,children:"Slectionn"})]})})},F))}),x&&e.jsxs(Ut,{status:"info",borderRadius:"md",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"bold",children:"Template appliqu"}),e.jsx(k,{fontSize:"sm",children:`Vous pouvez maintenant personnaliser les paramtres dans l'onglet "Configuration"`})]})]})]})})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:()=>{T(),ce()},children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:de,isLoading:d,children:A?"Modifier":"Crer"})]})]})]})]})},LQ=t=>{const n={DRAFT:{cs:"gray",label:"Brouillon"},PUBLISHED:{cs:"green",label:"Publi"},ARCHIVED:{cs:"orange",label:"Archiv"}},r=n[t]??n.DRAFT;return e.jsx(et,{colorScheme:r.cs,children:r.label})},OQ=t=>{if(!t)return"Date non dfinie";try{return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}};function BQ(){const t=mn(),[n,r]=y.useState([]),[i,l]=y.useState(!0),[u,d]=y.useState(""),[g,p]=y.useState("ALL"),[m,x]=y.useState(null),[v,S]=y.useState([]),[E,C]=y.useState([]),[T,A]=y.useState({revenue:0,expenses:0,profit:0,capacity:0,occupancy:0,rate:0,breakdown:null}),[D,M]=y.useState({url:"",org:"",event:""}),{isOpen:R,onOpen:P,onClose:z}=Nt(),[O,G]=y.useState(!1);y.useEffect(()=>{(async()=>{l(!0);try{const U=await Do.getAll();r(Array.isArray(U)?U:[])}catch{t({status:"error",title:"Erreur",description:"Impossible de charger les vnements"})}finally{l(!1)}})()},[t]);const q=y.useMemo(()=>{const U=u.trim().toLowerCase();return(n||[]).filter(Y=>{const be=Y.title?.toLowerCase().includes(U)||Y.location?.toLowerCase().includes(U),Te=g==="ALL"||Y.status===g;return be&&Te})},[n,u,g]),ce=y.useMemo(()=>{const U=n.length,Y=n.filter(Te=>Te.status==="PUBLISHED").length,be=n.filter(Te=>Te.status==="PUBLISHED"&&new Date(Te.date)>new Date).length;return{total:U,published:Y,upcoming:be,totalParticipants:0,totalRevenue:0}},[n]),he=U=>{x(U),S([]),C([{id:1,name:"Trajet principal",vehicle:U.vehicleId||"Bus",capacity:45,stops:[{name:"Dpart",time:"09:00",address:""},{name:U.location||"Arrive",time:"10:00",address:U.location||""}]}]),M({url:U.helloAssoUrl||"",org:U.helloAssoOrg||"",event:U.helloAssoEvent||""}),P()},se=U=>{if(!U?.name||!U?.email){t({status:"warning",title:"Nom et email requis"});return}const Y=E.reduce((Te,Re)=>Te+(Re.capacity||0),0),be=v.filter(Te=>Te.status==="confirmed").length;if(U.status==="confirmed"&&be>=Y){t({status:"error",title:"Capacit atteinte"});return}S(Te=>[...Te,{id:Date.now(),type:"adult",status:"pending",...U}])},ge=(U,Y)=>{S(be=>be.map(Te=>Te.id===U?{...Te,...Y}:Te))},Ae=U=>S(Y=>Y.filter(be=>be.id!==U)),de=()=>{C(U=>[...U,{id:Date.now(),name:"Nouveau trajet",vehicle:"",capacity:0,stops:[]}])},re=(U,Y)=>{const be=parseInt(Y||0,10);C(Te=>Te.map(Re=>Re.id===U?{...Re,capacity:be}:Re))},K=y.useMemo(()=>{if(!m)return null;const U=parseFloat(m.adultPrice||0),Y=parseFloat(m.childPrice||0),be=v.filter(Se=>Se.status==="confirmed"),Te=be.filter(Se=>Se.type==="adult").length,Re=be.filter(Se=>Se.type==="child").length,nt=Math.round(Te*U+Re*Y),ht=E.reduce((Se,Ke)=>Se+(Ke.capacity||0),0),rt=be.length,zt=ht>0?Math.round(rt/ht*100):0,Ue=Math.round(nt*.25+ht*2+rt*3),qt=nt-Ue;return{revenue:nt,expenses:Ue,profit:qt,capacity:ht,occupancy:rt,rate:zt,breakdown:{adult:{price:U,count:Te,total:U*Te},child:{price:Y,count:Re,total:Y*Re},expenseLines:[{label:"Base (25%)",amount:Math.round(nt*.25)},{label:`Capacit (${ht})`,amount:Math.round(ht*2)},{label:`Participants (${rt})`,amount:Math.round(rt*3)}]}}},[m,v,E]);y.useEffect(()=>{K&&A(K)},[K]);const W=async()=>{G(!0);try{t({status:"success",title:"Modifications sauvegardes"})}catch{t({status:"error",title:"Erreur de sauvegarde"})}finally{G(!1)}},[H,Ee]=y.useState({type:"recette",description:"",amount:0,category:""}),[B,ae]=y.useState(!1),[me,$]=y.useState([]),F=async()=>{if(m){ae(!0);try{const U={id:Date.now(),...H,date:new Date};$(Y=>[...Y,U]),Ee({type:"recette",description:"",amount:0,category:""}),t({status:"success",title:"Transaction ajoute"})}catch{t({status:"error",title:"Erreur d'ajout de transaction"})}finally{ae(!1)}}};return e.jsxs(Os,{maxW:"7xl",py:6,children:[e.jsxs(ie,{align:"start",spacing:6,mb:8,children:[e.jsxs(oe,{w:"100%",justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"lg",children:" Gestion des vnements"}),e.jsx(k,{color:"gray.600",children:"Administration des vnements, participants et finances"})]}),e.jsxs(oe,{children:[e.jsx(te,{as:or,to:"/dashboard/evenements",leftIcon:e.jsx(Bn,{}),colorScheme:"blue",variant:"outline",children:"Crer un vnement"}),e.jsx(te,{leftIcon:e.jsx(sa,{}),onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})]}),e.jsxs(gt,{columns:{base:2,md:5},spacing:4,w:"100%",children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Total"}),e.jsx(yt,{color:"blue.500",children:ce.total})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Publis"}),e.jsx(yt,{color:"green.500",children:ce.published})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:" venir"}),e.jsx(yt,{color:"orange.500",children:ce.upcoming})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Participants"}),e.jsx(yt,{color:"purple.500",children:ce.totalParticipants})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Revenus"}),e.jsxs(yt,{color:"green.600",children:[ce.totalRevenue,""]})]})})})]})]}),e.jsx(Ne,{mb:6,children:e.jsx(Ie,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(Tc,{maxW:"320px",children:[e.jsx(Ac,{pointerEvents:"none",children:e.jsx(cv,{})}),e.jsx(ye,{placeholder:"Rechercher un vnement...",value:u,onChange:U=>d(U.target.value)})]}),e.jsxs(lt,{maxW:"220px",value:g,onChange:U=>p(U.target.value),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),e.jsx("option",{value:"PUBLISHED",children:"Publis"}),e.jsx("option",{value:"DRAFT",children:"Brouillons"}),e.jsx("option",{value:"ARCHIVED",children:"Archivs"})]})]})})}),i?e.jsx(jn,{py:20,children:e.jsx(hn,{size:"xl"})}):q.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsx(jn,{py:16,children:e.jsxs(ie,{spacing:4,children:[e.jsx(k,{color:"gray.500",children:"Aucun vnement trouv"}),e.jsx(te,{as:or,to:"/dashboard/evenements",leftIcon:e.jsx(Bn,{}),colorScheme:"blue",children:"Crer le premier"})]})})})}):e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:e.jsxs(dr,{variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"vnement"}),e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:q.map(U=>e.jsxs(Ft,{children:[e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"semibold",children:U.title}),U.location&&e.jsxs(oe,{fontSize:"sm",color:"gray.600",children:[e.jsx(Ec,{}),e.jsx(k,{children:U.location})]}),U.vehicleId&&e.jsxs(oe,{fontSize:"sm",color:"blue.600",children:[e.jsx(Cc,{}),e.jsx(k,{children:U.vehicleId})]})]})}),e.jsxs(Le,{children:[OQ(U.date),U.time?e.jsx(k,{fontSize:"sm",color:"gray.600",children:U.time}):null]}),e.jsx(Le,{children:LQ(U.status)}),e.jsx(Le,{children:e.jsxs(oe,{spacing:1,children:[e.jsx(Qs,{label:"Gestion complte",children:e.jsx(xt,{"aria-label":"Grer",icon:e.jsx(Dp,{}),size:"sm",variant:"ghost",onClick:()=>he(U)})}),e.jsx(Qs,{label:"Modifier l'vnement",children:e.jsx(xt,{as:or,to:"/dashboard/evenements","aria-label":"Modifier",icon:e.jsx(Bs,{}),size:"sm",variant:"ghost"})}),e.jsx(Qs,{label:"Exporter ( venir)",children:e.jsx(xt,{"aria-label":"Exporter",icon:e.jsx(na,{}),size:"sm",variant:"ghost",onClick:()=>t({status:"info",title:"Bientt disponible"})})})]})})]},U.id))})]})})}),e.jsxs(Ct,{isOpen:R,onClose:z,size:"6xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",children:[e.jsx(_t,{children:e.jsxs(oe,{children:[e.jsx(Dp,{}),e.jsxs(k,{ml:2,children:["Gestion : ",m?.title]})]})}),e.jsx(Bt,{}),e.jsx(wt,{overflow:"auto",children:e.jsxs(ao,{children:[e.jsxs(lo,{children:[e.jsx(ln,{children:" Participants"}),e.jsx(ln,{children:" Trajets"}),e.jsx(ln,{children:" Finances"}),e.jsx(ln,{children:" HelloAsso"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(De,{size:"md",children:["Participants (",v.length,")"]}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",size:"sm",onClick:()=>se({name:"Nouveau participant",email:`user${Date.now()}@mail.com`,type:"adult",status:"pending"}),children:"Ajouter vite (dmo)"})]}),v.length===0?e.jsx(jn,{py:8,children:e.jsx(k,{color:"gray.500",children:"Aucun participant"})}):e.jsxs(dr,{size:"sm",variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Nom"}),e.jsx($e,{children:"Email"}),e.jsx($e,{children:"Type"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{})]})}),e.jsx(pr,{children:v.map(U=>e.jsxs(Ft,{children:[e.jsx(Le,{fontWeight:"bold",children:U.name}),e.jsx(Le,{children:U.email}),e.jsx(Le,{children:e.jsxs(lt,{size:"sm",value:U.type,onChange:Y=>ge(U.id,{type:Y.target.value}),children:[e.jsx("option",{value:"adult",children:"Adulte"}),e.jsx("option",{value:"child",children:"Enfant"})]})}),e.jsx(Le,{children:e.jsxs(lt,{size:"sm",value:U.status,onChange:Y=>ge(U.id,{status:Y.target.value}),children:[e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"confirmed",children:"Confirm"}),e.jsx("option",{value:"cancelled",children:"Annul"})]})}),e.jsx(Le,{isNumeric:!0,children:e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Ae(U.id)})})]},U.id))})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Trajets"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),size:"sm",colorScheme:"blue",onClick:de,children:"Ajouter un trajet"})]}),e.jsx(Ne,{bg:"blue.50",borderLeft:"4px solid",borderLeftColor:"blue.400",children:e.jsx(Ie,{children:e.jsxs(oe,{spacing:8,children:[e.jsxs(jt,{children:[e.jsx(bt,{children:"Capacit totale"}),e.jsxs(yt,{color:"blue.600",children:[T.capacity," places"]})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Confirms"}),e.jsx(yt,{color:"green.600",children:T.occupancy})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Taux d'occupation"}),e.jsxs(yt,{color:"purple.600",children:[T.rate,"%"]})]})]})})}),e.jsx(gt,{columns:{base:1,lg:2},spacing:4,children:E.map(U=>e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"sm",children:U.name}),U.vehicle&&e.jsx(et,{colorScheme:"blue",children:U.vehicle})]})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsxs(oe,{children:[e.jsx(Ti,{}),e.jsx(k,{fontSize:"sm",children:"Capacit:"}),e.jsxs(Xn,{size:"sm",min:0,max:200,value:U.capacity||0,onChange:Y=>re(U.id,Y),w:"90px",children:[e.jsx(Qn,{}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"places"})]}),e.jsxs(oe,{spacing:3,children:[e.jsxs(k,{fontSize:"sm",fontWeight:"bold",children:[T.occupancy," / ",U.capacity||0]}),e.jsx(jc,{value:(U.capacity||0)>0?Math.min(100,Math.round(T.occupancy/U.capacity*100)):0,size:"sm",colorScheme:(U.capacity||0)>0&&T.occupancy/(U.capacity||1)>.9?"red":(U.capacity||0)>0&&T.occupancy/(U.capacity||1)>.75?"orange":"green",flex:1})]}),e.jsx(ue,{fontSize:"sm",color:"gray.600",children:U.stops?.length?e.jsx("ul",{style:{marginLeft:"1rem"},children:U.stops.map((Y,be)=>e.jsxs("li",{children:[Y.time?`${Y.time}  `:"",Y.name]},be))}):e.jsx(k,{children:"Aucun arrt"})})]})})]},U.id))})]})}),e.jsx(cn,{children:e.jsxs(ie,{align:"stretch",spacing:6,children:[e.jsx(De,{size:"md",children:"Finances"}),e.jsxs(gt,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Revenus"}),e.jsxs(yt,{color:"green.500",children:[T.revenue,""]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Dpenses"}),e.jsxs(yt,{color:"red.500",children:[T.expenses,""]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Bnfice"}),e.jsxs(yt,{color:T.profit>=0?"green.500":"red.500",children:[T.profit,""]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Taux d'occupation"}),e.jsxs(yt,{color:"blue.500",children:[T.rate,"%"]}),e.jsxs(k,{fontSize:"xs",color:"gray.600",children:[T.occupancy," / ",T.capacity," places"]})]})})})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Revenus"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(k,{children:["Adulte (",T.breakdown?.adult.count,")"]}),e.jsxs(k,{fontWeight:"bold",children:[Math.round(T.breakdown?.adult.total||0),""]})]}),e.jsxs(oe,{justify:"space-between",children:[e.jsxs(k,{children:["Enfant (",T.breakdown?.child.count,")"]}),e.jsxs(k,{fontWeight:"bold",children:[Math.round(T.breakdown?.child.total||0),""]})]}),e.jsx(vn,{}),e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{fontWeight:"bold",children:"Total"}),e.jsxs(k,{fontWeight:"bold",color:"green.500",children:[T.revenue,""]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Dpenses"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[T.breakdown?.expenseLines?.map((U,Y)=>e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{fontSize:"sm",children:U.label}),e.jsxs(k,{fontWeight:"bold",children:[U.amount,""]})]},Y)),e.jsx(vn,{}),e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{fontWeight:"bold",children:"Total"}),e.jsxs(k,{fontWeight:"bold",color:"red.500",children:[T.expenses,""]})]})]})})]})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:"Configuration HelloAsso"}),e.jsxs(ee,{children:[e.jsx(J,{children:"URL de l'vnement"}),e.jsx(ye,{placeholder:"https://www.helloasso.com/associations/.../evenements/...",value:D.url,onChange:U=>M(Y=>({...Y,url:U.target.value}))}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Optionnel : on peut parser plus tard"})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Organisation"}),e.jsx(ye,{value:D.org,onChange:U=>M(Y=>({...Y,org:U.target.value})),placeholder:"nom-organisation"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"vnement"}),e.jsx(ye,{value:D.event,onChange:U=>M(Y=>({...Y,event:U.target.value})),placeholder:"nom-evenement"})]})]}),e.jsx(te,{leftIcon:e.jsx(Du,{}),onClick:()=>t({status:"success",title:"Paramtres enregistrs"}),colorScheme:"blue",children:"Sauvegarder"}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"sm",children:"Participants HelloAsso"}),e.jsx(et,{colorScheme:"gray",children:"Non synchronis"})]})}),e.jsxs(Ie,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"La synchronisation sera ajoute ultrieurement."}),e.jsxs(ue,{mt:3,children:[e.jsxs(hh,{fontSize:"xs",children:["org: ",D.org||"-"]}),"  ",e.jsxs(hh,{fontSize:"xs",children:["event: ",D.event||"-"]})]})]})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:"Transactions lies  lvnement"}),e.jsxs(oe,{children:[e.jsxs(lt,{maxW:"160px",value:H.type,onChange:U=>Ee(Y=>({...Y,type:U.target.value})),children:[e.jsx("option",{value:"recette",children:"Recette"}),e.jsx("option",{value:"depense",children:"Dpense"})]}),e.jsx(ye,{placeholder:"Description",value:H.description,onChange:U=>Ee(Y=>({...Y,description:U.target.value}))}),e.jsxs(Xn,{maxW:"160px",value:H.amount,min:0,precision:2,step:1,onChange:(U,Y)=>Ee(be=>({...be,amount:Number.isFinite(Y)?Y:0})),children:[e.jsx(Qn,{placeholder:"Montant"}),e.jsxs(di,{children:[e.jsx(fi,{}),e.jsx(hi,{})]})]}),e.jsxs(lt,{maxW:"220px",placeholder:"Catgorie",value:H.category,onChange:U=>Ee(Y=>({...Y,category:U.target.value})),children:[e.jsx("option",{value:"evenements",children:"vnements"}),e.jsx("option",{value:"carburant",children:"Carburant"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"materiel",children:"Matriel"}),e.jsx("option",{value:"autres",children:"Autres"})]}),e.jsx(te,{leftIcon:e.jsx(Du,{}),colorScheme:"blue",onClick:F,children:"Ajouter"})]}),e.jsx(Ne,{children:e.jsx(Ie,{p:0,children:B?e.jsx(jn,{py:8,children:e.jsx(hn,{})}):me.length===0?e.jsx(jn,{py:10,children:e.jsx(k,{color:"gray.500",children:"Aucune transaction lie"})}):e.jsxs(dr,{size:"sm",variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Type"}),e.jsx($e,{children:"Description"}),e.jsx($e,{children:"Catgorie"}),e.jsx($e,{isNumeric:!0,children:"Montant"})]})}),e.jsx(pr,{children:me.map(U=>e.jsxs(Ft,{children:[e.jsx(Le,{children:U.date?new Date(U.date).toLocaleDateString("fr-FR"):"-"}),e.jsx(Le,{children:e.jsx(et,{colorScheme:U.type==="recette"?"green":"red",children:U.type==="recette"?"Recette":"Dpense"})}),e.jsx(Le,{children:U.description}),e.jsx(Le,{children:e.jsx(et,{variant:"subtle",children:U.category||"-"})}),e.jsx(Le,{isNumeric:!0,children:e.jsx(k,{fontWeight:"bold",color:U.type==="recette"?"green.500":"red.500",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(U.amount||0)})})]},U.id))})]})})})]})})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:z,children:"Fermer"}),e.jsx(te,{colorScheme:"blue",leftIcon:e.jsx(Du,{}),onClick:W,isLoading:O,children:"Sauvegarder"})]})]})]})]})}function oD(t,n){const r=y.useRef(n);y.useEffect(function(){n!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),n!=null&&t.attributionControl.addAttribution(n)),r.current=n},[t,n])}const $Q=1;function FQ(t){return Object.freeze({__version:$Q,map:t})}function aD(t,n){return Object.freeze({...t,...n})}const w1=y.createContext(null);function uv(){const t=y.use(w1);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function lD(t){function n(r,i){const{instance:l,context:u}=t(r).current;y.useImperativeHandle(i,()=>l);const{children:d}=r;return d==null?null:dn.createElement(w1,{value:u},d)}return y.forwardRef(n)}function VQ(t){function n(r,i){const[l,u]=y.useState(!1),{instance:d}=t(r,u).current;y.useImperativeHandle(i,()=>d),y.useEffect(function(){l&&d.update()},[d,l,r.children]);const g=d._contentNode;return g?Nj.createPortal(r.children,g):null}return y.forwardRef(n)}function UQ(t){function n(r,i){const{instance:l}=t(r).current;return y.useImperativeHandle(i,()=>l),null}return y.forwardRef(n)}function _1(t,n){const r=y.useRef(void 0);y.useEffect(function(){return n!=null&&t.instance.on(n),r.current=n,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,n])}function dv(t,n){const r=t.pane??n.pane;return r?{...t,pane:r}:t}function HQ(t,n){return function(i,l){const u=uv(),d=t(dv(i,u),u);return oD(u.map,i.attribution),_1(d.current,i.eventHandlers),n(d.current,u,i,l),d}}var Kf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var WQ=Kf.exports,FT;function qQ(){return FT||(FT=1,(function(t,n){(function(r,i){i(n)})(WQ,(function(r){var i="1.9.4";function l(a){var h,b,_,N;for(b=1,_=arguments.length;b<_;b++){N=arguments[b];for(h in N)a[h]=N[h]}return a}var u=Object.create||(function(){function a(){}return function(h){return a.prototype=h,new a}})();function d(a,h){var b=Array.prototype.slice;if(a.bind)return a.bind.apply(a,b.call(arguments,1));var _=b.call(arguments,2);return function(){return a.apply(h,_.length?_.concat(b.call(arguments)):arguments)}}var g=0;function p(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function m(a,h,b){var _,N,Z,fe;return fe=function(){_=!1,N&&(Z.apply(b,N),N=!1)},Z=function(){_?N=arguments:(a.apply(b,arguments),setTimeout(fe,h),_=!0)},Z}function x(a,h,b){var _=h[1],N=h[0],Z=_-N;return a===_&&b?a:((a-N)%Z+Z)%Z+N}function v(){return!1}function S(a,h){if(h===!1)return a;var b=Math.pow(10,h===void 0?6:h);return Math.round(a*b)/b}function E(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function C(a){return E(a).split(/\s+/)}function T(a,h){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var b in h)a.options[b]=h[b];return a.options}function A(a,h,b){var _=[];for(var N in a)_.push(encodeURIComponent(b?N.toUpperCase():N)+"="+encodeURIComponent(a[N]));return(!h||h.indexOf("?")===-1?"?":"&")+_.join("&")}var D=/\{ *([\w_ -]+) *\}/g;function M(a,h){return a.replace(D,function(b,_){var N=h[_];if(N===void 0)throw new Error("No value provided for variable "+b);return typeof N=="function"&&(N=N(h)),N})}var R=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function P(a,h){for(var b=0;b<a.length;b++)if(a[b]===h)return b;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var G=0;function q(a){var h=+new Date,b=Math.max(0,16-(h-G));return G=h+b,window.setTimeout(a,b)}var ce=window.requestAnimationFrame||O("RequestAnimationFrame")||q,he=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function se(a,h,b){if(b&&ce===q)a.call(h);else return ce.call(window,d(a,h))}function ge(a){a&&he.call(window,a)}var Ae={__proto__:null,extend:l,create:u,bind:d,get lastId(){return g},stamp:p,throttle:m,wrapNum:x,falseFn:v,formatNum:S,trim:E,splitWords:C,setOptions:T,getParamString:A,template:M,isArray:R,indexOf:P,emptyImageUrl:z,requestFn:ce,cancelFn:he,requestAnimFrame:se,cancelAnimFrame:ge};function de(){}de.extend=function(a){var h=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=h.__super__=this.prototype,_=u(b);_.constructor=h,h.prototype=_;for(var N in this)Object.prototype.hasOwnProperty.call(this,N)&&N!=="prototype"&&N!=="__super__"&&(h[N]=this[N]);return a.statics&&l(h,a.statics),a.includes&&(re(a.includes),l.apply(null,[_].concat(a.includes))),l(_,a),delete _.statics,delete _.includes,_.options&&(_.options=b.options?u(b.options):{},l(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,fe=_._initHooks.length;Z<fe;Z++)_._initHooks[Z].call(this)}},h},de.include=function(a){var h=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=h,this.mergeOptions(a.options)),this},de.mergeOptions=function(a){return l(this.prototype.options,a),this},de.addInitHook=function(a){var h=Array.prototype.slice.call(arguments,1),b=typeof a=="function"?a:function(){this[a].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function re(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=R(a)?a:[a];for(var h=0;h<a.length;h++)a[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(a,h,b){if(typeof a=="object")for(var _ in a)this._on(_,a[_],h);else{a=C(a);for(var N=0,Z=a.length;N<Z;N++)this._on(a[N],h,b)}return this},off:function(a,h,b){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],h);else{a=C(a);for(var N=arguments.length===1,Z=0,fe=a.length;Z<fe;Z++)N?this._off(a[Z]):this._off(a[Z],h,b)}return this},_on:function(a,h,b,_){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(a,h,b)===!1){b===this&&(b=void 0);var N={fn:h,ctx:b};_&&(N.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(N)}},_off:function(a,h,b){var _,N,Z;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(N=0,Z=_.length;N<Z;N++)_[N].fn=v;delete this._events[a];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var fe=this._listens(a,h,b);if(fe!==!1){var ke=_[fe];this._firingCount&&(ke.fn=v,this._events[a]=_=_.slice()),_.splice(fe,1)}}},fire:function(a,h,b){if(!this.listens(a,b))return this;var _=l({},h,{type:a,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var N=this._events[a];if(N){this._firingCount=this._firingCount+1||1;for(var Z=0,fe=N.length;Z<fe;Z++){var ke=N[Z],Fe=ke.fn;ke.once&&this.off(a,Fe,ke.ctx),Fe.call(ke.ctx||this,_)}this._firingCount--}}return b&&this._propagateEvent(_),this},listens:function(a,h,b,_){typeof a!="string"&&console.warn('"string" type argument expected');var N=h;typeof h!="function"&&(_=!!h,N=void 0,b=void 0);var Z=this._events&&this._events[a];if(Z&&Z.length&&this._listens(a,N,b)!==!1)return!0;if(_){for(var fe in this._eventParents)if(this._eventParents[fe].listens(a,h,b,_))return!0}return!1},_listens:function(a,h,b){if(!this._events)return!1;var _=this._events[a]||[];if(!h)return!!_.length;b===this&&(b=void 0);for(var N=0,Z=_.length;N<Z;N++)if(_[N].fn===h&&_[N].ctx===b)return N;return!1},once:function(a,h,b){if(typeof a=="object")for(var _ in a)this._on(_,a[_],h,!0);else{a=C(a);for(var N=0,Z=a.length;N<Z;N++)this._on(a[N],h,b,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[p(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[p(a)],this},_propagateEvent:function(a){for(var h in this._eventParents)this._eventParents[h].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var W=de.extend(K);function H(a,h,b){this.x=b?Math.round(a):a,this.y=b?Math.round(h):h}var Ee=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(a){return this.clone()._add(B(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(B(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new H(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new H(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(a){a=B(a);var h=a.x-this.x,b=a.y-this.y;return Math.sqrt(h*h+b*b)},equals:function(a){return a=B(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=B(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function B(a,h,b){return a instanceof H?a:R(a)?new H(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new H(a.x,a.y):new H(a,h,b)}function ae(a,h){if(a)for(var b=h?[a,h]:a,_=0,N=b.length;_<N;_++)this.extend(b[_])}ae.prototype={extend:function(a){var h,b;if(!a)return this;if(a instanceof H||typeof a[0]=="number"||"x"in a)h=b=B(a);else if(a=me(a),h=a.min,b=a.max,!h||!b)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=b.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(a){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var h,b;return typeof a[0]=="number"||a instanceof H?a=B(a):a=me(a),a instanceof ae?(h=a.min,b=a.max):h=b=a,h.x>=this.min.x&&b.x<=this.max.x&&h.y>=this.min.y&&b.y<=this.max.y},intersects:function(a){a=me(a);var h=this.min,b=this.max,_=a.min,N=a.max,Z=N.x>=h.x&&_.x<=b.x,fe=N.y>=h.y&&_.y<=b.y;return Z&&fe},overlaps:function(a){a=me(a);var h=this.min,b=this.max,_=a.min,N=a.max,Z=N.x>h.x&&_.x<b.x,fe=N.y>h.y&&_.y<b.y;return Z&&fe},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var h=this.min,b=this.max,_=Math.abs(h.x-b.x)*a,N=Math.abs(h.y-b.y)*a;return me(B(h.x-_,h.y-N),B(b.x+_,b.y+N))},equals:function(a){return a?(a=me(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function me(a,h){return!a||a instanceof ae?a:new ae(a,h)}function $(a,h){if(a)for(var b=h?[a,h]:a,_=0,N=b.length;_<N;_++)this.extend(b[_])}$.prototype={extend:function(a){var h=this._southWest,b=this._northEast,_,N;if(a instanceof U)_=a,N=a;else if(a instanceof $){if(_=a._southWest,N=a._northEast,!_||!N)return this}else return a?this.extend(Y(a)||F(a)):this;return!h&&!b?(this._southWest=new U(_.lat,_.lng),this._northEast=new U(N.lat,N.lng)):(h.lat=Math.min(_.lat,h.lat),h.lng=Math.min(_.lng,h.lng),b.lat=Math.max(N.lat,b.lat),b.lng=Math.max(N.lng,b.lng)),this},pad:function(a){var h=this._southWest,b=this._northEast,_=Math.abs(h.lat-b.lat)*a,N=Math.abs(h.lng-b.lng)*a;return new $(new U(h.lat-_,h.lng-N),new U(b.lat+_,b.lng+N))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof U||"lat"in a?a=Y(a):a=F(a);var h=this._southWest,b=this._northEast,_,N;return a instanceof $?(_=a.getSouthWest(),N=a.getNorthEast()):_=N=a,_.lat>=h.lat&&N.lat<=b.lat&&_.lng>=h.lng&&N.lng<=b.lng},intersects:function(a){a=F(a);var h=this._southWest,b=this._northEast,_=a.getSouthWest(),N=a.getNorthEast(),Z=N.lat>=h.lat&&_.lat<=b.lat,fe=N.lng>=h.lng&&_.lng<=b.lng;return Z&&fe},overlaps:function(a){a=F(a);var h=this._southWest,b=this._northEast,_=a.getSouthWest(),N=a.getNorthEast(),Z=N.lat>h.lat&&_.lat<b.lat,fe=N.lng>h.lng&&_.lng<b.lng;return Z&&fe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,h){return a?(a=F(a),this._southWest.equals(a.getSouthWest(),h)&&this._northEast.equals(a.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function F(a,h){return a instanceof $?a:new $(a,h)}function U(a,h,b){if(isNaN(a)||isNaN(h))throw new Error("Invalid LatLng object: ("+a+", "+h+")");this.lat=+a,this.lng=+h,b!==void 0&&(this.alt=+b)}U.prototype={equals:function(a,h){if(!a)return!1;a=Y(a);var b=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return b<=(h===void 0?1e-9:h)},toString:function(a){return"LatLng("+S(this.lat,a)+", "+S(this.lng,a)+")"},distanceTo:function(a){return Te.distance(this,Y(a))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(a){var h=180*a/40075017,b=h/Math.cos(Math.PI/180*this.lat);return F([this.lat-h,this.lng-b],[this.lat+h,this.lng+b])},clone:function(){return new U(this.lat,this.lng,this.alt)}};function Y(a,h,b){return a instanceof U?a:R(a)&&typeof a[0]!="object"?a.length===3?new U(a[0],a[1],a[2]):a.length===2?new U(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new U(a.lat,"lng"in a?a.lng:a.lon,a.alt):h===void 0?null:new U(a,h,b)}var be={latLngToPoint:function(a,h){var b=this.projection.project(a),_=this.scale(h);return this.transformation._transform(b,_)},pointToLatLng:function(a,h){var b=this.scale(h),_=this.transformation.untransform(a,b);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var h=this.projection.bounds,b=this.scale(a),_=this.transformation.transform(h.min,b),N=this.transformation.transform(h.max,b);return new ae(_,N)},infinite:!1,wrapLatLng:function(a){var h=this.wrapLng?x(a.lng,this.wrapLng,!0):a.lng,b=this.wrapLat?x(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new U(b,h,_)},wrapLatLngBounds:function(a){var h=a.getCenter(),b=this.wrapLatLng(h),_=h.lat-b.lat,N=h.lng-b.lng;if(_===0&&N===0)return a;var Z=a.getSouthWest(),fe=a.getNorthEast(),ke=new U(Z.lat-_,Z.lng-N),Fe=new U(fe.lat-_,fe.lng-N);return new $(ke,Fe)}},Te=l({},be,{wrapLng:[-180,180],R:6371e3,distance:function(a,h){var b=Math.PI/180,_=a.lat*b,N=h.lat*b,Z=Math.sin((h.lat-a.lat)*b/2),fe=Math.sin((h.lng-a.lng)*b/2),ke=Z*Z+Math.cos(_)*Math.cos(N)*fe*fe,Fe=2*Math.atan2(Math.sqrt(ke),Math.sqrt(1-ke));return this.R*Fe}}),Re=6378137,nt={R:Re,MAX_LATITUDE:85.0511287798,project:function(a){var h=Math.PI/180,b=this.MAX_LATITUDE,_=Math.max(Math.min(b,a.lat),-b),N=Math.sin(_*h);return new H(this.R*a.lng*h,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(a){var h=180/Math.PI;return new U((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*h,a.x*h/this.R)},bounds:(function(){var a=Re*Math.PI;return new ae([-a,-a],[a,a])})()};function ht(a,h,b,_){if(R(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=h,this._c=b,this._d=_}ht.prototype={transform:function(a,h){return this._transform(a.clone(),h)},_transform:function(a,h){return h=h||1,a.x=h*(this._a*a.x+this._b),a.y=h*(this._c*a.y+this._d),a},untransform:function(a,h){return h=h||1,new H((a.x/h-this._b)/this._a,(a.y/h-this._d)/this._c)}};function rt(a,h,b,_){return new ht(a,h,b,_)}var zt=l({},Te,{code:"EPSG:3857",projection:nt,transformation:(function(){var a=.5/(Math.PI*nt.R);return rt(a,.5,-a,.5)})()}),Ue=l({},zt,{code:"EPSG:900913"});function qt(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Se(a,h){var b="",_,N,Z,fe,ke,Fe;for(_=0,Z=a.length;_<Z;_++){for(ke=a[_],N=0,fe=ke.length;N<fe;N++)Fe=ke[N],b+=(N?"L":"M")+Fe.x+" "+Fe.y;b+=h?ct.svg?"z":"x":""}return b||"M0 0"}var Ke=document.documentElement.style,Ot="ActiveXObject"in window,le=Ot&&!document.addEventListener,ve="msLaunchUri"in navigator&&!("documentMode"in document),st=Jr("webkit"),Mt=Jr("android"),Mn=Jr("android 2")||Jr("android 3"),ar=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),He=Mt&&Jr("Google")&&ar<537&&!("AudioNode"in window),it=!!window.opera,It=!ve&&Jr("chrome"),Xe=Jr("gecko")&&!st&&!it&&!Ot,vt=!It&&Jr("safari"),Pn=Jr("phantom"),Ge="OTransition"in Ke,At=navigator.platform.indexOf("Win")===0,an=Ot&&"transition"in Ke,yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mn,en="MozPerspective"in Ke,Dn=!window.L_DISABLE_3D&&(an||yn||en)&&!Ge&&!Pn,at=typeof orientation<"u"||Jr("mobile"),Ln=at&&st,br=at&&yn,Xr=!window.PointerEvent&&window.MSPointerEvent,un=!!(window.PointerEvent||Xr),$s="ontouchstart"in window||!!window.TouchEvent,Ts=!window.L_NO_TOUCH&&($s||un),$o=at&&it,Ga=at&&Xe,ua=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pi=(function(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",v,h),window.removeEventListener("testPassiveEventSupport",v,h)}catch{}return a})(),Za=(function(){return!!document.createElement("canvas").getContext})(),As=!!(document.createElementNS&&qt("svg").createSVGRect),vi=!!As&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Rr=!As&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var h=a.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Qr=navigator.platform.indexOf("Mac")===0,co=navigator.platform.indexOf("Linux")===0;function Jr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var ct={ie:Ot,ielt9:le,edge:ve,webkit:st,android:Mt,android23:Mn,androidStock:He,opera:it,chrome:It,gecko:Xe,safari:vt,phantom:Pn,opera12:Ge,win:At,ie3d:an,webkit3d:yn,gecko3d:en,any3d:Dn,mobile:at,mobileWebkit:Ln,mobileWebkit3d:br,msPointer:Xr,pointer:un,touch:Ts,touchNative:$s,mobileOpera:$o,mobileGecko:Ga,retina:ua,passiveEvents:Pi,canvas:Za,svg:As,vml:Rr,inlineSvg:vi,mac:Qr,linux:co},Di=ct.msPointer?"MSPointerDown":"pointerdown",Ya=ct.msPointer?"MSPointerMove":"pointermove",uo=ct.msPointer?"MSPointerUp":"pointerup",ho=ct.msPointer?"MSPointerCancel":"pointercancel",Fs={touchstart:Di,touchmove:Ya,touchend:uo,touchcancel:ho},ls={touchstart:ha,touchmove:Vs,touchend:Vs,touchcancel:Vs},vs={},Js=!1;function Cr(a,h,b){return h==="touchstart"&&zc(),ls[h]?(b=ls[h].bind(this,b),a.addEventListener(Fs[h],b,!1),b):(console.warn("wrong event specified:",h),v)}function da(a,h,b){if(!Fs[h]){console.warn("wrong event specified:",h);return}a.removeEventListener(Fs[h],b,!1)}function Fo(a){vs[a.pointerId]=a}function ot(a){vs[a.pointerId]&&(vs[a.pointerId]=a)}function ei(a){delete vs[a.pointerId]}function zc(){Js||(document.addEventListener(Di,Fo,!0),document.addEventListener(Ya,ot,!0),document.addEventListener(uo,ei,!0),document.addEventListener(ho,ei,!0),Js=!0)}function Vs(a,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var b in vs)h.touches.push(vs[b]);h.changedTouches=[h],a(h)}}function ha(a,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&gr(h),Vs(a,h)}function Lc(a){var h={},b,_;for(_ in a)b=a[_],h[_]=b&&b.bind?b.bind(a):b;return a=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ti=200;function Vo(a,h){a.addEventListener("dblclick",h);var b=0,_;function N(Z){if(Z.detail!==1){_=Z.detail;return}if(!(Z.pointerType==="mouse"||Z.sourceCapabilities&&!Z.sourceCapabilities.firesTouchEvents)){var fe=ga(Z);if(!(fe.some(function(Fe){return Fe instanceof HTMLLabelElement&&Fe.attributes.for})&&!fe.some(function(Fe){return Fe instanceof HTMLInputElement||Fe instanceof HTMLSelectElement}))){var ke=Date.now();ke-b<=ti?(_++,_===2&&h(Lc(Z))):_=1,b=ke}}}return a.addEventListener("click",N),{dblclick:h,simDblclick:N}}function Us(a,h){a.removeEventListener("dblclick",h.dblclick),a.removeEventListener("click",h.simDblclick)}var Ni=Oi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fo=Oi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yi=fo==="webkitTransition"||fo==="OTransition"?fo+"End":"transitionend";function po(a){return typeof a=="string"?document.getElementById(a):a}function Ii(a,h){var b=a.style[h]||a.currentStyle&&a.currentStyle[h];if((!b||b==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);b=_?_[h]:null}return b==="auto"?null:b}function bn(a,h,b){var _=document.createElement(a);return _.className=h||"",b&&b.appendChild(_),_}function Gn(a){var h=a.parentNode;h&&h.removeChild(a)}function Ur(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function zi(a){var h=a.parentNode;h&&h.lastChild!==a&&h.appendChild(a)}function Li(a){var h=a.parentNode;h&&h.firstChild!==a&&h.insertBefore(a,h.firstChild)}function mo(a,h){if(a.classList!==void 0)return a.classList.contains(h);var b=kr(a);return b.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(b)}function nn(a,h){if(a.classList!==void 0)for(var b=C(h),_=0,N=b.length;_<N;_++)a.classList.add(b[_]);else if(!mo(a,h)){var Z=kr(a);go(a,(Z?Z+" ":"")+h)}}function Un(a,h){a.classList!==void 0?a.classList.remove(h):go(a,E((" "+kr(a)+" ").replace(" "+h+" "," ")))}function go(a,h){a.className.baseVal===void 0?a.className=h:a.className.baseVal=h}function kr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Hr(a,h){"opacity"in a.style?a.style.opacity=h:"filter"in a.style&&Oc(a,h)}function Oc(a,h){var b=!1,_="DXImageTransform.Microsoft.Alpha";try{b=a.filters.item(_)}catch{if(h===1)return}h=Math.round(h*100),b?(b.Enabled=h!==100,b.Opacity=h):a.style.filter+=" progid:"+_+"(opacity="+h+")"}function Oi(a){for(var h=document.documentElement.style,b=0;b<a.length;b++)if(a[b]in h)return a[b];return!1}function ys(a,h,b){var _=h||new H(0,0);a.style[Ni]=(ct.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(b?" scale("+b+")":"")}function Vt(a,h){a._leaflet_pos=h,ct.any3d?ys(a,h):(a.style.left=h.x+"px",a.style.top=h.y+"px")}function wr(a){return a._leaflet_pos||new H(0,0)}var Nr,xo,fa;if("onselectstart"in document)Nr=function(){Gt(window,"selectstart",gr)},xo=function(){En(window,"selectstart",gr)};else{var Bi=Oi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nr=function(){if(Bi){var a=document.documentElement.style;fa=a[Bi],a[Bi]="none"}},xo=function(){Bi&&(document.documentElement.style[Bi]=fa,fa=void 0)}}function ni(){Gt(window,"dragstart",gr)}function pa(){En(window,"dragstart",gr)}var $i,vo;function cs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(bs(),$i=a,vo=a.style.outlineStyle,a.style.outlineStyle="none",Gt(window,"keydown",bs))}function bs(){$i&&($i.style.outlineStyle=vo,$i=void 0,vo=void 0,En(window,"keydown",bs))}function js(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Hs(a){var h=a.getBoundingClientRect();return{x:h.width/a.offsetWidth||1,y:h.height/a.offsetHeight||1,boundingClientRect:h}}var ma={__proto__:null,TRANSFORM:Ni,TRANSITION:fo,TRANSITION_END:yi,get:po,getStyle:Ii,create:bn,remove:Gn,empty:Ur,toFront:zi,toBack:Li,hasClass:mo,addClass:nn,removeClass:Un,setClass:go,getClass:kr,setOpacity:Hr,testProp:Oi,setTransform:ys,setPosition:Vt,getPosition:wr,get disableTextSelection(){return Nr},get enableTextSelection(){return xo},disableImageDrag:ni,enableImageDrag:pa,preventOutline:cs,restoreOutline:bs,getSizedParentNode:js,getScale:Hs};function Gt(a,h,b,_){if(h&&typeof h=="object")for(var N in h)yo(a,N,h[N],b);else{h=C(h);for(var Z=0,fe=h.length;Z<fe;Z++)yo(a,h[Z],b,_)}return this}var Ir="_leaflet_events";function En(a,h,b,_){if(arguments.length===1)zr(a),delete a[Ir];else if(h&&typeof h=="object")for(var N in h)Rs(a,N,h[N],b);else if(h=C(h),arguments.length===2)zr(a,function(ke){return P(h,ke)!==-1});else for(var Z=0,fe=h.length;Z<fe;Z++)Rs(a,h[Z],b,_);return this}function zr(a,h){for(var b in a[Ir]){var _=b.split(/\d/)[0];(!h||h(_))&&Rs(a,_,null,null,b)}}var ri={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yo(a,h,b,_){var N=h+p(b)+(_?"_"+p(_):"");if(a[Ir]&&a[Ir][N])return this;var Z=function(ke){return b.call(_||a,ke||window.event)},fe=Z;!ct.touchNative&&ct.pointer&&h.indexOf("touch")===0?Z=Cr(a,h,Z):ct.touch&&h==="dblclick"?Z=Vo(a,Z):"addEventListener"in a?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?a.addEventListener(ri[h]||h,Z,ct.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(Z=function(ke){ke=ke||window.event,pt(a,ke)&&fe(ke)},a.addEventListener(ri[h],Z,!1)):a.addEventListener(h,fe,!1):a.attachEvent("on"+h,Z),a[Ir]=a[Ir]||{},a[Ir][N]=Z}function Rs(a,h,b,_,N){N=N||h+p(b)+(_?"_"+p(_):"");var Z=a[Ir]&&a[Ir][N];if(!Z)return this;!ct.touchNative&&ct.pointer&&h.indexOf("touch")===0?da(a,h,Z):ct.touch&&h==="dblclick"?Us(a,Z):"removeEventListener"in a?a.removeEventListener(ri[h]||h,Z,!1):a.detachEvent("on"+h,Z),a[Ir][N]=null}function ks(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Fi(a){return yo(a,"wheel",ks),this}function Vi(a){return Gt(a,"mousedown touchstart dblclick contextmenu",ks),a._leaflet_disable_click=!0,this}function gr(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ms(a){return gr(a),ks(a),this}function ga(a){if(a.composedPath)return a.composedPath();for(var h=[],b=a.target;b;)h.push(b),b=b.parentNode;return h}function Q(a,h){if(!h)return new H(a.clientX,a.clientY);var b=Hs(h),_=b.boundingClientRect;return new H((a.clientX-_.left)/b.x-h.clientLeft,(a.clientY-_.top)/b.y-h.clientTop)}var xe=ct.linux&&ct.chrome?window.devicePixelRatio:ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Oe(a){return ct.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/xe:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function pt(a,h){var b=h.relatedTarget;if(!b)return!0;try{for(;b&&b!==a;)b=b.parentNode}catch{return!1}return b!==a}var gn={__proto__:null,on:Gt,off:En,stopPropagation:ks,disableScrollPropagation:Fi,disableClickPropagation:Vi,preventDefault:gr,stop:Ms,getPropagationPath:ga,getMousePosition:Q,getWheelDelta:Oe,isExternalTarget:pt,addListener:Gt,removeListener:En},Tn=W.extend({run:function(a,h,b,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=wr(a),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=se(this._animate,this),this._step()},_step:function(a){var h=+new Date-this._startTime,b=this._duration*1e3;h<b?this._runFrame(this._easeOut(h/b),a):(this._runFrame(1),this._complete())},_runFrame:function(a,h){var b=this._startPos.add(this._offset.multiplyBy(a));h&&b._round(),Vt(this._el,b),this.fire("step")},_complete:function(){ge(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),St=W.extend({options:{crs:zt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,h){h=T(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Y(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fo&&ct.any3d&&!ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Gt(this._proxy,yi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,h,b){if(h=h===void 0?this._zoom:this._limitZoom(h),a=this._limitCenter(Y(a),h,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=l({animate:b.animate},b.zoom),b.pan=l({animate:b.animate,duration:b.duration},b.pan));var _=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,h,b.zoom):this._tryAnimatedPan(a,b.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,h,b.pan&&b.pan.noMoveStart),this},setZoom:function(a,h){return this._loaded?this.setView(this.getCenter(),a,{zoom:h}):(this._zoom=a,this)},zoomIn:function(a,h){return a=a||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,h)},zoomOut:function(a,h){return a=a||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,h)},setZoomAround:function(a,h,b){var _=this.getZoomScale(h),N=this.getSize().divideBy(2),Z=a instanceof H?a:this.latLngToContainerPoint(a),fe=Z.subtract(N).multiplyBy(1-1/_),ke=this.containerPointToLatLng(N.add(fe));return this.setView(ke,h,{zoom:b})},_getBoundsCenterZoom:function(a,h){h=h||{},a=a.getBounds?a.getBounds():F(a);var b=B(h.paddingTopLeft||h.padding||[0,0]),_=B(h.paddingBottomRight||h.padding||[0,0]),N=this.getBoundsZoom(a,!1,b.add(_));if(N=typeof h.maxZoom=="number"?Math.min(h.maxZoom,N):N,N===1/0)return{center:a.getCenter(),zoom:N};var Z=_.subtract(b).divideBy(2),fe=this.project(a.getSouthWest(),N),ke=this.project(a.getNorthEast(),N),Fe=this.unproject(fe.add(ke).divideBy(2).add(Z),N);return{center:Fe,zoom:N}},fitBounds:function(a,h){if(a=F(a),!a.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(a,h);return this.setView(b.center,b.zoom,h)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,h){return this.setView(a,this._zoom,{pan:h})},panBy:function(a,h){if(a=B(a).round(),h=h||{},!a.x&&!a.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){nn(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,b,h.duration||.25,h.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,h,b){if(b=b||{},b.animate===!1||!ct.any3d)return this.setView(a,h,b);this._stop();var _=this.project(this.getCenter()),N=this.project(a),Z=this.getSize(),fe=this._zoom;a=Y(a),h=h===void 0?fe:h;var ke=Math.max(Z.x,Z.y),Fe=ke*this.getZoomScale(fe,h),Qe=N.distanceTo(_)||1,mt=1.42,Et=mt*mt;function Lt(_r){var Co=_r?-1:1,Yo=_r?Fe:ke,ba=Fe*Fe-ke*ke+Co*Et*Et*Qe*Qe,Ko=2*Yo*Et*Qe,tu=ba/Ko,od=Math.sqrt(tu*tu+1)-tu,nu=od<1e-9?-18:Math.log(od);return nu}function sn(_r){return(Math.exp(_r)-Math.exp(-_r))/2}function xr(_r){return(Math.exp(_r)+Math.exp(-_r))/2}function Mr(_r){return sn(_r)/xr(_r)}var Es=Lt(0);function ji(_r){return ke*(xr(Es)/xr(Es+mt*_r))}function dm(_r){return ke*(xr(Es)*Mr(Es+mt*_r)-sn(Es))/Et}function hm(_r){return 1-Math.pow(1-_r,1.5)}var eu=Date.now(),ql=(Lt(1)-Es)/mt,fm=b.duration?1e3*b.duration:1e3*ql*.8;function Gl(){var _r=(Date.now()-eu)/fm,Co=hm(_r)*ql;_r<=1?(this._flyToFrame=se(Gl,this),this._move(this.unproject(_.add(N.subtract(_).multiplyBy(dm(Co)/Qe)),fe),this.getScaleZoom(ke/ji(Co),fe),{flyTo:!0})):this._move(a,h)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Gl.call(this),this},flyToBounds:function(a,h){var b=this._getBoundsCenterZoom(a,h);return this.flyTo(b.center,b.zoom,h)},setMaxBounds:function(a){return a=F(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var h=this.options.minZoom;return this.options.minZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var h=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,h){this._enforcingBounds=!0;var b=this.getCenter(),_=this._limitCenter(b,this._zoom,F(a));return b.equals(_)||this.panTo(_,h),this._enforcingBounds=!1,this},panInside:function(a,h){h=h||{};var b=B(h.paddingTopLeft||h.padding||[0,0]),_=B(h.paddingBottomRight||h.padding||[0,0]),N=this.project(this.getCenter()),Z=this.project(a),fe=this.getPixelBounds(),ke=me([fe.min.add(b),fe.max.subtract(_)]),Fe=ke.getSize();if(!ke.contains(Z)){this._enforcingBounds=!0;var Qe=Z.subtract(ke.getCenter()),mt=ke.extend(Z).getSize().subtract(Fe);N.x+=Qe.x<0?-mt.x:mt.x,N.y+=Qe.y<0?-mt.y:mt.y,this.panTo(this.unproject(N),h),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),_=h.divideBy(2).round(),N=b.divideBy(2).round(),Z=_.subtract(N);return!Z.x&&!Z.y?this:(a.animate&&a.pan?this.panBy(Z):(a.pan&&this._rawPanBy(Z),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=d(this._handleGeolocationResponse,this),b=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,b,a):navigator.geolocation.getCurrentPosition(h,b,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var h=a.code,b=a.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,b=a.coords.longitude,_=new U(h,b),N=_.toBounds(a.coords.accuracy*2),Z=this._locateOptions;if(Z.setView){var fe=this.getBoundsZoom(N);this.setView(_,Z.maxZoom?Math.min(fe,Z.maxZoom):fe)}var ke={latlng:_,bounds:N,timestamp:a.timestamp};for(var Fe in a.coords)typeof a.coords[Fe]=="number"&&(ke[Fe]=a.coords[Fe]);this.fire("locationfound",ke)}},addHandler:function(a,h){if(!h)return this;var b=this[a]=new h(this);return this._handlers.push(b),this.options[a]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ge(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Gn(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,h){var b="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=bn("div",b,h||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),h=this.unproject(a.getBottomLeft()),b=this.unproject(a.getTopRight());return new $(h,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,h,b){a=F(a),b=B(b||[0,0]);var _=this.getZoom()||0,N=this.getMinZoom(),Z=this.getMaxZoom(),fe=a.getNorthWest(),ke=a.getSouthEast(),Fe=this.getSize().subtract(b),Qe=me(this.project(ke,_),this.project(fe,_)).getSize(),mt=ct.any3d?this.options.zoomSnap:1,Et=Fe.x/Qe.x,Lt=Fe.y/Qe.y,sn=h?Math.max(Et,Lt):Math.min(Et,Lt);return _=this.getScaleZoom(sn,_),mt&&(_=Math.round(_/(mt/100))*(mt/100),_=h?Math.ceil(_/mt)*mt:Math.floor(_/mt)*mt),Math.max(N,Math.min(Z,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,h){var b=this._getTopLeftPoint(a,h);return new ae(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,h){var b=this.options.crs;return h=h===void 0?this._zoom:h,b.scale(a)/b.scale(h)},getScaleZoom:function(a,h){var b=this.options.crs;h=h===void 0?this._zoom:h;var _=b.zoom(a*b.scale(h));return isNaN(_)?1/0:_},project:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Y(a),h)},unproject:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(B(a),h)},layerPointToLatLng:function(a){var h=B(a).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(a){var h=this.project(Y(a))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Y(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(F(a))},distance:function(a,h){return this.options.crs.distance(Y(a),Y(h))},containerPointToLayerPoint:function(a){return B(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return B(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var h=this.containerPointToLayerPoint(B(a));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(a)))},mouseEventToContainerPoint:function(a){return Q(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var h=this._container=po(a);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Gt(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&ct.any3d,nn(a,"leaflet-container"+(ct.touch?" leaflet-touch":"")+(ct.retina?" leaflet-retina":"")+(ct.ielt9?" leaflet-oldie":"")+(ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Ii(a,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nn(a.markerPane,"leaflet-zoom-hide"),nn(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,h,b){Vt(this._mapPane,new H(0,0));var _=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var N=this._zoom!==h;this._moveStart(N,b)._move(a,h)._moveEnd(N),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,h){return a&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(a,h,b,_){h===void 0&&(h=this._zoom);var N=this._zoom!==h;return this._zoom=h,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?b&&b.pinch&&this.fire("zoom",b):((N||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ge(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Vt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[p(this._container)]=this;var h=a?En:Gt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),ct.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ge(this._resizeRequest),this._resizeRequest=se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,h){for(var b=[],_,N=h==="mouseout"||h==="mouseover",Z=a.target||a.srcElement,fe=!1;Z;){if(_=this._targets[p(Z)],_&&(h==="click"||h==="preclick")&&this._draggableMoved(_)){fe=!0;break}if(_&&_.listens(h,!0)&&(N&&!pt(Z,a)||(b.push(_),N))||Z===this._container)break;Z=Z.parentNode}return!b.length&&!fe&&!N&&this.listens(h,!0)&&(b=[this]),b},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var h=a.target||a.srcElement;if(!(!this._loaded||h._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(h))){var b=a.type;b==="mousedown"&&cs(h),this._fireDOMEvent(a,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,h,b){if(a.type==="click"){var _=l({},a);_.type="preclick",this._fireDOMEvent(_,_.type,b)}var N=this._findEventTargets(a,h);if(b){for(var Z=[],fe=0;fe<b.length;fe++)b[fe].listens(h,!0)&&Z.push(b[fe]);N=Z.concat(N)}if(N.length){h==="contextmenu"&&gr(a);var ke=N[0],Fe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Qe=ke.getLatLng&&(!ke._radius||ke._radius<=10);Fe.containerPoint=Qe?this.latLngToContainerPoint(ke.getLatLng()):this.mouseEventToContainerPoint(a),Fe.layerPoint=this.containerPointToLayerPoint(Fe.containerPoint),Fe.latlng=Qe?ke.getLatLng():this.layerPointToLatLng(Fe.layerPoint)}for(fe=0;fe<N.length;fe++)if(N[fe].fire(h,Fe,!0),Fe.originalEvent._stopped||N[fe].options.bubblingMouseEvents===!1&&P(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,h=this._handlers.length;a<h;a++)this._handlers[a].disable()},whenReady:function(a,h){return this._loaded?a.call(h||this,{target:this}):this.on("load",a,h),this},_getMapPanePos:function(){return wr(this._mapPane)||new H(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,h){var b=a&&h!==void 0?this._getNewPixelOrigin(a,h):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,h){var b=this.getSize()._divideBy(2);return this.project(a,h)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,h,b){var _=this._getNewPixelOrigin(b,h);return this.project(a,h)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,h,b){var _=this._getNewPixelOrigin(b,h);return me([this.project(a.getSouthWest(),h)._subtract(_),this.project(a.getNorthWest(),h)._subtract(_),this.project(a.getSouthEast(),h)._subtract(_),this.project(a.getNorthEast(),h)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,h,b){if(!b)return a;var _=this.project(a,h),N=this.getSize().divideBy(2),Z=new ae(_.subtract(N),_.add(N)),fe=this._getBoundsOffset(Z,b,h);return Math.abs(fe.x)<=1&&Math.abs(fe.y)<=1?a:this.unproject(_.add(fe),h)},_limitOffset:function(a,h){if(!h)return a;var b=this.getPixelBounds(),_=new ae(b.min.add(a),b.max.add(a));return a.add(this._getBoundsOffset(_,h))},_getBoundsOffset:function(a,h,b){var _=me(this.project(h.getNorthEast(),b),this.project(h.getSouthWest(),b)),N=_.min.subtract(a.min),Z=_.max.subtract(a.max),fe=this._rebound(N.x,-Z.x),ke=this._rebound(N.y,-Z.y);return new H(fe,ke)},_rebound:function(a,h){return a+h>0?Math.round(a-h)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(h))},_limitZoom:function(a){var h=this.getMinZoom(),b=this.getMaxZoom(),_=ct.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(h,Math.min(b,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Un(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,h){var b=this._getCenterOffset(a)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,h),!0)},_createAnimProxy:function(){var a=this._proxy=bn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(h){var b=Ni,_=this._proxy.style[b];ys(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),_===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),h=this.getZoom();ys(this._proxy,this.project(a,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,h,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(h),N=this._getCenterOffset(a)._divideBy(1-1/_);return b.animate!==!0&&!this.getSize().contains(N)?!1:(se(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(a,h,!0)},this),!0)},_animateZoom:function(a,h,b,_){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=h,nn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:h,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Un(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fn(a,h){return new St(a,h)}var pn=de.extend({options:{position:"topright"},initialize:function(a){T(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var h=this._map;return h&&h.removeControl(this),this.options.position=a,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var h=this._container=this.onAdd(a),b=this.getPosition(),_=a._controlCorners[b];return nn(h,"leaflet-control"),b.indexOf("bottom")!==-1?_.insertBefore(h,_.firstChild):_.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Lr=function(a){return new pn(a)};St.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},h="leaflet-",b=this._controlContainer=bn("div",h+"control-container",this._container);function _(N,Z){var fe=h+N+" "+h+Z;a[N+Z]=bn("div",fe,b)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Gn(this._controlCorners[a]);Gn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var es=pn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,h,b,_){return b<_?-1:_<b?1:0}},initialize:function(a,h,b){T(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in h)this._addLayer(h[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return pn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,h){return this._addLayer(a,h),this._map?this._update():this},addOverlay:function(a,h){return this._addLayer(a,h,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(a));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){nn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(nn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Un(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Un(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",h=this._container=bn("div",a),b=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Vi(h),Fi(h);var _=this._section=bn("section",a+"-list");b&&(this._map.on("click",this.collapse,this),Gt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=bn("a",a+"-toggle",h);N.href="#",N.title="Layers",N.setAttribute("role","button"),Gt(N,{keydown:function(Z){Z.keyCode===13&&this._expandSafely()},click:function(Z){gr(Z),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=bn("div",a+"-base",_),this._separator=bn("div",a+"-separator",_),this._overlaysList=bn("div",a+"-overlays",_),h.appendChild(_)},_getLayer:function(a){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===a)return this._layers[h]},_addLayer:function(a,h,b){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:h,overlay:b}),this.options.sortLayers&&this._layers.sort(d(function(_,N){return this.options.sortFunction(_.layer,N.layer,_.name,N.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ur(this._baseLayersList),Ur(this._overlaysList),this._layerControlInputs=[];var a,h,b,_,N=0;for(b=0;b<this._layers.length;b++)_=this._layers[b],this._addItem(_),h=h||_.overlay,a=a||!_.overlay,N+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&N>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=h&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var h=this._getLayer(p(a.target)),b=h.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;b&&this._map.fire(b,h)},_createRadioElement:function(a,h){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(h?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=b,_.firstChild},_addItem:function(a){var h=document.createElement("label"),b=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=b):_=this._createRadioElement("leaflet-base-layers_"+p(this),b),this._layerControlInputs.push(_),_.layerId=p(a.layer),Gt(_,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+a.name;var Z=document.createElement("span");h.appendChild(Z),Z.appendChild(_),Z.appendChild(N);var fe=a.overlay?this._overlaysList:this._baseLayersList;return fe.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,h,b,_=[],N=[];this._handlingClick=!0;for(var Z=a.length-1;Z>=0;Z--)h=a[Z],b=this._getLayer(h.layerId).layer,h.checked?_.push(b):h.checked||N.push(b);for(Z=0;Z<N.length;Z++)this._map.hasLayer(N[Z])&&this._map.removeLayer(N[Z]);for(Z=0;Z<_.length;Z++)this._map.hasLayer(_[Z])||this._map.addLayer(_[Z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,h,b,_=this._map.getZoom(),N=a.length-1;N>=0;N--)h=a[N],b=this._getLayer(h.layerId).layer,h.disabled=b.options.minZoom!==void 0&&_<b.options.minZoom||b.options.maxZoom!==void 0&&_>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Gt(a,"click",gr),this.expand();var h=this;setTimeout(function(){En(a,"click",gr),h._preventClick=!1})}}),Uo=function(a,h,b){return new es(a,h,b)},Ho=pn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var h="leaflet-control-zoom",b=bn("div",h+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,h+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,h+"-out",b,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,h,b,_,N){var Z=bn("a",b,_);return Z.innerHTML=a,Z.href="#",Z.title=h,Z.setAttribute("role","button"),Z.setAttribute("aria-label",h),Vi(Z),Gt(Z,"click",Ms),Gt(Z,"click",N,this),Gt(Z,"click",this._refocusOnMap,this),Z},_updateDisabled:function(){var a=this._map,h="leaflet-disabled";Un(this._zoomInButton,h),Un(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(nn(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(nn(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});St.mergeOptions({zoomControl:!0}),St.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ho,this.addControl(this.zoomControl))});var Wo=function(a){return new Ho(a)},Ka=pn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var h="leaflet-control-scale",b=bn("div",h),_=this.options;return this._addScales(_,h+"-line",b),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,h,b){a.metric&&(this._mScale=bn("div",h,b)),a.imperial&&(this._iScale=bn("div",h,b))},_update:function(){var a=this._map,h=a.getSize().y/2,b=a.distance(a.containerPointToLatLng([0,h]),a.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(b)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a),b=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,b,h/a)},_updateImperial:function(a){var h=a*3.2808399,b,_,N;h>5280?(b=h/5280,_=this._getRoundNum(b),this._updateScale(this._iScale,_+" mi",_/b)):(N=this._getRoundNum(h),this._updateScale(this._iScale,N+" ft",N/h))},_updateScale:function(a,h,b){a.style.width=Math.round(this.options.maxWidth*b)+"px",a.innerHTML=h},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1),b=a/h;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,h*b}}),Th=function(a){return new Ka(a)},Ah='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bc=pn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ct.inlineSvg?Ah+" ":"")+"Leaflet</a>"},initialize:function(a){T(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=bn("div","leaflet-control-attribution"),Vi(this._container);for(var h in a._layers)a._layers[h].getAttribution&&this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var h in this._attributions)this._attributions[h]&&a.push(h);var b=[];this.options.prefix&&b.push(this.options.prefix),a.length&&b.push(a.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});St.mergeOptions({attributionControl:!0}),St.addInitHook(function(){this.options.attributionControl&&new Bc().addTo(this)});var Rh=function(a){return new Bc(a)};pn.Layers=es,pn.Zoom=Ho,pn.Scale=Ka,pn.Attribution=Bc,Lr.layers=Uo,Lr.zoom=Wo,Lr.scale=Th,Lr.attribution=Rh;var si=de.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});si.addTo=function(a,h){return a.addHandler(h,this),this};var bi={Events:K},Zu=ct.touch?"touchstart mousedown":"mousedown",bo=W.extend({options:{clickTolerance:3},initialize:function(a,h,b,_){T(this,_),this._element=a,this._dragStartTarget=h||a,this._preventOutline=b},enable:function(){this._enabled||(Gt(this._dragStartTarget,Zu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bo._dragging===this&&this.finishDrag(!0),En(this._dragStartTarget,Zu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!mo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){bo._dragging===this&&this.finishDrag();return}if(!(bo._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(bo._dragging=this,this._preventOutline&&cs(this._element),ni(),Nr(),!this._moving)){this.fire("down");var h=a.touches?a.touches[0]:a,b=js(this._element);this._startPoint=new H(h.clientX,h.clientY),this._startPos=wr(this._element),this._parentScale=Hs(b);var _=a.type==="mousedown";Gt(document,_?"mousemove":"touchmove",this._onMove,this),Gt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var h=a.touches&&a.touches.length===1?a.touches[0]:a,b=new H(h.clientX,h.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,gr(a),this._moved||(this.fire("dragstart"),this._moved=!0,nn(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Vt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Un(document.body,"leaflet-dragging"),this._lastTarget&&(Un(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),En(document,"mousemove touchmove",this._onMove,this),En(document,"mouseup touchend touchcancel",this._onUp,this),pa(),xo();var h=this._moved&&this._moving;this._moving=!1,bo._dragging=!1,h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function $c(a,h,b){var _,N=[1,4,2,8],Z,fe,ke,Fe,Qe,mt,Et,Lt;for(Z=0,mt=a.length;Z<mt;Z++)a[Z]._code=I(a[Z],h);for(ke=0;ke<4;ke++){for(Et=N[ke],_=[],Z=0,mt=a.length,fe=mt-1;Z<mt;fe=Z++)Fe=a[Z],Qe=a[fe],Fe._code&Et?Qe._code&Et||(Lt=zl(Qe,Fe,Et,h,b),Lt._code=I(Lt,h),_.push(Lt)):(Qe._code&Et&&(Lt=zl(Qe,Fe,Et,h,b),Lt._code=I(Lt,h),_.push(Lt)),_.push(Fe));a=_}return a}function Xa(a,h){var b,_,N,Z,fe,ke,Fe,Qe,mt;if(!a||a.length===0)throw new Error("latlngs not passed");ft(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Et=Y([0,0]),Lt=F(a),sn=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());sn<1700&&(Et=Fc(a));var xr=a.length,Mr=[];for(b=0;b<xr;b++){var Es=Y(a[b]);Mr.push(h.project(Y([Es.lat-Et.lat,Es.lng-Et.lng])))}for(ke=Fe=Qe=0,b=0,_=xr-1;b<xr;_=b++)N=Mr[b],Z=Mr[_],fe=N.y*Z.x-Z.y*N.x,Fe+=(N.x+Z.x)*fe,Qe+=(N.y+Z.y)*fe,ke+=fe*3;ke===0?mt=Mr[0]:mt=[Fe/ke,Qe/ke];var ji=h.unproject(B(mt));return Y([ji.lat+Et.lat,ji.lng+Et.lng])}function Fc(a){for(var h=0,b=0,_=0,N=0;N<a.length;N++){var Z=Y(a[N]);h+=Z.lat,b+=Z.lng,_++}return Y([h/_,b/_])}var Yu={__proto__:null,clipPolygon:$c,polygonCenter:Xa,centroid:Fc};function Ku(a,h){if(!h||!a.length)return a.slice();var b=h*h;return a=Ph(a,b),a=Mh(a,b),a}function jo(a,h,b){return Math.sqrt(Je(a,h,b,!0))}function kh(a,h,b){return Je(a,h,b)}function Mh(a,h){var b=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,N=new _(b);N[0]=N[b-1]=1,Vc(a,N,h,0,b-1);var Z,fe=[];for(Z=0;Z<b;Z++)N[Z]&&fe.push(a[Z]);return fe}function Vc(a,h,b,_,N){var Z=0,fe,ke,Fe;for(ke=_+1;ke<=N-1;ke++)Fe=Je(a[ke],a[_],a[N],!0),Fe>Z&&(fe=ke,Z=Fe);Z>b&&(h[fe]=1,Vc(a,h,b,_,fe),Vc(a,h,b,fe,N))}function Ph(a,h){for(var b=[a[0]],_=1,N=0,Z=a.length;_<Z;_++)ne(a[_],a[N])>h&&(b.push(a[_]),N=_);return N<Z-1&&b.push(a[Z-1]),b}var Il;function Xu(a,h,b,_,N){var Z=_?Il:I(a,b),fe=I(h,b),ke,Fe,Qe;for(Il=fe;;){if(!(Z|fe))return[a,h];if(Z&fe)return!1;ke=Z||fe,Fe=zl(a,h,ke,b,N),Qe=I(Fe,b),ke===Z?(a=Fe,Z=Qe):(h=Fe,fe=Qe)}}function zl(a,h,b,_,N){var Z=h.x-a.x,fe=h.y-a.y,ke=_.min,Fe=_.max,Qe,mt;return b&8?(Qe=a.x+Z*(Fe.y-a.y)/fe,mt=Fe.y):b&4?(Qe=a.x+Z*(ke.y-a.y)/fe,mt=ke.y):b&2?(Qe=Fe.x,mt=a.y+fe*(Fe.x-a.x)/Z):b&1&&(Qe=ke.x,mt=a.y+fe*(ke.x-a.x)/Z),new H(Qe,mt,N)}function I(a,h){var b=0;return a.x<h.min.x?b|=1:a.x>h.max.x&&(b|=2),a.y<h.min.y?b|=4:a.y>h.max.y&&(b|=8),b}function ne(a,h){var b=h.x-a.x,_=h.y-a.y;return b*b+_*_}function Je(a,h,b,_){var N=h.x,Z=h.y,fe=b.x-N,ke=b.y-Z,Fe=fe*fe+ke*ke,Qe;return Fe>0&&(Qe=((a.x-N)*fe+(a.y-Z)*ke)/Fe,Qe>1?(N=b.x,Z=b.y):Qe>0&&(N+=fe*Qe,Z+=ke*Qe)),fe=a.x-N,ke=a.y-Z,_?fe*fe+ke*ke:new H(N,Z)}function ft(a){return!R(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Nn(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ft(a)}function rn(a,h){var b,_,N,Z,fe,ke,Fe,Qe;if(!a||a.length===0)throw new Error("latlngs not passed");ft(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var mt=Y([0,0]),Et=F(a),Lt=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Lt<1700&&(mt=Fc(a));var sn=a.length,xr=[];for(b=0;b<sn;b++){var Mr=Y(a[b]);xr.push(h.project(Y([Mr.lat-mt.lat,Mr.lng-mt.lng])))}for(b=0,_=0;b<sn-1;b++)_+=xr[b].distanceTo(xr[b+1])/2;if(_===0)Qe=xr[0];else for(b=0,Z=0;b<sn-1;b++)if(fe=xr[b],ke=xr[b+1],N=fe.distanceTo(ke),Z+=N,Z>_){Fe=(Z-_)/N,Qe=[ke.x-Fe*(ke.x-fe.x),ke.y-Fe*(ke.y-fe.y)];break}var Es=h.unproject(B(Qe));return Y([Es.lat+mt.lat,Es.lng+mt.lng])}var rr={__proto__:null,simplify:Ku,pointToSegmentDistance:jo,closestPointOnSegment:kh,clipSegment:Xu,_getEdgeIntersection:zl,_getBitCode:I,_sqClosestPointOnSegment:Je,isFlat:ft,_flat:Nn,polylineCenter:rn},Ws={project:function(a){return new H(a.lng,a.lat)},unproject:function(a){return new U(a.y,a.x)},bounds:new ae([-180,-90],[180,90])},Wr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ae([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var h=Math.PI/180,b=this.R,_=a.lat*h,N=this.R_MINOR/b,Z=Math.sqrt(1-N*N),fe=Z*Math.sin(_),ke=Math.tan(Math.PI/4-_/2)/Math.pow((1-fe)/(1+fe),Z/2);return _=-b*Math.log(Math.max(ke,1e-10)),new H(a.lng*h*b,_)},unproject:function(a){for(var h=180/Math.PI,b=this.R,_=this.R_MINOR/b,N=Math.sqrt(1-_*_),Z=Math.exp(-a.y/b),fe=Math.PI/2-2*Math.atan(Z),ke=0,Fe=.1,Qe;ke<15&&Math.abs(Fe)>1e-7;ke++)Qe=N*Math.sin(fe),Qe=Math.pow((1-Qe)/(1+Qe),N/2),Fe=Math.PI/2-2*Math.atan(Z*Qe)-fe,fe+=Fe;return new U(fe*h,a.x*h/b)}},Ui={__proto__:null,LonLat:Ws,Mercator:Wr,SphericalMercator:nt},In=l({},Te,{code:"EPSG:3395",projection:Wr,transformation:(function(){var a=.5/(Math.PI*Wr.R);return rt(a,.5,-a,.5)})()}),Or=l({},Te,{code:"EPSG:4326",projection:Ws,transformation:rt(1/180,1,-1/180,.5)}),Uc=l({},be,{projection:Ws,transformation:rt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,h){var b=h.lng-a.lng,_=h.lat-a.lat;return Math.sqrt(b*b+_*_)},infinite:!0});be.Earth=Te,be.EPSG3395=In,be.EPSG3857=zt,be.EPSG900913=Ue,be.EPSG4326=Or,be.Simple=Uc;var Ss=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[p(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[p(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h=a.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var b=this.getEvents();h.on(b,this),this.once("remove",function(){h.off(b,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});St.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(a);return this._layers[h]?this:(this._layers[h]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var h=p(a);return this._layers[h]?(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return p(a)in this._layers},eachLayer:function(a,h){for(var b in this._layers)a.call(h,this._layers[b]);return this},_addLayers:function(a){a=a?R(a)?a:[a]:[];for(var h=0,b=a.length;h<b;h++)this.addLayer(a[h])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[p(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var h=p(a);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,h=-1/0,b=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var N=this._zoomBoundLayers[_].options;a=N.minZoom===void 0?a:Math.min(a,N.minZoom),h=N.maxZoom===void 0?h:Math.max(h,N.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=a===1/0?void 0:a,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qo=Ss.extend({initialize:function(a,h){T(this,h),this._layers={};var b,_;if(a)for(b=0,_=a.length;b<_;b++)this.addLayer(a[b])},addLayer:function(a){var h=this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var h=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(a){var h=typeof a=="number"?a:this.getLayerId(a);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h=Array.prototype.slice.call(arguments,1),b,_;for(b in this._layers)_=this._layers[b],_[a]&&_[a].apply(_,h);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,h){for(var b in this._layers)a.call(h,this._layers[b]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return p(a)}}),sm=function(a,h){return new qo(a,h)},ii=qo.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),qo.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),qo.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new $;for(var h in this._layers){var b=this._layers[h];a.extend(b.getBounds?b.getBounds():b.getLatLng())}return a}}),Hc=function(a,h){return new ii(a,h)},Ll=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){T(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,h){var b=this._getIconUrl(a);if(!b){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(b,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,h){var b=this.options,_=b[h+"Size"];typeof _=="number"&&(_=[_,_]);var N=B(_),Z=B(h==="shadow"&&b.shadowAnchor||b.iconAnchor||N&&N.divideBy(2,!0));a.className="leaflet-marker-"+h+" "+(b.className||""),Z&&(a.style.marginLeft=-Z.x+"px",a.style.marginTop=-Z.y+"px"),N&&(a.style.width=N.x+"px",a.style.height=N.y+"px")},_createImg:function(a,h){return h=h||document.createElement("img"),h.src=a,h},_getIconUrl:function(a){return ct.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Qu(a){return new Ll(a)}var Ol=Ll.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ol.imagePath!="string"&&(Ol.imagePath=this._detectIconPath()),(this.options.imagePath||Ol.imagePath)+Ll.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=function(b,_,N){var Z=_.exec(b);return Z&&Z[N]};return a=h(a,/^url\((['"])?(.+)\1\)$/,2),a&&h(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=bn("div","leaflet-default-icon-path",document.body),h=Ii(a,"background-image")||Ii(a,"backgroundImage");if(document.body.removeChild(a),h=this._stripUrl(h),h)return h;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Dh=si.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new bo(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nn(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Un(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var h=this._marker,b=h._map,_=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,Z=wr(h._icon),fe=b.getPixelBounds(),ke=b.getPixelOrigin(),Fe=me(fe.min._subtract(ke).add(N),fe.max._subtract(ke).subtract(N));if(!Fe.contains(Z)){var Qe=B((Math.max(Fe.max.x,Z.x)-Fe.max.x)/(fe.max.x-Fe.max.x)-(Math.min(Fe.min.x,Z.x)-Fe.min.x)/(fe.min.x-Fe.min.x),(Math.max(Fe.max.y,Z.y)-Fe.max.y)/(fe.max.y-Fe.max.y)-(Math.min(Fe.min.y,Z.y)-Fe.min.y)/(fe.min.y-Fe.min.y)).multiplyBy(_);b.panBy(Qe,{animate:!1}),this._draggable._newPos._add(Qe),this._draggable._startPos._add(Qe),Vt(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=se(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(ge(this._panRequest),this._panRequest=se(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,b=h._shadow,_=wr(h._icon),N=h._map.layerPointToLatLng(_);b&&Vt(b,_),h._latlng=N,a.latlng=N,a.oldLatLng=this._oldLatLng,h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){ge(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Bl=Ss.extend({options:{icon:new Ol,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,h){T(this,h),this._latlng=Y(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=Y(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=a.icon.createIcon(this._icon),_=!1;b!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(b.title=a.title),b.tagName==="IMG"&&(b.alt=a.alt||"")),nn(b,h),a.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Gt(b,"focus",this._panOnFocus,this);var N=a.icon.createShadow(this._shadow),Z=!1;N!==this._shadow&&(this._removeShadow(),Z=!0),N&&(nn(N,h),N.alt=""),this._shadow=N,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&Z&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&En(this._icon,"focus",this._panOnFocus,this),Gn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gn(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Vt(this._icon,a),this._shadow&&Vt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(nn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Dh)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Dh(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Hr(this._icon,a),this._shadow&&Hr(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var h=this.options.icon.options,b=h.iconSize?B(h.iconSize):B(0,0),_=h.iconAnchor?B(h.iconAnchor):B(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:b.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nh(a,h){return new Bl(a,h)}var Go=Ss.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return T(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wc=Go.extend({options:{fill:!0,radius:10},initialize:function(a,h){T(this,h),this._latlng=Y(a),this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=Y(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=a&&a.radius||this._radius;return Go.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,h=this._radiusY||a,b=this._clickTolerance(),_=[a+b,h+b];this._pxBounds=new ae(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function im(a,h){return new Wc(a,h)}var Ih=Wc.extend({initialize:function(a,h,b){if(typeof h=="number"&&(h=l({},b,{radius:h})),T(this,h),this._latlng=Y(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Go.prototype.setStyle,_project:function(){var a=this._latlng.lng,h=this._latlng.lat,b=this._map,_=b.options.crs;if(_.distance===Te.distance){var N=Math.PI/180,Z=this._mRadius/Te.R/N,fe=b.project([h+Z,a]),ke=b.project([h-Z,a]),Fe=fe.add(ke).divideBy(2),Qe=b.unproject(Fe).lat,mt=Math.acos((Math.cos(Z*N)-Math.sin(h*N)*Math.sin(Qe*N))/(Math.cos(h*N)*Math.cos(Qe*N)))/N;(isNaN(mt)||mt===0)&&(mt=Z/Math.cos(Math.PI/180*h)),this._point=Fe.subtract(b.getPixelOrigin()),this._radius=isNaN(mt)?0:Fe.x-b.project([Qe,a-mt]).x,this._radiusY=Fe.y-fe.y}else{var Et=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Et).x}this._updateBounds()}});function pv(a,h,b){return new Ih(a,h,b)}var Zo=Go.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,h){T(this,h),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,b=null,_=Je,N,Z,fe=0,ke=this._parts.length;fe<ke;fe++)for(var Fe=this._parts[fe],Qe=1,mt=Fe.length;Qe<mt;Qe++){N=Fe[Qe-1],Z=Fe[Qe];var Et=_(a,N,Z,!0);Et<h&&(h=Et,b=_(a,N,Z))}return b&&(b.distance=Math.sqrt(h)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,h){return h=h||this._defaultShape(),a=Y(a),h.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new $,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ft(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],b=ft(a),_=0,N=a.length;_<N;_++)b?(h[_]=Y(a[_]),this._bounds.extend(h[_])):h[_]=this._convertLatLngs(a[_]);return h},_project:function(){var a=new ae;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),h=new H(a,a);this._rawPxBounds&&(this._pxBounds=new ae([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(a,h,b){var _=a[0]instanceof U,N=a.length,Z,fe;if(_){for(fe=[],Z=0;Z<N;Z++)fe[Z]=this._map.latLngToLayerPoint(a[Z]),b.extend(fe[Z]);h.push(fe)}else for(Z=0;Z<N;Z++)this._projectLatlngs(a[Z],h,b)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,b,_,N,Z,fe,ke,Fe;for(b=0,N=0,Z=this._rings.length;b<Z;b++)for(Fe=this._rings[b],_=0,fe=Fe.length;_<fe-1;_++)ke=Xu(Fe[_],Fe[_+1],a,_,!0),ke&&(h[N]=h[N]||[],h[N].push(ke[0]),(ke[1]!==Fe[_+1]||_===fe-2)&&(h[N].push(ke[1]),N++))}},_simplifyPoints:function(){for(var a=this._parts,h=this.options.smoothFactor,b=0,_=a.length;b<_;b++)a[b]=Ku(a[b],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,h){var b,_,N,Z,fe,ke,Fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(b=0,Z=this._parts.length;b<Z;b++)for(ke=this._parts[b],_=0,fe=ke.length,N=fe-1;_<fe;N=_++)if(!(!h&&_===0)&&jo(a,ke[N],ke[_])<=Fe)return!0;return!1}});function mv(a,h){return new Zo(a,h)}Zo._flat=Nn;var $l=Zo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var h=Zo.prototype._convertLatLngs.call(this,a),b=h.length;return b>=2&&h[0]instanceof U&&h[0].equals(h[b-1])&&h.pop(),h},_setLatLngs:function(a){Zo.prototype._setLatLngs.call(this,a),ft(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ft(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,h=this.options.weight,b=new H(h,h);if(a=new ae(a.min.subtract(b),a.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,N=this._rings.length,Z;_<N;_++)Z=$c(this._rings[_],a,!0),Z.length&&this._parts.push(Z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h=!1,b,_,N,Z,fe,ke,Fe,Qe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(Z=0,Fe=this._parts.length;Z<Fe;Z++)for(b=this._parts[Z],fe=0,Qe=b.length,ke=Qe-1;fe<Qe;ke=fe++)_=b[fe],N=b[ke],_.y>a.y!=N.y>a.y&&a.x<(N.x-_.x)*(a.y-_.y)/(N.y-_.y)+_.x&&(h=!h);return h||Zo.prototype._containsPoint.call(this,a,!0)}});function oi(a,h){return new $l(a,h)}var ai=ii.extend({initialize:function(a,h){T(this,h),this._layers={},a&&this.addData(a)},addData:function(a){var h=R(a)?a:a.features,b,_,N;if(h){for(b=0,_=h.length;b<_;b++)N=h[b],(N.geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var Z=this.options;if(Z.filter&&!Z.filter(a))return this;var fe=qc(a,Z);return fe?(fe.feature=Fl(a),fe.defaultOptions=fe.options,this.resetStyle(fe),Z.onEachFeature&&Z.onEachFeature(a,fe),this.addLayer(fe)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(h){this._setLayerStyle(h,a)},this)},_setLayerStyle:function(a,h){a.setStyle&&(typeof h=="function"&&(h=h(a.feature)),a.setStyle(h))}});function qc(a,h){var b=a.type==="Feature"?a.geometry:a,_=b?b.coordinates:null,N=[],Z=h&&h.pointToLayer,fe=h&&h.coordsToLatLng||Ju,ke,Fe,Qe,mt;if(!_&&!b)return null;switch(b.type){case"Point":return ke=fe(_),zh(Z,a,ke,h);case"MultiPoint":for(Qe=0,mt=_.length;Qe<mt;Qe++)ke=fe(_[Qe]),N.push(zh(Z,a,ke,h));return new ii(N);case"LineString":case"MultiLineString":return Fe=Gc(_,b.type==="LineString"?0:1,fe),new Zo(Fe,h);case"Polygon":case"MultiPolygon":return Fe=Gc(_,b.type==="Polygon"?1:2,fe),new $l(Fe,h);case"GeometryCollection":for(Qe=0,mt=b.geometries.length;Qe<mt;Qe++){var Et=qc({geometry:b.geometries[Qe],type:"Feature",properties:a.properties},h);Et&&N.push(Et)}return new ii(N);case"FeatureCollection":for(Qe=0,mt=b.features.length;Qe<mt;Qe++){var Lt=qc(b.features[Qe],h);Lt&&N.push(Lt)}return new ii(N);default:throw new Error("Invalid GeoJSON object.")}}function zh(a,h,b,_){return a?a(h,b):new Bl(b,_&&_.markersInheritOptions&&_)}function Ju(a){return new U(a[1],a[0],a[2])}function Gc(a,h,b){for(var _=[],N=0,Z=a.length,fe;N<Z;N++)fe=h?Gc(a[N],h-1,b):(b||Ju)(a[N]),_.push(fe);return _}function Zc(a,h){return a=Y(a),a.alt!==void 0?[S(a.lng,h),S(a.lat,h),S(a.alt,h)]:[S(a.lng,h),S(a.lat,h)]}function ed(a,h,b,_){for(var N=[],Z=0,fe=a.length;Z<fe;Z++)N.push(h?ed(a[Z],ft(a[Z])?0:h-1,b,_):Zc(a[Z],_));return!h&&b&&N.length>0&&N.push(N[0].slice()),N}function Hi(a,h){return a.feature?l({},a.feature,{geometry:h}):Fl(h)}function Fl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Qa={toGeoJSON:function(a){return Hi(this,{type:"Point",coordinates:Zc(this.getLatLng(),a)})}};Bl.include(Qa),Ih.include(Qa),Wc.include(Qa),Zo.include({toGeoJSON:function(a){var h=!ft(this._latlngs),b=ed(this._latlngs,h?1:0,!1,a);return Hi(this,{type:(h?"Multi":"")+"LineString",coordinates:b})}}),$l.include({toGeoJSON:function(a){var h=!ft(this._latlngs),b=h&&!ft(this._latlngs[0]),_=ed(this._latlngs,b?2:h?1:0,!0,a);return h||(_=[_]),Hi(this,{type:(b?"Multi":"")+"Polygon",coordinates:_})}}),qo.include({toMultiPoint:function(a){var h=[];return this.eachLayer(function(b){h.push(b.toGeoJSON(a).geometry.coordinates)}),Hi(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(a){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(a);var b=h==="GeometryCollection",_=[];return this.eachLayer(function(N){if(N.toGeoJSON){var Z=N.toGeoJSON(a);if(b)_.push(Z.geometry);else{var fe=Fl(Z);fe.type==="FeatureCollection"?_.push.apply(_,fe.features):_.push(fe)}}}),b?Hi(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function td(a,h){return new ai(a,h)}var om=td,So=Ss.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,h,b){this._url=a,this._bounds=F(h),T(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&zi(this._image),this},bringToBack:function(){return this._map&&Li(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=F(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",h=this._image=a?this._url:bn("img");if(nn(h,"leaflet-image-layer"),this._zoomAnimated&&nn(h,"leaflet-zoom-animated"),this.options.className&&nn(h,this.options.className),h.onselectstart=v,h.onmousemove=v,h.onload=d(this.fire,this,"load"),h.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(a){var h=this._map.getZoomScale(a.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ys(this._image,b,h)},_reset:function(){var a=this._image,h=new ae(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=h.getSize();Vt(a,h.min),a.style.width=b.x+"px",a.style.height=b.y+"px"},_updateOpacity:function(){Hr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Vl=function(a,h,b){return new So(a,h,b)},nd=So.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",h=this._image=a?this._url:bn("video");if(nn(h,"leaflet-image-layer"),this._zoomAnimated&&nn(h,"leaflet-zoom-animated"),this.options.className&&nn(h,this.options.className),h.onselectstart=v,h.onmousemove=v,h.onloadeddata=d(this.fire,this,"load"),a){for(var b=h.getElementsByTagName("source"),_=[],N=0;N<b.length;N++)_.push(b[N].src);this._url=b.length>0?_:[h.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var Z=0;Z<this._url.length;Z++){var fe=bn("source");fe.src=this._url[Z],h.appendChild(fe)}}});function am(a,h,b){return new nd(a,h,b)}var xa=So.extend({_initImage:function(){var a=this._image=this._url;nn(a,"leaflet-image-layer"),this._zoomAnimated&&nn(a,"leaflet-zoom-animated"),this.options.className&&nn(a,this.options.className),a.onselectstart=v,a.onmousemove=v}});function lm(a,h,b){return new xa(a,h,b)}var Wi=Ss.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,h){a&&(a instanceof U||R(a))?(this._latlng=Y(a),T(this,h)):(T(this,a),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Hr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Hr(this._container,1),this.bringToFront(),this.options.interactive&&(nn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Hr(this._container,0),this._removeTimeout=setTimeout(d(Gn,void 0,this._container),200)):Gn(this._container),this.options.interactive&&(Un(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Y(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zi(this._container),this},bringToBack:function(){return this._map&&Li(this._container),this},_prepareOpen:function(a){var h=this._source;if(!h._map)return!1;if(h instanceof ii){h=null;var b=this._source._layers;for(var _ in b)if(b[_]._map){h=b[_];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=h.getLatLng();else if(h.getBounds)a=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")a.innerHTML=h;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),h=B(this.options.offset),b=this._getAnchor();this._zoomAnimated?Vt(this._container,a.add(b)):h=h.add(a).add(b);var _=this._containerBottom=-h.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=_+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});St.include({_initOverlay:function(a,h,b,_){var N=h;return N instanceof a||(N=new a(_).setContent(h)),b&&N.setLatLng(b),N}}),Ss.include({_initOverlay:function(a,h,b,_){var N=b;return N instanceof a?(T(N,_),N._source=this):(N=h&&!_?h:new a(_,this),N.setContent(b)),N}});var Yc=Wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Wi.prototype.openOn.call(this,a)},onAdd:function(a){Wi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Go||this._source.on("preclick",ks))},onRemove:function(a){Wi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Go||this._source.off("preclick",ks))},getEvents:function(){var a=Wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",h=this._container=bn("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=bn("div",a+"-content-wrapper",h);if(this._contentNode=bn("div",a+"-content",b),Vi(h),Fi(this._contentNode),Gt(h,"contextmenu",ks),this._tipContainer=bn("div",a+"-tip-container",h),this._tip=bn("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=bn("a",a+"-close-button",h);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Gt(_,"click",function(N){gr(N),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,h=a.style;h.width="",h.whiteSpace="nowrap";var b=a.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),h.width=b+1+"px",h.whiteSpace="",h.height="";var _=a.offsetHeight,N=this.options.maxHeight,Z="leaflet-popup-scrolled";N&&_>N?(h.height=N+"px",nn(a,Z)):Un(a,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),b=this._getAnchor();Vt(this._container,h.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,h=parseInt(Ii(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+h,_=this._containerWidth,N=new H(this._containerLeft,-b-this._containerBottom);N._add(wr(this._container));var Z=a.layerPointToContainerPoint(N),fe=B(this.options.autoPanPadding),ke=B(this.options.autoPanPaddingTopLeft||fe),Fe=B(this.options.autoPanPaddingBottomRight||fe),Qe=a.getSize(),mt=0,Et=0;Z.x+_+Fe.x>Qe.x&&(mt=Z.x+_-Qe.x+Fe.x),Z.x-mt-ke.x<0&&(mt=Z.x-ke.x),Z.y+b+Fe.y>Qe.y&&(Et=Z.y+b-Qe.y+Fe.y),Z.y-Et-ke.y<0&&(Et=Z.y-ke.y),(mt||Et)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([mt,Et]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gv=function(a,h){return new Yc(a,h)};St.mergeOptions({closePopupOnClick:!0}),St.include({openPopup:function(a,h,b){return this._initOverlay(Yc,a,h,b).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ss.include({bindPopup:function(a,h){return this._popup=this._initOverlay(Yc,this._popup,a,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ii||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ms(a);var h=a.layer||a.target;if(this._popup._source===h&&!(h instanceof Go)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=h,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var rd=Wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Wi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Wi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Wi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",h=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bn("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h,b,_=this._map,N=this._container,Z=_.latLngToContainerPoint(_.getCenter()),fe=_.layerPointToContainerPoint(a),ke=this.options.direction,Fe=N.offsetWidth,Qe=N.offsetHeight,mt=B(this.options.offset),Et=this._getAnchor();ke==="top"?(h=Fe/2,b=Qe):ke==="bottom"?(h=Fe/2,b=0):ke==="center"?(h=Fe/2,b=Qe/2):ke==="right"?(h=0,b=Qe/2):ke==="left"?(h=Fe,b=Qe/2):fe.x<Z.x?(ke="right",h=0,b=Qe/2):(ke="left",h=Fe+(mt.x+Et.x)*2,b=Qe/2),a=a.subtract(B(h,b,!0)).add(mt).add(Et),Un(N,"leaflet-tooltip-right"),Un(N,"leaflet-tooltip-left"),Un(N,"leaflet-tooltip-top"),Un(N,"leaflet-tooltip-bottom"),nn(N,"leaflet-tooltip-"+ke),Vt(N,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Hr(this._container,a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(h)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xv=function(a,h){return new rd(a,h)};St.include({openTooltip:function(a,h,b){return this._initOverlay(rd,a,h,b).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ss.include({bindTooltip:function(a,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rd,this._tooltip,a,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var h=a?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[h](b),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ii||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&(Gt(h,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Gt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h=a.latlng,b,_;this._tooltip.options.sticky&&a.originalEvent&&(b=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(b),h=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(h)}});var Lh=Ll.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var h=a&&a.tagName==="DIV"?a:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Ur(h),h.appendChild(b.html)):h.innerHTML=b.html!==!1?b.html:"",b.bgPos){var _=B(b.bgPos);h.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function cm(a){return new Lh(a)}Ll.Default=Ol;var Ja=Ss.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){T(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Gn(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof H?a:new H(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var h=this.getPane().children,b=-a(-1/0,1/0),_=0,N=h.length,Z;_<N;_++)Z=h[_].style.zIndex,h[_]!==this._container&&Z&&(b=a(b,+Z));isFinite(b)&&(this.options.zIndex=b+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ct.ielt9){Hr(this._container,this.options.opacity);var a=+new Date,h=!1,b=!1;for(var _ in this._tiles){var N=this._tiles[_];if(!(!N.current||!N.loaded)){var Z=Math.min(1,(a-N.loaded)/200);Hr(N.el,Z),Z<1?h=!0:(N.active?b=!0:this._onOpaqueTile(N),N.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),h&&(ge(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=bn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,h=this.options.maxZoom;if(a!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===a?(this._levels[b].el.style.zIndex=h-Math.abs(a-b),this._onUpdateLevel(b)):(Gn(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var _=this._levels[a],N=this._map;return _||(_=this._levels[a]={},_.el=bn("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=h,_.origin=N.project(N.unproject(N.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,N.getCenter(),N.getZoom()),v(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var a,h,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)h=this._tiles[a],h.retain=h.current;for(a in this._tiles)if(h=this._tiles[a],h.current&&!h.active){var _=h.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var h in this._tiles)this._tiles[h].coords.z===a&&this._removeTile(h)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Gn(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,h,b,_){var N=Math.floor(a/2),Z=Math.floor(h/2),fe=b-1,ke=new H(+N,+Z);ke.z=+fe;var Fe=this._tileCoordsToKey(ke),Qe=this._tiles[Fe];return Qe&&Qe.active?(Qe.retain=!0,!0):(Qe&&Qe.loaded&&(Qe.retain=!0),fe>_?this._retainParent(N,Z,fe,_):!1)},_retainChildren:function(a,h,b,_){for(var N=2*a;N<2*a+2;N++)for(var Z=2*h;Z<2*h+2;Z++){var fe=new H(N,Z);fe.z=b+1;var ke=this._tileCoordsToKey(fe),Fe=this._tiles[ke];if(Fe&&Fe.active){Fe.retain=!0;continue}else Fe&&Fe.loaded&&(Fe.retain=!0);b+1<_&&this._retainChildren(N,Z,b+1,_)}},_resetView:function(a){var h=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var h=this.options;return h.minNativeZoom!==void 0&&a<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<a?h.maxNativeZoom:a},_setView:function(a,h,b,_){var N=Math.round(h);this.options.maxZoom!==void 0&&N>this.options.maxZoom||this.options.minZoom!==void 0&&N<this.options.minZoom?N=void 0:N=this._clampZoom(N);var Z=this.options.updateWhenZooming&&N!==this._tileZoom;(!_||Z)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),N!==void 0&&this._update(a),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(a,h)},_setZoomTransforms:function(a,h){for(var b in this._levels)this._setZoomTransform(this._levels[b],a,h)},_setZoomTransform:function(a,h,b){var _=this._map.getZoomScale(b,a.zoom),N=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(h,b)).round();ct.any3d?ys(a.el,N,_):Vt(a.el,N)},_resetGrid:function(){var a=this._map,h=a.options.crs,b=this._tileSize=this.getTileSize(),_=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,h.wrapLng[0]],_).x/b.x),Math.ceil(a.project([0,h.wrapLng[1]],_).x/b.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([h.wrapLat[0],0],_).y/b.x),Math.ceil(a.project([h.wrapLat[1],0],_).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var h=this._map,b=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),_=h.getZoomScale(b,this._tileZoom),N=h.project(a,this._tileZoom).floor(),Z=h.getSize().divideBy(_*2);return new ae(N.subtract(Z),N.add(Z))},_update:function(a){var h=this._map;if(h){var b=this._clampZoom(h.getZoom());if(a===void 0&&(a=h.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),N=this._pxBoundsToTileRange(_),Z=N.getCenter(),fe=[],ke=this.options.keepBuffer,Fe=new ae(N.getBottomLeft().subtract([ke,-ke]),N.getTopRight().add([ke,-ke]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Qe in this._tiles){var mt=this._tiles[Qe].coords;(mt.z!==this._tileZoom||!Fe.contains(new H(mt.x,mt.y)))&&(this._tiles[Qe].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(a,b);return}for(var Et=N.min.y;Et<=N.max.y;Et++)for(var Lt=N.min.x;Lt<=N.max.x;Lt++){var sn=new H(Lt,Et);if(sn.z=this._tileZoom,!!this._isValidTile(sn)){var xr=this._tiles[this._tileCoordsToKey(sn)];xr?xr.current=!0:fe.push(sn)}}if(fe.sort(function(Es,ji){return Es.distanceTo(Z)-ji.distanceTo(Z)}),fe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mr=document.createDocumentFragment();for(Lt=0;Lt<fe.length;Lt++)this._addTile(fe[Lt],Mr);this._level.el.appendChild(Mr)}}}},_isValidTile:function(a){var h=this._map.options.crs;if(!h.infinite){var b=this._globalTileRange;if(!h.wrapLng&&(a.x<b.min.x||a.x>b.max.x)||!h.wrapLat&&(a.y<b.min.y||a.y>b.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return F(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var h=this._map,b=this.getTileSize(),_=a.scaleBy(b),N=_.add(b),Z=h.unproject(_,a.z),fe=h.unproject(N,a.z);return[Z,fe]},_tileCoordsToBounds:function(a){var h=this._tileCoordsToNwSe(a),b=new $(h[0],h[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var h=a.split(":"),b=new H(+h[0],+h[1]);return b.z=+h[2],b},_removeTile:function(a){var h=this._tiles[a];h&&(Gn(h.el),delete this._tiles[a],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){nn(a,"leaflet-tile");var h=this.getTileSize();a.style.width=h.x+"px",a.style.height=h.y+"px",a.onselectstart=v,a.onmousemove=v,ct.ielt9&&this.options.opacity<1&&Hr(a,this.options.opacity)},_addTile:function(a,h){var b=this._getTilePos(a),_=this._tileCoordsToKey(a),N=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(N),this.createTile.length<2&&se(d(this._tileReady,this,a,null,N)),Vt(N,b),this._tiles[_]={el:N,coords:a,current:!0},h.appendChild(N),this.fire("tileloadstart",{tile:N,coords:a})},_tileReady:function(a,h,b){h&&this.fire("tileerror",{error:h,tile:b,coords:a});var _=this._tileCoordsToKey(a);b=this._tiles[_],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Hr(b.el,0),ge(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),h||(nn(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ct.ielt9||!this._map._fadeAnimated?se(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var h=new H(this._wrapX?x(a.x,this._wrapX):a.x,this._wrapY?x(a.y,this._wrapY):a.y);return h.z=a.z,h},_pxBoundsToTileRange:function(a){var h=this.getTileSize();return new ae(a.min.unscaleBy(h).floor(),a.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function qi(a){return new Ja(a)}var el=Ja.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,h){this._url=a,h=T(this,h),h.detectRetina&&ct.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,h){return this._url===a&&h===void 0&&(h=!0),this._url=a,h||this.redraw(),this},createTile:function(a,h){var b=document.createElement("img");return Gt(b,"load",d(this._tileOnLoad,this,h,b)),Gt(b,"error",d(this._tileOnError,this,h,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(a),b},getTileUrl:function(a){var h={r:ct.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-a.y;this.options.tms&&(h.y=b),h["-y"]=b}return M(this._url,l(h,this.options))},_tileOnLoad:function(a,h){ct.ielt9?setTimeout(d(a,this,null,h),0):a(null,h)},_tileOnError:function(a,h,b){var _=this.options.errorTileUrl;_&&h.getAttribute("src")!==_&&(h.src=_),a(b,h)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,h=this.options.maxZoom,b=this.options.zoomReverse,_=this.options.zoomOffset;return b&&(a=h-a),a+_},_getSubdomain:function(a){var h=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var a,h;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(h=this._tiles[a].el,h.onload=v,h.onerror=v,!h.complete)){h.src=z;var b=this._tiles[a].coords;Gn(h),delete this._tiles[a],this.fire("tileabort",{tile:h,coords:b})}},_removeTile:function(a){var h=this._tiles[a];if(h)return h.el.setAttribute("src",z),Ja.prototype._removeTile.call(this,a)},_tileReady:function(a,h,b){if(!(!this._map||b&&b.getAttribute("src")===z))return Ja.prototype._tileReady.call(this,a,h,b)}});function li(a,h){return new el(a,h)}var ci=el.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,h){this._url=a;var b=l({},this.defaultWmsParams);for(var _ in h)_ in this.options||(b[_]=h[_]);h=T(this,h);var N=h.detectRetina&&ct.retina?2:1,Z=this.getTileSize();b.width=Z.x*N,b.height=Z.y*N,this.wmsParams=b},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,el.prototype.onAdd.call(this,a)},getTileUrl:function(a){var h=this._tileCoordsToNwSe(a),b=this._crs,_=me(b.project(h[0]),b.project(h[1])),N=_.min,Z=_.max,fe=(this._wmsVersion>=1.3&&this._crs===Or?[N.y,N.x,Z.y,Z.x]:[N.x,N.y,Z.x,Z.y]).join(","),ke=el.prototype.getTileUrl.call(this,a);return ke+A(this.wmsParams,ke,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+fe},setParams:function(a,h){return l(this.wmsParams,a),h||this.redraw(),this}});function Ul(a,h){return new ci(a,h)}el.WMS=ci,li.wms=Ul;var Gi=Ss.extend({options:{padding:.1},initialize:function(a){T(this,a),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,h){var b=this._map.getZoomScale(h,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,h),Z=_.multiplyBy(-b).add(N).subtract(this._map._getNewPixelOrigin(a,h));ct.any3d?ys(this._container,Z,b):Vt(this._container,Z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,h=this._map.getSize(),b=this._map.containerPointToLayerPoint(h.multiplyBy(-a)).round();this._bounds=new ae(b,b.add(h.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kc=Gi.extend({options:{tolerance:0},getEvents:function(){var a=Gi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Gt(a,"mousemove",this._onMouseMove,this),Gt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Gt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){ge(this._redrawRequest),delete this._ctx,Gn(this._container),En(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var h in this._layers)a=this._layers[h],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var a=this._bounds,h=this._container,b=a.getSize(),_=ct.retina?2:1;Vt(h,a.min),h.width=_*b.x,h.height=_*b.y,h.style.width=b.x+"px",h.style.height=b.y+"px",ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[p(a)]=a;var h=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var h=a._order,b=h.next,_=h.prev;b?b.prev=_:this._drawLast=_,_?_.next=b:this._drawFirst=b,delete a._order,delete this._layers[p(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var h=a.options.dashArray.split(/[, ]+/),b=[],_,N;for(N=0;N<h.length;N++){if(_=Number(h[N]),isNaN(_))return;b.push(_)}a.options._dashArray=b}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||se(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var h=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ae,this._redrawBounds.extend(a._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(a._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var h=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,h=this._redrawBounds;if(this._ctx.save(),h){var b=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!h||a._pxBounds&&a._pxBounds.intersects(h))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,h){if(this._drawing){var b,_,N,Z,fe=a._parts,ke=fe.length,Fe=this._ctx;if(ke){for(Fe.beginPath(),b=0;b<ke;b++){for(_=0,N=fe[b].length;_<N;_++)Z=fe[b][_],Fe[_?"lineTo":"moveTo"](Z.x,Z.y);h&&Fe.closePath()}this._fillStroke(Fe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var h=a._point,b=this._ctx,_=Math.max(Math.round(a._radius),1),N=(Math.max(Math.round(a._radiusY),1)||_)/_;N!==1&&(b.save(),b.scale(1,N)),b.beginPath(),b.arc(h.x,h.y/N,_,0,Math.PI*2,!1),N!==1&&b.restore(),this._fillStroke(b,a)}},_fillStroke:function(a,h){var b=h.options;b.fill&&(a.globalAlpha=b.fillOpacity,a.fillStyle=b.fillColor||b.color,a.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(a.setLineDash&&a.setLineDash(h.options&&h.options._dashArray||[]),a.globalAlpha=b.opacity,a.lineWidth=b.weight,a.strokeStyle=b.color,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.stroke())},_onClick:function(a){for(var h=this._map.mouseEventToLayerPoint(a),b,_,N=this._drawFirst;N;N=N.next)b=N.layer,b.options.interactive&&b._containsPoint(h)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(b))&&(_=b);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,h)}},_handleMouseOut:function(a){var h=this._hoveredLayer;h&&(Un(this._container,"leaflet-interactive"),this._fireEvent([h],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,h){if(!this._mouseHoverThrottled){for(var b,_,N=this._drawFirst;N;N=N.next)b=N.layer,b.options.interactive&&b._containsPoint(h)&&(_=b);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(nn(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,h,b){this._map._fireDOMEvent(h,b||h.type,a)},_bringToFront:function(a){var h=a._order;if(h){var b=h.next,_=h.prev;if(b)b.prev=_;else return;_?_.next=b:b&&(this._drawFirst=b),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(a)}},_bringToBack:function(a){var h=a._order;if(h){var b=h.next,_=h.prev;if(_)_.next=b;else return;b?b.prev=_:_&&(this._drawLast=_),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)}}});function Xc(a){return ct.canvas?new Kc(a):null}var tl=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Hl={_initContainer:function(){this._container=bn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var h=a._container=tl("shape");nn(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",a._path=tl("path"),h.appendChild(a._path),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){var h=a._container;this._container.appendChild(h),a.options.interactive&&a.addInteractiveTarget(h)},_removePath:function(a){var h=a._container;Gn(h),a.removeInteractiveTarget(h),delete this._layers[p(a)]},_updateStyle:function(a){var h=a._stroke,b=a._fill,_=a.options,N=a._container;N.stroked=!!_.stroke,N.filled=!!_.fill,_.stroke?(h||(h=a._stroke=tl("stroke")),N.appendChild(h),h.weight=_.weight+"px",h.color=_.color,h.opacity=_.opacity,_.dashArray?h.dashStyle=R(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=_.lineCap.replace("butt","flat"),h.joinstyle=_.lineJoin):h&&(N.removeChild(h),a._stroke=null),_.fill?(b||(b=a._fill=tl("fill")),N.appendChild(b),b.color=_.fillColor||_.color,b.opacity=_.fillOpacity):b&&(N.removeChild(b),a._fill=null)},_updateCircle:function(a){var h=a._point.round(),b=Math.round(a._radius),_=Math.round(a._radiusY||b);this._setPath(a,a._empty()?"M0 0":"AL "+h.x+","+h.y+" "+b+","+_+" 0,"+65535*360)},_setPath:function(a,h){a._path.v=h},_bringToFront:function(a){zi(a._container)},_bringToBack:function(a){Li(a._container)}},Qc=ct.vml?tl:qt,va=Gi.extend({_initContainer:function(){this._container=Qc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gn(this._container),En(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var a=this._bounds,h=a.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,b.setAttribute("width",h.x),b.setAttribute("height",h.y)),Vt(b,a.min),b.setAttribute("viewBox",[a.min.x,a.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(a){var h=a._path=Qc("path");a.options.className&&nn(h,a.options.className),a.options.interactive&&nn(h,"leaflet-interactive"),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Gn(a._path),a.removeInteractiveTarget(a._path),delete this._layers[p(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var h=a._path,b=a.options;h&&(b.stroke?(h.setAttribute("stroke",b.color),h.setAttribute("stroke-opacity",b.opacity),h.setAttribute("stroke-width",b.weight),h.setAttribute("stroke-linecap",b.lineCap),h.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?h.setAttribute("stroke-dasharray",b.dashArray):h.removeAttribute("stroke-dasharray"),b.dashOffset?h.setAttribute("stroke-dashoffset",b.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),b.fill?(h.setAttribute("fill",b.fillColor||b.color),h.setAttribute("fill-opacity",b.fillOpacity),h.setAttribute("fill-rule",b.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(a,h){this._setPath(a,Se(a._parts,h))},_updateCircle:function(a){var h=a._point,b=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||b,N="a"+b+","+_+" 0 1,0 ",Z=a._empty()?"M0 0":"M"+(h.x-b)+","+h.y+N+b*2+",0 "+N+-b*2+",0 ";this._setPath(a,Z)},_setPath:function(a,h){a._path.setAttribute("d",h)},_bringToFront:function(a){zi(a._path)},_bringToBack:function(a){Li(a._path)}});ct.vml&&va.include(Hl);function nl(a){return ct.svg||ct.vml?new va(a):null}St.include({getRenderer:function(a){var h=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var h=this._paneRenderers[a];return h===void 0&&(h=this._createRenderer({pane:a}),this._paneRenderers[a]=h),h},_createRenderer:function(a){return this.options.preferCanvas&&Xc(a)||nl(a)}});var um=$l.extend({initialize:function(a,h){$l.prototype.initialize.call(this,this._boundsToLatLngs(a),h)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=F(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function ui(a,h){return new um(a,h)}va.create=Qc,va.pointsToPath=Se,ai.geometryToLayer=qc,ai.coordsToLatLng=Ju,ai.coordsToLatLngs=Gc,ai.latLngToCoords=Zc,ai.latLngsToCoords=ed,ai.getFeature=Hi,ai.asFeature=Fl,St.mergeOptions({boxZoom:!0});var sd=si.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){En(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nr(),ni(),this._startPoint=this._map.mouseEventToContainerPoint(a),Gt(document,{contextmenu:Ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=bn("div","leaflet-zoom-box",this._container),nn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var h=new ae(this._point,this._startPoint),b=h.getSize();Vt(this._box,h.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Gn(this._box),Un(this._container,"leaflet-crosshair")),xo(),pa(),En(document,{contextmenu:Ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var h=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});St.addInitHook("addHandler","boxZoom",sd),St.mergeOptions({doubleClickZoom:!0});var Eo=si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var h=this._map,b=h.getZoom(),_=h.options.zoomDelta,N=a.originalEvent.shiftKey?b-_:b+_;h.options.doubleClickZoom==="center"?h.setZoom(N):h.setZoomAround(a.containerPoint,N)}});St.addInitHook("addHandler","doubleClickZoom",Eo),St.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Oh=si.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new bo(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}nn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Un(this._map._container,"leaflet-grab"),Un(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=F(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var h=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(h),this._prunePositions(h)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,h){return a-(a-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;a.x<h.min.x&&(a.x=this._viscousLimit(a.x,h.min.x)),a.y<h.min.y&&(a.y=this._viscousLimit(a.y,h.min.y)),a.x>h.max.x&&(a.x=this._viscousLimit(a.x,h.max.x)),a.y>h.max.y&&(a.y=this._viscousLimit(a.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,h=Math.round(a/2),b=this._initialWorldOffset,_=this._draggable._newPos.x,N=(_-h+b)%a+h-b,Z=(_+h+b)%a-h-b,fe=Math.abs(N+b)<Math.abs(Z+b)?N:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=fe},_onDragEnd:function(a){var h=this._map,b=h.options,_=!b.inertia||a.noInertia||this._times.length<2;if(h.fire("dragend",a),_)h.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,fe=b.easeLinearity,ke=N.multiplyBy(fe/Z),Fe=ke.distanceTo([0,0]),Qe=Math.min(b.inertiaMaxSpeed,Fe),mt=ke.multiplyBy(Qe/Fe),Et=Qe/(b.inertiaDeceleration*fe),Lt=mt.multiplyBy(-Et/2).round();!Lt.x&&!Lt.y?h.fire("moveend"):(Lt=h._limitOffset(Lt,h.options.maxBounds),se(function(){h.panBy(Lt,{duration:Et,easeLinearity:fe,noMoveStart:!0,animate:!0})}))}}});St.addInitHook("addHandler","dragging",Oh),St.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jc=si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Gt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),En(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,h=document.documentElement,b=a.scrollTop||h.scrollTop,_=a.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(_,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var h=this._panKeys={},b=this.keyCodes,_,N;for(_=0,N=b.left.length;_<N;_++)h[b.left[_]]=[-1*a,0];for(_=0,N=b.right.length;_<N;_++)h[b.right[_]]=[a,0];for(_=0,N=b.down.length;_<N;_++)h[b.down[_]]=[0,a];for(_=0,N=b.up.length;_<N;_++)h[b.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var h=this._zoomKeys={},b=this.keyCodes,_,N;for(_=0,N=b.zoomIn.length;_<N;_++)h[b.zoomIn[_]]=a;for(_=0,N=b.zoomOut.length;_<N;_++)h[b.zoomOut[_]]=-a},_addHooks:function(){Gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){En(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var h=a.keyCode,b=this._map,_;if(h in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(_=this._panKeys[h],a.shiftKey&&(_=B(_).multiplyBy(3)),b.options.maxBounds&&(_=b._limitOffset(B(_),b.options.maxBounds)),b.options.worldCopyJump){var N=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(_)));b.panTo(N)}else b.panBy(_)}else if(h in this._zoomKeys)b.setZoom(b.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;Ms(a)}}});St.addInitHook("addHandler","keyboard",Jc),St.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ya=si.extend({addHooks:function(){Gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){En(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var h=Oe(a),b=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),_),Ms(a)},_performZoom:function(){var a=this._map,h=a.getZoom(),b=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),N=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,Z=b?Math.ceil(N/b)*b:N,fe=a._limitZoom(h+(this._delta>0?Z:-Z))-h;this._delta=0,this._startTime=null,fe&&(a.options.scrollWheelZoom==="center"?a.setZoom(h+fe):a.setZoomAround(this._lastMousePos,h+fe))}});St.addInitHook("addHandler","scrollWheelZoom",ya);var Bh=600;St.mergeOptions({tapHold:ct.touchNative&&ct.safari&&ct.mobile,tapTolerance:15});var id=si.extend({addHooks:function(){Gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){En(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var h=a.touches[0];this._startPos=this._newPos=new H(h.clientX,h.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Gt(document,"touchend",gr),Gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Bh),Gt(document,"touchend touchcancel contextmenu",this._cancel,this),Gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){En(document,"touchend",gr),En(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),En(document,"touchend touchcancel contextmenu",this._cancel,this),En(document,"touchmove",this._onMove,this)},_onMove:function(a){var h=a.touches[0];this._newPos=new H(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,h){var b=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});b._simulated=!0,h.target.dispatchEvent(b)}});St.addInitHook("addHandler","tapHold",id),St.mergeOptions({touchZoom:ct.touch,bounceAtZoomLimits:!0});var rl=si.extend({addHooks:function(){nn(this._map._container,"leaflet-touch-zoom"),Gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Un(this._map._container,"leaflet-touch-zoom"),En(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var h=this._map;if(!(!a.touches||a.touches.length!==2||h._animatingZoom||this._zooming)){var b=h.mouseEventToContainerPoint(a.touches[0]),_=h.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(b.add(_)._divideBy(2))),this._startDist=b.distanceTo(_),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Gt(document,"touchmove",this._onTouchMove,this),Gt(document,"touchend touchcancel",this._onTouchEnd,this),gr(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var h=this._map,b=h.mouseEventToContainerPoint(a.touches[0]),_=h.mouseEventToContainerPoint(a.touches[1]),N=b.distanceTo(_)/this._startDist;if(this._zoom=h.getScaleZoom(N,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&N<1||this._zoom>h.getMaxZoom()&&N>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,N===1)return}else{var Z=b._add(_)._divideBy(2)._subtract(this._centerPoint);if(N===1&&Z.x===0&&Z.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),ge(this._animRequest);var fe=d(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=se(fe,this,!0),gr(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ge(this._animRequest),En(document,"touchmove",this._onTouchMove,this),En(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});St.addInitHook("addHandler","touchZoom",rl),St.BoxZoom=sd,St.DoubleClickZoom=Eo,St.Drag=Oh,St.Keyboard=Jc,St.ScrollWheelZoom=ya,St.TapHold=id,St.TouchZoom=rl,r.Bounds=ae,r.Browser=ct,r.CRS=be,r.Canvas=Kc,r.Circle=Ih,r.CircleMarker=Wc,r.Class=de,r.Control=pn,r.DivIcon=Lh,r.DivOverlay=Wi,r.DomEvent=gn,r.DomUtil=ma,r.Draggable=bo,r.Evented=W,r.FeatureGroup=ii,r.GeoJSON=ai,r.GridLayer=Ja,r.Handler=si,r.Icon=Ll,r.ImageOverlay=So,r.LatLng=U,r.LatLngBounds=$,r.Layer=Ss,r.LayerGroup=qo,r.LineUtil=rr,r.Map=St,r.Marker=Bl,r.Mixin=bi,r.Path=Go,r.Point=H,r.PolyUtil=Yu,r.Polygon=$l,r.Polyline=Zo,r.Popup=Yc,r.PosAnimation=Tn,r.Projection=Ui,r.Rectangle=um,r.Renderer=Gi,r.SVG=va,r.SVGOverlay=xa,r.TileLayer=el,r.Tooltip=rd,r.Transformation=ht,r.Util=Ae,r.VideoOverlay=nd,r.bind=d,r.bounds=me,r.canvas=Xc,r.circle=pv,r.circleMarker=im,r.control=Lr,r.divIcon=cm,r.extend=l,r.featureGroup=Hc,r.geoJSON=td,r.geoJson=om,r.gridLayer=qi,r.icon=Qu,r.imageOverlay=Vl,r.latLng=Y,r.latLngBounds=F,r.layerGroup=sm,r.map=fn,r.marker=Nh,r.point=B,r.polygon=oi,r.polyline=mv,r.popup=gv,r.rectangle=ui,r.setOptions=T,r.stamp=p,r.svg=nl,r.svgOverlay=lm,r.tileLayer=li,r.tooltip=xv,r.transformation=rt,r.version=i,r.videoOverlay=am;var Wl=window.L;r.noConflict=function(){return window.L=Wl,this},window.L=r}))})(Kf,Kf.exports)),Kf.exports}var wh=qQ();const _h=Ip(wh);function hv(t,n,r){return Object.freeze({instance:t,context:n,container:r})}function fv(t,n){return n==null?function(i,l){const u=y.useRef(void 0);return u.current||(u.current=t(i,l)),u}:function(i,l){const u=y.useRef(void 0);u.current||(u.current=t(i,l));const d=y.useRef(i),{instance:g}=u.current;return y.useEffect(function(){d.current!==i&&(n(g,i,d.current),d.current=i)},[g,i,n]),u}}function cD(t,n){y.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function uD(t){return function(r){const i=uv(),l=t(dv(r,i),i);return oD(i.map,r.attribution),_1(l.current,r.eventHandlers),cD(l.current,i),l}}function GQ(t,n){const r=y.useRef(void 0);y.useEffect(function(){if(n.pathOptions!==r.current){const l=n.pathOptions??{};t.instance.setStyle(l),r.current=l}},[t,n])}function ZQ(t){return function(r){const i=uv(),l=t(dv(r,i),i);return _1(l.current,r.eventHandlers),cD(l.current,i),GQ(l.current,r),l}}function YQ(t,n){const r=fv(t,n),i=uD(r);return lD(i)}function KQ(t,n){const r=fv(t),i=HQ(r,n);return VQ(i)}function XQ(t,n){const r=fv(t,n),i=ZQ(r);return lD(i)}function QQ(t,n){const r=fv(t,n),i=uD(r);return UQ(i)}function JQ(t,n,r){const{opacity:i,zIndex:l}=n;i!=null&&i!==r.opacity&&t.setOpacity(i),l!=null&&l!==r.zIndex&&t.setZIndex(l)}function eJ(){return uv().map}function tJ({bounds:t,boundsOptions:n,center:r,children:i,className:l,id:u,placeholder:d,style:g,whenReady:p,zoom:m,...x},v){const[S]=y.useState({className:l,id:u,style:g}),[E,C]=y.useState(null),T=y.useRef(void 0);y.useImperativeHandle(v,()=>E?.map??null,[E]);const A=y.useCallback(M=>{if(M!==null&&!T.current){const R=new wh.Map(M,x);T.current=R,r!=null&&m!=null?R.setView(r,m):t!=null&&R.fitBounds(t,n),p!=null&&R.whenReady(p),C(FQ(R))}},[]);y.useEffect(()=>()=>{E?.map.remove()},[E]);const D=E?dn.createElement(w1,{value:E},i):d??null;return dn.createElement("div",{...S,ref:A},D)}const nJ=y.forwardRef(tJ),rJ=YQ(function({position:n,...r},i){const l=new wh.Marker(n,r);return hv(l,aD(i,{overlayContainer:l}))},function(n,r,i){r.position!==i.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),VT=XQ(function({positions:n,...r},i){const l=new wh.Polyline(n,r);return hv(l,aD(i,{overlayContainer:l}))},function(n,r,i){r.positions!==i.positions&&n.setLatLngs(r.positions)}),sJ=KQ(function(n,r){const i=new wh.Popup(n,r.overlayContainer);return hv(i,r)},function(n,r,{position:i},l){y.useEffect(function(){const{instance:d}=n;function g(m){m.popup===d&&(d.update(),l(!0))}function p(m){m.popup===d&&l(!1)}return r.map.on({popupopen:g,popupclose:p}),r.overlayContainer==null?(i!=null&&d.setLatLng(i),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){r.map.off({popupopen:g,popupclose:p}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(d)}},[n,r,l,i])}),iJ=QQ(function({url:n,...r},i){const l=new wh.TileLayer(n,dv(r,i));return hv(l,i)},function(n,r,i){JQ(n,r,i);const{url:l}=r;l!=null&&l!==i.url&&n.setUrl(l)});delete _h.Icon.Default.prototype._getIconUrl;_h.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const oJ=_h.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),aJ=_h.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),lJ=_h.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]});function cJ({waypoints:t}){const n=eJ();return y.useEffect(()=>{if(t&&t.length>0){const r=t.map(l=>[l.lat,l.lng]),i=_h.latLngBounds(r);n.fitBounds(i,{padding:[50,50]})}},[t,n]),null}function uJ({route:t}){const[n,r]=y.useState(null),[i,l]=y.useState(!0),[u,d]=y.useState(null);if(!t||!t.waypoints||t.waypoints.length===0)return e.jsx(ue,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",color:"gray.500",children:"Pas de waypoints  afficher"});const g=t.waypoints.sort((p,m)=>p.order-m.order);return y.useEffect(()=>{(async()=>{try{l(!0);const x=g.map(C=>[C.lng,C.lat]).map(C=>C.join(",")).join(";"),S=await fetch(`https://router.project-osrm.org/route/v1/driving/${x}?overview=full&geometries=geojson`,{method:"GET",headers:{Accept:"application/json"}});if(!S.ok)throw new Error("Erreur calcul route");const E=await S.json();if(E.routes&&E.routes.length>0){const T=E.routes[0].geometry.coordinates.map(A=>[A[1],A[0]]);r(T)}}catch(m){console.error("Route calculation error:",m),d(m.message),r(g.map(x=>[x.lat,x.lng]))}finally{l(!1)}})()},[g]),e.jsxs(ue,{borderRadius:"md",overflow:"hidden",boxShadow:"md",h:"500px",position:"relative",children:[i&&e.jsx(jn,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"rgba(255,255,255,0.8)",zIndex:1e3,children:e.jsxs(ie,{spacing:2,children:[e.jsx(hn,{color:"purple.500",size:"lg"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Calcul de l'itinraire rel..."})]})}),e.jsxs(nJ,{center:[g[0].lat,g[0].lng],zoom:10,style:{height:"100%",width:"100%"},children:[e.jsx(iJ,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n&&!u&&e.jsx(VT,{positions:n,color:"purple",weight:5,opacity:.9,dashArray:"0"}),u&&e.jsx(VT,{positions:g.map(p=>[p.lat,p.lng]),color:"red",weight:3,opacity:.6,dashArray:"5, 5"}),g.map((p,m)=>e.jsx(rJ,{position:[p.lat,p.lng],icon:m===0?oJ:m===g.length-1?aJ:lJ,children:e.jsx(sJ,{children:e.jsxs("div",{style:{fontSize:"12px",minWidth:"180px"},children:[e.jsx("strong",{children:p.name}),e.jsx("br",{}),"Lat: ",p.lat.toFixed(4),", Lng: ",p.lng.toFixed(4),e.jsx("br",{}),p.stopTime>0&&e.jsxs("span",{children:["Arrt: ",p.stopTime," min",e.jsx("br",{})]}),e.jsxs("small",{children:["Point ",m+1,"/",g.length]}),t.maxLength&&e.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #ccc"},children:[e.jsx("strong",{children:"Restrictions:"}),e.jsx("br",{}),t.maxLength&&e.jsxs("small",{children:["Long: ",t.maxLength,"m"]}),t.maxHeight&&e.jsxs("small",{children:[" | H: ",t.maxHeight,"m"]}),t.maxWeight&&e.jsxs("small",{children:[" | P: ",t.maxWeight,"t"]})]})]})})},p.order)),e.jsx(cJ,{waypoints:g})]})]})}function dJ(){const{isOpen:t,onOpen:n,onClose:r}=Nt(),i=mn(),[l,u]=y.useState([]),[d,g]=y.useState(!1),[p,m]=y.useState("routes"),[x,v]=y.useState(null),[S,E]=y.useState({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),[C,T]=y.useState({name:"",lat:"",lng:"",stopTime:0}),A="https://attractive-kindness-rbe-serveurs.up.railway.app";y.useEffect(()=>{t&&D()},[t]);const D=async()=>{g(!0);try{const G=await fetch(`${A}/routes`);if(!G.ok)throw new Error("Erreur chargement");const q=await G.json();u(q)}catch(G){i({title:"Erreur",description:G.message,status:"error"})}finally{g(!1)}},M=()=>{if(!C.name||!C.lat||!C.lng){i({title:"Erreur",description:"Remplissez tous les champs",status:"error"});return}E(G=>({...G,waypoints:[...G.waypoints,{...C,lat:parseFloat(C.lat),lng:parseFloat(C.lng),stopTime:parseInt(C.stopTime||0),order:G.waypoints.length}]})),T({name:"",lat:"",lng:"",stopTime:0})},R=G=>{E(q=>({...q,waypoints:q.waypoints.filter((ce,he)=>he!==G)}))},P=async()=>{if(!S.name||S.waypoints.length<2){i({title:"Erreur",description:"Nom + 2+ waypoints requis",status:"error"});return}try{if(!(await fetch(`${A}/routes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).ok)throw new Error("Erreur cration");i({title:"Succs",description:"Itinraire cr!",status:"success"}),E({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),m("routes"),D()}catch(G){i({title:"Erreur",description:G.message,status:"error"})}},z=async G=>{if(window.confirm("Confirmer suppression?"))try{if(!(await fetch(`${A}/routes/${G}`,{method:"DELETE"})).ok)throw new Error("Erreur");i({title:"Supprime",status:"success"}),D()}catch(q){i({title:"Erreur",description:q.message,status:"error"})}},O=G=>{const q=G.totalDistance||0,ce=G.estimatedTime||0,he=Math.floor(ce/60),se=ce%60;return{distance:q,time:`${he}h${se}m`}};return e.jsxs(e.Fragment,{children:[e.jsx(te,{onClick:n,leftIcon:e.jsx(Ec,{}),colorScheme:"purple",size:"md",w:"100%",children:" RtroGPS - Traage d'itinraires"}),e.jsxs(Ct,{isOpen:t,onClose:r,size:"5xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",display:"flex",flexDirection:"column",children:[e.jsx(_t,{children:e.jsxs(oe,{spacing:3,children:[e.jsx(qn,{as:Ec,color:"purple.500",boxSize:6}),e.jsxs(ue,{children:[e.jsx(De,{size:"lg",children:"RtroGPS - Gestion des itinraires"}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Crez et tracez les tournes"})]})]})}),e.jsx(Bt,{}),e.jsx(wt,{overflow:"auto",flex:1,pb:4,children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{spacing:0,borderBottom:"2px solid",borderColor:"gray.200",children:[e.jsxs(te,{variant:p==="routes"?"solid":"ghost",colorScheme:p==="routes"?"purple":"gray",onClick:()=>m("routes"),leftIcon:e.jsx(Ec,{}),children:["Itinraires (",l.length,")"]}),e.jsx(te,{variant:p==="create"?"solid":"ghost",colorScheme:p==="create"?"green":"gray",onClick:()=>m("create"),leftIcon:e.jsx(Bn,{}),children:"Crer"})]}),p==="routes"&&e.jsx(ie,{spacing:4,align:"stretch",children:d?e.jsx(jn,{p:8,children:e.jsx(hn,{})}):l.length===0?e.jsx(jn,{p:8,bg:"gray.50",borderRadius:"md",children:e.jsx(k,{color:"gray.500",children:"Aucun itinraire cr"})}):e.jsxs(dr,{size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{bg:"gray.100",children:[e.jsx($e,{children:"Nom"}),e.jsx($e,{children:"Distance"}),e.jsx($e,{children:"Temps"}),e.jsx($e,{children:"Points"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:l.map(G=>{const q=O(G);return e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Le,{fontWeight:"bold",children:G.name}),e.jsxs(Le,{children:[q.distance," km"]}),e.jsx(Le,{children:q.time}),e.jsx(Le,{textAlign:"center",children:G.waypoints?.length||0}),e.jsx(Le,{children:e.jsxs(oe,{spacing:1,children:[e.jsx(Qs,{label:"Dtails",children:e.jsx(xt,{icon:e.jsx(Na,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>v(G)})}),e.jsx(Qs,{label:"Supprimer",children:e.jsx(xt,{icon:e.jsx(hr,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>z(G.id)})})]})})]},G.id)})})]})}),p==="create"&&e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Nom de l'itinraire"}),e.jsx(ye,{placeholder:"ex: Tourne Essonne Sud",value:S.name,onChange:G=>E(q=>({...q,name:G.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{placeholder:"Dtails du parcours...",value:S.description,onChange:G=>E(q=>({...q,description:G.target.value})),rows:2})]}),e.jsxs(gt,{columns:3,gap:3,children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Longueur max (m)"}),e.jsx(Xn,{value:S.maxLength||"",onChange:G=>E(q=>({...q,maxLength:G?parseFloat(G):null})),children:e.jsx(Qn,{placeholder:"12.5"})})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Hauteur max (m)"}),e.jsx(Xn,{value:S.maxHeight||"",onChange:G=>E(q=>({...q,maxHeight:G?parseFloat(G):null})),children:e.jsx(Qn,{placeholder:"3.8"})})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Poids max (t)"}),e.jsx(Xn,{value:S.maxWeight||"",onChange:G=>E(q=>({...q,maxWeight:G?parseFloat(G):null})),children:e.jsx(Qn,{placeholder:"13"})})]})]}),e.jsx(vn,{}),e.jsx(De,{size:"sm",children:" Points de passage"}),e.jsxs(oe,{spacing:2,align:"flex-end",children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Nom"}),e.jsx(ye,{placeholder:"ex: Dpart",value:C.name,onChange:G=>T(q=>({...q,name:G.target.value})),size:"sm"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Lat"}),e.jsx(ye,{placeholder:"48.8566",value:C.lat,onChange:G=>T(q=>({...q,lat:G.target.value})),size:"sm"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Lng"}),e.jsx(ye,{placeholder:"2.3522",value:C.lng,onChange:G=>T(q=>({...q,lng:G.target.value})),size:"sm"})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"sm",children:"Arrt (min)"}),e.jsx(Xn,{value:C.stopTime,onChange:G=>T(q=>({...q,stopTime:G})),size:"sm",children:e.jsx(Qn,{})})]}),e.jsx(te,{onClick:M,colorScheme:"green",size:"sm",leftIcon:e.jsx(Bn,{}),children:"Ajouter"})]}),S.waypoints.length>0&&e.jsxs(ue,{p:3,bg:"gray.50",borderRadius:"md",maxH:"200px",overflow:"auto",children:[e.jsxs(k,{fontWeight:"bold",mb:2,children:["Waypoints (",S.waypoints.length,"):"]}),S.waypoints.map((G,q)=>e.jsxs(oe,{p:2,bg:"white",borderRadius:"md",mb:1,justify:"space-between",children:[e.jsxs(k,{fontSize:"sm",children:[q+1,". ",e.jsx("strong",{children:G.name})," - ",G.lat.toFixed(4),", ",G.lng.toFixed(4)," (+",G.stopTime,"min)"]}),e.jsx(te,{size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>R(q),children:""})]},q))]}),e.jsx(te,{colorScheme:"purple",size:"lg",w:"100%",onClick:P,isDisabled:!S.name||S.waypoints.length<2,children:" Crer l'itinraire"})]}),x&&e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ue,{p:4,bg:"blue.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"blue.500",children:[e.jsxs(oe,{justify:"space-between",mb:3,children:[e.jsx(De,{size:"md",children:x.name}),e.jsx(te,{size:"sm",variant:"ghost",onClick:()=>v(null),children:""})]}),e.jsxs(ie,{align:"start",spacing:2,fontSize:"sm",children:[e.jsxs(k,{children:[e.jsx("strong",{children:"Description:"})," ",x.description||"N/A"]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Points:"})," ",x.waypoints?.length||0]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Distance:"})," ",O(x).distance," km"]}),e.jsxs(k,{children:[e.jsx("strong",{children:"Temps:"})," ",O(x).time]}),x.maxLength&&e.jsxs(et,{children:["L max: ",x.maxLength,"m"]}),x.maxHeight&&e.jsxs(et,{children:["H max: ",x.maxHeight,"m"]}),x.maxWeight&&e.jsxs(et,{children:["P max: ",x.maxWeight,"t"]})]})]}),e.jsxs(ue,{children:[e.jsxs(oe,{spacing:2,mb:3,children:[e.jsx(qn,{as:DX,color:"purple.500"}),e.jsx(De,{size:"sm",children:"Visualisation de l'itinraire"})]}),e.jsx(uJ,{route:x})]}),e.jsx(te,{colorScheme:"gray",size:"sm",w:"100%",onClick:()=>v(null),children:"Fermer la vue dtails"})]})]})}),e.jsx(Wt,{children:e.jsx(te,{colorScheme:"gray",variant:"outline",onClick:r,children:"Fermer"})})]})]})]})}function hJ(){const[t,n]=y.useState(0);return Fn("gray.50","gray.900"),e.jsx(Dl,{title:"Gestion des vnements",subtitle:"Crez, planifiez et suivez les tournes RtroBus",headerVariant:"card",bgGradient:"linear(to-r, green.500, teal.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"},{label:"vnements",href:"/dashboard/events-management"}],children:e.jsx(ue,{children:e.jsxs(ao,{index:t,onChange:n,variant:"enclosed",colorScheme:"green",children:[e.jsxs(lo,{borderBottom:"2px solid",borderColor:"green.200",children:[e.jsx(ln,{_selected:{color:"white",bg:"green.500"},children:e.jsxs(oe,{spacing:2,children:[e.jsx(pi,{}),e.jsx("span",{children:"Gestion des vnements"})]})}),e.jsx(ln,{_selected:{color:"white",bg:"teal.500"},children:e.jsxs(oe,{spacing:2,children:[e.jsx(S1,{}),e.jsx("span",{children:"Planification"})]})}),e.jsx(ln,{_selected:{color:"white",bg:"purple.500"},children:e.jsxs(oe,{spacing:2,children:[e.jsx(Ec,{}),e.jsx("span",{children:"RtroGPS"})]})})]}),e.jsxs(Bo,{children:[e.jsx(cn,{p:0,pt:6,children:e.jsx(BQ,{})}),e.jsx(cn,{children:e.jsx(ie,{spacing:6,align:"stretch",children:e.jsxs(ue,{p:6,bg:"teal.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"teal.500",children:[e.jsx(De,{size:"md",mb:2,children:" Vue Calendrier"}),e.jsx("p",{children:"Bientt disponible : calendrier interactif de vos tournes et vnements."})]})})}),e.jsx(cn,{children:e.jsx(ie,{spacing:6,align:"stretch",children:e.jsx(dJ,{})})})]})]})})})}const fJ=({value:t,onChange:n,isRequired:r=!1})=>{const[i,l]=y.useState([]),[u,d]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const m=localStorage.getItem("token"),x=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/vehicles",{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});if(x.ok){const v=await x.json();l(v)}}catch(m){console.error("Erreur lors du chargement des vhicules:",m)}finally{d(!1)}})()},[]);const g=i.find(p=>p.parc===t);return e.jsxs(ue,{children:[e.jsxs(J,{children:["Vhicule participant ",r&&e.jsx(k,{as:"span",color:"red.500",children:"*"})]}),u?e.jsxs(er,{align:"center",justify:"center",py:4,children:[e.jsx(hn,{size:"sm",mr:2}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Chargement des vhicules..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(lt,{placeholder:"Slectionner un vhicule (optionnel)",value:t,onChange:p=>n(p.target.value),bg:"white",children:i.map(p=>e.jsxs("option",{value:p.parc,children:[p.marque," ",p.modele," - ",p.parc,p.immat&&` (${p.immat})`]},p.parc))}),g&&e.jsxs(ue,{mt:3,p:3,bg:"blue.50",borderRadius:"md",border:"1px solid",borderColor:"blue.200",children:[e.jsxs(er,{align:"center",children:[g.gallery&&g.gallery[0]&&e.jsx(Mi,{src:`https://refreshing-adaptation-rbe-serveurs.up.railway.app${g.gallery[0]}`,alt:`${g.marque} ${g.modele}`,boxSize:"60px",objectFit:"cover",borderRadius:"md",mr:3}),e.jsxs(ue,{flex:1,children:[e.jsxs(k,{fontWeight:"bold",color:"blue.700",children:[g.marque," ",g.modele]}),e.jsxs(oe,{spacing:2,mt:1,children:[e.jsx(et,{colorScheme:"blue",fontSize:"xs",children:g.parc}),g.immat&&e.jsx(et,{colorScheme:"green",fontSize:"xs",children:g.immat}),g.miseEnCirculation&&e.jsx(et,{colorScheme:"orange",fontSize:"xs",children:new Date(g.miseEnCirculation).getFullYear()})]}),g.subtitle&&e.jsx(k,{fontSize:"sm",color:"gray.600",mt:1,children:g.subtitle})]})]}),e.jsxs(ie,{spacing:2,align:"start",mt:3,children:[e.jsx(k,{fontSize:"xs",color:"blue.600",fontStyle:"italic",fontWeight:"semibold",children:" Ce vhicule sera mis en avant sur sa page individuelle avec une banderole spciale pour cet vnement"}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:"Les visiteurs verront une banderole thmatique adapte au type d'vnement sur la page de ce vhicule."})]})]})]}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:2,children:"Slectionnez un vhicule pour qu'il soit associ  cet vnement. Une banderole apparatra sur sa page pour informer les visiteurs de sa participation."})]})},Qy={public_info_only:{name:"Information publique",color:"blue",description:"vnement d'information sans inscription",defaults:{isVisible:!0,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"public_info_only"}},paid_event:{name:"vnement payant",color:"green",description:"vnement avec tarifs et inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!1,registrationMethod:"helloasso",eventType:"paid_event"}},free_registration:{name:"Inscription gratuite",color:"purple",description:"vnement gratuit avec inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!0,registrationMethod:"internal",eventType:"free_registration"}},internal_only:{name:"vnement interne",color:"orange",description:"vnement rserv aux membres",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"internal_only"}},maintenance:{name:"Maintenance/Atelier",color:"red",description:"Activit de maintenance ou atelier technique",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"maintenance"}}};function pJ(){const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(!0),[d,g]=y.useState(!1),[p,m]=y.useState("cards"),[x,v]=y.useState(""),{isOpen:S,onOpen:E,onClose:C}=Nt(),[T,A]=y.useState(null),[D,M]=y.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),R=mn(),P=y.useCallback(async()=>{try{u(!0);const re=await Do.getAll();n(Array.isArray(re)?re:[])}catch(re){console.error(re),R({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements"}),n([])}finally{u(!1)}},[R]),z=y.useCallback(async()=>{try{const re=await hp.getAll();i(Array.isArray(re)?re:[])}catch(re){console.error(re),i([])}},[]);y.useEffect(()=>{P(),z()},[P,z]);const O=()=>{M({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),v(""),A(null)},G=re=>{const K=Qy[re];K&&(M(W=>({...W,...K.defaults,eventType:re})),v(re),R({status:"info",title:"Template appliqu",description:K.description}))},q=()=>{A(null),O(),E()},ce=re=>{A(re);let K={};try{K=re.extras?JSON.parse(re.extras):{}}catch(W){console.log("Impossible de parser extras:",W)}M({title:re.title||"",date:re.date?re.date.split("T")[0]:"",time:re.time||"",location:re.location||"",description:re.description||"",adultPrice:re.adultPrice?re.adultPrice.toString():"",childPrice:re.childPrice?re.childPrice.toString():"",helloAssoUrl:re.helloAssoUrl||"",vehicleId:re.vehicleId||"",status:re.status||"DRAFT",isVisible:K.isVisible!==void 0?K.isVisible:!0,allowPublicRegistration:K.allowPublicRegistration||!1,requiresRegistration:K.requiresRegistration||!1,isFree:K.isFree!==void 0?K.isFree:!0,maxParticipants:K.maxParticipants?K.maxParticipants.toString():"",registrationDeadline:K.registrationDeadline||"",registrationMethod:K.registrationMethod||"none",pdfUrl:K.pdfUrl||"",eventType:K.eventType||"public_info_only"}),v(K.eventType||""),E()},he=async()=>{if(!D.title.trim()||!D.date){R({status:"error",title:"Champs requis",description:"Le titre et la date sont obligatoires"});return}try{g(!0);const re={title:D.title.trim(),date:D.date,time:D.time||null,location:D.location.trim()||null,description:D.description.trim()||null,adultPrice:D.adultPrice?parseFloat(D.adultPrice):null,childPrice:D.childPrice?parseFloat(D.childPrice):null,helloAssoUrl:D.helloAssoUrl.trim()||null,vehicleId:D.vehicleId||null,status:D.status,extras:JSON.stringify({isVisible:D.isVisible,allowPublicRegistration:D.allowPublicRegistration,requiresRegistration:D.requiresRegistration,isFree:D.isFree,maxParticipants:D.maxParticipants?parseInt(D.maxParticipants):null,registrationDeadline:D.registrationDeadline||null,registrationMethod:D.registrationMethod,pdfUrl:D.pdfUrl||null,eventType:D.eventType})};if(T)await Do.update(T.id,re),R({status:"success",title:"vnement modifi",description:"Les modifications ont t sauvegardes"});else{const K=D.title.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"").substring(0,20)+new Date().getFullYear();await Do.create({id:K,...re}),R({status:"success",title:"vnement cr",description:"Le nouvel vnement a t cr avec succs"})}P(),C(),O()}catch(re){console.error(re),R({status:"error",title:"Erreur de sauvegarde",description:"Impossible de sauvegarder l'vnement"})}finally{g(!1)}},se=async()=>{const re=localStorage.getItem("token");if(console.log(" Testing API connection..."),!re){R({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const K=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re}`}});K.ok?R({status:"success",title:"API fonctionnelle",description:"La connexion API fonctionne"}):R({status:"error",title:"Erreur API",description:`Status: ${K.status}`})}catch(K){R({status:"error",title:"Erreur rseau",description:K.message})}},ge=re=>{const K={DRAFT:{colorScheme:"gray",label:"Brouillon"},PUBLISHED:{colorScheme:"green",label:"Publi"},ARCHIVED:{colorScheme:"orange",label:"Archiv"}},W=K[re]||K.DRAFT;return e.jsx(et,{colorScheme:W.colorScheme,children:W.label})},Ae=re=>{const K=typeof re.extras=="string"?JSON.parse(re.extras||"{}"):re.extras||{},W=Qy[K.eventType];return W?e.jsx(et,{colorScheme:W.color,variant:"outline",children:W.name}):null},de=re=>{const K=r.find(W=>W.parc===re);return K?`${K.parc} - ${K.modele}`:"Aucun vhicule"};return e.jsxs(ue,{p:6,children:[e.jsxs(er,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{children:" Cration des vnements"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(oe,{spacing:3,children:[e.jsx(te,{leftIcon:e.jsx(Bs,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:se,children:"Tester API"}),e.jsx(te,{leftIcon:p==="cards"?e.jsx(VP,{}):e.jsx(E1,{}),size:"sm",variant:"outline",onClick:()=>m(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:q,children:"Nouvel vnement"})]})]}),l?e.jsx(jn,{py:20,children:e.jsx(hn,{size:"xl"})}):t.length===0?e.jsx(jn,{py:20,children:e.jsxs(ie,{spacing:4,children:[e.jsx(k,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:q,children:"Crer le premier vnement"})]})}):e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(re=>e.jsxs(Ne,{shadow:"md",position:"relative",children:[e.jsx(Dt,{pb:2,children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsx(oe,{justify:"space-between",w:"100%",children:e.jsx(De,{size:"md",noOfLines:2,flex:1,children:re.title})}),e.jsxs(oe,{spacing:2,wrap:"wrap",children:[ge(re.status),Ae(re)]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsxs(oe,{children:[e.jsx(pi,{}),e.jsxs(k,{fontSize:"sm",children:[re.date," ",re.time&&` ${re.time}`]})]}),re.location&&e.jsxs(oe,{children:[e.jsx(Ec,{}),e.jsx(k,{fontSize:"sm",children:re.location})]}),re.vehicleId&&e.jsxs(oe,{children:[e.jsx(k,{fontSize:"sm",children:""}),e.jsx(k,{fontSize:"sm",fontWeight:"semibold",color:"blue.600",children:de(re.vehicleId)})]}),re.description&&e.jsx(k,{fontSize:"sm",color:"gray.600",noOfLines:3,children:re.description}),e.jsx(te,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>ce(re),w:"100%",children:"Modifier"})]})})]},re.id))}),e.jsxs(Ct,{isOpen:S,onClose:C,size:"6xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:T?"Modifier l'vnement":"Crer un nouvel vnement"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ao,{children:[e.jsxs(lo,{children:[e.jsx(ln,{children:"Informations de base"}),e.jsx(ln,{children:"Configuration"}),e.jsx(ln,{children:"Inscription & Prix"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:2,children:"Dmarrage rapide :"}),e.jsx(oe,{spacing:2,wrap:"wrap",children:Object.entries(Qy).map(([re,K])=>e.jsx(te,{size:"sm",colorScheme:K.color,variant:x===re?"solid":"outline",onClick:()=>G(re),children:K.name},re))})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Titre"}),e.jsx(ye,{value:D.title,onChange:re=>M(K=>({...K,title:re.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(oe,{w:"100%",spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Date"}),e.jsx(ye,{type:"date",value:D.date,onChange:re=>M(K=>({...K,date:re.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Heure"}),e.jsx(ye,{type:"time",value:D.time,onChange:re=>M(K=>({...K,time:re.target.value}))})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Lieu"}),e.jsx(ye,{value:D.location,onChange:re=>M(K=>({...K,location:re.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Vhicule assign"}),e.jsx(fJ,{vehicles:r,value:D.vehicleId,onChange:re=>M(K=>({...K,vehicleId:re}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:D.description,onChange:re=>M(K=>({...K,description:re.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Statut"}),e.jsxs(lt,{value:D.status,onChange:re=>M(K=>({...K,status:re.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"}),e.jsx("option",{value:"ARCHIVED",children:"Archiv"})]})]}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:"0",children:"Visible sur le site public"}),e.jsx(Sr,{isChecked:D.isVisible,onChange:re=>M(K=>({...K,isVisible:re.target.checked}))})]}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:"0",children:"Inscription requise"}),e.jsx(Sr,{isChecked:D.requiresRegistration,onChange:re=>M(K=>({...K,requiresRegistration:re.target.checked}))})]}),D.requiresRegistration&&e.jsxs(ee,{children:[e.jsx(J,{children:"Mthode d'inscription"}),e.jsxs(lt,{value:D.registrationMethod,onChange:re=>M(K=>({...K,registrationMethod:re.target.value})),children:[e.jsx("option",{value:"none",children:"Aucune"}),e.jsx("option",{value:"helloasso",children:"HelloAsso"}),e.jsx("option",{value:"pdf",children:"Formulaire PDF"}),e.jsx("option",{value:"internal",children:"Systme interne"})]})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:"0",children:"vnement gratuit"}),e.jsx(Sr,{isChecked:D.isFree,onChange:re=>M(K=>({...K,isFree:re.target.checked}))})]}),!D.isFree&&e.jsxs(oe,{w:"100%",spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Prix adulte ()"}),e.jsx(ye,{type:"number",step:"0.01",value:D.adultPrice,onChange:re=>M(K=>({...K,adultPrice:re.target.value})),placeholder:"0.00"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Prix enfant ()"}),e.jsx(ye,{type:"number",step:"0.01",value:D.childPrice,onChange:re=>M(K=>({...K,childPrice:re.target.value})),placeholder:"0.00"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Nombre maximum de participants"}),e.jsx(ye,{type:"number",value:D.maxParticipants,onChange:re=>M(K=>({...K,maxParticipants:re.target.value})),placeholder:"Illimit"})]}),D.registrationMethod==="helloasso"&&e.jsxs(ee,{children:[e.jsx(J,{children:"URL HelloAsso"}),e.jsx(ye,{value:D.helloAssoUrl,onChange:re=>M(K=>({...K,helloAssoUrl:re.target.value})),placeholder:"https://www.helloasso.com/..."})]}),D.registrationMethod==="pdf"&&e.jsxs(ee,{children:[e.jsx(J,{children:"URL du formulaire PDF"}),e.jsx(ye,{value:D.pdfUrl,onChange:re=>M(K=>({...K,pdfUrl:re.target.value})),placeholder:"https://exemple.com/formulaire.pdf"})]})]})})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:()=>{C(),O()},children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:he,isLoading:d,children:T?"Modifier":"Crer"})]})]})]})]})}function mJ(){return e.jsxs(ue,{p:6,bg:"green.100",minH:"100vh",children:[e.jsx(De,{color:"green.800",mb:4,children:" TEST - Gestion des vnements"}),e.jsx(k,{color:"green.700",mb:4,children:"Si vous voyez cette page, la redirection depuis MyRBE fonctionne !"}),e.jsx(te,{as:or,to:"/dashboard/myrbe",colorScheme:"green",children:"Retour  MyRBE"})]})}function Jy(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function gJ(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function xJ(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function dD(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function UT(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function HT(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function vJ(t){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function WT(t){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function yJ(t){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function hD(t){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function fD(t){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function T1(t,{preferUpperLast:n=!0}={}){if(!t)return"Utilisateur";const r=t.firstName||t.prenom||t.given_name||"",i=t.lastName||t.nom||t.family_name||"",l=t.username||t.matricule||"",u=t.email||"",d=[];return n&&i&&d.push(String(i).toUpperCase()),r&&d.push(r),d.length?d.join(" ").trim():i||r?[r,i].filter(Boolean).join(" ").trim():l||u||"Utilisateur"}function A1(t){if(!t)return"Adhrent";const n=t.firstName||"",r=t.lastName||"",i=t.memberNumber||"",l=t.email||"",d=[r?String(r).toUpperCase():"",n].filter(Boolean).join(" ").trim()||l||i||"Adhrent";return i?`${d} - #${i}`:d}const Xf={async getAll(t){const n=await fetch("/api/email-templates",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`Failed to fetch templates: ${n.statusText}`);return n.json()},async getById(t,n){const r=await fetch(`/api/email-templates/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error(`Failed to fetch template: ${r.statusText}`);return r.json()},async create(t,n){const r=await fetch("/api/email-templates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to create template")}return r.json()},async update(t,n,r){const i=await fetch(`/api/email-templates/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to update template")}return i.json()},async delete(t,n){const r=await fetch(`/api/email-templates/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to delete template")}return r.json()},async preview(t,n,r){const i=await fetch(`/api/email-templates/preview/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to preview template")}return i.json()}};function bJ({isOpen:t,onClose:n,template:r,onSave:i,isLoading:l}){const[u,d]=y.useState({name:"",subject:"",body:"",description:"",variables:"",active:!0});y.useEffect(()=>{d(r||{name:"",subject:"",body:"",description:"",variables:"",active:!0})},[r,t]);const g=m=>{const{name:x,value:v,checked:S,type:E}=m.target;d(C=>({...C,[x]:E==="checkbox"?S:v}))},p=()=>{if(!u.name.trim()||!u.subject.trim()||!u.body.trim()){alert("Name, subject, and body are required");return}i(u)};return e.jsxs(Ct,{isOpen:t,onClose:n,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:r?.id?"Edit Template":"Create New Template"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ca,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Template Name (unique, lowercase)"}),e.jsx(ye,{name:"name",value:u.name,onChange:g,placeholder:"e.g., ticket_created",isDisabled:!!r?.id}),e.jsx(Jg,{children:"Use lowercase letters, numbers, and underscores. Cannot be changed after creation."})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Subject (supports variables)"}),e.jsx(ye,{name:"subject",value:u.subject,onChange:g,placeholder:"New ticket: {{ticket.id}}"}),e.jsx(Jg,{children:"Use double curly braces for variables, e.g.: ticket.id, creator.name"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Body (supports variables)"}),e.jsx(Yt,{name:"body",value:u.body,onChange:g,placeholder:"Enter email body...",minH:"200px"}),e.jsx(Jg,{children:"Use double curly braces for variables. Supports plain text."})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{name:"description",value:u.description,onChange:g,placeholder:"Describe when and how this template is used...",minH:"80px"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Available Variables (comma-separated, for documentation)"}),e.jsx(Yt,{name:"variables",value:u.variables,onChange:g,placeholder:"ticket.id, ticket.title, creator.name, creator.email",minH:"60px"})]}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{htmlFor:"active",mb:"0",children:"Active"}),e.jsx(Sr,{id:"active",name:"active",isChecked:u.active,onChange:g,ml:4})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:n,children:"Cancel"}),e.jsxs(te,{colorScheme:"blue",onClick:p,isLoading:l,children:[r?.id?"Update":"Create"," Template"]})]})]})]})}function jJ({isOpen:t,onClose:n,template:r,token:i}){const[l,u]=y.useState(`{
  "ticket": {
    "id": "T-001",
    "title": "Test ticket"
  },
  "creator": {
    "name": "John Doe",
    "email": "john@example.com"
  }
}`),[d,g]=y.useState(null),[p,m]=y.useState(!1),[x,v]=y.useState(null),S=mn(),E=async()=>{try{m(!0),v(null);const C=JSON.parse(l),T=await Xf.preview(r.name,C,i);g(T.preview)}catch(C){v(C.message),S({title:"Error",description:C.message,status:"error",duration:3})}finally{m(!1)}};return e.jsxs(Ct,{isOpen:t,onClose:n,size:"2xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsxs(_t,{children:["Preview Template: ",r?.name]}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ca,{spacing:4,children:[e.jsxs(ue,{children:[e.jsx(J,{children:"Test Data (JSON)"}),e.jsx(Yt,{value:l,onChange:C=>u(C.target.value),fontFamily:"monospace",fontSize:"xs",minH:"150px"})]}),e.jsx(te,{onClick:E,colorScheme:"blue",isLoading:p,children:"Generate Preview"}),x&&e.jsxs(ue,{p:3,bg:"red.50",borderRadius:"md",color:"red.800",children:["Error: ",x]}),d&&e.jsxs(ie,{align:"start",spacing:3,p:3,bg:"gray.50",borderRadius:"md",children:[e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Subject:"}),e.jsx(k,{fontFamily:"monospace",fontSize:"sm",children:d.subject})]}),e.jsx(vn,{}),e.jsxs(ue,{w:"100%",children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Body:"}),e.jsx(ue,{p:3,bg:"white",borderRadius:"md",border:"1px solid",borderColor:"gray.200",fontSize:"sm",whiteSpace:"pre-wrap",fontFamily:"monospace",children:d.body})]})]})]})}),e.jsx(Wt,{children:e.jsx(te,{colorScheme:"blue",onClick:n,children:"Close"})})]})]})}function SJ({token:t}){const[n,r]=y.useState([]),[i,l]=y.useState(!1),[u,d]=y.useState(null),[g,p]=y.useState(null),[m,x]=y.useState(null),{isOpen:v,onOpen:S,onClose:E}=Nt(),{isOpen:C,onOpen:T,onClose:A}=Nt(),D=mn();y.useEffect(()=>{M()},[t]);const M=async()=>{try{l(!0),d(null);const q=await Xf.getAll(t);r(q.templates||[])}catch(q){d(q.message),D({title:"Error loading templates",description:q.message,status:"error",duration:3})}finally{l(!1)}},R=()=>{p(null),S()},P=q=>{p(q),S()},z=q=>{x(q),T()},O=async q=>{if(confirm(`Are you sure you want to delete template "${q.name}"?`))try{await Xf.delete(q.id,t),D({title:"Template deleted",status:"success",duration:2}),M()}catch(ce){D({title:"Error deleting template",description:ce.message,status:"error",duration:3})}},G=async q=>{try{g?.id?(await Xf.update(g.id,q,t),D({title:"Template updated",status:"success",duration:2})):(await Xf.create(q,t),D({title:"Template created",status:"success",duration:2})),E(),M()}catch(ce){D({title:"Error saving template",description:ce.message,status:"error",duration:3})}};return e.jsxs(ue,{p:6,children:[e.jsxs(er,{justify:"space-between",align:"center",mb:6,children:[e.jsx(De,{size:"lg",children:"Email Templates"}),e.jsx(te,{leftIcon:e.jsx(AK,{}),colorScheme:"green",onClick:R,children:"Create Template"})]}),u&&e.jsx(ue,{p:4,mb:6,bg:"red.50",borderRadius:"md",color:"red.800",children:u}),i?e.jsx(er,{justify:"center",py:12,children:e.jsx(hn,{size:"lg"})}):n.length===0?e.jsx(Ne,{children:e.jsx(Ie,{textAlign:"center",py:12,children:e.jsx(k,{color:"gray.500",children:"No templates yet. Create your first one!"})})}):e.jsx(Xs,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:n.map(q=>e.jsxs(Ne,{children:[e.jsx(Dt,{pb:2,children:e.jsx(er,{justify:"space-between",align:"start",children:e.jsxs(ie,{align:"start",spacing:1,flex:1,children:[e.jsx(De,{size:"md",children:q.name}),e.jsx(et,{colorScheme:q.active?"green":"gray",children:q.active?"Active":"Inactive"})]})})}),e.jsx(vn,{}),e.jsx(Ie,{children:e.jsxs(ca,{spacing:3,children:[e.jsxs(ue,{children:[e.jsx(k,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Subject:"}),e.jsx(k,{fontSize:"sm",noOfLines:2,children:q.subject})]}),q.description&&e.jsxs(ue,{children:[e.jsx(k,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Description:"}),e.jsx(k,{fontSize:"sm",noOfLines:2,children:q.description})]}),e.jsxs(oe,{spacing:2,pt:2,children:[e.jsx(Qs,{label:"Preview",children:e.jsx(te,{size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>z(q),children:e.jsx(em,{})})}),e.jsx(Qs,{label:"Edit",children:e.jsx(te,{size:"sm",variant:"outline",colorScheme:"orange",onClick:()=>P(q),children:e.jsx(x1,{})})}),e.jsx(Qs,{label:"Delete",children:e.jsx(te,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>O(q),children:e.jsx(av,{})})})]})]})})]},q.id))}),e.jsx(bJ,{isOpen:v,onClose:E,template:g,onSave:G,isLoading:i}),m&&e.jsx(jJ,{isOpen:C,onClose:A,template:m,token:t})]})}const EJ=()=>{const[t,n]=y.useState([]),[r,i]=y.useState(!0),[l,u]=y.useState(null),[d,g]=y.useState(""),[p,m]=y.useState(""),x=mn(),v=Nt(),S=Nt(),E=Nt(),[C,T]=y.useState({name:"",description:"",docType:"QUOTE",htmlContent:"",cssContent:"",isDefault:!1});y.useEffect(()=>{A()},[]);const A=async()=>{try{i(!0);const q=await fetch("/api/document-templates");if(!q.ok)throw new Error("Failed to load templates");const ce=await q.json();n(ce),m("")}catch(q){m(q.message),x({title:"Erreur",description:q.message,status:"error"})}finally{i(!1)}},D=async()=>{try{if(!C.name||!C.htmlContent){x({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}if(!(await fetch("/api/document-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...C,createdBy:"admin"})})).ok)throw new Error("Failed to create template");x({title:"Succs",description:"Template cr avec succs",status:"success"}),A(),O(),v.onClose()}catch(q){x({title:"Erreur",description:q.message,status:"error"})}},M=async()=>{try{if(!C.name||!C.htmlContent){x({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}if(!(await fetch(`/api/document-templates/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).ok)throw new Error("Failed to update template");x({title:"Succs",description:"Template mis  jour",status:"success"}),A(),O(),S.onClose()}catch(q){x({title:"Erreur",description:q.message,status:"error"})}},R=async q=>{if(window.confirm("tes-vous sr de vouloir supprimer ce template?"))try{if(!(await fetch(`/api/document-templates/${q}`,{method:"DELETE"})).ok)throw new Error("Failed to delete template");x({title:"Succs",description:"Template supprim",status:"success"}),A()}catch(ce){x({title:"Erreur",description:ce.message,status:"error"})}},P=async q=>{try{const ce=await fetch(`/api/document-templates/${q.id}/preview`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!ce.ok)throw new Error("Failed to generate preview");const he=await ce.json();g(he.html),u(q),E.onOpen()}catch(ce){x({title:"Erreur",description:ce.message,status:"error"})}},z=q=>{u(q),T({name:q.name,description:q.description||"",docType:q.docType,htmlContent:q.htmlContent,cssContent:q.cssContent||"",isDefault:q.isDefault}),S.onOpen()},O=()=>{T({name:"",description:"",docType:"QUOTE",htmlContent:"",cssContent:"",isDefault:!1}),u(null)},G=()=>{O(),v.onOpen()};return e.jsxs(ue,{p:6,children:[e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(k,{fontSize:"2xl",fontWeight:"bold",children:"Gestion des Templates de Documents"}),e.jsx(k,{color:"gray.500",fontSize:"sm",children:"Crez et personnalisez les templates HTML pour vos devis et factures"})]}),e.jsx(te,{colorScheme:"blue",onClick:G,children:"+ Nouveau Template"})]}),e.jsx(vn,{}),r?e.jsx(k,{children:"Chargement..."}):t.length===0?e.jsxs(ue,{p:8,textAlign:"center",bg:"gray.50",borderRadius:"md",children:[e.jsx(k,{color:"gray.500",children:"Aucun template disponible"}),e.jsx(te,{colorScheme:"blue",mt:4,onClick:G,children:"Crer le premier template"})]}):e.jsx(ue,{overflowX:"auto",children:e.jsxs(dr,{variant:"simple",size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{bg:"gray.100",children:[e.jsx($e,{children:"Nom"}),e.jsx($e,{children:"Type"}),e.jsx($e,{children:"Description"}),e.jsx($e,{children:"Dfaut"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:t.map(q=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Le,{fontWeight:"600",children:q.name}),e.jsx(Le,{children:e.jsx(et,{colorScheme:q.docType==="QUOTE"?"blue":"green",children:q.docType})}),e.jsx(Le,{fontSize:"sm",children:q.description||"-"}),e.jsx(Le,{children:q.isDefault&&e.jsx(et,{colorScheme:"yellow",children:"Dfaut"})}),e.jsx(Le,{children:e.jsxs(oe,{spacing:2,children:[e.jsx(xt,{icon:e.jsx(em,{}),size:"sm",variant:"ghost",onClick:()=>P(q),title:"Aperu"}),e.jsx(xt,{icon:e.jsx(x1,{}),size:"sm",variant:"ghost",onClick:()=>z(q),title:"Modifier"}),e.jsx(xt,{icon:e.jsx(av,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>R(q.id),title:"Supprimer"})]})})]},q.id))})]})})]}),e.jsxs(Ct,{isOpen:v.isOpen,onClose:v.onClose,size:"2xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(_t,{children:"Crer un nouveau template"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsx(ye,{placeholder:"Nom du template",value:C.name,onChange:q=>T({...C,name:q.target.value})}),e.jsx(Yt,{placeholder:"Description (optionnel)",value:C.description,onChange:q=>T({...C,description:q.target.value})}),e.jsxs(lt,{value:C.docType,onChange:q=>T({...C,docType:q.target.value}),children:[e.jsx("option",{value:"QUOTE",children:"Devis"}),e.jsx("option",{value:"INVOICE",children:"Facture"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(k,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(Yt,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:C.htmlContent,onChange:q=>T({...C,htmlContent:q.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(k,{fontSize:"sm",fontWeight:"600",mb:2,children:"CSS personnalis (optionnel)"}),e.jsx(Yt,{placeholder:"body { font-family: Arial; }",value:C.cssContent,onChange:q=>T({...C,cssContent:q.target.value}),minH:"100px",fontFamily:"mono",fontSize:"xs"})]}),e.jsx(oe,{children:e.jsx(Ba,{isChecked:C.isDefault,onChange:q=>T({...C,isDefault:q.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(ue,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(k,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(k,{fontSize:"xs",fontFamily:"mono",children:"{{NUMERO}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{TOTAL}}, {{DUE_DATE}}, {{STATUS}}, {{PAYMENT_METHOD}}, {{NOTES}}"})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:v.onClose,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:D,children:"Crer"})]})]})]}),e.jsxs(Ct,{isOpen:S.isOpen,onClose:S.onClose,size:"2xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(_t,{children:"Modifier le template"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsx(ye,{placeholder:"Nom du template",value:C.name,onChange:q=>T({...C,name:q.target.value})}),e.jsx(Yt,{placeholder:"Description (optionnel)",value:C.description,onChange:q=>T({...C,description:q.target.value})}),e.jsxs(lt,{value:C.docType,onChange:q=>T({...C,docType:q.target.value}),children:[e.jsx("option",{value:"QUOTE",children:"Devis"}),e.jsx("option",{value:"INVOICE",children:"Facture"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(k,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(Yt,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:C.htmlContent,onChange:q=>T({...C,htmlContent:q.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(k,{fontSize:"sm",fontWeight:"600",mb:2,children:"CSS personnalis (optionnel)"}),e.jsx(Yt,{placeholder:"body { font-family: Arial; }",value:C.cssContent,onChange:q=>T({...C,cssContent:q.target.value}),minH:"100px",fontFamily:"mono",fontSize:"xs"})]}),e.jsx(oe,{children:e.jsx(Ba,{isChecked:C.isDefault,onChange:q=>T({...C,isDefault:q.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(ue,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(k,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(k,{fontSize:"xs",fontFamily:"mono",children:"{{NUMERO}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{TOTAL}}, {{DUE_DATE}}, {{STATUS}}, {{PAYMENT_METHOD}}, {{NOTES}}"})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:S.onClose,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:M,children:"Mettre  jour"})]})]})]}),e.jsxs(Ct,{isOpen:E.isOpen,onClose:E.onClose,size:"4xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",children:[e.jsxs(_t,{children:["Aperu du template: ",l?.name]}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsx(ue,{p:6,bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"md",dangerouslySetInnerHTML:{__html:d},overflowY:"auto",maxH:"60vh"})}),e.jsx(Wt,{children:e.jsx(te,{onClick:E.onClose,children:"Fermer"})})]})]})]})},ss={siteUsers:["api/site-users","site-users"],members:["api/members","members"],siteConfig:["api/site-config","site-config"],changelog:["api/changelog","changelog"],retroNews:["api/retro-news","retro-news"],notifications:["api/notifications","notifications"]},ju=()=>"api/site-users",jj=()=>"api/members",Nf=()=>"api/site-config",kg=()=>"api/changelog",Su=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",Sj=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",If=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",Mg=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",CJ=()=>"https://attractive-kindness-rbe-serveurs.up.railway.app",fp=t=>String(t||"").trim().replace(/^\/+|\/+$/g,""),wJ=()=>fp(""),is=(t,n,r="",i)=>{const l=fp(r),u=wJ(),d=new Set;typeof window<"u"&&window.location?.origin&&window.location.origin.replace(/\/+$/,"");const g=m=>{const x=[fp(m)];l&&x.push(l);const v=x.filter(Boolean).join("/");v&&d.add(v)},p=m=>{if(!u)return;const x=fp(m);x.startsWith(`${u}/`)||g(`${u}/${x}`)};return n&&g(n),t.forEach(m=>p(m)),t.forEach(m=>g(m)),Array.from(d)},rm=async(t,n,r)=>{Array.isArray(t)||(t=[t]);const i=[];for(const l of t)try{const u=fp(l);if(!u)continue;const d=u.startsWith("/")?u:`/${u}`;let g;return n==="GET"?g=await Pt.get(d):n==="POST"?g=await Pt.post(d,r):n==="PUT"?g=await Pt.put(d,r):n==="PATCH"?g=await Pt.patch(d,r):n==="DELETE"&&(g=await Pt.delete(d)),console.log(` Success with URL: ${d}`),{data:g,headers:{},url:d}}catch(u){i.push(`${l}: ${u.message}`),console.log(` Failed URL ${l}: ${u.message}`)}throw new Error(`All URLs failed: ${i.join(" | ")}`)},Sl=async t=>rm(t,"GET"),R1=async(t,n)=>rm(t,"POST",n),Qf=async(t,n)=>rm(t,"PUT",n),_J=async(t,n)=>rm(t,"PATCH",n),pD=async t=>rm(t,"DELETE");function TJ(){const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(!0),[d,g]=y.useState(""),[p,m]=y.useState("ALL"),[x,v]=y.useState("ALL"),[S,E]=y.useState(null),[C,T]=y.useState({}),[A,D]=y.useState([]),[M,R]=y.useState(0),{isOpen:P,onOpen:z,onClose:O}=Nt(),{isOpen:G,onOpen:q,onClose:ce}=Nt(),he=mn(),se=Fn("white","gray.800");y.useEffect(()=>{ge(),Ae(),de(),re()},[]);const ge=async()=>{try{u(!0);const F=(await Sl(is(ss.siteUsers,ju(),"",Su()))).data;n(Array.isArray(F)?F:F?.users||[])}catch($){console.error("Erreur chargement utilisateurs:",$),he({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}finally{u(!1)}},Ae=async()=>{try{const F=(await Sl(is(ss.members,jj(),"",Sj()),{params:{status:"ACTIVE"}})).data;i(Array.isArray(F)?F:F?.members||[])}catch($){console.error("Erreur chargement membres:",$),he({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},de=async()=>{try{const $=await Sl(is(ss.siteUsers,ju(),"stats",Su()));T($.data||{})}catch($){if(console.error("Erreur chargement stats:",$),Array.isArray(t)&&t.length>0){const F=t.length,U=t.filter(Re=>Re.isActive).length,Y=t.filter(Re=>!!Re.linkedMember).length,be=Date.now()-1440*60*1e3,Te=t.filter(Re=>Re.lastLoginAt&&new Date(Re.lastLoginAt).getTime()>=be).length;T({totalUsers:F,activeUsers:U,linkedUsers:Y,recentLogins:Te}),he({title:"Stats calcules localement",description:"Endpoint /site-users/stats indisponible, valeurs estimes  partir des utilisateurs chargs.",status:"info",duration:4e3})}else he({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},re=async()=>{try{const F=(await Sl(is(ss.retroNews,"","",CJ()))).data||[];D(Array.isArray(F)?F:[])}catch($){console.error("Erreur chargement RtroNews:",$),D([])}},K=()=>{ge(),Ae(),de()},W=t.filter($=>{const F=$.username?.toLowerCase().includes(d.toLowerCase())||$.email?.toLowerCase().includes(d.toLowerCase())||$.firstName?.toLowerCase().includes(d.toLowerCase())||$.lastName?.toLowerCase().includes(d.toLowerCase()),U=p==="ALL"||$.role===p,Y=x==="ALL"||x==="ACTIVE"&&$.isActive||x==="INACTIVE"&&!$.isActive;return F&&U&&Y});return e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"md",children:" Gestion des Accs Sites"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Gestion des comptes d'accs aux sites interne et externe"})]}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:z,children:"Crer un accs"})]}),e.jsxs(gt,{columns:{base:2,md:3},spacing:4,children:[e.jsx(Ne,{bg:se,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Total accs"}),e.jsx(yt,{color:"blue.500",children:C.totalUsers||0})]})})}),e.jsx(Ne,{bg:se,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Lis aux adhsions"}),e.jsx(yt,{color:"purple.500",children:C.linkedUsers||0})]})})}),e.jsx(Ne,{bg:se,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Connexions 24h"}),e.jsx(yt,{color:"orange.500",children:C.recentLogins||0})]})})})]}),A.length>0&&e.jsxs(Ne,{bg:se,children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(De,{size:"sm",children:" RtroNews"}),e.jsxs(oe,{spacing:2,children:[e.jsx(xt,{icon:e.jsx($P,{}),size:"sm",onClick:()=>R($=>$===0?A.length-1:$-1),"aria-label":"News prcdente",isDisabled:A.length<=1}),e.jsxs(k,{fontSize:"xs",color:"gray.500",children:[M+1," / ",A.length]}),e.jsx(xt,{icon:e.jsx(_x,{}),size:"sm",onClick:()=>R($=>($+1)%A.length),"aria-label":"News suivante",isDisabled:A.length<=1})]})]})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsx(De,{size:"md",children:A[M]?.title||"Sans titre"}),A[M]?.date&&e.jsx(k,{fontSize:"sm",color:"gray.500",children:new Date(A[M].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}),e.jsx(k,{children:A[M]?.content||""}),A[M]?.imageUrl&&e.jsx(Mi,{src:A[M].imageUrl,alt:A[M]?.title,maxH:"200px",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsx(Ne,{bg:se,children:e.jsx(Ie,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(Tc,{flex:1,children:[e.jsx(Ac,{children:e.jsx(cv,{})}),e.jsx(ye,{placeholder:"Rechercher par nom, email ou identifiant...",value:d,onChange:$=>g($.target.value)})]}),e.jsxs(lt,{value:p,onChange:$=>m($.target.value),maxW:"220px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"})]}),e.jsxs(lt,{value:x,onChange:$=>v($.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"INACTIVE",children:"Inactif"})]}),e.jsx(te,{leftIcon:e.jsx(sa,{}),onClick:ge,size:"sm",children:"Actualiser"})]})})}),l?e.jsx(jn,{py:8,children:e.jsxs(ie,{spacing:4,children:[e.jsx(hn,{size:"lg"}),e.jsx(k,{children:"Chargement des accs..."})]})}):e.jsx(Ne,{bg:se,children:e.jsxs(Ie,{children:[e.jsxs(dr,{size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Utilisateur"}),e.jsx($e,{children:"Matricule"}),e.jsx($e,{children:"Rle"}),e.jsx($e,{children:"Accs"}),e.jsx($e,{children:"Adhsion lie"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Dernire connexion"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:W.map($=>e.jsx(AJ,{user:$,onEdit:()=>H($),onToggleStatus:()=>Ee($),onLink:()=>B($),onViewLogs:()=>ae($),onDelete:()=>me($)},$.id))})]}),W.length===0&&e.jsxs(Ut,{status:"info",mt:4,children:[e.jsx(Ht,{}),"Aucun utilisateur trouv avec ces critres"]})]})}),e.jsx(RJ,{isOpen:P,onClose:()=>{O(),E(null)},members:r,user:S,onUserSaved:K}),e.jsx(kJ,{isOpen:G,onClose:ce,user:S,members:r,onLinked:K})]});function H($){E($),z()}async function Ee($){try{await _J(is(ss.siteUsers,ju(),`${$.id}`,Su()),{isActive:!$.isActive}),he({title:"Succs",description:`Accs ${$.isActive?"dsactiv":"activ"}`,status:"success",duration:3e3}),K()}catch(F){console.error(F),he({title:"Erreur",description:`${F.message}${F.urlsTried?`  Test: ${F.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}function B($){E($),q()}function ae($){he({title:"Info",description:`Affichage des logs pour ${$.username}  venir`,status:"info",duration:3e3})}async function me($){if(window.confirm(`Supprimer dfinitivement l'accs de ${T1($)} (${$.username}) ?`))try{await pD(is(ss.siteUsers,ju(),`${$.id}`,Su())),he({title:"Accs supprim",description:`L'utilisateur ${$.username} a t supprim`,status:"success",duration:3e3}),K()}catch(F){console.error(F),he({title:"Erreur",description:`${F.message}${F.urlsTried?`  Test: ${F.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}}function AJ({user:t,onEdit:n,onToggleStatus:r,onLink:i,onViewLogs:l,onDelete:u}){const d={PRESIDENT:"Prsident",VICE_PRESIDENT:"Vice-Prsident",TRESORIER:"Trsorier",SECRETAIRE_GENERAL:"Secrtaire Gnral",MEMBER:"Membre"},g=p=>({PRESIDENT:"red",VICE_PRESIDENT:"pink",TRESORIER:"green",SECRETAIRE_GENERAL:"purple",MEMBER:"blue"})[p]||"gray";return e.jsxs(Ft,{children:[e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontWeight:"medium",fontSize:"sm",children:T1(t)}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:t.email})]})}),e.jsx(Le,{children:e.jsx(k,{fontFamily:"mono",fontSize:"sm",children:t.username})}),e.jsx(Le,{children:e.jsx(et,{colorScheme:g(t.role),size:"sm",children:d[t.role]||t.role})}),e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:1,children:[t.hasInternalAccess&&e.jsx(et,{colorScheme:"blue",size:"xs",children:"Interne"}),t.hasExternalAccess&&e.jsx(et,{colorScheme:"green",size:"xs",children:"Externe"})]})}),e.jsx(Le,{children:t.linkedMember?e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontSize:"sm",color:"green.600",children:A1(t.linkedMember)}),t.linkedMember.memberNumber&&e.jsxs(k,{fontSize:"xs",color:"gray.500",children:["#",t.linkedMember.memberNumber]})]}):e.jsxs(te,{size:"xs",variant:"outline",onClick:i,children:[e.jsx(PX,{style:{marginRight:"4px"}}),"Fusionner"]})}),e.jsx(Le,{children:e.jsx(et,{colorScheme:t.isActive?"green":"red",size:"sm",children:t.isActive?"Actif":"Inactif"})}),e.jsx(Le,{children:e.jsx(k,{fontSize:"xs",children:t.lastLoginAt?new Date(t.lastLoginAt).toLocaleDateString("fr-FR"):"Jamais"})}),e.jsx(Le,{children:e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(nm,{}),size:"sm",variant:"ghost"}),e.jsxs(Ua,{children:[e.jsx(_n,{icon:e.jsx(Bs,{}),onClick:n,children:"Modifier"}),e.jsx(_n,{icon:e.jsx(Na,{}),onClick:l,children:"Logs de connexion"}),e.jsx(_n,{icon:t.isActive?e.jsx(Pl,{}):e.jsx(mj,{}),onClick:r,color:t.isActive?"red.500":"green.500",children:t.isActive?"Dsactiver":"Activer"}),e.jsx(_n,{icon:e.jsx(hr,{}),onClick:u,color:"red.600",children:"Supprimer"})]})]})})]})}function RJ({isOpen:t,onClose:n,members:r,onUserSaved:i,user:l}){const u=!!l,[d,g]=y.useState({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""}),[p,m]=y.useState(!1),x=mn();y.useEffect(()=>{g(u?{username:l?.username||"",firstName:l?.firstName||"",lastName:l?.lastName||"",email:l?.email||"",role:l?.role||"MEMBER",hasInternalAccess:!!l?.hasInternalAccess,hasExternalAccess:!!l?.hasExternalAccess,linkedMemberId:l?.linkedMember?.id||"",generatePassword:!1,customPassword:""}:{username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""})},[u,l,t]);const v=async()=>{try{m(!0);const S={username:d.username,firstName:d.firstName,lastName:d.lastName,email:d.email,role:d.role,hasInternalAccess:d.hasInternalAccess,hasExternalAccess:d.hasExternalAccess,linkedMemberId:d.linkedMemberId||null};if(u)d.customPassword?.trim()&&(S.password=d.customPassword.trim()),await Qf(is(ss.siteUsers,ju(),`${l.id}`,Su()),S),x({title:"Accs mis  jour",description:"L'utilisateur a t mis  jour avec succs",status:"success",duration:3e3});else{S.generatePassword=!!d.generatePassword,!d.generatePassword&&d.customPassword&&(S.customPassword=d.customPassword);const C=(await R1(is(ss.siteUsers,ju(),"",Su()),S)).data;x({title:"Accs cr",description:C?.temporaryPassword?`Mot de passe temporaire: ${C.temporaryPassword}`:"L'utilisateur a t cr avec succs",status:"success",duration:C?.temporaryPassword?1e4:5e3,isClosable:!0})}i?.(),n(),g({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""})}catch(S){console.error(S),x({title:"Erreur",description:`${S?.response?.data?.message||S.message}${S.urlsTried?`  Test: ${S.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{m(!1)}};return e.jsxs(Ct,{isOpen:t,onClose:n,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:u?" Modifier un accs aux sites":" Crer un accs aux sites"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsx(k,{fontSize:"sm",children:u?"Mettez  jour le profil d'accs. Le matricule est l'identifiant utilis sur le site.":"Crez un compte d'accs aux sites. Le matricule est l'identifiant utilis sur le site."})]}),e.jsxs(gt,{columns:2,spacing:4,w:"full",children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Prnom"}),e.jsx(ye,{value:d.firstName,onChange:S=>g(E=>({...E,firstName:S.target.value})),placeholder:"Prnom"})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nom"}),e.jsx(ye,{value:d.lastName,onChange:S=>g(E=>({...E,lastName:S.target.value})),placeholder:"Nom"})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Matricule (identifiant de connexion)"}),e.jsx(ye,{value:d.username,onChange:S=>g(E=>({...E,username:S.target.value})),placeholder:"Ex: w.belaidi"}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:"Format recommand: premire lettre du prnom + point + nom"})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Email"}),e.jsx(ye,{type:"email",value:d.email,onChange:S=>g(E=>({...E,email:S.target.value})),placeholder:"email@example.com"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Rle Mtier"}),e.jsxs(lt,{value:d.role,onChange:S=>g(E=>({...E,role:S.target.value})),children:[e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"}),e.jsx("option",{value:"CLIENT",children:"Client"})]}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Le rle mtier est  titre informatif. Les permissions d'accs aux modules sont gres individuellement ci-dessous."})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Lier  une adhsion existante (optionnel)"}),e.jsxs(lt,{value:d.linkedMemberId,onChange:S=>g(E=>({...E,linkedMemberId:S.target.value})),children:[e.jsx("option",{value:"",children:"Aucune liaison"}),r.map(S=>e.jsx("option",{value:S.id,children:A1(S)},S.id))]})]}),e.jsx(vn,{}),e.jsxs(ie,{align:"start",spacing:3,w:"full",children:[e.jsx(k,{fontWeight:"medium",children:"Autorisations d'accs"}),e.jsxs(oe,{w:"full",justify:"space-between",children:[e.jsx(k,{fontSize:"sm",children:"Accs site interne"}),e.jsx(Sr,{isChecked:d.hasInternalAccess,onChange:S=>g(E=>({...E,hasInternalAccess:S.target.checked}))})]}),e.jsxs(oe,{w:"full",justify:"space-between",children:[e.jsx(k,{fontSize:"sm",children:"Accs site externe"}),e.jsx(Sr,{isChecked:d.hasExternalAccess,onChange:S=>g(E=>({...E,hasExternalAccess:S.target.checked}))})]})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(vn,{}),e.jsxs(ie,{align:"start",spacing:3,w:"full",children:[e.jsx(k,{fontWeight:"medium",children:"Mot de passe"}),e.jsxs(oe,{w:"full",justify:"space-between",children:[e.jsx(k,{fontSize:"sm",children:"Gnrer automatiquement"}),e.jsx(Sr,{isChecked:d.generatePassword,onChange:S=>g(E=>({...E,generatePassword:S.target.checked}))})]}),!d.generatePassword&&e.jsxs(ee,{children:[e.jsx(J,{children:"Mot de passe personnalis"}),e.jsx(ye,{type:"password",value:d.customPassword,onChange:S=>g(E=>({...E,customPassword:S.target.value})),placeholder:"Minimum 6 caractres"})]})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(vn,{}),e.jsxs(ie,{align:"start",spacing:3,w:"full",children:[e.jsx(k,{fontWeight:"medium",children:"Changer le mot de passe (optionnel)"}),e.jsxs(ee,{children:[e.jsx(J,{children:"Nouveau mot de passe"}),e.jsx(ye,{type:"password",value:d.customPassword,onChange:S=>g(E=>({...E,customPassword:S.target.value})),placeholder:"Laissez vide pour ne pas changer"})]})]})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:v,isLoading:p,loadingText:u?"Enregistrement...":"Cration...",children:u?"Enregistrer":"Crer l'accs"})]})]})]})}function kJ({isOpen:t,onClose:n,user:r,members:i,onLinked:l}){const[u,d]=y.useState(""),[g,p]=y.useState(!1),[m,x]=y.useState(i||[]),v=mn();y.useEffect(()=>{t&&(async()=>{try{const T=(await Sl(is(ss.members,jj(),"",Sj()))).data,A=Array.isArray(T)?T:T?.members||[];x(A)}catch{console.warn("Chargement membres (fusion) chou, utilisation des props existantes"),x(i||[])}})()},[t]);const S=async()=>{if(!u){v({title:"Erreur",description:"Veuillez slectionner un membre",status:"error",duration:3e3});return}try{p(!0),await R1(is(ss.siteUsers,ju(),`${r.id}/link-member`,Su()),{memberId:u}),v({title:"Liaison cre",description:"Accs li  l'adhsion. L'utilisateur verra la page Mon Adhsion aprs actualisation ou reconnexion.",status:"success",duration:5e3}),l?.(),n(),d("")}catch(E){v({title:"Erreur",description:`${E?.response?.data?.message||E.message}${E.urlsTried?`  Test: ${E.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{p(!1)}};return e.jsxs(Ct,{isOpen:t,onClose:n,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:" Fusionner avec une adhsion"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsxs(k,{fontSize:"sm",children:["Fusionner l'accs de ",e.jsx("strong",{children:T1(r)})," avec une adhsion existante."]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Slectionner une adhsion"}),e.jsx(lt,{value:u,onChange:E=>d(E.target.value),placeholder:"Choisir un membre...",children:(m||[]).filter(E=>!E.hasLinkedAccess).map(E=>e.jsxs("option",{value:E.id,children:[A1(E),E.email?` (${E.email})`:""]},E.id))}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:2,children:"Seuls les membres sans accs dj li sont affichs"})]}),e.jsx(oe,{w:"full",justify:"flex-end",children:e.jsx(te,{size:"sm",variant:"outline",onClick:async()=>{try{const C=(await Sl(is(ss.members,jj(),"",Sj()))).data;x(Array.isArray(C)?C:C?.members||[]),v({title:"Liste mise  jour",status:"success",duration:2e3})}catch(E){v({title:"Erreur rafrachissement",description:E.message,status:"error",duration:3e3})}},children:"Actualiser"})})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:S,isLoading:g,loadingText:"Fusion...",children:"Fusionner"})]})]})]})}function MJ(){const{user:t,roles:n}=xs(),r=Fn("white","gray.800"),[i,l]=y.useState([]),[u,d]=y.useState(!0),[g,p]=y.useState(null),[m,x]=y.useState({title:"",version:"",date:"",entryType:"update",changes:[{tag:"update",text:""}]}),[v,S]=y.useState(localStorage.getItem("rbe_site_helloasso_url")||"https://www.helloasso.com/associations/retrobus-essonne"),{isOpen:E,onOpen:C,onClose:T}=Nt(),{isOpen:A,onOpen:D,onClose:M}=Nt(),{isOpen:R,onOpen:P,onClose:z}=Nt(),O=mn(),G=async()=>{try{d(!0);const be=(await Sl(is(ss.changelog,kg(),"",Mg()))).data;Array.isArray(be)?l(be):be&&Array.isArray(be.entries)?l(be.entries):be&&Array.isArray(be.items)?l(be.items):(console.warn("Rponse inattendue de l'API:",be),l([]))}catch(Y){console.error("Erreur lors du chargement des changelogs:",Y),l([]),O({title:"Erreur",description:`${Y.message}${Y.urlsTried?`  Test: ${Y.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}finally{d(!1)}};y.useEffect(()=>{G()},[]);const[q,ce]=y.useState({headerBgFocalX:50,headerBgFocalY:50,headerBgSize:"cover",logoWidth:44}),he=async()=>{try{const be=(await Sl(is(ss.siteConfig,Nf(),"",If())))?.data||{};ce(Te=>({...Te,headerBgFocalX:Number.isFinite(be.headerBgFocalX)?be.headerBgFocalX:Te.headerBgFocalX,headerBgFocalY:Number.isFinite(be.headerBgFocalY)?be.headerBgFocalY:Te.headerBgFocalY,headerBgSize:be.headerBgSize||Te.headerBgSize,logoWidth:Number.isFinite(be.logoWidth)?be.logoWidth:Te.logoWidth}))}catch(Y){console.warn("Chargement site-config (header) chou:",Y?.message||Y)}};y.useEffect(()=>{A&&he()},[A]);const se=async()=>{try{const Y={headerBgFocalX:q.headerBgFocalX,headerBgFocalY:q.headerBgFocalY,headerBgSize:q.headerBgSize,logoWidth:q.logoWidth};await Qf(is(ss.siteConfig,Nf(),"",If()),Y),O({title:"Configuration du header mise  jour",status:"success",duration:2500}),M()}catch(Y){O({title:"Erreur sauvegarde Header",description:`${Y.message}${Y.urlsTried?`  Test: ${Y.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},ge=async()=>{try{if(!v||!/^https?:\/\//i.test(v)){O({title:"Lien invalide",description:"Fournissez une URL complte commenant par http(s)://",status:"error",duration:3e3});return}localStorage.setItem("rbe_site_helloasso_url",v);const Y=is(ss.siteConfig,Nf(),"",If()),be=await Qf(Y,{helloAssoUrl:v});return O({title:"Lien mis  jour",description:'Le bouton "Soutenir" utilisera le nouveau lien.',status:"success",duration:3e3}),be}catch(Y){console.error("Erreur sauvegarde HelloAsso:",Y),O({title:"Erreur",description:`${Y.message}${Y.urlsTried?`  Test: ${Y.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},Ae=async()=>{try{const Y=is(ss.siteConfig,Nf(),"",If()),Te=(await Sl(Y))?.data||{};O({title:"Config dtecte",description:`helloAssoUrl=${Te.helloAssoUrl||"non dfini"}`,status:"success",duration:3e3})}catch(Y){O({title:"Config indisponible",description:`${Y.message}${Y.urlsTried?`  Test: ${Y.urlsTried.join(", ")}`:""}`,status:"warning",duration:5e3})}},de=()=>{x({title:"",version:"",date:new Date().toISOString().split("T")[0],entryType:"update",changes:[{tag:"update",text:""}]}),p(null)},re=()=>{de(),C()},K=Y=>{p(Y);let be=[{tag:"update",text:""}];if(Y.changes){if(Array.isArray(Y.changes))Y.changes.length>0&&(be=Y.changes.map(Te=>typeof Te=="string"?{tag:"update",text:Te.replace(/^([\p{Emoji_Presentation}\p{Extended_Pictographic}]\s*)/u,"").trim()}:{tag:Te.tag||"update",text:Te.text||""}));else if(typeof Y.changes=="string")try{const Te=JSON.parse(Y.changes);be=Array.isArray(Te)?Te.map(Re=>typeof Re=="string"?{tag:"update",text:Re}:Re):[{tag:"update",text:String(Y.changes)}]}catch{console.warn("Impossible de parser changes:",Y.changes),be=[{tag:"update",text:Y.changes}]}}else Y.description&&typeof Y.description=="string"&&(be=Y.description.split(/\n|\r\n/).map(Te=>({tag:"update",text:Te.replace(/^\s*/,"")})));x({title:Y.title||"",version:Y.version||"",date:Y.date?Y.date.split("T")[0]:new Date().toISOString().split("T")[0],entryType:Y.type||"update",changes:be}),C()},W=()=>{x(Y=>({...Y,changes:[...Y.changes,{tag:"update",text:""}]}))},H=Y=>{m.changes.length>1&&x(be=>({...be,changes:be.changes.filter((Te,Re)=>Re!==Y)}))},Ee=(Y,be)=>{x(Te=>({...Te,changes:Te.changes.map((Re,nt)=>nt===Y?{...Re,text:be}:Re)}))},B=(Y,be)=>{x(Te=>({...Te,changes:Te.changes.map((Re,nt)=>nt===Y?{...Re,tag:be}:Re)}))},ae=[{key:"feature",label:"Fonctionnalit",emoji:""},{key:"fix",label:"Correction",emoji:""},{key:"update",label:"Mise  jour",emoji:""},{key:"security",label:"Scurit",emoji:""},{key:"perf",label:"Performance",emoji:""},{key:"ui",label:"Interface",emoji:""},{key:"content",label:"Contenu",emoji:""},{key:"deps",label:"Dpendances",emoji:""},{key:"docs",label:"Documentation",emoji:""}],me=Y=>ae.find(be=>be.key===Y)?.emoji||"",$=async()=>{try{if(!m.title.trim()||!m.version.trim()){O({title:"Erreur de validation",description:"Le titre et la version sont requis",status:"error",duration:3e3,isClosable:!0});return}const Y=(m.changes||[]).filter(nt=>nt&&String(nt.text||"").trim()!==""),be=Y.map(nt=>`${me(nt.tag)} ${nt.text.trim()}`),Te=be.join(`
`),Re={title:m.title.trim(),version:m.version.trim(),date:m.date,type:m.entryType||"update",changes:Y,changesText:be,description:Te};g?(await Qf(is(ss.changelog,kg(),`${g.id}`,Mg()),Re),O({title:"Succs",description:"Changelog mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await R1(is(ss.changelog,kg(),"",Mg()),Re),O({title:"Succs",description:"Changelog cr avec succs",status:"success",duration:3e3,isClosable:!0})),G(),T();try{m.version?.trim()&&(await Qf(is(ss.siteConfig,Nf(),"",If()),{siteVersion:m.version.trim()}),O({title:"Version du site mise  jour",description:`v${m.version.trim()}`,status:"success",duration:2500}))}catch(nt){console.warn("MJ siteVersion choue:",nt),O({title:"Version non synchronise",description:"Impossible de mettre  jour la version du site.",status:"warning",duration:3500})}}catch(Y){console.error("Erreur lors de la sauvegarde:",Y),O({title:"Erreur",description:`${Y.message}${Y.urlsTried?`  Test: ${Y.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},F=async Y=>{if(window.confirm("tes-vous sr de vouloir supprimer ce changelog ?"))try{await pD(is(ss.changelog,kg(),`${Y}`,Mg())),O({title:"Succs",description:"Changelog supprim avec succs",status:"success",duration:3e3,isClosable:!0}),G()}catch(be){console.error("Erreur lors de la suppression:",be),O({title:"Erreur",description:`${be.message}${be.urlsTried?`  Test: ${be.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},U=Y=>{if(!Y)return null;let be=[];if(Array.isArray(Y))be=Y;else if(typeof Y=="string")try{const Te=JSON.parse(Y);be=Array.isArray(Te)?Te:[Y]}catch{be=[Y]}return be.map((Te,Re)=>e.jsxs(k,{fontSize:"sm",children:[" ",Te]},Re))};return u?e.jsx(jn,{minH:"400px",children:e.jsxs(ie,{children:[e.jsx(hn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(k,{children:"Chargement des changelogs..."})]})}):e.jsx(Os,{maxW:"container.xl",py:8,children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(De,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(rh,{style:{marginRight:"12px"}}),"Gestion du Site Web"]}),e.jsxs(ao,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(lo,{children:[e.jsx(ln,{children:" Changelog & Versions"}),e.jsx(ln,{children:" Accs aux Sites"}),e.jsx(ln,{children:" Configuration"}),e.jsx(ln,{children:" Modles de Documents"})]}),e.jsxs(Bo,{children:[e.jsxs(cn,{children:[e.jsxs(er,{mb:6,align:"center",children:[e.jsx(De,{size:"lg",children:"Gestion du Site"}),e.jsx(Pp,{}),e.jsx(te,{leftIcon:e.jsx(hD,{}),colorScheme:"blue",onClick:re,children:"Nouveau Changelog"})]}),e.jsx(ie,{spacing:4,align:"stretch",children:i.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucun changelog trouv. Crez le premier !"]}):i.map(Y=>e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(er,{align:"center",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"md",children:Y.title}),e.jsxs(oe,{children:[e.jsxs(et,{colorScheme:"blue",children:["v",Y.version]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:Y.date?new Date(Y.date).toLocaleDateString("fr-FR"):"Date inconnue"})]})]}),e.jsx(Pp,{}),e.jsxs(oe,{children:[e.jsx(xt,{icon:e.jsx(dD,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>K(Y),"aria-label":"Modifier"}),e.jsx(xt,{icon:e.jsx(fD,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>F(Y.id),"aria-label":"Supprimer"})]})]})}),e.jsx(Ie,{pt:0,children:e.jsx(ie,{align:"start",spacing:2,children:Array.isArray(Y.changes)&&Y.changes.length>0?Y.changes.map((be,Te)=>e.jsx(k,{fontSize:"sm",children:typeof be=="string"?be:`${me(be.tag)} ${be.text}`},Te)):U(Y.changesText||Y.description||[])})})]},Y.id))})]}),e.jsx(cn,{children:e.jsx(TJ,{})}),e.jsx(cn,{children:e.jsxs(gt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(Ne,{bg:r,children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:" Pages et contenu"})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsx(te,{leftIcon:e.jsx(Bs,{}),size:"sm",variant:"outline",onClick:D,children:"Modifier le Header"}),e.jsx(te,{leftIcon:e.jsx(Bs,{}),size:"sm",variant:"outline",children:"Grer les vnements"}),e.jsx(te,{leftIcon:e.jsx(Bs,{}),size:"sm",variant:"outline",children:'Mettre  jour " propos"'}),e.jsx(vn,{my:2}),e.jsx(De,{size:"xs",children:`Bouton "Soutenir l'association" (Navbar externe)`}),e.jsx(k,{fontSize:"xs",color:"gray.600",children:"Configure le lien HelloAsso utilis sur la navbar du site public."}),e.jsxs(oe,{children:[e.jsx(ye,{value:v,onChange:Y=>S(Y.target.value),placeholder:"https://www.helloasso.com/associations/retrobus-essonne"}),e.jsx(te,{size:"sm",colorScheme:"blue",onClick:ge,children:"Enregistrer"}),e.jsx(te,{size:"sm",variant:"outline",onClick:Ae,children:"Tester"})]})]})})]}),e.jsxs(Ne,{bg:r,children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:" Configuration"})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsx(te,{leftIcon:e.jsx(wX,{}),size:"sm",variant:"outline",children:"Notifications Flash"}),e.jsx(te,{leftIcon:e.jsx(kc,{}),size:"sm",variant:"outline",children:"Configuration Newsletter"}),e.jsx(te,{leftIcon:e.jsx(nm,{}),size:"sm",variant:"outline",children:"Paramtres gnraux"}),e.jsx(vn,{my:2}),e.jsx(te,{leftIcon:e.jsx(kc,{}),size:"sm",variant:"outline",colorScheme:"purple",onClick:P,children:" Grer les templates d'email"})]})})]})]})}),e.jsx(cn,{children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(De,{size:"lg",mb:2,children:" Gestion des Modles de Documents"}),e.jsx(k,{color:"gray.600",children:"Crez et grez les templates HTML pour vos devis et factures avec variables personnalisables"})]}),e.jsx(PJ,{})]})})]})]}),e.jsxs(Ct,{isOpen:R,onClose:z,size:"4xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:" Gestion des Templates d'Email"}),e.jsx(Bt,{}),e.jsx(wt,{maxH:"80vh",overflowY:"auto",children:e.jsx(SJ,{token:localStorage.getItem("token")})})]})]}),e.jsxs(Ct,{isOpen:A,onClose:M,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:" Modifier le Header"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Image de fond"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsxs(Ut,{status:"info",fontSize:"sm",children:[e.jsx(Ht,{}),"Pour modifier l'image : ditez manuellement ",e.jsx("strong",{children:"externe/public/assets/header.jpg"})]}),e.jsx(oe,{children:e.jsxs(ee,{maxW:"220px",children:[e.jsx(J,{children:"Taille d'affichage"}),e.jsxs(lt,{value:q.headerBgSize,onChange:Y=>ce(be=>({...be,headerBgSize:Y.target.value})),children:[e.jsx("option",{value:"cover",children:"Cover (remplit tout)"}),e.jsx("option",{value:"contain",children:"Contain (contient tout)"})]})]})}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:2,children:"Point focal (cliquez/glissez pour ajuster)"}),e.jsx(ue,{position:"relative",borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"gray.200",w:"100%",h:"180px",style:{backgroundImage:`url(/assets/header.jpg?t=${Date.now()})`,backgroundSize:q.headerBgSize||"cover",backgroundPosition:`${q.headerBgFocalX}% ${q.headerBgFocalY}%`},onMouseDown:Y=>{const be=Y.currentTarget.getBoundingClientRect(),Te=(Y.clientX-be.left)/be.width*100,Re=(Y.clientY-be.top)/be.height*100;ce(nt=>({...nt,headerBgFocalX:Math.round(Te),headerBgFocalY:Math.round(Re)}))},onMouseMove:Y=>{if(Y.buttons!==1)return;const be=Y.currentTarget.getBoundingClientRect(),Te=(Y.clientX-be.left)/be.width*100,Re=(Y.clientY-be.top)/be.height*100;ce(nt=>({...nt,headerBgFocalX:Math.round(Math.max(0,Math.min(100,Te))),headerBgFocalY:Math.round(Math.max(0,Math.min(100,Re)))}))},children:e.jsx(ue,{position:"absolute",left:`calc(${q.headerBgFocalX}% - 6px)`,top:`calc(${q.headerBgFocalY}% - 6px)`,w:"12px",h:"12px",borderRadius:"full",bg:"var(--rbe-red)",border:"2px solid white",boxShadow:"sm",pointerEvents:"none"})}),e.jsx(oe,{mt:2,fontSize:"xs",color:"gray.500",children:e.jsxs(k,{children:["Position: ",q.headerBgFocalX,"% , ",q.headerBgFocalY,"%"]})})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Logo"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsxs(Ut,{status:"info",fontSize:"sm",children:[e.jsx(Ht,{}),"Pour modifier le logo : ditez manuellement les fichiers dans ",e.jsx("strong",{children:"externe/src/assets/"})]}),e.jsx(oe,{children:e.jsxs(ee,{maxW:"240px",children:[e.jsx(J,{children:"Hauteur du logo (px)"}),e.jsx(ye,{type:"number",min:24,max:240,value:q.logoWidth,onChange:Y=>ce(be=>({...be,logoWidth:parseInt(Y.target.value||"44",10)}))})]})})]})})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:M,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:se,children:"Enregistrer"})]})]})]}),e.jsxs(Ct,{isOpen:E,onClose:T,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:g?" Modifier un changelog":" Nouveau changelog"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Titre"}),e.jsx(ye,{value:m.title,onChange:Y=>x(be=>({...be,title:Y.target.value})),placeholder:"Ex: Amliorations sur la page d'accueil"})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Version"}),e.jsx(ye,{value:m.version,onChange:Y=>x(be=>({...be,version:Y.target.value})),placeholder:"Ex: 1.3.0"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date"}),e.jsx(ye,{type:"date",value:m.date,onChange:Y=>x(be=>({...be,date:Y.target.value}))})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type de publication"}),e.jsxs(lt,{value:m.entryType,onChange:Y=>x(be=>({...be,entryType:Y.target.value})),children:[e.jsx("option",{value:"feature",children:"Fonctionnalit "}),e.jsx("option",{value:"fix",children:"Correction "}),e.jsx("option",{value:"update",children:"Mise  jour "}),e.jsx("option",{value:"security",children:"Scurit "})]})]}),e.jsxs(ie,{align:"stretch",spacing:2,children:[e.jsx(J,{children:"Changements"}),m.changes.map((Y,be)=>e.jsxs(oe,{align:"start",children:[e.jsx(lt,{maxW:"180px",value:Y.tag,onChange:Te=>B(be,Te.target.value),children:ae.map(Te=>e.jsxs("option",{value:Te.key,children:[Te.emoji," ",Te.label]},Te.key))}),e.jsx(ye,{value:Y.text,onChange:Te=>Ee(be,Te.target.value),placeholder:` Entre ${be+1}`}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>H(be)})]},be)),e.jsx(te,{leftIcon:e.jsx(Bn,{}),onClick:W,size:"sm",alignSelf:"flex-start",children:"Ajouter une ligne"})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:T,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:$,children:g?"Enregistrer":"Crer"})]})]})]})]})})}const PJ=()=>e.jsx(EJ,{}),eb={getByMember:t=>Pt.get(`/api/documents/member/${t}`),delete:t=>Pt.delete(`/api/documents/${t}`),updateStatus:(t,n)=>Pt.put(`/api/documents/${t}/status`,n),getExpiring:(t=60)=>Pt.get(`/api/documents/expiring?days=${t}`)},Pg={getAll:()=>Pt.get("/newsletter"),create:t=>Pt.post("/newsletter",t),delete:t=>Pt.delete(`/newsletter/${t}`),updateStatus:(t,n)=>Pt.put(`/newsletter/${t}/status`,{status:n}),getStats:()=>Pt.get("/newsletter/stats"),export:(t="csv")=>Pt.get(`/newsletter/export?format=${t}`),campaigns:{getAll:t=>Pt.get("/newsletter/campaigns",{params:t}),getById:t=>Pt.get(`/newsletter/campaigns/${t}`),create:t=>Pt.post("/newsletter/campaigns",t),update:(t,n)=>Pt.put(`/newsletter/campaigns/${t}`,n),delete:t=>Pt.delete(`/newsletter/campaigns/${t}`),preview:t=>Pt.get(`/newsletter/campaigns/${t}/preview`),sendTest:(t,n)=>Pt.post(`/newsletter/campaigns/${t}/test`,{email:n}),prepare:t=>Pt.post(`/newsletter/campaigns/${t}/prepare`),send:t=>Pt.post(`/newsletter/campaigns/${t}/send`),getStats:t=>Pt.get(`/newsletter/campaigns/${t}/stats`)}},tb={PIECES_DETACHEES:"Pices dtaches",CONSOMMABLES:"Consommables",OUTILLAGE:"Outillage",EQUIPEMENT:"quipement",DOCUMENTATION:"Documentation",MERCHANDISING:"Merchandising",FOURNITURES:"Fournitures",SECURITE:"Scurit",GENERAL:"Gnral"},nb={PIECE:"Pice",KG:"Kg",LITRE:"Litre",METRE:"Mtre",PAQUET:"Paquet",BOITE:"Bote",ROULEAU:"Rouleau",SET:"Set",AUTRE:"Autre"},qT={AVAILABLE:"Disponible",LOW_STOCK:"Stock bas",OUT_OF_STOCK:"Rupture",DISCONTINUED:"Discontinu",RESERVED:"Rserv"},DJ={AVAILABLE:"green",LOW_STOCK:"orange",OUT_OF_STOCK:"red",DISCONTINUED:"gray",RESERVED:"blue"};function NJ(){const[t,n]=y.useState([]),[r,i]=y.useState({}),[l,u]=y.useState(!0),[d,g]=y.useState({search:"",category:"ALL",status:"ALL",lowStock:!1}),[p,m]=y.useState(null),[x,v]=y.useState({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),[S,E]=y.useState({type:"IN",quantity:1,reason:"",notes:""}),[C,T]=y.useState(null),A=mn(),{isOpen:D,onOpen:M,onClose:R}=Nt(),{isOpen:P,onOpen:z,onClose:O}=Nt(),{isOpen:G,onOpen:q,onClose:ce}=Nt();y.useEffect(()=>{he(),se()},[d]);const he=async()=>{try{u(!0);const B=new URLSearchParams;d.search&&B.append("search",d.search),d.category!=="ALL"&&B.append("category",d.category),d.status!=="ALL"&&B.append("status",d.status),d.lowStock&&B.append("lowStock","true");const ae=await Pt.get(`/api/stocks?${B.toString()}`),me=ae?.stocks??(Array.isArray(ae)?ae:[]);n(me)}catch(B){console.error("Erreur lors du chargement des stocks:",B),n([]),A({title:"Stocks indisponibles",description:"LAPI des stocks nest pas encore prte ou a renvoy une erreur",status:"warning",duration:3e3})}finally{u(!1)}},se=async()=>{try{const B=await Pt.get("/api/stocks/stats");i(B||{})}catch(B){console.error("Erreur lors du chargement des statistiques:",B),i({})}},ge=()=>{m(null),v({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),M()},Ae=B=>{m(B),v({reference:B.reference||"",name:B.name||"",description:B.description||"",category:B.category||"GENERAL",subcategory:B.subcategory||"",quantity:B.quantity||0,minQuantity:B.minQuantity||0,unit:B.unit||"PIECE",location:B.location||"",supplier:B.supplier||"",purchasePrice:B.purchasePrice||"",salePrice:B.salePrice||"",notes:B.notes||""}),M()},de=async()=>{try{const B=p?"put":"post",ae=p?`/api/stocks/${p.id}`:"/api/stocks";await Pt[B](ae,x),A({title:"Succs",description:`Article ${p?"modifi":"cr"} avec succs`,status:"success",duration:3e3}),R(),he(),se()}catch(B){console.error("Erreur lors de la sauvegarde:",B),A({title:"Erreur",description:"Impossible de sauvegarder l'article",status:"error",duration:3e3})}},re=async()=>{if(C)try{await Pt.delete(`/api/stocks/${C.id}`),A({title:"Succs",description:"Article supprim avec succs",status:"success",duration:3e3}),ce(),T(null),he(),se()}catch(B){console.error("Erreur lors de la suppression:",B),A({title:"Erreur",description:"Impossible de supprimer l'article",status:"error",duration:3e3})}},K=async()=>{if(C)try{await Pt.post(`/api/stocks/${C.id}/movement`,S),A({title:"Succs",description:"Mouvement enregistr avec succs",status:"success",duration:3e3}),O(),E({type:"IN",quantity:1,reason:"",notes:""}),he(),se()}catch(B){console.error("Erreur lors du mouvement:",B),A({title:"Erreur",description:B.response?.data?.error||"Impossible d'enregistrer le mouvement",status:"error",duration:3e3})}},W=B=>{T(B),E({type:"IN",quantity:1,reason:"",notes:""}),z()},H=B=>{T(B),q()},Ee={totalItems:r.totalItems||0,totalQuantity:r.totalQuantity||0,lowStockCount:r.lowStockCount||0,outOfStockCount:r.outOfStockCount||0};return e.jsxs(ue,{p:6,children:[e.jsxs(er,{align:"center",mb:6,children:[e.jsx(De,{size:"lg",color:"teal.600",children:"Gestion des Stocks"}),e.jsx(Pp,{}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"teal",onClick:ge,children:"Nouvel article"})]}),e.jsxs(gt,{columns:{base:1,md:4},spacing:4,mb:6,children:[e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Articles totaux"}),e.jsx(yt,{children:Ee.totalItems}),e.jsxs(eo,{children:[e.jsx(Tx,{style:{display:"inline",marginRight:"4px"}}),"Articles rfrencs"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Quantit totale"}),e.jsx(yt,{children:Ee.totalQuantity}),e.jsxs(eo,{children:[e.jsx(CX,{style:{display:"inline",marginRight:"4px"}}),"Units en stock"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Stock bas"}),e.jsx(yt,{color:"orange.500",children:Ee.lowStockCount}),e.jsxs(eo,{children:[e.jsx(OP,{style:{display:"inline",marginRight:"4px"}})," rapprovisionner"]})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Ruptures"}),e.jsx(yt,{color:"red.500",children:Ee.outOfStockCount}),e.jsxs(eo,{children:[e.jsx(sa,{style:{display:"inline",marginRight:"4px"}}),"Stock puis"]})]})})})]}),e.jsx(Ne,{mb:6,children:e.jsx(Ie,{children:e.jsxs(oe,{spacing:4,wrap:"wrap",children:[e.jsx(ye,{placeholder:"Rechercher...",value:d.search,onChange:B=>g(ae=>({...ae,search:B.target.value})),maxW:"300px"}),e.jsxs(lt,{value:d.category,onChange:B=>g(ae=>({...ae,category:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Toutes catgories"}),Object.entries(tb).map(([B,ae])=>e.jsx("option",{value:B,children:ae},B))]}),e.jsxs(lt,{value:d.status,onChange:B=>g(ae=>({...ae,status:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(qT).map(([B,ae])=>e.jsx("option",{value:B,children:ae},B))]}),e.jsx(te,{variant:d.lowStock?"solid":"outline",colorScheme:"orange",onClick:()=>g(B=>({...B,lowStock:!B.lowStock})),children:"Stock bas uniquement"})]})})}),e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsxs(dr,{variant:"simple",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Rfrence"}),e.jsx($e,{children:"Nom"}),e.jsx($e,{children:"Catgorie"}),e.jsx($e,{children:"Quantit"}),e.jsx($e,{children:"Unit"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Emplacement"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:l?e.jsx(Ft,{children:e.jsx(Le,{colSpan:8,textAlign:"center",children:"Chargement..."})}):t.length===0?e.jsx(Ft,{children:e.jsx(Le,{colSpan:8,textAlign:"center",children:"Aucun article trouv"})}):t.map(B=>e.jsxs(Ft,{children:[e.jsx(Le,{children:B.reference||"-"}),e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"medium",children:B.name}),B.description&&e.jsx(k,{fontSize:"sm",color:"gray.600",noOfLines:1,children:B.description})]})}),e.jsx(Le,{children:tb[B.category]}),e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{color:B.quantity<=B.minQuantity?"red.500":"inherit",fontWeight:B.quantity<=B.minQuantity?"bold":"normal",children:B.quantity}),B.minQuantity>0&&e.jsxs(k,{fontSize:"xs",color:"gray.500",children:["Min: ",B.minQuantity]})]})}),e.jsx(Le,{children:nb[B.unit]}),e.jsx(Le,{children:e.jsx(et,{colorScheme:DJ[B.status],children:qT[B.status]})}),e.jsx(Le,{children:B.location||"-"}),e.jsx(Le,{children:e.jsxs(oe,{spacing:2,children:[e.jsx(xt,{icon:e.jsx(TX,{}),size:"sm",variant:"outline",onClick:()=>Ae(B),"aria-label":"Modifier"}),e.jsx(xt,{icon:e.jsx(jX,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:()=>W(B),"aria-label":"Mouvement de stock"}),e.jsx(xt,{icon:e.jsx(hr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>H(B),"aria-label":"Supprimer"})]})})]},B.id))})]})})}),e.jsxs(Ct,{isOpen:D,onClose:R,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:p?"Modifier l'article":"Nouvel article"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(oe,{spacing:4,w:"full",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Rfrence"}),e.jsx(ye,{value:x.reference,onChange:B=>v(ae=>({...ae,reference:B.target.value})),placeholder:"REF-001"})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nom"}),e.jsx(ye,{value:x.name,onChange:B=>v(ae=>({...ae,name:B.target.value})),placeholder:"Nom de l'article"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:x.description,onChange:B=>v(ae=>({...ae,description:B.target.value})),placeholder:"Description dtaille"})]}),e.jsxs(oe,{spacing:4,w:"full",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Catgorie"}),e.jsx(lt,{value:x.category,onChange:B=>v(ae=>({...ae,category:B.target.value})),children:Object.entries(tb).map(([B,ae])=>e.jsx("option",{value:B,children:ae},B))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Sous-catgorie"}),e.jsx(ye,{value:x.subcategory,onChange:B=>v(ae=>({...ae,subcategory:B.target.value})),placeholder:"Sous-catgorie"})]})]}),e.jsxs(oe,{spacing:4,w:"full",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Quantit"}),e.jsx(Xn,{value:x.quantity,onChange:B=>v(ae=>({...ae,quantity:parseInt(B)||0})),children:e.jsx(Qn,{})})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Quantit minimale"}),e.jsx(Xn,{value:x.minQuantity,onChange:B=>v(ae=>({...ae,minQuantity:parseInt(B)||0})),children:e.jsx(Qn,{})})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Unit"}),e.jsx(lt,{value:x.unit,onChange:B=>v(ae=>({...ae,unit:B.target.value})),children:Object.entries(nb).map(([B,ae])=>e.jsx("option",{value:B,children:ae},B))})]})]}),e.jsxs(oe,{spacing:4,w:"full",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Emplacement"}),e.jsx(ye,{value:x.location,onChange:B=>v(ae=>({...ae,location:B.target.value})),placeholder:"tagre A1, Atelier..."})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Fournisseur"}),e.jsx(ye,{value:x.supplier,onChange:B=>v(ae=>({...ae,supplier:B.target.value})),placeholder:"Nom du fournisseur"})]})]}),e.jsxs(oe,{spacing:4,w:"full",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Prix d'achat ()"}),e.jsx(Xn,{value:x.purchasePrice,onChange:B=>v(ae=>({...ae,purchasePrice:B})),precision:2,children:e.jsx(Qn,{})})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Prix de vente ()"}),e.jsx(Xn,{value:x.salePrice,onChange:B=>v(ae=>({...ae,salePrice:B})),precision:2,children:e.jsx(Qn,{})})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Notes"}),e.jsx(Yt,{value:x.notes,onChange:B=>v(ae=>({...ae,notes:B.target.value})),placeholder:"Notes diverses"})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:R,children:"Annuler"}),e.jsx(te,{colorScheme:"teal",onClick:de,children:p?"Modifier":"Crer"})]})]})]}),e.jsxs(Ct,{isOpen:P,onClose:O,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsxs(_t,{children:["Mouvement de stock - ",C?.name]}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Type de mouvement"}),e.jsxs(lt,{value:S.type,onChange:B=>E(ae=>({...ae,type:B.target.value})),children:[e.jsx("option",{value:"IN",children:"Entre (IN)"}),e.jsx("option",{value:"OUT",children:"Sortie (OUT)"}),e.jsx("option",{value:"ADJUSTMENT",children:"Correction (ADJUSTMENT)"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Quantit"}),e.jsx(Xn,{value:S.quantity,onChange:B=>E(ae=>({...ae,quantity:parseInt(B)||1})),children:e.jsx(Qn,{})}),C&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["Stock actuel: ",C.quantity," ",nb[C.unit]]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Raison"}),e.jsx(ye,{value:S.reason,onChange:B=>E(ae=>({...ae,reason:B.target.value})),placeholder:"Achat, utilisation, correction..."})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Notes"}),e.jsx(Yt,{value:S.notes,onChange:B=>E(ae=>({...ae,notes:B.target.value})),placeholder:"Notes sur ce mouvement"})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:O,children:"Annuler"}),e.jsx(te,{colorScheme:"teal",onClick:K,children:"Enregistrer"})]})]})]}),e.jsx(mY,{isOpen:G,onClose:ce,leastDestructiveRef:dn.useRef(),children:e.jsx(Tt,{children:e.jsxs(gY,{children:[e.jsx(_t,{children:"Confirmer la suppression"}),e.jsxs(wt,{children:[`tes-vous sr de vouloir supprimer l'article "`,C?.name,'" ? Cette action est irrversible.']}),e.jsxs(Wt,{children:[e.jsx(te,{onClick:ce,children:"Annuler"}),e.jsx(te,{colorScheme:"red",onClick:re,ml:3,children:"Supprimer"})]})]})})})]})}const rb={info:{label:"Information",color:"blue",icon:yJ},warning:{label:"Attention",color:"orange",icon:UT},success:{label:"Succs",color:"green",icon:gJ},error:{label:"Erreur",color:"red",icon:UT}};function IJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!0),[l,u]=y.useState(null),[d,g]=y.useState({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),{isOpen:p,onOpen:m,onClose:x}=Nt(),v=mn(),S=Fn("white","gray.700"),E=Fn("gray.200","gray.600"),C=async()=>{try{i(!0);const O=await Pt.get("/flashes");O.data&&Array.isArray(O.data)?n(O.data):(console.warn("Rponse inattendue de l'API:",O.data),n([]))}catch(O){console.error("Erreur lors du chargement des flashs:",O),n([]),v({title:"Erreur",description:"Impossible de charger les flashs",status:"error",duration:3e3,isClosable:!0})}finally{i(!1)}};y.useEffect(()=>{C()},[]);const T=()=>{g({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),u(null)},A=()=>{T(),m()},D=O=>{u(O),g({content:O.content||"",type:O.type||"info",active:O.active!==void 0?O.active:!0,showOnExternal:O.showOnExternal||!1,expiresAt:O.expiresAt?new Date(O.expiresAt).toISOString().slice(0,16):""}),m()},M=async()=>{try{if(!d.content.trim()){v({title:"Erreur de validation",description:"Le contenu du flash est requis",status:"error",duration:3e3,isClosable:!0});return}const O={...d,expiresAt:d.expiresAt||null};l?(await Pt.put(`/flashes/${l.id}`,O),v({title:"Succs",description:"Flash mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await Pt.post("/flashes",O),v({title:"Succs",description:"Flash cr avec succs",status:"success",duration:3e3,isClosable:!0})),C(),x()}catch(O){console.error("Erreur lors de la sauvegarde:",O),v({title:"Erreur",description:"Impossible de sauvegarder le flash",status:"error",duration:3e3,isClosable:!0})}},R=async O=>{try{await Pt.patch(`/flashes/${O.id}/toggle`),v({title:"Succs",description:`Flash ${O.active?"dsactiv":"activ"}`,status:"success",duration:2e3,isClosable:!0}),C()}catch(G){console.error("Erreur lors du toggle:",G),v({title:"Erreur",description:"Impossible de modifier le statut",status:"error",duration:3e3,isClosable:!0})}},P=async O=>{if(window.confirm("tes-vous sr de vouloir supprimer ce flash ?"))try{await Pt.delete(`/flashes/${O}`),v({title:"Succs",description:"Flash supprim avec succs",status:"success",duration:3e3,isClosable:!0}),C()}catch(G){console.error("Erreur lors de la suppression:",G),v({title:"Erreur",description:"Impossible de supprimer le flash",status:"error",duration:3e3,isClosable:!0})}},z=O=>O.expiresAt?new Date(O.expiresAt)<new Date:!1;return r?e.jsx(jn,{minH:"400px",children:e.jsxs(ie,{children:[e.jsx(hn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(k,{children:"Chargement des flashs..."})]})}):e.jsxs(ue,{p:6,children:[e.jsxs(er,{mb:6,align:"center",children:[e.jsxs(oe,{spacing:3,children:[e.jsx(Jy,{color:"var(--rbe-red)",size:24}),e.jsx(De,{size:"lg",children:"Gestion des Flashs Info"})]}),e.jsx(Pp,{}),e.jsx(te,{leftIcon:e.jsx(hD,{}),colorScheme:"blue",onClick:A,children:"Nouveau Flash"})]}),e.jsxs(Xs,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,mb:6,children:[e.jsx(Ne,{bg:S,borderWidth:1,borderColor:E,children:e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(Jy,{color:"blue"}),e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Total"}),e.jsx(k,{fontSize:"2xl",fontWeight:"bold",children:t.length})]})]})})}),e.jsx(Ne,{bg:S,borderWidth:1,borderColor:E,children:e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(WT,{color:"green"}),e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Actifs"}),e.jsx(k,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:t.filter(O=>O.active&&!z(O)).length})]})]})})}),e.jsx(Ne,{bg:S,borderWidth:1,borderColor:E,children:e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(HT,{color:"purple"}),e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Sur l'externe"}),e.jsx(k,{fontSize:"2xl",fontWeight:"bold",color:"purple.500",children:t.filter(O=>O.showOnExternal&&O.active&&!z(O)).length})]})]})})}),e.jsx(Ne,{bg:S,borderWidth:1,borderColor:E,children:e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(xJ,{color:"orange"}),e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Expirs"}),e.jsx(k,{fontSize:"2xl",fontWeight:"bold",color:"orange.500",children:t.filter(O=>z(O)).length})]})]})})})]}),e.jsx(ie,{spacing:4,align:"stretch",children:t.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucun flash trouv. Crez le premier !"]}):t.map(O=>{const G=rb[O.type]||rb.info,q=G.icon,ce=z(O);return e.jsxs(Ne,{bg:S,borderWidth:1,borderColor:O.active&&!ce?`${G.color}.200`:"gray.300",opacity:O.active&&!ce?1:.6,children:[e.jsx(Dt,{children:e.jsxs(er,{align:"center",children:[e.jsxs(oe,{spacing:3,flex:1,children:[e.jsx(q,{color:`var(--chakra-colors-${G.color}-500)`}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsxs(oe,{spacing:2,children:[e.jsx(et,{colorScheme:G.color,children:G.label}),O.active?e.jsx(et,{colorScheme:"green",children:"Actif"}):e.jsx(et,{colorScheme:"gray",children:"Inactif"}),O.showOnExternal&&e.jsx(et,{colorScheme:"purple",leftIcon:e.jsx(HT,{}),children:"Externe"}),ce&&e.jsx(et,{colorScheme:"red",children:"Expir"})]}),e.jsxs(k,{fontSize:"sm",color:"gray.600",children:["Cr le ",new Date(O.createdAt).toLocaleDateString("fr-FR"),O.expiresAt&&e.jsxs(e.Fragment,{children:["  Expire le ",new Date(O.expiresAt).toLocaleDateString("fr-FR")]})]})]})]}),e.jsxs(oe,{spacing:1,children:[e.jsx(Qs,{label:O.active?"Dsactiver":"Activer",children:e.jsx(xt,{icon:O.active?e.jsx(vJ,{}):e.jsx(WT,{}),size:"sm",colorScheme:O.active?"orange":"green",variant:"ghost",onClick:()=>R(O)})}),e.jsx(Qs,{label:"Modifier",children:e.jsx(xt,{icon:e.jsx(dD,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>D(O)})}),e.jsx(Qs,{label:"Supprimer",children:e.jsx(xt,{icon:e.jsx(fD,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>P(O.id)})})]})]})}),e.jsx(Ie,{pt:0,children:e.jsx(k,{children:O.content})})]},O.id)})}),e.jsxs(Ct,{isOpen:p,onClose:x,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:e.jsxs(oe,{children:[e.jsx(Jy,{}),e.jsx(k,{children:l?"Modifier le flash":"Nouveau flash"})]})}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Type"}),e.jsx(lt,{value:d.type,onChange:O=>g(G=>({...G,type:O.target.value})),children:Object.entries(rb).map(([O,G])=>e.jsx("option",{value:O,children:G.label},O))})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Contenu du message"}),e.jsx(Yt,{value:d.content,onChange:O=>g(G=>({...G,content:O.target.value})),placeholder:"Message  afficher...",rows:4})]}),e.jsxs(Xs,{templateColumns:"1fr 1fr",gap:4,width:"100%",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Statut"}),e.jsxs(oe,{children:[e.jsx(Sr,{isChecked:d.active,onChange:O=>g(G=>({...G,active:O.target.checked}))}),e.jsx(k,{children:d.active?"Actif":"Inactif"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Afficher sur l'externe"}),e.jsxs(oe,{children:[e.jsx(Sr,{isChecked:d.showOnExternal,onChange:O=>g(G=>({...G,showOnExternal:O.target.checked}))}),e.jsx(k,{children:d.showOnExternal?"Oui":"Non"})]})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date d'expiration (optionnelle)"}),e.jsx(ye,{type:"datetime-local",value:d.expiresAt,onChange:O=>g(G=>({...G,expiresAt:O.target.value}))}),e.jsx(k,{fontSize:"sm",color:"gray.500",mt:1,children:"Laissez vide pour un flash permanent"})]}),d.showOnExternal&&e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Ce flash sera visible sur le site public externe"]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:M,children:l?"Mettre  jour":"Crer"})]})]})]})]})}const fu="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),zJ={PENDING:{label:"En attente",color:"yellow",progress:25},ACTIVE:{label:"Actif",color:"green",progress:100},EXPIRED:{label:"Expir",color:"red",progress:0},SUSPENDED:{label:"Suspendu",color:"orange",progress:50}},sb={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},ib={CASH:"Espces",CHECK:"Chque",BANK_TRANSFER:"Virement",CARD:"Carte bancaire",PAYPAL:"PayPal",HELLOASSO:"HelloAsso"};function LJ(){const{user:t,member:n,memberLoading:r,memberError:i,memberApiBase:l,refreshMember:u}=xs(),[d,g]=y.useState(null),[p,m]=y.useState(!0),[x,v]=y.useState(null),[S,E]=y.useState(null),[C,T]=y.useState(!1),[A,D]=y.useState({}),[M,R]=y.useState([]),[P,z]=y.useState(!1),[O,G]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{isOpen:q,onOpen:ce,onClose:he}=Nt(),{isOpen:se,onOpen:ge,onClose:Ae}=Nt(),{isOpen:de,onOpen:re,onClose:K}=Nt(),[W,H]=y.useState({reason:"",notes:"",pv:null,resignation:null}),[Ee,B]=y.useState(!1),[ae,me]=y.useState([]),[$,F]=y.useState(""),U=mn();y.useEffect(()=>{u()},[]),y.useEffect(()=>{g(n||null),m(r),v(i),E(l||null)},[n,r,i,l]),y.useEffect(()=>{d&&d.id?Re():R([])},[d?.id]);const Y=async()=>{await u(!0)},be=()=>{T(!0),D({...d})},Te=async()=>{try{if(!A.firstName||!A.lastName)throw new Error("Prnom et nom requis");const He=[S??"",fu||""];let it=null;for(const Xe of He)try{const vt=await fetch(`${Xe}/api/members/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(A)});if(vt.ok){it=vt;break}}catch{}if(!it)throw new Error("Erreur de sauvegarde");const It=await it.json();g(It),T(!1),U({status:"success",title:"Profil mis  jour",description:"Vos informations ont t sauvegardes",duration:3e3})}catch(He){U({status:"error",title:"Erreur",description:He.message,duration:5e3})}},Re=async()=>{try{z(!0);const He=[S??"",fu||""];let it=!1;for(const It of He)try{const Xe=await fetch(`${It}/api/members/me/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Xe.ok){const vt=await Xe.json();R(vt?.documents||[]),it=!0;break}}catch{}if(!it)throw new Error("Chargement des documents impossible")}catch(He){console.error("Docs error",He),R([])}finally{z(!1)}},nt=async He=>{try{const it=[S??"",fu||""];let It=null;for(const Ge of it)try{const At=await fetch(`${Ge}/api/documents/${He.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(At.ok){It=At;break}}catch{}if(!It)throw new Error("Tlchargement impossible");const Xe=await It.blob(),vt=URL.createObjectURL(Xe),Pn=document.createElement("a");Pn.href=vt,Pn.download=He.fileName||"document",document.body.appendChild(Pn),Pn.click(),Pn.remove(),URL.revokeObjectURL(vt)}catch(it){U({status:"error",title:"Erreur",description:it.message})}},ht=()=>{T(!1),D({...d})},rt=async()=>{if(O.newPassword!==O.confirmPassword){U({status:"error",title:"Erreur",description:"Les mots de passe ne correspondent pas",duration:3e3});return}if(O.newPassword.length<6){U({status:"error",title:"Erreur",description:"Le mot de passe doit faire au moins 6 caractres",duration:3e3});return}try{const He=await fetch(`${fu}/api/members/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({currentPassword:O.currentPassword,newPassword:O.newPassword})});if(!He.ok){const it=await He.json();throw new Error(it.error||"Erreur de changement de mot de passe")}U({status:"success",title:"Mot de passe modifi",description:"Votre mot de passe a t mis  jour avec succs",duration:3e3}),G({currentPassword:"",newPassword:"",confirmPassword:""}),he()}catch(He){U({status:"error",title:"Erreur",description:He.message,duration:5e3})}};if(p)return e.jsx(jn,{h:"400px",children:e.jsx(hn,{size:"xl"})});const zt=He=>{try{const it=typeof He=="string"?new Date(He):He;return it?it.toLocaleDateString("fr-FR"):"-"}catch{return"-"}},Ue=(He,it)=>{const It=new Date(He.getTime());return It.setFullYear(It.getFullYear()+it),It},qt=(He,it)=>Math.ceil((it.getTime()-He.getTime())/(1e3*60*60*24)),Se=d?.membershipStartDate?new Date(d.membershipStartDate):null,Ke=d?.membershipEndDate?new Date(d.membershipEndDate):null,Ot=Se?Ue(Se,1):null,le=Ke||Ot,ve=new Date,st=le?le<ve:!1,Mt=le?qt(ve,le):null,Mn=He=>{switch(He){case"ACTIVE":return"green";case"PENDING":return"orange";case"EXPIRED":return"red";case"SUSPENDED":return"gray";default:return"gray"}},ar=zJ[d?.membershipStatus]||{label:d?.membershipStatus||"Non dfini",progress:0};return e.jsxs(ue,{p:6,maxW:"4xl",mx:"auto",children:[e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(De,{size:"lg",display:"flex",alignItems:"center",children:[e.jsx(Gy,{style:{marginRight:"8px"}}),"Mon Adhsion"]}),C?e.jsxs(oe,{children:[e.jsx(te,{leftIcon:e.jsx(Du,{}),colorScheme:"green",onClick:Te,children:"Sauvegarder"}),e.jsx(te,{leftIcon:e.jsx(Np,{}),variant:"outline",onClick:ht,children:"Annuler"})]}):e.jsx(te,{leftIcon:e.jsx(Bs,{}),onClick:be,children:"Modifier"})]}),!d&&e.jsxs(Ut,{status:"warning",children:[e.jsx(Ht,{}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",children:"Profil adhrent introuvable"}),e.jsx(k,{fontSize:"sm",children:x===401?"Vous ntes pas autoris. Veuillez vous reconnecter.":x===404?"Votre profil nest pas encore li. Si vous venez de raliser une liaison, actualisez la page ou reconnectez-vous. Sinon, merci de contacter un administrateur pour lassocier depuis la Gestion des Adhrents.":x===500?"Erreur serveur lors de la rcupration du profil.":x==="network-error"?"Impossible de joindre lAPI. Rseau ou CORS ? Essayez  nouveau.":"Votre profil n'est pas encore li. Merci de contacter un administrateur pour l'associer depuis la Gestion des Adhrents."}),e.jsxs(oe,{mt:3,children:[e.jsx(te,{size:"sm",onClick:Y,children:"Ressayer"}),(t?.roles||[]).map(It=>String(It).toUpperCase()).some(It=>["ADMIN","PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(It))?e.jsx(te,{size:"sm",variant:"outline",onClick:async()=>{try{B(!0);const It=[S??"",fu||""];let Xe=null;for(const vt of It)try{const Pn=await fetch(`${vt}/api/members?limit=500`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Pn.ok){Xe=await Pn.json();break}}catch{}me(Xe?.members||[]),re()}finally{B(!1)}},isLoading:Ee,children:"Associer mon compte"}):null]})]})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(ao,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(lo,{children:[e.jsx(ln,{children:"Informations personnelles"}),e.jsx(ln,{children:"Informations Adhrent"}),e.jsx(ln,{children:"Documents d'adhsions"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Informations personnelles"})}),e.jsx(Ie,{children:e.jsx(ie,{spacing:4,align:"stretch",children:C?e.jsxs(e.Fragment,{children:[e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Prnom"}),e.jsx(ye,{value:A.firstName||"",onChange:He=>D(it=>({...it,firstName:He.target.value}))})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nom"}),e.jsx(ye,{value:A.lastName||"",onChange:He=>D(it=>({...it,lastName:He.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Email"}),e.jsx(ye,{type:"email",value:A.email||"",onChange:He=>D(it=>({...it,email:He.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Tlphone"}),e.jsx(ye,{value:A.phone||"",onChange:He=>D(it=>({...it,phone:He.target.value}))})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Adresse"}),e.jsx(ye,{value:A.address||"",onChange:He=>D(it=>({...it,address:He.target.value}))})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Code postal"}),e.jsx(ye,{value:A.postalCode||"",onChange:He=>D(it=>({...it,postalCode:He.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Ville"}),e.jsx(ye,{value:A.city||"",onChange:He=>D(it=>({...it,city:He.target.value}))})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date de naissance"}),e.jsx(ye,{type:"date",value:A.birthDate?A.birthDate.split("T")[0]:"",onChange:He=>D(it=>({...it,birthDate:He.target.value}))})]})]}):e.jsxs(gt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ue,{children:[e.jsxs(oe,{mb:4,children:[e.jsx(Gy,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Nom complet"}),e.jsxs(k,{fontWeight:"bold",children:[d.firstName," ",d.lastName]})]})]}),d.email&&e.jsxs(oe,{mb:4,children:[e.jsx(kc,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Email"}),e.jsx(k,{fontWeight:"bold",children:d.email})]})]}),d.phone&&e.jsxs(oe,{mb:4,children:[e.jsx(UP,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Tlphone"}),e.jsx(k,{fontWeight:"bold",children:d.phone})]})]})]}),e.jsxs(ue,{children:[(d.address||d.city)&&e.jsxs(oe,{mb:4,children:[e.jsx(Ec,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Adresse"}),e.jsxs(k,{fontWeight:"bold",children:[d.address&&`${d.address}, `,d.postalCode," ",d.city]})]})]}),d.birthDate&&e.jsxs(oe,{mb:4,children:[e.jsx(pi,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Date de naissance"}),e.jsx(k,{fontWeight:"bold",children:new Date(d.birthDate).toLocaleDateString("fr-FR")})]})]})]})]})})})]})}),e.jsx(cn,{px:0,children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Statut de l'Adhsion"})}),e.jsxs(Ie,{children:[e.jsxs(gt,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:2,children:"Statut actuel"}),e.jsx(et,{colorScheme:Mn(d.membershipStatus),fontSize:"md",p:2,children:ar.label}),e.jsx(jc,{value:ar.progress,colorScheme:Mn(d.membershipStatus),mt:2,size:"sm"})]}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:2,children:"Type d'adhsion"}),e.jsx(k,{fontWeight:"bold",children:sb[d.membershipType]||d.membershipType})]}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:2,children:"Matricule"}),e.jsx(k,{fontWeight:"bold",color:"blue.600",children:d.matricule}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:"Utilis pour se connecter au site"})]}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:2,children:"Numro d'adhrent"}),e.jsx(k,{fontWeight:"bold",color:"purple.600",children:d.memberNumber}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:"Numro unique d'adhsion"})]})]}),e.jsx(vn,{my:4}),e.jsxs(gt,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:1,children:"Dbut d'adhsion"}),e.jsx(k,{fontWeight:"bold",children:Se?zt(Se):"-"})]}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:1,children:"Expiration prvue"}),e.jsx(k,{fontWeight:"bold",color:st?"red.600":"gray.800",children:le?zt(le):"-"}),le&&e.jsx(k,{fontSize:"xs",color:st?"red.500":"gray.500",children:st?"Adhsion expire":`${Mt} jour(s) restant(s)`})]}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",mb:1,children:"Dernier paiement"}),e.jsx(k,{fontWeight:"bold",children:Se?zt(Se):"-"}),d?.paymentAmount&&e.jsxs(k,{fontSize:"xs",color:"gray.600",children:[d.paymentAmount," (",ib[d.paymentMethod]||d.paymentMethod,")"]})]})]}),!st&&Mt!==null&&Mt<=60&&e.jsxs(Ut,{status:"warning",mt:4,borderRadius:"md",children:[e.jsx(Ht,{}),"Votre adhsion arrive  chance dans ",Mt," jour(s). Pensez  la renouveler."]}),st&&e.jsxs(Ut,{status:"error",mt:4,borderRadius:"md",children:[e.jsx(Ht,{}),"Votre adhsion est expire. Veuillez procder au renouvellement."]})]})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Dtails d'adhsion"})}),e.jsx(Ie,{children:C?e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Type d'adhsion"}),e.jsx(lt,{value:A.membershipType||"STANDARD",onChange:He=>D(it=>({...it,membershipType:He.target.value})),children:Object.entries(sb).map(([He,it])=>e.jsx("option",{value:He,children:it},He))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Montant cotisation ()"}),e.jsx(ye,{type:"number",value:A.paymentAmount||"",onChange:He=>D(it=>({...it,paymentAmount:He.target.value}))})]})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Mode de paiement"}),e.jsx(lt,{value:A.paymentMethod||"CASH",onChange:He=>D(it=>({...it,paymentMethod:He.target.value})),children:Object.entries(ib).map(([He,it])=>e.jsx("option",{value:He,children:it},He))})]}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{htmlFor:"newsletter",mb:"0",children:"Newsletter"}),e.jsx(Sr,{id:"newsletter",isChecked:A.newsletter,onChange:He=>D(it=>({...it,newsletter:He.target.checked}))})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Notes"}),e.jsx(Yt,{value:A.notes||"",onChange:He=>D(it=>({...it,notes:He.target.value})),placeholder:"Notes personnelles..."})]})]}):e.jsxs(gt,{columns:{base:1,md:2},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[d.paymentAmount&&e.jsxs(oe,{mb:4,children:[e.jsx(hj,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Cotisation"}),e.jsxs(k,{fontWeight:"bold",children:[d.paymentAmount," (",ib[d.paymentMethod]||d.paymentMethod,")"]})]})]}),e.jsxs(oe,{mb:4,children:[e.jsx(Gy,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Type"}),e.jsx(k,{fontWeight:"bold",children:sb[d.membershipType]||d.membershipType})]})]}),Se&&e.jsxs(oe,{mb:4,children:[e.jsx(pi,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Dbut d'adhsion"}),e.jsx(k,{fontWeight:"bold",children:zt(Se)})]})]})]}),e.jsxs(ue,{children:[e.jsxs(oe,{mb:4,children:[e.jsx(Pu,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Matricule"}),e.jsx(k,{fontWeight:"bold",color:"blue.600",children:d.matricule})]})]}),e.jsxs(oe,{mb:4,children:[e.jsx(Pu,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Numro d'adhrent"}),e.jsx(k,{fontWeight:"bold",color:"purple.600",children:d.memberNumber})]})]}),le&&e.jsxs(oe,{mb:4,children:[e.jsx(pi,{}),e.jsxs(ue,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Expiration prvue"}),e.jsx(k,{fontWeight:"bold",color:st?"red.600":"gray.800",children:zt(le)})]})]})]})]})})]})]})}),e.jsx(cn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Documents d'adhsions"})}),e.jsx(Ie,{children:P?e.jsx(jn,{children:e.jsx(hn,{})}):M.length===0?e.jsx(k,{color:"gray.600",children:"Aucun document pour le moment."}):e.jsxs(dr,{size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Fichier"}),e.jsx($e,{children:"Type"}),e.jsx($e,{children:"Ajout le"}),e.jsx($e,{children:"Expiration"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{})]})}),e.jsx(pr,{children:M.map(He=>e.jsxs(Ft,{children:[e.jsx(Le,{children:He.fileName}),e.jsx(Le,{children:He.documentType||"-"}),e.jsx(Le,{children:He.uploadedAt?new Date(He.uploadedAt).toLocaleString("fr-FR"):"-"}),e.jsx(Le,{children:He.expiryDate?new Date(He.expiryDate).toLocaleDateString("fr-FR"):"-"}),e.jsx(Le,{children:e.jsx(et,{children:He.status||"PENDING"})}),e.jsx(Le,{textAlign:"right",children:e.jsx(te,{size:"sm",leftIcon:e.jsx(na,{}),onClick:()=>nt(He),children:"Tlcharger"})})]},He.id))})]})})]})})]})]}),!C&&e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Actions"})}),e.jsx(Ie,{children:e.jsxs(oe,{spacing:4,wrap:"wrap",children:[e.jsx(te,{leftIcon:e.jsx(Pu,{}),onClick:ce,children:"Changer le mot de passe"}),e.jsx(te,{leftIcon:e.jsx(na,{}),variant:"outline",children:"Tlcharger ma carte d'adhrent"}),(t?.roles||[]).map(It=>String(It).toUpperCase()).some(It=>["PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(It))&&e.jsx(te,{colorScheme:"red",variant:"outline",onClick:ge,children:"Supprimer l'adhsion"})]})})]}),d.notes&&!C&&e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Notes"})}),e.jsx(Ie,{children:e.jsx(k,{children:d.notes})})]})]})]}),e.jsxs(Ct,{isOpen:q,onClose:he,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Changer le mot de passe"}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Mot de passe actuel"}),e.jsx(ye,{type:"password",value:O.currentPassword,onChange:He=>G(it=>({...it,currentPassword:He.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Nouveau mot de passe"}),e.jsx(ye,{type:"password",value:O.newPassword,onChange:He=>G(it=>({...it,newPassword:He.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Confirmer le nouveau mot de passe"}),e.jsx(ye,{type:"password",value:O.confirmPassword,onChange:He=>G(it=>({...it,confirmPassword:He.target.value}))})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:he,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:rt,children:"Modifier"})]})]})]}),e.jsxs(Ct,{isOpen:se,onClose:Ae,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Supprimer l'adhsion"}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(Ut,{status:"warning",children:[e.jsx(Ht,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Motif"}),e.jsxs(lt,{value:W.reason,onChange:He=>H(it=>({...it,reason:He.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Notes (optionnel)"}),e.jsx(Yt,{value:W.notes,onChange:He=>H(it=>({...it,notes:He.target.value}))})]}),W.reason==="EXCLUSION"||W.reason==="DEMISSION"?e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Procs-verbal (PDF/Image)"}),e.jsx(ye,{type:"file",accept:"application/pdf,image/*",onChange:He=>H(it=>({...it,pv:He.target.files?.[0]||null}))})]}):null,W.reason==="DEMISSION"?e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(ye,{type:"file",accept:"application/pdf,image/*",onChange:He=>H(it=>({...it,resignation:He.target.files?.[0]||null}))})]}):null]})}),e.jsx(Wt,{children:e.jsxs(oe,{children:[e.jsx(te,{variant:"ghost",onClick:Ae,children:"Annuler"}),e.jsx(te,{colorScheme:"red",onClick:async()=>{try{if(!W.reason){U({title:"Motif requis",status:"error"});return}if(W.reason==="EXCLUSION"&&!W.pv){U({title:"PV obligatoire",status:"error"});return}if(W.reason==="DEMISSION"&&(!W.pv||!W.resignation)){U({title:"PV et lettre requis",status:"error"});return}const He=new FormData;He.append("reason",W.reason),W.notes&&He.append("notes",W.notes),W.pv&&He.append("pv",W.pv),W.resignation&&He.append("resignation",W.resignation);let it=null,It=null;for(const Xe of[S??"",fu||""])try{const vt=await fetch(`${Xe}/api/members/${d?.id}/terminate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:He});if(vt.ok){it=vt,It=await vt.json();break}else It=await vt.json().catch(()=>({}))}catch{}if(!it)throw new Error(It?.error||"Erreur de suppression");U({title:"Adhsion supprime",status:"success",duration:3e3}),Ae(),Y()}catch(He){U({title:"Erreur",description:He.message,status:"error"})}},children:"Confirmer"})]})})]})]}),e.jsxs(Ct,{isOpen:de,onClose:K,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Associer mon compte  un adhrent"}),e.jsx(wt,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Slectionnez ladhrent correspondant  votre compte afin dactiver la page Mon Adhsion."}),e.jsxs(ee,{children:[e.jsx(J,{children:"Adhrent"}),e.jsx(lt,{value:$,onChange:He=>F(He.target.value),placeholder:"Choisir",children:ae.map(He=>e.jsxs("option",{value:He.id,children:[He.lastName?.toUpperCase()," ",He.firstName,"  ",He.email," ",He.memberNumber?`(${He.memberNumber})`:""]},He.id))})]})]})}),e.jsx(Wt,{children:e.jsxs(oe,{children:[e.jsx(te,{variant:"ghost",onClick:K,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",isDisabled:!$,onClick:async()=>{try{B(!0);let He=!1,it=null;for(const It of[S??"",fu||""])try{const Xe=await fetch(`${It}/api/members/${$}/link-access`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:(t?.username||"").toLowerCase()})}),vt=await Xe.json().catch(()=>({}));if(Xe.ok){He=!0;break}else it=vt?.error||"Erreur de liaison"}catch{}if(!He)throw new Error(it||"Erreur de liaison");U({status:"success",title:"Compte associ"}),K(),await u(!0)}catch(He){U({status:"error",title:"chec",description:He.message})}finally{B(!1)}},children:"Associer"})]})})]})]})]})}const mD={"w.belaidi":{password:"Waiyl9134#",prenom:"Waiyl",nom:"BELAIDI",roles:["ADMIN"]},"m.ravichandran":{password:"RBE2025",prenom:"Mthusan",nom:"RAVICHANDRAN",roles:["MEMBER"]},"g.champenois":{password:"RBE2026",prenom:"Galle",nom:"CHAMPENOIS",roles:["MEMBER"]},"n.tetillon":{password:"RBE185C",prenom:"Nathan",nom:"TETILLON",roles:["MEMBER"]}};async function OJ(t,n){const i=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/login`;try{const d=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=mD[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}async function BJ(t,n){const i=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/member-login`;try{const d=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=mD[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}const $J="/univers_rbe.png";function FJ(){const[t,n]=y.useState(""),[r,i]=y.useState(""),[l,u]=y.useState(""),[d,g]=y.useState(!1),p=la(),{setToken:m,setUser:x}=xs(),v=Fn("rbe.500","rbe.300"),S=Fn("gray.100","gray.700"),E=async()=>{if(!t.trim()||!r.trim()){u("Champs requis.");return}g(!0),u("");try{const T=t.trim(),D=/^\d{4}-\d{3}$/i.test(T)||T.includes("@")?await BJ(T,r):await OJ(T.toLowerCase(),r);m(D.token),x(D.user),p("/dashboard")}catch(T){u(T.message)}finally{g(!1)}},C=T=>T.key==="Enter"&&E();return e.jsxs(ue,{minH:"100vh",bg:"white",overflowX:"hidden",children:[e.jsx(ue,{as:"header",w:"100%",bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:e.jsx(ue,{maxW:"2000px",mx:"auto",children:e.jsx(Mi,{src:$J,alt:"Bannire Intranet",w:"100%",h:{base:"100px",md:"200px",lg:"300px"},objectFit:"cover",fallbackSrc:"https://via.placeholder.com/2000x600?text=Intranet+Banner"})})}),e.jsx(ue,{as:"main",px:4,pb:12,children:e.jsx(ue,{maxW:"xs",w:"full",mx:"auto",mt:{base:-12,md:-20},position:"relative",children:e.jsxs(ie,{spacing:3,bg:"white",p:6,borderRadius:"md",shadow:"xl",border:"1px solid",borderColor:S,borderTop:"4px solid",borderTopColor:"rbe.500",children:[e.jsx(k,{fontSize:"xl",fontWeight:"bold",textAlign:"center",children:"Connexion Intranet"}),e.jsx(k,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"Accs rserv aux membres et bnvoles"}),l&&e.jsx(k,{color:"red.500",textAlign:"center",children:l}),e.jsx(ye,{size:"sm",placeholder:"Identifiant",value:t,onChange:T=>n(T.target.value),onKeyDown:C,_focus:{borderColor:v,boxShadow:`0 0 0 1px ${v}`}}),e.jsx(ye,{size:"sm",placeholder:"Mot de passe",type:"password",value:r,onChange:T=>i(T.target.value),onKeyDown:C,_focus:{borderColor:v,boxShadow:`0 0 0 1px ${v}`}}),e.jsx(te,{size:"sm",colorScheme:"rbe",w:"full",onClick:E,isLoading:d,loadingText:"Connexion...",children:"Se connecter"})]})})})]})}function VJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!1),[l,u]=y.useState(!1),[d,g]=y.useState(""),[p,m]=y.useState("CONFIRMED"),[x,v]=y.useState(!1),[S,E]=y.useState({total:0,confirmed:0,pending:0}),[C,T]=y.useState(null),[A,D]=y.useState("ALL"),M=mn(),{token:R,isAuthenticated:P}=xs(),z=la(),{isOpen:O,onOpen:G,onClose:q}=Nt(),ce=y.useCallback(async(K={manual:!1})=>{if(!R){console.log("[Newsletter] Waiting for token...");return}i(!0),v(!1);try{console.log("[Newsletter] Fetching subscribers...");const W=await Pg.getAll();console.log("[Newsletter] Received:",W),n(Array.isArray(W)?W:[]);const H=W.length,Ee=W.filter(ae=>ae.status==="CONFIRMED").length,B=W.filter(ae=>ae.status==="PENDING").length;E({total:H,confirmed:Ee,pending:B})}catch(W){if(console.error("[Newsletter] fetch error:",W),W.status===401){M({status:"error",title:"Session expire",description:"Veuillez vous reconnecter"}),n([]);return}v(!0),K.manual||M({status:"warning",title:"Mode dgrad",description:"Affichage de donnes de dmonstration (chec API)"}),n([{id:"demo1",email:"demo@example.com",status:"CONFIRMED",createdAt:new Date().toISOString()},{id:"demo2",email:"test@rbe.fr",status:"PENDING",createdAt:new Date().toISOString()}]),E({total:2,confirmed:1,pending:1})}finally{i(!1)}},[R,M]);y.useEffect(()=>{R&&ce()},[R,ce]);const he=async()=>{if(!d.includes("@")){M({status:"error",title:"Email invalide"});return}if(!R){M({status:"error",title:"Authentification requise"});return}u(!0);try{await Pg.create({email:d.trim().toLowerCase(),status:p}),M({status:"success",title:"Abonn ajout avec succs"}),g(""),m("CONFIRMED"),ce({manual:!0})}catch(K){if(K.status===401){M({status:"error",title:"Session expire"});return}if(K.status===409){M({status:"info",title:"Email dj existant",description:"Cet email est dj dans la liste"});return}M({status:"error",title:"Erreur lors de l'ajout"})}finally{u(!1)}},se=async(K,W)=>{if(confirm(`Supprimer l'abonn ${W} ?`)){if(!R){M({status:"error",title:"Authentification requise"});return}try{await Pg.delete(K),M({status:"success",title:"Abonn supprim"}),n(H=>H.filter(Ee=>Ee.id!==K)),E(H=>({...H,total:H.total-1,confirmed:H.confirmed-(t.find(Ee=>Ee.id===K)?.status==="CONFIRMED"?1:0),pending:H.pending-(t.find(Ee=>Ee.id===K)?.status==="PENDING"?1:0)}))}catch(H){if(H.status===401){M({status:"error",title:"Session expire"});return}M({status:"error",title:"Erreur lors de la suppression"})}}},ge=K=>{T(K),G()},Ae=async K=>{if(C)try{await Pg.updateStatus(C.id,K),M({status:"success",title:"Statut mis  jour",description:`${C.email}  ${K}`}),n(W=>W.map(H=>H.id===C.id?{...H,status:K}:H)),q(),ce({manual:!0})}catch{M({status:"error",title:"Erreur lors de la mise  jour"})}},de=async()=>{try{M({status:"info",title:"Export en cours...",description:"Gnration du fichier CSV"});const K=t.map(B=>({Email:B.email,Statut:B.status,"Date inscription":new Date(B.createdAt).toLocaleDateString("fr-FR")})),W=[Object.keys(K[0]).join(";"),...K.map(B=>Object.values(B).join(";"))].join(`
`),H=new Blob([W],{type:"text/csv;charset=utf-8;"}),Ee=document.createElement("a");Ee.href=URL.createObjectURL(H),Ee.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,Ee.click(),M({status:"success",title:"Export termin"})}catch{M({status:"error",title:"Erreur lors de l'export"})}},re=A==="ALL"?t:t.filter(K=>K.status===A);return P?e.jsx(ue,{p:6,children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"lg",children:" Gestion Newsletter"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Grez les abonnements  la newsletter RtroBus Essonne"})]}),e.jsxs(oe,{children:[e.jsx(te,{leftIcon:e.jsx(sa,{}),size:"sm",variant:"outline",onClick:()=>ce({manual:!0}),isLoading:r,children:"Rafrachir"}),e.jsx(te,{leftIcon:e.jsx(na,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:de,isDisabled:t.length===0,children:"Exporter CSV"}),e.jsx(te,{leftIcon:e.jsx(kc,{}),size:"sm",colorScheme:"blue",onClick:()=>z("/dashboard/newsletter-campaigns"),title:"Grer les campagnes de mailing",children:"Campagnes"})]})]}),e.jsxs(m1,{children:[e.jsxs(jt,{children:[e.jsx(bt,{children:"Total abonns"}),e.jsx(yt,{color:"blue.500",children:S.total})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Confirms"}),e.jsx(yt,{color:"green.500",children:S.confirmed})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"En attente"}),e.jsx(yt,{color:"orange.500",children:S.pending})]})]}),x&&e.jsxs(Ut,{status:"warning",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"bold",children:"Mode dgrad"}),e.jsx(k,{fontSize:"sm",children:"Donnes de dmonstration affiches (API indisponible)"})]})]}),e.jsx(ue,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"gray.50",children:e.jsxs(ie,{spacing:4,children:[e.jsx(De,{size:"sm",children:" Ajouter un nouvel abonn"}),e.jsxs(oe,{w:"100%",spacing:4,children:[e.jsxs(ee,{flex:2,children:[e.jsx(J,{fontSize:"sm",children:"Email"}),e.jsx(ye,{placeholder:"nouvel.abonne@email.com",value:d,onChange:K=>g(K.target.value),bg:"white"})]}),e.jsxs(ee,{flex:1,children:[e.jsx(J,{fontSize:"sm",children:"Statut"}),e.jsxs(lt,{value:p,onChange:K=>m(K.target.value),bg:"white",children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"green",onClick:he,isLoading:l,alignSelf:"end",children:"Ajouter"})]})]})}),e.jsxs(oe,{justify:"space-between",children:[e.jsxs(oe,{children:[e.jsx(k,{fontSize:"sm",fontWeight:"medium",children:"Filtrer par statut :"}),e.jsxs(lt,{size:"sm",value:A,onChange:K=>D(K.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous"}),e.jsx("option",{value:"CONFIRMED",children:"Confirms"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsxs($u,{size:"lg",variant:"subtle",colorScheme:"purple",children:[e.jsxs(Fu,{children:[e.jsx(Ti,{style:{marginRight:"4px"}}),re.length," affich",re.length>1?"s":""]}),t.length>0&&e.jsx(g1,{title:"Vider la liste locale (ne supprime pas en base)",onClick:()=>{confirm("Vider la liste locale affiche ? (ne supprime pas en base)")&&(n([]),E({total:0,confirmed:0,pending:0}))}})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"lg",overflowX:"auto",children:r?e.jsx(jn,{py:10,children:e.jsxs(ie,{children:[e.jsx(hn,{size:"lg",color:"blue.500"}),e.jsx(k,{color:"gray.600",children:"Chargement des abonns..."})]})}):e.jsxs(dr,{size:"sm",children:[e.jsx(mr,{bg:"gray.50",children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Email"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Date d'inscription"}),e.jsx($e,{children:"Actions"})]})}),e.jsxs(pr,{children:[re.map(K=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Le,{fontWeight:"semibold",maxW:"300px",isTruncated:!0,children:K.email}),e.jsx(Le,{children:e.jsx(et,{colorScheme:K.status==="CONFIRMED"?"green":"orange",variant:"subtle",fontSize:"xs",px:2,py:1,borderRadius:"md",cursor:"pointer",onClick:()=>ge(K),_hover:{opacity:.8},title:"Cliquer pour modifier",children:K.status==="CONFIRMED"?" Confirm":" En attente"})}),e.jsx(Le,{fontSize:"sm",color:"gray.600",children:K.createdAt?new Date(K.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"-"}),e.jsx(Le,{children:e.jsxs(oe,{spacing:1,children:[e.jsx(xt,{"aria-label":"Modifier le statut",icon:e.jsx(Bs,{}),size:"xs",colorScheme:"blue",variant:"ghost",onClick:()=>ge(K),title:"Modifier le statut"}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>se(K.id,K.email),title:"Supprimer cet abonn"})]})})]},K.id)),re.length===0&&!r&&e.jsx(Ft,{children:e.jsx(Le,{colSpan:4,children:e.jsx(jn,{py:8,children:e.jsxs(ie,{children:[e.jsx(k,{fontSize:"lg",children:""}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:A==="ALL"?"Aucun abonn pour le moment.":`Aucun abonn avec le statut "${A}".`}),A!=="ALL"&&e.jsx(te,{size:"sm",variant:"link",onClick:()=>D("ALL"),children:"Voir tous les abonns"})]})})})})]})]})}),e.jsx(ue,{mt:8,p:4,bg:"blue.50",borderRadius:"lg",children:e.jsxs(ie,{align:"start",spacing:3,children:[e.jsx(De,{size:"sm",color:"blue.700",children:" Feuille de route"}),e.jsxs(ie,{align:"start",spacing:1,fontSize:"sm",color:"blue.600",children:[e.jsx(k,{children:" Ajout / suppression manuelle d'abonns"}),e.jsx(k,{children:" Gestion des statuts (confirm / en attente)"}),e.jsx(k,{children:" Export CSV des abonns"}),e.jsx(k,{children:" Statistiques en temps rel"}),e.jsx(k,{children:" Import CSV en masse"}),e.jsx(k,{children:" Double opt-in avec email de confirmation"}),e.jsx(k,{children:" Intgration service de mailing (Sendinblue, Mailjet...)"}),e.jsx(k,{children:" Templates d'emails personnalisables"}),e.jsx(k,{children:" Segmentation avance des abonns"})]})]})}),e.jsxs(Ct,{isOpen:O,onClose:q,isCentered:!0,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Modifier le statut de l'abonn"}),e.jsx(Bt,{}),e.jsx(wt,{children:C&&e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Email :"})," ",C.email]}),e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Statut actuel :"})," ",C.status]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Nouveau statut"}),e.jsxs(lt,{defaultValue:C.status,onChange:K=>T({...C,newStatus:K.target.value}),children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:q,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:()=>Ae(C?.newStatus||C?.status),children:"Mettre  jour"})]})]})]})]})}):e.jsx(jn,{minH:"300px",children:e.jsxs(ie,{children:[e.jsx(k,{children:"Veuillez vous connecter pour accder  la gestion newsletter."}),e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Cette section ncessite des droits d'administration."})]})})}const xc="https://attractive-kindness-rbe-serveurs.up.railway.app";function UJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!1),[l,u]=y.useState(null),[d,g]=y.useState(null),[p,m]=y.useState({title:"",subject:"",content:"",scheduledAt:""}),[x,v]=y.useState(""),[S,E]=y.useState(null),[C,T]=y.useState(null),[A,D]=y.useState({}),{token:M}=xs(),R=mn(),{isOpen:P,onOpen:z,onClose:O}=Nt(),{isOpen:G,onOpen:q,onClose:ce}=Nt(),{isOpen:he,onOpen:se,onClose:ge}=Nt(),Ae=async()=>{i(!0);try{const me=await fetch(`${xc}/newsletter/campaigns`,{headers:{Authorization:`Bearer ${M}`}});if(!me.ok)throw new Error("Erreur chargement");const $=await me.json();n($)}catch{R({status:"error",title:"Erreur",description:"Impossible de charger les campagnes"})}finally{i(!1)}};y.useEffect(()=>{M&&Ae()},[M]);const de=async()=>{if(!p.title||!p.subject||!p.content){R({status:"error",title:"Erreur",description:"Tous les champs sont requis"});return}try{if(!(await fetch(`${xc}/newsletter/campaigns`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(p)})).ok)throw new Error("Erreur cration");R({status:"success",title:"Succs",description:"Campagne cre avec succs"}),m({title:"",subject:"",content:"",scheduledAt:""}),O(),Ae()}catch{R({status:"error",title:"Erreur",description:"Impossible de crer la campagne"})}},re=async me=>{try{const $=await fetch(`${xc}/newsletter/campaigns/${me}/preview`,{headers:{Authorization:`Bearer ${M}`}});if(!$.ok)throw new Error("Erreur prvisualisation");const F=await $.json();g(me),E(F),q()}catch{R({status:"error",title:"Erreur",description:"Impossible de prvisualiser"})}},K=async me=>{if(!x){R({status:"error",title:"Erreur",description:"Email de test requis"});return}try{if(!(await fetch(`${xc}/newsletter/campaigns/${me}/test`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:x})})).ok)throw new Error("Erreur envoi test");R({status:"success",title:"Test envoy",description:`Email de test envoy  ${x}`}),v("")}catch{R({status:"error",title:"Erreur",description:"Impossible d'envoyer le test"})}},W=async me=>{if(confirm("tes-vous sr de vouloir envoyer cette campagne ? Cette action est irrversible.")){T(me);try{const $=await fetch(`${xc}/newsletter/campaigns/${me}/prepare`,{method:"POST",headers:{Authorization:`Bearer ${M}`}});if(!$.ok)throw new Error("Erreur prparation");const F=await $.json();R({status:"info",title:"Prparation termine",description:`${F.preparedSends} emails prpars. Envoi en cours...`});const U=await fetch(`${xc}/newsletter/campaigns/${me}/send`,{method:"POST",headers:{Authorization:`Bearer ${M}`}});if(!U.ok)throw new Error("Erreur envoi");const Y=await U.json();R({status:"success",title:"Envoi termin",description:`${Y.success} emails envoys avec succs, ${Y.errors} erreurs`}),Ae()}catch{R({status:"error",title:"Erreur",description:"Impossible d'envoyer la campagne"})}finally{T(null)}}},H=async me=>{u(me);try{const $=await fetch(`${xc}/newsletter/campaigns/${me.id}/stats`,{headers:{Authorization:`Bearer ${M}`}});if(!$.ok)throw new Error("Erreur stats");const F=await $.json();D(F),se()}catch{R({status:"error",title:"Erreur",description:"Impossible de charger les statistiques"})}},Ee=async(me,$)=>{if(confirm(`Supprimer dfinitivement la campagne "${$}" ?`))try{if(!(await fetch(`${xc}/newsletter/campaigns/${me}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`}})).ok)throw new Error("Erreur suppression");R({status:"success",title:"Supprim",description:"Campagne supprime avec succs"}),Ae()}catch{R({status:"error",title:"Erreur",description:"Impossible de supprimer la campagne"})}},B=me=>{const $={DRAFT:{color:"gray",text:"Brouillon"},SENDING:{color:"blue",text:"En cours"},SENT:{color:"green",text:"Envoy"},CANCELLED:{color:"red",text:"Annul"}},F=$[me]||$.DRAFT;return e.jsx(et,{colorScheme:F.color,children:F.text})},ae={event:{title:"Nouvel vnement",subject:" Nouveau vnement RtroBus Essonne !",content:`
        <h2> Nouvel vnement  ne pas manquer !</h2>
        <p>Chers passionns de vhicules d'poque,</p>
        <p>Nous avons le plaisir de vous annoncer un nouvel vnement organis par l'association RtroBus Essonne :</p>
        
        <h3> [Nom de l'vnement]</h3>
        <p><strong>Date :</strong> [Date]<br>
        <strong>Lieu :</strong> [Lieu]<br>
        <strong>Heure :</strong> [Heure]</p>
        
        <p>[Description de l'vnement]</p>
        
        <a href="#" class="button">S'inscrire  l'vnement</a>
        
        <p>Au plaisir de vous retrouver nombreux !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `},news:{title:"Actualits du parc",subject:" Actualits RtroBus Essonne",content:`
        <h2> Les dernires nouvelles de notre parc</h2>
        <p>Bonjour  tous,</p>
        <p>Voici les dernires actualits de l'association RtroBus Essonne :</p>
        
        <h3> Nouveau vhicule au parc</h3>
        <p>[Informations sur le nouveau vhicule]</p>
        
        <h3> Travaux de restauration</h3>
        <p>[Avancement des travaux]</p>
        
        <h3> Retour en images</h3>
        <p>[Galerie photos rcente]</p>
        
        <a href="#" class="button">Voir toutes les actualits</a>
        
        <p>Merci pour votre soutien !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `}};return e.jsxs(ue,{p:6,children:[e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"lg",children:" Campagnes Newsletter"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Crez et grez vos campagnes d'emailing"})]}),e.jsxs(oe,{children:[e.jsx(te,{leftIcon:e.jsx(sa,{}),onClick:Ae,isLoading:r,variant:"outline",size:"sm",children:"Actualiser"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:z,children:"Nouvelle campagne"})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:r?e.jsx(jn,{py:10,children:e.jsx(hn,{size:"lg"})}):t.length===0?e.jsx(jn,{py:10,children:e.jsxs(ie,{children:[e.jsx(k,{fontSize:"lg",children:""}),e.jsx(k,{color:"gray.500",children:"Aucune campagne cre"}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",size:"sm",onClick:z,children:"Crer votre premire campagne"})]})}):e.jsxs(dr,{children:[e.jsx(mr,{bg:"gray.50",children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Campagne"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Cre le"}),e.jsx($e,{children:"Abonns"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:t.map(me=>e.jsxs(Ft,{children:[e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"semibold",children:me.title}),e.jsx(k,{fontSize:"sm",color:"gray.600",isTruncated:!0,maxW:"300px",children:me.subject})]})}),e.jsx(Le,{children:B(me.status)}),e.jsx(Le,{children:e.jsx(k,{fontSize:"sm",children:new Date(me.createdAt).toLocaleDateString("fr-FR")})}),e.jsx(Le,{children:e.jsx(k,{fontSize:"sm",children:me.totalSent||me._count?.sends||0})}),e.jsx(Le,{children:e.jsxs(oe,{spacing:1,children:[e.jsx(xt,{"aria-label":"Prvisualiser",icon:e.jsx(Dp,{}),size:"sm",variant:"ghost",onClick:()=>re(me.id)}),me.status==="DRAFT"&&e.jsxs(e.Fragment,{children:[e.jsx(xt,{"aria-label":"Envoyer",icon:e.jsx(zX,{}),size:"sm",colorScheme:"green",variant:"ghost",onClick:()=>W(me.id),isLoading:C===me.id}),e.jsx(xt,{"aria-label":"Supprimer",icon:e.jsx(hr,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>Ee(me.id,me.title)})]}),me.status==="SENT"&&e.jsx(xt,{"aria-label":"Statistiques",icon:e.jsx(EX,{}),size:"sm",colorScheme:"purple",variant:"ghost",onClick:()=>H(me)})]})})]},me.id))})]})})]}),e.jsxs(Ct,{isOpen:P,onClose:O,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(_t,{children:" Nouvelle campagne newsletter"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Titre de la campagne"}),e.jsx(ye,{placeholder:"ex: Newsletter mensuelle octobre 2025",value:p.title,onChange:me=>m($=>({...$,title:me.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Sujet de l'email"}),e.jsx(ye,{placeholder:"ex:  Actualits RtroBus Essonne - Octobre 2025",value:p.subject,onChange:me=>m($=>({...$,subject:me.target.value}))})]}),e.jsx(Wk,{allowToggle:!0,w:"100%",children:e.jsxs(Zk,{children:[e.jsxs(qk,{children:[e.jsx(ue,{flex:"1",textAlign:"left",children:" Utiliser un template prdfini"}),e.jsx(Gk,{})]}),e.jsx(Yk,{children:e.jsx(ie,{spacing:2,children:Object.entries(ae).map(([me,$])=>e.jsx(te,{size:"sm",variant:"outline",w:"100%",onClick:()=>m(F=>({...F,title:$.title,subject:$.subject,content:$.content})),children:$.title},me))})})]})}),e.jsxs(ee,{children:[e.jsx(J,{children:"Contenu de la newsletter (HTML)"}),e.jsx(Yt,{value:p.content,onChange:me=>m($=>({...$,content:me.target.value})),minH:"400px",fontFamily:"mono",fontSize:"sm",placeholder:"Entrez votre contenu HTML..."})]}),e.jsxs(Ut,{status:"info",fontSize:"sm",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"semibold",children:" Conseils"}),e.jsx(k,{children:" Utilisez des titres avec <h2> et <h3>"}),e.jsx(k,{children:' Ajoutez des liens avec <a href="#" class="button">Texte</a>'}),e.jsx(k,{children:" Sparez les sections avec des paragraphes <p>"})]})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:O,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:de,children:"Crer la campagne"})]})]})]}),e.jsxs(Ct,{isOpen:G,onClose:ce,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",children:[e.jsx(_t,{children:" Prvisualisation de la campagne"}),e.jsx(Bt,{}),e.jsx(wt,{children:S&&e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Sujet"}),e.jsx(hh,{p:2,w:"100%",children:S.subject})]}),e.jsx(vn,{}),e.jsxs(ie,{spacing:2,children:[e.jsx(k,{fontWeight:"semibold",children:"Aperu de l'email :"}),e.jsx(ue,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",h:"400px",w:"100%",overflow:"auto",children:e.jsx("iframe",{srcDoc:S.html,style:{width:"100%",height:"100%",border:"none"},title:"Prvisualisation email"})})]}),e.jsx(vn,{}),e.jsxs(ee,{children:[e.jsx(J,{children:"Envoyer un test  :"}),e.jsxs(oe,{children:[e.jsx(ye,{placeholder:"votre-email@test.com",value:x,onChange:me=>v(me.target.value)}),e.jsx(te,{leftIcon:e.jsx(kc,{}),colorScheme:"orange",onClick:()=>K(d),isDisabled:!x||!d,children:"Envoyer le test"})]})]})]})}),e.jsx(Wt,{children:e.jsx(te,{onClick:ce,children:"Fermer"})})]})]}),e.jsxs(Ct,{isOpen:he,onClose:ge,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:" Statistiques de la campagne"}),e.jsx(Bt,{}),e.jsx(wt,{children:l&&e.jsxs(ie,{spacing:6,children:[e.jsxs(ie,{align:"start",w:"100%",children:[e.jsx(k,{fontWeight:"semibold",children:l.title}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:l.subject}),e.jsxs(k,{fontSize:"sm",color:"gray.500",children:["Envoye le ",new Date(l.sentAt).toLocaleDateString("fr-FR")]})]}),e.jsxs(m1,{w:"100%",children:[e.jsxs(jt,{children:[e.jsx(bt,{children:"Envoys"}),e.jsx(yt,{color:"blue.500",children:A.sent||0})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"checs"}),e.jsx(yt,{color:"red.500",children:A.failed||0})]}),e.jsxs(jt,{children:[e.jsx(bt,{children:"Ouvertures"}),e.jsx(yt,{color:"green.500",children:A.opened||0})]})]}),A.sent>0&&e.jsxs(ue,{w:"100%",children:[e.jsx(k,{fontSize:"sm",mb:2,children:"Taux de russite"}),e.jsx(jc,{value:A.sent/(A.sent+A.failed)*100,colorScheme:"green",size:"lg"}),e.jsxs(k,{fontSize:"xs",color:"gray.500",mt:1,children:[Math.round(A.sent/(A.sent+A.failed)*100),"% des emails ont t envoys avec succs"]})]})]})}),e.jsx(Wt,{children:e.jsx(te,{onClick:ge,children:"Fermer"})})]})]})]})}const HJ=({label:t,value:n,change:r,icon:i,color:l="brand",loading:u=!1})=>{const d=Fn("white","gray.800"),g=Fn(`${l}.600`,`${l}.400`);return e.jsx(Ne,{variant:"modern",bg:d,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsxs(oe,{justify:"space-between",align:"start",mb:2,children:[e.jsx(bt,{color:"gray.600",fontSize:"sm",fontWeight:"500",children:t}),i&&e.jsx(qn,{as:i,color:g,boxSize:5})]}),e.jsx(yt,{color:g,fontSize:"2xl",fontWeight:"700",children:u?e.jsx(hn,{size:"sm"}):n}),r&&!u&&e.jsxs(eo,{mb:0,children:[e.jsx(Gd,{type:r.type}),r.value]})]})})})},WJ=({stats:t,loading:n=!1})=>e.jsx(gt,{columns:{base:1,md:2,lg:4},spacing:6,mb:8,children:t.map((r,i)=>e.jsx(HJ,{...r,loading:n},i))}),Id={STANDARD:{label:"Standard",price:60,description:"Adhsion individuelle classique",color:"blue"},FAMILY:{label:"Famille",price:100,description:"2 adultes + enfants mineurs",color:"green"},STUDENT:{label:"tudiant",price:35,description:"Tarif rduit sur justificatif",color:"purple"},HONORARY:{label:"Honneur",price:0,description:"Membre d'honneur",color:"gold"},LIFETIME:{label:" vie",price:0,description:"Adhsion permanente",color:"red"}},Dg={PENDING:{label:"En attente",color:"yellow",icon:S1,description:"Dossier en cours de traitement"},ACTIVE:{label:"Actif",color:"green",icon:y1,description:"Adhsion  jour"},EXPIRED:{label:"Expir",color:"red",icon:VX,description:"Adhsion expire"},SUSPENDED:{label:"Suspendu",color:"orange",icon:v1,description:"Adhsion suspendue"},CANCELLED:{label:"Annul",color:"gray",icon:Ax,description:"Adhsion annule"}},Ng={MEMBER:{label:"Adhrent",icon:Ti,color:"blue",description:"Membre standard de l'association",permissions:["participate_events","access_newsletter"]},DRIVER:{label:"Conducteur",icon:Cc,color:"green",description:"Autoris  conduire les vhicules",permissions:["drive_vehicles","access_myrbe"]},ADMIN:{label:"Administrateur",icon:C1,color:"red",description:"Accs complet aux fonctions d'administration",permissions:["admin_full_access"]},BUREAU:{label:"Bureau",icon:SX,color:"purple",description:"Membre du bureau de l'association",permissions:["bureau_access","admin_events","admin_members"]}},qJ={CASH:{label:"Espces",icon:Vu,color:"green"},CHECK:{label:"Chque",icon:hj,color:"blue"},TRANSFER:{label:"Virement",icon:Na,color:"purple"},HELLOASSO:{label:"HelloAsso",icon:FP,color:"orange"},CARD:{label:"Carte bancaire",icon:hj,color:"teal"}},ob={IDENTITY_CARD:{label:"Pice d'identit",icon:HP,color:"green",required:!0,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},DRIVING_LICENSE:{label:"Permis de conduire",icon:Cc,color:"blue",required:!1,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},INSURANCE_RECORD:{label:"Relev d'assurance",icon:C1,color:"orange",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEMBERSHIP_FORM:{label:"Bulletin d'adhsion",icon:pj,color:"purple",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEDICAL_CERTIFICATE:{label:"Certificat mdical",icon:y1,color:"teal",required:!1,maxSizeMB:3,allowedTypes:["application/pdf"]}};function GJ(){const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(null),[d,g]=y.useState(!0),[p,m]=y.useState(!1),[x,v]=y.useState("table"),[S,E]=y.useState([]),[C,T]=y.useState({search:"",status:"ALL",role:"ALL",membershipType:"ALL",hasMyRBEAccess:"ALL",expiringOnly:!1}),{isOpen:A,onOpen:D,onClose:M}=Nt(),{isOpen:R,onOpen:P,onClose:z}=Nt(),{isOpen:O,onOpen:G,onClose:q}=Nt(),{isOpen:ce,onOpen:he,onClose:se}=Nt(),[ge,Ae]=y.useState(null),[de,re]=y.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:"",paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),[K,W]=y.useState([]),[H,Ee]=y.useState({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B=y.useRef(null),ae=mn();Fn("white","gray.800");const me=()=>{const le=new Date().getFullYear(),ve=Math.floor(Math.random()*900)+100;return`${le}-${ve}`},$=()=>{const le="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ve="";for(let st=0;st<8;st++)ve+=le.charAt(Math.floor(Math.random()*le.length));return ve},F=(le,ve)=>{const st=new Date(le),Mt=new Date(st);return Mt.setFullYear(st.getFullYear()+1,11,31),Mt.toISOString().split("T")[0]},U=(le,ve=60)=>{if(!le)return!1;const st=new Date(le),Mt=new Date(Date.now()+ve*24*60*60*1e3);return st<=Mt},Y=y.useCallback(async()=>{try{if(g(!0),console.log(" Chargement des membres..."),!await jl.testConnectivity()){console.warn(" API non accessible, mode dgrad activ"),ae({status:"warning",title:"Mode dgrad",description:"L'API n'est pas accessible. Certaines fonctionnalits peuvent tre limites.",duration:5e3,isClosable:!0}),n([]);return}const ve=await jl.getAll();console.log(" Rponse API membres:",ve);let st=[];ve?.members?st=Array.isArray(ve.members)?ve.members:[ve.members]:ve?.data?st=Array.isArray(ve.data)?ve.data:[ve.data]:Array.isArray(ve)?st=ve:(console.warn(" Structure de rponse inattendue:",ve),st=[]),n(st),console.log(` ${st.length} membres chargs avec succs`),st.length===0&&ae({status:"info",title:"Aucun membre",description:"Aucun membre trouv dans la base de donnes",duration:3e3,isClosable:!0})}catch(le){console.error(" Erreur chargement membres:",le);let ve="Impossible de charger les membres",st="error";le.message.includes("404")?ve="Endpoint membres non trouv. Vrifiez la configuration de l'API.":le.message.includes("401")?(ve="Session expire. Veuillez vous reconnecter.",setTimeout(()=>{window.location.href="/login"},2e3)):le.message.includes("500")?ve="Erreur serveur. Contactez l'administrateur.":le.message.includes("Network")&&(ve="Problme de rseau. Vrifiez votre connexion.",st="warning"),ae({status:st,title:"Erreur de chargement",description:ve,duration:8e3,isClosable:!0}),n([])}finally{g(!1)}},[ae]),be=y.useCallback(async()=>{try{if(t.length===0)return;const le=new Date,ve=new Date(le.getTime()-720*60*60*1e3),st={totalMembers:t.length,activeMembers:t.filter(Mt=>Mt.membershipStatus==="ACTIVE").length,expiredMembers:t.filter(Mt=>Mt.membershipStatus==="EXPIRED").length,pendingMembers:t.filter(Mt=>Mt.membershipStatus==="PENDING").length,driversCount:t.filter(Mt=>Mt.role==="DRIVER"||Mt.driverLicense).length,myRBEEnabled:t.filter(Mt=>Mt.loginEnabled).length,recentJoins:t.filter(Mt=>new Date(Mt.joinDate||Mt.createdAt)>ve).length,expiringSoon:t.filter(Mt=>U(Mt.renewalDate)).length,totalRevenue:t.filter(Mt=>Mt.membershipStatus==="ACTIVE"&&Mt.paymentAmount).reduce((Mt,Mn)=>Mt+(parseFloat(Mn.paymentAmount)||0),0)};u(st)}catch(le){console.error(" Erreur calcul statistiques:",le)}},[t]),Te=y.useCallback(()=>{let le=[...t];if(C.search){const ve=C.search.toLowerCase();le=le.filter(st=>`${st.firstName} ${st.lastName}`.toLowerCase().includes(ve)||st.email?.toLowerCase().includes(ve)||st.matricule?.toLowerCase().includes(ve)||st.phone?.includes(ve))}if(C.status!=="ALL"&&(le=le.filter(ve=>ve.membershipStatus===C.status)),C.role!=="ALL"&&(le=le.filter(ve=>ve.role===C.role)),C.membershipType!=="ALL"&&(le=le.filter(ve=>ve.membershipType===C.membershipType)),C.hasMyRBEAccess!=="ALL"){const ve=C.hasMyRBEAccess==="true";le=le.filter(st=>!!st.loginEnabled===ve)}C.expiringOnly&&(le=le.filter(ve=>U(ve.renewalDate))),i(le)},[t,C]);y.useEffect(()=>{Y()},[Y]),y.useEffect(()=>{be()},[be]),y.useEffect(()=>{Te()},[Te]);const Re=()=>{re({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:Id.STANDARD.price.toString(),paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),Ae(null)},nt=()=>{Re(),D()},ht=le=>{re({...le,joinDate:le.joinDate?le.joinDate.split("T")[0]:"",renewalDate:le.renewalDate?le.renewalDate.split("T")[0]:"",birthDate:le.birthDate?le.birthDate.split("T")[0]:"",licenseExpiryDate:le.licenseExpiryDate?le.licenseExpiryDate.split("T")[0]:"",medicalCertificateDate:le.medicalCertificateDate?le.medicalCertificateDate.split("T")[0]:"",paymentAmount:le.paymentAmount?.toString()||"",maxPassengers:le.maxPassengers?.toString()||"",driverCertifications:le.driverCertifications||[],vehicleAuthorizations:le.vehicleAuthorizations||[]}),Ae(le),P()},rt=async()=>{try{if(m(!0),!de.firstName?.trim()||!de.lastName?.trim()||!de.email?.trim()){ae({status:"error",title:"Champs requis",description:"Nom, prnom et email sont obligatoires",duration:5e3,isClosable:!0});return}de.joinDate&&!de.renewalDate&&(de.renewalDate=F(de.joinDate,de.membershipType)),de.loginEnabled&&!de.matricule&&(de.matricule=me()),de.loginEnabled&&!de.temporaryPassword&&(de.temporaryPassword=$(),de.mustChangePassword=!0);const le={...de,paymentAmount:de.paymentAmount?parseFloat(de.paymentAmount):null,maxPassengers:de.maxPassengers?parseInt(de.maxPassengers):null};ge?(await jl.update(ge.id,le),ae({status:"success",title:"Membre mis  jour",description:`${de.firstName} ${de.lastName} a t modifi avec succs`,duration:5e3,isClosable:!0})):(await jl.create(le),ae({status:"success",title:"Membre cr",description:`${de.firstName} ${de.lastName} a t ajout avec succs`,duration:5e3,isClosable:!0})),M(),z(),Re(),Y()}catch(le){console.error(" Erreur sauvegarde:",le),ae({status:"error",title:"Erreur de sauvegarde",description:le.message||"Impossible de sauvegarder le membre",duration:5e3,isClosable:!0})}finally{m(!1)}},zt=()=>l?[{label:"Total adhrents",value:l.totalMembers,icon:Ti,color:"brand",change:l.recentJoins>0?{type:"increase",value:`+${l.recentJoins} ce mois`}:void 0},{label:"Membres actifs",value:l.activeMembers,icon:y1,color:"success",change:{type:"increase",value:`${Math.round(l.activeMembers/l.totalMembers*100)}% du total`}},{label:"Conducteurs habilits",value:l.driversCount,icon:Cc,color:"blue"},{label:"Accs MyRBE",value:l.myRBEEnabled,icon:Pu,color:"purple"},{label:"Expirant bientt",value:l.expiringSoon,icon:v1,color:"warning"},{label:"Revenus adhsions",value:`${l.totalRevenue||0}`,icon:Vu,color:"green",change:{type:"increase",value:"Cotisations encaisses"}}]:[],Ue=le=>{const ve=Dg[le]||Dg.PENDING;return e.jsx(Qs,{label:ve.description,children:e.jsx(et,{colorScheme:ve.color,variant:"subtle",children:e.jsxs(oe,{spacing:1,children:[e.jsx(Icon,{as:ve.icon,size:"12px"}),e.jsx(k,{children:ve.label})]})})})},qt=le=>{const ve=Ng[le]||Ng.MEMBER;return e.jsx(Qs,{label:ve.description,children:e.jsx(et,{colorScheme:ve.color,variant:"outline",children:e.jsxs(oe,{spacing:1,children:[e.jsx(Icon,{as:ve.icon,size:"12px"}),e.jsx(k,{children:ve.label})]})})})},Se=le=>{const ve=Id[le]||Id.STANDARD;return e.jsx(et,{colorScheme:ve.color,variant:"subtle",children:ve.label})},Ke=le=>{console.log(`Action en masse: ${le} sur ${S.length} membres`)},Ot=()=>{console.log("Export des donnes membres")};return d?e.jsx(Dl,{title:" Gestion des Adhsions",subtitle:"Chargement des donnes membres...",children:e.jsxs(ie,{spacing:8,py:16,children:[e.jsx(hn,{size:"xl",color:"brand.500",thickness:"4px"}),e.jsx(k,{color:"gray.600",children:"Synchronisation avec la base de donnes..."})]})}):e.jsxs(Dl,{title:" Gestion des Adhsions",subtitle:"Administration complte des membres de l'association RtroBus Essonne",breadcrumbs:[{label:"MyRBE",href:"/dashboard/myrbe"},{label:"Gestion des Adhsions",href:"/dashboard/members-management"}],headerActions:e.jsxs(oe,{spacing:3,children:[e.jsx(te,{leftIcon:e.jsx(na,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:Ot,children:"Exporter"}),e.jsx(te,{leftIcon:e.jsx(PT,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:nt,children:"Nouvel adhrent"})]}),children:[e.jsxs(ie,{spacing:8,align:"stretch",children:[e.jsx(WJ,{stats:zt(),loading:!l}),e.jsx(yl,{title:"Filtres et recherche",icon:AX,color:"gray",children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(gt,{columns:{base:1,md:2,lg:4},spacing:4,children:[e.jsxs(Tc,{children:[e.jsx(Ac,{children:e.jsx(cv,{color:"gray.400"})}),e.jsx(ye,{placeholder:"Rechercher un membre...",value:C.search,onChange:le=>T(ve=>({...ve,search:le.target.value}))})]}),e.jsxs(lt,{value:C.status,onChange:le=>T(ve=>({...ve,status:le.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),Object.entries(Dg).map(([le,ve])=>e.jsx("option",{value:le,children:ve.label},le))]}),e.jsxs(lt,{value:C.role,onChange:le=>T(ve=>({...ve,role:le.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les rles"}),Object.entries(Ng).map(([le,ve])=>e.jsx("option",{value:le,children:ve.label},le))]}),e.jsxs(lt,{value:C.membershipType,onChange:le=>T(ve=>({...ve,membershipType:le.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les types"}),Object.entries(Id).map(([le,ve])=>e.jsx("option",{value:le,children:ve.label},le))]})]}),e.jsxs(oe,{spacing:4,justify:"space-between",children:[e.jsxs(oe,{spacing:4,children:[e.jsx(Ba,{isChecked:C.expiringOnly,onChange:le=>T(ve=>({...ve,expiringOnly:le.target.checked})),children:"Expirant bientt"}),e.jsxs(lt,{maxW:"200px",value:C.hasMyRBEAccess,onChange:le=>T(ve=>({...ve,hasMyRBEAccess:le.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les accs"}),e.jsx("option",{value:"true",children:"Avec MyRBE"}),e.jsx("option",{value:"false",children:"Sans MyRBE"})]})]}),e.jsxs(oe,{spacing:2,children:[e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[r.length," membre",r.length>1?"s":""," affich",r.length>1?"s":""]}),e.jsxs(Zb,{size:"sm",isAttached:!0,variant:"outline",children:[e.jsx(te,{leftIcon:e.jsx(IX,{}),onClick:()=>v("cards"),colorScheme:x==="cards"?"blue":"gray",children:"Cartes"}),e.jsx(te,{leftIcon:e.jsx(Na,{}),onClick:()=>v("table"),colorScheme:x==="table"?"blue":"gray",children:"Tableau"})]})]})]})]})}),S.length>0&&e.jsxs(Ut,{status:"info",borderRadius:"lg",children:[e.jsx(Ht,{}),e.jsxs(oe,{justify:"space-between",w:"full",children:[e.jsxs(k,{children:[S.length," membre",S.length>1?"s":""," slectionn",S.length>1?"s":""]}),e.jsxs(Zb,{size:"sm",children:[e.jsx(te,{onClick:()=>Ke("enable_myrbe"),children:"Activer MyRBE"}),e.jsx(te,{onClick:()=>Ke("send_renewal"),children:"Envoi renouvellement"}),e.jsx(te,{colorScheme:"red",onClick:()=>Ke("archive"),children:"Archiver"})]})]})]}),r.length===0?e.jsx(yl,{children:e.jsxs(ie,{spacing:4,py:12,children:[e.jsx(Icon,{as:Ti,size:"48px",color:"gray.300"}),e.jsxs(ie,{spacing:2,children:[e.jsx(k,{fontSize:"lg",fontWeight:"600",color:"gray.500",children:"Aucun membre trouv"}),e.jsx(k,{fontSize:"sm",color:"gray.400",children:C.search||C.status!=="ALL"?"Aucun membre ne correspond aux critres de recherche":"Commencez par crer votre premier membre"})]}),e.jsx(te,{leftIcon:e.jsx(PT,{}),colorScheme:"blue",onClick:nt,children:"Crer un membre"})]})}):x==="cards"?e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:6,children:r.map(le=>e.jsx(yl,{variant:"modern",color:"blue",onClick:()=>ht(le),children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",align:"start",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsxs(k,{fontWeight:"600",fontSize:"lg",children:[le.firstName," ",le.lastName]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:le.email}),le.matricule&&e.jsx(et,{colorScheme:"purple",size:"sm",children:le.matricule})]}),e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(sh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ua,{children:[e.jsx(_n,{icon:e.jsx(Bs,{}),onClick:()=>ht(le),children:"Modifier"}),e.jsx(_n,{icon:e.jsx(pj,{}),onClick:()=>{Ae(le),he()},children:"Documents"}),e.jsx(_n,{icon:e.jsx(Pu,{}),children:"Rinitialiser mot de passe"}),e.jsx(_n,{icon:e.jsx(kc,{}),children:"Envoyer email"}),e.jsx(vn,{}),e.jsx(_n,{icon:e.jsx(hr,{}),color:"red.500",children:"Supprimer"})]})]})]}),e.jsxs(oe,{spacing:2,wrap:"wrap",children:[Ue(le.membershipStatus),qt(le.role),Se(le.membershipType),le.loginEnabled&&e.jsx(et,{colorScheme:"green",variant:"outline",size:"sm",children:"MyRBE"})]}),e.jsxs(ie,{spacing:2,align:"stretch",fontSize:"sm",children:[le.phone&&e.jsxs(oe,{children:[e.jsx(Icon,{as:UP,color:"gray.400"}),e.jsx(k,{children:le.phone})]}),le.renewalDate&&e.jsxs(oe,{children:[e.jsx(Icon,{as:pi,color:"gray.400"}),e.jsxs(k,{children:["Expire le ",new Date(le.renewalDate).toLocaleDateString("fr-FR"),U(le.renewalDate)&&e.jsx(et,{colorScheme:"orange",size:"sm",ml:2,children:"Bientt"})]})]}),le.paymentAmount&&e.jsxs(oe,{children:[e.jsx(Icon,{as:Vu,color:"gray.400"}),e.jsxs(k,{children:[le.paymentAmount,""]})]})]})]})},le.id))}):e.jsx(yl,{children:e.jsx(ue,{overflowX:"auto",children:e.jsxs(dr,{variant:"simple",size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:e.jsx(Ba,{isChecked:S.length===r.length,isIndeterminate:S.length>0&&S.length<r.length,onChange:le=>{le.target.checked?E(r.map(ve=>ve.id)):E([])}})}),e.jsx($e,{children:"Membre"}),e.jsx($e,{children:"Contact"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Rle"}),e.jsx($e,{children:"Type"}),e.jsx($e,{children:"Renouvellement"}),e.jsx($e,{children:"MyRBE"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:r.map(le=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Le,{children:e.jsx(Ba,{isChecked:S.includes(le.id),onChange:ve=>{ve.target.checked?E(st=>[...st,le.id]):E(st=>st.filter(Mt=>Mt!==le.id))}})}),e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:0,children:[e.jsxs(k,{fontWeight:"600",children:[le.firstName," ",le.lastName]}),le.memberNumber&&e.jsxs(k,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:["#",le.memberNumber]})]})}),e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontSize:"sm",children:le.email}),le.phone&&e.jsx(k,{fontSize:"xs",color:"gray.500",children:le.phone})]})}),e.jsx(Le,{children:Ue(le.membershipStatus)}),e.jsx(Le,{children:qt(le.role)}),e.jsx(Le,{children:Se(le.membershipType)}),e.jsx(Le,{children:e.jsxs(ie,{align:"start",spacing:0,children:[e.jsx(k,{fontSize:"sm",children:le.renewalDate?new Date(le.renewalDate).toLocaleDateString("fr-FR"):""}),U(le.renewalDate)&&e.jsx(et,{colorScheme:"orange",size:"sm",children:"Expire bientt"})]})}),e.jsx(Le,{children:e.jsx(ie,{align:"start",spacing:1,children:le.loginEnabled?e.jsxs(e.Fragment,{children:[e.jsx(et,{colorScheme:"green",size:"sm",children:"Activ"}),le.matricule&&e.jsx(k,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:le.matricule}),le.mustChangePassword&&e.jsx(et,{colorScheme:"orange",size:"sm",children:"Changer MDP"})]}):e.jsx(et,{colorScheme:"gray",size:"sm",children:"Dsactiv"})})}),e.jsx(Le,{children:e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(sh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ua,{children:[e.jsx(_n,{icon:e.jsx(Bs,{}),onClick:()=>ht(le),children:"Modifier"}),e.jsx(_n,{icon:e.jsx(pj,{}),onClick:()=>{Ae(le),he()},children:"Documents"}),e.jsx(_n,{icon:e.jsx(Pu,{}),children:"Rinitialiser MDP"}),e.jsx(_n,{icon:e.jsx(kc,{}),children:"Envoyer email"}),e.jsx(vn,{}),e.jsx(_n,{icon:e.jsx(hr,{}),color:"red.500",children:"Supprimer"})]})]})})]},le.id))})]})})})]}),e.jsxs(Ct,{isOpen:A||R,onClose:()=>{M(),z(),Re()},size:"6xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(_t,{children:ge?`Modifier ${ge.firstName} ${ge.lastName}`:"Nouveau membre"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ao,{variant:"enclosed",children:[e.jsxs(lo,{children:[e.jsx(ln,{children:" Informations personnelles"}),e.jsx(ln,{children:" Adhsion"}),e.jsx(ln,{children:" Accs MyRBE"}),e.jsx(ln,{children:" Conduite"}),e.jsx(ln,{children:" Notes"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{children:e.jsxs(gt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Prnom"}),e.jsx(ye,{value:de.firstName,onChange:le=>re(ve=>({...ve,firstName:le.target.value})),placeholder:"Prnom"})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nom"}),e.jsx(ye,{value:de.lastName,onChange:le=>re(ve=>({...ve,lastName:le.target.value})),placeholder:"Nom"})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Email"}),e.jsx(ye,{type:"email",value:de.email,onChange:le=>re(ve=>({...ve,email:le.target.value})),placeholder:"email@exemple.com"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Tlphone"}),e.jsx(ye,{type:"tel",value:de.phone,onChange:le=>re(ve=>({...ve,phone:le.target.value})),placeholder:"06 12 34 56 78"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date de naissance"}),e.jsx(ye,{type:"date",value:de.birthDate,onChange:le=>re(ve=>({...ve,birthDate:le.target.value}))})]})]}),e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Adresse"}),e.jsx(Yt,{value:de.address,onChange:le=>re(ve=>({...ve,address:le.target.value})),placeholder:"Adresse complte",rows:3})]}),e.jsxs(oe,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Ville"}),e.jsx(ye,{value:de.city,onChange:le=>re(ve=>({...ve,city:le.target.value})),placeholder:"Ville"})]}),e.jsxs(ee,{maxW:"150px",children:[e.jsx(J,{children:"Code postal"}),e.jsx(ye,{value:de.postalCode,onChange:le=>re(ve=>({...ve,postalCode:le.target.value})),placeholder:"91000"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Contact d'urgence"}),e.jsx(ye,{value:de.emergencyContact,onChange:le=>re(ve=>({...ve,emergencyContact:le.target.value})),placeholder:"Nom et relation"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Tlphone d'urgence"}),e.jsx(ye,{type:"tel",value:de.emergencyPhone,onChange:le=>re(ve=>({...ve,emergencyPhone:le.target.value})),placeholder:"06 12 34 56 78"})]})]})]})}),e.jsx(cn,{children:e.jsxs(gt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Type d'adhsion"}),e.jsx(lt,{value:de.membershipType,onChange:le=>{const ve=le.target.value;re(st=>({...st,membershipType:ve,paymentAmount:Id[ve].price.toString()}))},children:Object.entries(Id).map(([le,ve])=>e.jsxs("option",{value:le,children:[ve.label," - ",ve.price," (",ve.description,")"]},le))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Statut d'adhsion"}),e.jsx(lt,{value:de.membershipStatus,onChange:le=>re(ve=>({...ve,membershipStatus:le.target.value})),children:Object.entries(Dg).map(([le,ve])=>e.jsx("option",{value:le,children:ve.label},le))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Rle"}),e.jsx(lt,{value:de.role,onChange:le=>re(ve=>({...ve,role:le.target.value})),children:Object.entries(Ng).map(([le,ve])=>e.jsx("option",{value:le,children:ve.label},le))})]}),e.jsxs(oe,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Date d'adhsion"}),e.jsx(ye,{type:"date",value:de.joinDate,onChange:le=>{const ve=le.target.value;re(st=>({...st,joinDate:ve,renewalDate:F(ve,st.membershipType)}))}})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Renouvellement"}),e.jsx(ye,{type:"date",value:de.renewalDate,onChange:le=>re(ve=>({...ve,renewalDate:le.target.value}))})]})]})]}),e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(oe,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Montant pay"}),e.jsxs(Tc,{children:[e.jsx(ye,{type:"number",step:"0.01",value:de.paymentAmount,onChange:le=>re(ve=>({...ve,paymentAmount:le.target.value})),placeholder:"60.00"}),e.jsx(Ac,{children:""})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Mthode de paiement"}),e.jsx(lt,{value:de.paymentMethod,onChange:le=>re(ve=>({...ve,paymentMethod:le.target.value})),children:Object.entries(qJ).map(([le,ve])=>e.jsx("option",{value:le,children:ve.label},le))})]})]}),e.jsx(vn,{}),e.jsxs(ie,{spacing:3,align:"stretch",children:[e.jsx(k,{fontWeight:"600",color:"gray.700",children:"Accs et prfrences"}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:0,flex:1,children:"Accs site externe"}),e.jsx(Sr,{isChecked:de.hasExternalAccess,onChange:le=>re(ve=>({...ve,hasExternalAccess:le.target.checked}))})]}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:0,flex:1,children:"Accs interne"}),e.jsx(Sr,{isChecked:de.hasInternalAccess,onChange:le=>re(ve=>({...ve,hasInternalAccess:le.target.checked}))})]}),e.jsxs(ee,{display:"flex",alignItems:"center",children:[e.jsx(J,{mb:0,flex:1,children:"Newsletter"}),e.jsx(Sr,{isChecked:de.newsletter,onChange:le=>re(ve=>({...ve,newsletter:le.target.checked}))})]})]})]})]})}),e.jsx(cn,{children:e.jsxs(gt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Numro de permis de conduire"}),e.jsx(ye,{value:de.driverLicense,onChange:le=>re(ve=>({...ve,driverLicense:le.target.value})),placeholder:"AB123456"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Catgories"}),e.jsxs(lt,{multiple:!0,value:de.driverCertifications,onChange:le=>re(ve=>({...ve,driverCertifications:Array.from(le.target.selectedOptions,st=>st.value)})),children:[e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"}),e.jsx("option",{value:"E",children:"E"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date d'expiration du permis"}),e.jsx(ye,{type:"date",value:de.licenseExpiryDate,onChange:le=>re(ve=>({...ve,licenseExpiryDate:le.target.value}))})]})]}),e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Vhicules autoriss"}),e.jsxs(lt,{multiple:!0,value:de.vehicleAuthorizations,onChange:le=>re(ve=>({...ve,vehicleAuthorizations:Array.from(le.target.selectedOptions,st=>st.value)})),children:[e.jsx("option",{value:"VL",children:"Vhicule lger"}),e.jsx("option",{value:"PL",children:"Poids lourd"}),e.jsx("option",{value:"TC",children:"Transport en commun"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Nombre maximum de passagers"}),e.jsx(ye,{type:"number",value:de.maxPassengers,onChange:le=>re(ve=>({...ve,maxPassengers:le.target.value})),placeholder:"4"})]})]})]})}),e.jsx(cn,{children:e.jsxs(ee,{children:[e.jsx(J,{children:"Notes internes"}),e.jsx(Yt,{value:de.notes,onChange:le=>re(ve=>({...ve,notes:le.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:6})]})})]})]})}),e.jsx(Wt,{children:e.jsxs(oe,{spacing:4,children:[e.jsx(te,{colorScheme:"blue",isLoading:p,onClick:rt,children:ge?"Sauvegarder les modifications":"Crer le membre"}),e.jsx(te,{variant:"outline",onClick:()=>{M(),z(),Re()},children:"Annuler"})]})})]})]}),e.jsxs(Ct,{isOpen:ce,onClose:()=>{se(),Ae(null)},size:"4xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsxs(_t,{children:["Documents de ",ge?.firstName," ",ge?.lastName]}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"600",mb:2,children:"Documents tlchargs"}),e.jsxs(ev,{spacing:3,children:[K.length===0&&e.jsx(k,{color:"gray.500",fontSize:"sm",children:"Aucun document trouv pour ce membre."}),K.map(le=>e.jsxs(FM,{p:3,borderWidth:"1px",borderRadius:"md",display:"flex",alignItems:"center",children:[e.jsxs(oe,{spacing:3,flex:1,children:[e.jsx(Icon,{as:ob[le.type]?.icon,boxSize:8,color:ob[le.type]?.color}),e.jsxs(ie,{align:"start",spacing:1,flex:1,children:[e.jsxs(k,{fontWeight:"500",children:[le.type==="IDENTITY_CARD"&&"Pice d'identit",le.type==="DRIVING_LICENSE"&&"Permis de conduire",le.type==="INSURANCE_RECORD"&&"Relev d'assurance",le.type==="MEMBERSHIP_FORM"&&"Bulletin d'adhsion",le.type==="MEDICAL_CERTIFICATE"&&"Certificat mdical"]}),e.jsxs(oe,{spacing:2,children:[e.jsxs(k,{fontSize:"sm",color:"gray.500",children:[le.size," Mo"]}),e.jsxs(et,{colorScheme:le.status==="VALIDATED"?"green":"yellow",variant:"outline",fontSize:"sm",children:[le.status==="VALIDATED"&&"Valid",le.status==="PENDING"&&"En attente"]})]})]})]}),e.jsxs(oe,{spacing:2,children:[e.jsx(te,{size:"sm",variant:"outline",leftIcon:e.jsx(na,{}),onClick:()=>{eb.download(le.id).then(()=>{ae({status:"success",title:"Tlchargement lanc",description:"Le document est en cours de tlchargement",duration:5e3,isClosable:!0})}).catch(ve=>{console.error(" Erreur tlchargement document:",ve),ae({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})})},children:"Tlcharger"}),e.jsx(te,{size:"sm",variant:"outline",colorScheme:"red",leftIcon:e.jsx(hr,{}),onClick:async()=>{if(window.confirm("tes-vous sr de vouloir supprimer ce document ?"))try{await eb.remove(le.id),W(ve=>ve.filter(st=>st.id!==le.id)),ae({status:"success",title:"Document supprim",description:"Le document a t supprim avec succs",duration:5e3,isClosable:!0})}catch(ve){console.error(" Erreur suppression document:",ve),ae({status:"error",title:"Erreur de suppression",description:"Impossible de supprimer le document",duration:5e3,isClosable:!0})}},children:"Supprimer"})]})]},le.id))]})]}),e.jsx(vn,{}),e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsx(k,{fontWeight:"600",children:"Tlcharger un nouveau document"}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type de document"}),e.jsx(lt,{value:H.type,onChange:le=>Ee(ve=>({...ve,type:le.target.value})),children:Object.entries(ob).map(([le,ve])=>e.jsxs("option",{value:le,children:[ve.label," (",ve.maxSizeMB," Mo max)"]},le))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date d'expiration"}),e.jsx(ye,{type:"date",value:H.expiryDate,onChange:le=>Ee(ve=>({...ve,expiryDate:le.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Notes"}),e.jsx(Yt,{value:H.notes,onChange:le=>Ee(ve=>({...ve,notes:le.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:3})]}),e.jsx(te,{colorScheme:"blue",isLoading:p,onClick:async()=>{try{if(m(!0),!H.type||!H.expiryDate){ae({status:"error",title:"Champs requis",description:"Type de document et date d'expiration sont obligatoires",duration:5e3,isClosable:!0});return}const le=new FormData;le.append("file",B.current.files[0]),le.append("type",H.type),le.append("expiryDate",H.expiryDate),le.append("notes",H.notes);const ve=await eb.upload(le,ge.id),st=ve?.document||ve?.data;W(Mt=>[...Mt,st]),Ee({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B.current.value=null,ae({status:"success",title:"Document tlcharg",description:"Le document a t ajout avec succs",duration:5e3,isClosable:!0})}catch(le){console.error(" Erreur upload document:",le),ae({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})}finally{m(!1)}},children:"Tlcharger le document"})]})]})})]})]})]})}const ZJ={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},YJ={PENDING:"En attente",ACTIVE:"Actif",EXPIRED:"Expir",SUSPENDED:"Suspendu"};function KJ({isOpen:t,onClose:n,onMemberCreated:r}){const[i,l]=y.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),[u,d]=y.useState(!1),g=mn(),p=()=>l({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),m=async()=>{if(!i.firstName.trim()||!i.lastName.trim()||!i.email.trim()){g({title:"Champs requis",description:"Prnom, nom et email sont requis",status:"error",duration:3e3});return}try{d(!0);const v={...i},S=await jl.create(v);g({title:"Adhrent cr",status:"success",duration:3e3}),r?.(S),p(),n()}catch(v){g({title:"Erreur",description:v.message,status:"error",duration:5e3})}finally{d(!1)}},x=()=>{p(),n()};return e.jsxs(Ct,{isOpen:t,onClose:x,size:"xl",scrollBehavior:"inside",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Crer un adhrent"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Informations personnelles"})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(gt,{columns:2,spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Prnom"}),e.jsx(ye,{value:i.firstName,onChange:v=>l(S=>({...S,firstName:v.target.value}))})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nom"}),e.jsx(ye,{value:i.lastName,onChange:v=>l(S=>({...S,lastName:v.target.value}))})]})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Email"}),e.jsx(ye,{type:"email",value:i.email,onChange:v=>l(S=>({...S,email:v.target.value}))})]}),e.jsxs(gt,{columns:2,spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Tlphone"}),e.jsx(ye,{value:i.phone,onChange:v=>l(S=>({...S,phone:v.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date de naissance"}),e.jsx(ye,{type:"date",value:i.birthDate,onChange:v=>l(S=>({...S,birthDate:v.target.value}))})]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Adresse"})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Adresse"}),e.jsx(ye,{value:i.address,onChange:v=>l(S=>({...S,address:v.target.value}))})]}),e.jsxs(gt,{columns:2,spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Code postal"}),e.jsx(ye,{value:i.postalCode,onChange:v=>l(S=>({...S,postalCode:v.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Ville"}),e.jsx(ye,{value:i.city,onChange:v=>l(S=>({...S,city:v.target.value}))})]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Adhsion"})}),e.jsx(Ie,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(gt,{columns:2,spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Type d'adhsion"}),e.jsx(lt,{value:i.membershipType,onChange:v=>l(S=>({...S,membershipType:v.target.value})),children:Object.entries(ZJ).map(([v,S])=>e.jsx("option",{value:v,children:S},v))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Statut"}),e.jsx(lt,{value:i.membershipStatus,onChange:v=>l(S=>({...S,membershipStatus:v.target.value})),children:Object.entries(YJ).map(([v,S])=>e.jsx("option",{value:v,children:S},v))})]})]}),e.jsxs(gt,{columns:2,spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Montant cotisation ()"}),e.jsx(ye,{type:"number",value:i.paymentAmount,onChange:v=>l(S=>({...S,paymentAmount:v.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Mode de paiement"}),e.jsxs(lt,{value:i.paymentMethod,onChange:v=>l(S=>({...S,paymentMethod:v.target.value})),children:[e.jsx("option",{value:"CASH",children:"Espces"}),e.jsx("option",{value:"CHECK",children:"Chque"}),e.jsx("option",{value:"BANK_TRANSFER",children:"Virement"}),e.jsx("option",{value:"CARD",children:"Carte"}),e.jsx("option",{value:"PAYPAL",children:"PayPal"}),e.jsx("option",{value:"HELLOASSO",children:"HelloAsso"})]})]})]})]})})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Notes"})}),e.jsx(Ie,{children:e.jsxs(ee,{children:[e.jsx(J,{children:"Notes administratives"}),e.jsx(Yt,{value:i.notes,onChange:v=>l(S=>({...S,notes:v.target.value})),placeholder:"Notes internes sur l'adhrent..."})]})})]})]})}),e.jsx(Wt,{children:e.jsxs(oe,{spacing:3,children:[e.jsx(te,{variant:"ghost",onClick:x,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:m,isLoading:u,loadingText:"Cration...",children:"Crer l'adhrent"})]})})]})]})}const GT="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),Ig=t=>GT?`${GT}${t}`:t,Ej={PENDING:{label:"En attente",color:"yellow",icon:S1},ACTIVE:{label:"Actif",color:"green",icon:HP},EXPIRED:{label:"Expir",color:"red",icon:Ax},SUSPENDED:{label:"Suspendu",color:"orange",icon:Pl},CANCELLED:{label:"Annul",color:"gray",icon:Ax}},Cj={MEMBER:{label:"Adhrent",color:"blue",permissions:["VIEW_PROFILE"]},DRIVER:{label:"Conducteur",color:"green",permissions:["VIEW_PROFILE","DRIVE_VEHICLES"]},MODERATOR:{label:"Modrateur",color:"purple",permissions:["VIEW_PROFILE","MODERATE_CONTENT"]},ADMIN:{label:"Administrateur",color:"red",permissions:["FULL_ACCESS"]}};function XJ({member:t,onEdit:n,onLinkAccess:r,onTerminate:i,onDeleteMember:l}){const u=Fn("white","gray.800"),d=Ej[t.membershipStatus]||Ej.PENDING,g=Cj[t.role]||Cj.MEMBER;return e.jsxs(Ne,{bg:u,borderWidth:1,borderColor:"gray.200",children:[e.jsx(Dt,{pb:2,children:e.jsxs(er,{justify:"space-between",align:"start",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsxs(oe,{children:[e.jsxs(k,{fontWeight:"bold",fontSize:"md",children:[t.firstName," ",t.lastName]}),e.jsx(et,{colorScheme:d.color,size:"sm",children:d.label}),e.jsx(et,{colorScheme:g.color,variant:"outline",size:"sm",children:g.label})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:t.email}),t.matricule&&e.jsxs(oe,{spacing:2,children:[e.jsxs(et,{colorScheme:"blue",variant:"subtle",children:[" ",t.matricule]}),t.loginEnabled?e.jsx(et,{colorScheme:"green",size:"sm",children:" Accs activ"}):e.jsx(et,{colorScheme:"gray",size:"sm",children:" Accs dsactiv"})]})]}),e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(nm,{}),variant:"ghost",size:"sm"}),e.jsxs(Ua,{children:[e.jsx(_n,{icon:e.jsx(Bs,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(_n,{icon:e.jsx(Ax,{}),onClick:()=>i(t),color:"red.500",children:"Terminer l'adhsion"}),e.jsx(_n,{icon:e.jsx(Pu,{}),onClick:()=>r(t),children:"Associer  un accs existant"}),t.membershipStatus==="CANCELLED"&&e.jsx(_n,{icon:e.jsx(hr,{}),onClick:()=>l(t),color:"red.600",children:"Effacer l'adhrent"})]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ie,{align:"start",spacing:2,children:[t.phone&&e.jsxs(k,{fontSize:"sm",children:[" ",t.phone]}),t.lastLoginAt&&e.jsxs(k,{fontSize:"xs",color:"gray.500",children:["Dernire connexion: ",new Date(t.lastLoginAt).toLocaleDateString("fr-FR")]}),t.mustChangePassword&&e.jsx(et,{colorScheme:"orange",size:"sm",children:" Doit changer le mot de passe"})]})})]})}function QJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!0),[l,u]=y.useState(""),[d,g]=y.useState("ALL"),[p,m]=y.useState("ALL"),[x,v]=y.useState(!1),[S,E]=y.useState(null),[C,T]=y.useState({}),{isOpen:A,onOpen:D,onClose:M}=Nt(),{isOpen:R,onOpen:P,onClose:z}=Nt(),{isOpen:O,onOpen:G,onClose:q}=Nt(),{isOpen:ce,onOpen:he,onClose:se}=Nt(),ge=mn(),Ae=Fn("white","gray.800"),[de,re]=y.useState(null),[K,W]=y.useState(null),[H,Ee]=y.useState({reason:"",notes:"",pv:null,resignation:null}),{isOpen:B,onOpen:ae,onClose:me}=Nt(),[$,F]=y.useState({username:"",email:""});y.useEffect(()=>{U()},[]);const U=async()=>{try{i(!0);const Se=await jl.getAll();n(Se.members||[]),Y(Se.members||[])}catch(Se){console.error("Erreur chargement membres:",Se),ge({title:"Erreur",description:"Impossible de charger les membres",status:"error",duration:5e3})}finally{i(!1)}},Y=Se=>{const Ke=Se.length,Ot=Se.filter(st=>st.loginEnabled).length,le=Se.filter(st=>st.membershipStatus==="ACTIVE").length,ve=Se.filter(st=>{if(!st.lastLoginAt)return!1;const Mt=new Date(st.lastLoginAt),Mn=new Date;return Mn.setMonth(Mn.getMonth()-1),Mt>Mn}).length;T({total:Ke,withLogin:Ot,active:le,recentlyActive:ve})},be=t.filter(Se=>{const Ke=Se.firstName?.toLowerCase().includes(l.toLowerCase())||Se.lastName?.toLowerCase().includes(l.toLowerCase())||Se.email?.toLowerCase().includes(l.toLowerCase())||Se.matricule?.toLowerCase().includes(l.toLowerCase()),Ot=d==="ALL"||Se.membershipStatus===d,le=p==="ALL"||Se.role===p,ve=!x||Se.loginEnabled;return Ke&&Ot&&le&&ve}),Te=Se=>{E(Se),re({...Se}),G()},Re=async()=>{try{if(!S)return;const Se=["firstName","lastName","email","phone","address","city","postalCode","membershipType","membershipStatus","paymentAmount","paymentMethod","newsletter","notes"],Ke={};for(const st of Se)st in de&&(Ke[st]=de[st]);const Ot=await fetch(Ig(`/api/members/${S.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Ke)}),le=await Ot.json().catch(()=>({}));if(!Ot.ok)throw new Error(le?.error||"chec de la mise  jour");const ve=le.member||le;n(st=>st.map(Mt=>Mt.id===S.id?{...Mt,...ve}:Mt)),ge({title:"Membre mis  jour",status:"success"}),q()}catch(Se){ge({title:"Erreur",description:Se.message,status:"error"})}},nt=Se=>{W(Se),Ee({reason:"",notes:"",pv:null,resignation:null}),he()},ht=async()=>{try{if(!K)return;if(!H.reason){ge({title:"Motif requis",status:"error"});return}if(H.reason==="EXCLUSION"&&!H.pv){ge({title:"PV obligatoire",status:"error"});return}if(H.reason==="DEMISSION"&&(!H.pv||!H.resignation)){ge({title:"PV et lettre obligatoires",status:"error"});return}const Se=new FormData;Se.append("reason",H.reason),H.notes&&Se.append("notes",H.notes),H.pv&&Se.append("pv",H.pv),H.resignation&&Se.append("resignation",H.resignation);const Ke=await fetch(Ig(`/api/members/${K.id}/terminate`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:Se}),Ot=await Ke.json().catch(()=>({}));if(!Ke.ok)throw new Error(Ot?.error||"chec de la rsiliation");ge({title:"Adhsion termine",status:"success"}),await U(),se()}catch(Se){ge({title:"Erreur",description:Se.message,status:"error"})}},rt=async Se=>{try{if(Se.membershipStatus!=="CANCELLED"){ge({title:"Rsiliez d'abord l'adhsion",status:"warning"});return}if(!window.confirm(`Effacer dfinitivement ${Se.firstName} ${Se.lastName} ?`))return;const Ke=await fetch(Ig(`/api/members/${Se.id}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Ke.ok&&Ke.status!==204){const Ot=await Ke.json().catch(()=>({}));throw new Error(Ot?.error||"Suppression impossible")}ge({title:"Adhrent effac",status:"success"}),n(Ot=>Ot.filter(le=>le.id!==Se.id))}catch(Ke){ge({title:"Erreur",description:Ke.message,status:"error"})}},zt=Se=>{n(Ke=>[Se,...Ke]),Y([Se,...t]),M()},Ue=Se=>{E(Se),F({username:"",email:""}),ae()},qt=async()=>{try{if(!S)return;if(!$.username&&!$.email){ge({title:"Renseignez matricule ou email",status:"warning"});return}const Se=await fetch(Ig(`/api/members/${S.id}/link-access`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:$.username||void 0,email:$.email||void 0})}),Ke=await Se.json().catch(()=>({}));if(!Se.ok)throw new Error(Ke?.error||"chec de lassociation");ge({title:"Accs associ",status:"success"}),await U(),me()}catch(Se){ge({title:"Erreur",description:Se.message,status:"error"})}};return r?e.jsx(Os,{maxW:"container.xl",py:8,children:e.jsxs(ie,{spacing:8,children:[e.jsx(hn,{size:"xl",color:"blue.500"}),e.jsx(k,{children:"Chargement des membres..."})]})}):e.jsxs(Os,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsxs(De,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(Ti,{style:{marginRight:"12px"}}),"Gestion des Adhsions"]}),e.jsx(k,{color:"gray.600",children:"Crer et grer les adhrents (les identifiants sont grs sparment)"})]}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",size:"lg",onClick:D,children:"Nouvel adhrent"})]}),e.jsxs(gt,{columns:{base:2,md:4},spacing:4,children:[e.jsx(Ne,{bg:Ae,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Total membres"}),e.jsx(yt,{color:"blue.500",children:C.total})]})})}),e.jsx(Ne,{bg:Ae,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Avec accs MyRBE"}),e.jsx(yt,{color:"green.500",children:C.withLogin}),e.jsxs(eo,{children:[C.total>0?Math.round(C.withLogin/C.total*100):0,"%"]})]})})}),e.jsx(Ne,{bg:Ae,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Adhsions actives"}),e.jsx(yt,{color:"purple.500",children:C.active})]})})}),e.jsx(Ne,{bg:Ae,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Connexions rcentes"}),e.jsx(yt,{color:"orange.500",children:C.recentlyActive}),e.jsx(eo,{children:"30 derniers jours"})]})})})]}),e.jsx(Ne,{bg:Ae,children:e.jsx(Ie,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(oe,{w:"full",spacing:4,children:[e.jsxs(Tc,{flex:2,children:[e.jsx(Ac,{children:e.jsx(cv,{})}),e.jsx(ye,{placeholder:"Rechercher par nom, email ou matricule...",value:l,onChange:Se=>u(Se.target.value)})]}),e.jsxs(lt,{value:d,onChange:Se=>g(Se.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(Ej).map(([Se,Ke])=>e.jsx("option",{value:Se,children:Ke.label},Se))]}),e.jsxs(lt,{value:p,onChange:Se=>m(Se.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),Object.entries(Cj).map(([Se,Ke])=>e.jsx("option",{value:Se,children:Ke.label},Se))]})]}),e.jsxs(oe,{children:[e.jsx(Ba,{isChecked:x,onChange:Se=>v(Se.target.checked),children:"Afficher seulement les membres avec accs MyRBE"}),e.jsx(te,{leftIcon:e.jsx(sa,{}),size:"sm",onClick:U,children:"Actualiser"})]})]})})}),e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[be.length," membre(s) affich(s)"]}),e.jsx(gt,{columns:{base:1,md:2,lg:3},spacing:4,children:be.map(Se=>e.jsx(XJ,{member:Se,onEdit:Te,onLinkAccess:Ue,onTerminate:nt,onDeleteMember:rt},Se.id))}),be.length===0&&e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),"Aucun membre ne correspond aux critres de recherche"]})]}),e.jsx(KJ,{isOpen:A,onClose:M,onMemberCreated:zt}),e.jsxs(Ct,{isOpen:B,onClose:me,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Associer  un accs existant"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),'La cration daccs se fait dans "Gestion des accs". Ici, vous pouvez lier un accs existant (fusion).']}),e.jsxs(ee,{children:[e.jsx(J,{children:"Matricule (username)"}),e.jsx(ye,{value:$.username,onChange:Se=>F(Ke=>({...Ke,username:Se.target.value})),placeholder:"ex: jd2025"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Email"}),e.jsx(ye,{type:"email",value:$.email,onChange:Se=>F(Ke=>({...Ke,email:Se.target.value})),placeholder:"utilisateur@domaine.fr"})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Renseignez au moins lun des deux champs."})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:me,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:qt,children:"Associer"})]})]})]}),e.jsxs(Ct,{isOpen:O,onClose:q,size:"xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Modifier le membre"}),e.jsx(Bt,{}),e.jsx(wt,{children:de&&e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Prnom"}),e.jsx(ye,{value:de.firstName||"",onChange:Se=>re(Ke=>({...Ke,firstName:Se.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Nom"}),e.jsx(ye,{value:de.lastName||"",onChange:Se=>re(Ke=>({...Ke,lastName:Se.target.value}))})]})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Email"}),e.jsx(ye,{type:"email",value:de.email||"",onChange:Se=>re(Ke=>({...Ke,email:Se.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Tlphone"}),e.jsx(ye,{value:de.phone||"",onChange:Se=>re(Ke=>({...Ke,phone:Se.target.value}))})]})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Statut"}),e.jsxs(lt,{value:de.membershipStatus||"ACTIVE",onChange:Se=>re(Ke=>({...Ke,membershipStatus:Se.target.value})),children:[e.jsx("option",{value:"PENDING",children:"En attente"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"EXPIRED",children:"Expir"}),e.jsx("option",{value:"SUSPENDED",children:"Suspendu"}),e.jsx("option",{value:"CANCELLED",children:"Annul"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type d'adhsion"}),e.jsxs(lt,{value:de.membershipType||"STANDARD",onChange:Se=>re(Ke=>({...Ke,membershipType:Se.target.value})),children:[e.jsx("option",{value:"STANDARD",children:"Standard"}),e.jsx("option",{value:"FAMILY",children:"Famille"}),e.jsx("option",{value:"STUDENT",children:"tudiant"}),e.jsx("option",{value:"HONORARY",children:"Honneur"})]})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Notes"}),e.jsx(Yt,{value:de.notes||"",onChange:Se=>re(Ke=>({...Ke,notes:Se.target.value}))})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:q,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:Re,children:"Enregistrer"})]})]})]}),e.jsxs(Ct,{isOpen:ce,onClose:se,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Terminer l'adhsion"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(Ut,{status:"warning",children:[e.jsx(Ht,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Motif"}),e.jsxs(lt,{value:H.reason,onChange:Se=>Ee(Ke=>({...Ke,reason:Se.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Notes (optionnel)"}),e.jsx(Yt,{value:H.notes,onChange:Se=>Ee(Ke=>({...Ke,notes:Se.target.value}))})]}),(H.reason==="EXCLUSION"||H.reason==="DEMISSION")&&e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Procs-verbal (PDF/Image)"}),e.jsx(ye,{type:"file",accept:"application/pdf,image/*",onChange:Se=>Ee(Ke=>({...Ke,pv:Se.target.files?.[0]||null}))})]}),H.reason==="DEMISSION"&&e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(ye,{type:"file",accept:"application/pdf,image/*",onChange:Se=>Ee(Ke=>({...Ke,resignation:Se.target.files?.[0]||null}))})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:se,children:"Annuler"}),e.jsx(te,{colorScheme:"red",onClick:ht,children:"Confirmer"})]})]})]})]})}function JJ({report:t,onUpdate:n,onComment:r,onStatusChange:i,onDelete:l}){const u=Fn("white","gray.800"),d={low:"green",medium:"yellow",high:"orange",critical:"red"},g={open:"blue",in_progress:"orange",resolved:"green",closed:"gray"},p=y.useMemo(()=>{switch(t.priority){case"low":return" Faible";case"medium":return" Moyen";case"high":return" lev";default:return" Critique"}},[t.priority]),m=y.useMemo(()=>{switch(t.status){case"open":return"Ouvert";case"in_progress":return"En cours";case"resolved":return"Rsolu";default:return"Ferm"}},[t.status]),x=t.createdAt?new Date(t.createdAt):null;return e.jsxs(Ne,{bg:u,borderLeftWidth:4,borderLeftColor:`${d[t.priority]||"gray"}.500`,children:[e.jsx(Dt,{pb:3,children:e.jsxs(er,{justify:"space-between",align:"start",children:[e.jsxs(ie,{align:"start",spacing:2,children:[e.jsxs(oe,{children:[e.jsx(et,{colorScheme:d[t.priority]||"gray",variant:"solid",size:"sm",children:p}),e.jsx(et,{colorScheme:g[t.status]||"gray",variant:"subtle",children:m})]}),e.jsx(De,{size:"sm",children:t.title}),e.jsxs(k,{fontSize:"xs",color:"gray.500",children:["Cr par ",t.createdBy," ",x?`le ${x.toLocaleDateString("fr-FR")}`:""]})]}),e.jsxs(Fa,{children:[e.jsx(Va,{as:xt,icon:e.jsx(sh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ua,{zIndex:10,position:"relative",children:[e.jsx(_n,{icon:e.jsx(Zf,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(_n,{icon:e.jsx(NX,{}),onClick:()=>r(t),children:"Commenter"}),t.status==="open"&&e.jsx(_n,{icon:e.jsx(sa,{}),onClick:()=>i(t.id,"in_progress"),children:"Marquer en cours"}),(t.status==="open"||t.status==="in_progress")&&e.jsx(_n,{icon:e.jsx(wx,{}),onClick:()=>i(t.id,"resolved"),children:"Marquer comme rsolu"}),t.status==="resolved"&&e.jsx(_n,{icon:e.jsx(Np,{}),onClick:()=>i(t.id,"closed"),children:"Fermer dfinitivement"}),t.status==="closed"&&e.jsx(_n,{icon:e.jsx(sa,{}),onClick:()=>i(t.id,"open"),children:"Rouvrir"}),e.jsx(jx,{}),e.jsx(_n,{icon:e.jsx(hr,{}),onClick:()=>l(t.id),color:"red.500",children:"Supprimer"})]})]})]})}),e.jsx(Ie,{pt:0,children:e.jsxs(ie,{align:"start",spacing:3,children:[e.jsx(k,{fontSize:"sm",children:t.description}),t.category&&e.jsx($u,{size:"sm",variant:"subtle",children:e.jsx(Fu,{children:t.category})}),t.assignedTo&&e.jsxs(oe,{children:[e.jsx(eM,{size:"xs",name:t.assignedTo}),e.jsxs(k,{fontSize:"xs",children:["Assign  ",t.assignedTo]})]}),Array.isArray(t.comments)&&t.comments.length>0&&e.jsxs(ie,{align:"start",spacing:2,w:"full",children:[e.jsx(vn,{}),e.jsx(oe,{children:e.jsxs(k,{fontSize:"xs",fontWeight:"bold",children:[t.comments.length," commentaire(s)"]})}),e.jsxs(ue,{bg:"gray.50",p:2,borderRadius:"md",w:"full",children:[e.jsx(k,{fontSize:"xs",children:t.comments[t.comments.length-1].message}),e.jsxs(k,{fontSize:"xs",color:"gray.500",mt:1,children:["Par ",t.comments[t.comments.length-1].author," - ",new Date(t.comments[t.comments.length-1].createdAt).toLocaleDateString("fr-FR")]})]})]})]})})]})}function eee(){const{user:t}=xs(),n=mn(),{isOpen:r,onOpen:i,onClose:l}=Nt(),{isOpen:u,onOpen:d,onClose:g}=Nt(),{isOpen:p,onOpen:m,onClose:x}=Nt(),[v,S]=y.useState(!0),[E,C]=y.useState([]),[T,A]=y.useState(null),[D,M]=y.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[R,P]=y.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[z,O]=y.useState({message:"",status:""}),[G,q]=y.useState([]),ce=Fn("white","gray.800"),he=async()=>{try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),H=await fetch(`${W}/api/retro-reports`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!H.ok)throw new Error("load failed");const Ee=await H.json();C(Ee.reports||[])}catch(W){console.error("Erreur chargement rtroreports:",W)}};y.useEffect(()=>{(async()=>(S(!0),await he(),S(!1)))()},[]);const se=async()=>{if(!D.title||!D.description){n({title:"Erreur",description:"Veuillez remplir le titre et la description",status:"error",duration:3e3,isClosable:!0});return}try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),H=new FormData;H.append("title",D.title),H.append("description",D.description),H.append("category",D.category||""),H.append("priority",D.priority||"medium"),H.append("type",D.type||"bug"),G&&G.length>0&&G.forEach(B=>H.append("screenshots",B,B.name));const Ee=await fetch(`${W}/api/retro-reports`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:H});if(!Ee.ok){const B=await Ee.json().catch(()=>({error:"create failed"}));throw new Error(B.error||"create failed")}await he(),M({title:"",description:"",category:"",priority:"medium",type:"bug"}),q([]),l(),n({title:"Succs",description:"RtroReport cr avec succs",status:"success",duration:3e3,isClosable:!0})}catch(W){n({title:"Erreur",description:W.message||"Impossible de crer le RtroReport",status:"error",duration:3e3})}},ge=async()=>{if(!z.message){n({title:"Erreur",description:"Veuillez crire un commentaire",status:"error",duration:3e3,isClosable:!0});return}try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),H={message:z.message,author:t?.name||"Administrateur",status:z.status||void 0};let Ee=await fetch(`${W}/api/retro-reports/${T.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!Ee.ok&&(Ee=await fetch(`${W}/api/retro-reports/${T.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({appendComment:{message:H.message,author:H.author},status:H.status})}),!Ee.ok))throw new Error("Impossible de persister le commentaire");await he(),O({message:"",status:""}),g(),n({title:"Succs",description:"Commentaire ajout avec succs",status:"success",duration:3e3,isClosable:!0})}catch(W){console.error(W),n({title:"Erreur",description:"Impossible d'ajouter le commentaire",status:"error",duration:3e3})}},Ae=async(W,H)=>{try{const Ee="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,"");let B=await fetch(`${Ee}/api/retro-reports/${W}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:H})});if(!B.ok&&(B=await fetch(`${Ee}/api/retro-reports/${W}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:H})}),!B.ok))throw new Error("status failed");await he(),n({title:"Statut mis  jour",description:`RtroReport marqu comme ${{open:"Ouvert",in_progress:"En cours",resolved:"Rsolu",closed:"Ferm"}[H]?.toLowerCase()||H}`,status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Impossible de changer le statut",status:"error",duration:3e3})}},de=async W=>{if(window.confirm("tes-vous sr de vouloir supprimer ce RtroReport ?"))try{const H="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),Ee=localStorage.getItem("token");if(!Ee){n({title:"Erreur",description:"Token non trouv",status:"error",duration:3e3});return}const B=`${H}/api/retro-reports/${W}`;console.log(" Suppression ticket:",B);const ae=await fetch(B,{method:"DELETE",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"}});if(console.log("Delete response status:",ae.status),!ae.ok){const $=await ae.text();throw console.error("Delete error:",$),new Error(`HTTP ${ae.status}: ${$}`)}const me=await ae.json();console.log("Delete result:",me),await he(),n({title:"RtroReport supprim",description:"Le ticket a t supprim avec succs",status:"success",duration:3e3})}catch(H){console.error(" Erreur suppression:",H),n({title:"Erreur",description:`Suppression impossible: ${H.message}`,status:"error",duration:5e3})}},re=W=>{A(W),P({title:W.title,description:W.description,category:W.category||"",priority:W.priority||"medium",type:W.type||"bug"}),m()},K=async()=>{if(!T?.id||!R.title||!R.description){n({title:"Erreur",description:"Titre et description requis",status:"error",duration:3e3,isClosable:!0});return}try{if(!(await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/api/retro-reports/${T.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({title:R.title,description:R.description,category:R.category||"",priority:R.priority||"medium",type:R.type||"bug"})})).ok)throw new Error("update failed");await he(),x(),n({title:"Succs",description:"RtroReport mis  jour",status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Mise  jour impossible",status:"error",duration:3e3})}};return v?e.jsx(Os,{maxW:"container.xl",py:8,children:e.jsxs(ie,{spacing:8,children:[e.jsx(hn,{size:"xl",color:"green.500"}),e.jsx(k,{children:"Chargement du support"})]})}):e.jsxs(Os,{maxW:"container.xl",py:8,children:[e.jsxs(ue,{bgGradient:"linear(to-r, red.500, orange.500)",color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsx(De,{size:"xl",mb:2,children:" Support du site"}),e.jsx(k,{opacity:.9,children:"Tickets: incidents, bugs et amliorations"})]}),e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(oe,{justify:"space-between",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"md",children:"Systme de tickets"}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Signalez et suivez les incidents et demandes"})]}),e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"red",onClick:i,children:"Nouveau ticket"})]}),e.jsxs(gt,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ne,{bg:ce,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{fontSize:"xs",children:"Ouverts"}),e.jsx(yt,{color:"red.500",fontSize:"lg",children:E.filter(W=>W.status==="open").length})]})})}),e.jsx(Ne,{bg:ce,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{fontSize:"xs",children:"En cours"}),e.jsx(yt,{color:"orange.500",fontSize:"lg",children:E.filter(W=>W.status==="in_progress").length})]})})}),e.jsx(Ne,{bg:ce,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{fontSize:"xs",children:"Rsolus"}),e.jsx(yt,{color:"green.500",fontSize:"lg",children:E.filter(W=>W.status==="resolved").length})]})})}),e.jsx(Ne,{bg:ce,children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{fontSize:"xs",children:"Total"}),e.jsx(yt,{color:"blue.500",fontSize:"lg",children:E.length})]})})})]}),e.jsx(ie,{spacing:4,align:"stretch",children:E.length===0?e.jsxs(Ut,{status:"info",children:[e.jsx(Ht,{}),e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:"Aucun ticket"}),e.jsx(k,{fontSize:"xs",children:"Crez votre premier ticket."})]})]}):E.map(W=>e.jsx(JJ,{report:W,onUpdate:re,onComment:H=>{A(H),d()},onStatusChange:Ae,onDelete:de},W.id))})]}),e.jsxs(Ct,{isOpen:r,onClose:l,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:" Nouveau ticket"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Titre"}),e.jsx(ye,{value:D.title,onChange:W=>M(H=>({...H,title:W.target.value})),placeholder:"Ex: Problme de connexion, Page lente..."})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:D.description,onChange:W=>M(H=>({...H,description:W.target.value})),rows:4,placeholder:"Dcrivez le problme..."})]}),e.jsxs(gt,{columns:2,spacing:4,w:"full",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Type"}),e.jsxs(lt,{value:D.type,onChange:W=>M(H=>({...H,type:W.target.value})),children:[e.jsx("option",{value:"bug",children:" Bug"}),e.jsx("option",{value:"feature",children:" Amlioration"}),e.jsx("option",{value:"performance",children:" Performance"}),e.jsx("option",{value:"security",children:" Scurit"}),e.jsx("option",{value:"other",children:" Autre"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Priorit"}),e.jsxs(lt,{value:D.priority,onChange:W=>M(H=>({...H,priority:W.target.value})),children:[e.jsx("option",{value:"low",children:" Faible"}),e.jsx("option",{value:"medium",children:" Moyen"}),e.jsx("option",{value:"high",children:" lev"}),e.jsx("option",{value:"critical",children:" Critique"})]})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Catgorie"}),e.jsx(ye,{value:D.category,onChange:W=>M(H=>({...H,category:W.target.value})),placeholder:"Ex: Technique, Interface, Base de donnes..."})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Captures dcran (optionnel)"}),e.jsx(ye,{type:"file",accept:"image/*",multiple:!0,onChange:W=>q(Array.from(W.target.files||[]))})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:l,children:"Annuler"}),e.jsx(te,{colorScheme:"red",onClick:se,leftIcon:e.jsx(Bn,{}),children:"Crer"})]})]})]}),e.jsxs(Ct,{isOpen:u,onClose:g,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Ajouter un commentaire"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Commentaire"}),e.jsx(Yt,{value:z.message,onChange:W=>O(H=>({...H,message:W.target.value})),rows:3})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Changer le statut (optionnel)"}),e.jsxs(lt,{value:z.status,onChange:W=>O(H=>({...H,status:W.target.value})),children:[e.jsx("option",{value:"",children:"Ne pas changer"}),e.jsx("option",{value:"open",children:"Ouvert"}),e.jsx("option",{value:"in_progress",children:"En cours"}),e.jsx("option",{value:"resolved",children:"Rsolu"}),e.jsx("option",{value:"closed",children:"Ferm"})]})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:g,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:ge,children:"Publier"})]})]})]}),e.jsxs(Ct,{isOpen:p,onClose:x,children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Modifier le ticket"}),e.jsx(Bt,{}),e.jsx(wt,{children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Titre"}),e.jsx(ye,{value:R.title,onChange:W=>P(H=>({...H,title:W.target.value}))})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{rows:4,value:R.description,onChange:W=>P(H=>({...H,description:W.target.value}))})]}),e.jsxs(gt,{columns:2,spacing:4,w:"full",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Catgorie"}),e.jsx(ye,{value:R.category,onChange:W=>P(H=>({...H,category:W.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Priorit"}),e.jsxs(lt,{value:R.priority,onChange:W=>P(H=>({...H,priority:W.target.value})),children:[e.jsx("option",{value:"low",children:"Faible"}),e.jsx("option",{value:"medium",children:"Moyen"}),e.jsx("option",{value:"high",children:"lev"}),e.jsx("option",{value:"critical",children:"Critique"})]})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type"}),e.jsxs(lt,{value:R.type,onChange:W=>P(H=>({...H,type:W.target.value})),children:[e.jsx("option",{value:"bug",children:"Bug"}),e.jsx("option",{value:"feature",children:"Amlioration"}),e.jsx("option",{value:"performance",children:"Performance"}),e.jsx("option",{value:"security",children:"Scurit"}),e.jsx("option",{value:"other",children:"Autre"})]})]})]})}),e.jsxs(Wt,{children:[e.jsx(te,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:K,children:"Enregistrer"})]})]})]})]})}function ab({p:t,onEdit:n,onDelete:r}){return e.jsxs(Ne,{overflow:"hidden",children:[e.jsx(Mi,{src:t.image||"/assets/fallback/_MG_1006.jpg",alt:t.name,w:"100%",h:"160px",objectFit:"cover"}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:2,children:[e.jsxs(oe,{justify:"space-between",align:"start",children:[e.jsxs(ue,{children:[e.jsx(De,{size:"sm",children:t.name}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:t.category})]}),e.jsx($u,{size:"sm",colorScheme:t.active?"green":"gray",children:e.jsx(Fu,{children:t.active?"Actif":"Masqu"})})]}),e.jsxs(oe,{justify:"space-between",children:[e.jsxs(k,{fontWeight:"bold",children:[t.price.toFixed(2)," "]}),e.jsxs(oe,{children:[e.jsx(xt,{"aria-label":"diter",size:"sm",icon:e.jsx(Bs,{}),onClick:()=>n(t)}),e.jsx(xt,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(hr,{}),onClick:()=>r(t)})]})]})]})})]})}function tee(){const t=mn(),[n,r]=y.useState(["Textiles","Goodies","Affiches"]),[i,l]=y.useState([{id:"tee-classic",name:"T-shirt RtroBus Classique",price:20,category:"Textiles",image:"",active:!0},{id:"mug-logo",name:"Mug Logo RBE",price:12,category:"Goodies",image:"",active:!0},{id:"poster-920",name:"Affiche R312 n920",price:15,category:"Affiches",image:"",active:!1}]),[u,d]=y.useState([]),[g,p]=y.useState("Toutes"),[m,x]=y.useState(null),[v,S]=y.useState({id:"",name:"",price:0,category:"Textiles",image:"",active:!0,description:""}),E=Nt(),C=y.useMemo(()=>g==="Toutes"?i:i.filter($=>$.category===g),[i,g]),T=()=>S({id:"",name:"",price:0,category:n[0]||"Textiles",image:"",active:!0,description:""}),A=()=>{x(null),T(),E.onOpen()},D=$=>{x($),S({...$}),E.onOpen()},M=()=>{const $=(v.id||v.name||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-");if(!v.name||!$)return t({status:"warning",title:"Nom requis"});const F={...v,id:$};l(U=>m?U.map(Y=>Y.id===m.id?F:Y):[{...F},...U]),E.onClose(),t({status:"success",title:m?"Produit mis  jour":"Produit ajout"})},R=$=>{confirm(`Supprimer ${$.name} ?`)&&(l(F=>F.filter(U=>U.id!==$.id)),t({status:"info",title:"Produit supprim"}))},P=[{id:"hero-1",type:"banner",colSpan:12,data:{title:"Bienvenue sur RtroMerch",subtitle:"Slection spciale",image:"",ctaText:"Dcouvrir",ctaHref:"/retromerch"}},{id:"promo-1",type:"promo",colSpan:6,data:{label:"Promo",productId:"tee-classic",discount:20}},{id:"product-1",type:"product",colSpan:6,data:{productId:"mug-logo"}},{id:"grid-1",type:"grid",colSpan:12,data:{category:"Textiles",count:4}}],[z,O]=y.useState(()=>{try{const $=localStorage.getItem("retromerch_layout");return $?JSON.parse($):P}catch{return P}}),[G,q]=y.useState(null),[ce,he]=y.useState(!0);y.useEffect(()=>{try{localStorage.setItem("retromerch_layout",JSON.stringify(z))}catch{}},[z]);const se=$=>`${$}-${Date.now().toString(36)}`,ge=$=>{const F={colSpan:12,data:{}},U={id:se($),type:$,...F};$==="banner"&&(U.data={title:"Titre",subtitle:"Sous-titre",image:"",ctaText:"Voir",ctaHref:"/retromerch"}),$==="promo"&&(U.data={label:"Promo",productId:i[0]?.id||"",discount:10}),$==="product"&&(U.data={productId:i[0]?.id||""}),$==="grid"&&(U.data={category:n[0]||"Textiles",count:4}),$==="text"&&(U.data={text:"Texte libre de prsentation"}),$==="spacer"&&(U.data={size:6}),O(Y=>[...Y,U]),q(U.id)},Ae=$=>O(F=>F.filter(U=>U.id!==$)),de=$=>{const F=z.find(Te=>Te.id===$);if(!F)return;const U={...F,id:se("copy")},Y=z.findIndex(Te=>Te.id===$),be=[...z];be.splice(Y+1,0,U),O(be),q(U.id)},re=($,F)=>O(U=>U.map(Y=>Y.id===$?{...Y,...F,data:{...Y.data,...F.data||{}}}:Y)),K=($,F)=>{const U=z.findIndex(Te=>Te.id===$);if(U<0)return;const Y=[...z],be=F==="up"?U-1:U+1;be<0||be>=Y.length||([Y[U],Y[be]]=[Y[be],Y[U]],O(Y))},W=($,F)=>re($,{colSpan:F}),[H,Ee]=y.useState(null),B=$=>F=>{Ee($),F.dataTransfer.setData("text/plain",$)},ae=$=>{$.preventDefault()},me=$=>F=>{F.preventDefault();const U=H||F.dataTransfer.getData("text/plain");if(!U||U===$)return;const Y=[...z],be=Y.findIndex(nt=>nt.id===U),Te=Y.findIndex(nt=>nt.id===$);if(be===-1||Te===-1)return;const[Re]=Y.splice(be,1);Y.splice(Te,0,Re),O(Y),Ee(null)};return e.jsxs(ue,{p:6,maxW:"7xl",mx:"auto",children:[e.jsxs(ie,{align:"stretch",spacing:6,children:[e.jsxs(oe,{justify:"space-between",align:"center",children:[e.jsxs(De,{size:"lg",display:"flex",alignItems:"center",gap:2,children:[e.jsx(Tx,{})," Administration RtroMerch"]}),e.jsxs(oe,{children:[e.jsx(te,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:A,children:"Ajouter un produit"}),e.jsx(te,{leftIcon:e.jsx(nm,{}),variant:"outline",children:"Paramtres"})]})]}),e.jsxs(ao,{colorScheme:"red",variant:"enclosed",children:[e.jsxs(lo,{children:[e.jsxs(ln,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(Tx,{})," Catalogue"]}),e.jsxs(ln,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(LX,{})," Commandes"]}),e.jsx(ln,{children:"Catgories"}),e.jsx(ln,{children:"Mise en page"}),e.jsx(ln,{children:"Paramtres"})]}),e.jsxs(Bo,{children:[e.jsx(cn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(oe,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"md",children:"Catalogue"}),e.jsxs(oe,{children:[e.jsxs(lt,{size:"sm",value:g,onChange:$=>p($.target.value),children:[e.jsx("option",{children:"Toutes"}),n.map($=>e.jsx("option",{children:$},$))]}),e.jsx(te,{size:"sm",onClick:A,leftIcon:e.jsx(Bn,{}),children:"Nouveau"})]})]})}),e.jsx(Ie,{children:C.length===0?e.jsx(jn,{py:10,children:e.jsx(k,{color:"gray.600",children:"Aucun produit pour linstant."})}):e.jsx(gt,{columns:{base:1,sm:2,md:3,xl:4},spacing:4,children:C.map($=>e.jsx(ab,{p:$,onEdit:D,onDelete:R},$.id))})})]})}),e.jsx(cn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Commandes"})}),e.jsx(Ie,{children:u.length===0?e.jsx(jn,{py:10,children:e.jsx(k,{color:"gray.600",children:"Aucune commande pour le moment."})}):e.jsxs(dr,{size:"sm",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"#"}),e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Client"}),e.jsx($e,{children:"Montant"}),e.jsx($e,{children:"Statut"})]})}),e.jsx(pr,{children:u.map($=>e.jsxs(Ft,{children:[e.jsx(Le,{children:$.id}),e.jsx(Le,{children:new Date($.createdAt).toLocaleString("fr-FR")}),e.jsx(Le,{children:$.customerName}),e.jsxs(Le,{children:[$.total.toFixed(2)," "]}),e.jsx(Le,{children:$.status})]},$.id))})]})})]})}),e.jsx(cn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(oe,{justify:"space-between",children:e.jsx(De,{size:"md",children:"Catgories"})})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[n.map(($,F)=>e.jsxs(oe,{justify:"space-between",borderWidth:"1px",p:3,borderRadius:"md",children:[e.jsx(k,{children:$}),e.jsxs(oe,{children:[e.jsx(xt,{"aria-label":"Renommer",size:"sm",icon:e.jsx(Bs,{}),onClick:()=>{const U=prompt("Nouveau nom de catgorie",$);U&&(r(Y=>Y.map(be=>be===$?U:be)),l(Y=>Y.map(be=>be.category===$?{...be,category:U}:be)))}}),e.jsx(xt,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(hr,{}),onClick:()=>{confirm(`Supprimer la catgorie ${$} ?`)&&(r(U=>U.filter(Y=>Y!==$)),l(U=>U.map(Y=>Y.category===$?{...Y,category:"Autre"}:Y)))}})]})]},$)),e.jsxs(oe,{children:[e.jsx(ye,{placeholder:"Nouvelle catgorie",size:"sm",id:"newCat"}),e.jsx(te,{size:"sm",onClick:()=>{const $=document.getElementById("newCat"),F=($?.value||"").trim();if(F){if(n.includes(F))return t({status:"info",title:"Existe dj"});r(U=>[...U,F]),$.value=""}},children:"Ajouter"})]})]})})]})}),e.jsx(cn,{px:0,children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsxs(oe,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"md",children:"Mise en page  diteur  puzzle "}),e.jsxs(oe,{children:[e.jsxs(te,{size:"sm",leftIcon:e.jsx(Dp,{}),onClick:()=>he($=>!$),children:[ce?"Masquer":"Afficher"," laperu"]}),e.jsx(te,{size:"sm",variant:"outline",leftIcon:e.jsx(MT,{}),onClick:()=>{navigator.clipboard.writeText(JSON.stringify(z,null,2)),t({status:"success",title:"Layout copi"})},children:"Exporter JSON"})]})]}),e.jsxs(gt,{columns:{base:1,xl:3},spacing:4,children:[e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Palette"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:2,children:[e.jsx(te,{onClick:()=>ge("banner"),children:"Bannire"}),e.jsx(te,{onClick:()=>ge("promo"),children:"Produit en promo"}),e.jsx(te,{onClick:()=>ge("product"),children:"Produit (slection)"}),e.jsx(te,{onClick:()=>ge("grid"),children:"Grille par catgorie"}),e.jsx(te,{onClick:()=>ge("text"),children:"Texte"}),e.jsx(te,{onClick:()=>ge("spacer"),children:"Espace"})]})})]}),e.jsxs(Ne,{gridColumn:{base:"auto",xl:"span 2"},children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"diteur"})}),e.jsx(Ie,{children:e.jsx(ue,{borderWidth:"1px",borderRadius:"md",p:3,children:e.jsx(Xs,{templateColumns:"repeat(12, 1fr)",gap:3,gridAutoFlow:"row dense",children:z.map($=>e.jsxs(ue,{gridColumn:`span ${Math.min(12,Math.max(3,$.colSpan||12))}`,p:0,borderWidth:G===$.id?"2px":"1px",borderColor:G===$.id?"blue.400":"gray.200",borderRadius:"md",bg:G===$.id?"blue.50":"white",draggable:!0,onDragStart:B($.id),onDragOver:ae,onDrop:me($.id),onClick:()=>q($.id),children:[e.jsxs(oe,{justify:"space-between",p:2,bg:"gray.50",borderBottomWidth:"1px",borderTopRadius:"md",children:[e.jsxs(oe,{children:[e.jsx($u,{size:"sm",children:e.jsx(Fu,{children:$.type})}),e.jsx(lt,{size:"xs",w:"auto",value:$.colSpan,onChange:F=>W($.id,parseInt(F.target.value)),children:[12,8,6,4,3].map(F=>e.jsxs("option",{value:F,children:[F,"/12"]},F))})]}),e.jsxs(oe,{children:[e.jsx(xt,{"aria-label":"Monter",size:"xs",icon:e.jsx(j1,{}),onClick:F=>{F.stopPropagation(),K($.id,"up")}}),e.jsx(xt,{"aria-label":"Descendre",size:"xs",icon:e.jsx(b1,{}),onClick:F=>{F.stopPropagation(),K($.id,"down")}}),e.jsx(xt,{"aria-label":"Dupliquer",size:"xs",icon:e.jsx(MT,{}),onClick:F=>{F.stopPropagation(),de($.id)}}),e.jsx(xt,{"aria-label":"Supprimer",size:"xs",colorScheme:"red",icon:e.jsx(hr,{}),onClick:F=>{F.stopPropagation(),Ae($.id)}})]})]}),e.jsxs(ue,{p:3,children:[$.type==="banner"&&e.jsxs(ie,{align:"stretch",spacing:2,children:[e.jsx(ye,{size:"sm",placeholder:"Titre",value:$.data.title||"",onChange:F=>re($.id,{data:{title:F.target.value}})}),e.jsx(ye,{size:"sm",placeholder:"Sous-titre",value:$.data.subtitle||"",onChange:F=>re($.id,{data:{subtitle:F.target.value}})}),e.jsx(ye,{size:"sm",placeholder:"Image URL",value:$.data.image||"",onChange:F=>re($.id,{data:{image:F.target.value}})}),e.jsxs(oe,{children:[e.jsx(ye,{size:"sm",placeholder:"Texte du bouton",value:$.data.ctaText||"",onChange:F=>re($.id,{data:{ctaText:F.target.value}})}),e.jsx(ye,{size:"sm",placeholder:"Lien",value:$.data.ctaHref||"",onChange:F=>re($.id,{data:{ctaHref:F.target.value}})})]})]}),$.type==="promo"&&e.jsxs(gt,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Produit"}),e.jsx(lt,{size:"sm",value:$.data.productId||"",onChange:F=>re($.id,{data:{productId:F.target.value}}),children:i.map(F=>e.jsx("option",{value:F.id,children:F.name},F.id))})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Label"}),e.jsx(ye,{size:"sm",value:$.data.label||"",onChange:F=>re($.id,{data:{label:F.target.value}})})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Rduction (%)"}),e.jsx(Xn,{size:"sm",min:0,max:90,value:$.data.discount||0,onChange:(F,U)=>re($.id,{data:{discount:isNaN(U)?0:U}}),children:e.jsx(Qn,{})})]})]}),$.type==="product"&&e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Produit"}),e.jsx(lt,{size:"sm",value:$.data.productId||"",onChange:F=>re($.id,{data:{productId:F.target.value}}),children:i.map(F=>e.jsx("option",{value:F.id,children:F.name},F.id))})]}),$.type==="grid"&&e.jsxs(gt,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Catgorie"}),e.jsx(lt,{size:"sm",value:$.data.category||"",onChange:F=>re($.id,{data:{category:F.target.value}}),children:n.map(F=>e.jsx("option",{value:F,children:F},F))})]}),e.jsxs(ee,{children:[e.jsx(J,{fontSize:"xs",children:"Nombre"}),e.jsx(Xn,{size:"sm",min:1,max:12,value:$.data.count||4,onChange:(F,U)=>re($.id,{data:{count:isNaN(U)?4:U}}),children:e.jsx(Qn,{})})]})]}),$.type==="text"&&e.jsx(Yt,{size:"sm",rows:3,value:$.data.text||"",onChange:F=>re($.id,{data:{text:F.target.value}})}),$.type==="spacer"&&e.jsxs(oe,{children:[e.jsx(k,{fontSize:"sm",color:"gray.600",children:"Espace (px)"}),e.jsx(Xn,{size:"sm",min:8,max:96,value:$.data.size||24,onChange:(F,U)=>re($.id,{data:{size:isNaN(U)?24:U}}),children:e.jsx(Qn,{})})]})]})]},$.id))})})})]})]}),ce&&e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"sm",children:"Aperu dynamique"})}),e.jsx(Ie,{children:e.jsx(ue,{children:e.jsx(Xs,{templateColumns:{base:"1fr",md:"repeat(12, 1fr)"},gap:4,gridAutoFlow:"row dense",children:z.map($=>e.jsxs(ue,{gridColumn:{base:"auto",md:`span ${Math.min(12,Math.max(3,$.colSpan||12))}`},children:[$.type==="banner"&&e.jsx(er,{bgImage:$.data.image||void 0,bgSize:"cover",bgPos:"center",borderRadius:"md",p:10,minH:"160px",align:"center",justify:"space-between",bg:$.data.image?void 0:"gray.100",children:e.jsxs(ie,{align:"start",spacing:2,children:[e.jsx(De,{size:"lg",children:$.data.title||"Titre"}),e.jsx(k,{color:"gray.700",children:$.data.subtitle||"Sous-titre"}),$.data.ctaText&&e.jsx(te,{colorScheme:"blue",size:"sm",children:$.data.ctaText})]})}),$.type==="promo"&&(()=>{const F=i.find(U=>U.id===$.data.productId);return F?e.jsxs(Ne,{overflow:"hidden",borderColor:"red.200",borderWidth:"1px",children:[e.jsx(Mi,{src:F.image||"/assets/fallback/_MG_1006.jpg",alt:F.name,h:"160px",w:"100%",objectFit:"cover"}),e.jsxs(Ie,{children:[e.jsxs(oe,{justify:"space-between",align:"start",children:[e.jsxs(ie,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",children:F.name}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:F.category})]}),e.jsx($u,{colorScheme:"red",children:e.jsxs(Fu,{children:[$.data.label||"Promo"," -",$.data.discount||0,"%"]})})]}),e.jsxs(oe,{justify:"space-between",pt:2,children:[e.jsxs(k,{fontWeight:"bold",children:[(F.price*(1-($.data.discount||0)/100)).toFixed(2),"  ",e.jsxs(k,{as:"span",color:"gray.500",textDecor:"line-through",ml:2,children:[F.price.toFixed(2)," "]})]}),e.jsx(te,{size:"sm",colorScheme:"blue",children:"Voir"})]})]})]}):e.jsx(ue,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),$.type==="product"&&(()=>{const F=i.find(U=>U.id===$.data.productId);return F?e.jsx(ab,{p:F,onEdit:()=>{},onDelete:()=>{}}):e.jsx(ue,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),$.type==="grid"&&(()=>{const F=i.filter(U=>U.active&&($.data.category?U.category===$.data.category:!0)).slice(0,$.data.count||4);return e.jsx(gt,{columns:{base:1,sm:2,md:2,lg:3,xl:4},spacing:4,children:F.map(U=>e.jsx(ab,{p:U,onEdit:()=>{},onDelete:()=>{}},U.id))})})(),$.type==="text"&&e.jsx(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:e.jsx(k,{children:$.data.text||""})}),$.type==="spacer"&&e.jsx(ue,{h:`${$.data.size||24}px`})]},$.id))})})})]})]})}),e.jsx(cn,{px:0,children:e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:"Paramtres"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:4,children:[e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{children:"Activer la boutique"}),e.jsx(Sr,{defaultChecked:!0,isDisabled:!0})]}),e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{children:"Mode test (paiements simuls)"}),e.jsx(Sr,{isDisabled:!0})]}),e.jsx(k,{color:"gray.600",children:"Connecteurs (HelloAsso/Stripe), TVA, frais de port, etc. seront configurables ici."})]})})]})})]})]})]}),E.isOpen&&e.jsx(ue,{position:"fixed",inset:0,bg:"blackAlpha.600",zIndex:1e3,onClick:E.onClose,children:e.jsx(ue,{as:"dialog",onClick:$=>$.stopPropagation(),style:{border:0},children:e.jsxs(Ne,{position:"fixed",top:"10%",left:"50%",transform:"translateX(-50%)",w:{base:"95%",md:"560px"},children:[e.jsx(Dt,{children:e.jsx(De,{size:"md",children:m?"Modifier le produit":"Nouveau produit"})}),e.jsx(Ie,{children:e.jsxs(ie,{align:"stretch",spacing:3,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Nom"}),e.jsx(ye,{value:v.name,onChange:$=>S(F=>({...F,name:$.target.value}))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Identifiant (URL)"}),e.jsx(ye,{value:v.id,onChange:$=>S(F=>({...F,id:$.target.value})),placeholder:"auto depuis le nom"})]}),e.jsxs(gt,{columns:{base:1,md:2},spacing:3,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Prix ()"}),e.jsx(Xn,{min:0,value:v.price,onChange:($,F)=>S(U=>({...U,price:isNaN(F)?0:F})),children:e.jsx(Qn,{})})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Catgorie"}),e.jsx(lt,{value:v.category,onChange:$=>S(F=>({...F,category:$.target.value})),children:n.map($=>e.jsx("option",{children:$},$))})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Image (URL)"}),e.jsx(ye,{value:v.image,onChange:$=>S(F=>({...F,image:$.target.value})),placeholder:"https://"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{value:v.description,onChange:$=>S(F=>({...F,description:$.target.value})),rows:3})]}),e.jsxs(oe,{justify:"space-between",children:[e.jsx(k,{children:"Actif"}),e.jsx(Sr,{isChecked:v.active,onChange:$=>S(F=>({...F,active:$.target.checked}))})]}),e.jsxs(oe,{justify:"flex-end",pt:2,children:[e.jsx(te,{variant:"ghost",onClick:E.onClose,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:M,children:m?"Enregistrer":"Crer"})]})]})})]})})})]})}const k1=[{value:"tournee",label:"Tourne",color:"orange"},{value:"campagne",label:"Campagne",color:"purple"},{value:"maintenance",label:"Maintenance",color:"red"},{value:"evenement",label:"vnement",color:"green"},{value:"livraison",label:"Livraison",color:"cyan"},{value:"cotisation",label:"Cotisation",color:"yellow"}];function nee({events:t,currentDate:n,onDateClick:r,onPrevMonth:i,onNextMonth:l}){const u=n.getFullYear(),d=n.getMonth(),g=new Date(u,d,1).getDay(),p=new Date(u,d+1,0).getDate(),m=new Date(u,d,0).getDate(),x=[];for(let E=g-1;E>=0;E--)x.push({day:m-E,isCurrentMonth:!1});for(let E=1;E<=p;E++)x.push({day:E,isCurrentMonth:!0});const v=42-x.length;for(let E=1;E<=v;E++)x.push({day:E,isCurrentMonth:!1});const S=E=>t.filter(C=>{const T=new Date(C.startDate);return T.getDate()===E&&T.getMonth()===d&&T.getFullYear()===u});return e.jsx(Ne,{mb:6,children:e.jsx(Ie,{children:e.jsxs(ie,{spacing:4,align:"stretch",children:[e.jsxs(er,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"md",children:n.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}),e.jsxs(oe,{children:[e.jsx(xt,{icon:e.jsx(kK,{}),onClick:i,variant:"ghost","aria-label":"Mois prcdent"}),e.jsx(xt,{icon:e.jsx(MK,{}),onClick:l,variant:"ghost","aria-label":"Mois suivant"})]})]}),e.jsxs(Xs,{templateColumns:"repeat(7, 1fr)",gap:2,children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(E=>e.jsx(ue,{textAlign:"center",fontWeight:"bold",fontSize:"sm",children:E},E)),x.map((E,C)=>{const T=E.isCurrentMonth?S(E.day):[];return e.jsxs(ue,{p:2,border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"100px",bg:E.isCurrentMonth?"white":"gray.50",cursor:E.isCurrentMonth?"pointer":"default",onClick:()=>E.isCurrentMonth&&r(E.day),_hover:E.isCurrentMonth?{bg:"blue.50"}:{},children:[e.jsx(k,{fontSize:"xs",fontWeight:"bold",mb:1,children:E.day}),e.jsx(ie,{spacing:1,align:"stretch",children:T.map(A=>e.jsx(et,{fontSize:"2xs",colorScheme:wj(A.type),cursor:"pointer",title:A.title,noOfLines:1,children:A.title},A.id))})]},C)})]})]})})})}const wj=t=>k1.find(r=>r.value===t)?.color||"gray",ZT=t=>k1.find(r=>r.value===t)?.label||t,lb=t=>t?new Date(t).toLocaleDateString("fr-FR"):"";function ree(){const t=mn(),{isOpen:n,onOpen:r,onClose:i}=Nt(),{isOpen:l,onOpen:u,onClose:d}=Nt(),[g,p]=y.useState([]),[m,x]=y.useState(null),[v,S]=y.useState(new Date),[E,C]=y.useState([]),[T,A]=y.useState(!0),[D,M]=y.useState([]),[R,P]=y.useState(!0),[z,O]=y.useState({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""});y.useEffect(()=>{ce(),G(),q()},[]);const G=async()=>{try{A(!0);const H=await ps("/api/members");if(Array.isArray(H)){const Ee=H.map(B=>({id:B.id,name:`${B.firstName} ${B.lastName}`,email:B.email,membershipStatus:B.membershipStatus}));C(Ee)}else console.warn("Unexpected members response format:",H),C([])}catch(H){console.error("Erreur chargement membres:",H),C([]),t({title:"Attention",description:"Impossible de charger la liste des membres",status:"warning",duration:3})}finally{A(!1)}},q=async()=>{try{P(!0);const H=await ps("/api/vehicles");Array.isArray(H)?M(H):(console.warn("Unexpected vehicles response format:",H),M([]))}catch(H){console.error("Erreur chargement vhicules:",H),M([])}finally{P(!1)}},ce=async()=>{try{const H=await ps("/api/planning/events");Array.isArray(H)?p(H):H&&typeof H=="object"&&H.data&&Array.isArray(H.data)?p(H.data):(console.warn("Unexpected response format, using demo data:",H),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}]))}catch(H){console.error("Erreur chargement:",H),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}])}},he=H=>{const{name:Ee,value:B}=H.target;O(ae=>({...ae,[Ee]:B}))},se=H=>{O(Ee=>({...Ee,selectedMembers:H}))},ge=async()=>{if(!z.title||!z.startDate){t({title:"Erreur",description:"Veuillez remplir au minimum le titre et la date",status:"error",duration:3});return}try{const H={title:z.title,type:z.type,description:z.description,startDate:new Date(`${z.startDate}T${z.startTime||"08:00"}`).toISOString(),endDate:z.endDate?new Date(`${z.endDate}T${z.endTime||"17:00"}`).toISOString():null,startTime:z.startTime||"08:00",endTime:z.endTime||"17:00",location:z.location,vehicleId:z.vehicleId||null,driverId:z.driverId||null,selectedMembers:z.selectedMembers,externalEmails:z.externalEmails},Ee=await ps("/api/planning/events",{method:"POST",body:JSON.stringify(H)});if(Ee.success||Ee.event)await ce(),t({title:"Succs",description:`vnement cr et ${Ee.emailsSent?.members||0} invitation(s) envoye(s)`,status:"success",duration:3}),O({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""}),i();else throw new Error(Ee.error||"Erreur inconnue")}catch(H){console.error("Erreur cration vnement:",H),t({title:"Erreur",description:H.message||"Impossible de crer l'vnement",status:"error",duration:3})}},Ae=H=>{x(H),u()},de=async H=>{try{const Ee=await ps(`/api/planning/events/${H}`,{method:"DELETE"});if(Ee.success)await ce(),t({title:"Succs",description:"vnement supprim",status:"success",duration:3}),d();else throw new Error(Ee.error||"Erreur inconnue")}catch(Ee){console.error("Erreur suppression:",Ee),t({title:"Erreur",description:Ee.message||"Impossible de supprimer l'vnement",status:"error",duration:3})}},re=()=>{S(H=>new Date(H.getFullYear(),H.getMonth()-1,1))},K=()=>{S(H=>new Date(H.getFullYear(),H.getMonth()+1,1))},W=H=>{const Ee=new Date(v.getFullYear(),v.getMonth(),H);O(B=>({...B,startDate:Ee.toISOString().split("T")[0]})),r()};return e.jsx(Dl,{children:e.jsxs(Os,{maxW:"container.xl",py:8,children:[e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(er,{justify:"space-between",align:"center",children:[e.jsx(De,{as:"h1",size:"lg",children:" RtroPlanning"}),e.jsx(te,{colorScheme:"blue",onClick:r,children:" Ajouter un vnement"})]}),e.jsx(nee,{events:g,currentDate:v,onDateClick:W,onPrevMonth:re,onNextMonth:K}),e.jsxs(ue,{children:[e.jsx(De,{size:"md",mb:4,children:" vnements prvus"}),!Array.isArray(g)||g.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsx(k,{textAlign:"center",color:"gray.500",children:"Aucun vnement prvu pour le moment"})})}):e.jsx(Xs,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:g.map(H=>e.jsx(Ne,{cursor:"pointer",onClick:()=>Ae(H),_hover:{shadow:"md",transform:"translateY(-2px)"},transition:"all 0.2s",children:e.jsx(Ie,{children:e.jsxs(ie,{align:"start",spacing:3,children:[e.jsxs(oe,{justify:"space-between",w:"full",children:[e.jsx(De,{size:"sm",children:H.title}),e.jsx(et,{colorScheme:wj(H.type),children:ZT(H.type)})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:H.description}),e.jsxs(oe,{fontSize:"xs",color:"gray.500",spacing:4,children:[e.jsxs(k,{children:[" ",lb(H.startDate)]}),H.vehicleId&&e.jsxs(k,{children:[" ",H.vehicleId]})]})]})})},H.id))})]})]}),e.jsxs(Ct,{isOpen:n,onClose:i,size:"xl",scrollBehavior:"inside",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:" Crer un nouvel vnement"}),e.jsx(Bt,{}),e.jsx(wt,{pb:6,children:e.jsxs(ie,{spacing:4,children:[e.jsxs(ue,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Dtails"}),e.jsxs(ie,{spacing:3,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Titre"}),e.jsx(ye,{name:"title",value:z.title,onChange:he,placeholder:"Titre de l'vnement"})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Type"}),e.jsx(lt,{name:"type",value:z.type,onChange:he,children:k1.map(H=>e.jsx("option",{value:H.value,children:H.label},H.value))})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Description"}),e.jsx(Yt,{name:"description",value:z.description,onChange:he,placeholder:"Dtails de l'vnement",rows:3})]})]})]}),e.jsx(vn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Date et Heure"}),e.jsxs(Xs,{templateColumns:"repeat(2, 1fr)",gap:3,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Date dbut"}),e.jsx(ye,{type:"date",name:"startDate",value:z.startDate,onChange:he})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Heure dbut"}),e.jsx(ye,{type:"time",name:"startTime",value:z.startTime,onChange:he})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Date fin"}),e.jsx(ye,{type:"date",name:"endDate",value:z.endDate,onChange:he})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Heure fin"}),e.jsx(ye,{type:"time",name:"endTime",value:z.endTime,onChange:he})]})]})]}),e.jsx(vn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Affectations"}),e.jsxs(ie,{spacing:3,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Vhicule"}),R?e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Chargement des vhicules..."}):D.length===0?e.jsx(k,{fontSize:"sm",color:"red.500",children:"Aucun vhicule disponible"}):e.jsxs(lt,{name:"vehicleId",value:z.vehicleId,onChange:he,children:[e.jsx("option",{value:"",children:"-- Slectionner un vhicule --"}),D.map(H=>e.jsxs("option",{value:H.id,children:[H.parc," - ",H.modele," (",H.marque,")"]},H.id))]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Chauffeur (Membre)"}),T?e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Chargement des chauffeurs..."}):E.length===0?e.jsx(k,{fontSize:"sm",color:"red.500",children:"Aucun membre disponible"}):e.jsxs(lt,{name:"driverId",value:z.driverId,onChange:he,children:[e.jsx("option",{value:"",children:"-- Slectionner un chauffeur --"}),E.map(H=>e.jsx("option",{value:H.id,children:H.name},H.id))]})]})]})]}),e.jsx(vn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Participants"}),e.jsxs(ie,{spacing:3,align:"start",children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Membres de l'association"}),T?e.jsx(k,{fontSize:"sm",color:"gray.500",children:"Chargement des membres..."}):E.length===0?e.jsx(k,{fontSize:"sm",color:"orange.500",children:"Aucun membre disponible"}):e.jsx(sM,{value:z.selectedMembers,onChange:se,children:e.jsx(ca,{spacing:2,children:E.map(H=>e.jsxs(Ba,{value:H.id,children:[H.name," (",H.email,")"]},H.id))})})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Invitations externes"}),e.jsx(Yt,{name:"externalEmails",value:z.externalEmails,onChange:he,placeholder:`Adresses emails spares par des virgules
exemple@mail.com, autre@mail.com`,rows:3}),e.jsx(k,{fontSize:"xs",color:"gray.500",mt:1,children:"Sparez les adresses par des virgules pour envoyer des invitations par email"})]})]})]}),e.jsx(vn,{}),e.jsxs(oe,{justify:"flex-end",w:"full",pt:4,children:[e.jsx(te,{variant:"ghost",onClick:i,children:"Annuler"}),e.jsx(te,{colorScheme:"blue",onClick:ge,children:" Crer l'vnement"})]})]})})]})]}),e.jsxs(Ct,{isOpen:l,onClose:d,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:m?.title}),e.jsx(Bt,{}),e.jsx(wt,{pb:6,children:m&&e.jsxs(ie,{spacing:4,align:"start",children:[e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:1,children:"Type:"}),e.jsx(et,{colorScheme:wj(m.type),children:ZT(m.type)})]}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:1,children:"Description:"}),e.jsx(k,{children:m.description||"-"})]}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:1,children:"Date dbut:"}),e.jsx(k,{children:lb(m.startDate)})]}),m.endDate&&e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:1,children:"Date fin:"}),e.jsx(k,{children:lb(m.endDate)})]}),m.vehicleId&&e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:1,children:"Vhicule:"}),e.jsx(k,{children:m.vehicleId})]}),m.driverId&&e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",mb:1,children:"Chauffeur:"}),e.jsx(k,{children:m.driverId})]}),e.jsxs(oe,{spacing:3,w:"full",pt:4,children:[e.jsx(te,{colorScheme:"red",flex:1,onClick:()=>de(m.id),children:" Supprimer"}),e.jsx(te,{variant:"ghost",flex:1,onClick:d,children:"Fermer"})]})]})})]})]})]})})}const see="https://attractive-kindness-rbe-serveurs.up.railway.app";function iee(){const{eventId:t,memberId:n}=Mx(),r=la(),i=mn(),l=Fn("white","gray.800"),[u,d]=y.useState(!0),[g,p]=y.useState(null),[m,x]=y.useState(null),[v,S]=y.useState(!1),[E,C]=y.useState(null);y.useEffect(()=>{T()},[t,n]);const T=async()=>{try{d(!0),p({id:t,title:"Tourne collecte fvrier",date:new Date(2025,1,15).toISOString(),description:"Tourne de collecte bi-mensuelle",type:"TOURNEE"}),x({id:n,prenom:"Jean",nom:"Dupont",email:"jean@retrobus.fr"})}catch(M){console.error("Fetch error:",M),C("Impossible de charger les informations")}finally{d(!1)}},A=async M=>{try{if(d(!0),!(await fetch(`${see}/api/planning/attendance/${t}/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmed:M})})).ok)throw new Error("Failed");S(!0),i({status:"success",title:M?"Prsence confirme !":"Absence enregistre",duration:3e3}),setTimeout(()=>r("/"),2e3)}catch(R){i({status:"error",title:"Erreur",description:R.message})}finally{d(!1)}};if(u)return e.jsx(jn,{p:6,children:e.jsx(hn,{size:"xl"})});if(E)return e.jsx(jn,{p:6,minH:"100vh",children:e.jsxs(Ut,{status:"error",borderRadius:"lg",children:[e.jsx(Ht,{}),E]})});if(v)return e.jsx(jn,{p:6,minH:"100vh",children:e.jsx(Ne,{bg:l,maxW:"500px",w:"100%",children:e.jsxs(Ie,{textAlign:"center",py:10,children:[e.jsxs(ue,{mb:4,children:[e.jsx(ue,{fontSize:"60px",mb:4,children:""}),e.jsx(De,{size:"lg",mb:2,children:"Merci !"}),e.jsx(k,{color:"gray.600",children:"Votre rponse a t enregistre."})]}),e.jsx(te,{mt:6,onClick:()=>r("/"),children:"Retourner  l'accueil"})]})})});const D=new Date(g.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(jn,{p:6,minH:"100vh",bg:"gray.50",children:e.jsxs(Ne,{bg:l,maxW:"600px",w:"100%",boxShadow:"xl",borderRadius:"xl",children:[e.jsx(Dt,{p:8,borderBottomWidth:"1px",children:e.jsxs(ie,{spacing:4,align:"center",children:[e.jsx(ue,{fontSize:"48px",children:""}),e.jsx(De,{size:"lg",textAlign:"center",children:"Confirmation de prsence"}),e.jsxs(k,{color:"gray.600",textAlign:"center",children:["Bonjour ",m?.prenom," ",m?.nom]})]})}),e.jsx(Ie,{p:8,children:e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(ue,{bg:"blue.50",p:4,borderRadius:"lg",borderLeft:"4px",borderLeftColor:"blue.500",children:[e.jsxs(oe,{spacing:3,mb:2,children:[e.jsx(pi,{size:20,color:"#3b82f6"}),e.jsx(De,{size:"sm",children:g?.title})]}),e.jsx(k,{fontSize:"sm",color:"gray.600",mb:2,children:D}),g?.description&&e.jsx(k,{fontSize:"sm",children:g.description})]}),e.jsxs(ie,{spacing:3,pt:4,children:[e.jsx(k,{fontWeight:"600",textAlign:"center",children:"Confirmer votre prsence ?"}),e.jsxs(oe,{spacing:3,w:"100%",children:[e.jsx(te,{leftIcon:e.jsx(wx,{}),colorScheme:"green",size:"lg",flex:"1",onClick:()=>A(!0),isLoading:u,children:" Je serai prsent"}),e.jsx(te,{leftIcon:e.jsx(Np,{}),colorScheme:"red",size:"lg",flex:"1",variant:"outline",onClick:()=>A(!1),isLoading:u,children:" Je ne pourrai pas"})]})]}),e.jsx(ue,{pt:4,borderTopWidth:"1px",children:e.jsxs(k,{fontSize:"xs",color:"gray.500",textAlign:"center",children:["Votre email: ",m?.email]})})]})})]})})}const YT={confirmed:{label:"Confirmer ma prsence",color:"green",icon:""},declined:{label:"Refuser",color:"red",icon:""},proposed_reschedule:{label:"Proposer un report",color:"orange",icon:""}};function oee(){const t=mn(),{isOpen:n,onOpen:r,onClose:i}=Nt(),[l,u]=y.useState([]),[d,g]=y.useState(!0),[p,m]=y.useState(null),[x,v]=y.useState("confirmed"),[S,E]=y.useState(""),[C,T]=y.useState(""),[A,D]=y.useState(!1);y.useEffect(()=>{M()},[]);const M=async()=>{try{g(!0);const O=await ps("/api/planning/my-invitations");Array.isArray(O)?u(O):u([])}catch(O){console.error("Erreur chargement invitations:",O),t({title:"Erreur",description:"Impossible de charger les invitations",status:"error",duration:3}),u([])}finally{g(!1)}},R=async()=>{if(p)try{D(!0);const O={participantId:p.participantId,status:x,rescheduleProposal:x==="proposed_reschedule"?S:null,rescheduleReason:x==="proposed_reschedule"?C:null},G=await ps(`/api/planning/respond-invitation/${p.planningId}/${p.participantId}`,{method:"POST",body:JSON.stringify(O)});if(G.success)t({title:"Succs",description:`Votre rponse a t enregistre: ${YT[x].label}`,status:"success",duration:3}),u(q=>q.map(ce=>ce.participantId===p.participantId?{...ce,status:x}:ce)),i();else throw new Error(G.error||"Erreur lors de la soumission")}catch(O){console.error("Erreur rponse:",O),t({title:"Erreur",description:O.message||"Impossible de soumettre votre rponse",status:"error",duration:3})}finally{D(!1)}},P=O=>({pending:"yellow",confirmed:"green",declined:"red",proposed_reschedule:"orange"})[O]||"gray",z=O=>({pending:"En attente de rponse",confirmed:"Confirm",declined:"Refus",proposed_reschedule:"Report propos"})[O]||O;return e.jsx(Dl,{children:e.jsxs(Os,{maxW:"container.lg",py:8,children:[e.jsxs(ie,{spacing:6,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(De,{size:"lg",mb:2,children:" Mes Invitations"}),e.jsxs(k,{color:"gray.600",children:["Vous avez ",l.length," invitation",l.length!==1?"s":""]})]}),d?e.jsx(k,{children:"Chargement..."}):l.length===0?e.jsx(Ne,{children:e.jsx(Ie,{children:e.jsx(k,{textAlign:"center",color:"gray.500",children:"Vous n'avez pas d'invitations en attente"})})}):e.jsx(ie,{spacing:4,children:l.map(O=>e.jsx(Ne,{w:"full",children:e.jsx(Ie,{children:e.jsxs(ie,{align:"start",spacing:3,w:"full",children:[e.jsxs(er,{w:"full",justify:"space-between",align:"start",children:[e.jsxs(ie,{align:"start",flex:1,spacing:2,children:[e.jsx(De,{size:"md",children:O.eventTitle}),e.jsx(k,{fontSize:"sm",color:"gray.600",children:O.eventType?`Type: ${O.eventType}`:""}),e.jsxs(oe,{spacing:4,fontSize:"sm",children:[e.jsxs(k,{children:[" ",new Date(O.eventDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),e.jsxs(k,{children:[" ",O.eventStartTime||"Heure non dfinie"]})]}),O.eventLocation&&e.jsxs(k,{fontSize:"sm",color:"gray.600",children:[" ",O.eventLocation]}),O.eventDescription&&e.jsx(k,{fontSize:"sm",color:"gray.600",noOfLines:2,children:O.eventDescription})]}),e.jsx(et,{colorScheme:P(O.status),ml:4,textTransform:"capitalize",children:z(O.status)})]}),O.status==="pending"&&e.jsxs(oe,{spacing:2,pt:2,borderTop:"1px solid",borderColor:"gray.200",w:"full",children:[e.jsx(te,{size:"sm",colorScheme:"green",onClick:()=>{m(O),v("confirmed"),r()},children:" Confirmer"}),e.jsx(te,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>{m(O),v("declined"),r()},children:" Refuser"}),e.jsx(te,{size:"sm",colorScheme:"orange",variant:"outline",onClick:()=>{m(O),v("proposed_reschedule"),r()},children:" Reporter"})]}),O.status==="proposed_reschedule"&&O.rescheduleProposal&&e.jsxs(ue,{fontSize:"sm",p:2,bg:"orange.50",borderRadius:"md",w:"full",children:[e.jsxs(k,{fontWeight:"bold",color:"orange.700",children:["Report propos au: ",new Date(O.rescheduleProposal).toLocaleDateString("fr-FR")]}),O.rescheduleReason&&e.jsx(k,{color:"orange.700",children:O.rescheduleReason})]})]})})},O.participantId))})]}),e.jsxs(Ct,{isOpen:n,onClose:i,size:"lg",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:p&&`Rpondre : ${p.eventTitle}`}),e.jsx(Bt,{}),e.jsx(wt,{pb:6,children:e.jsxs(ie,{spacing:4,children:[x==="proposed_reschedule"&&e.jsxs(e.Fragment,{children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Date propose"}),e.jsx(ye,{type:"date",value:S,onChange:O=>E(O.target.value)})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Raison du report"}),e.jsx(Yt,{value:C,onChange:O=>T(O.target.value),placeholder:"Expliquez pourquoi vous proposez ce report...",rows:4})]})]}),x==="declined"&&e.jsxs(ee,{children:[e.jsx(J,{children:"Motif du refus (optionnel)"}),e.jsx(Yt,{value:C,onChange:O=>T(O.target.value),placeholder:"Expliquez pourquoi vous refusez cette invitation...",rows:4})]}),e.jsxs(oe,{w:"full",pt:4,children:[e.jsx(te,{flex:1,colorScheme:x==="confirmed"?"green":x==="declined"?"red":"orange",isLoading:A,onClick:R,children:YT[x].label}),e.jsx(te,{flex:1,variant:"outline",onClick:i,isDisabled:A,children:"Annuler"})]})]})})]})]})]})})}function aee(){const t=mn(),{isOpen:n,onOpen:r,onClose:i}=Nt(),{isOpen:l,onOpen:u,onClose:d}=Nt(),[g,p]=y.useState([]),[m,x]=y.useState(!1),[v,S]=y.useState(null),[E,C]=y.useState({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),[T,A]=y.useState(null),D=y.useCallback(async()=>{try{x(!0);const q=await Pt.get("/api/retro-requests");q.requests&&p(q.requests)}catch(q){console.error("Erreur chargement:",q),t({title:"Erreur",description:"Impossible de charger les demandes",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},[t]);y.useEffect(()=>{D()},[D]);const M=async q=>{if(q.preventDefault(),!E.title.trim()||!E.description.trim()){t({title:"Erreur",description:"Titre et description requis",status:"warning",duration:3e3,isClosable:!0});return}try{x(!0);let ce;if(T)ce=await Pt.put(`/api/retro-requests/${T}`,E),p(g.map(he=>he.id===T?ce:he)),t({title:"Succs",description:"Demande mise  jour",status:"success",duration:3e3,isClosable:!0});else{ce=await Pt.post("/api/retro-requests",E),p([ce,...g]);try{await Pt.post(`/api/retro-requests/${ce.id}/send-emails`,{title:E.title,description:E.description,category:E.category,priority:E.priority})}catch(he){console.error("Erreur envoi emails:",he)}t({title:"Succs",description:"Demande cre et email envoy",status:"success",duration:3e3,isClosable:!0})}C({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),A(null),i()}catch(ce){t({title:"Erreur",description:ce.response?.data?.error||"Erreur lors de la soumission",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},R=()=>{A(null),C({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),r()},P=q=>{if(q.status!=="PENDING"){t({title:"Impossible",description:"Seules les demandes en attente peuvent tre modifies",status:"warning",duration:3e3,isClosable:!0});return}A(q.id),C({title:q.title,description:q.description,category:q.category,priority:q.priority}),r()},z=async q=>{if(window.confirm("tes-vous sr?"))try{await Pt.delete(`/api/retro-requests/${q}`),p(g.filter(ce=>ce.id!==q)),t({title:"Succs",description:"Demande supprime",status:"success",duration:3e3,isClosable:!0})}catch(ce){t({title:"Erreur",description:ce.response?.data?.error||"Erreur suppression",status:"error",duration:5e3,isClosable:!0})}},O=q=>{S(q),u()},G=q=>{const he={PENDING:{label:"En attente",colorScheme:"yellow"},UNDER_REVIEW:{label:"En examen",colorScheme:"blue"},QUOTED:{label:"Devis reu",colorScheme:"purple"},ACCEPTED:{label:"Accept",colorScheme:"green"},REFUSED:{label:"Refus",colorScheme:"red"},COMPLETED:{label:"Complt",colorScheme:"gray"}}[q]||{label:q,colorScheme:"gray"};return e.jsx(et,{colorScheme:he.colorScheme,children:he.label})};return e.jsxs(Dl,{title:"RtroDemandes",subtitle:"Grez vos demandes et consultez vos devis",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"RtroDemandes",href:"/dashboard/retro-requests"}],children:[e.jsx(Os,{maxW:"7xl",py:8,children:e.jsx(Ne,{children:e.jsx(Dt,{children:e.jsxs(ao,{variant:"soft-rounded",colorScheme:"blue",defaultIndex:0,children:[e.jsxs(lo,{children:[e.jsx(ln,{children:"Crer une demande"}),e.jsxs(ln,{children:["Mes demandes (",g.length,")"]})]}),e.jsxs(Bo,{children:[e.jsx(cn,{children:e.jsx(ue,{pt:4,children:e.jsxs(ie,{spacing:4,align:"stretch",as:"form",onSubmit:M,children:[e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Titre de la demande"}),e.jsx(ye,{placeholder:"Ex: Rvision complte",value:E.title,onChange:q=>C({...E,title:q.target.value})})]}),e.jsxs(ee,{isRequired:!0,children:[e.jsx(J,{children:"Description dtaille"}),e.jsx(Yt,{placeholder:"Dcrivez votre demande en dtail...",value:E.description,onChange:q=>C({...E,description:q.target.value}),minH:"200px"})]}),e.jsxs(Xs,{templateColumns:"1fr 1fr",gap:4,children:[e.jsxs(ee,{children:[e.jsx(J,{children:"Catgorie"}),e.jsxs(lt,{value:E.category,onChange:q=>C({...E,category:q.target.value}),children:[e.jsx("option",{value:"GENERAL",children:"Gnral"}),e.jsx("option",{value:"REPAIR",children:"Rparation"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"SERVICE",children:"Service"}),e.jsx("option",{value:"CUSTOM",children:"Personnalis"})]})]}),e.jsxs(ee,{children:[e.jsx(J,{children:"Priorit"}),e.jsxs(lt,{value:E.priority,onChange:q=>C({...E,priority:q.target.value}),children:[e.jsx("option",{value:"LOW",children:"Basse"}),e.jsx("option",{value:"NORMAL",children:"Normal"}),e.jsx("option",{value:"HIGH",children:"leve"}),e.jsx("option",{value:"URGENT",children:"Urgent"})]})]})]}),e.jsxs(oe,{spacing:3,justify:"flex-end",children:[e.jsx(te,{variant:"outline",onClick:()=>C({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),children:"Annuler"}),e.jsx(te,{colorScheme:"blue",type:"submit",isLoading:m,children:"Crer"})]})]})})}),e.jsx(cn,{children:e.jsx(ue,{pt:4,children:m&&g.length===0?e.jsx(er,{justify:"center",py:10,children:e.jsx(hn,{})}):g.length===0?e.jsxs(ue,{textAlign:"center",py:10,color:"gray.500",children:[e.jsx(k,{mb:4,children:"Aucune demande pour le moment"}),e.jsx(te,{colorScheme:"blue",size:"sm",onClick:R,children:"Crer une demande"})]}):e.jsxs(dr,{size:"sm",variant:"striped",children:[e.jsx(mr,{children:e.jsxs(Ft,{children:[e.jsx($e,{children:"Titre"}),e.jsx($e,{children:"Catgorie"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Date"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:g.map(q=>e.jsxs(Ft,{children:[e.jsx(Le,{fontWeight:"medium",children:q.title}),e.jsx(Le,{fontSize:"sm",children:q.category}),e.jsx(Le,{children:G(q.status)}),e.jsx(Le,{fontSize:"sm",children:new Date(q.createdAt).toLocaleDateString()}),e.jsx(Le,{children:e.jsxs(oe,{spacing:2,children:[e.jsx(xt,{icon:e.jsx(em,{}),size:"sm",variant:"ghost",onClick:()=>O(q),title:"Voir dtails"}),q.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx(xt,{icon:e.jsx(x1,{}),size:"sm",variant:"ghost",colorScheme:"blue",onClick:()=>P(q),title:"diter"}),e.jsx(xt,{icon:e.jsx(av,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>z(q.id),title:"Supprimer"})]})]})})]},q.id))})]})})})]})]})})})}),e.jsxs(Ct,{isOpen:l,onClose:d,size:"2xl",children:[e.jsx(Tt,{}),e.jsxs(kt,{children:[e.jsx(_t,{children:"Dtails de la demande"}),e.jsx(Bt,{}),e.jsx(wt,{children:v&&e.jsxs(ie,{spacing:4,align:"start",width:"100%",children:[e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",children:"Titre:"}),e.jsx(k,{children:v.title})]}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",children:"Description:"}),e.jsx(k,{whiteSpace:"pre-wrap",children:v.description})]}),e.jsxs(oe,{spacing:8,children:[e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:"Catgorie:"}),e.jsx(k,{children:v.category})]}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:"Priorit:"}),e.jsx(k,{children:v.priority})]}),e.jsxs(ue,{children:[e.jsx(k,{fontWeight:"bold",fontSize:"sm",children:"Statut:"}),G(v.status)]})]})]})})]})]})]})}function lee(){const t=mn(),[n,r]=y.useState([]),[i,l]=y.useState({PENDING:0,IN_PROGRESS:0,COMPLETED:0,CANCELLED:0}),[u,d]=y.useState(!1),[g,p]=y.useState(null),m=y.useCallback(async()=>{try{d(!0);const E=await Pt.get("/api/president/retro-requests");E.requests&&(r(E.requests),E.statusCount&&l(E.statusCount))}catch(E){console.error("Erreur chargement:",E),t({title:"Erreur",description:"Impossible de charger les demandes",status:"error",duration:5e3,isClosable:!0})}finally{d(!1)}},[t]);y.useEffect(()=>{m();const E=setInterval(m,3e4);return()=>clearInterval(E)},[m]);const x=E=>({PENDING:"orange",IN_PROGRESS:"blue",COMPLETED:"green",CANCELLED:"red"})[E]||"gray",v=E=>({PENDING:"En attente",IN_PROGRESS:"En cours",COMPLETED:"Termin",CANCELLED:"Annul"})[E]||E,S=g?n.filter(E=>E.status===g):n;return e.jsx(Dl,{children:e.jsx(Os,{maxW:"7xl",py:8,children:e.jsxs(ie,{spacing:8,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(De,{as:"h1",size:"xl",mb:2,children:" Rcapitulatif des Demandes"}),e.jsx(k,{color:"gray.600",children:"Suivi global de toutes les RtroDemandes de l'association"})]}),e.jsxs(Xs,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,children:[e.jsx(Ne,{bg:"orange.50",border:"2px solid",borderColor:"orange.200",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"En attente"}),e.jsx(yt,{color:"orange.600",children:i.PENDING})]})})}),e.jsx(Ne,{bg:"blue.50",border:"2px solid",borderColor:"blue.200",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"En cours"}),e.jsx(yt,{color:"blue.600",children:i.IN_PROGRESS})]})})}),e.jsx(Ne,{bg:"green.50",border:"2px solid",borderColor:"green.200",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Termines"}),e.jsx(yt,{color:"green.600",children:i.COMPLETED})]})})}),e.jsx(Ne,{bg:"red.50",border:"2px solid",borderColor:"red.200",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Annules"}),e.jsx(yt,{color:"red.600",children:i.CANCELLED})]})})}),e.jsx(Ne,{bg:"gray.50",border:"2px solid",borderColor:"gray.200",children:e.jsx(Ie,{children:e.jsxs(jt,{children:[e.jsx(bt,{children:"Total"}),e.jsx(yt,{color:"gray.700",children:Object.values(i).reduce((E,C)=>E+C,0)})]})})})]}),e.jsxs(oe,{spacing:2,flexWrap:"wrap",children:[e.jsx(k,{fontWeight:"bold",children:"Filtrer par statut:"}),e.jsxs(te,{size:"sm",variant:g===null?"solid":"outline",onClick:()=>p(null),colorScheme:"gray",children:["Tous (",n.length,")"]}),e.jsx(te,{size:"sm",variant:g==="PENDING"?"solid":"outline",onClick:()=>p("PENDING"),colorScheme:"orange",children:"En attente"}),e.jsx(te,{size:"sm",variant:g==="IN_PROGRESS"?"solid":"outline",onClick:()=>p("IN_PROGRESS"),colorScheme:"blue",children:"En cours"}),e.jsx(te,{size:"sm",variant:g==="COMPLETED"?"solid":"outline",onClick:()=>p("COMPLETED"),colorScheme:"green",children:"Termines"}),e.jsx(te,{size:"sm",variant:g==="CANCELLED"?"solid":"outline",onClick:()=>p("CANCELLED"),colorScheme:"red",children:"Annules"})]}),e.jsxs(Ne,{children:[e.jsx(Dt,{children:e.jsxs(er,{justify:"space-between",align:"center",children:[e.jsxs(De,{size:"md",children:["Demandes (",S.length,")"]}),e.jsx(te,{size:"sm",leftIcon:e.jsx(PP,{}),colorScheme:"blue",onClick:()=>{const E=["id","number","status","createdAt","userId","title","totalQuotes"],C=S.map(R=>[R.id,R.number||"",R.status||"",R.createdAt?new Date(R.createdAt).toISOString():"",R.userId||"",(R.title||"").replace(/\r?\n/g," "),R.quotes?R.quotes.length:0]),T=[E.join(","),...C.map(R=>R.map(P=>`"${String(P).replace(/"/g,'""')}"`).join(","))].join(`
`),A=new Blob([T],{type:"text/csv;charset=utf-8;"}),D=URL.createObjectURL(A),M=document.createElement("a");M.href=D,M.download=`retro_requests_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(M),M.click(),M.remove(),URL.revokeObjectURL(D)},children:"Exporter"})]})}),e.jsx(vn,{}),e.jsx(Ie,{children:u?e.jsx(er,{justify:"center",align:"center",py:10,children:e.jsx(hn,{size:"lg"})}):S.length===0?e.jsx(k,{textAlign:"center",color:"gray.500",py:10,children:"Aucune demande  afficher"}):e.jsx(ue,{overflowX:"auto",children:e.jsxs(dr,{size:"sm",variant:"striped",children:[e.jsx(mr,{children:e.jsxs(Ft,{bg:"gray.50",children:[e.jsx($e,{children:"ID"}),e.jsx($e,{children:"Auteur"}),e.jsx($e,{children:"Titre"}),e.jsx($e,{children:"Catgorie"}),e.jsx($e,{children:"Priorit"}),e.jsx($e,{children:"Statut"}),e.jsx($e,{children:"Cre le"}),e.jsx($e,{children:"Devis"}),e.jsx($e,{children:"Actions"})]})}),e.jsx(pr,{children:S.map(E=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsxs(Le,{fontSize:"xs",fontFamily:"mono",children:[E.id.slice(0,8),"..."]}),e.jsxs(Le,{children:[e.jsx(k,{fontSize:"sm",children:E.userName||"N/A"}),e.jsx(k,{fontSize:"xs",color:"gray.500",children:E.userEmail||"N/A"})]}),e.jsx(Le,{children:e.jsx(k,{fontWeight:"medium",noOfLines:2,children:E.title})}),e.jsx(Le,{children:e.jsx(et,{fontSize:"xs",children:E.category||"N/A"})}),e.jsx(Le,{children:e.jsx(et,{fontSize:"xs",colorScheme:E.priority==="HIGH"?"red":E.priority==="MEDIUM"?"yellow":"green",children:E.priority||"NORMAL"})}),e.jsx(Le,{children:e.jsx(et,{colorScheme:x(E.status),children:v(E.status)})}),e.jsx(Le,{fontSize:"xs",children:new Date(E.createdAt).toLocaleDateString("fr-FR")}),e.jsx(Le,{children:E.quotes&&E.quotes.length>0?e.jsx(et,{colorScheme:"green",children:E.quotes.length}):e.jsx(k,{fontSize:"xs",color:"gray.500",children:"0"})}),e.jsx(Le,{children:e.jsx(te,{size:"xs",leftIcon:e.jsx(em,{}),variant:"ghost",children:"Voir"})})]},E.id))})]})})})]})]})})})}function cee(){const{isAuthenticated:t}=xs(),n=aa();console.log(" Current route:",n.pathname);const r=t&&n.pathname!=="/login";return e.jsxs(e.Fragment,{children:[r&&e.jsx(fX,{}),e.jsxs(kI,{children:[e.jsx(Wn,{path:"/login",element:e.jsx(FJ,{})}),e.jsx(Wn,{path:"/dashboard/home",element:e.jsx(fl,{children:e.jsx(Yy,{})})}),e.jsx(Wn,{path:"/dashboard/myrbe",element:e.jsx(fl,{children:e.jsx(_Q,{})})}),e.jsx(Wn,{path:"/dashboard/myrbe/:parc",element:e.jsx(fl,{children:e.jsx(AQ,{})})}),e.jsx(Wn,{path:"/dashboard/retro-requests",element:e.jsx(fl,{children:e.jsx(aee,{})})}),e.jsx(Wn,{path:"/dashboard/president/retro-requests",element:e.jsx(rs,{allowedRoles:["PRESIDENT","ADMIN"],children:e.jsx(lee,{})})}),e.jsx(Wn,{path:"/admin/finance",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(IQ,{})})}),e.jsx(Wn,{path:"/dashboard/vehicules",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(eQ,{})})}),e.jsx(Wn,{path:"/dashboard/vehicules/ajouter",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(HX,{children:e.jsx(cQ,{})})})}),e.jsx(Wn,{path:"/dashboard/vehicules/:parc",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(pQ,{})})}),e.jsx(Wn,{path:"/dashboard/evenements",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(zQ,{})})}),e.jsx(Wn,{path:"/dashboard/events-management",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(hJ,{})})}),e.jsx(Wn,{path:"/dashboard/events-creation",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(pJ,{})})}),e.jsx(Wn,{path:"/dashboard/test-events",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(mJ,{})})}),e.jsx(Wn,{path:"/dashboard/site-management",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Ce.SITE_MANAGEMENT,children:e.jsx(MJ,{})})})}),e.jsx(Wn,{path:"/dashboard/flash-management",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(IJ,{})})}),e.jsx(Wn,{path:"/dashboard/retromerch",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(tee,{})})}),e.jsx(Wn,{path:"/dashboard/stock-management",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(NJ,{})})}),e.jsx(Wn,{path:"/dashboard/members-management",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(QJ,{})})}),e.jsx(Wn,{path:"/members",element:e.jsx(fl,{children:e.jsx(GJ,{})})}),e.jsx(Wn,{path:"/adhesion",element:e.jsx(fl,{children:e.jsx(LJ,{})})}),e.jsx(Wn,{path:"/dashboard/newsletter",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(VJ,{})})}),e.jsx(Wn,{path:"/dashboard/newsletter-campaigns",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(UJ,{})})}),e.jsx(Wn,{path:"/dashboard/retroplanning",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Ce.RETROPLANNING,children:e.jsx(ree,{})})})}),e.jsx(Wn,{path:"/planning/attendance/:eventId/:memberId",element:e.jsx(iee,{})}),e.jsx(Wn,{path:"/planning/my-invitations",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Ce.RETROPLANNING_RESPOND,children:e.jsx(oee,{})})})}),e.jsx(Wn,{path:"/dashboard/support",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Ce.RETROSUPPORT,children:e.jsx(eee,{})})})}),e.jsx(Wn,{path:"/retromail",element:e.jsx(rs,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(PQ,{})})}),e.jsx(Wn,{path:"/mobile/v/:parc",element:e.jsx(fl,{children:e.jsx(sQ,{})})}),e.jsx(Wn,{path:"/",element:e.jsx(fl,{children:e.jsx(Yy,{})})}),e.jsx(Wn,{path:"*",element:e.jsx(fl,{children:e.jsx(Yy,{})})})]})]})}$N.createRoot(document.getElementById("root")).render(e.jsx(dn.StrictMode,{children:e.jsx(qU,{theme:CK,children:e.jsx(ez,{children:e.jsx(DK,{children:e.jsx(cee,{})})})})}));
