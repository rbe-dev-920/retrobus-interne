function PN(t,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function RN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var r=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),r}var lb={exports:{}},T0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function NN(){if(mE)return T0;mE=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:s,key:d,ref:i!==void 0?i:null,props:l}}return T0.Fragment=n,T0.jsx=r,T0.jsxs=r,T0}var gE;function ON(){return gE||(gE=1,lb.exports=NN()),lb.exports}var e=ON(),cb={exports:{}},ms={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function UN(){if(vE)return ms;vE=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),a=Symbol.for("react.lazy"),m=Symbol.iterator;function v(oe){return oe===null||typeof oe!="object"?null:(oe=m&&oe[m]||oe["@@iterator"],typeof oe=="function"?oe:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function b(oe,he,$){this.props=oe,this.context=he,this.refs=w,this.updater=$||g}b.prototype.isReactComponent={},b.prototype.setState=function(oe,he){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,he,"setState")},b.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function S(){}S.prototype=b.prototype;function C(oe,he,$){this.props=oe,this.context=he,this.refs=w,this.updater=$||g}var B=C.prototype=new S;B.constructor=C,x(B,b.prototype),B.isPureReactComponent=!0;var F=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function z(oe,he,$,M,ee,re){return $=re.ref,{$$typeof:t,type:oe,key:he,ref:$!==void 0?$:null,props:re}}function k(oe,he){return z(oe.type,he,void 0,void 0,void 0,oe.props)}function K(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===t}function se(oe){var he={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function($){return he[$]})}var V=/\/+/g;function q(oe,he){return typeof oe=="object"&&oe!==null&&oe.key!=null?se(""+oe.key):he.toString(36)}function le(){}function ae(oe){switch(oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason;default:switch(typeof oe.status=="string"?oe.then(le,le):(oe.status="pending",oe.then(function(he){oe.status==="pending"&&(oe.status="fulfilled",oe.value=he)},function(he){oe.status==="pending"&&(oe.status="rejected",oe.reason=he)})),oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason}}throw oe}function ie(oe,he,$,M,ee){var re=typeof oe;(re==="undefined"||re==="boolean")&&(oe=null);var me=!1;if(oe===null)me=!0;else switch(re){case"bigint":case"string":case"number":me=!0;break;case"object":switch(oe.$$typeof){case t:case n:me=!0;break;case a:return me=oe._init,ie(me(oe._payload),he,$,M,ee)}}if(me)return ee=ee(oe),me=M===""?"."+q(oe,0):M,F(ee)?($="",me!=null&&($=me.replace(V,"$&/")+"/"),ie(ee,he,$,"",function(Ne){return Ne})):ee!=null&&(K(ee)&&(ee=k(ee,$+(ee.key==null||oe&&oe.key===ee.key?"":(""+ee.key).replace(V,"$&/")+"/")+me)),he.push(ee)),1;me=0;var De=M===""?".":M+":";if(F(oe))for(var Ue=0;Ue<oe.length;Ue++)M=oe[Ue],re=De+q(M,Ue),me+=ie(M,he,$,re,ee);else if(Ue=v(oe),typeof Ue=="function")for(oe=Ue.call(oe),Ue=0;!(M=oe.next()).done;)M=M.value,re=De+q(M,Ue++),me+=ie(M,he,$,re,ee);else if(re==="object"){if(typeof oe.then=="function")return ie(ae(oe),he,$,M,ee);throw he=String(oe),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return me}function J(oe,he,$){if(oe==null)return oe;var M=[],ee=0;return ie(oe,M,"","",function(re){return he.call($,re,ee++)}),M}function G(oe){if(oe._status===-1){var he=oe._result;he=he(),he.then(function($){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=$)},function($){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=$)}),oe._status===-1&&(oe._status=0,oe._result=he)}if(oe._status===1)return oe._result.default;throw oe._result}var W=typeof reportError=="function"?reportError:function(oe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof oe=="object"&&oe!==null&&typeof oe.message=="string"?String(oe.message):String(oe),error:oe});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",oe);return}console.error(oe)};function pe(){}return ms.Children={map:J,forEach:function(oe,he,$){J(oe,function(){he.apply(this,arguments)},$)},count:function(oe){var he=0;return J(oe,function(){he++}),he},toArray:function(oe){return J(oe,function(he){return he})||[]},only:function(oe){if(!K(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}},ms.Component=b,ms.Fragment=r,ms.Profiler=i,ms.PureComponent=C,ms.StrictMode=s,ms.Suspense=u,ms.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ms.__COMPILER_RUNTIME={__proto__:null,c:function(oe){return N.H.useMemoCache(oe)}},ms.cache=function(oe){return function(){return oe.apply(null,arguments)}},ms.cloneElement=function(oe,he,$){if(oe==null)throw Error("The argument must be a React element, but you passed "+oe+".");var M=x({},oe.props),ee=oe.key,re=void 0;if(he!=null)for(me in he.ref!==void 0&&(re=void 0),he.key!==void 0&&(ee=""+he.key),he)!Q.call(he,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&he.ref===void 0||(M[me]=he[me]);var me=arguments.length-2;if(me===1)M.children=$;else if(1<me){for(var De=Array(me),Ue=0;Ue<me;Ue++)De[Ue]=arguments[Ue+2];M.children=De}return z(oe.type,ee,void 0,void 0,re,M)},ms.createContext=function(oe){return oe={$$typeof:d,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null},oe.Provider=oe,oe.Consumer={$$typeof:l,_context:oe},oe},ms.createElement=function(oe,he,$){var M,ee={},re=null;if(he!=null)for(M in he.key!==void 0&&(re=""+he.key),he)Q.call(he,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ee[M]=he[M]);var me=arguments.length-2;if(me===1)ee.children=$;else if(1<me){for(var De=Array(me),Ue=0;Ue<me;Ue++)De[Ue]=arguments[Ue+2];ee.children=De}if(oe&&oe.defaultProps)for(M in me=oe.defaultProps,me)ee[M]===void 0&&(ee[M]=me[M]);return z(oe,re,void 0,void 0,null,ee)},ms.createRef=function(){return{current:null}},ms.forwardRef=function(oe){return{$$typeof:f,render:oe}},ms.isValidElement=K,ms.lazy=function(oe){return{$$typeof:a,_payload:{_status:-1,_result:oe},_init:G}},ms.memo=function(oe,he){return{$$typeof:h,type:oe,compare:he===void 0?null:he}},ms.startTransition=function(oe){var he=N.T,$={};N.T=$;try{var M=oe(),ee=N.S;ee!==null&&ee($,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(pe,W)}catch(re){W(re)}finally{N.T=he}},ms.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ms.use=function(oe){return N.H.use(oe)},ms.useActionState=function(oe,he,$){return N.H.useActionState(oe,he,$)},ms.useCallback=function(oe,he){return N.H.useCallback(oe,he)},ms.useContext=function(oe){return N.H.useContext(oe)},ms.useDebugValue=function(){},ms.useDeferredValue=function(oe,he){return N.H.useDeferredValue(oe,he)},ms.useEffect=function(oe,he,$){var M=N.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(oe,he)},ms.useId=function(){return N.H.useId()},ms.useImperativeHandle=function(oe,he,$){return N.H.useImperativeHandle(oe,he,$)},ms.useInsertionEffect=function(oe,he){return N.H.useInsertionEffect(oe,he)},ms.useLayoutEffect=function(oe,he){return N.H.useLayoutEffect(oe,he)},ms.useMemo=function(oe,he){return N.H.useMemo(oe,he)},ms.useOptimistic=function(oe,he){return N.H.useOptimistic(oe,he)},ms.useReducer=function(oe,he,$){return N.H.useReducer(oe,he,$)},ms.useRef=function(oe){return N.H.useRef(oe)},ms.useState=function(oe){return N.H.useState(oe)},ms.useSyncExternalStore=function(oe,he,$){return N.H.useSyncExternalStore(oe,he,$)},ms.useTransition=function(){return N.H.useTransition()},ms.version="19.1.1",ms}var xE;function IS(){return xE||(xE=1,cb.exports=UN()),cb.exports}var T=IS();const xs=qv(T),yE=PN({__proto__:null,default:xs},[T]);var ub={exports:{}},I0={},Ab={exports:{}},db={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function MN(){return jE||(jE=1,(function(t){function n(J,G){var W=J.length;J.push(G);e:for(;0<W;){var pe=W-1>>>1,oe=J[pe];if(0<i(oe,G))J[pe]=G,J[W]=oe,W=pe;else break e}}function r(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var G=J[0],W=J.pop();if(W!==G){J[0]=W;e:for(var pe=0,oe=J.length,he=oe>>>1;pe<he;){var $=2*(pe+1)-1,M=J[$],ee=$+1,re=J[ee];if(0>i(M,W))ee<oe&&0>i(re,M)?(J[pe]=re,J[ee]=W,pe=ee):(J[pe]=M,J[$]=W,pe=$);else if(ee<oe&&0>i(re,W))J[pe]=re,J[ee]=W,pe=ee;else break e}}return G}function i(J,G){var W=J.sortIndex-G.sortIndex;return W!==0?W:J.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var u=[],h=[],a=1,m=null,v=3,g=!1,x=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function F(J){for(var G=r(h);G!==null;){if(G.callback===null)s(h);else if(G.startTime<=J)s(h),G.sortIndex=G.expirationTime,n(u,G);else break;G=r(h)}}function N(J){if(w=!1,F(J),!x)if(r(u)!==null)x=!0,Q||(Q=!0,q());else{var G=r(h);G!==null&&ie(N,G.startTime-J)}}var Q=!1,z=-1,k=5,K=-1;function se(){return b?!0:!(t.unstable_now()-K<k)}function V(){if(b=!1,Q){var J=t.unstable_now();K=J;var G=!0;try{e:{x=!1,w&&(w=!1,C(z),z=-1),g=!0;var W=v;try{t:{for(F(J),m=r(u);m!==null&&!(m.expirationTime>J&&se());){var pe=m.callback;if(typeof pe=="function"){m.callback=null,v=m.priorityLevel;var oe=pe(m.expirationTime<=J);if(J=t.unstable_now(),typeof oe=="function"){m.callback=oe,F(J),G=!0;break t}m===r(u)&&s(u),F(J)}else s(u);m=r(u)}if(m!==null)G=!0;else{var he=r(h);he!==null&&ie(N,he.startTime-J),G=!1}}break e}finally{m=null,v=W,g=!1}G=void 0}}finally{G?q():Q=!1}}}var q;if(typeof B=="function")q=function(){B(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ae=le.port2;le.port1.onmessage=V,q=function(){ae.postMessage(null)}}else q=function(){S(V,0)};function ie(J,G){z=S(function(){J(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var W=v;v=G;try{return J()}finally{v=W}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(J,G){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var W=v;v=J;try{return G()}finally{v=W}},t.unstable_scheduleCallback=function(J,G,W){var pe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?pe+W:pe):W=pe,J){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=W+oe,J={id:a++,callback:G,priorityLevel:J,startTime:W,expirationTime:oe,sortIndex:-1},W>pe?(J.sortIndex=W,n(h,J),r(u)===null&&J===r(h)&&(w?(C(z),z=-1):w=!0,ie(N,W-pe))):(J.sortIndex=oe,n(u,J),x||g||(x=!0,Q||(Q=!0,q()))),J},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(J){var G=v;return function(){var W=v;v=G;try{return J.apply(this,arguments)}finally{v=W}}}})(db)),db}var bE;function kN(){return bE||(bE=1,Ab.exports=MN()),Ab.exports}var hb={exports:{}},uc={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function QN(){if(wE)return uc;wE=1;var t=IS();function n(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)h+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(u,h,a){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:h,implementation:a}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return uc.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,uc.createPortal=function(u,h){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return l(u,h,null,a)},uc.flushSync=function(u){var h=d.T,a=s.p;try{if(d.T=null,s.p=2,u)return u()}finally{d.T=h,s.p=a,s.d.f()}},uc.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(u,h))},uc.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},uc.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var a=h.as,m=f(a,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;a==="style"?s.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:g}):a==="script"&&s.d.X(u,{crossOrigin:m,integrity:v,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},uc.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var a=f(h.as,h.crossOrigin);s.d.M(u,{crossOrigin:a,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(u)},uc.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var a=h.as,m=f(a,h.crossOrigin);s.d.L(u,a,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},uc.preloadModule=function(u,h){if(typeof u=="string")if(h){var a=f(h.as,h.crossOrigin);s.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:a,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(u)},uc.requestFormReset=function(u){s.d.r(u)},uc.unstable_batchedUpdates=function(u,h){return u(h)},uc.useFormState=function(u,h,a){return d.H.useFormState(u,h,a)},uc.useFormStatus=function(){return d.H.useHostTransitionStatus()},uc.version="19.1.1",uc}var SE;function y3(){if(SE)return hb.exports;SE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),hb.exports=QN(),hb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function zN(){if(CE)return I0;CE=1;var t=kN(),n=IS(),r=y3();function s(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function d(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function f(o){if(l(o)!==o)throw Error(s(188))}function u(o){var c=o.alternate;if(!c){if(c=l(o),c===null)throw Error(s(188));return c!==o?null:o}for(var p=o,j=c;;){var O=p.return;if(O===null)break;var H=O.alternate;if(H===null){if(j=O.return,j!==null){p=j;continue}break}if(O.child===H.child){for(H=O.child;H;){if(H===p)return f(O),o;if(H===j)return f(O),c;H=H.sibling}throw Error(s(188))}if(p.return!==j.return)p=O,j=H;else{for(var ge=!1,Fe=O.child;Fe;){if(Fe===p){ge=!0,p=O,j=H;break}if(Fe===j){ge=!0,j=O,p=H;break}Fe=Fe.sibling}if(!ge){for(Fe=H.child;Fe;){if(Fe===p){ge=!0,p=H,j=O;break}if(Fe===j){ge=!0,j=H,p=O;break}Fe=Fe.sibling}if(!ge)throw Error(s(189))}}if(p.alternate!==j)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var a=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),B=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var le=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===le?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case Q:return"SuspenseList";case K:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case g:return"Portal";case B:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case F:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return c=o.displayName||null,c!==null?c:ae(o.type)||"Memo";case k:c=o._payload,o=o._init;try{return ae(o(c))}catch{}}return null}var ie=Array.isArray,J=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},pe=[],oe=-1;function he(o){return{current:o}}function $(o){0>oe||(o.current=pe[oe],pe[oe]=null,oe--)}function M(o,c){oe++,pe[oe]=o.current,o.current=c}var ee=he(null),re=he(null),me=he(null),De=he(null);function Ue(o,c){switch(M(me,c),M(re,o),M(ee,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?VB(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=VB(c),o=$B(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}$(ee),M(ee,o)}function Ne(){$(ee),$(re),$(me)}function Ke(o){o.memoizedState!==null&&M(De,o);var c=ee.current,p=$B(c,o.type);c!==p&&(M(re,o),M(ee,p))}function rt(o){re.current===o&&($(ee),$(re)),De.current===o&&($(De),w0._currentValue=W)}var et=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,nt=t.unstable_cancelCallback,Ee=t.unstable_shouldYield,at=t.unstable_requestPaint,Gt=t.unstable_now,Oe=t.unstable_getCurrentPriorityLevel,ce=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,Ge=t.unstable_NormalPriority,vt=t.unstable_LowPriority,_t=t.unstable_IdlePriority,Je=t.log,We=t.unstable_setDisableYieldValue,yt=null,zt=null;function ut(o){if(typeof Je=="function"&&We(o),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(yt,o)}catch{}}var Ft=Math.clz32?Math.clz32:Zt,Ct=Math.log,Ye=Math.LN2;function Zt(o){return o>>>=0,o===0?32:31-(Ct(o)/Ye|0)|0}var on=256,pn=4194304;function Tt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function nn(o,c,p){var j=o.pendingLanes;if(j===0)return 0;var O=0,H=o.suspendedLanes,ge=o.pingedLanes;o=o.warmLanes;var Fe=j&134217727;return Fe!==0?(j=Fe&~H,j!==0?O=Tt(j):(ge&=Fe,ge!==0?O=Tt(ge):p||(p=Fe&~o,p!==0&&(O=Tt(p))))):(Fe=j&~H,Fe!==0?O=Tt(Fe):ge!==0?O=Tt(ge):p||(p=j&~o,p!==0&&(O=Tt(p)))),O===0?0:c!==0&&c!==O&&(c&H)===0&&(H=O&-O,p=c&-c,H>=p||H===32&&(p&4194048)!==0)?c:O}function xt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function an(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var o=on;return on<<=1,(on&4194048)===0&&(on=256),o}function Nn(){var o=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),o}function Wn(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function jn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function rn(o,c,p,j,O,H){var ge=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var Fe=o.entanglements,qe=o.expirationTimes,Rt=o.hiddenUpdates;for(p=ge&~p;0<p;){var Yt=31-Ft(p),ln=1<<Yt;Fe[Yt]=0,qe[Yt]=-1;var Ot=Rt[Yt];if(Ot!==null)for(Rt[Yt]=null,Yt=0;Yt<Ot.length;Yt++){var Mt=Ot[Yt];Mt!==null&&(Mt.lane&=-536870913)}p&=~ln}j!==0&&Dn(o,j,0),H!==0&&O===0&&o.tag!==0&&(o.suspendedLanes|=H&~(ge&~c))}function Dn(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var j=31-Ft(c);o.entangledLanes|=c,o.entanglements[j]=o.entanglements[j]|1073741824|p&4194090}function Yn(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var j=31-Ft(p),O=1<<j;O&c|o[j]&c&&(o[j]|=c),p&=~O}}function mr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function os(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ni(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:uE(o.type))}function Mn(o,c){var p=G.p;try{return G.p=o,c()}finally{G.p=p}}var xo=Math.random().toString(36).slice(2),Us="__reactFiber$"+xo,Ys="__reactProps$"+xo,$i="__reactContainer$"+xo,On="__reactEvents$"+xo,xn="__reactListeners$"+xo,Ti="__reactHandles$"+xo,ao="__reactResources$"+xo,lo="__reactMarker$"+xo;function Es(o){delete o[Us],delete o[Ys],delete o[On],delete o[xn],delete o[Ti]}function ti(o){var c=o[Us];if(c)return c;for(var p=o.parentNode;p;){if(c=p[$i]||p[Us]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=YB(o);o!==null;){if(p=o[Us])return p;o=YB(o)}return c}o=p,p=o.parentNode}return null}function ai(o){if(o=o[Us]||o[$i]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function pi(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(s(33))}function Ii(o){var c=o[ao];return c||(c=o[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ms(o){o[lo]=!0}var Qo=new Set,La={};function zo(o,c){Ho(o,c),Ho(o+"Capture",c)}function Ho(o,c){for(La[o]=c,o=0;o<c.length;o++)Qo.add(c[o])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oa={},fn={};function Qc(o){return et.call(fn,o)?!0:et.call(oa,o)?!1:Il.test(o)?fn[o]=!0:(oa[o]=!0,!1)}function Vo(o,c,p){if(Qc(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var j=c.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function Oi(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function yo(o,c,p,j){if(j===null)o.removeAttribute(p);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+j)}}var cl,jo;function Da(o){if(cl===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);cl=c&&c[1]||"",jo=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cl+o+jo}var _l=!1;function _o(o,c){if(!o||_l)return"";_l=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(c){var ln=function(){throw Error()};if(Object.defineProperty(ln.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ln,[])}catch(Mt){var Ot=Mt}Reflect.construct(o,[],ln)}else{try{ln.call()}catch(Mt){Ot=Mt}o.call(ln.prototype)}}else{try{throw Error()}catch(Mt){Ot=Mt}(ln=o())&&typeof ln.catch=="function"&&ln.catch(function(){})}}catch(Mt){if(Mt&&Ot&&typeof Mt.stack=="string")return[Mt.stack,Ot.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=j.DetermineComponentFrameRoot(),ge=H[0],Fe=H[1];if(ge&&Fe){var qe=ge.split(`
`),Rt=Fe.split(`
`);for(O=j=0;j<qe.length&&!qe[j].includes("DetermineComponentFrameRoot");)j++;for(;O<Rt.length&&!Rt[O].includes("DetermineComponentFrameRoot");)O++;if(j===qe.length||O===Rt.length)for(j=qe.length-1,O=Rt.length-1;1<=j&&0<=O&&qe[j]!==Rt[O];)O--;for(;1<=j&&0<=O;j--,O--)if(qe[j]!==Rt[O]){if(j!==1||O!==1)do if(j--,O--,0>O||qe[j]!==Rt[O]){var Yt=`
`+qe[j].replace(" at new "," at ");return o.displayName&&Yt.includes("<anonymous>")&&(Yt=Yt.replace("<anonymous>",o.displayName)),Yt}while(1<=j&&0<=O);break}}}finally{_l=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Da(p):""}function br(o){switch(o.tag){case 26:case 27:case 5:return Da(o.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return _o(o.type,!1);case 11:return _o(o.type.render,!1);case 1:return _o(o.type,!0);case 31:return Da("Activity");default:return""}}function Ss(o){try{var c="";do c+=br(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Ui(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ks(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function $o(o){var c=ks(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),j=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,H=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return O.call(this)},set:function(ge){j=""+ge,H.call(this,ge)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return j},setValue:function(ge){j=""+ge},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Mi(o){o._valueTracker||(o._valueTracker=$o(o))}function gr(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),j="";return o&&(j=ks(o)?o.checked?"true":"false":o.value),o=j,o!==p?(c.setValue(o),!0):!1}function _s(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var hs=/[\n"\\]/g;function qr(o){return o.replace(hs,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function li(o,c,p,j,O,H,ge,Fe){o.name="",ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?o.type=ge:o.removeAttribute("type"),c!=null?ge==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ui(c)):o.value!==""+Ui(c)&&(o.value=""+Ui(c)):ge!=="submit"&&ge!=="reset"||o.removeAttribute("value"),c!=null?ul(o,ge,Ui(c)):p!=null?ul(o,ge,Ui(p)):j!=null&&o.removeAttribute("value"),O==null&&H!=null&&(o.defaultChecked=!!H),O!=null&&(o.checked=O&&typeof O!="function"&&typeof O!="symbol"),Fe!=null&&typeof Fe!="function"&&typeof Fe!="symbol"&&typeof Fe!="boolean"?o.name=""+Ui(Fe):o.removeAttribute("name")}function Ql(o,c,p,j,O,H,ge,Fe){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(o.type=H),c!=null||p!=null){if(!(H!=="submit"&&H!=="reset"||c!=null))return;p=p!=null?""+Ui(p):"",c=c!=null?""+Ui(c):p,Fe||c===o.value||(o.value=c),o.defaultValue=c}j=j??O,j=typeof j!="function"&&typeof j!="symbol"&&!!j,o.checked=Fe?o.checked:!!j,o.defaultChecked=!!j,ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"&&(o.name=ge)}function ul(o,c,p){c==="number"&&_s(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Go(o,c,p,j){if(o=o.options,c){c={};for(var O=0;O<p.length;O++)c["$"+p[O]]=!0;for(p=0;p<o.length;p++)O=c.hasOwnProperty("$"+o[p].value),o[p].selected!==O&&(o[p].selected=O),O&&j&&(o[p].defaultSelected=!0)}else{for(p=""+Ui(p),c=null,O=0;O<o.length;O++){if(o[O].value===p){o[O].selected=!0,j&&(o[O].defaultSelected=!0);return}c!==null||o[O].disabled||(c=o[O])}c!==null&&(c.selected=!0)}}function fs(o,c,p){if(c!=null&&(c=""+Ui(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Ui(p):""}function Ja(o,c,p,j){if(c==null){if(j!=null){if(p!=null)throw Error(s(92));if(ie(j)){if(1<j.length)throw Error(s(93));j=j[0]}p=j}p==null&&(p=""),c=p}p=Ui(c),o.defaultValue=p,j=o.textContent,j===p&&j!==""&&j!==null&&(o.value=j)}function Ko(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mr(o,c,p){var j=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?j?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":j?o.setProperty(c,p):typeof p!="number"||p===0||aa.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function ki(o,c,p){if(c!=null&&typeof c!="object")throw Error(s(62));if(o=o.style,p!=null){for(var j in p)!p.hasOwnProperty(j)||c!=null&&c.hasOwnProperty(j)||(j.indexOf("--")===0?o.setProperty(j,""):j==="float"?o.cssFloat="":o[j]="");for(var O in c)j=c[O],c.hasOwnProperty(O)&&p[O]!==j&&Mr(o,O,j)}else for(var H in c)c.hasOwnProperty(H)&&Mr(o,H,c[H])}function Wo(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(o){return Al.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Qs=null;function Pa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Gi=null,Yo=null;function la(o){var c=ai(o);if(c&&(o=c.stateNode)){var p=o[Ys]||null;e:switch(o=c.stateNode,c.type){case"input":if(li(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+qr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var j=p[c];if(j!==o&&j.form===o.form){var O=j[Ys]||null;if(!O)throw Error(s(90));li(j,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(c=0;c<p.length;c++)j=p[c],j.form===o.form&&gr(j)}break e;case"textarea":fs(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Go(o,!!p.multiple,c,!1)}}}var hn=!1;function Ki(o,c,p){if(hn)return o(c,p);hn=!0;try{var j=o(c);return j}finally{if(hn=!1,(Gi!==null||Yo!==null)&&(es(),Gi&&(c=Gi,o=Yo,Yo=Gi=null,la(c),o)))for(c=0;c<o.length;c++)la(o[c])}}function as(o,c){var p=o.stateNode;if(p===null)return null;var j=p[Ys]||null;if(j===null)return null;p=j[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(o=o.type,j=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!j;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(s(231,c,typeof p));return p}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=!1;if(_i)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Wi=!1}var ni=null,ya=null,ca=null;function el(){if(ca)return ca;var o,c=ya,p=c.length,j,O="value"in ni?ni.value:ni.textContent,H=O.length;for(o=0;o<p&&c[o]===O[o];o++);var ge=p-o;for(j=1;j<=ge&&c[p-j]===O[H-j];j++);return ca=O.slice(o,1<j?1-j:void 0)}function zs(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Fo(){return!0}function Ra(){return!1}function ze(o){function c(p,j,O,H,ge){this._reactName=p,this._targetInst=O,this.type=j,this.nativeEvent=H,this.target=ge,this.currentTarget=null;for(var Fe in o)o.hasOwnProperty(Fe)&&(p=o[Fe],this[Fe]=p?p(H):H[Fe]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Fo:Ra,this.isPropagationStopped=Ra,this}return a(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),c}var ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nt=ze(ot),Ln=a({},ot,{view:0,detail:0}),un=ze(Ln),tr,kn,wr,Sr=a({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==wr&&(wr&&o.type==="mousemove"?(tr=o.screenX-wr.screenX,kn=o.screenY-wr.screenY):kn=tr=0,wr=o),tr)},movementY:function(o){return"movementY"in o?o.movementY:kn}}),mi=ze(Sr),co=a({},Sr,{dataTransfer:0}),tl=ze(co),bo=a({},Ln,{relatedTarget:0}),wo=ze(bo),zl=a({},ot,{animationName:0,elapsedTime:0,pseudoElement:0}),jc=ze(zl),dl=a({},ot,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),X=ze(dl),xe=a({},ot,{data:0}),He=ze(xe),tt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function en(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Ht[o])?!!c[o]:!1}function In(){return en}var nr=a({},Ln,{key:function(o){if(o.key){var c=tt[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=zs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?jt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(o){return o.type==="keypress"?zs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?zs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Cr=ze(nr),Tr=a({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=ze(Tr),gi=a({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In}),Qi=ze(gi),Cs=a({},ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),ci=ze(Cs),zi=a({},Sr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),So=ze(zi),nl=a({},ot,{newState:0,oldState:0}),Lo=ze(nl),hl=[9,13,27,32],fl=_i&&"CompositionEvent"in window,Hi=null;_i&&"documentMode"in document&&(Hi=document.documentMode);var ue=_i&&"TextEvent"in window&&!Hi,Le=_i&&(!fl||Hi&&8<Hi&&11>=Hi),qt=" ",_n=!1;function lr(o,c){switch(o){case"keyup":return hl.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ls=!1;function Xo(o,c){switch(o){case"compositionend":return wn(c);case"keypress":return c.which!==32?null:(_n=!0,qt);case"textInput":return o=c.data,o===qt&&_n?null:o;default:return null}}function uo(o,c){if(ls)return o==="compositionend"||!fl&&lr(o,c)?(o=el(),ca=ya=ni=null,ls=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Le&&c.locale!=="ko"?null:c.data;default:return null}}var Jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yr(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Jr[o.type]:c==="textarea"}function vi(o,c,p,j){Gi?Yo?Yo.push(j):Yo=[j]:Gi=j,c=kx(c,"onChange"),0<c.length&&(p=new Nt("onChange","change",null,p,j),o.push({event:p,listeners:c}))}var ri=null,Xr=null;function Na(o){MB(o,0)}function Fi(o){var c=pi(o);if(gr(c))return o}function Fl(o,c){if(o==="change")return c}var ua=!1;if(_i){var ja;if(_i){var Zr="oninput"in document;if(!Zr){var Xi=document.createElement("div");Xi.setAttribute("oninput","return;"),Zr=typeof Xi.oninput=="function"}ja=Zr}else ja=!1;ua=ja&&(!document.documentMode||9<document.documentMode)}function pl(){ri&&(ri.detachEvent("onpropertychange",Hl),Xr=ri=null)}function Hl(o){if(o.propertyName==="value"&&Fi(Xr)){var c=[];vi(c,Xr,o,Pa(o)),Ki(Na,c)}}function Vl(o,c,p){o==="focusin"?(pl(),ri=c,Xr=p,ri.attachEvent("onpropertychange",Hl)):o==="focusout"&&pl()}function zc(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Fi(Xr)}function Oa(o,c){if(o==="click")return Fi(c)}function Zi(o,c){if(o==="input"||o==="change")return Fi(c)}function Co(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Xs=typeof Object.is=="function"?Object.is:Co;function Zs(o,c){if(Xs(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),j=Object.keys(c);if(p.length!==j.length)return!1;for(j=0;j<p.length;j++){var O=p[j];if(!et.call(c,O)||!Xs(o[O],c[O]))return!1}return!0}function ui(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rl(o,c){var p=ui(o);o=0;for(var j;p;){if(p.nodeType===3){if(j=o+p.textContent.length,o<=c&&j>=c)return{node:p,offset:c-o};o=j}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=ui(p)}}function bc(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?bc(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function tc(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=_s(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=_s(o.document)}return c}function sl(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Ll=_i&&"documentMode"in document&&11>=document.documentMode,Zo=null,ba=null,qi=null,nc=!1;function ml(o,c,p){var j=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;nc||Zo==null||Zo!==_s(j)||(j=Zo,"selectionStart"in j&&sl(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),qi&&Zs(qi,j)||(qi=j,j=kx(ba,"onSelect"),0<j.length&&(c=new Nt("onSelect","select",null,c,p),o.push({event:c,listeners:j}),c.target=Zo)))}function Ji(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var cs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Hs={},eo={};_i&&(eo=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function us(o){if(Hs[o])return Hs[o];if(!cs[o])return o;var c=cs[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in eo)return Hs[o]=c[p];return o}var $l=us("animationend"),Ua=us("animationiteration"),rc=us("animationstart"),iu=us("transitionrun"),sA=us("transitionstart"),Fd=us("transitioncancel"),iA=us("transitionend"),HA=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function gl(o,c){HA.set(o,c),zo(c,[o])}var Dl=new WeakMap;function Ma(o,c){if(typeof o=="object"&&o!==null){var p=Dl.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Ss(c)},Dl.set(o,c),c)}return{value:o,source:c,stack:Ss(c)}}var ka=[],ou=0,Qa=0;function _u(){for(var o=ou,c=Qa=ou=0;c<o;){var p=ka[c];ka[c++]=null;var j=ka[c];ka[c++]=null;var O=ka[c];ka[c++]=null;var H=ka[c];if(ka[c++]=null,j!==null&&O!==null){var ge=j.pending;ge===null?O.next=O:(O.next=ge.next,ge.next=O),j.pending=O}H!==0&&Hc(p,O,H)}}function Fu(o,c,p,j){ka[ou++]=o,ka[ou++]=c,ka[ou++]=p,ka[ou++]=j,Qa|=j,o.lanes|=j,o=o.alternate,o!==null&&(o.lanes|=j)}function sc(o,c,p,j){return Fu(o,c,p,j),Gl(o)}function au(o,c){return Fu(o,null,null,c),Gl(o)}function Hc(o,c,p){o.lanes|=p;var j=o.alternate;j!==null&&(j.lanes|=p);for(var O=!1,H=o.return;H!==null;)H.childLanes|=p,j=H.alternate,j!==null&&(j.childLanes|=p),H.tag===22&&(o=H.stateNode,o===null||o._visibility&1||(O=!0)),o=H,H=H.return;return o.tag===3?(H=o.stateNode,O&&c!==null&&(O=31-Ft(p),o=H.hiddenUpdates,j=o[O],j===null?o[O]=[c]:j.push(c),c.lane=p|536870912),H):null}function Gl(o){if(50<It)throw It=0,$t=null,Error(s(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Do={};function vl(o,c,p,j){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wa(o,c,p,j){return new vl(o,c,p,j)}function lu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Sa(o,c){var p=o.alternate;return p===null?(p=wa(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Lu(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Vc(o,c,p,j,O,H){var ge=0;if(j=o,typeof o=="function")lu(o)&&(ge=1);else if(typeof o=="string")ge=jN(o,p,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case K:return o=wa(31,p,c,O),o.elementType=K,o.lanes=H,o;case x:return xl(p.children,O,H,c);case w:ge=8,O|=24;break;case b:return o=wa(12,p,c,O|2),o.elementType=b,o.lanes=H,o;case N:return o=wa(13,p,c,O),o.elementType=N,o.lanes=H,o;case Q:return o=wa(19,p,c,O),o.elementType=Q,o.lanes=H,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case B:ge=10;break e;case C:ge=9;break e;case F:ge=11;break e;case z:ge=14;break e;case k:ge=16,j=null;break e}ge=29,p=Error(s(130,o===null?"null":typeof o,"")),j=null}return c=wa(ge,p,c,O),c.elementType=o,c.type=j,c.lanes=H,c}function xl(o,c,p,j){return o=wa(7,o,j,c),o.lanes=p,o}function VA(o,c,p){return o=wa(6,o,null,c),o.lanes=p,o}function Du(o,c,p){return c=wa(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Sc=[],Cc=0,A=null,y=0,P=[],Y=0,de=null,Se=1,Ze="";function Et(o,c){Sc[Cc++]=y,Sc[Cc++]=A,A=o,y=c}function Ut(o,c,p){P[Y++]=Se,P[Y++]=Ze,P[Y++]=de,de=o;var j=Se;o=Ze;var O=32-Ft(j)-1;j&=~(1<<O),p+=1;var H=32-Ft(c)+O;if(30<H){var ge=O-O%5;H=(j&(1<<ge)-1).toString(32),j>>=ge,O-=ge,Se=1<<32-Ft(c)+O|p<<O|j,Ze=H+o}else Se=1<<H|p<<O|j,Ze=o}function sn(o){o.return!==null&&(Et(o,1),Ut(o,1,0))}function Fn(o){for(;o===A;)A=Sc[--Cc],Sc[Cc]=null,y=Sc[--Cc],Sc[Cc]=null;for(;o===de;)de=P[--Y],P[Y]=null,Ze=P[--Y],P[Y]=null,Se=P[--Y],P[Y]=null}var zn=null,cr=null,Fr=!1,xi=null,Ao=!1,Ca=Error(s(519));function Pl(o){var c=Error(s(418,""));throw cu(Ma(c,o)),Ca}function Ch(o){var c=o.stateNode,p=o.type,j=o.memoizedProps;switch(c[Us]=o,c[Ys]=j,p){case"dialog":Ds("cancel",c),Ds("close",c);break;case"iframe":case"object":case"embed":Ds("load",c);break;case"video":case"audio":for(p=0;p<g0.length;p++)Ds(g0[p],c);break;case"source":Ds("error",c);break;case"img":case"image":case"link":Ds("error",c),Ds("load",c);break;case"details":Ds("toggle",c);break;case"input":Ds("invalid",c),Ql(c,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0),Mi(c);break;case"select":Ds("invalid",c);break;case"textarea":Ds("invalid",c),Ja(c,j.value,j.defaultValue,j.children),Mi(c)}p=j.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||j.suppressHydrationWarning===!0||HB(c.textContent,p)?(j.popover!=null&&(Ds("beforetoggle",c),Ds("toggle",c)),j.onScroll!=null&&Ds("scroll",c),j.onScrollEnd!=null&&Ds("scrollend",c),j.onClick!=null&&(c.onclick=Qx),c=!0):c=!1,c||Pl(o)}function Bc(o){for(zn=o.return;zn;)switch(zn.tag){case 5:case 13:Ao=!1;return;case 27:case 3:Ao=!0;return;default:zn=zn.return}}function za(o){if(o!==zn)return!1;if(!Fr)return Bc(o),Fr=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||W1(o.type,o.memoizedProps)),p=!p),p&&cr&&Pl(o),Bc(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){cr=TA(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}cr=null}}else c===27?(c=cr,Gh(o.type)?(o=q1,q1=null,cr=o):cr=c):cr=zn?TA(o.stateNode.nextSibling):null;return!0}function Aa(){cr=zn=null,Fr=!1}function Bh(){var o=xi;return o!==null&&(cc===null?cc=o:cc.push.apply(cc,o),xi=null),o}function cu(o){xi===null?xi=[o]:xi.push(o)}var Vs=he(null),ho=null,Ec=null;function ic(o,c,p){M(Vs,c._currentValue),c._currentValue=p}function yl(o){o._currentValue=Vs.current,$(Vs)}function Pu(o,c,p){for(;o!==null;){var j=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,j!==null&&(j.childLanes|=c)):j!==null&&(j.childLanes&c)!==c&&(j.childLanes|=c),o===p)break;o=o.return}}function oA(o,c,p,j){var O=o.child;for(O!==null&&(O.return=o);O!==null;){var H=O.dependencies;if(H!==null){var ge=O.child;H=H.firstContext;e:for(;H!==null;){var Fe=H;H=O;for(var qe=0;qe<c.length;qe++)if(Fe.context===c[qe]){H.lanes|=p,Fe=H.alternate,Fe!==null&&(Fe.lanes|=p),Pu(H.return,p,o),j||(ge=null);break e}H=Fe.next}}else if(O.tag===18){if(ge=O.return,ge===null)throw Error(s(341));ge.lanes|=p,H=ge.alternate,H!==null&&(H.lanes|=p),Pu(ge,p,o),ge=null}else ge=O.child;if(ge!==null)ge.return=O;else for(ge=O;ge!==null;){if(ge===o){ge=null;break}if(O=ge.sibling,O!==null){O.return=ge.return,ge=O;break}ge=ge.return}O=ge}}function Ru(o,c,p,j){o=null;for(var O=c,H=!1;O!==null;){if(!H){if((O.flags&524288)!==0)H=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var ge=O.alternate;if(ge===null)throw Error(s(387));if(ge=ge.memoizedProps,ge!==null){var Fe=O.type;Xs(O.pendingProps.value,ge.value)||(o!==null?o.push(Fe):o=[Fe])}}else if(O===De.current){if(ge=O.alternate,ge===null)throw Error(s(387));ge.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(o!==null?o.push(w0):o=[w0])}O=O.return}o!==null&&oA(c,o,p,j),c.flags|=262144}function Eh(o){for(o=o.firstContext;o!==null;){if(!Xs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function $c(o){ho=o,Ec=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function da(o){return Th(ho,o)}function Tc(o,c){return ho===null&&$c(o),Th(o,c)}function Th(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Ec===null){if(o===null)throw Error(s(308));Ec=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ec=Ec.next=c;return p}var Hg=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,j){o.push(j)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},em=t.unstable_scheduleCallback,Vg=t.unstable_NormalPriority,ha={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new Hg,data:new Map,refCount:0}}function Ld(o){o.refCount--,o.refCount===0&&em(Vg,function(){o.controller.abort()})}var Dd=null,_f=0,aA=0,uu=null;function $g(o,c){if(Dd===null){var p=Dd=[];_f=0,aA=M1(),uu={status:"pending",value:void 0,then:function(j){p.push(j)}}}return _f++,c.then(Ff,Ff),c}function Ff(){if(--_f===0&&Dd!==null){uu!==null&&(uu.status="fulfilled");var o=Dd;Dd=null,aA=0,uu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function tm(o,c){var p=[],j={status:"pending",value:null,reason:null,then:function(O){p.push(O)}};return o.then(function(){j.status="fulfilled",j.value=c;for(var O=0;O<p.length;O++)(0,p[O])(c)},function(O){for(j.status="rejected",j.reason=O,O=0;O<p.length;O++)(0,p[O])(void 0)}),j}var I=J.S;J.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&$g(o,c),I!==null&&I(o,c)};var U=he(null);function ne(){var o=U.current;return o!==null?o:ro.pooledCache}function Ae(o,c){c===null?M(U,U.current):M(U,c.pool)}function ye(){var o=ne();return o===null?null:{parent:ha._currentValue,pool:o}}var Ce=Error(s(460)),_e=Error(s(474)),Pe=Error(s(542)),Me={then:function(){}};function $e(o){return o=o.status,o==="fulfilled"||o==="rejected"}function st(){}function Pt(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(st,st),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ft(o),o;default:if(typeof c.status=="string")c.then(st,st);else{if(o=ro,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=c,o.status="pending",o.then(function(j){if(c.status==="pending"){var O=c;O.status="fulfilled",O.value=j}},function(j){if(c.status==="pending"){var O=c;O.status="rejected",O.reason=j}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ft(o),o}throw Ve=c,Ce}}var Ve=null;function dt(){if(Ve===null)throw Error(s(459));var o=Ve;return Ve=null,o}function ft(o){if(o===Ce||o===Pe)throw Error(s(483))}var kt=!1;function Lt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Kt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function An(o,c,p){var j=o.updateQueue;if(j===null)return null;if(j=j.shared,(bi&2)!==0){var O=j.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),j.pending=c,c=Gl(o),Hc(o,null,p),c}return Fu(o,j,c,p),Gl(o)}function tn(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var j=c.lanes;j&=o.pendingLanes,p|=j,c.lanes=p,Yn(o,p)}}function Ar(o,c){var p=o.updateQueue,j=o.alternate;if(j!==null&&(j=j.updateQueue,p===j)){var O=null,H=null;if(p=p.firstBaseUpdate,p!==null){do{var ge={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};H===null?O=H=ge:H=H.next=ge,p=p.next}while(p!==null);H===null?O=H=c:H=H.next=c}else O=H=c;p={baseState:j.baseState,firstBaseUpdate:O,lastBaseUpdate:H,shared:j.shared,callbacks:j.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Xn=!1;function kr(){if(Xn){var o=uu;if(o!==null)throw o}}function rr(o,c,p,j){Xn=!1;var O=o.updateQueue;kt=!1;var H=O.firstBaseUpdate,ge=O.lastBaseUpdate,Fe=O.shared.pending;if(Fe!==null){O.shared.pending=null;var qe=Fe,Rt=qe.next;qe.next=null,ge===null?H=Rt:ge.next=Rt,ge=qe;var Yt=o.alternate;Yt!==null&&(Yt=Yt.updateQueue,Fe=Yt.lastBaseUpdate,Fe!==ge&&(Fe===null?Yt.firstBaseUpdate=Rt:Fe.next=Rt,Yt.lastBaseUpdate=qe))}if(H!==null){var ln=O.baseState;ge=0,Yt=Rt=qe=null,Fe=H;do{var Ot=Fe.lane&-536870913,Mt=Ot!==Fe.lane;if(Mt?(Gs&Ot)===Ot:(j&Ot)===Ot){Ot!==0&&Ot===aA&&(Xn=!0),Yt!==null&&(Yt=Yt.next={lane:0,tag:Fe.tag,payload:Fe.payload,callback:null,next:null});e:{var Vr=o,Rr=Fe;Ot=c;var io=p;switch(Rr.tag){case 1:if(Vr=Rr.payload,typeof Vr=="function"){ln=Vr.call(io,ln,Ot);break e}ln=Vr;break e;case 3:Vr.flags=Vr.flags&-65537|128;case 0:if(Vr=Rr.payload,Ot=typeof Vr=="function"?Vr.call(io,ln,Ot):Vr,Ot==null)break e;ln=a({},ln,Ot);break e;case 2:kt=!0}}Ot=Fe.callback,Ot!==null&&(o.flags|=64,Mt&&(o.flags|=8192),Mt=O.callbacks,Mt===null?O.callbacks=[Ot]:Mt.push(Ot))}else Mt={lane:Ot,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},Yt===null?(Rt=Yt=Mt,qe=ln):Yt=Yt.next=Mt,ge|=Ot;if(Fe=Fe.next,Fe===null){if(Fe=O.shared.pending,Fe===null)break;Mt=Fe,Fe=Mt.next,Mt.next=null,O.lastBaseUpdate=Mt,O.shared.pending=null}}while(!0);Yt===null&&(qe=ln),O.baseState=qe,O.firstBaseUpdate=Rt,O.lastBaseUpdate=Yt,H===null&&(O.shared.lanes=0),td|=ge,o.lanes=ge,o.memoizedState=ln}}function ys(o,c){if(typeof o!="function")throw Error(s(191,o));o.call(c)}function qo(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)ys(p[o],c)}var Lr=he(null),Vt=he(0);function Cn(o,c){o=CA,M(Vt,o),M(Lr,c),CA=o|c.baseLanes}function fo(){M(Vt,CA),M(Lr,Lr.current)}function Dr(){CA=Vt.current,$(Lr),$(Vt)}var Br=0,sr=null,Qr=null,As=null,Ai=!1,Po=!1,Ro=!1,Bo=0,Wr=0,js=null,to=0;function Er(){throw Error(s(321))}function Jo(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Xs(o[p],c[p]))return!1;return!0}function Kl(o,c,p,j,O,H){return Br=H,sr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,J.H=o===null||o.memoizedState===null?jx:bx,Ro=!1,H=p(j,O),Ro=!1,Po&&(H=jl(c,p,j,O)),no(o),H}function no(o){J.H=cm;var c=Qr!==null&&Qr.next!==null;if(Br=0,As=Qr=sr=null,Ai=!1,Wr=0,js=null,c)throw Error(s(300));o===null||ol||(o=o.dependencies,o!==null&&Eh(o)&&(ol=!0))}function jl(o,c,p,j){sr=o;var O=0;do{if(Po&&(js=null),Wr=0,Po=!1,25<=O)throw Error(s(301));if(O+=1,As=Qr=null,o.updateQueue!=null){var H=o.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}J.H=um,H=c(p,j)}while(Po);return H}function yi(){var o=J.H,c=o.useState()[0];return c=typeof c.then=="function"?Ba(c):c,o=o.useState()[0],(Qr!==null?Qr.memoizedState:null)!==o&&(sr.flags|=1024),c}function No(){var o=Bo!==0;return Bo=0,o}function bl(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Ha(o){if(Ai){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ai=!1}Br=0,As=Qr=sr=null,Po=!1,Wr=Bo=0,js=null}function Li(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return As===null?sr.memoizedState=As=o:As=As.next=o,As}function $s(){if(Qr===null){var o=sr.alternate;o=o!==null?o.memoizedState:null}else o=Qr.next;var c=As===null?sr.memoizedState:As.next;if(c!==null)As=c,Qr=o;else{if(o===null)throw sr.alternate===null?Error(s(467)):Error(s(310));Qr=o,o={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},As===null?sr.memoizedState=As=o:As=As.next=o}return As}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(o){var c=Wr;return Wr+=1,js===null&&(js=[]),o=Pt(js,o,c),c=sr,(As===null?c.memoizedState:As.next)===null&&(c=c.alternate,J.H=c===null||c.memoizedState===null?jx:bx),o}function si(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ba(o);if(o.$$typeof===B)return da(o)}throw Error(s(438,String(o)))}function wl(o){var c=null,p=sr.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var j=sr.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(c={data:j.data.map(function(O){return O.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=il(),sr.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),j=0;j<o;j++)p[j]=se;return c.index++,p}function fa(o,c){return typeof c=="function"?c(o):c}function Ic(o){var c=$s();return _c(c,Qr,o)}function _c(o,c,p){var j=o.queue;if(j===null)throw Error(s(311));j.lastRenderedReducer=p;var O=o.baseQueue,H=j.pending;if(H!==null){if(O!==null){var ge=O.next;O.next=H.next,H.next=ge}c.baseQueue=O=H,j.pending=null}if(H=o.baseState,O===null)o.memoizedState=H;else{c=O.next;var Fe=ge=null,qe=null,Rt=c,Yt=!1;do{var ln=Rt.lane&-536870913;if(ln!==Rt.lane?(Gs&ln)===ln:(Br&ln)===ln){var Ot=Rt.revertLane;if(Ot===0)qe!==null&&(qe=qe.next={lane:0,revertLane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),ln===aA&&(Yt=!0);else if((Br&Ot)===Ot){Rt=Rt.next,Ot===aA&&(Yt=!0);continue}else ln={lane:0,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},qe===null?(Fe=qe=ln,ge=H):qe=qe.next=ln,sr.lanes|=Ot,td|=Ot;ln=Rt.action,Ro&&p(H,ln),H=Rt.hasEagerState?Rt.eagerState:p(H,ln)}else Ot={lane:ln,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},qe===null?(Fe=qe=Ot,ge=H):qe=qe.next=Ot,sr.lanes|=ln,td|=ln;Rt=Rt.next}while(Rt!==null&&Rt!==c);if(qe===null?ge=H:qe.next=Fe,!Xs(H,o.memoizedState)&&(ol=!0,Yt&&(p=uu,p!==null)))throw p;o.memoizedState=H,o.baseState=ge,o.baseQueue=qe,j.lastRenderedState=H}return O===null&&(j.lanes=0),[o.memoizedState,j.dispatch]}function Eo(o){var c=$s(),p=c.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=o;var j=p.dispatch,O=p.pending,H=c.memoizedState;if(O!==null){p.pending=null;var ge=O=O.next;do H=o(H,ge.action),ge=ge.next;while(ge!==O);Xs(H,c.memoizedState)||(ol=!0),c.memoizedState=H,c.baseQueue===null&&(c.baseState=H),p.lastRenderedState=H}return[H,j]}function Pd(o,c,p){var j=sr,O=$s(),H=Fr;if(H){if(p===void 0)throw Error(s(407));p=p()}else p=c();var ge=!Xs((Qr||O).memoizedState,p);ge&&(O.memoizedState=p,ol=!0),O=O.queue;var Fe=cA.bind(null,j,O,o);if(KA(2048,8,Fe,[o]),O.getSnapshot!==c||ge||As!==null&&As.memoizedState.tag&1){if(j.flags|=2048,Au(9,Od(),lA.bind(null,j,O,p,c),null),ro===null)throw Error(s(349));H||(Br&124)!==0||$A(j,c,p)}return p}function $A(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=sr.updateQueue,c===null?(c=il(),sr.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function lA(o,c,p,j){c.value=p,c.getSnapshot=j,Lf(c)&&nm(o)}function cA(o,c,p){return p(function(){Lf(c)&&nm(o)})}function Lf(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Xs(o,p)}catch{return!0}}function nm(o){var c=au(o,2);c!==null&&bn(c,o,2)}function GA(o){var c=Li();if(typeof o=="function"){var p=o;if(o=p(),Ro){ut(!0);try{p()}finally{ut(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:o},c}function Fc(o,c,p,j){return o.baseState=p,_c(o,Qr,typeof j=="function"?j:fa)}function Df(o,c,p,j,O){if(zf(o))throw Error(s(485));if(o=c.action,o!==null){var H={payload:O,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ge){H.listeners.push(ge)}};J.T!==null?p(!0):H.isTransition=!1,j(H),p=c.pending,p===null?(H.next=c.pending=H,Pf(c,H)):(H.next=p.next,c.pending=p.next=H)}}function Pf(o,c){var p=c.action,j=c.payload,O=o.state;if(c.isTransition){var H=J.T,ge={};J.T=ge;try{var Fe=p(O,j),qe=J.S;qe!==null&&qe(ge,Fe),Rf(o,c,Fe)}catch(Rt){uA(o,c,Rt)}finally{J.T=H}}else try{H=p(O,j),Rf(o,c,H)}catch(Rt){uA(o,c,Rt)}}function Rf(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(j){Ih(o,c,j)},function(j){return uA(o,c,j)}):Ih(o,c,p)}function Ih(o,c,p){c.status="fulfilled",c.value=p,Rd(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,Pf(o,p)))}function uA(o,c,p){var j=o.pending;if(o.pending=null,j!==null){j=j.next;do c.status="rejected",c.reason=p,Rd(c),c=c.next;while(c!==j)}o.action=null}function Rd(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Nf(o,c){return c}function Nd(o,c){if(Fr){var p=ro.formState;if(p!==null){e:{var j=sr;if(Fr){if(cr){t:{for(var O=cr,H=Ao;O.nodeType!==8;){if(!H){O=null;break t}if(O=TA(O.nextSibling),O===null){O=null;break t}}H=O.data,O=H==="F!"||H==="F"?O:null}if(O){cr=TA(O.nextSibling),j=O.data==="F!";break e}}Pl(j)}j=!1}j&&(c=p[0])}}return p=Li(),p.memoizedState=p.baseState=c,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:c},p.queue=j,p=Gg.bind(null,sr,j),j.dispatch=p,j=GA(!1),H=am.bind(null,sr,!1,j.queue),j=Li(),O={state:c,dispatch:null,action:o,pending:null},j.queue=O,p=Df.bind(null,sr,O,H,p),O.dispatch=p,j.memoizedState=o,[c,p,!1]}function _h(o){var c=$s();return Va(c,Qr,o)}function Va(o,c,p){if(c=_c(o,c,Nf)[0],o=Ic(fa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var j=Ba(c)}catch(ge){throw ge===Ce?Pe:ge}else j=c;c=$s();var O=c.queue,H=O.dispatch;return p!==c.memoizedState&&(sr.flags|=2048,Au(9,Od(),Fh.bind(null,O,p),null)),[j,H,o]}function Fh(o,c){o.action=c}function rm(o){var c=$s(),p=Qr;if(p!==null)return Va(c,p,o);$s(),c=c.memoizedState,p=$s();var j=p.queue.dispatch;return p.memoizedState=o,[c,j,!1]}function Au(o,c,p,j){return o={tag:o,create:p,deps:j,inst:c,next:null},c=sr.updateQueue,c===null&&(c=il(),sr.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(j=p.next,p.next=o,o.next=j,c.lastEffect=o),o}function Od(){return{destroy:void 0,resource:void 0}}function Lh(){return $s().memoizedState}function Lc(o,c,p,j){var O=Li();j=j===void 0?null:j,sr.flags|=o,O.memoizedState=Au(1|c,Od(),p,j)}function KA(o,c,p,j){var O=$s();j=j===void 0?null:j;var H=O.memoizedState.inst;Qr!==null&&j!==null&&Jo(j,Qr.memoizedState.deps)?O.memoizedState=Au(c,H,p,j):(sr.flags|=o,O.memoizedState=Au(1|c,H,p,j))}function Of(o,c){Lc(8390656,8,o,c)}function sm(o,c){KA(2048,8,o,c)}function Uf(o,c){return KA(4,2,o,c)}function Nu(o,c){return KA(4,4,o,c)}function im(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Ud(o,c,p){p=p!=null?p.concat([o]):null,KA(4,4,im.bind(null,c,o),p)}function Dh(){}function pa(o,c){var p=$s();c=c===void 0?null:c;var j=p.memoizedState;return c!==null&&Jo(c,j[1])?j[0]:(p.memoizedState=[o,c],o)}function WA(o,c){var p=$s();c=c===void 0?null:c;var j=p.memoizedState;if(c!==null&&Jo(c,j[1]))return j[0];if(j=o(),Ro){ut(!0);try{o()}finally{ut(!1)}}return p.memoizedState=[j,c],j}function AA(o,c,p){return p===void 0||(Br&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=yn(),sr.lanes|=o,td|=o,p)}function Ph(o,c,p,j){return Xs(p,c)?p:Lr.current!==null?(o=AA(o,p,j),Xs(o,c)||(ol=!0),o):(Br&42)===0?(ol=!0,o.memoizedState=p):(o=yn(),sr.lanes|=o,td|=o,c)}function YA(o,c,p,j,O){var H=G.p;G.p=H!==0&&8>H?H:8;var ge=J.T,Fe={};J.T=Fe,am(o,!1,c,p);try{var qe=O(),Rt=J.S;if(Rt!==null&&Rt(Fe,qe),qe!==null&&typeof qe=="object"&&typeof qe.then=="function"){var Yt=tm(qe,j);Rh(o,c,Yt,Bn(o))}else Rh(o,c,j,Bn(o))}catch(ln){Rh(o,c,{then:function(){},status:"rejected",reason:ln},Bn())}finally{G.p=H,J.T=ge}}function Dc(){}function Gc(o,c,p,j){if(o.tag!==5)throw Error(s(476));var O=du(o).queue;YA(o,O,c,W,p===null?Dc:function(){return Md(o),p(j)})}function du(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:W},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Md(o){var c=du(o).next.queue;Rh(o,c,{},Bn())}function kd(){return da(w0)}function Mf(){return $s().memoizedState}function om(){return $s().memoizedState}function kf(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Bn();o=Kt(p);var j=An(c,o,p);j!==null&&(bn(j,c,p),tn(j,c,p)),c={cache:If()},o.payload=c;return}c=c.return}}function Qf(o,c,p){var j=Bn();p={lane:j,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},zf(o)?lm(c,p):(p=sc(o,c,p,j),p!==null&&(bn(p,o,j),yx(p,c,j)))}function Gg(o,c,p){var j=Bn();Rh(o,c,p,j)}function Rh(o,c,p,j){var O={lane:j,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(zf(o))lm(c,O);else{var H=o.alternate;if(o.lanes===0&&(H===null||H.lanes===0)&&(H=c.lastRenderedReducer,H!==null))try{var ge=c.lastRenderedState,Fe=H(ge,p);if(O.hasEagerState=!0,O.eagerState=Fe,Xs(Fe,ge))return Fu(o,c,O,0),ro===null&&_u(),!1}catch{}finally{}if(p=sc(o,c,O,j),p!==null)return bn(p,o,j),yx(p,c,j),!0}return!1}function am(o,c,p,j){if(j={lane:2,revertLane:M1(),action:j,hasEagerState:!1,eagerState:null,next:null},zf(o)){if(c)throw Error(s(479))}else c=sc(o,p,j,2),c!==null&&bn(c,o,2)}function zf(o){var c=o.alternate;return o===sr||c!==null&&c===sr}function lm(o,c){Po=Ai=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function yx(o,c,p){if((p&4194048)!==0){var j=c.lanes;j&=o.pendingLanes,p|=j,c.lanes=p,Yn(o,p)}}var cm={readContext:da,use:si,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useLayoutEffect:Er,useInsertionEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useSyncExternalStore:Er,useId:Er,useHostTransitionStatus:Er,useFormState:Er,useActionState:Er,useOptimistic:Er,useMemoCache:Er,useCacheRefresh:Er},jx={readContext:da,use:si,useCallback:function(o,c){return Li().memoizedState=[o,c===void 0?null:c],o},useContext:da,useEffect:Of,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Lc(4194308,4,im.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Lc(4194308,4,o,c)},useInsertionEffect:function(o,c){Lc(4,2,o,c)},useMemo:function(o,c){var p=Li();c=c===void 0?null:c;var j=o();if(Ro){ut(!0);try{o()}finally{ut(!1)}}return p.memoizedState=[j,c],j},useReducer:function(o,c,p){var j=Li();if(p!==void 0){var O=p(c);if(Ro){ut(!0);try{p(c)}finally{ut(!1)}}}else O=c;return j.memoizedState=j.baseState=O,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:O},j.queue=o,o=o.dispatch=Qf.bind(null,sr,o),[j.memoizedState,o]},useRef:function(o){var c=Li();return o={current:o},c.memoizedState=o},useState:function(o){o=GA(o);var c=o.queue,p=Gg.bind(null,sr,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Dh,useDeferredValue:function(o,c){var p=Li();return AA(p,o,c)},useTransition:function(){var o=GA(!1);return o=YA.bind(null,sr,o.queue,!0,!1),Li().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var j=sr,O=Li();if(Fr){if(p===void 0)throw Error(s(407));p=p()}else{if(p=c(),ro===null)throw Error(s(349));(Gs&124)!==0||$A(j,c,p)}O.memoizedState=p;var H={value:p,getSnapshot:c};return O.queue=H,Of(cA.bind(null,j,H,o),[o]),j.flags|=2048,Au(9,Od(),lA.bind(null,j,H,p,c),null),p},useId:function(){var o=Li(),c=ro.identifierPrefix;if(Fr){var p=Ze,j=Se;p=(j&~(1<<32-Ft(j)-1)).toString(32)+p,c=""+c+"R"+p,p=Bo++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=to++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:kd,useFormState:Nd,useActionState:Nd,useOptimistic:function(o){var c=Li();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=am.bind(null,sr,!0,p),p.dispatch=c,[o,c]},useMemoCache:wl,useCacheRefresh:function(){return Li().memoizedState=kf.bind(null,sr)}},bx={readContext:da,use:si,useCallback:pa,useContext:da,useEffect:sm,useImperativeHandle:Ud,useInsertionEffect:Uf,useLayoutEffect:Nu,useMemo:WA,useReducer:Ic,useRef:Lh,useState:function(){return Ic(fa)},useDebugValue:Dh,useDeferredValue:function(o,c){var p=$s();return Ph(p,Qr.memoizedState,o,c)},useTransition:function(){var o=Ic(fa)[0],c=$s().memoizedState;return[typeof o=="boolean"?o:Ba(o),c]},useSyncExternalStore:Pd,useId:Mf,useHostTransitionStatus:kd,useFormState:_h,useActionState:_h,useOptimistic:function(o,c){var p=$s();return Fc(p,Qr,o,c)},useMemoCache:wl,useCacheRefresh:om},um={readContext:da,use:si,useCallback:pa,useContext:da,useEffect:sm,useImperativeHandle:Ud,useInsertionEffect:Uf,useLayoutEffect:Nu,useMemo:WA,useReducer:Eo,useRef:Lh,useState:function(){return Eo(fa)},useDebugValue:Dh,useDeferredValue:function(o,c){var p=$s();return Qr===null?AA(p,o,c):Ph(p,Qr.memoizedState,o,c)},useTransition:function(){var o=Eo(fa)[0],c=$s().memoizedState;return[typeof o=="boolean"?o:Ba(o),c]},useSyncExternalStore:Pd,useId:Mf,useHostTransitionStatus:kd,useFormState:rm,useActionState:rm,useOptimistic:function(o,c){var p=$s();return Qr!==null?Fc(p,Qr,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:wl,useCacheRefresh:om},dA=null,Hf=0;function Vf(o){var c=Hf;return Hf+=1,dA===null&&(dA=[]),Pt(dA,o,c)}function Qd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function $f(o,c){throw c.$$typeof===m?Error(s(525)):(o=Object.prototype.toString.call(c),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Kg(o){var c=o._init;return c(o._payload)}function Wg(o){function c(Bt,ct){if(o){var Dt=Bt.deletions;Dt===null?(Bt.deletions=[ct],Bt.flags|=16):Dt.push(ct)}}function p(Bt,ct){if(!o)return null;for(;ct!==null;)c(Bt,ct),ct=ct.sibling;return null}function j(Bt){for(var ct=new Map;Bt!==null;)Bt.key!==null?ct.set(Bt.key,Bt):ct.set(Bt.index,Bt),Bt=Bt.sibling;return ct}function O(Bt,ct){return Bt=Sa(Bt,ct),Bt.index=0,Bt.sibling=null,Bt}function H(Bt,ct,Dt){return Bt.index=Dt,o?(Dt=Bt.alternate,Dt!==null?(Dt=Dt.index,Dt<ct?(Bt.flags|=67108866,ct):Dt):(Bt.flags|=67108866,ct)):(Bt.flags|=1048576,ct)}function ge(Bt){return o&&Bt.alternate===null&&(Bt.flags|=67108866),Bt}function Fe(Bt,ct,Dt,Jt){return ct===null||ct.tag!==6?(ct=VA(Dt,Bt.mode,Jt),ct.return=Bt,ct):(ct=O(ct,Dt),ct.return=Bt,ct)}function qe(Bt,ct,Dt,Jt){var hr=Dt.type;return hr===x?Yt(Bt,ct,Dt.props.children,Jt,Dt.key):ct!==null&&(ct.elementType===hr||typeof hr=="object"&&hr!==null&&hr.$$typeof===k&&Kg(hr)===ct.type)?(ct=O(ct,Dt.props),Qd(ct,Dt),ct.return=Bt,ct):(ct=Vc(Dt.type,Dt.key,Dt.props,null,Bt.mode,Jt),Qd(ct,Dt),ct.return=Bt,ct)}function Rt(Bt,ct,Dt,Jt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==Dt.containerInfo||ct.stateNode.implementation!==Dt.implementation?(ct=Du(Dt,Bt.mode,Jt),ct.return=Bt,ct):(ct=O(ct,Dt.children||[]),ct.return=Bt,ct)}function Yt(Bt,ct,Dt,Jt,hr){return ct===null||ct.tag!==7?(ct=xl(Dt,Bt.mode,Jt,hr),ct.return=Bt,ct):(ct=O(ct,Dt),ct.return=Bt,ct)}function ln(Bt,ct,Dt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=VA(""+ct,Bt.mode,Dt),ct.return=Bt,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case v:return Dt=Vc(ct.type,ct.key,ct.props,null,Bt.mode,Dt),Qd(Dt,ct),Dt.return=Bt,Dt;case g:return ct=Du(ct,Bt.mode,Dt),ct.return=Bt,ct;case k:var Jt=ct._init;return ct=Jt(ct._payload),ln(Bt,ct,Dt)}if(ie(ct)||q(ct))return ct=xl(ct,Bt.mode,Dt,null),ct.return=Bt,ct;if(typeof ct.then=="function")return ln(Bt,Vf(ct),Dt);if(ct.$$typeof===B)return ln(Bt,Tc(Bt,ct),Dt);$f(Bt,ct)}return null}function Ot(Bt,ct,Dt,Jt){var hr=ct!==null?ct.key:null;if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return hr!==null?null:Fe(Bt,ct,""+Dt,Jt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case v:return Dt.key===hr?qe(Bt,ct,Dt,Jt):null;case g:return Dt.key===hr?Rt(Bt,ct,Dt,Jt):null;case k:return hr=Dt._init,Dt=hr(Dt._payload),Ot(Bt,ct,Dt,Jt)}if(ie(Dt)||q(Dt))return hr!==null?null:Yt(Bt,ct,Dt,Jt,null);if(typeof Dt.then=="function")return Ot(Bt,ct,Vf(Dt),Jt);if(Dt.$$typeof===B)return Ot(Bt,ct,Tc(Bt,Dt),Jt);$f(Bt,Dt)}return null}function Mt(Bt,ct,Dt,Jt,hr){if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number"||typeof Jt=="bigint")return Bt=Bt.get(Dt)||null,Fe(ct,Bt,""+Jt,hr);if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case v:return Bt=Bt.get(Jt.key===null?Dt:Jt.key)||null,qe(ct,Bt,Jt,hr);case g:return Bt=Bt.get(Jt.key===null?Dt:Jt.key)||null,Rt(ct,Bt,Jt,hr);case k:var Ts=Jt._init;return Jt=Ts(Jt._payload),Mt(Bt,ct,Dt,Jt,hr)}if(ie(Jt)||q(Jt))return Bt=Bt.get(Dt)||null,Yt(ct,Bt,Jt,hr,null);if(typeof Jt.then=="function")return Mt(Bt,ct,Dt,Vf(Jt),hr);if(Jt.$$typeof===B)return Mt(Bt,ct,Dt,Tc(ct,Jt),hr);$f(ct,Jt)}return null}function Vr(Bt,ct,Dt,Jt){for(var hr=null,Ts=null,jr=ct,Nr=ct=0,Ol=null;jr!==null&&Nr<Dt.length;Nr++){jr.index>Nr?(Ol=jr,jr=null):Ol=jr.sibling;var hi=Ot(Bt,jr,Dt[Nr],Jt);if(hi===null){jr===null&&(jr=Ol);break}o&&jr&&hi.alternate===null&&c(Bt,jr),ct=H(hi,ct,Nr),Ts===null?hr=hi:Ts.sibling=hi,Ts=hi,jr=Ol}if(Nr===Dt.length)return p(Bt,jr),Fr&&Et(Bt,Nr),hr;if(jr===null){for(;Nr<Dt.length;Nr++)jr=ln(Bt,Dt[Nr],Jt),jr!==null&&(ct=H(jr,ct,Nr),Ts===null?hr=jr:Ts.sibling=jr,Ts=jr);return Fr&&Et(Bt,Nr),hr}for(jr=j(jr);Nr<Dt.length;Nr++)Ol=Mt(jr,Bt,Nr,Dt[Nr],Jt),Ol!==null&&(o&&Ol.alternate!==null&&jr.delete(Ol.key===null?Nr:Ol.key),ct=H(Ol,ct,Nr),Ts===null?hr=Ol:Ts.sibling=Ol,Ts=Ol);return o&&jr.forEach(function(Zh){return c(Bt,Zh)}),Fr&&Et(Bt,Nr),hr}function Rr(Bt,ct,Dt,Jt){if(Dt==null)throw Error(s(151));for(var hr=null,Ts=null,jr=ct,Nr=ct=0,Ol=null,hi=Dt.next();jr!==null&&!hi.done;Nr++,hi=Dt.next()){jr.index>Nr?(Ol=jr,jr=null):Ol=jr.sibling;var Zh=Ot(Bt,jr,hi.value,Jt);if(Zh===null){jr===null&&(jr=Ol);break}o&&jr&&Zh.alternate===null&&c(Bt,jr),ct=H(Zh,ct,Nr),Ts===null?hr=Zh:Ts.sibling=Zh,Ts=Zh,jr=Ol}if(hi.done)return p(Bt,jr),Fr&&Et(Bt,Nr),hr;if(jr===null){for(;!hi.done;Nr++,hi=Dt.next())hi=ln(Bt,hi.value,Jt),hi!==null&&(ct=H(hi,ct,Nr),Ts===null?hr=hi:Ts.sibling=hi,Ts=hi);return Fr&&Et(Bt,Nr),hr}for(jr=j(jr);!hi.done;Nr++,hi=Dt.next())hi=Mt(jr,Bt,Nr,hi.value,Jt),hi!==null&&(o&&hi.alternate!==null&&jr.delete(hi.key===null?Nr:hi.key),ct=H(hi,ct,Nr),Ts===null?hr=hi:Ts.sibling=hi,Ts=hi);return o&&jr.forEach(function(DN){return c(Bt,DN)}),Fr&&Et(Bt,Nr),hr}function io(Bt,ct,Dt,Jt){if(typeof Dt=="object"&&Dt!==null&&Dt.type===x&&Dt.key===null&&(Dt=Dt.props.children),typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case v:e:{for(var hr=Dt.key;ct!==null;){if(ct.key===hr){if(hr=Dt.type,hr===x){if(ct.tag===7){p(Bt,ct.sibling),Jt=O(ct,Dt.props.children),Jt.return=Bt,Bt=Jt;break e}}else if(ct.elementType===hr||typeof hr=="object"&&hr!==null&&hr.$$typeof===k&&Kg(hr)===ct.type){p(Bt,ct.sibling),Jt=O(ct,Dt.props),Qd(Jt,Dt),Jt.return=Bt,Bt=Jt;break e}p(Bt,ct);break}else c(Bt,ct);ct=ct.sibling}Dt.type===x?(Jt=xl(Dt.props.children,Bt.mode,Jt,Dt.key),Jt.return=Bt,Bt=Jt):(Jt=Vc(Dt.type,Dt.key,Dt.props,null,Bt.mode,Jt),Qd(Jt,Dt),Jt.return=Bt,Bt=Jt)}return ge(Bt);case g:e:{for(hr=Dt.key;ct!==null;){if(ct.key===hr)if(ct.tag===4&&ct.stateNode.containerInfo===Dt.containerInfo&&ct.stateNode.implementation===Dt.implementation){p(Bt,ct.sibling),Jt=O(ct,Dt.children||[]),Jt.return=Bt,Bt=Jt;break e}else{p(Bt,ct);break}else c(Bt,ct);ct=ct.sibling}Jt=Du(Dt,Bt.mode,Jt),Jt.return=Bt,Bt=Jt}return ge(Bt);case k:return hr=Dt._init,Dt=hr(Dt._payload),io(Bt,ct,Dt,Jt)}if(ie(Dt))return Vr(Bt,ct,Dt,Jt);if(q(Dt)){if(hr=q(Dt),typeof hr!="function")throw Error(s(150));return Dt=hr.call(Dt),Rr(Bt,ct,Dt,Jt)}if(typeof Dt.then=="function")return io(Bt,ct,Vf(Dt),Jt);if(Dt.$$typeof===B)return io(Bt,ct,Tc(Bt,Dt),Jt);$f(Bt,Dt)}return typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint"?(Dt=""+Dt,ct!==null&&ct.tag===6?(p(Bt,ct.sibling),Jt=O(ct,Dt),Jt.return=Bt,Bt=Jt):(p(Bt,ct),Jt=VA(Dt,Bt.mode,Jt),Jt.return=Bt,Bt=Jt),ge(Bt)):p(Bt,ct)}return function(Bt,ct,Dt,Jt){try{Hf=0;var hr=io(Bt,ct,Dt,Jt);return dA=null,hr}catch(jr){if(jr===Ce||jr===Pe)throw jr;var Ts=wa(29,jr,null,Bt.mode);return Ts.lanes=Jt,Ts.return=Bt,Ts}finally{}}}var Nh=Wg(!0),Gf=Wg(!1),Pc=he(null),hu=null;function XA(o){var c=o.alternate;M(ma,ma.current&1),M(Pc,o),hu===null&&(c===null||Lr.current!==null||c.memoizedState!==null)&&(hu=o)}function wx(o){if(o.tag===22){if(M(ma,ma.current),M(Pc,o),hu===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(hu=o)}}else hA()}function hA(){M(ma,ma.current),M(Pc,Pc.current)}function oc(o){$(Pc),hu===o&&(hu=null),$(ma)}var ma=he(0);function zd(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||Z1(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Yg(o,c,p,j){c=o.memoizedState,p=p(j,c),p=p==null?c:a({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Xg={enqueueSetState:function(o,c,p){o=o._reactInternals;var j=Bn(),O=Kt(j);O.payload=c,p!=null&&(O.callback=p),c=An(o,O,j),c!==null&&(bn(c,o,j),tn(c,o,j))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var j=Bn(),O=Kt(j);O.tag=1,O.payload=c,p!=null&&(O.callback=p),c=An(o,O,j),c!==null&&(bn(c,o,j),tn(c,o,j))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Bn(),j=Kt(p);j.tag=2,c!=null&&(j.callback=c),c=An(o,j,p),c!==null&&(bn(c,o,p),tn(c,o,p))}};function Sx(o,c,p,j,O,H,ge){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(j,H,ge):c.prototype&&c.prototype.isPureReactComponent?!Zs(p,j)||!Zs(O,H):!0}function Cx(o,c,p,j){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,j),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,j),c.state!==o&&Xg.enqueueReplaceState(c,c.state,null)}function ZA(o,c){var p=c;if("ref"in c){p={};for(var j in c)j!=="ref"&&(p[j]=c[j])}if(o=o.defaultProps){p===c&&(p=a({},p));for(var O in o)p[O]===void 0&&(p[O]=o[O])}return p}var Oh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Zg(o){Oh(o)}function qg(o){console.error(o)}function Am(o){Oh(o)}function Kf(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(j){setTimeout(function(){throw j})}}function Jg(o,c,p){try{var j=o.onCaughtError;j(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function e0(o,c,p){return p=Kt(p),p.tag=3,p.payload={element:null},p.callback=function(){Kf(o,c)},p}function Wf(o){return o=Kt(o),o.tag=3,o}function Yf(o,c,p,j){var O=p.type.getDerivedStateFromError;if(typeof O=="function"){var H=j.value;o.payload=function(){return O(H)},o.callback=function(){Jg(c,p,j)}}var ge=p.stateNode;ge!==null&&typeof ge.componentDidCatch=="function"&&(o.callback=function(){Jg(c,p,j),typeof O!="function"&&(D===null?D=new Set([this]):D.add(this));var Fe=j.stack;this.componentDidCatch(j.value,{componentStack:Fe!==null?Fe:""})})}function Bx(o,c,p,j,O){if(p.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(c=p.alternate,c!==null&&Ru(c,p,O,!0),p=Pc.current,p!==null){switch(p.tag){case 13:return hu===null?ta():p.alternate===null&&ea===0&&(ea=3),p.flags&=-257,p.flags|=65536,p.lanes=O,j===Me?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([j]):c.add(j),N1(o,j,O)),!1;case 22:return p.flags|=65536,j===Me?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([j])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([j]):p.add(j)),N1(o,j,O)),!1}throw Error(s(435,p.tag))}return N1(o,j,O),ta(),!1}if(Fr)return c=Pc.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=O,j!==Ca&&(o=Error(s(422),{cause:j}),cu(Ma(o,p)))):(j!==Ca&&(c=Error(s(423),{cause:j}),cu(Ma(c,p))),o=o.current.alternate,o.flags|=65536,O&=-O,o.lanes|=O,j=Ma(j,p),O=e0(o.stateNode,j,O),Ar(o,O),ea!==4&&(ea=2)),!1;var H=Error(s(520),{cause:j});if(H=Ma(H,p),rp===null?rp=[H]:rp.push(H),ea!==4&&(ea=2),c===null)return!0;j=Ma(j,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=O&-O,p.lanes|=o,o=e0(p.stateNode,j,o),Ar(p,o),!1;case 1:if(c=p.type,H=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(D===null||!D.has(H))))return p.flags|=65536,O&=-O,p.lanes|=O,O=Wf(O),Yf(O,o,p,j),Ar(p,O),!1}p=p.return}while(p!==null);return!1}var t0=Error(s(461)),ol=!1;function al(o,c,p,j){c.child=o===null?Gf(c,null,p,j):Nh(c,o.child,p,j)}function n0(o,c,p,j,O){p=p.render;var H=c.ref;if("ref"in j){var ge={};for(var Fe in j)Fe!=="ref"&&(ge[Fe]=j[Fe])}else ge=j;return $c(c),j=Kl(o,c,p,ge,H,O),Fe=No(),o!==null&&!ol?(bl(o,c,O),gA(o,c,O)):(Fr&&Fe&&sn(c),c.flags|=1,al(o,c,j,O),c.child)}function Ex(o,c,p,j,O){if(o===null){var H=p.type;return typeof H=="function"&&!lu(H)&&H.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=H,Tx(o,c,H,j,O)):(o=Vc(p.type,null,j,c,c.mode,O),o.ref=c.ref,o.return=c,c.child=o)}if(H=o.child,!o0(o,O)){var ge=H.memoizedProps;if(p=p.compare,p=p!==null?p:Zs,p(ge,j)&&o.ref===c.ref)return gA(o,c,O)}return c.flags|=1,o=Sa(H,j),o.ref=c.ref,o.return=c,c.child=o}function Tx(o,c,p,j,O){if(o!==null){var H=o.memoizedProps;if(Zs(H,j)&&o.ref===c.ref)if(ol=!1,c.pendingProps=j=H,o0(o,O))(o.flags&131072)!==0&&(ol=!0);else return c.lanes=o.lanes,gA(o,c,O)}return fA(o,c,p,j,O)}function Hd(o,c,p){var j=c.pendingProps,O=j.children,H=o!==null?o.memoizedState:null;if(j.mode==="hidden"){if((c.flags&128)!==0){if(j=H!==null?H.baseLanes|p:p,o!==null){for(O=c.child=o.child,H=0;O!==null;)H=H|O.lanes|O.childLanes,O=O.sibling;c.childLanes=H&~j}else c.childLanes=0,c.child=null;return r0(o,c,j,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ae(c,H!==null?H.cachePool:null),H!==null?Cn(c,H):fo(),wx(c);else return c.lanes=c.childLanes=536870912,r0(o,c,H!==null?H.baseLanes|p:p,p)}else H!==null?(Ae(c,H.cachePool),Cn(c,H),hA(),c.memoizedState=null):(o!==null&&Ae(c,null),fo(),hA());return al(o,c,O,p),c.child}function r0(o,c,p,j){var O=ne();return O=O===null?null:{parent:ha._currentValue,pool:O},c.memoizedState={baseLanes:p,cachePool:O},o!==null&&Ae(c,null),fo(),wx(c),o!==null&&Ru(o,c,j,!0),null}function To(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(s(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function fA(o,c,p,j,O){return $c(c),p=Kl(o,c,p,j,void 0,O),j=No(),o!==null&&!ol?(bl(o,c,O),gA(o,c,O)):(Fr&&j&&sn(c),c.flags|=1,al(o,c,p,O),c.child)}function Vd(o,c,p,j,O,H){return $c(c),c.updateQueue=null,p=jl(c,j,p,O),no(o),j=No(),o!==null&&!ol?(bl(o,c,H),gA(o,c,H)):(Fr&&j&&sn(c),c.flags|=1,al(o,c,p,H),c.child)}function pA(o,c,p,j,O){if($c(c),c.stateNode===null){var H=Do,ge=p.contextType;typeof ge=="object"&&ge!==null&&(H=da(ge)),H=new p(j,H),c.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Xg,c.stateNode=H,H._reactInternals=c,H=c.stateNode,H.props=j,H.state=c.memoizedState,H.refs={},Lt(c),ge=p.contextType,H.context=typeof ge=="object"&&ge!==null?da(ge):Do,H.state=c.memoizedState,ge=p.getDerivedStateFromProps,typeof ge=="function"&&(Yg(c,p,ge,j),H.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(ge=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),ge!==H.state&&Xg.enqueueReplaceState(H,H.state,null),rr(c,j,H,O),kr(),H.state=c.memoizedState),typeof H.componentDidMount=="function"&&(c.flags|=4194308),j=!0}else if(o===null){H=c.stateNode;var Fe=c.memoizedProps,qe=ZA(p,Fe);H.props=qe;var Rt=H.context,Yt=p.contextType;ge=Do,typeof Yt=="object"&&Yt!==null&&(ge=da(Yt));var ln=p.getDerivedStateFromProps;Yt=typeof ln=="function"||typeof H.getSnapshotBeforeUpdate=="function",Fe=c.pendingProps!==Fe,Yt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Fe||Rt!==ge)&&Cx(c,H,j,ge),kt=!1;var Ot=c.memoizedState;H.state=Ot,rr(c,j,H,O),kr(),Rt=c.memoizedState,Fe||Ot!==Rt||kt?(typeof ln=="function"&&(Yg(c,p,ln,j),Rt=c.memoizedState),(qe=kt||Sx(c,p,qe,j,Ot,Rt,ge))?(Yt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(c.flags|=4194308)):(typeof H.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=j,c.memoizedState=Rt),H.props=j,H.state=Rt,H.context=ge,j=qe):(typeof H.componentDidMount=="function"&&(c.flags|=4194308),j=!1)}else{H=c.stateNode,Wt(o,c),ge=c.memoizedProps,Yt=ZA(p,ge),H.props=Yt,ln=c.pendingProps,Ot=H.context,Rt=p.contextType,qe=Do,typeof Rt=="object"&&Rt!==null&&(qe=da(Rt)),Fe=p.getDerivedStateFromProps,(Rt=typeof Fe=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ge!==ln||Ot!==qe)&&Cx(c,H,j,qe),kt=!1,Ot=c.memoizedState,H.state=Ot,rr(c,j,H,O),kr();var Mt=c.memoizedState;ge!==ln||Ot!==Mt||kt||o!==null&&o.dependencies!==null&&Eh(o.dependencies)?(typeof Fe=="function"&&(Yg(c,p,Fe,j),Mt=c.memoizedState),(Yt=kt||Sx(c,p,Yt,j,Ot,Mt,qe)||o!==null&&o.dependencies!==null&&Eh(o.dependencies))?(Rt||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(j,Mt,qe),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(j,Mt,qe)),typeof H.componentDidUpdate=="function"&&(c.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof H.componentDidUpdate!="function"||ge===o.memoizedProps&&Ot===o.memoizedState||(c.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ge===o.memoizedProps&&Ot===o.memoizedState||(c.flags|=1024),c.memoizedProps=j,c.memoizedState=Mt),H.props=j,H.state=Mt,H.context=qe,j=Yt):(typeof H.componentDidUpdate!="function"||ge===o.memoizedProps&&Ot===o.memoizedState||(c.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ge===o.memoizedProps&&Ot===o.memoizedState||(c.flags|=1024),j=!1)}return H=j,To(o,c),j=(c.flags&128)!==0,H||j?(H=c.stateNode,p=j&&typeof p.getDerivedStateFromError!="function"?null:H.render(),c.flags|=1,o!==null&&j?(c.child=Nh(c,o.child,null,O),c.child=Nh(c,null,p,O)):al(o,c,p,O),c.memoizedState=H.state,o=c.child):o=gA(o,c,O),o}function mA(o,c,p,j){return Aa(),c.flags|=256,al(o,c,p,j),c.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fu(o){return{baseLanes:o,cachePool:ye()}}function dm(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Wc),o}function s0(o,c,p){var j=c.pendingProps,O=!1,H=(c.flags&128)!==0,ge;if((ge=H)||(ge=o!==null&&o.memoizedState===null?!1:(ma.current&2)!==0),ge&&(O=!0,c.flags&=-129),ge=(c.flags&32)!==0,c.flags&=-33,o===null){if(Fr){if(O?XA(c):hA(),Fr){var Fe=cr,qe;if(qe=Fe){e:{for(qe=Fe,Fe=Ao;qe.nodeType!==8;){if(!Fe){Fe=null;break e}if(qe=TA(qe.nextSibling),qe===null){Fe=null;break e}}Fe=qe}Fe!==null?(c.memoizedState={dehydrated:Fe,treeContext:de!==null?{id:Se,overflow:Ze}:null,retryLane:536870912,hydrationErrors:null},qe=wa(18,null,null,0),qe.stateNode=Fe,qe.return=c,c.child=qe,zn=c,cr=null,qe=!0):qe=!1}qe||Pl(c)}if(Fe=c.memoizedState,Fe!==null&&(Fe=Fe.dehydrated,Fe!==null))return Z1(Fe)?c.lanes=32:c.lanes=536870912,null;oc(c)}return Fe=j.children,j=j.fallback,O?(hA(),O=c.mode,Fe=Uh({mode:"hidden",children:Fe},O),j=xl(j,O,p,null),Fe.return=c,j.return=c,Fe.sibling=j,c.child=Fe,O=c.child,O.memoizedState=fu(p),O.childLanes=dm(o,ge,p),c.memoizedState=$d,j):(XA(c),hm(c,Fe))}if(qe=o.memoizedState,qe!==null&&(Fe=qe.dehydrated,Fe!==null)){if(H)c.flags&256?(XA(c),c.flags&=-257,c=Gd(o,c,p)):c.memoizedState!==null?(hA(),c.child=o.child,c.flags|=128,c=null):(hA(),O=j.fallback,Fe=c.mode,j=Uh({mode:"visible",children:j.children},Fe),O=xl(O,Fe,p,null),O.flags|=2,j.return=c,O.return=c,j.sibling=O,c.child=j,Nh(c,o.child,null,p),j=c.child,j.memoizedState=fu(p),j.childLanes=dm(o,ge,p),c.memoizedState=$d,c=O);else if(XA(c),Z1(Fe)){if(ge=Fe.nextSibling&&Fe.nextSibling.dataset,ge)var Rt=ge.dgst;ge=Rt,j=Error(s(419)),j.stack="",j.digest=ge,cu({value:j,source:null,stack:null}),c=Gd(o,c,p)}else if(ol||Ru(o,c,p,!1),ge=(p&o.childLanes)!==0,ol||ge){if(ge=ro,ge!==null&&(j=p&-p,j=(j&42)!==0?1:mr(j),j=(j&(ge.suspendedLanes|p))!==0?0:j,j!==0&&j!==qe.retryLane))throw qe.retryLane=j,au(o,j),bn(ge,o,j),t0;Fe.data==="$?"||ta(),c=Gd(o,c,p)}else Fe.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=qe.treeContext,cr=TA(Fe.nextSibling),zn=c,Fr=!0,xi=null,Ao=!1,o!==null&&(P[Y++]=Se,P[Y++]=Ze,P[Y++]=de,Se=o.id,Ze=o.overflow,de=c),c=hm(c,j.children),c.flags|=4096);return c}return O?(hA(),O=j.fallback,Fe=c.mode,qe=o.child,Rt=qe.sibling,j=Sa(qe,{mode:"hidden",children:j.children}),j.subtreeFlags=qe.subtreeFlags&65011712,Rt!==null?O=Sa(Rt,O):(O=xl(O,Fe,p,null),O.flags|=2),O.return=c,j.return=c,j.sibling=O,c.child=j,j=O,O=c.child,Fe=o.child.memoizedState,Fe===null?Fe=fu(p):(qe=Fe.cachePool,qe!==null?(Rt=ha._currentValue,qe=qe.parent!==Rt?{parent:Rt,pool:Rt}:qe):qe=ye(),Fe={baseLanes:Fe.baseLanes|p,cachePool:qe}),O.memoizedState=Fe,O.childLanes=dm(o,ge,p),c.memoizedState=$d,j):(XA(c),p=o.child,o=p.sibling,p=Sa(p,{mode:"visible",children:j.children}),p.return=c,p.sibling=null,o!==null&&(ge=c.deletions,ge===null?(c.deletions=[o],c.flags|=16):ge.push(o)),c.child=p,c.memoizedState=null,p)}function hm(o,c){return c=Uh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Uh(o,c){return o=wa(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Gd(o,c,p){return Nh(c,o.child,null,p),o=hm(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function i0(o,c,p){o.lanes|=c;var j=o.alternate;j!==null&&(j.lanes|=c),Pu(o.return,c,p)}function fm(o,c,p,j,O){var H=o.memoizedState;H===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:j,tail:p,tailMode:O}:(H.isBackwards=c,H.rendering=null,H.renderingStartTime=0,H.last=j,H.tail=p,H.tailMode=O)}function Mh(o,c,p){var j=c.pendingProps,O=j.revealOrder,H=j.tail;if(al(o,c,j.children,p),j=ma.current,(j&2)!==0)j=j&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&i0(o,p,c);else if(o.tag===19)i0(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}j&=1}switch(M(ma,j),O){case"forwards":for(p=c.child,O=null;p!==null;)o=p.alternate,o!==null&&zd(o)===null&&(O=p),p=p.sibling;p=O,p===null?(O=c.child,c.child=null):(O=p.sibling,p.sibling=null),fm(c,!1,O,p,H);break;case"backwards":for(p=null,O=c.child,c.child=null;O!==null;){if(o=O.alternate,o!==null&&zd(o)===null){c.child=O;break}o=O.sibling,O.sibling=p,p=O,O=o}fm(c,!0,p,null,H);break;case"together":fm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function gA(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),td|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(Ru(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(s(153));if(c.child!==null){for(o=c.child,p=Sa(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Sa(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function o0(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Eh(o)))}function _1(o,c,p){switch(c.tag){case 3:Ue(c,c.stateNode.containerInfo),ic(c,ha,o.memoizedState.cache),Aa();break;case 27:case 5:Ke(c);break;case 4:Ue(c,c.stateNode.containerInfo);break;case 10:ic(c,c.type,c.memoizedProps.value);break;case 13:var j=c.memoizedState;if(j!==null)return j.dehydrated!==null?(XA(c),c.flags|=128,null):(p&c.child.childLanes)!==0?s0(o,c,p):(XA(c),o=gA(o,c,p),o!==null?o.sibling:null);XA(c);break;case 19:var O=(o.flags&128)!==0;if(j=(p&c.childLanes)!==0,j||(Ru(o,c,p,!1),j=(p&c.childLanes)!==0),O){if(j)return Mh(o,c,p);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),M(ma,ma.current),j)break;return null;case 22:case 23:return c.lanes=0,Hd(o,c,p);case 24:ic(c,ha,o.memoizedState.cache)}return gA(o,c,p)}function Ix(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)ol=!0;else{if(!o0(o,p)&&(c.flags&128)===0)return ol=!1,_1(o,c,p);ol=(o.flags&131072)!==0}else ol=!1,Fr&&(c.flags&1048576)!==0&&Ut(c,y,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var j=c.elementType,O=j._init;if(j=O(j._payload),c.type=j,typeof j=="function")lu(j)?(o=ZA(j,o),c.tag=1,c=pA(null,c,j,o,p)):(c.tag=0,c=fA(null,c,j,o,p));else{if(j!=null){if(O=j.$$typeof,O===F){c.tag=11,c=n0(null,c,j,o,p);break e}else if(O===z){c.tag=14,c=Ex(null,c,j,o,p);break e}}throw c=ae(j)||j,Error(s(306,c,""))}}return c;case 0:return fA(o,c,c.type,c.pendingProps,p);case 1:return j=c.type,O=ZA(j,c.pendingProps),pA(o,c,j,O,p);case 3:e:{if(Ue(c,c.stateNode.containerInfo),o===null)throw Error(s(387));j=c.pendingProps;var H=c.memoizedState;O=H.element,Wt(o,c),rr(c,j,null,p);var ge=c.memoizedState;if(j=ge.cache,ic(c,ha,j),j!==H.cache&&oA(c,[ha],p,!0),kr(),j=ge.element,H.isDehydrated)if(H={element:j,isDehydrated:!1,cache:ge.cache},c.updateQueue.baseState=H,c.memoizedState=H,c.flags&256){c=mA(o,c,j,p);break e}else if(j!==O){O=Ma(Error(s(424)),c),cu(O),c=mA(o,c,j,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(cr=TA(o.firstChild),zn=c,Fr=!0,xi=null,Ao=!0,p=Gf(c,null,j,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Aa(),j===O){c=gA(o,c,p);break e}al(o,c,j,p)}c=c.child}return c;case 26:return To(o,c),o===null?(p=JB(c.type,null,c.pendingProps,null))?c.memoizedState=p:Fr||(p=c.type,o=c.pendingProps,j=zx(me.current).createElement(p),j[Us]=c,j[Ys]=o,Yl(j,p,o),Ms(j),c.stateNode=j):c.memoizedState=JB(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ke(c),o===null&&Fr&&(j=c.stateNode=XB(c.type,c.pendingProps,me.current),zn=c,Ao=!0,O=cr,Gh(c.type)?(q1=O,cr=TA(j.firstChild)):cr=O),al(o,c,c.pendingProps.children,p),To(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Fr&&((O=j=cr)&&(j=lN(j,c.type,c.pendingProps,Ao),j!==null?(c.stateNode=j,zn=c,cr=TA(j.firstChild),Ao=!1,O=!0):O=!1),O||Pl(c)),Ke(c),O=c.type,H=c.pendingProps,ge=o!==null?o.memoizedProps:null,j=H.children,W1(O,H)?j=null:ge!==null&&W1(O,ge)&&(c.flags|=32),c.memoizedState!==null&&(O=Kl(o,c,yi,null,null,p),w0._currentValue=O),To(o,c),al(o,c,j,p),c.child;case 6:return o===null&&Fr&&((o=p=cr)&&(p=cN(p,c.pendingProps,Ao),p!==null?(c.stateNode=p,zn=c,cr=null,o=!0):o=!1),o||Pl(c)),null;case 13:return s0(o,c,p);case 4:return Ue(c,c.stateNode.containerInfo),j=c.pendingProps,o===null?c.child=Nh(c,null,j,p):al(o,c,j,p),c.child;case 11:return n0(o,c,c.type,c.pendingProps,p);case 7:return al(o,c,c.pendingProps,p),c.child;case 8:return al(o,c,c.pendingProps.children,p),c.child;case 12:return al(o,c,c.pendingProps.children,p),c.child;case 10:return j=c.pendingProps,ic(c,c.type,j.value),al(o,c,j.children,p),c.child;case 9:return O=c.type._context,j=c.pendingProps.children,$c(c),O=da(O),j=j(O),c.flags|=1,al(o,c,j,p),c.child;case 14:return Ex(o,c,c.type,c.pendingProps,p);case 15:return Tx(o,c,c.type,c.pendingProps,p);case 19:return Mh(o,c,p);case 31:return j=c.pendingProps,p=c.mode,j={mode:j.mode,children:j.children},o===null?(p=Uh(j,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=Sa(o.child,j),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Hd(o,c,p);case 24:return $c(c),j=da(ha),o===null?(O=ne(),O===null&&(O=ro,H=If(),O.pooledCache=H,H.refCount++,H!==null&&(O.pooledCacheLanes|=p),O=H),c.memoizedState={parent:j,cache:O},Lt(c),ic(c,ha,O)):((o.lanes&p)!==0&&(Wt(o,c),rr(c,null,null,p),kr()),O=o.memoizedState,H=c.memoizedState,O.parent!==j?(O={parent:j,cache:j},c.memoizedState=O,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=O),ic(c,ha,j)):(j=H.cache,ic(c,ha,j),j!==O.cache&&oA(c,[ha],p,!0))),al(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(s(156,c.tag))}function vA(o){o.flags|=4}function pm(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!sE(c)){if(c=Pc.current,c!==null&&((Gs&4194048)===Gs?hu!==null:(Gs&62914560)!==Gs&&(Gs&536870912)===0||c!==hu))throw Ve=Me,_e;o.flags|=8192}}function mm(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Nn():536870912,o.lanes|=c,Vh|=c)}function Xf(o,c){if(!Fr)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var j=null;p!==null;)p.alternate!==null&&(j=p),p=p.sibling;j===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:j.sibling=null}}function Oo(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,j=0;if(c)for(var O=o.child;O!==null;)p|=O.lanes|O.childLanes,j|=O.subtreeFlags&65011712,j|=O.flags&65011712,O.return=o,O=O.sibling;else for(O=o.child;O!==null;)p|=O.lanes|O.childLanes,j|=O.subtreeFlags,j|=O.flags,O.return=o,O=O.sibling;return o.subtreeFlags|=j,o.childLanes=p,c}function F1(o,c,p){var j=c.pendingProps;switch(Fn(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oo(c),null;case 1:return Oo(c),null;case 3:return p=c.stateNode,j=null,o!==null&&(j=o.memoizedState.cache),c.memoizedState.cache!==j&&(c.flags|=2048),yl(ha),Ne(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(za(c)?vA(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Bh())),Oo(c),null;case 26:return p=c.memoizedState,o===null?(vA(c),p!==null?(Oo(c),pm(c,p)):(Oo(c),c.flags&=-16777217)):p?p!==o.memoizedState?(vA(c),Oo(c),pm(c,p)):(Oo(c),c.flags&=-16777217):(o.memoizedProps!==j&&vA(c),Oo(c),c.flags&=-16777217),null;case 27:rt(c),p=me.current;var O=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==j&&vA(c);else{if(!j){if(c.stateNode===null)throw Error(s(166));return Oo(c),null}o=ee.current,za(c)?Ch(c):(o=XB(O,j,p),c.stateNode=o,vA(c))}return Oo(c),null;case 5:if(rt(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==j&&vA(c);else{if(!j){if(c.stateNode===null)throw Error(s(166));return Oo(c),null}if(o=ee.current,za(c))Ch(c);else{switch(O=zx(me.current),o){case 1:o=O.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=O.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof j.is=="string"?O.createElement("select",{is:j.is}):O.createElement("select"),j.multiple?o.multiple=!0:j.size&&(o.size=j.size);break;default:o=typeof j.is=="string"?O.createElement(p,{is:j.is}):O.createElement(p)}}o[Us]=c,o[Ys]=j;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)o.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=o;e:switch(Yl(o,p,j),p){case"button":case"input":case"select":case"textarea":o=!!j.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&vA(c)}}return Oo(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==j&&vA(c);else{if(typeof j!="string"&&c.stateNode===null)throw Error(s(166));if(o=me.current,za(c)){if(o=c.stateNode,p=c.memoizedProps,j=null,O=zn,O!==null)switch(O.tag){case 27:case 5:j=O.memoizedProps}o[Us]=c,o=!!(o.nodeValue===p||j!==null&&j.suppressHydrationWarning===!0||HB(o.nodeValue,p)),o||Pl(c)}else o=zx(o).createTextNode(j),o[Us]=c,c.stateNode=o}return Oo(c),null;case 13:if(j=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(O=za(c),j!==null&&j.dehydrated!==null){if(o===null){if(!O)throw Error(s(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(s(317));O[Us]=c}else Aa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Oo(c),O=!1}else O=Bh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=O),O=!0;if(!O)return c.flags&256?(oc(c),c):(oc(c),null)}if(oc(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=j!==null,o=o!==null&&o.memoizedState!==null,p){j=c.child,O=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(O=j.alternate.memoizedState.cachePool.pool);var H=null;j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(H=j.memoizedState.cachePool.pool),H!==O&&(j.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),mm(c,c.updateQueue),Oo(c),null;case 4:return Ne(),o===null&&H1(c.stateNode.containerInfo),Oo(c),null;case 10:return yl(c.type),Oo(c),null;case 19:if($(ma),O=c.memoizedState,O===null)return Oo(c),null;if(j=(c.flags&128)!==0,H=O.rendering,H===null)if(j)Xf(O,!1);else{if(ea!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(H=zd(o),H!==null){for(c.flags|=128,Xf(O,!1),o=H.updateQueue,c.updateQueue=o,mm(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)Lu(p,o),p=p.sibling;return M(ma,ma.current&1|2),c.child}o=o.sibling}O.tail!==null&&Gt()>E&&(c.flags|=128,j=!0,Xf(O,!1),c.lanes=4194304)}else{if(!j)if(o=zd(H),o!==null){if(c.flags|=128,j=!0,o=o.updateQueue,c.updateQueue=o,mm(c,o),Xf(O,!0),O.tail===null&&O.tailMode==="hidden"&&!H.alternate&&!Fr)return Oo(c),null}else 2*Gt()-O.renderingStartTime>E&&p!==536870912&&(c.flags|=128,j=!0,Xf(O,!1),c.lanes=4194304);O.isBackwards?(H.sibling=c.child,c.child=H):(o=O.last,o!==null?o.sibling=H:c.child=H,O.last=H)}return O.tail!==null?(c=O.tail,O.rendering=c,O.tail=c.sibling,O.renderingStartTime=Gt(),c.sibling=null,o=ma.current,M(ma,j?o&1|2:o&1),c):(Oo(c),null);case 22:case 23:return oc(c),Dr(),j=c.memoizedState!==null,o!==null?o.memoizedState!==null!==j&&(c.flags|=8192):j&&(c.flags|=8192),j?(p&536870912)!==0&&(c.flags&128)===0&&(Oo(c),c.subtreeFlags&6&&(c.flags|=8192)):Oo(c),p=c.updateQueue,p!==null&&mm(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),j=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(j=c.memoizedState.cachePool.pool),j!==p&&(c.flags|=2048),o!==null&&$(U),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),yl(ha),Oo(c),null;case 25:return null;case 30:return null}throw Error(s(156,c.tag))}function L1(o,c){switch(Fn(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return yl(ha),Ne(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return rt(c),null;case 13:if(oc(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(s(340));Aa()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return $(ma),null;case 4:return Ne(),null;case 10:return yl(c.type),null;case 22:case 23:return oc(c),Dr(),o!==null&&$(U),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return yl(ha),null;case 25:return null;default:return null}}function gm(o,c){switch(Fn(c),c.tag){case 3:yl(ha),Ne();break;case 26:case 27:case 5:rt(c);break;case 4:Ne();break;case 13:oc(c);break;case 19:$(ma);break;case 10:yl(c.type);break;case 22:case 23:oc(c),Dr(),o!==null&&$(U);break;case 24:yl(ha)}}function Kd(o,c){try{var p=c.updateQueue,j=p!==null?p.lastEffect:null;if(j!==null){var O=j.next;p=O;do{if((p.tag&o)===o){j=void 0;var H=p.create,ge=p.inst;j=H(),ge.destroy=j}p=p.next}while(p!==O)}}catch(Fe){mo(c,c.return,Fe)}}function xA(o,c,p){try{var j=c.updateQueue,O=j!==null?j.lastEffect:null;if(O!==null){var H=O.next;j=H;do{if((j.tag&o)===o){var ge=j.inst,Fe=ge.destroy;if(Fe!==void 0){ge.destroy=void 0,O=c;var qe=p,Rt=Fe;try{Rt()}catch(Yt){mo(O,qe,Yt)}}}j=j.next}while(j!==H)}}catch(Yt){mo(c,c.return,Yt)}}function _x(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{qo(c,p)}catch(j){mo(o,o.return,j)}}}function Fx(o,c,p){p.props=ZA(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(j){mo(o,c,j)}}function kh(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var j=o.stateNode;break;case 30:j=o.stateNode;break;default:j=o.stateNode}typeof p=="function"?o.refCleanup=p(j):p.current=j}}catch(O){mo(o,c,O)}}function Ou(o,c){var p=o.ref,j=o.refCleanup;if(p!==null)if(typeof j=="function")try{j()}catch(O){mo(o,c,O)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(O){mo(o,c,O)}else p.current=null}function Lx(o){var c=o.type,p=o.memoizedProps,j=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&j.focus();break e;case"img":p.src?j.src=p.src:p.srcSet&&(j.srcset=p.srcSet)}}catch(O){mo(o,o.return,O)}}function a0(o,c,p){try{var j=o.stateNode;rN(j,o.type,p,c),j[Ys]=c}catch(O){mo(o,o.return,O)}}function Dx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Gh(o.type)||o.tag===4}function l0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Dx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Gh(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Zf(o,c,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Qx));else if(j!==4&&(j===27&&Gh(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(Zf(o,c,p),o=o.sibling;o!==null;)Zf(o,c,p),o=o.sibling}function vm(o,c,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(j!==4&&(j===27&&Gh(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(vm(o,c,p),o=o.sibling;o!==null;)vm(o,c,p),o=o.sibling}function xm(o){var c=o.stateNode,p=o.memoizedProps;try{for(var j=o.type,O=c.attributes;O.length;)c.removeAttributeNode(O[0]);Yl(c,j,p),c[Us]=o,c[Ys]=p}catch(H){mo(o,o.return,H)}}var yA=!1,vn=!1,qA=!1,qf=typeof WeakSet=="function"?WeakSet:Set,ji=null;function D1(o,c){if(o=o.containerInfo,G1=Wx,o=tc(o),sl(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var j=p.getSelection&&p.getSelection();if(j&&j.rangeCount!==0){p=j.anchorNode;var O=j.anchorOffset,H=j.focusNode;j=j.focusOffset;try{p.nodeType,H.nodeType}catch{p=null;break e}var ge=0,Fe=-1,qe=-1,Rt=0,Yt=0,ln=o,Ot=null;t:for(;;){for(var Mt;ln!==p||O!==0&&ln.nodeType!==3||(Fe=ge+O),ln!==H||j!==0&&ln.nodeType!==3||(qe=ge+j),ln.nodeType===3&&(ge+=ln.nodeValue.length),(Mt=ln.firstChild)!==null;)Ot=ln,ln=Mt;for(;;){if(ln===o)break t;if(Ot===p&&++Rt===O&&(Fe=ge),Ot===H&&++Yt===j&&(qe=ge),(Mt=ln.nextSibling)!==null)break;ln=Ot,Ot=ln.parentNode}ln=Mt}p=Fe===-1||qe===-1?null:{start:Fe,end:qe}}else p=null}p=p||{start:0,end:0}}else p=null;for(K1={focusedElem:o,selectionRange:p},Wx=!1,ji=c;ji!==null;)if(c=ji,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,ji=o;else for(;ji!==null;){switch(c=ji,H=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&H!==null){o=void 0,p=c,O=H.memoizedProps,H=H.memoizedState,j=p.stateNode;try{var Vr=ZA(p.type,O,p.elementType===p.type);o=j.getSnapshotBeforeUpdate(Vr,H),j.__reactInternalSnapshotBeforeUpdate=o}catch(Rr){mo(p,p.return,Rr)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)X1(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":X1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(s(163))}if(o=c.sibling,o!==null){o.return=c.return,ji=o;break}ji=c.return}}function ii(o,c,p){var j=p.flags;switch(p.tag){case 0:case 11:case 15:jA(o,p),j&4&&Kd(5,p);break;case 1:if(jA(o,p),j&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(ge){mo(p,p.return,ge)}else{var O=ZA(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(O,c,o.__reactInternalSnapshotBeforeUpdate)}catch(ge){mo(p,p.return,ge)}}j&64&&_x(p),j&512&&kh(p,p.return);break;case 3:if(jA(o,p),j&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{qo(o,c)}catch(ge){mo(p,p.return,ge)}}break;case 27:c===null&&j&4&&xm(p);case 26:case 5:jA(o,p),c===null&&j&4&&Lx(p),j&512&&kh(p,p.return);break;case 12:jA(o,p);break;case 13:jA(o,p),j&4&&Jf(o,p),j&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=GR.bind(null,p),uN(o,p))));break;case 22:if(j=p.memoizedState!==null||yA,!j){c=c!==null&&c.memoizedState!==null||vn,O=yA;var H=vn;yA=j,(vn=c)&&!H?wA(o,p,(p.subtreeFlags&8772)!==0):jA(o,p),yA=O,vn=H}break;case 30:break;default:jA(o,p)}}function po(o){var c=o.alternate;c!==null&&(o.alternate=null,po(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Es(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Vi=null,ac=!1;function Kc(o,c,p){for(p=p.child;p!==null;)Px(o,c,p),p=p.sibling}function Px(o,c,p){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(yt,p)}catch{}switch(p.tag){case 26:vn||Ou(p,c),Kc(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:vn||Ou(p,c);var j=Vi,O=ac;Gh(p.type)&&(Vi=p.stateNode,ac=!1),Kc(o,c,p),x0(p.stateNode),Vi=j,ac=O;break;case 5:vn||Ou(p,c);case 6:if(j=Vi,O=ac,Vi=null,Kc(o,c,p),Vi=j,ac=O,Vi!==null)if(ac)try{(Vi.nodeType===9?Vi.body:Vi.nodeName==="HTML"?Vi.ownerDocument.body:Vi).removeChild(p.stateNode)}catch(H){mo(p,c,H)}else try{Vi.removeChild(p.stateNode)}catch(H){mo(p,c,H)}break;case 18:Vi!==null&&(ac?(o=Vi,WB(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),E0(o)):WB(Vi,p.stateNode));break;case 4:j=Vi,O=ac,Vi=p.stateNode.containerInfo,ac=!0,Kc(o,c,p),Vi=j,ac=O;break;case 0:case 11:case 14:case 15:vn||xA(2,p,c),vn||xA(4,p,c),Kc(o,c,p);break;case 1:vn||(Ou(p,c),j=p.stateNode,typeof j.componentWillUnmount=="function"&&Fx(p,c,j)),Kc(o,c,p);break;case 21:Kc(o,c,p);break;case 22:vn=(j=vn)||p.memoizedState!==null,Kc(o,c,p),vn=j;break;default:Kc(o,c,p)}}function Jf(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{E0(o)}catch(p){mo(c,c.return,p)}}function P1(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new qf),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new qf),c;default:throw Error(s(435,o.tag))}}function c0(o,c){var p=P1(o);c.forEach(function(j){var O=KR.bind(null,o,j);p.has(j)||(p.add(j),j.then(O,O))})}function lc(o,c){var p=c.deletions;if(p!==null)for(var j=0;j<p.length;j++){var O=p[j],H=o,ge=c,Fe=ge;e:for(;Fe!==null;){switch(Fe.tag){case 27:if(Gh(Fe.type)){Vi=Fe.stateNode,ac=!1;break e}break;case 5:Vi=Fe.stateNode,ac=!1;break e;case 3:case 4:Vi=Fe.stateNode.containerInfo,ac=!0;break e}Fe=Fe.return}if(Vi===null)throw Error(s(160));Px(H,ge,O),Vi=null,ac=!1,H=O.alternate,H!==null&&(H.return=null),O.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)u0(c,o),c=c.sibling}var pu=null;function u0(o,c){var p=o.alternate,j=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:lc(c,o),Rc(o),j&4&&(xA(3,o,o.return),Kd(3,o),xA(5,o,o.return));break;case 1:lc(c,o),Rc(o),j&512&&(vn||p===null||Ou(p,p.return)),j&64&&yA&&(o=o.updateQueue,o!==null&&(j=o.callbacks,j!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?j:p.concat(j))));break;case 26:var O=pu;if(lc(c,o),Rc(o),j&512&&(vn||p===null||Ou(p,p.return)),j&4){var H=p!==null?p.memoizedState:null;if(j=o.memoizedState,p===null)if(j===null)if(o.stateNode===null){e:{j=o.type,p=o.memoizedProps,O=O.ownerDocument||O;t:switch(j){case"title":H=O.getElementsByTagName("title")[0],(!H||H[lo]||H[Us]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=O.createElement(j),O.head.insertBefore(H,O.querySelector("head > title"))),Yl(H,j,p),H[Us]=o,Ms(H),j=H;break e;case"link":var ge=nE("link","href",O).get(j+(p.href||""));if(ge){for(var Fe=0;Fe<ge.length;Fe++)if(H=ge[Fe],H.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&H.getAttribute("rel")===(p.rel==null?null:p.rel)&&H.getAttribute("title")===(p.title==null?null:p.title)&&H.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){ge.splice(Fe,1);break t}}H=O.createElement(j),Yl(H,j,p),O.head.appendChild(H);break;case"meta":if(ge=nE("meta","content",O).get(j+(p.content||""))){for(Fe=0;Fe<ge.length;Fe++)if(H=ge[Fe],H.getAttribute("content")===(p.content==null?null:""+p.content)&&H.getAttribute("name")===(p.name==null?null:p.name)&&H.getAttribute("property")===(p.property==null?null:p.property)&&H.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&H.getAttribute("charset")===(p.charSet==null?null:p.charSet)){ge.splice(Fe,1);break t}}H=O.createElement(j),Yl(H,j,p),O.head.appendChild(H);break;default:throw Error(s(468,j))}H[Us]=o,Ms(H),j=H}o.stateNode=j}else rE(O,o.type,o.stateNode);else o.stateNode=tE(O,j,o.memoizedProps);else H!==j?(H===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):H.count--,j===null?rE(O,o.type,o.stateNode):tE(O,j,o.memoizedProps)):j===null&&o.stateNode!==null&&a0(o,o.memoizedProps,p.memoizedProps)}break;case 27:lc(c,o),Rc(o),j&512&&(vn||p===null||Ou(p,p.return)),p!==null&&j&4&&a0(o,o.memoizedProps,p.memoizedProps);break;case 5:if(lc(c,o),Rc(o),j&512&&(vn||p===null||Ou(p,p.return)),o.flags&32){O=o.stateNode;try{Ko(O,"")}catch(Mt){mo(o,o.return,Mt)}}j&4&&o.stateNode!=null&&(O=o.memoizedProps,a0(o,O,p!==null?p.memoizedProps:O)),j&1024&&(qA=!0);break;case 6:if(lc(c,o),Rc(o),j&4){if(o.stateNode===null)throw Error(s(162));j=o.memoizedProps,p=o.stateNode;try{p.nodeValue=j}catch(Mt){mo(o,o.return,Mt)}}break;case 3:if($x=null,O=pu,pu=Hx(c.containerInfo),lc(c,o),pu=O,Rc(o),j&4&&p!==null&&p.memoizedState.isDehydrated)try{E0(c.containerInfo)}catch(Mt){mo(o,o.return,Mt)}qA&&(qA=!1,A0(o));break;case 4:j=pu,pu=Hx(o.stateNode.containerInfo),lc(c,o),Rc(o),pu=j;break;case 12:lc(c,o),Rc(o);break;case 13:lc(c,o),Rc(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(_=Gt()),j&4&&(j=o.updateQueue,j!==null&&(o.updateQueue=null,c0(o,j)));break;case 22:O=o.memoizedState!==null;var qe=p!==null&&p.memoizedState!==null,Rt=yA,Yt=vn;if(yA=Rt||O,vn=Yt||qe,lc(c,o),vn=Yt,yA=Rt,Rc(o),j&8192)e:for(c=o.stateNode,c._visibility=O?c._visibility&-2:c._visibility|1,O&&(p===null||qe||yA||vn||bA(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){qe=p=c;try{if(H=qe.stateNode,O)ge=H.style,typeof ge.setProperty=="function"?ge.setProperty("display","none","important"):ge.display="none";else{Fe=qe.stateNode;var ln=qe.memoizedProps.style,Ot=ln!=null&&ln.hasOwnProperty("display")?ln.display:null;Fe.style.display=Ot==null||typeof Ot=="boolean"?"":(""+Ot).trim()}}catch(Mt){mo(qe,qe.return,Mt)}}}else if(c.tag===6){if(p===null){qe=c;try{qe.stateNode.nodeValue=O?"":qe.memoizedProps}catch(Mt){mo(qe,qe.return,Mt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}j&4&&(j=o.updateQueue,j!==null&&(p=j.retryQueue,p!==null&&(j.retryQueue=null,c0(o,p))));break;case 19:lc(c,o),Rc(o),j&4&&(j=o.updateQueue,j!==null&&(o.updateQueue=null,c0(o,j)));break;case 30:break;case 21:break;default:lc(c,o),Rc(o)}}function Rc(o){var c=o.flags;if(c&2){try{for(var p,j=o.return;j!==null;){if(Dx(j)){p=j;break}j=j.return}if(p==null)throw Error(s(160));switch(p.tag){case 27:var O=p.stateNode,H=l0(o);vm(o,H,O);break;case 5:var ge=p.stateNode;p.flags&32&&(Ko(ge,""),p.flags&=-33);var Fe=l0(o);vm(o,Fe,ge);break;case 3:case 4:var qe=p.stateNode.containerInfo,Rt=l0(o);Zf(o,Rt,qe);break;default:throw Error(s(161))}}catch(Yt){mo(o,o.return,Yt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function A0(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;A0(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function jA(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ii(o,c.alternate,c),c=c.sibling}function bA(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:xA(4,c,c.return),bA(c);break;case 1:Ou(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Fx(c,c.return,p),bA(c);break;case 27:x0(c.stateNode);case 26:case 5:Ou(c,c.return),bA(c);break;case 22:c.memoizedState===null&&bA(c);break;case 30:bA(c);break;default:bA(c)}o=o.sibling}}function wA(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var j=c.alternate,O=o,H=c,ge=H.flags;switch(H.tag){case 0:case 11:case 15:wA(O,H,p),Kd(4,H);break;case 1:if(wA(O,H,p),j=H,O=j.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Rt){mo(j,j.return,Rt)}if(j=H,O=j.updateQueue,O!==null){var Fe=j.stateNode;try{var qe=O.shared.hiddenCallbacks;if(qe!==null)for(O.shared.hiddenCallbacks=null,O=0;O<qe.length;O++)ys(qe[O],Fe)}catch(Rt){mo(j,j.return,Rt)}}p&&ge&64&&_x(H),kh(H,H.return);break;case 27:xm(H);case 26:case 5:wA(O,H,p),p&&j===null&&ge&4&&Lx(H),kh(H,H.return);break;case 12:wA(O,H,p);break;case 13:wA(O,H,p),p&&ge&4&&Jf(O,H);break;case 22:H.memoizedState===null&&wA(O,H,p),kh(H,H.return);break;case 30:break;default:wA(O,H,p)}c=c.sibling}}function d0(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ld(p))}function ym(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ld(o))}function Uu(o,c,p,j){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Rx(o,c,p,j),c=c.sibling}function Rx(o,c,p,j){var O=c.flags;switch(c.tag){case 0:case 11:case 15:Uu(o,c,p,j),O&2048&&Kd(9,c);break;case 1:Uu(o,c,p,j);break;case 3:Uu(o,c,p,j),O&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ld(o)));break;case 12:if(O&2048){Uu(o,c,p,j),o=c.stateNode;try{var H=c.memoizedProps,ge=H.id,Fe=H.onPostCommit;typeof Fe=="function"&&Fe(ge,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(qe){mo(c,c.return,qe)}}else Uu(o,c,p,j);break;case 13:Uu(o,c,p,j);break;case 23:break;case 22:H=c.stateNode,ge=c.alternate,c.memoizedState!==null?H._visibility&2?Uu(o,c,p,j):JA(o,c):H._visibility&2?Uu(o,c,p,j):(H._visibility|=2,Qh(o,c,p,j,(c.subtreeFlags&10256)!==0)),O&2048&&d0(ge,c);break;case 24:Uu(o,c,p,j),O&2048&&ym(c.alternate,c);break;default:Uu(o,c,p,j)}}function Qh(o,c,p,j,O){for(O=O&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var H=o,ge=c,Fe=p,qe=j,Rt=ge.flags;switch(ge.tag){case 0:case 11:case 15:Qh(H,ge,Fe,qe,O),Kd(8,ge);break;case 23:break;case 22:var Yt=ge.stateNode;ge.memoizedState!==null?Yt._visibility&2?Qh(H,ge,Fe,qe,O):JA(H,ge):(Yt._visibility|=2,Qh(H,ge,Fe,qe,O)),O&&Rt&2048&&d0(ge.alternate,ge);break;case 24:Qh(H,ge,Fe,qe,O),O&&Rt&2048&&ym(ge.alternate,ge);break;default:Qh(H,ge,Fe,qe,O)}c=c.sibling}}function JA(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,j=c,O=j.flags;switch(j.tag){case 22:JA(p,j),O&2048&&d0(j.alternate,j);break;case 24:JA(p,j),O&2048&&ym(j.alternate,j);break;default:JA(p,j)}c=c.sibling}}var Rl=8192;function Wd(o){if(o.subtreeFlags&Rl)for(o=o.child;o!==null;)ep(o),o=o.sibling}function ep(o){switch(o.tag){case 26:Wd(o),o.flags&Rl&&o.memoizedState!==null&&wN(pu,o.memoizedState,o.memoizedProps);break;case 5:Wd(o);break;case 3:case 4:var c=pu;pu=Hx(o.stateNode.containerInfo),Wd(o),pu=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Rl,Rl=16777216,Wd(o),Rl=c):Wd(o));break;default:Wd(o)}}function Nx(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function tp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var j=c[p];ji=j,np(j,o)}Nx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)jm(o),o=o.sibling}function jm(o){switch(o.tag){case 0:case 11:case 15:tp(o),o.flags&2048&&xA(9,o,o.return);break;case 3:tp(o);break;case 12:tp(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,SA(o)):tp(o);break;default:tp(o)}}function SA(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var j=c[p];ji=j,np(j,o)}Nx(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:xA(8,c,c.return),SA(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,SA(c));break;default:SA(c)}o=o.sibling}}function np(o,c){for(;ji!==null;){var p=ji;switch(p.tag){case 0:case 11:case 15:xA(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var j=p.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Ld(p.memoizedState.cache)}if(j=p.child,j!==null)j.return=p,ji=j;else e:for(p=o;ji!==null;){j=ji;var O=j.sibling,H=j.return;if(po(j),j===p){ji=null;break e}if(O!==null){O.return=H,ji=O;break e}ji=H}}}var R1={getCacheForType:function(o){var c=da(ha),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},zh=typeof WeakMap=="function"?WeakMap:Map,bi=0,ro=null,bs=null,Gs=0,di=0,Nc=null,ed=!1,Hh=!1,h0=!1,CA=0,ea=0,td=0,Yd=0,f0=0,Wc=0,Vh=0,rp=null,cc=null,p0=!1,_=0,E=1/0,R=null,D=null,te=0,fe=null,we=null,ke=0,Qe=0,it=null,pt=null,It=0,$t=null;function Bn(){if((bi&2)!==0&&Gs!==0)return Gs&-Gs;if(J.T!==null){var o=aA;return o!==0?o:M1()}return Ni()}function yn(){Wc===0&&(Wc=(Gs&536870912)===0||Fr?dn():536870912);var o=Pc.current;return o!==null&&(o.flags|=32),Wc}function bn(o,c,p){(o===ro&&(di===2||di===9)||o.cancelPendingCommit!==null)&&(Un(o,0),ps(o,Gs,Wc,!1)),jn(o,p),((bi&2)===0||o!==ro)&&(o===ro&&((bi&2)===0&&(Yd|=p),ea===4&&ps(o,Gs,Wc,!1)),id(o))}function ns(o,c,p){if((bi&6)!==0)throw Error(s(327));var j=!p&&(c&124)===0&&(c&o.expiredLanes)===0||xt(o,c),O=j?Di(o,c):Nl(o,c,!0),H=j;do{if(O===0){Hh&&!j&&ps(o,c,0,!1);break}else{if(p=o.current.alternate,H&&!ar(p)){O=Nl(o,c,!1),H=!1;continue}if(O===2){if(H=c,o.errorRecoveryDisabledLanes&H)var ge=0;else ge=o.pendingLanes&-536870913,ge=ge!==0?ge:ge&536870912?536870912:0;if(ge!==0){c=ge;e:{var Fe=o;O=rp;var qe=Fe.current.memoizedState.isDehydrated;if(qe&&(Un(Fe,ge).flags|=256),ge=Nl(Fe,ge,!1),ge!==2){if(h0&&!qe){Fe.errorRecoveryDisabledLanes|=H,Yd|=H,O=4;break e}H=cc,cc=O,H!==null&&(cc===null?cc=H:cc.push.apply(cc,H))}O=ge}if(H=!1,O!==2)continue}}if(O===1){Un(o,0),ps(o,c,0,!0);break}e:{switch(j=o,H=O,H){case 0:case 1:throw Error(s(345));case 4:if((c&4194048)!==c)break;case 6:ps(j,c,Wc,!ed);break e;case 2:cc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((c&62914560)===c&&(O=_+300-Gt(),10<O)){if(ps(j,c,Wc,!ed),nn(j,0,!0)!==0)break e;j.timeoutHandle=GB(dr.bind(null,j,p,cc,R,p0,c,Wc,Yd,Vh,ed,H,2,-0,0),O);break e}dr(j,p,cc,R,p0,c,Wc,Yd,Vh,ed,H,0,-0,0)}}break}while(!0);id(o)}function dr(o,c,p,j,O,H,ge,Fe,qe,Rt,Yt,ln,Ot,Mt){if(o.timeoutHandle=-1,ln=c.subtreeFlags,(ln&8192||(ln&16785408)===16785408)&&(b0={stylesheets:null,count:0,unsuspend:bN},ep(c),ln=SN(),ln!==null)){o.cancelPendingCommit=ln(EA.bind(null,o,c,H,p,j,O,ge,Fe,qe,Yt,1,Ot,Mt)),ps(o,H,ge,!Rt);return}EA(o,c,H,p,j,O,ge,Fe,qe)}function ar(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var j=0;j<p.length;j++){var O=p[j],H=O.getSnapshot;O=O.value;try{if(!Xs(H(),O))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ps(o,c,p,j){c&=~f0,c&=~Yd,o.suspendedLanes|=c,o.pingedLanes&=~c,j&&(o.warmLanes|=c),j=o.expirationTimes;for(var O=c;0<O;){var H=31-Ft(O),ge=1<<H;j[H]=-1,O&=~ge}p!==0&&Dn(o,p,c)}function es(){return(bi&6)===0?(m0(0),!1):!0}function Pr(){if(bs!==null){if(di===0)var o=bs.return;else o=bs,Ec=ho=null,Ha(o),dA=null,Hf=0,o=bs;for(;o!==null;)gm(o.alternate,o),o=o.return;bs=null}}function Un(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,iN(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Pr(),ro=o,bs=p=Sa(o.current,null),Gs=c,di=0,Nc=null,ed=!1,Hh=xt(o,c),h0=!1,Vh=Wc=f0=Yd=td=ea=0,cc=rp=null,p0=!1,(c&8)!==0&&(c|=c&32);var j=o.entangledLanes;if(j!==0)for(o=o.entanglements,j&=c;0<j;){var O=31-Ft(j),H=1<<O;c|=o[O],j&=~H}return CA=c,_u(),p}function Fs(o,c){sr=null,J.H=cm,c===Ce||c===Pe?(c=dt(),di=3):c===_e?(c=dt(),di=4):di=c===t0?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Nc=c,bs===null&&(ea=1,Kf(o,Ma(c,o.current)))}function Ls(){var o=J.H;return J.H=cm,o===null?cm:o}function zr(){var o=J.A;return J.A=R1,o}function ta(){ea=4,ed||(Gs&4194048)!==Gs&&Pc.current!==null||(Hh=!0),(td&134217727)===0&&(Yd&134217727)===0||ro===null||ps(ro,Gs,Wc,!1)}function Nl(o,c,p){var j=bi;bi|=2;var O=Ls(),H=zr();(ro!==o||Gs!==c)&&(R=null,Un(o,c)),c=!1;var ge=ea;e:do try{if(di!==0&&bs!==null){var Fe=bs,qe=Nc;switch(di){case 8:Pr(),ge=6;break e;case 3:case 2:case 9:case 6:Pc.current===null&&(c=!0);var Rt=di;if(di=0,Nc=null,$a(o,Fe,qe,Rt),p&&Hh){ge=0;break e}break;default:Rt=di,di=0,Nc=null,$a(o,Fe,qe,Rt)}}Oc(),ge=ea;break}catch(Yt){Fs(o,Yt)}while(!0);return c&&o.shellSuspendCounter++,Ec=ho=null,bi=j,J.H=O,J.A=H,bs===null&&(ro=null,Gs=0,_u()),ge}function Oc(){for(;bs!==null;)BA(bs)}function Di(o,c){var p=bi;bi|=2;var j=Ls(),O=zr();ro!==o||Gs!==c?(R=null,E=Gt()+500,Un(o,c)):Hh=xt(o,c);e:do try{if(di!==0&&bs!==null){c=bs;var H=Nc;t:switch(di){case 1:di=0,Nc=null,$a(o,c,H,1);break;case 2:case 9:if($e(H)){di=0,Nc=null,Wl(c);break}c=function(){di!==2&&di!==9||ro!==o||(di=7),id(o)},H.then(c,c);break e;case 3:di=7;break e;case 4:di=5;break e;case 7:$e(H)?(di=0,Nc=null,Wl(c)):(di=0,Nc=null,$a(o,c,H,7));break;case 5:var ge=null;switch(bs.tag){case 26:ge=bs.memoizedState;case 5:case 27:var Fe=bs;if(!ge||sE(ge)){di=0,Nc=null;var qe=Fe.sibling;if(qe!==null)bs=qe;else{var Rt=Fe.return;Rt!==null?(bs=Rt,Mu(Rt)):bs=null}break t}}di=0,Nc=null,$a(o,c,H,5);break;case 6:di=0,Nc=null,$a(o,c,H,6);break;case 8:Pr(),ea=6;break e;default:throw Error(s(462))}}Sl();break}catch(Yt){Fs(o,Yt)}while(!0);return Ec=ho=null,J.H=j,J.A=O,bi=p,bs!==null?0:(ro=null,Gs=0,_u(),ea)}function Sl(){for(;bs!==null&&!Ee();)BA(bs)}function BA(o){var c=Ix(o.alternate,o,CA);o.memoizedProps=o.pendingProps,c===null?Mu(o):bs=c}function Wl(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=Vd(p,c,c.pendingProps,c.type,void 0,Gs);break;case 11:c=Vd(p,c,c.pendingProps,c.type.render,c.ref,Gs);break;case 5:Ha(c);default:gm(p,c),c=bs=Lu(c,CA),c=Ix(p,c,CA)}o.memoizedProps=o.pendingProps,c===null?Mu(o):bs=c}function $a(o,c,p,j){Ec=ho=null,Ha(c),dA=null,Hf=0;var O=c.return;try{if(Bx(o,O,c,p,Gs)){ea=1,Kf(o,Ma(p,o.current)),bs=null;return}}catch(H){if(O!==null)throw bs=O,H;ea=1,Kf(o,Ma(p,o.current)),bs=null;return}c.flags&32768?(Fr||j===1?o=!0:Hh||(Gs&536870912)!==0?o=!1:(ed=o=!0,(j===2||j===9||j===3||j===6)&&(j=Pc.current,j!==null&&j.tag===13&&(j.flags|=16384))),mu(c,o)):Mu(c)}function Mu(o){var c=o;do{if((c.flags&32768)!==0){mu(c,ed);return}o=c.return;var p=F1(c.alternate,c,CA);if(p!==null){bs=p;return}if(c=c.sibling,c!==null){bs=c;return}bs=c=o}while(c!==null);ea===0&&(ea=5)}function mu(o,c){do{var p=L1(o.alternate,o);if(p!==null){p.flags&=32767,bs=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){bs=o;return}bs=o=p}while(o!==null);ea=6,bs=null}function EA(o,c,p,j,O,H,ge,Fe,qe){o.cancelPendingCommit=null;do Yc();while(te!==0);if((bi&6)!==0)throw Error(s(327));if(c!==null){if(c===o.current)throw Error(s(177));if(H=c.lanes|c.childLanes,H|=Qa,rn(o,p,H,ge,Fe,qe),o===ro&&(bs=ro=null,Gs=0),we=c,fe=o,ke=p,Qe=H,it=O,pt=j,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,WR(Ge,function(){return Xd(),null})):(o.callbackNode=null,o.callbackPriority=0),j=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||j){j=J.T,J.T=null,O=G.p,G.p=2,ge=bi,bi|=4;try{D1(o,c,p)}finally{bi=ge,G.p=O,J.T=j}}te=1,nd(),rd(),ku()}}function nd(){if(te===1){te=0;var o=fe,c=we,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=J.T,J.T=null;var j=G.p;G.p=2;var O=bi;bi|=4;try{u0(c,o);var H=K1,ge=tc(o.containerInfo),Fe=H.focusedElem,qe=H.selectionRange;if(ge!==Fe&&Fe&&Fe.ownerDocument&&bc(Fe.ownerDocument.documentElement,Fe)){if(qe!==null&&sl(Fe)){var Rt=qe.start,Yt=qe.end;if(Yt===void 0&&(Yt=Rt),"selectionStart"in Fe)Fe.selectionStart=Rt,Fe.selectionEnd=Math.min(Yt,Fe.value.length);else{var ln=Fe.ownerDocument||document,Ot=ln&&ln.defaultView||window;if(Ot.getSelection){var Mt=Ot.getSelection(),Vr=Fe.textContent.length,Rr=Math.min(qe.start,Vr),io=qe.end===void 0?Rr:Math.min(qe.end,Vr);!Mt.extend&&Rr>io&&(ge=io,io=Rr,Rr=ge);var Bt=rl(Fe,Rr),ct=rl(Fe,io);if(Bt&&ct&&(Mt.rangeCount!==1||Mt.anchorNode!==Bt.node||Mt.anchorOffset!==Bt.offset||Mt.focusNode!==ct.node||Mt.focusOffset!==ct.offset)){var Dt=ln.createRange();Dt.setStart(Bt.node,Bt.offset),Mt.removeAllRanges(),Rr>io?(Mt.addRange(Dt),Mt.extend(ct.node,ct.offset)):(Dt.setEnd(ct.node,ct.offset),Mt.addRange(Dt))}}}}for(ln=[],Mt=Fe;Mt=Mt.parentNode;)Mt.nodeType===1&&ln.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof Fe.focus=="function"&&Fe.focus(),Fe=0;Fe<ln.length;Fe++){var Jt=ln[Fe];Jt.element.scrollLeft=Jt.left,Jt.element.scrollTop=Jt.top}}Wx=!!G1,K1=G1=null}finally{bi=O,G.p=j,J.T=p}}o.current=c,te=2}}function rd(){if(te===2){te=0;var o=fe,c=we,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=J.T,J.T=null;var j=G.p;G.p=2;var O=bi;bi|=4;try{ii(o,c.alternate,c)}finally{bi=O,G.p=j,J.T=p}}te=3}}function ku(){if(te===4||te===3){te=0,at();var o=fe,c=we,p=ke,j=pt;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?te=5:(te=0,we=fe=null,sd(o,o.pendingLanes));var O=o.pendingLanes;if(O===0&&(D=null),os(p),c=c.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(yt,c,void 0,(c.current.flags&128)===128)}catch{}if(j!==null){c=J.T,O=G.p,G.p=2,J.T=null;try{for(var H=o.onRecoverableError,ge=0;ge<j.length;ge++){var Fe=j[ge];H(Fe.value,{componentStack:Fe.stack})}}finally{J.T=c,G.p=O}}(ke&3)!==0&&Yc(),id(o),O=o.pendingLanes,(p&4194090)!==0&&(O&42)!==0?o===$t?It++:(It=0,$t=o):It=0,m0(0)}}function sd(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ld(c)))}function Yc(o){return nd(),rd(),ku(),Xd()}function Xd(){if(te!==5)return!1;var o=fe,c=Qe;Qe=0;var p=os(ke),j=J.T,O=G.p;try{G.p=32>p?32:p,J.T=null,p=it,it=null;var H=fe,ge=ke;if(te=0,we=fe=null,ke=0,(bi&6)!==0)throw Error(s(331));var Fe=bi;if(bi|=4,jm(H.current),Rx(H,H.current,ge,p),bi=Fe,m0(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(yt,H)}catch{}return!0}finally{G.p=O,J.T=j,sd(o,c)}}function $h(o,c,p){c=Ma(p,c),c=e0(o.stateNode,c,2),o=An(o,c,2),o!==null&&(jn(o,2),id(o))}function mo(o,c,p){if(o.tag===3)$h(o,o,p);else for(;c!==null;){if(c.tag===3){$h(c,o,p);break}else if(c.tag===1){var j=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(D===null||!D.has(j))){o=Ma(p,o),p=Wf(2),j=An(c,p,2),j!==null&&(Yf(p,j,c,o),jn(j,2),id(j));break}}c=c.return}}function N1(o,c,p){var j=o.pingCache;if(j===null){j=o.pingCache=new zh;var O=new Set;j.set(c,O)}else O=j.get(c),O===void 0&&(O=new Set,j.set(c,O));O.has(p)||(h0=!0,O.add(p),o=$R.bind(null,o,c,p),c.then(o,o))}function $R(o,c,p){var j=o.pingCache;j!==null&&j.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ro===o&&(Gs&p)===p&&(ea===4||ea===3&&(Gs&62914560)===Gs&&300>Gt()-_?(bi&2)===0&&Un(o,0):f0|=p,Vh===Gs&&(Vh=0)),id(o)}function LB(o,c){c===0&&(c=Nn()),o=au(o,c),o!==null&&(jn(o,c),id(o))}function GR(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),LB(o,p)}function KR(o,c){var p=0;switch(o.tag){case 13:var j=o.stateNode,O=o.memoizedState;O!==null&&(p=O.retryLane);break;case 19:j=o.stateNode;break;case 22:j=o.stateNode._retryCache;break;default:throw Error(s(314))}j!==null&&j.delete(c),LB(o,p)}function WR(o,c){return wt(o,c)}var Ox=null,bm=null,O1=!1,Ux=!1,U1=!1,sp=0;function id(o){o!==bm&&o.next===null&&(bm===null?Ox=bm=o:bm=bm.next=o),Ux=!0,O1||(O1=!0,XR())}function m0(o,c){if(!U1&&Ux){U1=!0;do for(var p=!1,j=Ox;j!==null;){if(o!==0){var O=j.pendingLanes;if(O===0)var H=0;else{var ge=j.suspendedLanes,Fe=j.pingedLanes;H=(1<<31-Ft(42|o)+1)-1,H&=O&~(ge&~Fe),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(p=!0,NB(j,H))}else H=Gs,H=nn(j,j===ro?H:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),(H&3)===0||xt(j,H)||(p=!0,NB(j,H));j=j.next}while(p);U1=!1}}function YR(){DB()}function DB(){Ux=O1=!1;var o=0;sp!==0&&(sN()&&(o=sp),sp=0);for(var c=Gt(),p=null,j=Ox;j!==null;){var O=j.next,H=PB(j,c);H===0?(j.next=null,p===null?Ox=O:p.next=O,O===null&&(bm=p)):(p=j,(o!==0||(H&3)!==0)&&(Ux=!0)),j=O}m0(o)}function PB(o,c){for(var p=o.suspendedLanes,j=o.pingedLanes,O=o.expirationTimes,H=o.pendingLanes&-62914561;0<H;){var ge=31-Ft(H),Fe=1<<ge,qe=O[ge];qe===-1?((Fe&p)===0||(Fe&j)!==0)&&(O[ge]=an(Fe,c)):qe<=c&&(o.expiredLanes|=Fe),H&=~Fe}if(c=ro,p=Gs,p=nn(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),j=o.callbackNode,p===0||o===c&&(di===2||di===9)||o.cancelPendingCommit!==null)return j!==null&&j!==null&&nt(j),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||xt(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(j!==null&&nt(j),os(p)){case 2:case 8:p=ve;break;case 32:p=Ge;break;case 268435456:p=_t;break;default:p=Ge}return j=RB.bind(null,o),p=wt(p,j),o.callbackPriority=c,o.callbackNode=p,c}return j!==null&&j!==null&&nt(j),o.callbackPriority=2,o.callbackNode=null,2}function RB(o,c){if(te!==0&&te!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Yc()&&o.callbackNode!==p)return null;var j=Gs;return j=nn(o,o===ro?j:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),j===0?null:(ns(o,j,c),PB(o,Gt()),o.callbackNode!=null&&o.callbackNode===p?RB.bind(null,o):null)}function NB(o,c){if(Yc())return null;ns(o,c,!0)}function XR(){oN(function(){(bi&6)!==0?wt(ce,YR):DB()})}function M1(){return sp===0&&(sp=dn()),sp}function OB(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:xa(""+o)}function UB(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function ZR(o,c,p,j,O){if(c==="submit"&&p&&p.stateNode===O){var H=OB((O[Ys]||null).action),ge=j.submitter;ge&&(c=(c=ge[Ys]||null)?OB(c.formAction):ge.getAttribute("formAction"),c!==null&&(H=c,ge=null));var Fe=new Nt("action","action",null,j,O);o.push({event:Fe,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(sp!==0){var qe=ge?UB(O,ge):new FormData(O);Gc(p,{pending:!0,data:qe,method:O.method,action:H},null,qe)}}else typeof H=="function"&&(Fe.preventDefault(),qe=ge?UB(O,ge):new FormData(O),Gc(p,{pending:!0,data:qe,method:O.method,action:H},H,qe))},currentTarget:O}]})}}for(var k1=0;k1<wc.length;k1++){var Q1=wc[k1],qR=Q1.toLowerCase(),JR=Q1[0].toUpperCase()+Q1.slice(1);gl(qR,"on"+JR)}gl($l,"onAnimationEnd"),gl(Ua,"onAnimationIteration"),gl(rc,"onAnimationStart"),gl("dblclick","onDoubleClick"),gl("focusin","onFocus"),gl("focusout","onBlur"),gl(iu,"onTransitionRun"),gl(sA,"onTransitionStart"),gl(Fd,"onTransitionCancel"),gl(iA,"onTransitionEnd"),Ho("onMouseEnter",["mouseout","mouseover"]),Ho("onMouseLeave",["mouseout","mouseover"]),Ho("onPointerEnter",["pointerout","pointerover"]),Ho("onPointerLeave",["pointerout","pointerover"]),zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zo("onBeforeInput",["compositionend","keypress","textInput","paste"]),zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var g0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(g0));function MB(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var j=o[p],O=j.event;j=j.listeners;e:{var H=void 0;if(c)for(var ge=j.length-1;0<=ge;ge--){var Fe=j[ge],qe=Fe.instance,Rt=Fe.currentTarget;if(Fe=Fe.listener,qe!==H&&O.isPropagationStopped())break e;H=Fe,O.currentTarget=Rt;try{H(O)}catch(Yt){Oh(Yt)}O.currentTarget=null,H=qe}else for(ge=0;ge<j.length;ge++){if(Fe=j[ge],qe=Fe.instance,Rt=Fe.currentTarget,Fe=Fe.listener,qe!==H&&O.isPropagationStopped())break e;H=Fe,O.currentTarget=Rt;try{H(O)}catch(Yt){Oh(Yt)}O.currentTarget=null,H=qe}}}}function Ds(o,c){var p=c[On];p===void 0&&(p=c[On]=new Set);var j=o+"__bubble";p.has(j)||(kB(c,o,2,!1),p.add(j))}function z1(o,c,p){var j=0;c&&(j|=4),kB(p,o,j,c)}var Mx="_reactListening"+Math.random().toString(36).slice(2);function H1(o){if(!o[Mx]){o[Mx]=!0,Qo.forEach(function(p){p!=="selectionchange"&&(eN.has(p)||z1(p,!1,o),z1(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Mx]||(c[Mx]=!0,z1("selectionchange",!1,c))}}function kB(o,c,p,j){switch(uE(c)){case 2:var O=EN;break;case 8:O=TN;break;default:O=rb}p=O.bind(null,c,p,o),O=void 0,!Wi||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),j?O!==void 0?o.addEventListener(c,p,{capture:!0,passive:O}):o.addEventListener(c,p,!0):O!==void 0?o.addEventListener(c,p,{passive:O}):o.addEventListener(c,p,!1)}function V1(o,c,p,j,O){var H=j;if((c&1)===0&&(c&2)===0&&j!==null)e:for(;;){if(j===null)return;var ge=j.tag;if(ge===3||ge===4){var Fe=j.stateNode.containerInfo;if(Fe===O)break;if(ge===4)for(ge=j.return;ge!==null;){var qe=ge.tag;if((qe===3||qe===4)&&ge.stateNode.containerInfo===O)return;ge=ge.return}for(;Fe!==null;){if(ge=ti(Fe),ge===null)return;if(qe=ge.tag,qe===5||qe===6||qe===26||qe===27){j=H=ge;continue e}Fe=Fe.parentNode}}j=j.return}Ki(function(){var Rt=H,Yt=Pa(p),ln=[];e:{var Ot=HA.get(o);if(Ot!==void 0){var Mt=Nt,Vr=o;switch(o){case"keypress":if(zs(p)===0)break e;case"keydown":case"keyup":Mt=Cr;break;case"focusin":Vr="focus",Mt=wo;break;case"focusout":Vr="blur",Mt=wo;break;case"beforeblur":case"afterblur":Mt=wo;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Qi;break;case $l:case Ua:case rc:Mt=jc;break;case iA:Mt=ci;break;case"scroll":case"scrollend":Mt=un;break;case"wheel":Mt=So;break;case"copy":case"cut":case"paste":Mt=X;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=ts;break;case"toggle":case"beforetoggle":Mt=Lo}var Rr=(c&4)!==0,io=!Rr&&(o==="scroll"||o==="scrollend"),Bt=Rr?Ot!==null?Ot+"Capture":null:Ot;Rr=[];for(var ct=Rt,Dt;ct!==null;){var Jt=ct;if(Dt=Jt.stateNode,Jt=Jt.tag,Jt!==5&&Jt!==26&&Jt!==27||Dt===null||Bt===null||(Jt=as(ct,Bt),Jt!=null&&Rr.push(v0(ct,Jt,Dt))),io)break;ct=ct.return}0<Rr.length&&(Ot=new Mt(Ot,Vr,null,p,Yt),ln.push({event:Ot,listeners:Rr}))}}if((c&7)===0){e:{if(Ot=o==="mouseover"||o==="pointerover",Mt=o==="mouseout"||o==="pointerout",Ot&&p!==Qs&&(Vr=p.relatedTarget||p.fromElement)&&(ti(Vr)||Vr[$i]))break e;if((Mt||Ot)&&(Ot=Yt.window===Yt?Yt:(Ot=Yt.ownerDocument)?Ot.defaultView||Ot.parentWindow:window,Mt?(Vr=p.relatedTarget||p.toElement,Mt=Rt,Vr=Vr?ti(Vr):null,Vr!==null&&(io=l(Vr),Rr=Vr.tag,Vr!==io||Rr!==5&&Rr!==27&&Rr!==6)&&(Vr=null)):(Mt=null,Vr=Rt),Mt!==Vr)){if(Rr=mi,Jt="onMouseLeave",Bt="onMouseEnter",ct="mouse",(o==="pointerout"||o==="pointerover")&&(Rr=ts,Jt="onPointerLeave",Bt="onPointerEnter",ct="pointer"),io=Mt==null?Ot:pi(Mt),Dt=Vr==null?Ot:pi(Vr),Ot=new Rr(Jt,ct+"leave",Mt,p,Yt),Ot.target=io,Ot.relatedTarget=Dt,Jt=null,ti(Yt)===Rt&&(Rr=new Rr(Bt,ct+"enter",Vr,p,Yt),Rr.target=Dt,Rr.relatedTarget=io,Jt=Rr),io=Jt,Mt&&Vr)t:{for(Rr=Mt,Bt=Vr,ct=0,Dt=Rr;Dt;Dt=wm(Dt))ct++;for(Dt=0,Jt=Bt;Jt;Jt=wm(Jt))Dt++;for(;0<ct-Dt;)Rr=wm(Rr),ct--;for(;0<Dt-ct;)Bt=wm(Bt),Dt--;for(;ct--;){if(Rr===Bt||Bt!==null&&Rr===Bt.alternate)break t;Rr=wm(Rr),Bt=wm(Bt)}Rr=null}else Rr=null;Mt!==null&&QB(ln,Ot,Mt,Rr,!1),Vr!==null&&io!==null&&QB(ln,io,Vr,Rr,!0)}}e:{if(Ot=Rt?pi(Rt):window,Mt=Ot.nodeName&&Ot.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Ot.type==="file")var hr=Fl;else if(yr(Ot))if(ua)hr=Zi;else{hr=zc;var Ts=Vl}else Mt=Ot.nodeName,!Mt||Mt.toLowerCase()!=="input"||Ot.type!=="checkbox"&&Ot.type!=="radio"?Rt&&Wo(Rt.elementType)&&(hr=Fl):hr=Oa;if(hr&&(hr=hr(o,Rt))){vi(ln,hr,p,Yt);break e}Ts&&Ts(o,Ot,Rt),o==="focusout"&&Rt&&Ot.type==="number"&&Rt.memoizedProps.value!=null&&ul(Ot,"number",Ot.value)}switch(Ts=Rt?pi(Rt):window,o){case"focusin":(yr(Ts)||Ts.contentEditable==="true")&&(Zo=Ts,ba=Rt,qi=null);break;case"focusout":qi=ba=Zo=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,ml(ln,p,Yt);break;case"selectionchange":if(Ll)break;case"keydown":case"keyup":ml(ln,p,Yt)}var jr;if(fl)e:{switch(o){case"compositionstart":var Nr="onCompositionStart";break e;case"compositionend":Nr="onCompositionEnd";break e;case"compositionupdate":Nr="onCompositionUpdate";break e}Nr=void 0}else ls?lr(o,p)&&(Nr="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Nr="onCompositionStart");Nr&&(Le&&p.locale!=="ko"&&(ls||Nr!=="onCompositionStart"?Nr==="onCompositionEnd"&&ls&&(jr=el()):(ni=Yt,ya="value"in ni?ni.value:ni.textContent,ls=!0)),Ts=kx(Rt,Nr),0<Ts.length&&(Nr=new He(Nr,o,null,p,Yt),ln.push({event:Nr,listeners:Ts}),jr?Nr.data=jr:(jr=wn(p),jr!==null&&(Nr.data=jr)))),(jr=ue?Xo(o,p):uo(o,p))&&(Nr=kx(Rt,"onBeforeInput"),0<Nr.length&&(Ts=new He("onBeforeInput","beforeinput",null,p,Yt),ln.push({event:Ts,listeners:Nr}),Ts.data=jr)),ZR(ln,o,Rt,p,Yt)}MB(ln,c)})}function v0(o,c,p){return{instance:o,listener:c,currentTarget:p}}function kx(o,c){for(var p=c+"Capture",j=[];o!==null;){var O=o,H=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||H===null||(O=as(o,p),O!=null&&j.unshift(v0(o,O,H)),O=as(o,c),O!=null&&j.push(v0(o,O,H))),o.tag===3)return j;o=o.return}return[]}function wm(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function QB(o,c,p,j,O){for(var H=c._reactName,ge=[];p!==null&&p!==j;){var Fe=p,qe=Fe.alternate,Rt=Fe.stateNode;if(Fe=Fe.tag,qe!==null&&qe===j)break;Fe!==5&&Fe!==26&&Fe!==27||Rt===null||(qe=Rt,O?(Rt=as(p,H),Rt!=null&&ge.unshift(v0(p,Rt,qe))):O||(Rt=as(p,H),Rt!=null&&ge.push(v0(p,Rt,qe)))),p=p.return}ge.length!==0&&o.push({event:c,listeners:ge})}var tN=/\r\n?/g,nN=/\u0000|\uFFFD/g;function zB(o){return(typeof o=="string"?o:""+o).replace(tN,`
`).replace(nN,"")}function HB(o,c){return c=zB(c),zB(o)===c}function Qx(){}function so(o,c,p,j,O,H){switch(p){case"children":typeof j=="string"?c==="body"||c==="textarea"&&j===""||Ko(o,j):(typeof j=="number"||typeof j=="bigint")&&c!=="body"&&Ko(o,""+j);break;case"className":Oi(o,"class",j);break;case"tabIndex":Oi(o,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(o,p,j);break;case"style":ki(o,j,H);break;case"data":if(c!=="object"){Oi(o,"data",j);break}case"src":case"href":if(j===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){o.removeAttribute(p);break}j=xa(""+j),o.setAttribute(p,j);break;case"action":case"formAction":if(typeof j=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(p==="formAction"?(c!=="input"&&so(o,c,"name",O.name,O,null),so(o,c,"formEncType",O.formEncType,O,null),so(o,c,"formMethod",O.formMethod,O,null),so(o,c,"formTarget",O.formTarget,O,null)):(so(o,c,"encType",O.encType,O,null),so(o,c,"method",O.method,O,null),so(o,c,"target",O.target,O,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){o.removeAttribute(p);break}j=xa(""+j),o.setAttribute(p,j);break;case"onClick":j!=null&&(o.onclick=Qx);break;case"onScroll":j!=null&&Ds("scroll",o);break;case"onScrollEnd":j!=null&&Ds("scrollend",o);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(s(61));if(p=j.__html,p!=null){if(O.children!=null)throw Error(s(60));o.innerHTML=p}}break;case"multiple":o.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":o.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){o.removeAttribute("xlink:href");break}p=xa(""+j),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?o.setAttribute(p,""+j):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":j===!0?o.setAttribute(p,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?o.setAttribute(p,j):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?o.setAttribute(p,j):o.removeAttribute(p);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?o.removeAttribute(p):o.setAttribute(p,j);break;case"popover":Ds("beforetoggle",o),Ds("toggle",o),Vo(o,"popover",j);break;case"xlinkActuate":yo(o,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":yo(o,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":yo(o,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":yo(o,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":yo(o,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":yo(o,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":yo(o,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":yo(o,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":yo(o,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":Vo(o,"is",j);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ec.get(p)||p,Vo(o,p,j))}}function $1(o,c,p,j,O,H){switch(p){case"style":ki(o,j,H);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(s(61));if(p=j.__html,p!=null){if(O.children!=null)throw Error(s(60));o.innerHTML=p}}break;case"children":typeof j=="string"?Ko(o,j):(typeof j=="number"||typeof j=="bigint")&&Ko(o,""+j);break;case"onScroll":j!=null&&Ds("scroll",o);break;case"onScrollEnd":j!=null&&Ds("scrollend",o);break;case"onClick":j!=null&&(o.onclick=Qx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(O=p.endsWith("Capture"),c=p.slice(2,O?p.length-7:void 0),H=o[Ys]||null,H=H!=null?H[p]:null,typeof H=="function"&&o.removeEventListener(c,H,O),typeof j=="function")){typeof H!="function"&&H!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,j,O);break e}p in o?o[p]=j:j===!0?o.setAttribute(p,""):Vo(o,p,j)}}}function Yl(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ds("error",o),Ds("load",o);var j=!1,O=!1,H;for(H in p)if(p.hasOwnProperty(H)){var ge=p[H];if(ge!=null)switch(H){case"src":j=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:so(o,c,H,ge,p,null)}}O&&so(o,c,"srcSet",p.srcSet,p,null),j&&so(o,c,"src",p.src,p,null);return;case"input":Ds("invalid",o);var Fe=H=ge=O=null,qe=null,Rt=null;for(j in p)if(p.hasOwnProperty(j)){var Yt=p[j];if(Yt!=null)switch(j){case"name":O=Yt;break;case"type":ge=Yt;break;case"checked":qe=Yt;break;case"defaultChecked":Rt=Yt;break;case"value":H=Yt;break;case"defaultValue":Fe=Yt;break;case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(s(137,c));break;default:so(o,c,j,Yt,p,null)}}Ql(o,H,Fe,qe,Rt,ge,O,!1),Mi(o);return;case"select":Ds("invalid",o),j=ge=H=null;for(O in p)if(p.hasOwnProperty(O)&&(Fe=p[O],Fe!=null))switch(O){case"value":H=Fe;break;case"defaultValue":ge=Fe;break;case"multiple":j=Fe;default:so(o,c,O,Fe,p,null)}c=H,p=ge,o.multiple=!!j,c!=null?Go(o,!!j,c,!1):p!=null&&Go(o,!!j,p,!0);return;case"textarea":Ds("invalid",o),H=O=j=null;for(ge in p)if(p.hasOwnProperty(ge)&&(Fe=p[ge],Fe!=null))switch(ge){case"value":j=Fe;break;case"defaultValue":O=Fe;break;case"children":H=Fe;break;case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(s(91));break;default:so(o,c,ge,Fe,p,null)}Ja(o,j,O,H),Mi(o);return;case"option":for(qe in p)if(p.hasOwnProperty(qe)&&(j=p[qe],j!=null))switch(qe){case"selected":o.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:so(o,c,qe,j,p,null)}return;case"dialog":Ds("beforetoggle",o),Ds("toggle",o),Ds("cancel",o),Ds("close",o);break;case"iframe":case"object":Ds("load",o);break;case"video":case"audio":for(j=0;j<g0.length;j++)Ds(g0[j],o);break;case"image":Ds("error",o),Ds("load",o);break;case"details":Ds("toggle",o);break;case"embed":case"source":case"link":Ds("error",o),Ds("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in p)if(p.hasOwnProperty(Rt)&&(j=p[Rt],j!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:so(o,c,Rt,j,p,null)}return;default:if(Wo(c)){for(Yt in p)p.hasOwnProperty(Yt)&&(j=p[Yt],j!==void 0&&$1(o,c,Yt,j,p,void 0));return}}for(Fe in p)p.hasOwnProperty(Fe)&&(j=p[Fe],j!=null&&so(o,c,Fe,j,p,null))}function rN(o,c,p,j){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,H=null,ge=null,Fe=null,qe=null,Rt=null,Yt=null;for(Mt in p){var ln=p[Mt];if(p.hasOwnProperty(Mt)&&ln!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":qe=ln;default:j.hasOwnProperty(Mt)||so(o,c,Mt,null,j,ln)}}for(var Ot in j){var Mt=j[Ot];if(ln=p[Ot],j.hasOwnProperty(Ot)&&(Mt!=null||ln!=null))switch(Ot){case"type":H=Mt;break;case"name":O=Mt;break;case"checked":Rt=Mt;break;case"defaultChecked":Yt=Mt;break;case"value":ge=Mt;break;case"defaultValue":Fe=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(s(137,c));break;default:Mt!==ln&&so(o,c,Ot,Mt,j,ln)}}li(o,ge,Fe,qe,Rt,Yt,H,O);return;case"select":Mt=ge=Fe=Ot=null;for(H in p)if(qe=p[H],p.hasOwnProperty(H)&&qe!=null)switch(H){case"value":break;case"multiple":Mt=qe;default:j.hasOwnProperty(H)||so(o,c,H,null,j,qe)}for(O in j)if(H=j[O],qe=p[O],j.hasOwnProperty(O)&&(H!=null||qe!=null))switch(O){case"value":Ot=H;break;case"defaultValue":Fe=H;break;case"multiple":ge=H;default:H!==qe&&so(o,c,O,H,j,qe)}c=Fe,p=ge,j=Mt,Ot!=null?Go(o,!!p,Ot,!1):!!j!=!!p&&(c!=null?Go(o,!!p,c,!0):Go(o,!!p,p?[]:"",!1));return;case"textarea":Mt=Ot=null;for(Fe in p)if(O=p[Fe],p.hasOwnProperty(Fe)&&O!=null&&!j.hasOwnProperty(Fe))switch(Fe){case"value":break;case"children":break;default:so(o,c,Fe,null,j,O)}for(ge in j)if(O=j[ge],H=p[ge],j.hasOwnProperty(ge)&&(O!=null||H!=null))switch(ge){case"value":Ot=O;break;case"defaultValue":Mt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:O!==H&&so(o,c,ge,O,j,H)}fs(o,Ot,Mt);return;case"option":for(var Vr in p)if(Ot=p[Vr],p.hasOwnProperty(Vr)&&Ot!=null&&!j.hasOwnProperty(Vr))switch(Vr){case"selected":o.selected=!1;break;default:so(o,c,Vr,null,j,Ot)}for(qe in j)if(Ot=j[qe],Mt=p[qe],j.hasOwnProperty(qe)&&Ot!==Mt&&(Ot!=null||Mt!=null))switch(qe){case"selected":o.selected=Ot&&typeof Ot!="function"&&typeof Ot!="symbol";break;default:so(o,c,qe,Ot,j,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rr in p)Ot=p[Rr],p.hasOwnProperty(Rr)&&Ot!=null&&!j.hasOwnProperty(Rr)&&so(o,c,Rr,null,j,Ot);for(Rt in j)if(Ot=j[Rt],Mt=p[Rt],j.hasOwnProperty(Rt)&&Ot!==Mt&&(Ot!=null||Mt!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(s(137,c));break;default:so(o,c,Rt,Ot,j,Mt)}return;default:if(Wo(c)){for(var io in p)Ot=p[io],p.hasOwnProperty(io)&&Ot!==void 0&&!j.hasOwnProperty(io)&&$1(o,c,io,void 0,j,Ot);for(Yt in j)Ot=j[Yt],Mt=p[Yt],!j.hasOwnProperty(Yt)||Ot===Mt||Ot===void 0&&Mt===void 0||$1(o,c,Yt,Ot,j,Mt);return}}for(var Bt in p)Ot=p[Bt],p.hasOwnProperty(Bt)&&Ot!=null&&!j.hasOwnProperty(Bt)&&so(o,c,Bt,null,j,Ot);for(ln in j)Ot=j[ln],Mt=p[ln],!j.hasOwnProperty(ln)||Ot===Mt||Ot==null&&Mt==null||so(o,c,ln,Ot,j,Mt)}var G1=null,K1=null;function zx(o){return o.nodeType===9?o:o.ownerDocument}function VB(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $B(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function W1(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Y1=null;function sN(){var o=window.event;return o&&o.type==="popstate"?o===Y1?!1:(Y1=o,!0):(Y1=null,!1)}var GB=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,KB=typeof Promise=="function"?Promise:void 0,oN=typeof queueMicrotask=="function"?queueMicrotask:typeof KB<"u"?function(o){return KB.resolve(null).then(o).catch(aN)}:GB;function aN(o){setTimeout(function(){throw o})}function Gh(o){return o==="head"}function WB(o,c){var p=c,j=0,O=0;do{var H=p.nextSibling;if(o.removeChild(p),H&&H.nodeType===8)if(p=H.data,p==="/$"){if(0<j&&8>j){p=j;var ge=o.ownerDocument;if(p&1&&x0(ge.documentElement),p&2&&x0(ge.body),p&4)for(p=ge.head,x0(p),ge=p.firstChild;ge;){var Fe=ge.nextSibling,qe=ge.nodeName;ge[lo]||qe==="SCRIPT"||qe==="STYLE"||qe==="LINK"&&ge.rel.toLowerCase()==="stylesheet"||p.removeChild(ge),ge=Fe}}if(O===0){o.removeChild(H),E0(c);return}O--}else p==="$"||p==="$?"||p==="$!"?O++:j=p.charCodeAt(0)-48;else j=0;p=H}while(p);E0(c)}function X1(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":X1(p),Es(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function lN(o,c,p,j){for(;o.nodeType===1;){var O=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!j&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(j){if(!o[lo])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(H=o.getAttribute("rel"),H==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(H!==O.rel||o.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||o.getAttribute("title")!==(O.title==null?null:O.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(H=o.getAttribute("src"),(H!==(O.src==null?null:O.src)||o.getAttribute("type")!==(O.type==null?null:O.type)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&H&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var H=O.name==null?null:""+O.name;if(O.type==="hidden"&&o.getAttribute("name")===H)return o}else return o;if(o=TA(o.nextSibling),o===null)break}return null}function cN(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=TA(o.nextSibling),o===null))return null;return o}function Z1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function uN(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var j=function(){c(),p.removeEventListener("DOMContentLoaded",j)};p.addEventListener("DOMContentLoaded",j),o._reactRetry=j}}function TA(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var q1=null;function YB(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function XB(o,c,p){switch(c=zx(p),o){case"html":if(o=c.documentElement,!o)throw Error(s(452));return o;case"head":if(o=c.head,!o)throw Error(s(453));return o;case"body":if(o=c.body,!o)throw Error(s(454));return o;default:throw Error(s(451))}}function x0(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Es(o)}var Qu=new Map,ZB=new Set;function Hx(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Zd=G.d;G.d={f:AN,r:dN,D:hN,C:fN,L:pN,m:mN,X:vN,S:gN,M:xN};function AN(){var o=Zd.f(),c=es();return o||c}function dN(o){var c=ai(o);c!==null&&c.tag===5&&c.type==="form"?Md(c):Zd.r(o)}var Sm=typeof document>"u"?null:document;function qB(o,c,p){var j=Sm;if(j&&typeof c=="string"&&c){var O=qr(c);O='link[rel="'+o+'"][href="'+O+'"]',typeof p=="string"&&(O+='[crossorigin="'+p+'"]'),ZB.has(O)||(ZB.add(O),o={rel:o,crossOrigin:p,href:c},j.querySelector(O)===null&&(c=j.createElement("link"),Yl(c,"link",o),Ms(c),j.head.appendChild(c)))}}function hN(o){Zd.D(o),qB("dns-prefetch",o,null)}function fN(o,c){Zd.C(o,c),qB("preconnect",o,c)}function pN(o,c,p){Zd.L(o,c,p);var j=Sm;if(j&&o&&c){var O='link[rel="preload"][as="'+qr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(O+='[imagesrcset="'+qr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(O+='[imagesizes="'+qr(p.imageSizes)+'"]')):O+='[href="'+qr(o)+'"]';var H=O;switch(c){case"style":H=Cm(o);break;case"script":H=Bm(o)}Qu.has(H)||(o=a({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Qu.set(H,o),j.querySelector(O)!==null||c==="style"&&j.querySelector(y0(H))||c==="script"&&j.querySelector(j0(H))||(c=j.createElement("link"),Yl(c,"link",o),Ms(c),j.head.appendChild(c)))}}function mN(o,c){Zd.m(o,c);var p=Sm;if(p&&o){var j=c&&typeof c.as=="string"?c.as:"script",O='link[rel="modulepreload"][as="'+qr(j)+'"][href="'+qr(o)+'"]',H=O;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=Bm(o)}if(!Qu.has(H)&&(o=a({rel:"modulepreload",href:o},c),Qu.set(H,o),p.querySelector(O)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(j0(H)))return}j=p.createElement("link"),Yl(j,"link",o),Ms(j),p.head.appendChild(j)}}}function gN(o,c,p){Zd.S(o,c,p);var j=Sm;if(j&&o){var O=Ii(j).hoistableStyles,H=Cm(o);c=c||"default";var ge=O.get(H);if(!ge){var Fe={loading:0,preload:null};if(ge=j.querySelector(y0(H)))Fe.loading=5;else{o=a({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Qu.get(H))&&J1(o,p);var qe=ge=j.createElement("link");Ms(qe),Yl(qe,"link",o),qe._p=new Promise(function(Rt,Yt){qe.onload=Rt,qe.onerror=Yt}),qe.addEventListener("load",function(){Fe.loading|=1}),qe.addEventListener("error",function(){Fe.loading|=2}),Fe.loading|=4,Vx(ge,c,j)}ge={type:"stylesheet",instance:ge,count:1,state:Fe},O.set(H,ge)}}}function vN(o,c){Zd.X(o,c);var p=Sm;if(p&&o){var j=Ii(p).hoistableScripts,O=Bm(o),H=j.get(O);H||(H=p.querySelector(j0(O)),H||(o=a({src:o,async:!0},c),(c=Qu.get(O))&&eb(o,c),H=p.createElement("script"),Ms(H),Yl(H,"link",o),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},j.set(O,H))}}function xN(o,c){Zd.M(o,c);var p=Sm;if(p&&o){var j=Ii(p).hoistableScripts,O=Bm(o),H=j.get(O);H||(H=p.querySelector(j0(O)),H||(o=a({src:o,async:!0,type:"module"},c),(c=Qu.get(O))&&eb(o,c),H=p.createElement("script"),Ms(H),Yl(H,"link",o),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},j.set(O,H))}}function JB(o,c,p,j){var O=(O=me.current)?Hx(O):null;if(!O)throw Error(s(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Cm(p.href),p=Ii(O).hoistableStyles,j=p.get(c),j||(j={type:"style",instance:null,count:0,state:null},p.set(c,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Cm(p.href);var H=Ii(O).hoistableStyles,ge=H.get(o);if(ge||(O=O.ownerDocument||O,ge={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(o,ge),(H=O.querySelector(y0(o)))&&!H._p&&(ge.instance=H,ge.state.loading=5),Qu.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Qu.set(o,p),H||yN(O,o,p,ge.state))),c&&j===null)throw Error(s(528,""));return ge}if(c&&j!==null)throw Error(s(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Bm(p),p=Ii(O).hoistableScripts,j=p.get(c),j||(j={type:"script",instance:null,count:0,state:null},p.set(c,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,o))}}function Cm(o){return'href="'+qr(o)+'"'}function y0(o){return'link[rel="stylesheet"]['+o+"]"}function eE(o){return a({},o,{"data-precedence":o.precedence,precedence:null})}function yN(o,c,p,j){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?j.loading=1:(c=o.createElement("link"),j.preload=c,c.addEventListener("load",function(){return j.loading|=1}),c.addEventListener("error",function(){return j.loading|=2}),Yl(c,"link",p),Ms(c),o.head.appendChild(c))}function Bm(o){return'[src="'+qr(o)+'"]'}function j0(o){return"script[async]"+o}function tE(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var j=o.querySelector('style[data-href~="'+qr(p.href)+'"]');if(j)return c.instance=j,Ms(j),j;var O=a({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return j=(o.ownerDocument||o).createElement("style"),Ms(j),Yl(j,"style",O),Vx(j,p.precedence,o),c.instance=j;case"stylesheet":O=Cm(p.href);var H=o.querySelector(y0(O));if(H)return c.state.loading|=4,c.instance=H,Ms(H),H;j=eE(p),(O=Qu.get(O))&&J1(j,O),H=(o.ownerDocument||o).createElement("link"),Ms(H);var ge=H;return ge._p=new Promise(function(Fe,qe){ge.onload=Fe,ge.onerror=qe}),Yl(H,"link",j),c.state.loading|=4,Vx(H,p.precedence,o),c.instance=H;case"script":return H=Bm(p.src),(O=o.querySelector(j0(H)))?(c.instance=O,Ms(O),O):(j=p,(O=Qu.get(H))&&(j=a({},p),eb(j,O)),o=o.ownerDocument||o,O=o.createElement("script"),Ms(O),Yl(O,"link",j),o.head.appendChild(O),c.instance=O);case"void":return null;default:throw Error(s(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(j=c.instance,c.state.loading|=4,Vx(j,p.precedence,o));return c.instance}function Vx(o,c,p){for(var j=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=j.length?j[j.length-1]:null,H=O,ge=0;ge<j.length;ge++){var Fe=j[ge];if(Fe.dataset.precedence===c)H=Fe;else if(H!==O)break}H?H.parentNode.insertBefore(o,H.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function J1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function eb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var $x=null;function nE(o,c,p){if($x===null){var j=new Map,O=$x=new Map;O.set(p,j)}else O=$x,j=O.get(p),j||(j=new Map,O.set(p,j));if(j.has(o))return j;for(j.set(o,null),p=p.getElementsByTagName(o),O=0;O<p.length;O++){var H=p[O];if(!(H[lo]||H[Us]||o==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var ge=H.getAttribute(c)||"";ge=o+ge;var Fe=j.get(ge);Fe?Fe.push(H):j.set(ge,[H])}}return j}function rE(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function jN(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function sE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var b0=null;function bN(){}function wN(o,c,p){if(b0===null)throw Error(s(475));var j=b0;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var O=Cm(p.href),H=o.querySelector(y0(O));if(H){o=H._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(j.count++,j=Gx.bind(j),o.then(j,j)),c.state.loading|=4,c.instance=H,Ms(H);return}H=o.ownerDocument||o,p=eE(p),(O=Qu.get(O))&&J1(p,O),H=H.createElement("link"),Ms(H);var ge=H;ge._p=new Promise(function(Fe,qe){ge.onload=Fe,ge.onerror=qe}),Yl(H,"link",p),c.instance=H}j.stylesheets===null&&(j.stylesheets=new Map),j.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(j.count++,c=Gx.bind(j),o.addEventListener("load",c),o.addEventListener("error",c))}}function SN(){if(b0===null)throw Error(s(475));var o=b0;return o.stylesheets&&o.count===0&&tb(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&tb(o,o.stylesheets),o.unsuspend){var j=o.unsuspend;o.unsuspend=null,j()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function Gx(){if(this.count--,this.count===0){if(this.stylesheets)tb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Kx=null;function tb(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Kx=new Map,c.forEach(CN,o),Kx=null,Gx.call(o))}function CN(o,c){if(!(c.state.loading&4)){var p=Kx.get(o);if(p)var j=p.get(null);else{p=new Map,Kx.set(o,p);for(var O=o.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<O.length;H++){var ge=O[H];(ge.nodeName==="LINK"||ge.getAttribute("media")!=="not all")&&(p.set(ge.dataset.precedence,ge),j=ge)}j&&p.set(null,j)}O=c.instance,ge=O.getAttribute("data-precedence"),H=p.get(ge)||j,H===j&&p.set(null,O),p.set(ge,O),this.count++,j=Gx.bind(this),O.addEventListener("load",j),O.addEventListener("error",j),H?H.parentNode.insertBefore(O,H.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(O,o.firstChild)),c.state.loading|=4}}var w0={$$typeof:B,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function BN(o,c,p,j,O,H,ge,Fe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=j,this.onUncaughtError=O,this.onCaughtError=H,this.onRecoverableError=ge,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function iE(o,c,p,j,O,H,ge,Fe,qe,Rt,Yt,ln){return o=new BN(o,c,p,ge,Fe,qe,Rt,ln),c=1,H===!0&&(c|=24),H=wa(3,null,null,c),o.current=H,H.stateNode=o,c=If(),c.refCount++,o.pooledCache=c,c.refCount++,H.memoizedState={element:j,isDehydrated:p,cache:c},Lt(H),o}function oE(o){return o?(o=Do,o):Do}function aE(o,c,p,j,O,H){O=oE(O),j.context===null?j.context=O:j.pendingContext=O,j=Kt(c),j.payload={element:p},H=H===void 0?null:H,H!==null&&(j.callback=H),p=An(o,j,c),p!==null&&(bn(p,o,c),tn(p,o,c))}function lE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function nb(o,c){lE(o,c),(o=o.alternate)&&lE(o,c)}function cE(o){if(o.tag===13){var c=au(o,67108864);c!==null&&bn(c,o,67108864),nb(o,67108864)}}var Wx=!0;function EN(o,c,p,j){var O=J.T;J.T=null;var H=G.p;try{G.p=2,rb(o,c,p,j)}finally{G.p=H,J.T=O}}function TN(o,c,p,j){var O=J.T;J.T=null;var H=G.p;try{G.p=8,rb(o,c,p,j)}finally{G.p=H,J.T=O}}function rb(o,c,p,j){if(Wx){var O=sb(j);if(O===null)V1(o,c,j,Yx,p),AE(o,j);else if(_N(O,o,c,p,j))j.stopPropagation();else if(AE(o,j),c&4&&-1<IN.indexOf(o)){for(;O!==null;){var H=ai(O);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var ge=Tt(H.pendingLanes);if(ge!==0){var Fe=H;for(Fe.pendingLanes|=2,Fe.entangledLanes|=2;ge;){var qe=1<<31-Ft(ge);Fe.entanglements[1]|=qe,ge&=~qe}id(H),(bi&6)===0&&(E=Gt()+500,m0(0))}}break;case 13:Fe=au(H,2),Fe!==null&&bn(Fe,H,2),es(),nb(H,2)}if(H=sb(j),H===null&&V1(o,c,j,Yx,p),H===O)break;O=H}O!==null&&j.stopPropagation()}else V1(o,c,j,null,p)}}function sb(o){return o=Pa(o),ib(o)}var Yx=null;function ib(o){if(Yx=null,o=ti(o),o!==null){var c=l(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=d(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Yx=o,null}function uE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case ce:return 2;case ve:return 8;case Ge:case vt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var ob=!1,Kh=null,Wh=null,Yh=null,S0=new Map,C0=new Map,Xh=[],IN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(o,c){switch(o){case"focusin":case"focusout":Kh=null;break;case"dragenter":case"dragleave":Wh=null;break;case"mouseover":case"mouseout":Yh=null;break;case"pointerover":case"pointerout":S0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":C0.delete(c.pointerId)}}function B0(o,c,p,j,O,H){return o===null||o.nativeEvent!==H?(o={blockedOn:c,domEventName:p,eventSystemFlags:j,nativeEvent:H,targetContainers:[O]},c!==null&&(c=ai(c),c!==null&&cE(c)),o):(o.eventSystemFlags|=j,c=o.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),o)}function _N(o,c,p,j,O){switch(c){case"focusin":return Kh=B0(Kh,o,c,p,j,O),!0;case"dragenter":return Wh=B0(Wh,o,c,p,j,O),!0;case"mouseover":return Yh=B0(Yh,o,c,p,j,O),!0;case"pointerover":var H=O.pointerId;return S0.set(H,B0(S0.get(H)||null,o,c,p,j,O)),!0;case"gotpointercapture":return H=O.pointerId,C0.set(H,B0(C0.get(H)||null,o,c,p,j,O)),!0}return!1}function dE(o){var c=ti(o.target);if(c!==null){var p=l(c);if(p!==null){if(c=p.tag,c===13){if(c=d(p),c!==null){o.blockedOn=c,Mn(o.priority,function(){if(p.tag===13){var j=Bn();j=mr(j);var O=au(p,j);O!==null&&bn(O,p,j),nb(p,j)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xx(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=sb(o.nativeEvent);if(p===null){p=o.nativeEvent;var j=new p.constructor(p.type,p);Qs=j,p.target.dispatchEvent(j),Qs=null}else return c=ai(p),c!==null&&cE(c),o.blockedOn=p,!1;c.shift()}return!0}function hE(o,c,p){Xx(o)&&p.delete(c)}function FN(){ob=!1,Kh!==null&&Xx(Kh)&&(Kh=null),Wh!==null&&Xx(Wh)&&(Wh=null),Yh!==null&&Xx(Yh)&&(Yh=null),S0.forEach(hE),C0.forEach(hE)}function Zx(o,c){o.blockedOn===c&&(o.blockedOn=null,ob||(ob=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FN)))}var qx=null;function fE(o){qx!==o&&(qx=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qx===o&&(qx=null);for(var c=0;c<o.length;c+=3){var p=o[c],j=o[c+1],O=o[c+2];if(typeof j!="function"){if(ib(j||p)===null)continue;break}var H=ai(p);H!==null&&(o.splice(c,3),c-=3,Gc(H,{pending:!0,data:O,method:p.method,action:j},j,O))}}))}function E0(o){function c(qe){return Zx(qe,o)}Kh!==null&&Zx(Kh,o),Wh!==null&&Zx(Wh,o),Yh!==null&&Zx(Yh,o),S0.forEach(c),C0.forEach(c);for(var p=0;p<Xh.length;p++){var j=Xh[p];j.blockedOn===o&&(j.blockedOn=null)}for(;0<Xh.length&&(p=Xh[0],p.blockedOn===null);)dE(p),p.blockedOn===null&&Xh.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(j=0;j<p.length;j+=3){var O=p[j],H=p[j+1],ge=O[Ys]||null;if(typeof H=="function")ge||fE(p);else if(ge){var Fe=null;if(H&&H.hasAttribute("formAction")){if(O=H,ge=H[Ys]||null)Fe=ge.formAction;else if(ib(O)!==null)continue}else Fe=ge.action;typeof Fe=="function"?p[j+1]=Fe:(p.splice(j,3),j-=3),fE(p)}}}function ab(o){this._internalRoot=o}Jx.prototype.render=ab.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(s(409));var p=c.current,j=Bn();aE(p,j,o,c,null,null)},Jx.prototype.unmount=ab.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;aE(o.current,2,null,o,null,null),es(),c[$i]=null}};function Jx(o){this._internalRoot=o}Jx.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ni();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Xh.length&&c!==0&&c<Xh[p].priority;p++);Xh.splice(p,0,o),p===0&&dE(o)}};var pE=n.version;if(pE!=="19.1.1")throw Error(s(527,pE,"19.1.1"));G.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=u(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var LN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ey.isDisabled&&ey.supportsFiber)try{yt=ey.inject(LN),zt=ey}catch{}}return I0.createRoot=function(o,c){if(!i(o))throw Error(s(299));var p=!1,j="",O=Zg,H=qg,ge=Am,Fe=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(j=c.identifierPrefix),c.onUncaughtError!==void 0&&(O=c.onUncaughtError),c.onCaughtError!==void 0&&(H=c.onCaughtError),c.onRecoverableError!==void 0&&(ge=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Fe=c.unstable_transitionCallbacks)),c=iE(o,1,!1,null,null,p,j,O,H,ge,Fe,null),o[$i]=c.current,H1(o),new ab(c)},I0.hydrateRoot=function(o,c,p){if(!i(o))throw Error(s(299));var j=!1,O="",H=Zg,ge=qg,Fe=Am,qe=null,Rt=null;return p!=null&&(p.unstable_strictMode===!0&&(j=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onUncaughtError!==void 0&&(H=p.onUncaughtError),p.onCaughtError!==void 0&&(ge=p.onCaughtError),p.onRecoverableError!==void 0&&(Fe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(qe=p.unstable_transitionCallbacks),p.formState!==void 0&&(Rt=p.formState)),c=iE(o,1,!0,c,p??null,j,O,H,ge,Fe,qe,Rt),c.context=oE(null),p=c.current,j=Bn(),j=mr(j),O=Kt(j),O.callback=null,An(p,O,j),p=j,c.current.lanes=p,jn(c,p),id(c),o[$i]=c.current,H1(o),new Jx(c)},I0.version="19.1.1",I0}var BE;function HN(){if(BE)return ub.exports;BE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),ub.exports=zN(),ub.exports}var VN=HN();const $N=qv(VN);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EE="popstate";function GN(t={}){function n(s,i){let{pathname:l,search:d,hash:f}=s.location;return Jw("",{pathname:l,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:_v(i)}return WN(n,r,null,t)}function sa(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function qu(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function KN(){return Math.random().toString(36).substring(2,10)}function TE(t,n){return{usr:t.state,key:t.key,idx:n}}function Jw(t,n,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Fg(n):n,state:r,key:n&&n.key||s||KN()}}function _v({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fg(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(n.search=t.substring(s),t=t.substring(0,s)),t&&(n.pathname=t)}return n}function WN(t,n,r,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,d=i.history,f="POP",u=null,h=a();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function a(){return(d.state||{idx:null}).idx}function m(){f="POP";let b=a(),S=b==null?null:b-h;h=b,u&&u({action:f,location:w.location,delta:S})}function v(b,S){f="PUSH";let C=Jw(w.location,b,S);h=a()+1;let B=TE(C,h),F=w.createHref(C);try{d.pushState(B,"",F)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(F)}l&&u&&u({action:f,location:w.location,delta:1})}function g(b,S){f="REPLACE";let C=Jw(w.location,b,S);h=a();let B=TE(C,h),F=w.createHref(C);d.replaceState(B,"",F),l&&u&&u({action:f,location:w.location,delta:0})}function x(b){return YN(b)}let w={get action(){return f},get location(){return t(i,d)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(EE,m),u=b,()=>{i.removeEventListener(EE,m),u=null}},createHref(b){return n(i,b)},createURL:x,encodeLocation(b){let S=x(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:g,go(b){return d.go(b)}};return w}function YN(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),sa(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:_v(t);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function j3(t,n,r="/"){return XN(t,n,r,!1)}function XN(t,n,r,s){let i=typeof n=="string"?Fg(n):n,l=jh(i.pathname||"/",r);if(l==null)return null;let d=b3(t);ZN(d);let f=null;for(let u=0;f==null&&u<d.length;++u){let h=lO(l);f=oO(d[u],h,s)}return f}function b3(t,n=[],r=[],s="",i=!1){let l=(d,f,u=i,h)=>{let a={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(a.relativePath.startsWith("/")){if(!a.relativePath.startsWith(s)&&u)return;sa(a.relativePath.startsWith(s),`Absolute route path "${a.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(s.length)}let m=dh([s,a.relativePath]),v=r.concat(a);d.children&&d.children.length>0&&(sa(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),b3(d.children,n,v,m,u)),!(d.path==null&&!d.index)&&n.push({path:m,score:sO(m,d.index),routesMeta:v})};return t.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))l(d,f);else for(let u of w3(d.path))l(d,f,!0,u)}),n}function w3(t){let n=t.split("/");if(n.length===0)return[];let[r,...s]=n,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let d=w3(s.join("/")),f=[];return f.push(...d.map(u=>u===""?l:[l,u].join("/"))),i&&f.push(...d),f.map(u=>t.startsWith("/")&&u===""?"/":u)}function ZN(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:iO(n.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var qN=/^:[\w-]+$/,JN=3,eO=2,tO=1,nO=10,rO=-2,IE=t=>t==="*";function sO(t,n){let r=t.split("/"),s=r.length;return r.some(IE)&&(s+=rO),n&&(s+=eO),r.filter(i=>!IE(i)).reduce((i,l)=>i+(qN.test(l)?JN:l===""?tO:nO),s)}function iO(t,n){return t.length===n.length&&t.slice(0,-1).every((s,i)=>s===n[i])?t[t.length-1]-n[n.length-1]:0}function oO(t,n,r=!1){let{routesMeta:s}=t,i={},l="/",d=[];for(let f=0;f<s.length;++f){let u=s[f],h=f===s.length-1,a=l==="/"?n:n.slice(l.length)||"/",m=dj({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},a),v=u.route;if(!m&&h&&r&&!s[s.length-1].route.index&&(m=dj({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},a)),!m)return null;Object.assign(i,m.params),d.push({params:i,pathname:dh([l,m.pathname]),pathnameBase:dO(dh([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=dh([l,m.pathnameBase]))}return d}function dj(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=aO(t.path,t.caseSensitive,t.end),i=n.match(r);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:s.reduce((h,{paramName:a,isOptional:m},v)=>{if(a==="*"){let x=f[v]||"";d=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const g=f[v];return m&&!g?h[a]=void 0:h[a]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:d,pattern:t}}function aO(t,n=!1,r=!0){qu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,u)=>(s.push({paramName:f,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),s]}function lO(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return qu(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function jh(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function cO(t,n="/"){let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?Fg(t):t;return{pathname:r?r.startsWith("/")?r:uO(r,n):n,search:hO(s),hash:fO(i)}}function uO(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function fb(t,n,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AO(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function _S(t){let n=AO(t);return n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase)}function FS(t,n,r,s=!1){let i;typeof t=="string"?i=Fg(t):(i={...t},sa(!i.pathname||!i.pathname.includes("?"),fb("?","pathname","search",i)),sa(!i.pathname||!i.pathname.includes("#"),fb("#","pathname","hash",i)),sa(!i.search||!i.search.includes("#"),fb("#","search","hash",i)));let l=t===""||i.pathname==="",d=l?"/":i.pathname,f;if(d==null)f=r;else{let m=n.length-1;if(!s&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}f=m>=0?n[m]:"/"}let u=cO(i,f),h=d&&d!=="/"&&d.endsWith("/"),a=(l||d===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||a)&&(u.pathname+="/"),u}var dh=t=>t.join("/").replace(/\/\/+/g,"/"),dO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var S3=["POST","PUT","PATCH","DELETE"];new Set(S3);var mO=["GET",...S3];new Set(mO);var Lg=T.createContext(null);Lg.displayName="DataRouter";var Mj=T.createContext(null);Mj.displayName="DataRouterState";T.createContext(!1);var C3=T.createContext({isTransitioning:!1});C3.displayName="ViewTransition";var gO=T.createContext(new Map);gO.displayName="Fetchers";var vO=T.createContext(null);vO.displayName="Await";var OA=T.createContext(null);OA.displayName="Navigation";var Jv=T.createContext(null);Jv.displayName="Location";var UA=T.createContext({outlet:null,matches:[],isDataRoute:!1});UA.displayName="Route";var LS=T.createContext(null);LS.displayName="RouteError";function xO(t,{relative:n}={}){sa(Dg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=T.useContext(OA),{hash:i,pathname:l,search:d}=ex(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:dh([r,l])),s.createHref({pathname:f,search:d,hash:i})}function Dg(){return T.useContext(Jv)!=null}function MA(){return sa(Dg(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Jv).location}var B3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E3(t){T.useContext(OA).static||T.useLayoutEffect(t)}function rA(){let{isDataRoute:t}=T.useContext(UA);return t?LO():yO()}function yO(){sa(Dg(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Lg),{basename:n,navigator:r}=T.useContext(OA),{matches:s}=T.useContext(UA),{pathname:i}=MA(),l=JSON.stringify(_S(s)),d=T.useRef(!1);return E3(()=>{d.current=!0}),T.useCallback((u,h={})=>{if(qu(d.current,B3),!d.current)return;if(typeof u=="number"){r.go(u);return}let a=FS(u,JSON.parse(l),i,h.relative==="path");t==null&&n!=="/"&&(a.pathname=a.pathname==="/"?n:dh([n,a.pathname])),(h.replace?r.replace:r.push)(a,h.state,h)},[n,r,l,i,t])}T.createContext(null);function kj(){let{matches:t}=T.useContext(UA),n=t[t.length-1];return n?n.params:{}}function ex(t,{relative:n}={}){let{matches:r}=T.useContext(UA),{pathname:s}=MA(),i=JSON.stringify(_S(r));return T.useMemo(()=>FS(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function jO(t,n){return T3(t,n)}function T3(t,n,r,s,i){sa(Dg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=T.useContext(OA),{matches:d}=T.useContext(UA),f=d[d.length-1],u=f?f.params:{},h=f?f.pathname:"/",a=f?f.pathnameBase:"/",m=f&&f.route;{let C=m&&m.path||"";I3(h,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=MA(),g;if(n){let C=typeof n=="string"?Fg(n):n;sa(a==="/"||C.pathname?.startsWith(a),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${a}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=v;let x=g.pathname||"/",w=x;if(a!=="/"){let C=a.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=j3(t,{pathname:w});qu(m||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),qu(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=BO(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:dh([a,l.encodeLocation?l.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:dh([a,l.encodeLocation?l.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,r,s,i);return n&&S?T.createElement(Jv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function bO(){let t=FO(),n=pO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},n),r?T.createElement("pre",{style:i},r):null,d)}var wO=T.createElement(bO,null),SO=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.unstable_onError?this.props.unstable_onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(UA.Provider,{value:this.props.routeContext},T.createElement(LS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CO({routeContext:t,match:n,children:r}){let s=T.useContext(Lg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(UA.Provider,{value:t},r)}function BO(t,n=[],r=null,s=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,d=r?.errors;if(d!=null){let h=l.findIndex(a=>a.route.id&&d?.[a.route.id]!==void 0);sa(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let f=!1,u=-1;if(r)for(let h=0;h<l.length;h++){let a=l[h];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(u=h),a.route.id){let{loaderData:m,errors:v}=r,g=a.route.loader&&!m.hasOwnProperty(a.route.id)&&(!v||v[a.route.id]===void 0);if(a.route.lazy||g){f=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,a,m)=>{let v,g=!1,x=null,w=null;r&&(v=d&&a.route.id?d[a.route.id]:void 0,x=a.route.errorElement||wO,f&&(u<0&&m===0?(I3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):u===m&&(g=!0,w=a.route.hydrateFallbackElement||null)));let b=n.concat(l.slice(0,m+1)),S=()=>{let C;return v?C=x:g?C=w:a.route.Component?C=T.createElement(a.route.Component,null):a.route.element?C=a.route.element:C=h,T.createElement(CO,{match:a,routeContext:{outlet:h,matches:b,isDataRoute:r!=null},children:C})};return r&&(a.route.ErrorBoundary||a.route.errorElement||m===0)?T.createElement(SO,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:s}):S()},null)}function DS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EO(t){let n=T.useContext(Lg);return sa(n,DS(t)),n}function TO(t){let n=T.useContext(Mj);return sa(n,DS(t)),n}function IO(t){let n=T.useContext(UA);return sa(n,DS(t)),n}function PS(t){let n=IO(t),r=n.matches[n.matches.length-1];return sa(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function _O(){return PS("useRouteId")}function FO(){let t=T.useContext(LS),n=TO("useRouteError"),r=PS("useRouteError");return t!==void 0?t:n.errors?.[r]}function LO(){let{router:t}=EO("useNavigate"),n=PS("useNavigate"),r=T.useRef(!1);return E3(()=>{r.current=!0}),T.useCallback(async(i,l={})=>{qu(r.current,B3),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:n,...l}))},[t,n])}var _E={};function I3(t,n,r){!n&&!_E[t]&&(_E[t]=!0,qu(!1,r))}T.memo(DO);function DO({routes:t,future:n,state:r,unstable_onError:s}){return T3(t,void 0,r,s,n)}function Af({to:t,replace:n,state:r,relative:s}){sa(Dg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(OA);qu(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(UA),{pathname:d}=MA(),f=rA(),u=FS(t,_S(l),d,s==="path"),h=JSON.stringify(u);return T.useEffect(()=>{f(JSON.parse(h),{replace:n,state:r,relative:s})},[f,h,s,n,r]),null}function Ks(t){sa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PO({basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:i,static:l=!1}){sa(!Dg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof r=="string"&&(r=Fg(r));let{pathname:u="/",search:h="",hash:a="",state:m=null,key:v="default"}=r,g=T.useMemo(()=>{let x=jh(u,d);return x==null?null:{location:{pathname:x,search:h,hash:a,state:m,key:v},navigationType:s}},[d,u,h,a,m,v,s]);return qu(g!=null,`<Router basename="${d}"> is not able to match the URL "${u}${h}${a}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(OA.Provider,{value:f},T.createElement(Jv.Provider,{children:n,value:g}))}function RO({children:t,location:n}){return jO(e2(t),n)}function e2(t,n=[]){let r=[];return T.Children.forEach(t,(s,i)=>{if(!T.isValidElement(s))return;let l=[...n,i];if(s.type===T.Fragment){r.push.apply(r,e2(s.props.children,l));return}sa(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sa(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=e2(s.props.children,l)),r.push(d)}),r}var Uy="get",My="application/x-www-form-urlencoded";function Qj(t){return t!=null&&typeof t.tagName=="string"}function NO(t){return Qj(t)&&t.tagName.toLowerCase()==="button"}function OO(t){return Qj(t)&&t.tagName.toLowerCase()==="form"}function UO(t){return Qj(t)&&t.tagName.toLowerCase()==="input"}function MO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kO(t,n){return t.button===0&&(!n||n==="_self")&&!MO(t)}function t2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,r)=>{let s=t[r];return n.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function QO(t,n){let r=t2(t);return n&&n.forEach((s,i)=>{r.has(i)||n.getAll(i).forEach(l=>{r.append(i,l)})}),r}var ty=null;function zO(){if(ty===null)try{new FormData(document.createElement("form"),0),ty=!1}catch{ty=!0}return ty}var HO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pb(t){return t!=null&&!HO.has(t)?(qu(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${My}"`),null):t}function VO(t,n){let r,s,i,l,d;if(OO(t)){let f=t.getAttribute("action");s=f?jh(f,n):null,r=t.getAttribute("method")||Uy,i=pb(t.getAttribute("enctype"))||My,l=new FormData(t)}else if(NO(t)||UO(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||f.getAttribute("action");if(s=u?jh(u,n):null,r=t.getAttribute("formmethod")||f.getAttribute("method")||Uy,i=pb(t.getAttribute("formenctype"))||pb(f.getAttribute("enctype"))||My,l=new FormData(f,t),!zO()){let{name:h,type:a,value:m}=t;if(a==="image"){let v=h?`${h}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else h&&l.append(h,m)}}else{if(Qj(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Uy,s=null,i=My,d=t}return l&&i==="text/plain"&&(d=l,l=void 0),{action:s,method:r.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function RS(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function $O(t,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:n&&jh(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function GO(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WO(t,n,r){let s=await Promise.all(t.map(async i=>{let l=n.routes[i.route.id];if(l){let d=await GO(l,r);return d.links?d.links():[]}return[]}));return qO(s.flat(1).filter(KO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function FE(t,n,r,s,i,l){let d=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,f=(u,h)=>r[h].pathname!==u.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==u.params["*"];return l==="assets"?n.filter((u,h)=>d(u,h)||f(u,h)):l==="data"?n.filter((u,h)=>{let a=s.routes[u.route.id];if(!a||!a.hasLoader)return!1;if(d(u,h)||f(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function YO(t,n,{includeHydrateFallback:r}={}){return XO(t.map(s=>{let i=n.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function XO(t){return[...new Set(t)]}function ZO(t){let n={},r=Object.keys(t).sort();for(let s of r)n[s]=t[s];return n}function qO(t,n){let r=new Set;return new Set(n),t.reduce((s,i)=>{let l=JSON.stringify(ZO(i));return r.has(l)||(r.add(l),s.push({key:l,link:i})),s},[])}function _3(){let t=T.useContext(Lg);return RS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JO(){let t=T.useContext(Mj);return RS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var NS=T.createContext(void 0);NS.displayName="FrameworkContext";function F3(){let t=T.useContext(NS);return RS(t,"You must render this element inside a <HydratedRouter> element"),t}function eU(t,n){let r=T.useContext(NS),[s,i]=T.useState(!1),[l,d]=T.useState(!1),{onFocus:f,onBlur:u,onMouseEnter:h,onMouseLeave:a,onTouchStart:m}=n,v=T.useRef(null);T.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let w=S=>{S.forEach(C=>{d(C.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[t]),T.useEffect(()=>{if(s){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[s]);let g=()=>{i(!0)},x=()=>{i(!1),d(!1)};return r?t!=="intent"?[l,v,{}]:[l,v,{onFocus:_0(f,g),onBlur:_0(u,x),onMouseEnter:_0(h,g),onMouseLeave:_0(a,x),onTouchStart:_0(m,g)}]:[!1,v,{}]}function _0(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function tU({page:t,...n}){let{router:r}=_3(),s=T.useMemo(()=>j3(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?T.createElement(rU,{page:t,matches:s,...n}):null}function nU(t){let{manifest:n,routeModules:r}=F3(),[s,i]=T.useState([]);return T.useEffect(()=>{let l=!1;return WO(t,n,r).then(d=>{l||i(d)}),()=>{l=!0}},[t,n,r]),s}function rU({page:t,matches:n,...r}){let s=MA(),{manifest:i,routeModules:l}=F3(),{basename:d}=_3(),{loaderData:f,matches:u}=JO(),h=T.useMemo(()=>FE(t,n,u,i,s,"data"),[t,n,u,i,s]),a=T.useMemo(()=>FE(t,n,u,i,s,"assets"),[t,n,u,i,s]),m=T.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let x=new Set,w=!1;if(n.forEach(S=>{let C=i.routes[S.route.id];!C||!C.hasLoader||(!h.some(B=>B.route.id===S.route.id)&&S.route.id in f&&l[S.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:x.add(S.route.id))}),x.size===0)return[];let b=$O(t,d,"data");return w&&x.size>0&&b.searchParams.set("_routes",n.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[b.pathname+b.search]},[d,f,s,i,h,n,t,l]),v=T.useMemo(()=>YO(a,i),[a,i]),g=nU(a);return T.createElement(T.Fragment,null,m.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),v.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),g.map(({key:x,link:w})=>T.createElement("link",{key:x,nonce:r.nonce,...w})))}function sU(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var L3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L3&&(window.__reactRouterVersion="7.8.2")}catch{}function iU({basename:t,children:n,window:r}){let s=T.useRef();s.current==null&&(s.current=GN({window:r,v5Compat:!0}));let i=s.current,[l,d]=T.useState({action:i.action,location:i.location}),f=T.useCallback(u=>{T.startTransition(()=>d(u))},[d]);return T.useLayoutEffect(()=>i.listen(f),[i,f]),T.createElement(PO,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i})}var D3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oo=T.forwardRef(function({onClick:n,discover:r="render",prefetch:s="none",relative:i,reloadDocument:l,replace:d,state:f,target:u,to:h,preventScrollReset:a,viewTransition:m,...v},g){let{basename:x}=T.useContext(OA),w=typeof h=="string"&&D3.test(h),b,S=!1;if(typeof h=="string"&&w&&(b=h,L3))try{let K=new URL(window.location.href),se=h.startsWith("//")?new URL(K.protocol+h):new URL(h),V=jh(se.pathname,x);se.origin===K.origin&&V!=null?h=V+se.search+se.hash:S=!0}catch{qu(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=xO(h,{relative:i}),[B,F,N]=eU(s,v),Q=cU(h,{replace:d,state:f,target:u,preventScrollReset:a,relative:i,viewTransition:m});function z(K){n&&n(K),K.defaultPrevented||Q(K)}let k=T.createElement("a",{...v,...N,href:b||C,onClick:S||l?n:z,ref:sU(g,F),target:u,"data-discover":!w&&r==="render"?"true":void 0});return B&&!w?T.createElement(T.Fragment,null,k,T.createElement(tU,{page:C})):k});oo.displayName="Link";var oU=T.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:s="",end:i=!1,style:l,to:d,viewTransition:f,children:u,...h},a){let m=ex(d,{relative:h.relative}),v=MA(),g=T.useContext(Mj),{navigator:x,basename:w}=T.useContext(OA),b=g!=null&&pU(m)&&f===!0,S=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,C=v.pathname,B=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(C=C.toLowerCase(),B=B?B.toLowerCase():null,S=S.toLowerCase()),B&&w&&(B=jh(B,w)||B);const F=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let N=C===S||!i&&C.startsWith(S)&&C.charAt(F)==="/",Q=B!=null&&(B===S||!i&&B.startsWith(S)&&B.charAt(S.length)==="/"),z={isActive:N,isPending:Q,isTransitioning:b},k=N?n:void 0,K;typeof s=="function"?K=s(z):K=[s,N?"active":null,Q?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let se=typeof l=="function"?l(z):l;return T.createElement(oo,{...h,"aria-current":k,className:K,ref:a,style:se,to:d,viewTransition:f},typeof u=="function"?u(z):u)});oU.displayName="NavLink";var aU=T.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:s,replace:i,state:l,method:d=Uy,action:f,onSubmit:u,relative:h,preventScrollReset:a,viewTransition:m,...v},g)=>{let x=hU(),w=fU(f,{relative:h}),b=d.toLowerCase()==="get"?"get":"post",S=typeof f=="string"&&D3.test(f),C=B=>{if(u&&u(B),B.defaultPrevented)return;B.preventDefault();let F=B.nativeEvent.submitter,N=F?.getAttribute("formmethod")||d;x(F||B.currentTarget,{fetcherKey:n,method:N,navigate:r,replace:i,state:l,relative:h,preventScrollReset:a,viewTransition:m})};return T.createElement("form",{ref:g,method:b,action:w,onSubmit:s?u:C,...v,"data-discover":!S&&t==="render"?"true":void 0})});aU.displayName="Form";function lU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P3(t){let n=T.useContext(Lg);return sa(n,lU(t)),n}function cU(t,{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:d}={}){let f=rA(),u=MA(),h=ex(t,{relative:l});return T.useCallback(a=>{if(kO(a,n)){a.preventDefault();let m=r!==void 0?r:_v(u)===_v(h);f(t,{replace:m,state:s,preventScrollReset:i,relative:l,viewTransition:d})}},[u,f,h,r,s,n,t,i,l,d])}function uU(t){qu(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=T.useRef(t2(t)),r=T.useRef(!1),s=MA(),i=T.useMemo(()=>QO(s.search,r.current?null:n.current),[s.search]),l=rA(),d=T.useCallback((f,u)=>{const h=t2(typeof f=="function"?f(new URLSearchParams(i)):f);r.current=!0,l("?"+h,u)},[l,i]);return[i,d]}var AU=0,dU=()=>`__${String(++AU)}__`;function hU(){let{router:t}=P3("useSubmit"),{basename:n}=T.useContext(OA),r=_O();return T.useCallback(async(s,i={})=>{let{action:l,method:d,encType:f,formData:u,body:h}=VO(s,n);if(i.navigate===!1){let a=i.fetcherKey||dU();await t.fetch(a,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||d,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||d,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,n,r])}function fU(t,{relative:n}={}){let{basename:r}=T.useContext(OA),s=T.useContext(UA);sa(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...ex(t||".",{relative:n})},d=MA();if(t==null){l.search=d.search;let f=new URLSearchParams(l.search),u=f.getAll("index");if(u.some(a=>a==="")){f.delete("index"),u.filter(m=>m).forEach(m=>f.append("index",m));let a=f.toString();l.search=a?`?${a}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:dh([r,l.pathname])),_v(l)}function pU(t,{relative:n}={}){let r=T.useContext(C3);sa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=P3("useViewTransitionState"),i=ex(t,{relative:n});if(!r.isTransitioning)return!1;let l=jh(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=jh(r.nextLocation.pathname,s)||r.nextLocation.pathname;return dj(i.pathname,d)!=null||dj(i.pathname,l)!=null}var OS=y3();function mU(t,n,r,s){return t.addEventListener(n,r,s),()=>{t.removeEventListener(n,r,s)}}function zj(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function gU(){return!!globalThis?.document}function R3(t){return t.parentElement&&R3(t.parentElement)?!0:t.hidden}function vU(t){const n=t.getAttribute("contenteditable");return n!=="false"&&n!=null}function xU(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function yU(t){return N3(t)?.defaultView??window}function N3(t){return zj(t)?t.ownerDocument:document}function jU(t){return t.view??window}function bU(t){return N3(t).activeElement}function wU(t){const n=jU(t);return typeof n.PointerEvent<"u"&&t instanceof n.PointerEvent?t.pointerType==="mouse":t instanceof n.MouseEvent}function O3(t){return!!t.touches}function SU(t){return O3(t)&&t.touches.length>1}function CU(t,n="page"){const r=t.touches[0]||t.changedTouches[0];return{x:r[`${n}X`],y:r[`${n}Y`]}}function BU(t,n="page"){return{x:t[`${n}X`],y:t[`${n}Y`]}}function U3(t,n="page"){return O3(t)?CU(t,n):BU(t,n)}function EU(t){return n=>{const r=wU(n);(!r||r&&n.button===0)&&t(n)}}function TU(t,n=!1){function r(i){t(i,{point:U3(i)})}return n?EU(r):r}function ky(t,n,r,s){return mU(t,n,TU(r,n==="pointerdown"),s)}function IU(t,...n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const r={...t};for(const s of n)if(s!=null)for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&(i in r&&delete r[i],r[i]=s[i]);return r}const ss=t=>t?"":void 0,vd=t=>t?!0:void 0;function n2(t){return Array.isArray(t)}function El(t){const n=typeof t;return t!=null&&(n==="object"||n==="function")&&!n2(t)}function _U(t){const n=t==null?0:t.length;return n?t[n-1]:void 0}function FU(t){const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}}function r2(t){if(t==null)return t;const{unitless:n}=FU(t);return n||typeof t=="number"?`${t}px`:t}const M3=(t,n)=>parseInt(t[1],10)>parseInt(n[1],10)?1:-1,US=t=>Object.fromEntries(Object.entries(t).sort(M3));function LE(t){const n=US(t);return Object.assign(Object.values(n),n)}function LU(t){const n=Object.keys(US(t));return new Set(n)}function DE(t){if(!t)return t;t=r2(t)??t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function K0(t,n){const r=["@media screen"];return t&&r.push("and",`(min-width: ${r2(t)})`),n&&r.push("and",`(max-width: ${r2(n)})`),r.join(" ")}function DU(t){if(!t)return null;t.base=t.base??"0px";const n=LE(t),r=Object.entries(t).sort(M3).map(([l,d],f,u)=>{let[,h]=u[f+1]??[];return h=parseFloat(h)>0?DE(h):void 0,{_minW:DE(d),breakpoint:l,minW:d,maxW:h,maxWQuery:K0(null,h),minWQuery:K0(d),minMaxQuery:K0(d,h)}}),s=LU(t),i=Array.from(s.values());return{keys:s,normalized:n,isResponsive(l){const d=Object.keys(l);return d.length>0&&d.every(f=>s.has(f))},asObject:US(t),asArray:LE(t),details:r,get(l){return r.find(d=>d.breakpoint===l)},media:[null,...n.map(l=>K0(l)).slice(1)],toArrayValue(l){if(!El(l))throw new Error("toArrayValue: value must be an object");const d=i.map(f=>l[f]??null);for(;_U(d)===null;)d.pop();return d},toObjectValue(l){if(!Array.isArray(l))throw new Error("toObjectValue: value must be an array");return l.reduce((d,f,u)=>{const h=i[u];return h!=null&&f!=null&&(d[h]=f),d},{})}}}function k3(...t){return function(...r){t.forEach(s=>s?.(...r))}}function Ur(...t){return function(r){t.some(s=>(s?.(r),r?.defaultPrevented))}}function bf(t){return T.Children.toArray(t).filter(n=>T.isValidElement(n))}function tx(t){const n=Object.assign({},t);for(let r in n)n[r]===void 0&&delete n[r];return n}function PU(t,n){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function Ws(t={}){const{name:n,strict:r=!0,hookName:s="useContext",providerName:i="Provider",errorMessage:l,defaultValue:d}=t,f=T.createContext(d);f.displayName=n;function u(){const h=T.useContext(f);if(!h&&r){const a=new Error(l??PU(s,i));throw a.name="ContextError",Error.captureStackTrace?.(a,u),a}return h}return[f.Provider,u,f]}const En=(...t)=>t.filter(Boolean).join(" "),Q3=t=>t.hasAttribute("tabindex"),RU=t=>Q3(t)&&t.tabIndex===-1;function z3(t){if(!zj(t)||R3(t)||xU(t))return!1;const{localName:n}=t;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;const s={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return n in s?s[n]():vU(t)?!0:Q3(t)}function NU(t){return t?zj(t)&&z3(t)&&!RU(t):!1}const OU=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],UU=OU.join(),MU=t=>t.offsetWidth>0&&t.offsetHeight>0;function kU(t){const n=Array.from(t.querySelectorAll(UU));return n.unshift(t),n.filter(r=>z3(r)&&MU(r))}function QU(t,n,r,s){const i=typeof n=="string"?n.split("."):[n];for(s=0;s<i.length&&t;s+=1)t=t[i[s]];return t===void 0?r:t}const zU=t=>{const n=new WeakMap;return(s,i,l,d)=>{if(typeof s>"u")return t(s,i,l);n.has(s)||n.set(s,new Map);const f=n.get(s);if(f.has(i))return f.get(i);const u=t(s,i,l,d);return f.set(i,u),u}},H3=zU(QU),HU=t=>t.default||t;function V3(t){const{wasSelected:n,enabled:r,isSelected:s,mode:i="unmount"}=t;return!!(!r||s||i==="keepMounted"&&n)}function VU(t){const n=parseFloat(t);return typeof n!="number"||Number.isNaN(n)?0:n}function MS(t,n){let r=VU(t);const s=10**(n??10);return r=Math.round(r*s)/s,n?r.toFixed(n):r.toString()}function s2(t){if(!Number.isFinite(t))return 0;let n=1,r=0;for(;Math.round(t*n)/n!==t;)n*=10,r+=1;return r}function PE(t,n,r){return(t-n)*100/(r-n)}function $U(t,n,r){return(r-n)*t+n}function RE(t,n,r){const s=Math.round((t-n)/r)*r+n,i=s2(r);return MS(s,i)}function Qy(t,n,r){return t==null?t:(r<n&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,n),r))}function nx(t,n=[]){const r=Object.assign({},t);for(const s of n)s in r&&delete r[s];return r}function $3(t,n){const r={};for(const s of n)s in t&&(r[s]=t[s]);return r}const G3=Object.freeze(["base","sm","md","lg","xl","2xl"]);function Hj(t,n){return Array.isArray(t)?t.map(r=>r===null?null:n(r)):El(t)?Object.keys(t).reduce((r,s)=>(r[s]=n(t[s]),r),{}):t!=null?n(t):null}function GU(t,n=G3){const r={};return t.forEach((s,i)=>{const l=n[i];s!=null&&(r[l]=s)}),r}const KU=t=>typeof t=="function";function xu(t,...n){return KU(t)?t(...n):t}function WU(t){const n=t.ownerDocument.defaultView||window,{overflow:r,overflowX:s,overflowY:i}=n.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(r+i+s)}function YU(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function K3(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:zj(t)&&WU(t)?t:K3(YU(t))}function XU(t,n){const r={},s={};for(const[i,l]of Object.entries(t))n.includes(i)?r[i]=l:s[i]=l;return[r,s]}function ZU(t,...n){const r=Object.getOwnPropertyDescriptors(t),s=Object.keys(r),i=d=>{const f={};for(let u=0;u<d.length;u++){const h=d[u];r[h]&&(Object.defineProperty(f,h,r[h]),delete r[h])}return f},l=d=>i(Array.isArray(d)?d:s.filter(d));return n.map(l).concat(i(s))}function NE(t,n,r={}){const{stop:s,getKey:i}=r;function l(d,f=[]){if(El(d)||Array.isArray(d)){const u={};for(const[h,a]of Object.entries(d)){const m=i?.(h)??h,v=[...f,m];if(s?.(d,v))return n(d,f);u[m]=l(a,v)}return u}return n(d,f)}return l(t)}const rx=t=>{const{condition:n,message:r}=t};var W0={exports:{}};W0.exports;var OE;function qU(){return OE||(OE=1,(function(t,n){var r=200,s="__lodash_hash_undefined__",i=800,l=16,d=9007199254740991,f="[object Arguments]",u="[object Array]",h="[object AsyncFunction]",a="[object Boolean]",m="[object Date]",v="[object Error]",g="[object Function]",x="[object GeneratorFunction]",w="[object Map]",b="[object Number]",S="[object Null]",C="[object Object]",B="[object Proxy]",F="[object RegExp]",N="[object Set]",Q="[object String]",z="[object Undefined]",k="[object WeakMap]",K="[object ArrayBuffer]",se="[object DataView]",V="[object Float32Array]",q="[object Float64Array]",le="[object Int8Array]",ae="[object Int16Array]",ie="[object Int32Array]",J="[object Uint8Array]",G="[object Uint8ClampedArray]",W="[object Uint16Array]",pe="[object Uint32Array]",oe=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,M={};M[V]=M[q]=M[le]=M[ae]=M[ie]=M[J]=M[G]=M[W]=M[pe]=!0,M[f]=M[u]=M[K]=M[a]=M[se]=M[m]=M[v]=M[g]=M[w]=M[b]=M[C]=M[F]=M[N]=M[Q]=M[k]=!1;var ee=typeof km=="object"&&km&&km.Object===Object&&km,re=typeof self=="object"&&self&&self.Object===Object&&self,me=ee||re||Function("return this")(),De=n&&!n.nodeType&&n,Ue=De&&!0&&t&&!t.nodeType&&t,Ne=Ue&&Ue.exports===De,Ke=Ne&&ee.process,rt=(function(){try{var ze=Ue&&Ue.require&&Ue.require("util").types;return ze||Ke&&Ke.binding&&Ke.binding("util")}catch{}})(),et=rt&&rt.isTypedArray;function wt(ze,ot,Nt){switch(Nt.length){case 0:return ze.call(ot);case 1:return ze.call(ot,Nt[0]);case 2:return ze.call(ot,Nt[0],Nt[1]);case 3:return ze.call(ot,Nt[0],Nt[1],Nt[2])}return ze.apply(ot,Nt)}function nt(ze,ot){for(var Nt=-1,Ln=Array(ze);++Nt<ze;)Ln[Nt]=ot(Nt);return Ln}function Ee(ze){return function(ot){return ze(ot)}}function at(ze,ot){return ze?.[ot]}function Gt(ze,ot){return function(Nt){return ze(ot(Nt))}}var Oe=Array.prototype,ce=Function.prototype,ve=Object.prototype,Ge=me["__core-js_shared__"],vt=ce.toString,_t=ve.hasOwnProperty,Je=(function(){var ze=/[^.]+$/.exec(Ge&&Ge.keys&&Ge.keys.IE_PROTO||"");return ze?"Symbol(src)_1."+ze:""})(),We=ve.toString,yt=vt.call(Object),zt=RegExp("^"+vt.call(_t).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=Ne?me.Buffer:void 0,Ft=me.Symbol,Ct=me.Uint8Array;ut&&ut.allocUnsafe;var Ye=Gt(Object.getPrototypeOf,Object),Zt=Object.create,on=ve.propertyIsEnumerable,pn=Oe.splice,Tt=Ft?Ft.toStringTag:void 0,nn=(function(){try{var ze=qr(Object,"defineProperty");return ze({},"",{}),ze}catch{}})(),xt=ut?ut.isBuffer:void 0,an=Math.max,dn=Date.now,Nn=qr(me,"Map"),Wn=qr(Object,"create"),jn=(function(){function ze(){}return function(ot){if(!_i(ot))return{};if(Zt)return Zt(ot);ze.prototype=ot;var Nt=new ze;return ze.prototype=void 0,Nt}})();function rn(ze){var ot=-1,Nt=ze==null?0:ze.length;for(this.clear();++ot<Nt;){var Ln=ze[ot];this.set(Ln[0],Ln[1])}}function Dn(){this.__data__=Wn?Wn(null):{},this.size=0}function Yn(ze){var ot=this.has(ze)&&delete this.__data__[ze];return this.size-=ot?1:0,ot}function mr(ze){var ot=this.__data__;if(Wn){var Nt=ot[ze];return Nt===s?void 0:Nt}return _t.call(ot,ze)?ot[ze]:void 0}function os(ze){var ot=this.__data__;return Wn?ot[ze]!==void 0:_t.call(ot,ze)}function Ni(ze,ot){var Nt=this.__data__;return this.size+=this.has(ze)?0:1,Nt[ze]=Wn&&ot===void 0?s:ot,this}rn.prototype.clear=Dn,rn.prototype.delete=Yn,rn.prototype.get=mr,rn.prototype.has=os,rn.prototype.set=Ni;function Mn(ze){var ot=-1,Nt=ze==null?0:ze.length;for(this.clear();++ot<Nt;){var Ln=ze[ot];this.set(Ln[0],Ln[1])}}function xo(){this.__data__=[],this.size=0}function Us(ze){var ot=this.__data__,Nt=oa(ot,ze);if(Nt<0)return!1;var Ln=ot.length-1;return Nt==Ln?ot.pop():pn.call(ot,Nt,1),--this.size,!0}function Ys(ze){var ot=this.__data__,Nt=oa(ot,ze);return Nt<0?void 0:ot[Nt][1]}function $i(ze){return oa(this.__data__,ze)>-1}function On(ze,ot){var Nt=this.__data__,Ln=oa(Nt,ze);return Ln<0?(++this.size,Nt.push([ze,ot])):Nt[Ln][1]=ot,this}Mn.prototype.clear=xo,Mn.prototype.delete=Us,Mn.prototype.get=Ys,Mn.prototype.has=$i,Mn.prototype.set=On;function xn(ze){var ot=-1,Nt=ze==null?0:ze.length;for(this.clear();++ot<Nt;){var Ln=ze[ot];this.set(Ln[0],Ln[1])}}function Ti(){this.size=0,this.__data__={hash:new rn,map:new(Nn||Mn),string:new rn}}function ao(ze){var ot=hs(this,ze).delete(ze);return this.size-=ot?1:0,ot}function lo(ze){return hs(this,ze).get(ze)}function Es(ze){return hs(this,ze).has(ze)}function ti(ze,ot){var Nt=hs(this,ze),Ln=Nt.size;return Nt.set(ze,ot),this.size+=Nt.size==Ln?0:1,this}xn.prototype.clear=Ti,xn.prototype.delete=ao,xn.prototype.get=lo,xn.prototype.has=Es,xn.prototype.set=ti;function ai(ze){var ot=this.__data__=new Mn(ze);this.size=ot.size}function pi(){this.__data__=new Mn,this.size=0}function Ii(ze){var ot=this.__data__,Nt=ot.delete(ze);return this.size=ot.size,Nt}function Ms(ze){return this.__data__.get(ze)}function Qo(ze){return this.__data__.has(ze)}function La(ze,ot){var Nt=this.__data__;if(Nt instanceof Mn){var Ln=Nt.__data__;if(!Nn||Ln.length<r-1)return Ln.push([ze,ot]),this.size=++Nt.size,this;Nt=this.__data__=new xn(Ln)}return Nt.set(ze,ot),this.size=Nt.size,this}ai.prototype.clear=pi,ai.prototype.delete=Ii,ai.prototype.get=Ms,ai.prototype.has=Qo,ai.prototype.set=La;function zo(ze,ot){var Nt=Gi(ze),Ln=!Nt&&Pa(ze),un=!Nt&&!Ln&&hn(ze),tr=!Nt&&!Ln&&!un&&ni(ze),kn=Nt||Ln||un||tr,wr=kn?nt(ze.length,String):[],Sr=wr.length;for(var mi in ze)kn&&(mi=="length"||un&&(mi=="offset"||mi=="parent")||tr&&(mi=="buffer"||mi=="byteLength"||mi=="byteOffset")||ul(mi,Sr))||wr.push(mi);return wr}function Ho(ze,ot,Nt){(Nt!==void 0&&!Qs(ze[ot],Nt)||Nt===void 0&&!(ot in ze))&&fn(ze,ot,Nt)}function Il(ze,ot,Nt){var Ln=ze[ot];(!(_t.call(ze,ot)&&Qs(Ln,Nt))||Nt===void 0&&!(ot in ze))&&fn(ze,ot,Nt)}function oa(ze,ot){for(var Nt=ze.length;Nt--;)if(Qs(ze[Nt][0],ot))return Nt;return-1}function fn(ze,ot,Nt){ot=="__proto__"&&nn?nn(ze,ot,{configurable:!0,enumerable:!0,value:Nt,writable:!0}):ze[ot]=Nt}var Qc=_s();function Vo(ze){return ze==null?ze===void 0?z:S:Tt&&Tt in Object(ze)?li(ze):Mr(ze)}function Oi(ze){return Wi(ze)&&Vo(ze)==f}function yo(ze){if(!_i(ze)||Ja(ze))return!1;var ot=Ki(ze)?zt:he;return ot.test(xa(ze))}function cl(ze){return Wi(ze)&&as(ze.length)&&!!M[Vo(ze)]}function jo(ze){if(!_i(ze))return aa(ze);var ot=Ko(ze),Nt=[];for(var Ln in ze)Ln=="constructor"&&(ot||!_t.call(ze,Ln))||Nt.push(Ln);return Nt}function Da(ze,ot,Nt,Ln,un){ze!==ot&&Qc(ot,function(tr,kn){if(un||(un=new ai),_i(tr))_l(ze,ot,kn,Nt,Da,Ln,un);else{var wr=Ln?Ln(Wo(ze,kn),tr,kn+"",ze,ot,un):void 0;wr===void 0&&(wr=tr),Ho(ze,kn,wr)}},ca)}function _l(ze,ot,Nt,Ln,un,tr,kn){var wr=Wo(ze,Nt),Sr=Wo(ot,Nt),mi=kn.get(Sr);if(mi){Ho(ze,Nt,mi);return}var co=tr?tr(wr,Sr,Nt+"",ze,ot,kn):void 0,tl=co===void 0;if(tl){var bo=Gi(Sr),wo=!bo&&hn(Sr),zl=!bo&&!wo&&ni(Sr);co=Sr,bo||wo||zl?Gi(wr)?co=wr:la(wr)?co=$o(wr):wo?(tl=!1,co=Ss(Sr)):zl?(tl=!1,co=ks(Sr)):co=[]:Yi(Sr)||Pa(Sr)?(co=wr,Pa(wr)?co=ya(wr):(!_i(wr)||Ki(wr))&&(co=Ql(Sr))):tl=!1}tl&&(kn.set(Sr,co),un(co,Sr,Ln,tr,kn),kn.delete(Sr)),Ho(ze,Nt,co)}function _o(ze,ot){return ec(ki(ze,ot,Fo),ze+"")}var br=nn?function(ze,ot){return nn(ze,"toString",{configurable:!0,enumerable:!1,value:zs(ot),writable:!0})}:Fo;function Ss(ze,ot){return ze.slice()}function Ui(ze){var ot=new ze.constructor(ze.byteLength);return new Ct(ot).set(new Ct(ze)),ot}function ks(ze,ot){var Nt=Ui(ze.buffer);return new ze.constructor(Nt,ze.byteOffset,ze.length)}function $o(ze,ot){var Nt=-1,Ln=ze.length;for(ot||(ot=Array(Ln));++Nt<Ln;)ot[Nt]=ze[Nt];return ot}function Mi(ze,ot,Nt,Ln){var un=!Nt;Nt||(Nt={});for(var tr=-1,kn=ot.length;++tr<kn;){var wr=ot[tr],Sr=void 0;Sr===void 0&&(Sr=ze[wr]),un?fn(Nt,wr,Sr):Il(Nt,wr,Sr)}return Nt}function gr(ze){return _o(function(ot,Nt){var Ln=-1,un=Nt.length,tr=un>1?Nt[un-1]:void 0,kn=un>2?Nt[2]:void 0;for(tr=ze.length>3&&typeof tr=="function"?(un--,tr):void 0,kn&&Go(Nt[0],Nt[1],kn)&&(tr=un<3?void 0:tr,un=1),ot=Object(ot);++Ln<un;){var wr=Nt[Ln];wr&&ze(ot,wr,Ln,tr)}return ot})}function _s(ze){return function(ot,Nt,Ln){for(var un=-1,tr=Object(ot),kn=Ln(ot),wr=kn.length;wr--;){var Sr=kn[++un];if(Nt(tr[Sr],Sr,tr)===!1)break}return ot}}function hs(ze,ot){var Nt=ze.__data__;return fs(ot)?Nt[typeof ot=="string"?"string":"hash"]:Nt.map}function qr(ze,ot){var Nt=at(ze,ot);return yo(Nt)?Nt:void 0}function li(ze){var ot=_t.call(ze,Tt),Nt=ze[Tt];try{ze[Tt]=void 0;var Ln=!0}catch{}var un=We.call(ze);return Ln&&(ot?ze[Tt]=Nt:delete ze[Tt]),un}function Ql(ze){return typeof ze.constructor=="function"&&!Ko(ze)?jn(Ye(ze)):{}}function ul(ze,ot){var Nt=typeof ze;return ot=ot??d,!!ot&&(Nt=="number"||Nt!="symbol"&&$.test(ze))&&ze>-1&&ze%1==0&&ze<ot}function Go(ze,ot,Nt){if(!_i(Nt))return!1;var Ln=typeof ot;return(Ln=="number"?Yo(Nt)&&ul(ot,Nt.length):Ln=="string"&&ot in Nt)?Qs(Nt[ot],ze):!1}function fs(ze){var ot=typeof ze;return ot=="string"||ot=="number"||ot=="symbol"||ot=="boolean"?ze!=="__proto__":ze===null}function Ja(ze){return!!Je&&Je in ze}function Ko(ze){var ot=ze&&ze.constructor,Nt=typeof ot=="function"&&ot.prototype||ve;return ze===Nt}function aa(ze){var ot=[];if(ze!=null)for(var Nt in Object(ze))ot.push(Nt);return ot}function Mr(ze){return We.call(ze)}function ki(ze,ot,Nt){return ot=an(ot===void 0?ze.length-1:ot,0),function(){for(var Ln=arguments,un=-1,tr=an(Ln.length-ot,0),kn=Array(tr);++un<tr;)kn[un]=Ln[ot+un];un=-1;for(var wr=Array(ot+1);++un<ot;)wr[un]=Ln[un];return wr[ot]=Nt(kn),wt(ze,this,wr)}}function Wo(ze,ot){if(!(ot==="constructor"&&typeof ze[ot]=="function")&&ot!="__proto__")return ze[ot]}var ec=Al(br);function Al(ze){var ot=0,Nt=0;return function(){var Ln=dn(),un=l-(Ln-Nt);if(Nt=Ln,un>0){if(++ot>=i)return arguments[0]}else ot=0;return ze.apply(void 0,arguments)}}function xa(ze){if(ze!=null){try{return vt.call(ze)}catch{}try{return ze+""}catch{}}return""}function Qs(ze,ot){return ze===ot||ze!==ze&&ot!==ot}var Pa=Oi((function(){return arguments})())?Oi:function(ze){return Wi(ze)&&_t.call(ze,"callee")&&!on.call(ze,"callee")},Gi=Array.isArray;function Yo(ze){return ze!=null&&as(ze.length)&&!Ki(ze)}function la(ze){return Wi(ze)&&Yo(ze)}var hn=xt||Ra;function Ki(ze){if(!_i(ze))return!1;var ot=Vo(ze);return ot==g||ot==x||ot==h||ot==B}function as(ze){return typeof ze=="number"&&ze>-1&&ze%1==0&&ze<=d}function _i(ze){var ot=typeof ze;return ze!=null&&(ot=="object"||ot=="function")}function Wi(ze){return ze!=null&&typeof ze=="object"}function Yi(ze){if(!Wi(ze)||Vo(ze)!=C)return!1;var ot=Ye(ze);if(ot===null)return!0;var Nt=_t.call(ot,"constructor")&&ot.constructor;return typeof Nt=="function"&&Nt instanceof Nt&&vt.call(Nt)==yt}var ni=et?Ee(et):cl;function ya(ze){return Mi(ze,ca(ze))}function ca(ze){return Yo(ze)?zo(ze):jo(ze)}var el=gr(function(ze,ot,Nt,Ln){Da(ze,ot,Nt,Ln)});function zs(ze){return function(){return ze}}function Fo(ze){return ze}function Ra(){return!1}t.exports=el})(W0,W0.exports)),W0.exports}var JU=qU();const Yu=qv(JU);function Fa(t,n=[]){const r=T.useRef(t);return T.useEffect(()=>{r.current=t}),T.useCallback((...s)=>r.current?.(...s),n)}function lv(t,n,r,s){const i=Fa(r);return T.useEffect(()=>{const l=typeof t=="function"?t():t??document;if(!(!r||!l))return l.addEventListener(n,i,s),()=>{l.removeEventListener(n,i,s)}},[n,t,s,i,r]),()=>{(typeof t=="function"?t():t??document)?.removeEventListener(n,i,s)}}function e6(t){const{isOpen:n,ref:r}=t,[s,i]=T.useState(n),[l,d]=T.useState(!1);return T.useEffect(()=>{l||(i(n),d(!0))},[n,l,s]),lv(()=>r.current,"animationend",()=>{i(n)}),{present:!(n?!1:!s),onComplete(){const u=yU(r.current),h=new u.CustomEvent("animationend",{bubbles:!0});r.current?.dispatchEvent(h)}}}function Pg(t){const{value:n,defaultValue:r,onChange:s,shouldUpdate:i=(v,g)=>v!==g}=t,l=Fa(s),d=Fa(i),[f,u]=T.useState(r),h=n!==void 0,a=h?n:f,m=Fa(v=>{const x=typeof v=="function"?v(a):v;d(a,x)&&(h||u(x),l(x))},[h,l,a,d]);return[a,m]}function t6(t={}){const{onChange:n,precision:r,defaultValue:s,value:i,step:l=1,min:d=Number.MIN_SAFE_INTEGER,max:f=Number.MAX_SAFE_INTEGER,keepWithinRange:u=!0}=t,h=Fa(n),[a,m]=T.useState(()=>s==null?"":mb(s,l,r)??""),v=typeof i<"u",g=v?i:a,x=W3(sf(g),l),w=r??x,b=T.useCallback(se=>{se!==g&&(v||m(se.toString()),h?.(se.toString(),sf(se)))},[h,v,g]),S=T.useCallback(se=>{let V=se;return u&&(V=Qy(V,d,f)),MS(V,w)},[w,u,f,d]),C=T.useCallback((se=l)=>{let V;g===""?V=sf(se):V=sf(g)+se,V=S(V),b(V)},[S,l,b,g]),B=T.useCallback((se=l)=>{let V;g===""?V=sf(-se):V=sf(g)-se,V=S(V),b(V)},[S,l,b,g]),F=T.useCallback(()=>{let se;s==null?se="":se=mb(s,l,r)??d,b(se)},[s,r,l,b,d]),N=T.useCallback(se=>{const V=mb(se,l,w)??d;b(V)},[w,l,b,d]),Q=sf(g);return{isOutOfRange:Q>f||Q<d,isAtMax:Q===f,isAtMin:Q===d,precision:w,value:g,valueAsNumber:Q,update:b,reset:F,increment:C,decrement:B,clamp:S,cast:N,setValue:m}}function sf(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function W3(t,n){return Math.max(s2(n),s2(t))}function mb(t,n,r){const s=sf(t);if(Number.isNaN(s))return;const i=W3(s,n);return MS(s,r??i)}function er(t={}){const{onClose:n,onOpen:r,isOpen:s,id:i}=t,l=Fa(r),d=Fa(n),[f,u]=T.useState(t.defaultIsOpen||!1),h=s!==void 0?s:f,a=s!==void 0,m=T.useId(),v=i??`disclosure-${m}`,g=T.useCallback(()=>{a||u(!1),d?.()},[a,d]),x=T.useCallback(()=>{a||u(!0),l?.()},[a,l]),w=T.useCallback(()=>{h?g():x()},[h,x,g]);function b(C={}){return{...C,"aria-expanded":h,"aria-controls":v,onClick(B){C.onClick?.(B),w()}}}function S(C={}){return{...C,hidden:!h,id:v}}return{isOpen:h,onOpen:x,onClose:g,onToggle:w,isControlled:a,getButtonProps:b,getDisclosureProps:S}}const hh=globalThis?.document?T.useLayoutEffect:T.useEffect,pf=(t,n)=>{const r=T.useRef(!1),s=T.useRef(!1);T.useEffect(()=>{if(r.current&&s.current)return t();s.current=!0},n),T.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function n6(t){const n=t.current;if(!n)return!1;const r=bU(n);return!r||n.contains(r)?!1:!!NU(r)}function r6(t,n){const{visible:r,focusRef:s}=n,i=!r;pf(()=>{if(!i||n6(t))return;const l=s?.current||t.current;let d;if(l)return d=requestAnimationFrame(()=>{l.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(d)}},[i,t,s])}function s6(t,n){const r=T.useId();return T.useMemo(()=>t||[n,r].filter(Boolean).join("-"),[t,n,r])}function i6(t,...n){const r=s6(t);return T.useMemo(()=>n.map(s=>`${s}-${r}`),[r,n])}function o6(t,n){const r=Fa(t);T.useEffect(()=>{let s=null;const i=()=>r();return n!==null&&(s=window.setInterval(i,n)),()=>{s&&window.clearInterval(s)}},[n,r])}function Y3(t){const n=T.useRef(null);return n.current=t,n}function a6(t,n){if(t!=null){if(typeof t=="function"){t(n);return}try{t.current=n}catch{throw new Error(`Cannot assign value '${n}' to ref '${t}'`)}}}function ia(...t){return n=>{t.forEach(r=>{a6(r,n)})}}function l6(...t){return T.useMemo(()=>ia(...t),t)}function c6(t){const{ref:n,handler:r,enabled:s=!0}=t,i=Fa(r),d=T.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;T.useEffect(()=>{if(!s)return;const f=m=>{gb(m,n)&&(d.isPointerDown=!0)},u=m=>{if(d.ignoreEmulatedMouseEvents){d.ignoreEmulatedMouseEvents=!1;return}d.isPointerDown&&r&&gb(m,n)&&(d.isPointerDown=!1,i(m))},h=m=>{d.ignoreEmulatedMouseEvents=!0,r&&d.isPointerDown&&gb(m,n)&&(d.isPointerDown=!1,i(m))},a=X3(n.current);return a.addEventListener("mousedown",f,!0),a.addEventListener("mouseup",u,!0),a.addEventListener("touchstart",f,!0),a.addEventListener("touchend",h,!0),()=>{a.removeEventListener("mousedown",f,!0),a.removeEventListener("mouseup",u,!0),a.removeEventListener("touchstart",f,!0),a.removeEventListener("touchend",h,!0)}},[r,n,i,d,s])}function gb(t,n){const r=t.composedPath?.()[0]??t.target;return r&&!X3(r).contains(r)?!1:!n.current?.contains(r)}function X3(t){return t?.ownerDocument??document}function u6(t,n){const r=Fa(t);T.useEffect(()=>{if(n==null)return;let s=null;return s=window.setTimeout(()=>{r()},n),()=>{s&&window.clearTimeout(s)}},[n,r])}const Z3=1/60*1e3,A6=typeof performance<"u"?()=>performance.now():()=>Date.now(),q3=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(A6()),Z3);function d6(t){let n=[],r=[],s=0,i=!1,l=!1;const d=new WeakSet,f={schedule:(u,h=!1,a=!1)=>{const m=a&&i,v=m?n:r;return h&&d.add(u),v.indexOf(u)===-1&&(v.push(u),m&&i&&(s=n.length)),u},cancel:u=>{const h=r.indexOf(u);h!==-1&&r.splice(h,1),d.delete(u)},process:u=>{if(i){l=!0;return}if(i=!0,[n,r]=[r,n],r.length=0,s=n.length,s)for(let h=0;h<s;h++){const a=n[h];a(u),d.has(a)&&(f.schedule(a),t())}i=!1,l&&(l=!1,f.process(u))}};return f}const h6=40;let i2=!0,Fv=!1,o2=!1;const rg={delta:0,timestamp:0},sx=["read","update","preRender","render","postRender"],Vj=sx.reduce((t,n)=>(t[n]=d6(()=>Fv=!0),t),{}),f6=sx.reduce((t,n)=>{const r=Vj[n];return t[n]=(s,i=!1,l=!1)=>(Fv||g6(),r.schedule(s,i,l)),t},{}),p6=sx.reduce((t,n)=>(t[n]=Vj[n].cancel,t),{});sx.reduce((t,n)=>(t[n]=()=>Vj[n].process(rg),t),{});const m6=t=>Vj[t].process(rg),J3=t=>{Fv=!1,rg.delta=i2?Z3:Math.max(Math.min(t-rg.timestamp,h6),1),rg.timestamp=t,o2=!0,sx.forEach(m6),o2=!1,Fv&&(i2=!1,q3(J3))},g6=()=>{Fv=!0,i2=!0,o2||q3(J3)},UE=()=>rg;var v6=Object.defineProperty,x6=(t,n,r)=>n in t?v6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,IA=(t,n,r)=>(x6(t,typeof n!="symbol"?n+"":n,r),r);class y6{constructor(n,r,s){if(IA(this,"history",[]),IA(this,"startEvent",null),IA(this,"lastEvent",null),IA(this,"lastEventInfo",null),IA(this,"handlers",{}),IA(this,"removeListeners",()=>{}),IA(this,"threshold",3),IA(this,"win"),IA(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const f=vb(this.lastEventInfo,this.history),u=this.startEvent!==null,h=S6(f.offset,{x:0,y:0})>=this.threshold;if(!u&&!h)return;const{timestamp:a}=UE();this.history.push({...f.point,timestamp:a});const{onStart:m,onMove:v}=this.handlers;u||(m?.(this.lastEvent,f),this.startEvent=this.lastEvent),v?.(this.lastEvent,f)}),IA(this,"onPointerMove",(f,u)=>{this.lastEvent=f,this.lastEventInfo=u,f6.update(this.updatePoint,!0)}),IA(this,"onPointerUp",(f,u)=>{const h=vb(u,this.history),{onEnd:a,onSessionEnd:m}=this.handlers;m?.(f,h),this.end(),!(!a||!this.startEvent)&&a?.(f,h)}),this.win=n.view??window,SU(n))return;this.handlers=r,s&&(this.threshold=s),n.stopPropagation(),n.preventDefault();const i={point:U3(n)},{timestamp:l}=UE();this.history=[{...i.point,timestamp:l}];const{onSessionStart:d}=r;d?.(n,vb(i,this.history)),this.removeListeners=w6(ky(this.win,"pointermove",this.onPointerMove),ky(this.win,"pointerup",this.onPointerUp),ky(this.win,"pointercancel",this.onPointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners?.(),p6.update(this.updatePoint)}}function ME(t,n){return{x:t.x-n.x,y:t.y-n.y}}function vb(t,n){return{point:t.point,delta:ME(t.point,n[n.length-1]),offset:ME(t.point,n[0]),velocity:b6(n,.1)}}const j6=t=>t*1e3;function b6(t,n){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const i=t[t.length-1];for(;r>=0&&(s=t[r],!(i.timestamp-s.timestamp>j6(n)));)r--;if(!s)return{x:0,y:0};const l=(i.timestamp-s.timestamp)/1e3;if(l===0)return{x:0,y:0};const d={x:(i.x-s.x)/l,y:(i.y-s.y)/l};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function w6(...t){return n=>t.reduce((r,s)=>s(r),n)}function xb(t,n){return Math.abs(t-n)}function kE(t){return"x"in t&&"y"in t}function S6(t,n){if(typeof t=="number"&&typeof n=="number")return xb(t,n);if(kE(t)&&kE(n)){const r=xb(t.x,n.x),s=xb(t.y,n.y);return Math.sqrt(r**2+s**2)}return 0}function C6(t,n){const{onPan:r,onPanStart:s,onPanEnd:i,onPanSessionStart:l,onPanSessionEnd:d,threshold:f}=n,u=!!(r||s||i||l||d),h=T.useRef(null),a=Y3({onSessionStart:l,onSessionEnd:d,onStart:s,onMove:r,onEnd(m,v){h.current=null,i?.(m,v)}});T.useEffect(()=>{h.current?.updateHandlers(a.current)}),T.useEffect(()=>{const m=t.current;if(!m||!u)return;function v(g){h.current=new y6(g,a.current,f)}return ky(m,"pointerdown",v)},[t,u,a,f]),T.useEffect(()=>()=>{h.current?.end(),h.current=null},[])}const Cl={open:(t,n)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${n}`,closed:(t,n)=>`${t}[data-closed], ${t}[data-state=closed] ${n}`,hover:(t,n)=>`${t}:hover ${n}, ${t}[data-hover] ${n}`,focus:(t,n)=>`${t}:focus ${n}, ${t}[data-focus] ${n}`,focusVisible:(t,n)=>`${t}:focus-visible ${n}`,focusWithin:(t,n)=>`${t}:focus-within ${n}`,active:(t,n)=>`${t}:active ${n}, ${t}[data-active] ${n}`,disabled:(t,n)=>`${t}:disabled ${n}, ${t}[data-disabled] ${n}`,invalid:(t,n)=>`${t}:invalid ${n}, ${t}[data-invalid] ${n}`,checked:(t,n)=>`${t}:checked ${n}, ${t}[data-checked] ${n}`,placeholderShown:(t,n)=>`${t}:placeholder-shown ${n}`},od=t=>e_(n=>t(n,"&"),"[role=group]","[data-group]",".group"),qd=t=>e_(n=>t(n,"~ &"),"[data-peer]",".peer"),e_=(t,...n)=>n.map(t).join(", "),$j={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:od(Cl.open),_groupClosed:od(Cl.closed),_groupHover:od(Cl.hover),_peerHover:qd(Cl.hover),_groupFocus:od(Cl.focus),_peerFocus:qd(Cl.focus),_groupFocusVisible:od(Cl.focusVisible),_peerFocusVisible:qd(Cl.focusVisible),_groupActive:od(Cl.active),_peerActive:qd(Cl.active),_groupDisabled:od(Cl.disabled),_peerDisabled:qd(Cl.disabled),_groupInvalid:od(Cl.invalid),_peerInvalid:qd(Cl.invalid),_groupChecked:od(Cl.checked),_peerChecked:qd(Cl.checked),_groupFocusWithin:od(Cl.focusWithin),_peerFocusWithin:qd(Cl.focusWithin),_peerPlaceholderShown:qd(Cl.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},t_=Object.keys($j),B6=t=>/!(important)?$/.test(t),QE=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,E6=(t,n)=>r=>{const s=String(n),i=B6(s),l=QE(s),d=t?`${t}.${l}`:l;let f=El(r.__cssMap)&&d in r.__cssMap?r.__cssMap[d].varRef:n;return f=QE(f),i?`${f} !important`:f};function kS(t){const{scale:n,transform:r,compose:s}=t;return(l,d)=>{const f=E6(n,l)(d);let u=r?.(f,d)??f;return s&&(u=s(u,d)),u}}const ny=(...t)=>n=>t.reduce((r,s)=>s(r),n);function zu(t,n){return r=>{const s={property:r,scale:t};return s.transform=kS({scale:t,transform:n}),s}}const T6=({rtl:t,ltr:n})=>r=>r.direction==="rtl"?t:n;function I6(t){const{property:n,scale:r,transform:s}=t;return{scale:r,property:T6(n),transform:r?kS({scale:r,compose:s}):s}}const n_=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function _6(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...n_].join(" ")}function F6(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...n_].join(" ")}const L6={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},D6={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function P6(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const R6={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},a2={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},N6=new Set(Object.values(a2)),l2=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),O6=t=>t.trim();function U6(t,n){if(t==null||l2.has(t))return t;if(!(c2(t)||l2.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),l=i?.[1],d=i?.[2];if(!l||!d)return t;const f=l.includes("-gradient")?l:`${l}-gradient`,[u,...h]=d.split(",").map(O6).filter(Boolean);if(h?.length===0)return t;const a=u in a2?a2[u]:u;h.unshift(a);const m=h.map(v=>{if(N6.has(v))return v;const g=v.indexOf(" "),[x,w]=g!==-1?[v.substr(0,g),v.substr(g+1)]:[v],b=c2(w)?w:w&&w.split(" "),S=`colors.${x}`,C=S in n.__cssMap?n.__cssMap[S].varRef:x;return b?[C,...Array.isArray(b)?b:[b]].join(" "):C});return`${f}(${m.join(", ")})`}const c2=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),M6=(t,n)=>U6(t,n??{});function k6(t){return/^var\(--.+\)$/.test(t)}const Q6=t=>{const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}},ad=t=>n=>`${t}(${n})`,qs={filter(t){return t!=="auto"?t:L6},backdropFilter(t){return t!=="auto"?t:D6},ring(t){return P6(qs.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?_6():t==="auto-gpu"?F6():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:n}=Q6(t);return n||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,n){const r={left:"right",right:"left"};return n.direction==="rtl"?r[t]:t},degree(t){if(k6(t)||t==null)return t;const n=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||n?`${t}deg`:t},gradient:M6,blur:ad("blur"),opacity:ad("opacity"),brightness:ad("brightness"),contrast:ad("contrast"),dropShadow:ad("drop-shadow"),grayscale:ad("grayscale"),hueRotate:t=>ad("hue-rotate")(qs.degree(t)),invert:ad("invert"),saturate:ad("saturate"),sepia:ad("sepia"),bgImage(t){return t==null||c2(t)||l2.has(t)?t:`url(${t})`},outline(t){const n=String(t)==="0"||String(t)==="none";return t!==null&&n?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:n,divide:r}=R6[t]??{},s={flexDirection:t};return n&&(s[n]=1),r&&(s[r]=1),s}},gt={borderWidths:zu("borderWidths"),borderStyles:zu("borderStyles"),colors:zu("colors"),borders:zu("borders"),gradients:zu("gradients",qs.gradient),radii:zu("radii",qs.px),space:zu("space",ny(qs.vh,qs.px)),spaceT:zu("space",ny(qs.vh,qs.px)),degreeT(t){return{property:t,transform:qs.degree}},prop(t,n,r){return{property:t,scale:n,...n&&{transform:kS({scale:n,transform:r})}}},propT(t,n){return{property:t,transform:n}},sizes:zu("sizes",ny(qs.vh,qs.px)),sizesT:zu("sizes",ny(qs.vh,qs.fraction)),shadows:zu("shadows"),logical:I6,blur:zu("blur",qs.blur)},zy={background:gt.colors("background"),backgroundColor:gt.colors("backgroundColor"),backgroundImage:gt.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:qs.bgClip},bgSize:gt.prop("backgroundSize"),bgPosition:gt.prop("backgroundPosition"),bg:gt.colors("background"),bgColor:gt.colors("backgroundColor"),bgPos:gt.prop("backgroundPosition"),bgRepeat:gt.prop("backgroundRepeat"),bgAttachment:gt.prop("backgroundAttachment"),bgGradient:gt.gradients("backgroundImage"),bgClip:{transform:qs.bgClip}};Object.assign(zy,{bgImage:zy.backgroundImage,bgImg:zy.backgroundImage});const wi={border:gt.borders("border"),borderWidth:gt.borderWidths("borderWidth"),borderStyle:gt.borderStyles("borderStyle"),borderColor:gt.colors("borderColor"),borderRadius:gt.radii("borderRadius"),borderTop:gt.borders("borderTop"),borderBlockStart:gt.borders("borderBlockStart"),borderTopLeftRadius:gt.radii("borderTopLeftRadius"),borderStartStartRadius:gt.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:gt.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:gt.radii("borderTopRightRadius"),borderStartEndRadius:gt.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:gt.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:gt.borders("borderRight"),borderInlineEnd:gt.borders("borderInlineEnd"),borderBottom:gt.borders("borderBottom"),borderBlockEnd:gt.borders("borderBlockEnd"),borderBottomLeftRadius:gt.radii("borderBottomLeftRadius"),borderBottomRightRadius:gt.radii("borderBottomRightRadius"),borderLeft:gt.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:gt.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:gt.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:gt.borders(["borderLeft","borderRight"]),borderInline:gt.borders("borderInline"),borderY:gt.borders(["borderTop","borderBottom"]),borderBlock:gt.borders("borderBlock"),borderTopWidth:gt.borderWidths("borderTopWidth"),borderBlockStartWidth:gt.borderWidths("borderBlockStartWidth"),borderTopColor:gt.colors("borderTopColor"),borderBlockStartColor:gt.colors("borderBlockStartColor"),borderTopStyle:gt.borderStyles("borderTopStyle"),borderBlockStartStyle:gt.borderStyles("borderBlockStartStyle"),borderBottomWidth:gt.borderWidths("borderBottomWidth"),borderBlockEndWidth:gt.borderWidths("borderBlockEndWidth"),borderBottomColor:gt.colors("borderBottomColor"),borderBlockEndColor:gt.colors("borderBlockEndColor"),borderBottomStyle:gt.borderStyles("borderBottomStyle"),borderBlockEndStyle:gt.borderStyles("borderBlockEndStyle"),borderLeftWidth:gt.borderWidths("borderLeftWidth"),borderInlineStartWidth:gt.borderWidths("borderInlineStartWidth"),borderLeftColor:gt.colors("borderLeftColor"),borderInlineStartColor:gt.colors("borderInlineStartColor"),borderLeftStyle:gt.borderStyles("borderLeftStyle"),borderInlineStartStyle:gt.borderStyles("borderInlineStartStyle"),borderRightWidth:gt.borderWidths("borderRightWidth"),borderInlineEndWidth:gt.borderWidths("borderInlineEndWidth"),borderRightColor:gt.colors("borderRightColor"),borderInlineEndColor:gt.colors("borderInlineEndColor"),borderRightStyle:gt.borderStyles("borderRightStyle"),borderInlineEndStyle:gt.borderStyles("borderInlineEndStyle"),borderTopRadius:gt.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:gt.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:gt.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:gt.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(wi,{rounded:wi.borderRadius,roundedTop:wi.borderTopRadius,roundedTopLeft:wi.borderTopLeftRadius,roundedTopRight:wi.borderTopRightRadius,roundedTopStart:wi.borderStartStartRadius,roundedTopEnd:wi.borderStartEndRadius,roundedBottom:wi.borderBottomRadius,roundedBottomLeft:wi.borderBottomLeftRadius,roundedBottomRight:wi.borderBottomRightRadius,roundedBottomStart:wi.borderEndStartRadius,roundedBottomEnd:wi.borderEndEndRadius,roundedLeft:wi.borderLeftRadius,roundedRight:wi.borderRightRadius,roundedStart:wi.borderInlineStartRadius,roundedEnd:wi.borderInlineEndRadius,borderStart:wi.borderInlineStart,borderEnd:wi.borderInlineEnd,borderTopStartRadius:wi.borderStartStartRadius,borderTopEndRadius:wi.borderStartEndRadius,borderBottomStartRadius:wi.borderEndStartRadius,borderBottomEndRadius:wi.borderEndEndRadius,borderStartRadius:wi.borderInlineStartRadius,borderEndRadius:wi.borderInlineEndRadius,borderStartWidth:wi.borderInlineStartWidth,borderEndWidth:wi.borderInlineEndWidth,borderStartColor:wi.borderInlineStartColor,borderEndColor:wi.borderInlineEndColor,borderStartStyle:wi.borderInlineStartStyle,borderEndStyle:wi.borderInlineEndStyle});const z6={color:gt.colors("color"),textColor:gt.colors("color"),fill:gt.colors("fill"),stroke:gt.colors("stroke"),accentColor:gt.colors("accentColor"),textFillColor:gt.colors("textFillColor")},hj={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:qs.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:gt.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:gt.space("gap"),rowGap:gt.space("rowGap"),columnGap:gt.space("columnGap")};Object.assign(hj,{flexDir:hj.flexDirection});const $u={width:gt.sizesT("width"),inlineSize:gt.sizesT("inlineSize"),height:gt.sizes("height"),blockSize:gt.sizes("blockSize"),boxSize:gt.sizes(["width","height"]),minWidth:gt.sizes("minWidth"),minInlineSize:gt.sizes("minInlineSize"),minHeight:gt.sizes("minHeight"),minBlockSize:gt.sizes("minBlockSize"),maxWidth:gt.sizes("maxWidth"),maxInlineSize:gt.sizes("maxInlineSize"),maxHeight:gt.sizes("maxHeight"),maxBlockSize:gt.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (min-width: ${n.__breakpoints?.get(t)?.minW??t})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (max-width: ${n.__breakpoints?.get(t)?._minW??t})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:gt.propT("float",qs.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign($u,{w:$u.width,h:$u.height,minW:$u.minWidth,maxW:$u.maxWidth,minH:$u.minHeight,maxH:$u.maxHeight,overscroll:$u.overscrollBehavior,overscrollX:$u.overscrollBehaviorX,overscrollY:$u.overscrollBehaviorY});const H6={filter:{transform:qs.filter},blur:gt.blur("--chakra-blur"),brightness:gt.propT("--chakra-brightness",qs.brightness),contrast:gt.propT("--chakra-contrast",qs.contrast),hueRotate:gt.propT("--chakra-hue-rotate",qs.hueRotate),invert:gt.propT("--chakra-invert",qs.invert),saturate:gt.propT("--chakra-saturate",qs.saturate),dropShadow:gt.propT("--chakra-drop-shadow",qs.dropShadow),backdropFilter:{transform:qs.backdropFilter},backdropBlur:gt.blur("--chakra-backdrop-blur"),backdropBrightness:gt.propT("--chakra-backdrop-brightness",qs.brightness),backdropContrast:gt.propT("--chakra-backdrop-contrast",qs.contrast),backdropHueRotate:gt.propT("--chakra-backdrop-hue-rotate",qs.hueRotate),backdropInvert:gt.propT("--chakra-backdrop-invert",qs.invert),backdropSaturate:gt.propT("--chakra-backdrop-saturate",qs.saturate)},V6={ring:{transform:qs.ring},ringColor:gt.colors("--chakra-ring-color"),ringOffset:gt.prop("--chakra-ring-offset-width"),ringOffsetColor:gt.colors("--chakra-ring-offset-color"),ringInset:gt.prop("--chakra-ring-inset")},$6={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:qs.outline},outlineOffset:!0,outlineColor:gt.colors("outlineColor")},r_={gridGap:gt.space("gridGap"),gridColumnGap:gt.space("gridColumnGap"),gridRowGap:gt.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function G6(t,n,r,s){const i=typeof n=="string"?n.split("."):[n];for(s=0;s<i.length&&t;s+=1)t=t[i[s]];return t===void 0?r:t}const K6=t=>{const n=new WeakMap;return(s,i,l,d)=>{if(typeof s>"u")return t(s,i,l);n.has(s)||n.set(s,new Map);const f=n.get(s);if(f.has(i))return f.get(i);const u=t(s,i,l,d);return f.set(i,u),u}},W6=K6(G6),Y6={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},X6={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},yb=(t,n,r)=>{const s={},i=W6(t,n,{});for(const l in i)l in r&&r[l]!=null||(s[l]=i[l]);return s},Z6={srOnly:{transform(t){return t===!0?Y6:t==="focusable"?X6:{}}},layerStyle:{processResult:!0,transform:(t,n,r)=>yb(n,`layerStyles.${t}`,r)},textStyle:{processResult:!0,transform:(t,n,r)=>yb(n,`textStyles.${t}`,r)},apply:{processResult:!0,transform:(t,n,r)=>yb(n,t,r)}},cv={position:!0,pos:gt.prop("position"),zIndex:gt.prop("zIndex","zIndices"),inset:gt.spaceT("inset"),insetX:gt.spaceT(["left","right"]),insetInline:gt.spaceT("insetInline"),insetY:gt.spaceT(["top","bottom"]),insetBlock:gt.spaceT("insetBlock"),top:gt.spaceT("top"),insetBlockStart:gt.spaceT("insetBlockStart"),bottom:gt.spaceT("bottom"),insetBlockEnd:gt.spaceT("insetBlockEnd"),left:gt.spaceT("left"),insetInlineStart:gt.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:gt.spaceT("right"),insetInlineEnd:gt.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(cv,{insetStart:cv.insetInlineStart,insetEnd:cv.insetInlineEnd});const u2={boxShadow:gt.shadows("boxShadow"),mixBlendMode:!0,blendMode:gt.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:gt.prop("backgroundBlendMode"),opacity:!0};Object.assign(u2,{shadow:u2.boxShadow});const Uo={margin:gt.spaceT("margin"),marginTop:gt.spaceT("marginTop"),marginBlockStart:gt.spaceT("marginBlockStart"),marginRight:gt.spaceT("marginRight"),marginInlineEnd:gt.spaceT("marginInlineEnd"),marginBottom:gt.spaceT("marginBottom"),marginBlockEnd:gt.spaceT("marginBlockEnd"),marginLeft:gt.spaceT("marginLeft"),marginInlineStart:gt.spaceT("marginInlineStart"),marginX:gt.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:gt.spaceT("marginInline"),marginY:gt.spaceT(["marginTop","marginBottom"]),marginBlock:gt.spaceT("marginBlock"),padding:gt.space("padding"),paddingTop:gt.space("paddingTop"),paddingBlockStart:gt.space("paddingBlockStart"),paddingRight:gt.space("paddingRight"),paddingBottom:gt.space("paddingBottom"),paddingBlockEnd:gt.space("paddingBlockEnd"),paddingLeft:gt.space("paddingLeft"),paddingInlineStart:gt.space("paddingInlineStart"),paddingInlineEnd:gt.space("paddingInlineEnd"),paddingX:gt.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:gt.space("paddingInline"),paddingY:gt.space(["paddingTop","paddingBottom"]),paddingBlock:gt.space("paddingBlock")};Object.assign(Uo,{m:Uo.margin,mt:Uo.marginTop,mr:Uo.marginRight,me:Uo.marginInlineEnd,marginEnd:Uo.marginInlineEnd,mb:Uo.marginBottom,ml:Uo.marginLeft,ms:Uo.marginInlineStart,marginStart:Uo.marginInlineStart,mx:Uo.marginX,my:Uo.marginY,p:Uo.padding,pt:Uo.paddingTop,py:Uo.paddingY,px:Uo.paddingX,pb:Uo.paddingBottom,pl:Uo.paddingLeft,ps:Uo.paddingInlineStart,paddingStart:Uo.paddingInlineStart,pr:Uo.paddingRight,pe:Uo.paddingInlineEnd,paddingEnd:Uo.paddingInlineEnd});const q6={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:gt.spaceT("scrollMargin"),scrollMarginTop:gt.spaceT("scrollMarginTop"),scrollMarginBottom:gt.spaceT("scrollMarginBottom"),scrollMarginLeft:gt.spaceT("scrollMarginLeft"),scrollMarginRight:gt.spaceT("scrollMarginRight"),scrollMarginX:gt.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:gt.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:gt.spaceT("scrollPadding"),scrollPaddingTop:gt.spaceT("scrollPaddingTop"),scrollPaddingBottom:gt.spaceT("scrollPaddingBottom"),scrollPaddingLeft:gt.spaceT("scrollPaddingLeft"),scrollPaddingRight:gt.spaceT("scrollPaddingRight"),scrollPaddingX:gt.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:gt.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},J6={fontFamily:gt.prop("fontFamily","fonts"),fontSize:gt.prop("fontSize","fontSizes",qs.px),fontWeight:gt.prop("fontWeight","fontWeights"),lineHeight:gt.prop("lineHeight","lineHeights"),letterSpacing:gt.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},eM={textDecorationColor:gt.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:gt.shadows("textShadow")},tM={clipPath:!0,transform:gt.propT("transform",qs.transform),transformOrigin:!0,translateX:gt.spaceT("--chakra-translate-x"),translateY:gt.spaceT("--chakra-translate-y"),skewX:gt.degreeT("--chakra-skew-x"),skewY:gt.degreeT("--chakra-skew-y"),scaleX:gt.prop("--chakra-scale-x"),scaleY:gt.prop("--chakra-scale-y"),scale:gt.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:gt.degreeT("--chakra-rotate")},nM={listStyleType:!0,listStylePosition:!0,listStylePos:gt.prop("listStylePosition"),listStyleImage:!0,listStyleImg:gt.prop("listStyleImage")},rM={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:gt.prop("transitionDuration","transition.duration"),transitionProperty:gt.prop("transitionProperty","transition.property"),transitionTimingFunction:gt.prop("transitionTimingFunction","transition.easing")},QS=Yu({},zy,wi,z6,hj,$u,H6,V6,$6,r_,Z6,cv,u2,Uo,q6,J6,eM,tM,nM,rM),sM=Object.assign({},Uo,$u,hj,r_,cv),iM=Object.keys(sM),oM=[...Object.keys(QS),...t_],aM={...QS,...$j},lM=t=>t in aM,cM=t=>n=>{if(!n.__breakpoints)return t;const{isResponsive:r,toArrayValue:s,media:i}=n.__breakpoints,l={};for(const d in t){let f=xu(t[d],n);if(f==null)continue;if(f=El(f)&&r(f)?s(f):f,!Array.isArray(f)){l[d]=f;continue}const u=f.slice(0,i.length).length;for(let h=0;h<u;h+=1){const a=i?.[h];if(!a){l[d]=f[h];continue}l[a]=l[a]||{},f[h]!=null&&(l[a][d]=f[h])}}return l};function uM(t){const n=[];let r="",s=!1;for(let i=0;i<t.length;i++){const l=t[i];l==="("?(s=!0,r+=l):l===")"?(s=!1,r+=l):l===","&&!s?(n.push(r),r=""):r+=l}return r=r.trim(),r&&n.push(r),n}function AM(t){return/^var\(--.+\)$/.test(t)}const dM=(t,n)=>t.startsWith("--")&&typeof n=="string"&&!AM(n),hM=(t,n)=>{if(n==null)return n;const r=d=>t.__cssMap?.[d]?.varRef,s=d=>r(d)??d,[i,l]=uM(n);return n=r(i)??s(l)??s(n),n};function fM(t){const{configs:n={},pseudos:r={},theme:s}=t,i=(l,d=!1)=>{const f=xu(l,s),u=cM(f)(s);let h={};for(let a in u){const m=u[a];let v=xu(m,s);a in r&&(a=r[a]),dM(a,v)&&(v=hM(s,v));let g=n[a];if(g===!0&&(g={property:a}),El(v)){h[a]=h[a]??{},h[a]=Yu({},h[a],i(v,!0));continue}let x=g?.transform?.(v,s,f)??v;x=g?.processResult?i(x,!0):x;const w=xu(g?.property,s);if(!d&&g?.static){const b=xu(g.static,s);h=Yu({},h,b)}if(w&&Array.isArray(w)){for(const b of w)h[b]=x;continue}if(w){w==="&"&&El(x)?h=Yu({},h,x):h[w]=x;continue}if(El(x)){h=Yu({},h,x);continue}h[a]=x}return h};return i}const s_=t=>n=>fM({theme:n,pseudos:$j,configs:QS})(t);function Io(t){return{definePartsStyle(n){return n},defineMultiStyleConfig(n){return{parts:t,...n}}}}function pM(t,n,r){return t.__cssMap?.[`${n}.${r}`]?.varRef??r}function mM(t,n){if(Array.isArray(t))return t;if(El(t))return n(t);if(t!=null)return[t]}function gM(t,n){for(let r=n+1;r<t.length;r++)if(t[r]!=null)return r;return-1}function vM(t){const n=t.__breakpoints;return function(s,i,l,d){if(!n)return;const f={},u=mM(l,n.toArrayValue);if(!u)return f;const h=u.length,a=h===1,m=!!s.parts;for(let v=0;v<h;v++){const g=n.details[v],x=n.details[gM(u,v)],w=K0(g.minW,x?._minW),b=xu(s[i]?.[u[v]],d);if(b){if(m){s.parts?.forEach(S=>{Yu(f,{[S]:a?b[S]:{[w]:b[S]}})});continue}if(!m){a?Yu(f,b):f[w]=b;continue}f[w]=b}}return f}}function xM(t){return n=>{const{variant:r,size:s,theme:i}=n,l=vM(i);return Yu({},xu(t.baseStyle??{},n),l(t,"sizes",s,n),l(t,"variants",r,n))}}function ei(t){return nx(t,["styleConfig","size","variant","colorScheme"])}function i_(t){return El(t)&&t.reference?t.reference:String(t)}const Gj=(t,...n)=>n.map(i_).join(` ${t} `).replace(/calc/g,""),zE=(...t)=>`calc(${Gj("+",...t)})`,HE=(...t)=>`calc(${Gj("-",...t)})`,A2=(...t)=>`calc(${Gj("*",...t)})`,VE=(...t)=>`calc(${Gj("/",...t)})`,$E=t=>{const n=i_(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:A2(n,-1)},ih=Object.assign(t=>({add:(...n)=>ih(zE(t,...n)),subtract:(...n)=>ih(HE(t,...n)),multiply:(...n)=>ih(A2(t,...n)),divide:(...n)=>ih(VE(t,...n)),negate:()=>ih($E(t)),toString:()=>t.toString()}),{add:zE,subtract:HE,multiply:A2,divide:VE,negate:$E});function yM(t,n="-"){return t.replace(/\s+/g,n)}function jM(t){const n=yM(t.toString());return wM(bM(n))}function bM(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function wM(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function SM(t,n=""){return[n,t].filter(Boolean).join("-")}function CM(t,n){return`var(${t}${n?`, ${n}`:""})`}function BM(t,n=""){return jM(`--${SM(t,n)}`)}function _r(t,n,r){const s=BM(t,r);return{variable:s,reference:CM(s,n)}}function EM(t,n){const r={};for(const s of n){if(Array.isArray(s)){const[i,l]=s;r[i]=_r(`${t}-${i}`,l);continue}r[s]=_r(`${t}-${s}`)}return r}const TM=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function IM(t){return $3(t,TM)}function _M(t){return t.semanticTokens}function FM(t){const{__cssMap:n,__cssVars:r,__breakpoints:s,...i}=t;return i}function LM(t){const n=IM(t),r=_M(t),s=l=>t_.includes(l)||l==="default",i={};return NE(n,(l,d)=>{l!=null&&(i[d.join(".")]={isSemantic:!1,value:l})}),NE(r,(l,d)=>{l!=null&&(i[d.join(".")]={isSemantic:!0,value:l})},{stop:l=>Object.keys(l).every(s)}),i}function GE(t,n){return _r(String(t).replace(/\./g,"-"),void 0,n)}function DM(t){const n=LM(t),r=t.config?.cssVarPrefix;let s={};const i={};function l(d,f){const h=[String(d).split(".")[0],f].join(".");if(!n[h])return f;const{reference:m}=GE(h,r);return m}for(const[d,f]of Object.entries(n)){const{isSemantic:u,value:h}=f,{variable:a,reference:m}=GE(d,r);if(!u){if(d.startsWith("space")){const g=d.split("."),[x,...w]=g,b=`${x}.-${w.join(".")}`,S=ih.negate(h),C=ih.negate(m);i[b]={value:S,var:a,varRef:C}}s[a]=h,i[d]={value:h,var:a,varRef:m};continue}const v=El(h)?h:{default:h};s=Yu(s,Object.entries(v).reduce((g,[x,w])=>{if(!w)return g;const b=l(d,`${w}`);if(x==="default")return g[a]=b,g;const S=$j?.[x]??x;return g[S]={[a]:b},g},{})),i[d]={value:m,var:a,varRef:m}}return{cssVars:s,cssMap:i}}function PM(t){const n=FM(t),{cssMap:r,cssVars:s}=DM(n);return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...s},__cssMap:r,__breakpoints:DU(n.breakpoints)}),n}function Ei(t,n={}){let r=!1;function s(){if(!r){r=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...a){s();for(const m of a)n[m]=u(m);return Ei(t,n)}function l(...a){for(const m of a)m in n||(n[m]=u(m));return Ei(t,n)}function d(){return Object.fromEntries(Object.entries(n).map(([m,v])=>[m,v.selector]))}function f(){return Object.fromEntries(Object.entries(n).map(([m,v])=>[m,v.className]))}function u(a){const g=`chakra-${(["container","root"].includes(a??"")?[t]:[t,a]).filter(Boolean).join("__")}`;return{className:g,selector:`.${g}`,toString:()=>a}}return{parts:i,toPart:u,extend:l,selectors:d,classnames:f,get keys(){return Object.keys(n)},__type:{}}}const RM=Ei("accordion").parts("root","container","button","panel","icon"),NM=Ei("alert").parts("title","description","container","icon","spinner"),OM=Ei("avatar").parts("label","badge","container","excessLabel","group"),UM=Ei("breadcrumb").parts("link","item","container","separator");Ei("button").parts();const MM=Ei("checkbox").parts("control","icon","container","label");Ei("progress").parts("track","filledTrack","label");const kM=Ei("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),QM=Ei("editable").parts("preview","input","textarea"),zM=Ei("form").parts("container","requiredIndicator","helperText"),HM=Ei("formError").parts("text","icon"),VM=Ei("input").parts("addon","field","element","group"),$M=Ei("list").parts("container","item","icon"),GM=Ei("menu").parts("button","list","item","groupTitle","icon","command","divider"),KM=Ei("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),WM=Ei("numberinput").parts("root","field","stepperGroup","stepper");Ei("pininput").parts("field");const YM=Ei("popover").parts("content","header","body","footer","popper","arrow","closeButton"),XM=Ei("progress").parts("label","filledTrack","track"),ZM=Ei("radio").parts("container","control","label"),qM=Ei("select").parts("field","icon"),JM=Ei("slider").parts("container","track","thumb","filledTrack","mark"),ek=Ei("stat").parts("container","label","helpText","number","icon"),tk=Ei("switch").parts("container","track","thumb","label"),nk=Ei("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),rk=Ei("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),sk=Ei("tag").parts("container","label","closeButton"),ik=Ei("card").parts("container","header","body","footer");Ei("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:ok,defineMultiStyleConfig:ak}=Io(RM.keys),lk={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},ck={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},uk={pt:"2",px:"4",pb:"5"},Ak={fontSize:"1.25em"},dk=ok({container:lk,button:ck,panel:uk,icon:Ak}),hk=ak({baseStyle:dk});function fp(t,n,r){return Math.min(Math.max(t,r),n)}class fk extends Error{constructor(n){super(`Failed to parse color: "${n}"`)}}var Y0=fk;function zS(t){if(typeof t!="string")throw new Y0(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let n=t.trim();n=bk.test(t)?gk(t):t;const r=vk.exec(n);if(r){const d=Array.from(r).slice(1);return[...d.slice(0,3).map(f=>parseInt(Lv(f,2),16)),parseInt(Lv(d[3]||"f",2),16)/255]}const s=xk.exec(n);if(s){const d=Array.from(s).slice(1);return[...d.slice(0,3).map(f=>parseInt(f,16)),parseInt(d[3]||"ff",16)/255]}const i=yk.exec(n);if(i){const d=Array.from(i).slice(1);return[...d.slice(0,3).map(f=>parseInt(f,10)),parseFloat(d[3]||"1")]}const l=jk.exec(n);if(l){const[d,f,u,h]=Array.from(l).slice(1).map(parseFloat);if(fp(0,100,f)!==f)throw new Y0(t);if(fp(0,100,u)!==u)throw new Y0(t);return[...wk(d,f,u),Number.isNaN(h)?1:h]}throw new Y0(t)}function pk(t){let n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);return(n>>>0)%2341}const KE=t=>parseInt(t.replace(/_/g,""),36),mk="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,n)=>{const r=KE(n.substring(0,3)),s=KE(n.substring(3)).toString(16);let i="";for(let l=0;l<6-s.length;l++)i+="0";return t[r]=`${i}${s}`,t},{});function gk(t){const n=t.toLowerCase().trim(),r=mk[pk(n)];if(!r)throw new Y0(t);return`#${r}`}const Lv=(t,n)=>Array.from(Array(n)).map(()=>t).join(""),vk=new RegExp(`^#${Lv("([a-f0-9])",3)}([a-f0-9])?$`,"i"),xk=new RegExp(`^#${Lv("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),yk=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Lv(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),jk=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,bk=/^[a-z]+$/i,WE=t=>Math.round(t*255),wk=(t,n,r)=>{let s=r/100;if(n===0)return[s,s,s].map(WE);const i=(t%360+360)%360/60,l=(1-Math.abs(2*s-1))*(n/100),d=l*(1-Math.abs(i%2-1));let f=0,u=0,h=0;i>=0&&i<1?(f=l,u=d):i>=1&&i<2?(f=d,u=l):i>=2&&i<3?(u=l,h=d):i>=3&&i<4?(u=d,h=l):i>=4&&i<5?(f=d,h=l):i>=5&&i<6&&(f=l,h=d);const a=s-l/2,m=f+a,v=u+a,g=h+a;return[m,v,g].map(WE)};function Sk(t,n,r,s){return`rgba(${fp(0,255,t).toFixed()}, ${fp(0,255,n).toFixed()}, ${fp(0,255,r).toFixed()}, ${parseFloat(fp(0,1,s).toFixed(3))})`}function Ck(t,n){const[r,s,i,l]=zS(t);return Sk(r,s,i,l-n)}function Bk(t){const[n,r,s,i]=zS(t);let l=d=>{const f=fp(0,255,d).toString(16);return f.length===1?`0${f}`:f};return`#${l(n)}${l(r)}${l(s)}${i<1?l(Math.round(i*255)):""}`}const Ek=t=>Object.keys(t).length===0;function Tk(t,n,r,s,i){for(n=n.split?n.split("."):n,s=0;s<n.length;s++)t=t?t[n[s]]:i;return t===i?r:t}const Uc=(t,n,r)=>{const s=Tk(t,`colors.${n}`,n);try{return Bk(s),s}catch{return r??"#000000"}},Ik=t=>{const[n,r,s]=zS(t);return(n*299+r*587+s*114)/1e3},_k=t=>n=>{const r=Uc(n,t);return Ik(r)<128?"dark":"light"},Fk=t=>n=>_k(t)(n)==="dark",pg=(t,n)=>r=>{const s=Uc(r,t);return Ck(s,1-n)};function YE(t="1rem",n="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${n} 25%,
    transparent 25%,
    transparent 50%,
    ${n} 50%,
    ${n} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const Lk=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function Dk(t){const n=Lk();return!t||Ek(t)?n:t.string&&t.colors?Rk(t.string,t.colors):t.string&&!t.colors?Pk(t.string):t.colors&&!t.string?Nk(t.colors):n}function Pk(t){let n=0;if(t.length===0)return n.toString();for(let s=0;s<t.length;s+=1)n=t.charCodeAt(s)+((n<<5)-n),n=n&n;let r="#";for(let s=0;s<3;s+=1){const i=n>>s*8&255;r+=`00${i.toString(16)}`.substr(-2)}return r}function Rk(t,n){let r=0;if(t.length===0)return n[0];for(let s=0;s<t.length;s+=1)r=t.charCodeAt(s)+((r<<5)-r),r=r&r;return r=(r%n.length+n.length)%n.length,n[r]}function Nk(t){return t[Math.floor(Math.random()*t.length)]}function Ir(t,n){return r=>r.colorMode==="dark"?n:t}function HS(t){const{orientation:n,vertical:r,horizontal:s}=t;return n?n==="vertical"?r:s:{}}function o_(t){return El(t)&&t.reference?t.reference:String(t)}const Kj=(t,...n)=>n.map(o_).join(` ${t} `).replace(/calc/g,""),XE=(...t)=>`calc(${Kj("+",...t)})`,ZE=(...t)=>`calc(${Kj("-",...t)})`,d2=(...t)=>`calc(${Kj("*",...t)})`,qE=(...t)=>`calc(${Kj("/",...t)})`,JE=t=>{const n=o_(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:d2(n,-1)},oh=Object.assign(t=>({add:(...n)=>oh(XE(t,...n)),subtract:(...n)=>oh(ZE(t,...n)),multiply:(...n)=>oh(d2(t,...n)),divide:(...n)=>oh(qE(t,...n)),negate:()=>oh(JE(t)),toString:()=>t.toString()}),{add:XE,subtract:ZE,multiply:d2,divide:qE,negate:JE});function Ok(t){return!Number.isInteger(parseFloat(t.toString()))}function Uk(t,n="-"){return t.replace(/\s+/g,n)}function a_(t){const n=Uk(t.toString());return n.includes("\\.")?t:Ok(t)?n.replace(".","\\."):t}function Mk(t,n=""){return[n,a_(t)].filter(Boolean).join("-")}function kk(t,n){return`var(${a_(t)}${n?`, ${n}`:""})`}function Qk(t,n=""){return`--${Mk(t,n)}`}function Tl(t,n){const r=Qk(t,n?.prefix);return{variable:r,reference:kk(r,zk(n?.fallback))}}function zk(t){return t?.reference}const{definePartsStyle:ix,defineMultiStyleConfig:Hk}=Io(NM.keys),ju=_r("alert-fg"),bh=_r("alert-bg"),Vk=ix({container:{bg:bh.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:ju.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:ju.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function VS(t){const{theme:n,colorScheme:r}=t,s=pg(`${r}.200`,.16)(n);return{light:`colors.${r}.100`,dark:s}}const $k=ix(t=>{const{colorScheme:n}=t,r=VS(t);return{container:{[ju.variable]:`colors.${n}.600`,[bh.variable]:r.light,_dark:{[ju.variable]:`colors.${n}.200`,[bh.variable]:r.dark}}}}),Gk=ix(t=>{const{colorScheme:n}=t,r=VS(t);return{container:{[ju.variable]:`colors.${n}.600`,[bh.variable]:r.light,_dark:{[ju.variable]:`colors.${n}.200`,[bh.variable]:r.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:ju.reference}}}),Kk=ix(t=>{const{colorScheme:n}=t,r=VS(t);return{container:{[ju.variable]:`colors.${n}.600`,[bh.variable]:r.light,_dark:{[ju.variable]:`colors.${n}.200`,[bh.variable]:r.dark},pt:"2",borderTopWidth:"4px",borderTopColor:ju.reference}}}),Wk=ix(t=>{const{colorScheme:n}=t;return{container:{[ju.variable]:"colors.white",[bh.variable]:`colors.${n}.600`,_dark:{[ju.variable]:"colors.gray.900",[bh.variable]:`colors.${n}.200`},color:ju.reference}}}),Yk={subtle:$k,"left-accent":Gk,"top-accent":Kk,solid:Wk},Xk=Hk({baseStyle:Vk,variants:Yk,defaultProps:{variant:"subtle",colorScheme:"blue"}}),l_={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Zk={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},qk={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},c_={...l_,...Zk,container:qk},Jk=t=>typeof t=="function";function Mc(t,...n){return Jk(t)?t(...n):t}const{definePartsStyle:u_,defineMultiStyleConfig:e8}=Io(OM.keys),sg=_r("avatar-border-color"),uv=_r("avatar-bg"),Dv=_r("avatar-font-size"),mg=_r("avatar-size"),t8={borderRadius:"full",border:"0.2em solid",borderColor:sg.reference,[sg.variable]:"white",_dark:{[sg.variable]:"colors.gray.800"}},n8={bg:uv.reference,fontSize:Dv.reference,width:mg.reference,height:mg.reference,lineHeight:"1",[uv.variable]:"colors.gray.200",_dark:{[uv.variable]:"colors.whiteAlpha.400"}},r8=t=>{const{name:n,theme:r}=t,s=n?Dk({string:n}):"colors.gray.400",i=Fk(s)(r);let l="white";return i||(l="gray.800"),{bg:uv.reference,fontSize:Dv.reference,color:l,borderColor:sg.reference,verticalAlign:"top",width:mg.reference,height:mg.reference,"&:not([data-loaded])":{[uv.variable]:s},[sg.variable]:"colors.white",_dark:{[sg.variable]:"colors.gray.800"}}},s8={fontSize:Dv.reference,lineHeight:"1"},i8=u_(t=>({badge:Mc(t8,t),excessLabel:Mc(n8,t),container:Mc(r8,t),label:s8}));function qh(t){const n=t!=="100%"?c_[t]:void 0;return u_({container:{[mg.variable]:n??t,[Dv.variable]:`calc(${n??t} / 2.5)`},excessLabel:{[mg.variable]:n??t,[Dv.variable]:`calc(${n??t} / 2.5)`}})}const o8={"2xs":qh(4),xs:qh(6),sm:qh(8),md:qh(12),lg:qh(16),xl:qh(24),"2xl":qh(32),full:qh("100%")},a8=e8({baseStyle:i8,sizes:o8,defaultProps:{size:"md"}}),Xa=EM("badge",["bg","color","shadow"]),l8={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Xa.bg.reference,color:Xa.color.reference,boxShadow:Xa.shadow.reference},c8=t=>{const{colorScheme:n,theme:r}=t,s=pg(`${n}.500`,.6)(r);return{[Xa.bg.variable]:`colors.${n}.500`,[Xa.color.variable]:"colors.white",_dark:{[Xa.bg.variable]:s,[Xa.color.variable]:"colors.whiteAlpha.800"}}},u8=t=>{const{colorScheme:n,theme:r}=t,s=pg(`${n}.200`,.16)(r);return{[Xa.bg.variable]:`colors.${n}.100`,[Xa.color.variable]:`colors.${n}.800`,_dark:{[Xa.bg.variable]:s,[Xa.color.variable]:`colors.${n}.200`}}},A8=t=>{const{colorScheme:n,theme:r}=t,s=pg(`${n}.200`,.8)(r);return{[Xa.color.variable]:`colors.${n}.500`,_dark:{[Xa.color.variable]:s},[Xa.shadow.variable]:`inset 0 0 0px 1px ${Xa.color.reference}`}},d8={solid:c8,subtle:u8,outline:A8},Av={baseStyle:l8,variants:d8,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:h8,definePartsStyle:f8}=Io(UM.keys),jb=_r("breadcrumb-link-decor"),p8={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:jb.reference,[jb.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[jb.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},m8=f8({link:p8}),g8=h8({baseStyle:m8}),v8={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},A_=t=>{const{colorScheme:n,theme:r}=t;if(n==="gray")return{color:Ir("gray.800","whiteAlpha.900")(t),_hover:{bg:Ir("gray.100","whiteAlpha.200")(t)},_active:{bg:Ir("gray.200","whiteAlpha.300")(t)}};const s=pg(`${n}.200`,.12)(r),i=pg(`${n}.200`,.24)(r);return{color:Ir(`${n}.600`,`${n}.200`)(t),bg:"transparent",_hover:{bg:Ir(`${n}.50`,s)(t)},_active:{bg:Ir(`${n}.100`,i)(t)}}},x8=t=>{const{colorScheme:n}=t,r=Ir("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:n==="gray"?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Mc(A_,t)}},y8={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},j8=t=>{const{colorScheme:n}=t;if(n==="gray"){const f=Ir("gray.100","whiteAlpha.200")(t);return{bg:f,color:Ir("gray.800","whiteAlpha.900")(t),_hover:{bg:Ir("gray.200","whiteAlpha.300")(t),_disabled:{bg:f}},_active:{bg:Ir("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:s="white",hoverBg:i=`${n}.600`,activeBg:l=`${n}.700`}=y8[n]??{},d=Ir(r,`${n}.200`)(t);return{bg:d,color:Ir(s,"gray.800")(t),_hover:{bg:Ir(i,`${n}.300`)(t),_disabled:{bg:d}},_active:{bg:Ir(l,`${n}.400`)(t)}}},b8=t=>{const{colorScheme:n}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ir(`${n}.500`,`${n}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ir(`${n}.700`,`${n}.500`)(t)}}},w8={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},S8={ghost:A_,outline:x8,solid:j8,link:b8,unstyled:w8},C8={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},B8={baseStyle:v8,variants:S8,sizes:C8,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:xp,defineMultiStyleConfig:E8}=Io(ik.keys),fj=_r("card-bg"),fh=_r("card-padding"),d_=_r("card-shadow"),Hy=_r("card-radius"),h_=_r("card-border-width","0"),f_=_r("card-border-color"),T8=xp({container:{[fj.variable]:"colors.chakra-body-bg",backgroundColor:fj.reference,boxShadow:d_.reference,borderRadius:Hy.reference,color:"chakra-body-text",borderWidth:h_.reference,borderColor:f_.reference},body:{padding:fh.reference,flex:"1 1 0%"},header:{padding:fh.reference},footer:{padding:fh.reference}}),I8={sm:xp({container:{[Hy.variable]:"radii.base",[fh.variable]:"space.3"}}),md:xp({container:{[Hy.variable]:"radii.md",[fh.variable]:"space.5"}}),lg:xp({container:{[Hy.variable]:"radii.xl",[fh.variable]:"space.7"}})},_8={elevated:xp({container:{[d_.variable]:"shadows.base",_dark:{[fj.variable]:"colors.gray.700"}}}),outline:xp({container:{[h_.variable]:"1px",[f_.variable]:"colors.chakra-border-color"}}),filled:xp({container:{[fj.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[fh.variable]:0},header:{[fh.variable]:0},footer:{[fh.variable]:0}}},F8=E8({baseStyle:T8,variants:_8,sizes:I8,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:Vy,defineMultiStyleConfig:L8}=Io(MM.keys),dv=_r("checkbox-size"),D8=t=>{const{colorScheme:n}=t;return{w:dv.reference,h:dv.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ir(`${n}.500`,`${n}.200`)(t),borderColor:Ir(`${n}.500`,`${n}.200`)(t),color:Ir("white","gray.900")(t),_hover:{bg:Ir(`${n}.600`,`${n}.300`)(t),borderColor:Ir(`${n}.600`,`${n}.300`)(t)},_disabled:{borderColor:Ir("gray.200","transparent")(t),bg:Ir("gray.200","whiteAlpha.300")(t),color:Ir("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Ir(`${n}.500`,`${n}.200`)(t),borderColor:Ir(`${n}.500`,`${n}.200`)(t),color:Ir("white","gray.900")(t)},_disabled:{bg:Ir("gray.100","whiteAlpha.100")(t),borderColor:Ir("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ir("red.500","red.300")(t)}}},P8={_disabled:{cursor:"not-allowed"}},R8={userSelect:"none",_disabled:{opacity:.4}},N8={transitionProperty:"transform",transitionDuration:"normal"},O8=Vy(t=>({icon:N8,container:P8,control:Mc(D8,t),label:R8})),U8={sm:Vy({control:{[dv.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Vy({control:{[dv.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Vy({control:{[dv.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},pj=L8({baseStyle:O8,sizes:U8,defaultProps:{size:"md",colorScheme:"blue"}}),hv=Tl("close-button-size"),F0=Tl("close-button-bg"),M8={w:[hv.reference],h:[hv.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[F0.variable]:"colors.blackAlpha.100",_dark:{[F0.variable]:"colors.whiteAlpha.100"}},_active:{[F0.variable]:"colors.blackAlpha.200",_dark:{[F0.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:F0.reference},k8={lg:{[hv.variable]:"sizes.10",fontSize:"md"},md:{[hv.variable]:"sizes.8",fontSize:"xs"},sm:{[hv.variable]:"sizes.6",fontSize:"2xs"}},Q8={baseStyle:M8,sizes:k8,defaultProps:{size:"md"}},{variants:z8,defaultProps:H8}=Av,V8={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Xa.bg.reference,color:Xa.color.reference,boxShadow:Xa.shadow.reference},$8={baseStyle:V8,variants:z8,defaultProps:H8},G8={w:"100%",mx:"auto",maxW:"prose",px:"4"},K8={baseStyle:G8},W8={opacity:.6,borderColor:"inherit"},Y8={borderStyle:"solid"},X8={borderStyle:"dashed"},Z8={solid:Y8,dashed:X8},q8={baseStyle:W8,variants:Z8,defaultProps:{variant:"solid"}},{definePartsStyle:h2,defineMultiStyleConfig:J8}=Io(kM.keys),bb=_r("drawer-bg"),wb=_r("drawer-box-shadow");function Em(t){return h2(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const eQ={bg:"blackAlpha.600",zIndex:"modal"},tQ={display:"flex",zIndex:"modal",justifyContent:"center"},nQ=t=>{const{isFullHeight:n}=t;return{...n&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[bb.variable]:"colors.white",[wb.variable]:"shadows.lg",_dark:{[bb.variable]:"colors.gray.700",[wb.variable]:"shadows.dark-lg"},bg:bb.reference,boxShadow:wb.reference}},rQ={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},sQ={position:"absolute",top:"2",insetEnd:"3"},iQ={px:"6",py:"2",flex:"1",overflow:"auto"},oQ={px:"6",py:"4"},aQ=h2(t=>({overlay:eQ,dialogContainer:tQ,dialog:Mc(nQ,t),header:rQ,closeButton:sQ,body:iQ,footer:oQ})),lQ={xs:Em("xs"),sm:Em("md"),md:Em("lg"),lg:Em("2xl"),xl:Em("4xl"),full:Em("full")},cQ=J8({baseStyle:aQ,sizes:lQ,defaultProps:{size:"xs"}}),{definePartsStyle:uQ,defineMultiStyleConfig:AQ}=Io(QM.keys),dQ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},hQ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},fQ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},pQ=uQ({preview:dQ,input:hQ,textarea:fQ}),mQ=AQ({baseStyle:pQ}),{definePartsStyle:gQ,defineMultiStyleConfig:vQ}=Io(zM.keys),ig=_r("form-control-color"),xQ={marginStart:"1",[ig.variable]:"colors.red.500",_dark:{[ig.variable]:"colors.red.300"},color:ig.reference},yQ={mt:"2",[ig.variable]:"colors.gray.600",_dark:{[ig.variable]:"colors.whiteAlpha.600"},color:ig.reference,lineHeight:"normal",fontSize:"sm"},jQ=gQ({container:{width:"100%",position:"relative"},requiredIndicator:xQ,helperText:yQ}),bQ=vQ({baseStyle:jQ}),{definePartsStyle:wQ,defineMultiStyleConfig:SQ}=Io(HM.keys),og=_r("form-error-color"),CQ={[og.variable]:"colors.red.500",_dark:{[og.variable]:"colors.red.300"},color:og.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},BQ={marginEnd:"0.5em",[og.variable]:"colors.red.500",_dark:{[og.variable]:"colors.red.300"},color:og.reference},EQ=wQ({text:CQ,icon:BQ}),TQ=SQ({baseStyle:EQ}),IQ={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},_Q={baseStyle:IQ},FQ={fontFamily:"heading",fontWeight:"bold"},LQ={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},DQ={baseStyle:FQ,sizes:LQ,defaultProps:{size:"xl"}},{definePartsStyle:uh,defineMultiStyleConfig:PQ}=Io(VM.keys),Qm=_r("input-height"),zm=_r("input-font-size"),Hm=_r("input-padding"),Vm=_r("input-border-radius"),RQ=uh({addon:{height:Qm.reference,fontSize:zm.reference,px:Hm.reference,borderRadius:Vm.reference},field:{width:"100%",height:Qm.reference,fontSize:zm.reference,px:Hm.reference,borderRadius:Vm.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Jh={lg:{[zm.variable]:"fontSizes.lg",[Hm.variable]:"space.4",[Vm.variable]:"radii.md",[Qm.variable]:"sizes.12"},md:{[zm.variable]:"fontSizes.md",[Hm.variable]:"space.4",[Vm.variable]:"radii.md",[Qm.variable]:"sizes.10"},sm:{[zm.variable]:"fontSizes.sm",[Hm.variable]:"space.3",[Vm.variable]:"radii.sm",[Qm.variable]:"sizes.8"},xs:{[zm.variable]:"fontSizes.xs",[Hm.variable]:"space.2",[Vm.variable]:"radii.sm",[Qm.variable]:"sizes.6"}},NQ={lg:uh({field:Jh.lg,group:Jh.lg}),md:uh({field:Jh.md,group:Jh.md}),sm:uh({field:Jh.sm,group:Jh.sm}),xs:uh({field:Jh.xs,group:Jh.xs})};function $S(t){const{focusBorderColor:n,errorBorderColor:r}=t;return{focusBorderColor:n||Ir("blue.500","blue.300")(t),errorBorderColor:r||Ir("red.500","red.300")(t)}}const OQ=uh(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:s}=$S(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ir("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Uc(n,s),boxShadow:`0 0 0 1px ${Uc(n,s)}`},_focusVisible:{zIndex:1,borderColor:Uc(n,r),boxShadow:`0 0 0 1px ${Uc(n,r)}`}},addon:{border:"1px solid",borderColor:Ir("inherit","whiteAlpha.50")(t),bg:Ir("gray.100","whiteAlpha.300")(t)}}}),UQ=uh(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:s}=$S(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Ir("gray.100","whiteAlpha.50")(t),_hover:{bg:Ir("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Uc(n,s)},_focusVisible:{bg:"transparent",borderColor:Uc(n,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ir("gray.100","whiteAlpha.50")(t)}}}),MQ=uh(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:s}=$S(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Uc(n,s),boxShadow:`0px 1px 0px 0px ${Uc(n,s)}`},_focusVisible:{borderColor:Uc(n,r),boxShadow:`0px 1px 0px 0px ${Uc(n,r)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),kQ=uh({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),QQ={outline:OQ,filled:UQ,flushed:MQ,unstyled:kQ},Bi=PQ({baseStyle:RQ,sizes:NQ,variants:QQ,defaultProps:{size:"md",variant:"outline"}}),Sb=_r("kbd-bg"),zQ={[Sb.variable]:"colors.gray.100",_dark:{[Sb.variable]:"colors.whiteAlpha.100"},bg:Sb.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},HQ={baseStyle:zQ},VQ={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},$Q={baseStyle:VQ},{defineMultiStyleConfig:GQ,definePartsStyle:KQ}=Io($M.keys),WQ={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},YQ=KQ({icon:WQ}),XQ=GQ({baseStyle:YQ}),{defineMultiStyleConfig:ZQ,definePartsStyle:qQ}=Io(GM.keys),dd=_r("menu-bg"),Cb=_r("menu-shadow"),JQ={[dd.variable]:"#fff",[Cb.variable]:"shadows.sm",_dark:{[dd.variable]:"colors.gray.700",[Cb.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:dd.reference,boxShadow:Cb.reference},ez={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[dd.variable]:"colors.gray.100",_dark:{[dd.variable]:"colors.whiteAlpha.100"}},_active:{[dd.variable]:"colors.gray.200",_dark:{[dd.variable]:"colors.whiteAlpha.200"}},_expanded:{[dd.variable]:"colors.gray.100",_dark:{[dd.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:dd.reference},tz={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},nz={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},rz={opacity:.6},sz={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},iz={transitionProperty:"common",transitionDuration:"normal"},oz=qQ({button:iz,list:JQ,item:ez,groupTitle:tz,icon:nz,command:rz,divider:sz}),az=ZQ({baseStyle:oz}),{defineMultiStyleConfig:lz,definePartsStyle:f2}=Io(KM.keys),Bb=_r("modal-bg"),Eb=_r("modal-shadow"),cz={bg:"blackAlpha.600",zIndex:"modal"},uz=t=>{const{isCentered:n,scrollBehavior:r}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:n?"center":"flex-start",overflow:r==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},Az=t=>{const{isCentered:n,scrollBehavior:r}=t;return{borderRadius:"md",color:"inherit",my:n?"auto":"16",mx:n?"auto":void 0,zIndex:"modal",maxH:r==="inside"?"calc(100% - 7.5rem)":void 0,[Bb.variable]:"colors.white",[Eb.variable]:"shadows.lg",_dark:{[Bb.variable]:"colors.gray.700",[Eb.variable]:"shadows.dark-lg"},bg:Bb.reference,boxShadow:Eb.reference}},dz={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},hz={position:"absolute",top:"2",insetEnd:"3"},fz=t=>{const{scrollBehavior:n}=t;return{px:"6",py:"2",flex:"1",overflow:n==="inside"?"auto":void 0}},pz={px:"6",py:"4"},mz=f2(t=>({overlay:cz,dialogContainer:Mc(uz,t),dialog:Mc(Az,t),header:dz,closeButton:hz,body:Mc(fz,t),footer:pz}));function _A(t){return f2(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const gz={xs:_A("xs"),sm:_A("sm"),md:_A("md"),lg:_A("lg"),xl:_A("xl"),"2xl":_A("2xl"),"3xl":_A("3xl"),"4xl":_A("4xl"),"5xl":_A("5xl"),"6xl":_A("6xl"),full:_A("full")},vz=lz({baseStyle:mz,sizes:gz,defaultProps:{size:"md"}}),p_={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:xz,definePartsStyle:m_}=Io(WM.keys),GS=Tl("number-input-stepper-width"),g_=Tl("number-input-input-padding"),yz=oh(GS).add("0.5rem").toString(),Tb=Tl("number-input-bg"),Ib=Tl("number-input-color"),_b=Tl("number-input-border-color"),jz={[GS.variable]:"sizes.6",[g_.variable]:yz},bz=t=>Mc(Bi.baseStyle,t)?.field??{},wz={width:GS.reference},Sz={borderStart:"1px solid",borderStartColor:_b.reference,color:Ib.reference,bg:Tb.reference,[Ib.variable]:"colors.chakra-body-text",[_b.variable]:"colors.chakra-border-color",_dark:{[Ib.variable]:"colors.whiteAlpha.800",[_b.variable]:"colors.whiteAlpha.300"},_active:{[Tb.variable]:"colors.gray.200",_dark:{[Tb.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},Cz=m_(t=>({root:jz,field:Mc(bz,t)??{},stepperGroup:wz,stepper:Sz}));function ry(t){const n=Bi.sizes?.[t],r={lg:"md",md:"md",sm:"sm",xs:"sm"},s=n.field?.fontSize??"md",i=p_.fontSizes[s];return m_({field:{...n.field,paddingInlineEnd:g_.reference,verticalAlign:"top"},stepper:{fontSize:oh(i).multiply(.75).toString(),_first:{borderTopEndRadius:r[t]},_last:{borderBottomEndRadius:r[t],mt:"-1px",borderTopWidth:1}}})}const Bz={xs:ry("xs"),sm:ry("sm"),md:ry("md"),lg:ry("lg")},Ez=xz({baseStyle:Cz,sizes:Bz,variants:Bi.variants,defaultProps:Bi.defaultProps}),Tz={...Bi.baseStyle?.field,textAlign:"center"},Iz={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_z={outline:t=>Mc(Bi.variants?.outline,t)?.field??{},flushed:t=>Mc(Bi.variants?.flushed,t)?.field??{},filled:t=>Mc(Bi.variants?.filled,t)?.field??{},unstyled:Bi.variants?.unstyled.field??{}},Fz={baseStyle:Tz,sizes:Iz,variants:_z,defaultProps:Bi.defaultProps},{defineMultiStyleConfig:Lz,definePartsStyle:Dz}=Io(YM.keys),sy=Tl("popper-bg"),Pz=Tl("popper-arrow-bg"),e5=Tl("popper-arrow-shadow-color"),Rz={zIndex:"popover"},Nz={[sy.variable]:"colors.white",bg:sy.reference,[Pz.variable]:sy.reference,[e5.variable]:"colors.gray.200",_dark:{[sy.variable]:"colors.gray.700",[e5.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},Oz={px:3,py:2,borderBottomWidth:"1px"},Uz={px:3,py:2},Mz={px:3,py:2,borderTopWidth:"1px"},kz={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},Qz=Dz({popper:Rz,content:Nz,header:Oz,body:Uz,footer:Mz,closeButton:kz}),zz=Lz({baseStyle:Qz}),{defineMultiStyleConfig:Hz,definePartsStyle:X0}=Io(XM.keys),Vz=t=>{const{colorScheme:n,theme:r,isIndeterminate:s,hasStripe:i}=t,l=Ir(YE(),YE("1rem","rgba(0,0,0,0.1)"))(t),d=Ir(`${n}.500`,`${n}.200`)(t),f=`linear-gradient(
    to right,
    transparent 0%,
    ${Uc(r,d)} 50%,
    transparent 100%
  )`;return{...!s&&i&&l,...s?{bgImage:f}:{bgColor:d}}},$z={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Gz=t=>({bg:Ir("gray.100","whiteAlpha.300")(t)}),Kz=t=>({transitionProperty:"common",transitionDuration:"slow",...Vz(t)}),Wz=X0(t=>({label:$z,filledTrack:Kz(t),track:Gz(t)})),Yz={xs:X0({track:{h:"1"}}),sm:X0({track:{h:"2"}}),md:X0({track:{h:"3"}}),lg:X0({track:{h:"4"}})},Xz=Hz({sizes:Yz,baseStyle:Wz,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Zz,definePartsStyle:$y}=Io(ZM.keys),qz=t=>{const n=Mc(pj.baseStyle,t)?.control;return{...n,borderRadius:"full",_checked:{...n?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},Jz=$y(t=>({label:pj.baseStyle?.(t).label,container:pj.baseStyle?.(t).container,control:qz(t)})),eH={md:$y({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:$y({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:$y({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},tH=Zz({baseStyle:Jz,sizes:eH,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:nH,definePartsStyle:rH}=Io(qM.keys),iy=_r("select-bg"),sH={...Bi.baseStyle?.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:iy.reference,[iy.variable]:"colors.white",_dark:{[iy.variable]:"colors.gray.700"},"> option, > optgroup":{bg:iy.reference}},iH={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},oH=rH({field:sH,icon:iH}),oy={paddingInlineEnd:"8"},aH={lg:{...Bi.sizes?.lg,field:{...Bi.sizes?.lg.field,...oy}},md:{...Bi.sizes?.md,field:{...Bi.sizes?.md.field,...oy}},sm:{...Bi.sizes?.sm,field:{...Bi.sizes?.sm.field,...oy}},xs:{...Bi.sizes?.xs,field:{...Bi.sizes?.xs.field,...oy},icon:{insetEnd:"1"}}},lH=nH({baseStyle:oH,sizes:aH,variants:Bi.variants,defaultProps:Bi.defaultProps}),Fb=_r("skeleton-start-color"),Lb=_r("skeleton-end-color"),cH={[Fb.variable]:"colors.gray.100",[Lb.variable]:"colors.gray.400",_dark:{[Fb.variable]:"colors.gray.800",[Lb.variable]:"colors.gray.600"},background:Fb.reference,borderColor:Lb.reference,opacity:.7,borderRadius:"sm"},uH={baseStyle:cH},Db=_r("skip-link-bg"),AH={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Db.variable]:"colors.white",_dark:{[Db.variable]:"colors.gray.700"},bg:Db.reference}},dH={baseStyle:AH},{defineMultiStyleConfig:hH,definePartsStyle:Wj}=Io(JM.keys),Dp=_r("slider-thumb-size"),Pv=_r("slider-track-size"),af=_r("slider-bg"),fH=t=>{const{orientation:n}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...HS({orientation:n,vertical:{h:"100%",px:ih(Dp.reference).divide(2).toString()},horizontal:{w:"100%",py:ih(Dp.reference).divide(2).toString()}})}},pH=t=>({...HS({orientation:t.orientation,horizontal:{h:Pv.reference},vertical:{w:Pv.reference}}),overflow:"hidden",borderRadius:"sm",[af.variable]:"colors.gray.200",_dark:{[af.variable]:"colors.whiteAlpha.200"},_disabled:{[af.variable]:"colors.gray.300",_dark:{[af.variable]:"colors.whiteAlpha.300"}},bg:af.reference}),mH=t=>{const{orientation:n}=t;return{...HS({orientation:n,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:Dp.reference,h:Dp.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},gH=t=>{const{colorScheme:n}=t;return{width:"inherit",height:"inherit",[af.variable]:`colors.${n}.500`,_dark:{[af.variable]:`colors.${n}.200`},bg:af.reference}},vH=Wj(t=>({container:fH(t),track:pH(t),thumb:mH(t),filledTrack:gH(t)})),xH=Wj({container:{[Dp.variable]:"sizes.4",[Pv.variable]:"sizes.1"}}),yH=Wj({container:{[Dp.variable]:"sizes.3.5",[Pv.variable]:"sizes.1"}}),jH=Wj({container:{[Dp.variable]:"sizes.2.5",[Pv.variable]:"sizes.0.5"}}),bH={lg:xH,md:yH,sm:jH},wH=hH({baseStyle:vH,sizes:bH,defaultProps:{size:"md",colorScheme:"blue"}}),dp=Tl("spinner-size"),SH={width:[dp.reference],height:[dp.reference]},CH={xs:{[dp.variable]:"sizes.3"},sm:{[dp.variable]:"sizes.4"},md:{[dp.variable]:"sizes.6"},lg:{[dp.variable]:"sizes.8"},xl:{[dp.variable]:"sizes.12"}},BH={baseStyle:SH,sizes:CH,defaultProps:{size:"md"}},{defineMultiStyleConfig:EH,definePartsStyle:v_}=Io(ek.keys),TH={fontWeight:"medium"},IH={opacity:.8,marginBottom:"2"},_H={verticalAlign:"baseline",fontWeight:"semibold"},FH={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},LH=v_({container:{},label:TH,helpText:IH,number:_H,icon:FH}),DH={md:v_({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},PH=EH({baseStyle:LH,sizes:DH,defaultProps:{size:"md"}}),{defineMultiStyleConfig:RH,definePartsStyle:Z0}=Io(["stepper","step","title","description","indicator","separator","icon","number"]),ah=_r("stepper-indicator-size"),$m=_r("stepper-icon-size"),Gm=_r("stepper-title-font-size"),q0=_r("stepper-description-font-size"),L0=_r("stepper-accent-color"),NH=Z0(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[L0.variable]:`colors.${t}.500`,_dark:{[L0.variable]:`colors.${t}.200`}},title:{fontSize:Gm.reference,fontWeight:"medium"},description:{fontSize:q0.reference,color:"chakra-subtle-text"},number:{fontSize:Gm.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$m.reference,height:$m.reference},indicator:{flexShrink:0,borderRadius:"full",width:ah.reference,height:ah.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:L0.reference},"&[data-status=complete]":{bg:L0.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:L0.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${ah.reference} - 8px)`,top:`calc(${ah.reference} + 4px)`,insetStart:`calc(${ah.reference} / 2 - 1px)`}}})),OH=RH({baseStyle:NH,sizes:{xs:Z0({stepper:{[ah.variable]:"sizes.4",[$m.variable]:"sizes.3",[Gm.variable]:"fontSizes.xs",[q0.variable]:"fontSizes.xs"}}),sm:Z0({stepper:{[ah.variable]:"sizes.6",[$m.variable]:"sizes.4",[Gm.variable]:"fontSizes.sm",[q0.variable]:"fontSizes.xs"}}),md:Z0({stepper:{[ah.variable]:"sizes.8",[$m.variable]:"sizes.5",[Gm.variable]:"fontSizes.md",[q0.variable]:"fontSizes.sm"}}),lg:Z0({stepper:{[ah.variable]:"sizes.10",[$m.variable]:"sizes.6",[Gm.variable]:"fontSizes.lg",[q0.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:UH,definePartsStyle:Gy}=Io(tk.keys),fv=Tl("switch-track-width"),yp=Tl("switch-track-height"),Pb=Tl("switch-track-diff"),MH=oh.subtract(fv,yp),p2=Tl("switch-thumb-x"),D0=Tl("switch-bg"),kH=t=>{const{colorScheme:n}=t;return{borderRadius:"full",p:"0.5",width:[fv.reference],height:[yp.reference],transitionProperty:"common",transitionDuration:"fast",[D0.variable]:"colors.gray.300",_dark:{[D0.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[D0.variable]:`colors.${n}.500`,_dark:{[D0.variable]:`colors.${n}.200`}},bg:D0.reference}},QH={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[yp.reference],height:[yp.reference],_checked:{transform:`translateX(${p2.reference})`}},zH=Gy(t=>({container:{[Pb.variable]:MH,[p2.variable]:Pb.reference,_rtl:{[p2.variable]:oh(Pb).negate().toString()}},track:kH(t),thumb:QH})),HH={sm:Gy({container:{[fv.variable]:"1.375rem",[yp.variable]:"sizes.3"}}),md:Gy({container:{[fv.variable]:"1.875rem",[yp.variable]:"sizes.4"}}),lg:Gy({container:{[fv.variable]:"2.875rem",[yp.variable]:"sizes.6"}})},VH=UH({baseStyle:zH,sizes:HH,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:$H,definePartsStyle:ag}=Io(nk.keys),GH=ag({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),mj={"&[data-is-numeric=true]":{textAlign:"end"}},KH=ag(t=>{const{colorScheme:n}=t;return{th:{color:Ir("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ir(`${n}.100`,`${n}.700`)(t),...mj},td:{borderBottom:"1px",borderColor:Ir(`${n}.100`,`${n}.700`)(t),...mj},caption:{color:Ir("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),WH=ag(t=>{const{colorScheme:n}=t;return{th:{color:Ir("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ir(`${n}.100`,`${n}.700`)(t),...mj},td:{borderBottom:"1px",borderColor:Ir(`${n}.100`,`${n}.700`)(t),...mj},caption:{color:Ir("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ir(`${n}.100`,`${n}.700`)(t)},td:{background:Ir(`${n}.100`,`${n}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),YH={simple:KH,striped:WH,unstyled:{}},XH={sm:ag({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:ag({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:ag({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},ZH=$H({baseStyle:GH,variants:YH,sizes:XH,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Zc=_r("tabs-color"),DA=_r("tabs-bg"),ay=_r("tabs-border-color"),{defineMultiStyleConfig:qH,definePartsStyle:xd}=Io(rk.keys),JH=t=>{const{orientation:n}=t;return{display:n==="vertical"?"flex":"block"}},e7=t=>{const{isFitted:n}=t;return{flex:n?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},t7=t=>{const{align:n="start",orientation:r}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:r==="vertical"?"column":"row"}},n7={p:4},r7=xd(t=>({root:JH(t),tab:e7(t),tablist:t7(t),tabpanel:n7})),s7={sm:xd({tab:{py:1,px:4,fontSize:"sm"}}),md:xd({tab:{fontSize:"md",py:2,px:4}}),lg:xd({tab:{fontSize:"lg",py:3,px:4}})},i7=xd(t=>{const{colorScheme:n,orientation:r}=t,s=r==="vertical",i=s?"borderStart":"borderBottom",l=s?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[l]:"-2px",_selected:{[Zc.variable]:`colors.${n}.600`,_dark:{[Zc.variable]:`colors.${n}.300`},borderColor:"currentColor"},_active:{[DA.variable]:"colors.gray.200",_dark:{[DA.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Zc.reference,bg:DA.reference}}}),o7=xd(t=>{const{colorScheme:n}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[ay.variable]:"transparent",_selected:{[Zc.variable]:`colors.${n}.600`,[ay.variable]:"colors.white",_dark:{[Zc.variable]:`colors.${n}.300`,[ay.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:ay.reference},color:Zc.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),a7=xd(t=>{const{colorScheme:n}=t;return{tab:{border:"1px solid",borderColor:"inherit",[DA.variable]:"colors.gray.50",_dark:{[DA.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[DA.variable]:"colors.white",[Zc.variable]:`colors.${n}.600`,_dark:{[DA.variable]:"colors.gray.800",[Zc.variable]:`colors.${n}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Zc.reference,bg:DA.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),l7=xd(t=>{const{colorScheme:n,theme:r}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Uc(r,`${n}.700`),bg:Uc(r,`${n}.100`)}}}}),c7=xd(t=>{const{colorScheme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[Zc.variable]:"colors.gray.600",_dark:{[Zc.variable]:"inherit"},_selected:{[Zc.variable]:"colors.white",[DA.variable]:`colors.${n}.600`,_dark:{[Zc.variable]:"colors.gray.800",[DA.variable]:`colors.${n}.300`}},color:Zc.reference,bg:DA.reference}}}),u7=xd({}),A7={line:i7,enclosed:o7,"enclosed-colored":a7,"soft-rounded":l7,"solid-rounded":c7,unstyled:u7},d7=qH({baseStyle:r7,sizes:s7,variants:A7,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:h7,definePartsStyle:jp}=Io(sk.keys),t5=_r("tag-bg"),n5=_r("tag-color"),Rb=_r("tag-shadow"),Ky=_r("tag-min-height"),Wy=_r("tag-min-width"),Yy=_r("tag-font-size"),Xy=_r("tag-padding-inline"),f7={fontWeight:"medium",lineHeight:1.2,outline:0,[n5.variable]:Xa.color.reference,[t5.variable]:Xa.bg.reference,[Rb.variable]:Xa.shadow.reference,color:n5.reference,bg:t5.reference,boxShadow:Rb.reference,borderRadius:"md",minH:Ky.reference,minW:Wy.reference,fontSize:Yy.reference,px:Xy.reference,_focusVisible:{[Rb.variable]:"shadows.outline"}},p7={lineHeight:1.2,overflow:"visible"},m7={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},g7=jp({container:f7,label:p7,closeButton:m7}),v7={sm:jp({container:{[Ky.variable]:"sizes.5",[Wy.variable]:"sizes.5",[Yy.variable]:"fontSizes.xs",[Xy.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:jp({container:{[Ky.variable]:"sizes.6",[Wy.variable]:"sizes.6",[Yy.variable]:"fontSizes.sm",[Xy.variable]:"space.2"}}),lg:jp({container:{[Ky.variable]:"sizes.8",[Wy.variable]:"sizes.8",[Yy.variable]:"fontSizes.md",[Xy.variable]:"space.3"}})},x7={subtle:jp(t=>({container:Av.variants?.subtle(t)})),solid:jp(t=>({container:Av.variants?.solid(t)})),outline:jp(t=>({container:Av.variants?.outline(t)}))},y7=h7({variants:x7,baseStyle:g7,sizes:v7,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),j7={...Bi.baseStyle?.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},b7={outline:t=>Bi.variants?.outline(t).field??{},flushed:t=>Bi.variants?.flushed(t).field??{},filled:t=>Bi.variants?.filled(t).field??{},unstyled:Bi.variants?.unstyled.field??{}},w7={xs:Bi.sizes?.xs.field??{},sm:Bi.sizes?.sm.field??{},md:Bi.sizes?.md.field??{},lg:Bi.sizes?.lg.field??{}},S7={baseStyle:j7,sizes:w7,variants:b7,defaultProps:{size:"md",variant:"outline"}},ly=Tl("tooltip-bg"),Nb=Tl("tooltip-fg"),C7=Tl("popper-arrow-bg"),B7={bg:ly.reference,color:Nb.reference,[ly.variable]:"colors.gray.700",[Nb.variable]:"colors.whiteAlpha.900",_dark:{[ly.variable]:"colors.gray.300",[Nb.variable]:"colors.gray.900"},[C7.variable]:ly.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},E7={baseStyle:B7},T7={Accordion:hk,Alert:Xk,Avatar:a8,Badge:Av,Breadcrumb:g8,Button:B8,Checkbox:pj,CloseButton:Q8,Code:$8,Container:K8,Divider:q8,Drawer:cQ,Editable:mQ,Form:bQ,FormError:TQ,FormLabel:_Q,Heading:DQ,Input:Bi,Kbd:HQ,Link:$Q,List:XQ,Menu:az,Modal:vz,NumberInput:Ez,PinInput:Fz,Popover:zz,Progress:Xz,Radio:tH,Select:lH,Skeleton:uH,SkipLink:dH,Slider:wH,Spinner:BH,Stat:PH,Switch:VH,Table:ZH,Tabs:d7,Tag:y7,Textarea:S7,Tooltip:E7,Card:F8,Stepper:OH},I7={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},_7={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},F7={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},L7={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},D7={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},P7={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},R7={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},N7={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},O7={property:P7,easing:R7,duration:N7},U7={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},M7={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},k7={breakpoints:_7,zIndices:U7,radii:L7,blur:M7,colors:F7,...p_,sizes:c_,shadows:D7,space:l_,borders:I7,transition:O7},Q7={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},z7={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},H7=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function V7(t){return El(t)?H7.every(n=>Object.prototype.hasOwnProperty.call(t,n)):!1}const $7="ltr",G7={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},x_={semanticTokens:Q7,direction:$7,...k7,components:T7,styles:z7,config:G7};function K7(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function W7(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var Y7=(function(){function t(r){var s=this;this._insertTag=function(i){var l;s.tags.length===0?s.insertionPoint?l=s.insertionPoint.nextSibling:s.prepend?l=s.container.firstChild:l=s.before:l=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(i,l),s.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(s){s.forEach(this._insertTag)},n.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(W7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var l=K7(i);try{l.insertRule(s,l.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(s));this.ctr++},n.flush=function(){this.tags.forEach(function(s){var i;return(i=s.parentNode)==null?void 0:i.removeChild(s)}),this.tags=[],this.ctr=0},t})(),pc="-ms-",gj="-moz-",Si="-webkit-",y_="comm",KS="rule",WS="decl",X7="@import",j_="@keyframes",Z7="@layer",q7=Math.abs,Yj=String.fromCharCode,J7=Object.assign;function e9(t,n){return Zl(t,0)^45?(((n<<2^Zl(t,0))<<2^Zl(t,1))<<2^Zl(t,2))<<2^Zl(t,3):0}function b_(t){return t.trim()}function t9(t,n){return(t=n.exec(t))?t[0]:t}function Ci(t,n,r){return t.replace(n,r)}function m2(t,n){return t.indexOf(n)}function Zl(t,n){return t.charCodeAt(n)|0}function Rv(t,n,r){return t.slice(n,r)}function hd(t){return t.length}function YS(t){return t.length}function cy(t,n){return n.push(t),t}function n9(t,n){return t.map(n).join("")}var Xj=1,gg=1,w_=0,nu=0,ll=0,Rg="";function Zj(t,n,r,s,i,l,d){return{value:t,root:n,parent:r,type:s,props:i,children:l,line:Xj,column:gg,length:d,return:""}}function P0(t,n){return J7(Zj("",null,null,"",null,null,0),t,{length:-t.length},n)}function r9(){return ll}function s9(){return ll=nu>0?Zl(Rg,--nu):0,gg--,ll===10&&(gg=1,Xj--),ll}function bu(){return ll=nu<w_?Zl(Rg,nu++):0,gg++,ll===10&&(gg=1,Xj++),ll}function yd(){return Zl(Rg,nu)}function Zy(){return nu}function ox(t,n){return Rv(Rg,t,n)}function Nv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function S_(t){return Xj=gg=1,w_=hd(Rg=t),nu=0,[]}function C_(t){return Rg="",t}function qy(t){return b_(ox(nu-1,g2(t===91?t+2:t===40?t+1:t)))}function i9(t){for(;(ll=yd())&&ll<33;)bu();return Nv(t)>2||Nv(ll)>3?"":" "}function o9(t,n){for(;--n&&bu()&&!(ll<48||ll>102||ll>57&&ll<65||ll>70&&ll<97););return ox(t,Zy()+(n<6&&yd()==32&&bu()==32))}function g2(t){for(;bu();)switch(ll){case t:return nu;case 34:case 39:t!==34&&t!==39&&g2(ll);break;case 40:t===41&&g2(t);break;case 92:bu();break}return nu}function a9(t,n){for(;bu()&&t+ll!==57;)if(t+ll===84&&yd()===47)break;return"/*"+ox(n,nu-1)+"*"+Yj(t===47?t:bu())}function l9(t){for(;!Nv(yd());)bu();return ox(t,nu)}function c9(t){return C_(Jy("",null,null,null,[""],t=S_(t),0,[0],t))}function Jy(t,n,r,s,i,l,d,f,u){for(var h=0,a=0,m=d,v=0,g=0,x=0,w=1,b=1,S=1,C=0,B="",F=i,N=l,Q=s,z=B;b;)switch(x=C,C=bu()){case 40:if(x!=108&&Zl(z,m-1)==58){m2(z+=Ci(qy(C),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:z+=qy(C);break;case 9:case 10:case 13:case 32:z+=i9(x);break;case 92:z+=o9(Zy()-1,7);continue;case 47:switch(yd()){case 42:case 47:cy(u9(a9(bu(),Zy()),n,r),u);break;default:z+="/"}break;case 123*w:f[h++]=hd(z)*S;case 125*w:case 59:case 0:switch(C){case 0:case 125:b=0;case 59+a:S==-1&&(z=Ci(z,/\f/g,"")),g>0&&hd(z)-m&&cy(g>32?s5(z+";",s,r,m-1):s5(Ci(z," ","")+";",s,r,m-2),u);break;case 59:z+=";";default:if(cy(Q=r5(z,n,r,h,a,i,f,B,F=[],N=[],m),l),C===123)if(a===0)Jy(z,n,Q,Q,F,l,m,f,N);else switch(v===99&&Zl(z,3)===110?100:v){case 100:case 108:case 109:case 115:Jy(t,Q,Q,s&&cy(r5(t,Q,Q,0,0,i,f,B,i,F=[],m),N),i,N,m,f,s?F:N);break;default:Jy(z,Q,Q,Q,[""],N,0,f,N)}}h=a=g=0,w=S=1,B=z="",m=d;break;case 58:m=1+hd(z),g=x;default:if(w<1){if(C==123)--w;else if(C==125&&w++==0&&s9()==125)continue}switch(z+=Yj(C),C*w){case 38:S=a>0?1:(z+="\f",-1);break;case 44:f[h++]=(hd(z)-1)*S,S=1;break;case 64:yd()===45&&(z+=qy(bu())),v=yd(),a=m=hd(B=z+=l9(Zy())),C++;break;case 45:x===45&&hd(z)==2&&(w=0)}}return l}function r5(t,n,r,s,i,l,d,f,u,h,a){for(var m=i-1,v=i===0?l:[""],g=YS(v),x=0,w=0,b=0;x<s;++x)for(var S=0,C=Rv(t,m+1,m=q7(w=d[x])),B=t;S<g;++S)(B=b_(w>0?v[S]+" "+C:Ci(C,/&\f/g,v[S])))&&(u[b++]=B);return Zj(t,n,r,i===0?KS:f,u,h,a)}function u9(t,n,r){return Zj(t,n,r,y_,Yj(r9()),Rv(t,2,-2),0)}function s5(t,n,r,s){return Zj(t,n,r,WS,Rv(t,0,s),Rv(t,s+1,-1),s)}function lg(t,n){for(var r="",s=YS(t),i=0;i<s;i++)r+=n(t[i],i,t,n)||"";return r}function A9(t,n,r,s){switch(t.type){case Z7:if(t.children.length)break;case X7:case WS:return t.return=t.return||t.value;case y_:return"";case j_:return t.return=t.value+"{"+lg(t.children,s)+"}";case KS:t.value=t.props.join(",")}return hd(r=lg(t.children,s))?t.return=t.value+"{"+r+"}":""}function d9(t){var n=YS(t);return function(r,s,i,l){for(var d="",f=0;f<n;f++)d+=t[f](r,s,i,l)||"";return d}}function h9(t){return function(n){n.root||(n=n.return)&&t(n)}}var i5=function(n){var r=new WeakMap;return function(s){if(r.has(s))return r.get(s);var i=n(s);return r.set(s,i),i}};function B_(t){var n=Object.create(null);return function(r){return n[r]===void 0&&(n[r]=t(r)),n[r]}}var f9=function(n,r,s){for(var i=0,l=0;i=l,l=yd(),i===38&&l===12&&(r[s]=1),!Nv(l);)bu();return ox(n,nu)},p9=function(n,r){var s=-1,i=44;do switch(Nv(i)){case 0:i===38&&yd()===12&&(r[s]=1),n[s]+=f9(nu-1,r,s);break;case 2:n[s]+=qy(i);break;case 4:if(i===44){n[++s]=yd()===58?"&\f":"",r[s]=n[s].length;break}default:n[s]+=Yj(i)}while(i=bu());return n},m9=function(n,r){return C_(p9(S_(n),r))},o5=new WeakMap,g9=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var r=n.value,s=n.parent,i=n.column===s.column&&n.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(n.props.length===1&&r.charCodeAt(0)!==58&&!o5.get(s))&&!i){o5.set(n,!0);for(var l=[],d=m9(r,l),f=s.props,u=0,h=0;u<d.length;u++)for(var a=0;a<f.length;a++,h++)n.props[h]=l[u]?d[u].replace(/&\f/g,f[a]):f[a]+" "+d[u]}}},v9=function(n){if(n.type==="decl"){var r=n.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(n.return="",n.value="")}};function E_(t,n){switch(e9(t,n)){case 5103:return Si+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Si+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Si+t+gj+t+pc+t+t;case 6828:case 4268:return Si+t+pc+t+t;case 6165:return Si+t+pc+"flex-"+t+t;case 5187:return Si+t+Ci(t,/(\w+).+(:[^]+)/,Si+"box-$1$2"+pc+"flex-$1$2")+t;case 5443:return Si+t+pc+"flex-item-"+Ci(t,/flex-|-self/,"")+t;case 4675:return Si+t+pc+"flex-line-pack"+Ci(t,/align-content|flex-|-self/,"")+t;case 5548:return Si+t+pc+Ci(t,"shrink","negative")+t;case 5292:return Si+t+pc+Ci(t,"basis","preferred-size")+t;case 6060:return Si+"box-"+Ci(t,"-grow","")+Si+t+pc+Ci(t,"grow","positive")+t;case 4554:return Si+Ci(t,/([^-])(transform)/g,"$1"+Si+"$2")+t;case 6187:return Ci(Ci(Ci(t,/(zoom-|grab)/,Si+"$1"),/(image-set)/,Si+"$1"),t,"")+t;case 5495:case 3959:return Ci(t,/(image-set\([^]*)/,Si+"$1$`$1");case 4968:return Ci(Ci(t,/(.+:)(flex-)?(.*)/,Si+"box-pack:$3"+pc+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Si+t+t;case 4095:case 3583:case 4068:case 2532:return Ci(t,/(.+)-inline(.+)/,Si+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hd(t)-1-n>6)switch(Zl(t,n+1)){case 109:if(Zl(t,n+4)!==45)break;case 102:return Ci(t,/(.+:)(.+)-([^]+)/,"$1"+Si+"$2-$3$1"+gj+(Zl(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~m2(t,"stretch")?E_(Ci(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(Zl(t,n+1)!==115)break;case 6444:switch(Zl(t,hd(t)-3-(~m2(t,"!important")&&10))){case 107:return Ci(t,":",":"+Si)+t;case 101:return Ci(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Si+(Zl(t,14)===45?"inline-":"")+"box$3$1"+Si+"$2$3$1"+pc+"$2box$3")+t}break;case 5936:switch(Zl(t,n+11)){case 114:return Si+t+pc+Ci(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Si+t+pc+Ci(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Si+t+pc+Ci(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Si+t+pc+t+t}return t}var x9=function(n,r,s,i){if(n.length>-1&&!n.return)switch(n.type){case WS:n.return=E_(n.value,n.length);break;case j_:return lg([P0(n,{value:Ci(n.value,"@","@"+Si)})],i);case KS:if(n.length)return n9(n.props,function(l){switch(t9(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lg([P0(n,{props:[Ci(l,/:(read-\w+)/,":"+gj+"$1")]})],i);case"::placeholder":return lg([P0(n,{props:[Ci(l,/:(plac\w+)/,":"+Si+"input-$1")]}),P0(n,{props:[Ci(l,/:(plac\w+)/,":"+gj+"$1")]}),P0(n,{props:[Ci(l,/:(plac\w+)/,pc+"input-$1")]})],i)}return""})}},y9=[x9],j9=function(n){var r=n.key;if(r==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(w){var b=w.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=n.stylisPlugins||y9,l={},d,f=[];d=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var b=w.getAttribute("data-emotion").split(" "),S=1;S<b.length;S++)l[b[S]]=!0;f.push(w)});var u,h=[g9,v9];{var a,m=[A9,h9(function(w){a.insert(w)})],v=d9(h.concat(i,m)),g=function(b){return lg(c9(b),v)};u=function(b,S,C,B){a=C,g(b?b+"{"+S.styles+"}":S.styles),B&&(x.inserted[S.name]=!0)}}var x={key:r,sheet:new Y7({key:r,container:d,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:l,registered:{},insert:u};return x.sheet.hydrate(f),x};function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Pp.apply(null,arguments)}var Ob={exports:{}},Pi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function b9(){if(a5)return Pi;a5=1;var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,a=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function B(N){if(typeof N=="object"&&N!==null){var Q=N.$$typeof;switch(Q){case n:switch(N=N.type,N){case u:case h:case s:case l:case i:case m:return N;default:switch(N=N&&N.$$typeof,N){case f:case a:case x:case g:case d:return N;default:return Q}}case r:return Q}}}function F(N){return B(N)===h}return Pi.AsyncMode=u,Pi.ConcurrentMode=h,Pi.ContextConsumer=f,Pi.ContextProvider=d,Pi.Element=n,Pi.ForwardRef=a,Pi.Fragment=s,Pi.Lazy=x,Pi.Memo=g,Pi.Portal=r,Pi.Profiler=l,Pi.StrictMode=i,Pi.Suspense=m,Pi.isAsyncMode=function(N){return F(N)||B(N)===u},Pi.isConcurrentMode=F,Pi.isContextConsumer=function(N){return B(N)===f},Pi.isContextProvider=function(N){return B(N)===d},Pi.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===n},Pi.isForwardRef=function(N){return B(N)===a},Pi.isFragment=function(N){return B(N)===s},Pi.isLazy=function(N){return B(N)===x},Pi.isMemo=function(N){return B(N)===g},Pi.isPortal=function(N){return B(N)===r},Pi.isProfiler=function(N){return B(N)===l},Pi.isStrictMode=function(N){return B(N)===i},Pi.isSuspense=function(N){return B(N)===m},Pi.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===s||N===h||N===l||N===i||N===m||N===v||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===g||N.$$typeof===d||N.$$typeof===f||N.$$typeof===a||N.$$typeof===b||N.$$typeof===S||N.$$typeof===C||N.$$typeof===w)},Pi.typeOf=B,Pi}var l5;function w9(){return l5||(l5=1,Ob.exports=b9()),Ob.exports}var Ub,c5;function S9(){if(c5)return Ub;c5=1;var t=w9(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=s,l[t.Memo]=i;function d(x){return t.isMemo(x)?i:l[x.$$typeof]||n}var f=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,a=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function g(x,w,b){if(typeof w!="string"){if(v){var S=m(w);S&&S!==v&&g(x,S,b)}var C=u(w);h&&(C=C.concat(h(w)));for(var B=d(x),F=d(w),N=0;N<C.length;++N){var Q=C[N];if(!r[Q]&&!(b&&b[Q])&&!(F&&F[Q])&&!(B&&B[Q])){var z=a(w,Q);try{f(x,Q,z)}catch{}}}}return x}return Ub=g,Ub}S9();var C9=!0;function T_(t,n,r){var s="";return r.split(" ").forEach(function(i){t[i]!==void 0?n.push(t[i]+";"):i&&(s+=i+" ")}),s}var XS=function(n,r,s){var i=n.key+"-"+r.name;(s===!1||C9===!1)&&n.registered[i]===void 0&&(n.registered[i]=r.styles)},ZS=function(n,r,s){XS(n,r,s);var i=n.key+"-"+r.name;if(n.inserted[r.name]===void 0){var l=r;do n.insert(r===l?"."+i:"",l,n.sheet,!0),l=l.next;while(l!==void 0)}};function B9(t){for(var n=0,r,s=0,i=t.length;i>=4;++s,i-=4)r=t.charCodeAt(s)&255|(t.charCodeAt(++s)&255)<<8|(t.charCodeAt(++s)&255)<<16|(t.charCodeAt(++s)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,n=(r&65535)*1540483477+((r>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(t.charCodeAt(s+2)&255)<<16;case 2:n^=(t.charCodeAt(s+1)&255)<<8;case 1:n^=t.charCodeAt(s)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var E9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},T9=/[A-Z]|^ms/g,I9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,I_=function(n){return n.charCodeAt(1)===45},u5=function(n){return n!=null&&typeof n!="boolean"},Mb=B_(function(t){return I_(t)?t:t.replace(T9,"-$&").toLowerCase()}),A5=function(n,r){switch(n){case"animation":case"animationName":if(typeof r=="string")return r.replace(I9,function(s,i,l){return fd={name:i,styles:l,next:fd},i})}return E9[n]!==1&&!I_(n)&&typeof r=="number"&&r!==0?r+"px":r};function Ov(t,n,r){if(r==null)return"";var s=r;if(s.__emotion_styles!==void 0)return s;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return fd={name:i.name,styles:i.styles,next:fd},i.name;var l=r;if(l.styles!==void 0){var d=l.next;if(d!==void 0)for(;d!==void 0;)fd={name:d.name,styles:d.styles,next:fd},d=d.next;var f=l.styles+";";return f}return _9(t,n,r)}case"function":{if(t!==void 0){var u=fd,h=r(t);return fd=u,Ov(t,n,h)}break}}var a=r;if(n==null)return a;var m=n[a];return m!==void 0?m:a}function _9(t,n,r){var s="";if(Array.isArray(r))for(var i=0;i<r.length;i++)s+=Ov(t,n,r[i])+";";else for(var l in r){var d=r[l];if(typeof d!="object"){var f=d;n!=null&&n[f]!==void 0?s+=l+"{"+n[f]+"}":u5(f)&&(s+=Mb(l)+":"+A5(l,f)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(n==null||n[d[0]]===void 0))for(var u=0;u<d.length;u++)u5(d[u])&&(s+=Mb(l)+":"+A5(l,d[u])+";");else{var h=Ov(t,n,d);switch(l){case"animation":case"animationName":{s+=Mb(l)+":"+h+";";break}default:s+=l+"{"+h+"}"}}}return s}var d5=/label:\s*([^\s;{]+)\s*(;|$)/g,fd;function qj(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,i="";fd=void 0;var l=t[0];if(l==null||l.raw===void 0)s=!1,i+=Ov(r,n,l);else{var d=l;i+=d[0]}for(var f=1;f<t.length;f++)if(i+=Ov(r,n,t[f]),s){var u=l;i+=u[f]}d5.lastIndex=0;for(var h="",a;(a=d5.exec(i))!==null;)h+="-"+a[1];var m=B9(i)+h;return{name:m,styles:i,next:fd}}var F9=function(n){return n()},__=yE.useInsertionEffect?yE.useInsertionEffect:!1,F_=__||F9,h5=__||T.useLayoutEffect,qS=T.createContext(typeof HTMLElement<"u"?j9({key:"css"}):null);qS.Provider;var L9=function(){return T.useContext(qS)},JS=function(n){return T.forwardRef(function(r,s){var i=T.useContext(qS);return n(r,i,s)})},vg=T.createContext({}),D9=function(n,r){if(typeof r=="function"){var s=r(n);return s}return Pp({},n,r)},P9=i5(function(t){return i5(function(n){return D9(t,n)})}),R9=function(n){var r=T.useContext(vg);return n.theme!==r&&(r=P9(r)(n.theme)),T.createElement(vg.Provider,{value:r},n.children)},eC={}.hasOwnProperty,v2="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",N9=function(n,r){var s={};for(var i in r)eC.call(r,i)&&(s[i]=r[i]);return s[v2]=n,s},O9=function(n){var r=n.cache,s=n.serialized,i=n.isStringTag;return XS(r,s,i),F_(function(){return ZS(r,s,i)}),null},U9=JS(function(t,n,r){var s=t.css;typeof s=="string"&&n.registered[s]!==void 0&&(s=n.registered[s]);var i=t[v2],l=[s],d="";typeof t.className=="string"?d=T_(n.registered,l,t.className):t.className!=null&&(d=t.className+" ");var f=qj(l,void 0,T.useContext(vg));d+=n.key+"-"+f.name;var u={};for(var h in t)eC.call(t,h)&&h!=="css"&&h!==v2&&(u[h]=t[h]);return u.className=d,r&&(u.ref=r),T.createElement(T.Fragment,null,T.createElement(O9,{cache:n,serialized:f,isStringTag:typeof i=="string"}),T.createElement(i,u))}),M9=U9,f5=function(n,r){var s=arguments;if(r==null||!eC.call(r,"css"))return T.createElement.apply(void 0,s);var i=s.length,l=new Array(i);l[0]=M9,l[1]=N9(n,r);for(var d=2;d<i;d++)l[d]=s[d];return T.createElement.apply(null,l)};(function(t){var n;n||(n=t.JSX||(t.JSX={}))})(f5||(f5={}));var Jj=JS(function(t,n){var r=t.styles,s=qj([r],void 0,T.useContext(vg)),i=T.useRef();return h5(function(){var l=n.key+"-global",d=new n.sheet.constructor({key:l,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),f=!1,u=document.querySelector('style[data-emotion="'+l+" "+s.name+'"]');return n.sheet.tags.length&&(d.before=n.sheet.tags[0]),u!==null&&(f=!0,u.setAttribute("data-emotion",l),d.hydrate([u])),i.current=[d,f],function(){d.flush()}},[n]),h5(function(){var l=i.current,d=l[0],f=l[1];if(f){l[1]=!1;return}if(s.next!==void 0&&ZS(n,s.next,!0),d.tags.length){var u=d.tags[d.tags.length-1].nextElementSibling;d.before=u,d.flush()}n.insert("",s,d,!1)},[n,s.name]),null});function k9(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qj(n)}function wf(){var t=k9.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const tC=T.createContext({});tC.displayName="ColorModeContext";function e1(){const t=T.useContext(tC);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function Os(t,n){const{colorMode:r}=e1();return r==="dark"?n:t}const uy={light:"chakra-ui-light",dark:"chakra-ui-dark"};function Q9(t={}){const{preventTransition:n=!0,nonce:r}=t,s={setDataset:i=>{const l=n?s.preventTransition():void 0;document.documentElement.dataset.theme=i,document.documentElement.style.colorScheme=i,l?.()},setClassName(i){document.body.classList.add(i?uy.dark:uy.light),document.body.classList.remove(i?uy.light:uy.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(i){return s.query().matches??i==="dark"?"dark":"light"},addListener(i){const l=s.query(),d=f=>{i(f.matches?"dark":"light")};return typeof l.addListener=="function"?l.addListener(d):l.addEventListener("change",d),()=>{typeof l.removeListener=="function"?l.removeListener(d):l.removeEventListener("change",d)}},preventTransition(){const i=document.createElement("style");return i.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r!==void 0&&(i.nonce=r),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(i)})})}}};return s}const z9="chakra-ui-color-mode";function H9(t){return{ssr:!1,type:"localStorage",get(n){if(!globalThis?.document)return n;let r;try{r=localStorage.getItem(t)||n}catch{}return r||n},set(n){try{localStorage.setItem(t,n)}catch{}}}}const V9=H9(z9),p5=()=>{},$9=gU()?T.useLayoutEffect:T.useEffect;function m5(t,n){return t.type==="cookie"&&t.ssr?t.get(n):n}const L_=function(n){const{value:r,children:s,options:{useSystemColorMode:i,initialColorMode:l,disableTransitionOnChange:d}={},colorModeManager:f=V9}=n,u=L9(),h=l==="dark"?"dark":"light",[a,m]=T.useState(()=>m5(f,h)),[v,g]=T.useState(()=>m5(f)),{getSystemTheme:x,setClassName:w,setDataset:b,addListener:S}=T.useMemo(()=>Q9({preventTransition:d,nonce:u?.nonce}),[d,u?.nonce]),C=l==="system"&&!a?v:a,B=T.useCallback(Q=>{const z=Q==="system"?x():Q;m(z),w(z==="dark"),b(z),f.set(z)},[f,x,w,b]);$9(()=>{l==="system"&&g(x())},[]),T.useEffect(()=>{const Q=f.get();if(Q){B(Q);return}if(l==="system"){B("system");return}B(h)},[f,h,l,B]);const F=T.useCallback(()=>{B(C==="dark"?"light":"dark")},[C,B]);T.useEffect(()=>{if(i)return S(B)},[i,S,B]);const N=T.useMemo(()=>({colorMode:r??C,toggleColorMode:r?p5:F,setColorMode:r?p5:B,forced:r!==void 0}),[C,F,B,r]);return e.jsx(tC.Provider,{value:N,children:s})};L_.displayName="ColorModeProvider";const D_=String.raw,P_=D_`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,G9=()=>e.jsx(Jj,{styles:P_}),K9=({scope:t=""})=>e.jsx(Jj,{styles:D_`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${P_}
    `});function W9(t){const{cssVarsRoot:n,theme:r,children:s}=t,i=T.useMemo(()=>PM(r),[r]);return e.jsxs(R9,{theme:i,children:[e.jsx(Y9,{root:n}),s]})}function Y9({root:t=":host, :root"}){const n=[t,"[data-theme]"].join(",");return e.jsx(Jj,{styles:r=>({[n]:r.__cssVars})})}Ws({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function X9(t){return Ws({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function Z9(){const{colorMode:t}=e1();return e.jsx(Jj,{styles:n=>{const r=H3(n,"styles.global"),s=xu(r,{theme:n,colorMode:t});return s?s_(s)(n):void 0}})}const[q9,J9]=Ws({strict:!1,name:"PortalManagerContext"});function R_(t){const{children:n,zIndex:r}=t;return e.jsx(q9,{value:{zIndex:r},children:n})}R_.displayName="PortalManager";const nC=T.createContext({getDocument(){return document},getWindow(){return window}});nC.displayName="EnvironmentContext";function eV({defer:t}={}){const[,n]=T.useReducer(r=>r+1,0);return hh(()=>{t&&n()},[t]),T.useContext(nC)}function N_(t){const{children:n,environment:r,disabled:s}=t,i=T.useRef(null),l=T.useMemo(()=>r||{getDocument:()=>i.current?.ownerDocument??document,getWindow:()=>i.current?.ownerDocument.defaultView??window},[r]),d=!s||!r;return e.jsxs(nC.Provider,{value:l,children:[n,d&&e.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}N_.displayName="EnvironmentProvider";const tV=t=>{const{children:n,colorModeManager:r,portalZIndex:s,resetScope:i,resetCSS:l=!0,theme:d={},environment:f,cssVarsRoot:u,disableEnvironment:h,disableGlobalStyle:a}=t,m=e.jsx(N_,{environment:f,disabled:h,children:n});return e.jsx(W9,{theme:d,cssVarsRoot:u,children:e.jsxs(L_,{colorModeManager:r,options:d.config,children:[l?e.jsx(K9,{scope:i}):e.jsx(G9,{}),!a&&e.jsx(Z9,{}),s?e.jsx(R_,{zIndex:s,children:m}):m]})})},rC=T.createContext({});function sC(t){const n=T.useRef(null);return n.current===null&&(n.current=t()),n.current}const ax=T.createContext(null),iC=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class nV extends T.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rV({children:t,isPresent:n}){const r=T.useId(),s=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=T.useContext(iC);return T.useInsertionEffect(()=>{const{width:d,height:f,top:u,left:h}=i.current;if(n||!s.current||!d||!f)return;s.current.dataset.motionPopId=r;const a=document.createElement("style");return l&&(a.nonce=l),document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[n]),e.jsx(nV,{isPresent:n,childRef:s,sizeRef:i,children:T.cloneElement(t,{ref:s})})}const sV=({children:t,initial:n,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:l,mode:d})=>{const f=sC(iV),u=T.useId(),h=T.useCallback(m=>{f.set(m,!0);for(const v of f.values())if(!v)return;s&&s()},[f,s]),a=T.useMemo(()=>({id:u,initial:n,isPresent:r,custom:i,onExitComplete:h,register:m=>(f.set(m,!1),()=>f.delete(m))}),l?[Math.random(),h]:[r,h]);return T.useMemo(()=>{f.forEach((m,v)=>f.set(v,!1))},[r]),T.useEffect(()=>{!r&&!f.size&&s&&s()},[r]),d==="popLayout"&&(t=e.jsx(rV,{isPresent:r,children:t})),e.jsx(ax.Provider,{value:a,children:t})};function iV(){return new Map}function oC(t=!0){const n=T.useContext(ax);if(n===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=n,l=T.useId();T.useEffect(()=>{t&&i(l)},[t]);const d=T.useCallback(()=>t&&s&&s(l),[l,s,t]);return!r&&s?[!1,d]:[!0]}function oV(){return aV(T.useContext(ax))}function aV(t){return t===null?!0:t.isPresent}const Ay=t=>t.key||"";function g5(t){const n=[];return T.Children.forEach(t,r=>{T.isValidElement(r)&&n.push(r)}),n}const aC=typeof window<"u",O_=aC?T.useLayoutEffect:T.useEffect,Sf=({children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:l="sync",propagate:d=!1})=>{const[f,u]=oC(d),h=T.useMemo(()=>g5(t),[t]),a=d&&!f?[]:h.map(Ay),m=T.useRef(!0),v=T.useRef(h),g=sC(()=>new Map),[x,w]=T.useState(h),[b,S]=T.useState(h);O_(()=>{m.current=!1,v.current=h;for(let F=0;F<b.length;F++){const N=Ay(b[F]);a.includes(N)?g.delete(N):g.get(N)!==!0&&g.set(N,!1)}},[b,a.length,a.join("-")]);const C=[];if(h!==x){let F=[...h];for(let N=0;N<b.length;N++){const Q=b[N],z=Ay(Q);a.includes(z)||(F.splice(N,0,Q),C.push(Q))}l==="wait"&&C.length&&(F=C),S(g5(F)),w(h);return}const{forceRender:B}=T.useContext(rC);return e.jsx(e.Fragment,{children:b.map(F=>{const N=Ay(F),Q=d&&!f?!1:h===b||a.includes(N),z=()=>{if(g.has(N))g.set(N,!0);else return;let k=!0;g.forEach(K=>{K||(k=!1)}),k&&(B?.(),S(v.current),d&&u?.(),s&&s())};return e.jsx(sV,{isPresent:Q,initial:!m.current||r?void 0:!1,custom:Q?void 0:n,presenceAffectsLayout:i,mode:l,onExitComplete:Q?void 0:z,children:F},N)})})},wu=t=>t;let U_=wu;function lC(t){let n;return()=>(n===void 0&&(n=t()),n)}const xg=(t,n,r)=>{const s=n-t;return s===0?1:(r-t)/s},ph=t=>t*1e3,mh=t=>t/1e3,lV={useManualTiming:!1};function cV(t){let n=new Set,r=new Set,s=!1,i=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(h){l.has(h)&&(u.schedule(h),t()),h(d)}const u={schedule:(h,a=!1,m=!1)=>{const g=m&&s?n:r;return a&&l.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),l.delete(h)},process:h=>{if(d=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,i&&(i=!1,u.process(h))}};return u}const dy=["read","resolveKeyframes","update","preRender","render","postRender"],uV=40;function M_(t,n){let r=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,d=dy.reduce((S,C)=>(S[C]=cV(l),S),{}),{read:f,resolveKeyframes:u,update:h,preRender:a,render:m,postRender:v}=d,g=()=>{const S=performance.now();r=!1,i.delta=s?1e3/60:Math.max(Math.min(S-i.timestamp,uV),1),i.timestamp=S,i.isProcessing=!0,f.process(i),u.process(i),h.process(i),a.process(i),m.process(i),v.process(i),i.isProcessing=!1,r&&n&&(s=!1,t(g))},x=()=>{r=!0,s=!0,i.isProcessing||t(g)};return{schedule:dy.reduce((S,C)=>{const B=d[C];return S[C]=(F,N=!1,Q=!1)=>(r||x(),B.schedule(F,N,Q)),S},{}),cancel:S=>{for(let C=0;C<dy.length;C++)d[dy[C]].cancel(S)},state:i,steps:d}}const{schedule:ko,cancel:mf,state:Xl,steps:kb}=M_(typeof requestAnimationFrame<"u"?requestAnimationFrame:wu,!0),k_=T.createContext({strict:!1}),v5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yg={};for(const t in v5)yg[t]={isEnabled:n=>v5[t].some(r=>!!n[r])};function AV(t){for(const n in t)yg[n]={...yg[n],...t[n]}}const dV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dV.has(t)}let Q_=t=>!vj(t);function hV(t){t&&(Q_=n=>n.startsWith("on")?!vj(n):t(n))}try{hV(require("@emotion/is-prop-valid").default)}catch{}function fV(t,n,r){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(Q_(i)||r===!0&&vj(i)||!n&&!vj(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function pV(t){if(typeof Proxy>"u")return t;const n=new Map,r=(...s)=>t(...s);return new Proxy(r,{get:(s,i)=>i==="create"?t:(n.has(i)||n.set(i,t(i)),n.get(i))})}const t1=T.createContext({});function Uv(t){return typeof t=="string"||Array.isArray(t)}function n1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const cC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uC=["initial",...cC];function r1(t){return n1(t.animate)||uC.some(n=>Uv(t[n]))}function z_(t){return!!(r1(t)||t.variants)}function mV(t,n){if(r1(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Uv(r)?r:void 0,animate:Uv(s)?s:void 0}}return t.inherit!==!1?n:{}}function gV(t){const{initial:n,animate:r}=mV(t,T.useContext(t1));return T.useMemo(()=>({initial:n,animate:r}),[x5(n),x5(r)])}function x5(t){return Array.isArray(t)?t.join(" "):t}const vV=Symbol.for("motionComponentSymbol");function Km(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xV(t,n,r){return T.useCallback(s=>{s&&t.onMount&&t.onMount(s),n&&(s?n.mount(s):n.unmount()),r&&(typeof r=="function"?r(s):Km(r)&&(r.current=s))},[n])}const AC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yV="framerAppearId",H_="data-"+AC(yV),{schedule:dC}=M_(queueMicrotask,!1),V_=T.createContext({});function jV(t,n,r,s,i){var l,d;const{visualElement:f}=T.useContext(t1),u=T.useContext(k_),h=T.useContext(ax),a=T.useContext(iC).reducedMotion,m=T.useRef(null);s=s||u.renderer,!m.current&&s&&(m.current=s(t,{visualState:n,parent:f,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:a}));const v=m.current,g=T.useContext(V_);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&bV(m.current,r,i,g);const x=T.useRef(!1);T.useInsertionEffect(()=>{v&&x.current&&v.update(r,h)});const w=r[H_],b=T.useRef(!!w&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,w))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,w)));return O_(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),dC.render(v.render),b.current&&v.animationState&&v.animationState.animateChanges())}),T.useEffect(()=>{v&&(!b.current&&v.animationState&&v.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,w)}),b.current=!1))}),v}function bV(t,n,r,s){const{layoutId:i,layout:l,drag:d,dragConstraints:f,layoutScroll:u,layoutRoot:h}=n;t.projection=new r(t.latestValues,n["data-framer-portal-id"]?void 0:$_(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!d||f&&Km(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:u,layoutRoot:h})}function $_(t){if(t)return t.options.allowProjection!==!1?t.projection:$_(t.parent)}function wV({preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:i}){var l,d;t&&AV(t);function f(h,a){let m;const v={...T.useContext(iC),...h,layoutId:SV(h)},{isStatic:g}=v,x=gV(h),w=s(h,g);if(!g&&aC){CV();const b=BV(v);m=b.MeasureLayout,x.visualElement=jV(i,w,v,n,b.ProjectionNode)}return e.jsxs(t1.Provider,{value:x,children:[m&&x.visualElement?e.jsx(m,{visualElement:x.visualElement,...v}):null,r(i,h,xV(w,x.visualElement,a),w,g,x.visualElement)]})}f.displayName=`motion.${typeof i=="string"?i:`create(${(d=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&d!==void 0?d:""})`}`;const u=T.forwardRef(f);return u[vV]=i,u}function SV({layoutId:t}){const n=T.useContext(rC).id;return n&&t!==void 0?n+"-"+t:t}function CV(t,n){T.useContext(k_).strict}function BV(t){const{drag:n,layout:r}=yg;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const EV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hC(t){return typeof t!="string"||t.includes("-")?!1:!!(EV.indexOf(t)>-1||/[A-Z]/u.test(t))}function y5(t){const n=[{},{}];return t?.values.forEach((r,s)=>{n[0][s]=r.get(),n[1][s]=r.getVelocity()}),n}function fC(t,n,r,s){if(typeof n=="function"){const[i,l]=y5(s);n=n(r!==void 0?r:t.custom,i,l)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[i,l]=y5(s);n=n(r!==void 0?r:t.custom,i,l)}return n}const x2=t=>Array.isArray(t),TV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),IV=t=>x2(t)?t[t.length-1]||0:t,gc=t=>!!(t&&t.getVelocity);function ej(t){const n=gc(t)?t.get():t;return TV(n)?n.toValue():n}function _V({scrapeMotionValuesFromProps:t,createRenderState:n,onUpdate:r},s,i,l){const d={latestValues:FV(s,i,l,t),renderState:n()};return r&&(d.onMount=f=>r({props:s,current:f,...d}),d.onUpdate=f=>r(f)),d}const G_=t=>(n,r)=>{const s=T.useContext(t1),i=T.useContext(ax),l=()=>_V(t,n,s,i);return r?l():sC(l)};function FV(t,n,r,s){const i={},l=s(t,{});for(const v in l)i[v]=ej(l[v]);let{initial:d,animate:f}=t;const u=r1(t),h=z_(t);n&&h&&!u&&t.inherit!==!1&&(d===void 0&&(d=n.initial),f===void 0&&(f=n.animate));let a=r?r.initial===!1:!1;a=a||d===!1;const m=a?f:d;if(m&&typeof m!="boolean"&&!n1(m)){const v=Array.isArray(m)?m:[m];for(let g=0;g<v.length;g++){const x=fC(t,v[g]);if(x){const{transitionEnd:w,transition:b,...S}=x;for(const C in S){let B=S[C];if(Array.isArray(B)){const F=a?B.length-1:0;B=B[F]}B!==null&&(i[C]=B)}for(const C in w)i[C]=w[C]}}}return i}const Ng=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kp=new Set(Ng),K_=t=>n=>typeof n=="string"&&n.startsWith(t),W_=K_("--"),LV=K_("var(--"),pC=t=>LV(t)?DV.test(t.split("/*")[0].trim()):!1,DV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Y_=(t,n)=>n&&typeof t=="number"?n.transform(t):t,wh=(t,n,r)=>r>n?n:r<t?t:r,Og={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mv={...Og,transform:t=>wh(0,1,t)},hy={...Og,default:1},lx=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),of=lx("deg"),jd=lx("%"),Or=lx("px"),PV=lx("vh"),RV=lx("vw"),j5={...jd,parse:t=>jd.parse(t)/100,transform:t=>jd.transform(t*100)},NV={borderWidth:Or,borderTopWidth:Or,borderRightWidth:Or,borderBottomWidth:Or,borderLeftWidth:Or,borderRadius:Or,radius:Or,borderTopLeftRadius:Or,borderTopRightRadius:Or,borderBottomRightRadius:Or,borderBottomLeftRadius:Or,width:Or,maxWidth:Or,height:Or,maxHeight:Or,top:Or,right:Or,bottom:Or,left:Or,padding:Or,paddingTop:Or,paddingRight:Or,paddingBottom:Or,paddingLeft:Or,margin:Or,marginTop:Or,marginRight:Or,marginBottom:Or,marginLeft:Or,backgroundPositionX:Or,backgroundPositionY:Or},OV={rotate:of,rotateX:of,rotateY:of,rotateZ:of,scale:hy,scaleX:hy,scaleY:hy,scaleZ:hy,skew:of,skewX:of,skewY:of,distance:Or,translateX:Or,translateY:Or,translateZ:Or,x:Or,y:Or,z:Or,perspective:Or,transformPerspective:Or,opacity:Mv,originX:j5,originY:j5,originZ:Or},b5={...Og,transform:Math.round},mC={...NV,...OV,zIndex:b5,size:Or,fillOpacity:Mv,strokeOpacity:Mv,numOctaves:b5},UV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MV=Ng.length;function kV(t,n,r){let s="",i=!0;for(let l=0;l<MV;l++){const d=Ng[l],f=t[d];if(f===void 0)continue;let u=!0;if(typeof f=="number"?u=f===(d.startsWith("scale")?1:0):u=parseFloat(f)===0,!u||r){const h=Y_(f,mC[d]);if(!u){i=!1;const a=UV[d]||d;s+=`${a}(${h}) `}r&&(n[d]=h)}}return s=s.trim(),r?s=r(n,i?"":s):i&&(s="none"),s}function gC(t,n,r){const{style:s,vars:i,transformOrigin:l}=t;let d=!1,f=!1;for(const u in n){const h=n[u];if(Kp.has(u)){d=!0;continue}else if(W_(u)){i[u]=h;continue}else{const a=Y_(h,mC[u]);u.startsWith("origin")?(f=!0,l[u]=a):s[u]=a}}if(n.transform||(d||r?s.transform=kV(n,t.transform,r):s.transform&&(s.transform="none")),f){const{originX:u="50%",originY:h="50%",originZ:a=0}=l;s.transformOrigin=`${u} ${h} ${a}`}}const QV={offset:"stroke-dashoffset",array:"stroke-dasharray"},zV={offset:"strokeDashoffset",array:"strokeDasharray"};function HV(t,n,r=1,s=0,i=!0){t.pathLength=1;const l=i?QV:zV;t[l.offset]=Or.transform(-s);const d=Or.transform(n),f=Or.transform(r);t[l.array]=`${d} ${f}`}function w5(t,n,r){return typeof t=="string"?t:Or.transform(n+r*t)}function VV(t,n,r){const s=w5(n,t.x,t.width),i=w5(r,t.y,t.height);return`${s} ${i}`}function vC(t,{attrX:n,attrY:r,attrScale:s,originX:i,originY:l,pathLength:d,pathSpacing:f=1,pathOffset:u=0,...h},a,m){if(gC(t,h,m),a){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:g,dimensions:x}=t;v.transform&&(x&&(g.transform=v.transform),delete v.transform),x&&(i!==void 0||l!==void 0||g.transform)&&(g.transformOrigin=VV(x,i!==void 0?i:.5,l!==void 0?l:.5)),n!==void 0&&(v.x=n),r!==void 0&&(v.y=r),s!==void 0&&(v.scale=s),d!==void 0&&HV(v,d,f,u,!1)}const xC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),X_=()=>({...xC(),attrs:{}}),yC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Z_(t,{style:n,vars:r},s,i){Object.assign(t.style,n,i&&i.getProjectionStyles(s));for(const l in r)t.style.setProperty(l,r[l])}const q_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function J_(t,n,r,s){Z_(t,n,void 0,s);for(const i in n.attrs)t.setAttribute(q_.has(i)?i:AC(i),n.attrs[i])}const xj={};function $V(t){Object.assign(xj,t)}function eF(t,{layout:n,layoutId:r}){return Kp.has(t)||t.startsWith("origin")||(n||r!==void 0)&&(!!xj[t]||t==="opacity")}function jC(t,n,r){var s;const{style:i}=t,l={};for(const d in i)(gc(i[d])||n.style&&gc(n.style[d])||eF(d,t)||((s=r?.getValue(d))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[d]=i[d]);return l}function tF(t,n,r){const s=jC(t,n,r);for(const i in t)if(gc(t[i])||gc(n[i])){const l=Ng.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[l]=t[i]}return s}function GV(t,n){try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}const S5=["x","y","width","height","cx","cy","r"],KV={useVisualState:G_({scrapeMotionValuesFromProps:tF,createRenderState:X_,onUpdate:({props:t,prevProps:n,current:r,renderState:s,latestValues:i})=>{if(!r)return;let l=!!t.drag;if(!l){for(const f in i)if(Kp.has(f)){l=!0;break}}if(!l)return;let d=!n;if(n)for(let f=0;f<S5.length;f++){const u=S5[f];t[u]!==n[u]&&(d=!0)}d&&ko.read(()=>{GV(r,s),ko.render(()=>{vC(s,i,yC(r.tagName),t.transformTemplate),J_(r,s)})})}})},WV={useVisualState:G_({scrapeMotionValuesFromProps:jC,createRenderState:xC})};function nF(t,n,r){for(const s in n)!gc(n[s])&&!eF(s,r)&&(t[s]=n[s])}function YV({transformTemplate:t},n){return T.useMemo(()=>{const r=xC();return gC(r,n,t),Object.assign({},r.vars,r.style)},[n])}function XV(t,n){const r=t.style||{},s={};return nF(s,r,t),Object.assign(s,YV(t,n)),s}function ZV(t,n){const r={},s=XV(t,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}function qV(t,n,r,s){const i=T.useMemo(()=>{const l=X_();return vC(l,n,yC(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[n]);if(t.style){const l={};nF(l,t.style,t),i.style={...l,...i.style}}return i}function JV(t=!1){return(r,s,i,{latestValues:l},d)=>{const u=(hC(r)?qV:ZV)(s,l,d,r),h=fV(s,typeof r=="string",t),a=r!==T.Fragment?{...h,...u,ref:i}:{},{children:m}=s,v=T.useMemo(()=>gc(m)?m.get():m,[m]);return T.createElement(r,{...a,children:v})}}function e$(t,n){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const d={...hC(s)?KV:WV,preloadedFeatures:t,useRender:JV(i),createVisualElement:n,Component:s};return wV(d)}}function rF(t,n){if(!Array.isArray(n))return!1;const r=n.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(n[s]!==t[s])return!1;return!0}function s1(t,n,r){const s=t.getProps();return fC(s,n,r!==void 0?r:s.custom,t)}const t$=lC(()=>window.ScrollTimeline!==void 0);class n${constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,r){for(let s=0;s<this.animations.length;s++)this.animations[s][n]=r}attachTimeline(n,r){const s=this.animations.map(i=>{if(t$()&&i.attachTimeline)return i.attachTimeline(n);if(typeof r=="function")return r(i)});return()=>{s.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let r=0;r<this.animations.length;r++)n=Math.max(n,this.animations[r].duration);return n}runAll(n){this.animations.forEach(r=>r[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class r$ extends n${then(n,r){return Promise.all(this.animations).then(n).catch(r)}}function bC(t,n){return t?t[n]||t.default||t:void 0}const y2=2e4;function sF(t){let n=0;const r=50;let s=t.next(n);for(;!s.done&&n<y2;)n+=r,s=t.next(n);return n>=y2?1/0:n}function wC(t){return typeof t=="function"}function C5(t,n){t.timeline=n,t.onfinish=null}const SC=t=>Array.isArray(t)&&typeof t[0]=="number",s$={linearEasing:void 0};function i$(t,n){const r=lC(t);return()=>{var s;return(s=s$[n])!==null&&s!==void 0?s:r()}}const yj=i$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iF=(t,n,r=10)=>{let s="";const i=Math.max(Math.round(n/r),2);for(let l=0;l<i;l++)s+=t(xg(0,i-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function oF(t){return!!(typeof t=="function"&&yj()||!t||typeof t=="string"&&(t in j2||yj())||SC(t)||Array.isArray(t)&&t.every(oF))}const J0=([t,n,r,s])=>`cubic-bezier(${t}, ${n}, ${r}, ${s})`,j2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:J0([0,.65,.55,1]),circOut:J0([.55,0,1,.45]),backIn:J0([.31,.01,.66,-.59]),backOut:J0([.33,1.53,.69,.99])};function aF(t,n){if(t)return typeof t=="function"&&yj()?iF(t,n):SC(t)?J0(t):Array.isArray(t)?t.map(r=>aF(r,n)||j2.easeOut):j2[t]}const LA={x:!1,y:!1};function lF(){return LA.x||LA.y}function o$(t,n,r){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function cF(t,n){const r=o$(t),s=new AbortController,i={passive:!0,...n,signal:s.signal};return[r,i,()=>s.abort()]}function B5(t){return n=>{n.pointerType==="touch"||lF()||t(n)}}function a$(t,n,r={}){const[s,i,l]=cF(t,r),d=B5(f=>{const{target:u}=f,h=n(f);if(typeof h!="function"||!u)return;const a=B5(m=>{h(m),u.removeEventListener("pointerleave",a)});u.addEventListener("pointerleave",a,i)});return s.forEach(f=>{f.addEventListener("pointerenter",d,i)}),l}const uF=(t,n)=>n?t===n?!0:uF(t,n.parentElement):!1,CC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,l$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function c$(t){return l$.has(t.tagName)||t.tabIndex!==-1}const ev=new WeakSet;function E5(t){return n=>{n.key==="Enter"&&t(n)}}function Qb(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const u$=(t,n)=>{const r=t.currentTarget;if(!r)return;const s=E5(()=>{if(ev.has(r))return;Qb(r,"down");const i=E5(()=>{Qb(r,"up")}),l=()=>Qb(r,"cancel");r.addEventListener("keyup",i,n),r.addEventListener("blur",l,n)});r.addEventListener("keydown",s,n),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),n)};function T5(t){return CC(t)&&!lF()}function A$(t,n,r={}){const[s,i,l]=cF(t,r),d=f=>{const u=f.currentTarget;if(!T5(f)||ev.has(u))return;ev.add(u);const h=n(f),a=(g,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),!(!T5(g)||!ev.has(u))&&(ev.delete(u),typeof h=="function"&&h(g,{success:x}))},m=g=>{a(g,r.useGlobalTarget||uF(u,g.target))},v=g=>{a(g,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",v,i)};return s.forEach(f=>{!c$(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(r.useGlobalTarget?window:f).addEventListener("pointerdown",d,i),f.addEventListener("focus",h=>u$(h,i),i)}),l}function d$(t){return t==="x"||t==="y"?LA[t]?null:(LA[t]=!0,()=>{LA[t]=!1}):LA.x||LA.y?null:(LA.x=LA.y=!0,()=>{LA.x=LA.y=!1})}const AF=new Set(["width","height","top","left","right","bottom",...Ng]);let tj;function h$(){tj=void 0}const bd={now:()=>(tj===void 0&&bd.set(Xl.isProcessing||lV.useManualTiming?Xl.timestamp:performance.now()),tj),set:t=>{tj=t,queueMicrotask(h$)}};function BC(t,n){t.indexOf(n)===-1&&t.push(n)}function EC(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class TC{constructor(){this.subscriptions=[]}add(n){return BC(this.subscriptions,n),()=>EC(this.subscriptions,n)}notify(n,r,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](n,r,s);else for(let l=0;l<i;l++){const d=this.subscriptions[l];d&&d(n,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dF(t,n){return n?t*(1e3/n):0}const I5=30,f$=t=>!isNaN(parseFloat(t));class p${constructor(n,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const l=bd.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=bd.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=f$(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new TC);const s=this.events[n].add(r);return n==="change"?()=>{s(),ko.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n,r=!0){!r||!this.passiveEffect?this.updateAndNotify(n,r):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-s}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=bd.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>I5)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,I5);return dF(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kv(t,n){return new p$(t,n)}function m$(t,n,r){t.hasValue(n)?t.getValue(n).set(r):t.addValue(n,kv(r))}function g$(t,n){const r=s1(t,n);let{transitionEnd:s={},transition:i={},...l}=r||{};l={...l,...s};for(const d in l){const f=IV(l[d]);m$(t,d,f)}}function v$(t){return!!(gc(t)&&t.add)}function b2(t,n){const r=t.getValue("willChange");if(v$(r))return r.add(n)}function hF(t){return t.props[H_]}const fF=(t,n,r)=>(((1-3*r+3*n)*t+(3*r-6*n))*t+3*n)*t,x$=1e-7,y$=12;function j$(t,n,r,s,i){let l,d,f=0;do d=n+(r-n)/2,l=fF(d,s,i)-t,l>0?r=d:n=d;while(Math.abs(l)>x$&&++f<y$);return d}function cx(t,n,r,s){if(t===n&&r===s)return wu;const i=l=>j$(l,0,1,t,r);return l=>l===0||l===1?l:fF(i(l),n,s)}const pF=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,mF=t=>n=>1-t(1-n),gF=cx(.33,1.53,.69,.99),IC=mF(gF),vF=pF(IC),xF=t=>(t*=2)<1?.5*IC(t):.5*(2-Math.pow(2,-10*(t-1))),_C=t=>1-Math.sin(Math.acos(t)),yF=mF(_C),jF=pF(_C),bF=t=>/^0[^.\s]+$/u.test(t);function b$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bF(t):!0}const pv=t=>Math.round(t*1e5)/1e5,FC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w$(t){return t==null}const S$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,LC=(t,n)=>r=>!!(typeof r=="string"&&S$.test(r)&&r.startsWith(t)||n&&!w$(r)&&Object.prototype.hasOwnProperty.call(r,n)),wF=(t,n,r)=>s=>{if(typeof s!="string")return s;const[i,l,d,f]=s.match(FC);return{[t]:parseFloat(i),[n]:parseFloat(l),[r]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},C$=t=>wh(0,255,t),zb={...Og,transform:t=>Math.round(C$(t))},pp={test:LC("rgb","red"),parse:wF("red","green","blue"),transform:({red:t,green:n,blue:r,alpha:s=1})=>"rgba("+zb.transform(t)+", "+zb.transform(n)+", "+zb.transform(r)+", "+pv(Mv.transform(s))+")"};function B$(t){let n="",r="",s="",i="";return t.length>5?(n=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(n=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),n+=n,r+=r,s+=s,i+=i),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const w2={test:LC("#"),parse:B$,transform:pp.transform},Wm={test:LC("hsl","hue"),parse:wF("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+jd.transform(pv(n))+", "+jd.transform(pv(r))+", "+pv(Mv.transform(s))+")"},mc={test:t=>pp.test(t)||w2.test(t)||Wm.test(t),parse:t=>pp.test(t)?pp.parse(t):Wm.test(t)?Wm.parse(t):w2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pp.transform(t):Wm.transform(t)},E$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T$(t){var n,r;return isNaN(t)&&typeof t=="string"&&(((n=t.match(FC))===null||n===void 0?void 0:n.length)||0)+(((r=t.match(E$))===null||r===void 0?void 0:r.length)||0)>0}const SF="number",CF="color",I$="var",_$="var(",_5="${}",F$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qv(t){const n=t.toString(),r=[],s={color:[],number:[],var:[]},i=[];let l=0;const f=n.replace(F$,u=>(mc.test(u)?(s.color.push(l),i.push(CF),r.push(mc.parse(u))):u.startsWith(_$)?(s.var.push(l),i.push(I$),r.push(u)):(s.number.push(l),i.push(SF),r.push(parseFloat(u))),++l,_5)).split(_5);return{values:r,split:f,indexes:s,types:i}}function BF(t){return Qv(t).values}function EF(t){const{split:n,types:r}=Qv(t),s=n.length;return i=>{let l="";for(let d=0;d<s;d++)if(l+=n[d],i[d]!==void 0){const f=r[d];f===SF?l+=pv(i[d]):f===CF?l+=mc.transform(i[d]):l+=i[d]}return l}}const L$=t=>typeof t=="number"?0:t;function D$(t){const n=BF(t);return EF(t)(n.map(L$))}const gf={test:T$,parse:BF,createTransformer:EF,getAnimatableNone:D$},P$=new Set(["brightness","contrast","saturate","opacity"]);function R$(t){const[n,r]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[s]=r.match(FC)||[];if(!s)return t;const i=r.replace(s,"");let l=P$.has(n)?1:0;return s!==r&&(l*=100),n+"("+l+i+")"}const N$=/\b([a-z-]*)\(.*?\)/gu,S2={...gf,getAnimatableNone:t=>{const n=t.match(N$);return n?n.map(R$).join(" "):t}},O$={...mC,color:mc,backgroundColor:mc,outlineColor:mc,fill:mc,stroke:mc,borderColor:mc,borderTopColor:mc,borderRightColor:mc,borderBottomColor:mc,borderLeftColor:mc,filter:S2,WebkitFilter:S2},DC=t=>O$[t];function TF(t,n){let r=DC(t);return r!==S2&&(r=gf),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const U$=new Set(["auto","none","0"]);function M$(t,n,r){let s=0,i;for(;s<t.length&&!i;){const l=t[s];typeof l=="string"&&!U$.has(l)&&Qv(l).values.length&&(i=t[s]),s++}if(i&&r)for(const l of n)t[l]=TF(r,i)}const F5=t=>t===Og||t===Or,L5=(t,n)=>parseFloat(t.split(", ")[n]),D5=(t,n)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return L5(i[1],n);{const l=s.match(/^matrix\((.+)\)$/u);return l?L5(l[1],t):0}},k$=new Set(["x","y","z"]),Q$=Ng.filter(t=>!k$.has(t));function z$(t){const n=[];return Q$.forEach(r=>{const s=t.getValue(r);s!==void 0&&(n.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),n}const jg={width:({x:t},{paddingLeft:n="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),height:({y:t},{paddingTop:n="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:D5(4,13),y:D5(5,14)};jg.translateX=jg.x;jg.translateY=jg.y;const bp=new Set;let C2=!1,B2=!1;function IF(){if(B2){const t=Array.from(bp).filter(s=>s.needsMeasurement),n=new Set(t.map(s=>s.element)),r=new Map;n.forEach(s=>{const i=z$(s);i.length&&(r.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),n.forEach(s=>{s.render();const i=r.get(s);i&&i.forEach(([l,d])=>{var f;(f=s.getValue(l))===null||f===void 0||f.set(d)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}B2=!1,C2=!1,bp.forEach(t=>t.complete()),bp.clear()}function _F(){bp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B2=!0)})}function H$(){_F(),IF()}class PC{constructor(n,r,s,i,l,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=s,this.motionValue=i,this.element=l,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bp.add(this),C2||(C2=!0,ko.read(_F),ko.resolveKeyframes(IF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:s,motionValue:i}=this;for(let l=0;l<n.length;l++)if(n[l]===null)if(l===0){const d=i?.get(),f=n[n.length-1];if(d!==void 0)n[0]=d;else if(s&&r){const u=s.readValue(r,f);u!=null&&(n[0]=u)}n[0]===void 0&&(n[0]=f),i&&d===void 0&&i.set(n[0])}else n[l]=n[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bp.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bp.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const FF=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),V$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $$(t){const n=V$.exec(t);if(!n)return[,];const[,r,s,i]=n;return[`--${r??s}`,i]}function LF(t,n,r=1){const[s,i]=$$(t);if(!s)return;const l=window.getComputedStyle(n).getPropertyValue(s);if(l){const d=l.trim();return FF(d)?parseFloat(d):d}return pC(i)?LF(i,n,r+1):i}const DF=t=>n=>n.test(t),G$={test:t=>t==="auto",parse:t=>t},PF=[Og,Or,jd,of,RV,PV,G$],P5=t=>PF.find(DF(t));class RF extends PC{constructor(n,r,s,i,l){super(n,r,s,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<n.length;u++){let h=n[u];if(typeof h=="string"&&(h=h.trim(),pC(h))){const a=LF(h,r.current);a!==void 0&&(n[u]=a),u===n.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!AF.has(s)||n.length!==2)return;const[i,l]=n,d=P5(i),f=P5(l);if(d!==f)if(F5(d)&&F5(f))for(let u=0;u<n.length;u++){const h=n[u];typeof h=="string"&&(n[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,s=[];for(let i=0;i<n.length;i++)b$(n[i])&&s.push(i);s.length&&M$(n,s,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:s}=this;if(!n||!n.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jg[s](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&n.getValue(s,i).jump(i,!1)}measureEndState(){var n;const{element:r,name:s,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const l=r.getValue(s);l&&l.jump(this.measuredOrigin,!1);const d=i.length-1,f=i[d];i[d]=jg[s](r.measureViewportBox(),window.getComputedStyle(r.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([u,h])=>{r.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const R5=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gf.test(t)||t==="0")&&!t.startsWith("url("));function K$(t){const n=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function W$(t,n,r,s){const i=t[0];if(i===null)return!1;if(n==="display"||n==="visibility")return!0;const l=t[t.length-1],d=R5(i,n),f=R5(l,n);return!d||!f?!1:K$(t)||(r==="spring"||wC(r))&&s}const Y$=t=>t!==null;function i1(t,{repeat:n,repeatType:r="loop"},s){const i=t.filter(Y$),l=n&&r!=="loop"&&n%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const X$=40;class NF{constructor({autoplay:n=!0,delay:r=0,type:s="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:d="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bd.now(),this.options={autoplay:n,delay:r,type:s,repeat:i,repeatDelay:l,repeatType:d,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>X$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&H$(),this._resolved}onKeyframesResolved(n,r){this.resolvedAt=bd.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:l,delay:d,onComplete:f,onUpdate:u,isGenerator:h}=this.options;if(!h&&!W$(n,s,i,l))if(d)this.options.duration=0;else{u&&u(i1(n,this.options,r)),f&&f(),this.resolveFinishedPromise();return}const a=this.initPlayback(n,r);a!==!1&&(this._resolved={keyframes:n,finalKeyframe:r,...a},this.onPostResolved())}onPostResolved(){}then(n,r){return this.currentFinishedPromise.then(n,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const va=(t,n,r)=>t+(n-t)*r;function Hb(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function Z$({hue:t,saturation:n,lightness:r,alpha:s}){t/=360,n/=100,r/=100;let i=0,l=0,d=0;if(!n)i=l=d=r;else{const f=r<.5?r*(1+n):r+n-r*n,u=2*r-f;i=Hb(u,f,t+1/3),l=Hb(u,f,t),d=Hb(u,f,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(d*255),alpha:s}}function jj(t,n){return r=>r>0?n:t}const Vb=(t,n,r)=>{const s=t*t,i=r*(n*n-s)+s;return i<0?0:Math.sqrt(i)},q$=[w2,pp,Wm],J$=t=>q$.find(n=>n.test(t));function N5(t){const n=J$(t);if(!n)return!1;let r=n.parse(t);return n===Wm&&(r=Z$(r)),r}const O5=(t,n)=>{const r=N5(t),s=N5(n);if(!r||!s)return jj(t,n);const i={...r};return l=>(i.red=Vb(r.red,s.red,l),i.green=Vb(r.green,s.green,l),i.blue=Vb(r.blue,s.blue,l),i.alpha=va(r.alpha,s.alpha,l),pp.transform(i))},eG=(t,n)=>r=>n(t(r)),ux=(...t)=>t.reduce(eG),E2=new Set(["none","hidden"]);function tG(t,n){return E2.has(t)?r=>r<=0?t:n:r=>r>=1?n:t}function nG(t,n){return r=>va(t,n,r)}function RC(t){return typeof t=="number"?nG:typeof t=="string"?pC(t)?jj:mc.test(t)?O5:iG:Array.isArray(t)?OF:typeof t=="object"?mc.test(t)?O5:rG:jj}function OF(t,n){const r=[...t],s=r.length,i=t.map((l,d)=>RC(l)(l,n[d]));return l=>{for(let d=0;d<s;d++)r[d]=i[d](l);return r}}function rG(t,n){const r={...t,...n},s={};for(const i in r)t[i]!==void 0&&n[i]!==void 0&&(s[i]=RC(t[i])(t[i],n[i]));return i=>{for(const l in s)r[l]=s[l](i);return r}}function sG(t,n){var r;const s=[],i={color:0,var:0,number:0};for(let l=0;l<n.values.length;l++){const d=n.types[l],f=t.indexes[d][i[d]],u=(r=t.values[f])!==null&&r!==void 0?r:0;s[l]=u,i[d]++}return s}const iG=(t,n)=>{const r=gf.createTransformer(n),s=Qv(t),i=Qv(n);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?E2.has(t)&&!i.values.length||E2.has(n)&&!s.values.length?tG(t,n):ux(OF(sG(s,i),i.values),r):jj(t,n)};function UF(t,n,r){return typeof t=="number"&&typeof n=="number"&&typeof r=="number"?va(t,n,r):RC(t)(t,n)}const oG=5;function MF(t,n,r){const s=Math.max(n-oG,0);return dF(r-t(s),n-s)}const _a={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$b=.001;function aG({duration:t=_a.duration,bounce:n=_a.bounce,velocity:r=_a.velocity,mass:s=_a.mass}){let i,l,d=1-n;d=wh(_a.minDamping,_a.maxDamping,d),t=wh(_a.minDuration,_a.maxDuration,mh(t)),d<1?(i=h=>{const a=h*d,m=a*t,v=a-r,g=T2(h,d),x=Math.exp(-m);return $b-v/g*x},l=h=>{const m=h*d*t,v=m*r+r,g=Math.pow(d,2)*Math.pow(h,2)*t,x=Math.exp(-m),w=T2(Math.pow(h,2),d);return(-i(h)+$b>0?-1:1)*((v-g)*x)/w}):(i=h=>{const a=Math.exp(-h*t),m=(h-r)*t+1;return-$b+a*m},l=h=>{const a=Math.exp(-h*t),m=(r-h)*(t*t);return a*m});const f=5/t,u=cG(i,l,f);if(t=ph(t),isNaN(u))return{stiffness:_a.stiffness,damping:_a.damping,duration:t};{const h=Math.pow(u,2)*s;return{stiffness:h,damping:d*2*Math.sqrt(s*h),duration:t}}}const lG=12;function cG(t,n,r){let s=r;for(let i=1;i<lG;i++)s=s-t(s)/n(s);return s}function T2(t,n){return t*Math.sqrt(1-n*n)}const uG=["duration","bounce"],AG=["stiffness","damping","mass"];function U5(t,n){return n.some(r=>t[r]!==void 0)}function dG(t){let n={velocity:_a.velocity,stiffness:_a.stiffness,damping:_a.damping,mass:_a.mass,isResolvedFromDuration:!1,...t};if(!U5(t,AG)&&U5(t,uG))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),i=s*s,l=2*wh(.05,1,1-(t.bounce||0))*Math.sqrt(i);n={...n,mass:_a.mass,stiffness:i,damping:l}}else{const r=aG(t);n={...n,...r,mass:_a.mass},n.isResolvedFromDuration=!0}return n}function kF(t=_a.visualDuration,n=_a.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:s,restDelta:i}=r;const l=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],f={done:!1,value:l},{stiffness:u,damping:h,mass:a,duration:m,velocity:v,isResolvedFromDuration:g}=dG({...r,velocity:-mh(r.velocity||0)}),x=v||0,w=h/(2*Math.sqrt(u*a)),b=d-l,S=mh(Math.sqrt(u/a)),C=Math.abs(b)<5;s||(s=C?_a.restSpeed.granular:_a.restSpeed.default),i||(i=C?_a.restDelta.granular:_a.restDelta.default);let B;if(w<1){const N=T2(S,w);B=Q=>{const z=Math.exp(-w*S*Q);return d-z*((x+w*S*b)/N*Math.sin(N*Q)+b*Math.cos(N*Q))}}else if(w===1)B=N=>d-Math.exp(-S*N)*(b+(x+S*b)*N);else{const N=S*Math.sqrt(w*w-1);B=Q=>{const z=Math.exp(-w*S*Q),k=Math.min(N*Q,300);return d-z*((x+w*S*b)*Math.sinh(k)+N*b*Math.cosh(k))/N}}const F={calculatedDuration:g&&m||null,next:N=>{const Q=B(N);if(g)f.done=N>=m;else{let z=0;w<1&&(z=N===0?ph(x):MF(B,N,Q));const k=Math.abs(z)<=s,K=Math.abs(d-Q)<=i;f.done=k&&K}return f.value=f.done?d:Q,f},toString:()=>{const N=Math.min(sF(F),y2),Q=iF(z=>F.next(N*z).value,N,30);return N+"ms "+Q}};return F}function M5({keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:d,min:f,max:u,restDelta:h=.5,restSpeed:a}){const m=t[0],v={done:!1,value:m},g=k=>f!==void 0&&k<f||u!==void 0&&k>u,x=k=>f===void 0?u:u===void 0||Math.abs(f-k)<Math.abs(u-k)?f:u;let w=r*n;const b=m+w,S=d===void 0?b:d(b);S!==b&&(w=S-m);const C=k=>-w*Math.exp(-k/s),B=k=>S+C(k),F=k=>{const K=C(k),se=B(k);v.done=Math.abs(K)<=h,v.value=v.done?S:se};let N,Q;const z=k=>{g(v.value)&&(N=k,Q=kF({keyframes:[v.value,x(v.value)],velocity:MF(B,k,v.value),damping:i,stiffness:l,restDelta:h,restSpeed:a}))};return z(0),{calculatedDuration:null,next:k=>{let K=!1;return!Q&&N===void 0&&(K=!0,F(k),z(k)),N!==void 0&&k>=N?Q.next(k-N):(!K&&F(k),v)}}}const hG=cx(.42,0,1,1),fG=cx(0,0,.58,1),QF=cx(.42,0,.58,1),pG=t=>Array.isArray(t)&&typeof t[0]!="number",mG={linear:wu,easeIn:hG,easeInOut:QF,easeOut:fG,circIn:_C,circInOut:jF,circOut:yF,backIn:IC,backInOut:vF,backOut:gF,anticipate:xF},k5=t=>{if(SC(t)){U_(t.length===4);const[n,r,s,i]=t;return cx(n,r,s,i)}else if(typeof t=="string")return mG[t];return t};function gG(t,n,r){const s=[],i=r||UF,l=t.length-1;for(let d=0;d<l;d++){let f=i(t[d],t[d+1]);if(n){const u=Array.isArray(n)?n[d]||wu:n;f=ux(u,f)}s.push(f)}return s}function vG(t,n,{clamp:r=!0,ease:s,mixer:i}={}){const l=t.length;if(U_(l===n.length),l===1)return()=>n[0];if(l===2&&n[0]===n[1])return()=>n[1];const d=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),n=[...n].reverse());const f=gG(n,s,i),u=f.length,h=a=>{if(d&&a<t[0])return n[0];let m=0;if(u>1)for(;m<t.length-2&&!(a<t[m+1]);m++);const v=xg(t[m],t[m+1],a);return f[m](v)};return r?a=>h(wh(t[0],t[l-1],a)):h}function xG(t,n){const r=t[t.length-1];for(let s=1;s<=n;s++){const i=xg(0,n,s);t.push(va(r,1,i))}}function yG(t){const n=[0];return xG(n,t.length-1),n}function jG(t,n){return t.map(r=>r*n)}function bG(t,n){return t.map(()=>n||QF).splice(0,t.length-1)}function bj({duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}){const i=pG(s)?s.map(k5):k5(s),l={done:!1,value:n[0]},d=jG(r&&r.length===n.length?r:yG(n),t),f=vG(d,n,{ease:Array.isArray(i)?i:bG(n,i)});return{calculatedDuration:t,next:u=>(l.value=f(u),l.done=u>=t,l)}}const wG=t=>{const n=({timestamp:r})=>t(r);return{start:()=>ko.update(n,!0),stop:()=>mf(n),now:()=>Xl.isProcessing?Xl.timestamp:bd.now()}},SG={decay:M5,inertia:M5,tween:bj,keyframes:bj,spring:kF},CG=t=>t/100;class NC extends NF{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:r,motionValue:s,element:i,keyframes:l}=this.options,d=i?.KeyframeResolver||PC,f=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new d(l,f,r,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:l,velocity:d=0}=this.options,f=wC(r)?r:SG[r]||bj;let u,h;f!==bj&&typeof n[0]!="number"&&(u=ux(CG,UF(n[0],n[1])),n=[0,100]);const a=f({...this.options,keyframes:n});l==="mirror"&&(h=f({...this.options,keyframes:[...n].reverse(),velocity:-d})),a.calculatedDuration===null&&(a.calculatedDuration=sF(a));const{calculatedDuration:m}=a,v=m+i,g=v*(s+1)-i;return{generator:a,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:m,resolvedDuration:v,totalDuration:g}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,r=!1){const{resolved:s}=this;if(!s){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:d,mapPercentToKeyframes:f,keyframes:u,calculatedDuration:h,totalDuration:a,resolvedDuration:m}=s;if(this.startTime===null)return l.next(0);const{delay:v,repeat:g,repeatType:x,repeatDelay:w,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-a/this.speed,this.startTime)),r?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const S=this.currentTime-v*(this.speed>=0?1:-1),C=this.speed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,F=l;if(g){const k=Math.min(this.currentTime,a)/m;let K=Math.floor(k),se=k%1;!se&&k>=1&&(se=1),se===1&&K--,K=Math.min(K,g+1),!!(K%2)&&(x==="reverse"?(se=1-se,w&&(se-=w/m)):x==="mirror"&&(F=d)),B=wh(0,1,se)*m}const N=C?{done:!1,value:u[0]}:F.next(B);f&&(N.value=f(N.value));let{done:Q}=N;!C&&h!==null&&(Q=this.speed>=0?this.currentTime>=a:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return z&&i!==void 0&&(N.value=i1(u,this.options,i)),b&&b(N.value),z&&this.finish(),N}get duration(){const{resolved:n}=this;return n?mh(n.calculatedDuration):0}get time(){return mh(this.currentTime)}set time(n){n=ph(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=mh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=wG,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=n(l=>this.tick(l))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const BG=new Set(["opacity","clipPath","filter","transform"]);function EG(t,n,r,{delay:s=0,duration:i=300,repeat:l=0,repeatType:d="loop",ease:f="easeInOut",times:u}={}){const h={[n]:r};u&&(h.offset=u);const a=aF(f,i);return Array.isArray(a)&&(h.easing=a),t.animate(h,{delay:s,duration:i,easing:Array.isArray(a)?"linear":a,fill:"both",iterations:l+1,direction:d==="reverse"?"alternate":"normal"})}const TG=lC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wj=10,IG=2e4;function _G(t){return wC(t.type)||t.type==="spring"||!oF(t.ease)}function FG(t,n){const r=new NC({...n,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const i=[];let l=0;for(;!s.done&&l<IG;)s=r.sample(l),i.push(s.value),l+=wj;return{times:void 0,keyframes:i,duration:l-wj,ease:"linear"}}const zF={anticipate:xF,backInOut:vF,circInOut:jF};function LG(t){return t in zF}class Q5 extends NF{constructor(n){super(n);const{name:r,motionValue:s,element:i,keyframes:l}=this.options;this.resolver=new RF(l,(d,f)=>this.onKeyframesResolved(d,f),r,s,i),this.resolver.scheduleResolve()}initPlayback(n,r){let{duration:s=300,times:i,ease:l,type:d,motionValue:f,name:u,startTime:h}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&yj()&&LG(l)&&(l=zF[l]),_G(this.options)){const{onComplete:m,onUpdate:v,motionValue:g,element:x,...w}=this.options,b=FG(n,w);n=b.keyframes,n.length===1&&(n[1]=n[0]),s=b.duration,i=b.times,l=b.ease,d="keyframes"}const a=EG(f.owner.current,u,n,{...this.options,duration:s,times:i,ease:l});return a.startTime=h??this.calcStartTime(),this.pendingTimeline?(C5(a,this.pendingTimeline),this.pendingTimeline=void 0):a.onfinish=()=>{const{onComplete:m}=this.options;f.set(i1(n,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:a,duration:s,times:i,type:d,ease:l,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:r}=n;return mh(r)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:r}=n;return mh(r.currentTime||0)}set time(n){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=ph(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:r}=n;return r.playbackRate}set speed(n){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:r}=n;return r.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:r}=n;return r.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:r}=this;if(!r)return wu;const{animation:s}=r;C5(s,n)}return wu}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:r,keyframes:s,duration:i,type:l,ease:d,times:f}=n;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:a,onComplete:m,element:v,...g}=this.options,x=new NC({...g,keyframes:s,duration:i,type:l,ease:d,times:f,isGenerator:!0}),w=ph(this.time);h.setWithVelocity(x.sample(w-wj).value,x.sample(w).value,wj)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:r,name:s,repeatDelay:i,repeatType:l,damping:d,type:f}=n;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=r.owner.getProps();return TG()&&s&&BG.has(s)&&!u&&!h&&!i&&l!=="mirror"&&d!==0&&f!=="inertia"}}const DG={type:"spring",stiffness:500,damping:25,restSpeed:10},PG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RG={type:"keyframes",duration:.8},NG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OG=(t,{keyframes:n})=>n.length>2?RG:Kp.has(t)?t.startsWith("scale")?PG(n[1]):DG:NG;function UG({when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:l,repeatType:d,repeatDelay:f,from:u,elapsed:h,...a}){return!!Object.keys(a).length}const OC=(t,n,r,s={},i,l)=>d=>{const f=bC(s,t)||{},u=f.delay||s.delay||0;let{elapsed:h=0}=s;h=h-ph(u);let a={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...f,delay:-h,onUpdate:v=>{n.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:t,motionValue:n,element:l?void 0:i};UG(f)||(a={...a,...OG(t,a)}),a.duration&&(a.duration=ph(a.duration)),a.repeatDelay&&(a.repeatDelay=ph(a.repeatDelay)),a.from!==void 0&&(a.keyframes[0]=a.from);let m=!1;if((a.type===!1||a.duration===0&&!a.repeatDelay)&&(a.duration=0,a.delay===0&&(m=!0)),m&&!l&&n.get()!==void 0){const v=i1(a.keyframes,f);if(v!==void 0)return ko.update(()=>{a.onUpdate(v),a.onComplete()}),new r$([])}return!l&&Q5.supports(a)?new Q5(a):new NC(a)};function MG({protectedKeys:t,needsAnimating:n},r){const s=t.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,s}function HF(t,n,{delay:r=0,transitionOverride:s,type:i}={}){var l;let{transition:d=t.getDefaultTransition(),transitionEnd:f,...u}=n;s&&(d=s);const h=[],a=i&&t.animationState&&t.animationState.getState()[i];for(const m in u){const v=t.getValue(m,(l=t.latestValues[m])!==null&&l!==void 0?l:null),g=u[m];if(g===void 0||a&&MG(a,m))continue;const x={delay:r,...bC(d||{},m)};let w=!1;if(window.MotionHandoffAnimation){const S=hF(t);if(S){const C=window.MotionHandoffAnimation(S,m,ko);C!==null&&(x.startTime=C,w=!0)}}b2(t,m),v.start(OC(m,v,g,t.shouldReduceMotion&&AF.has(m)?{type:!1}:x,t,w));const b=v.animation;b&&h.push(b)}return f&&Promise.all(h).then(()=>{ko.update(()=>{f&&g$(t,f)})}),h}function I2(t,n,r={}){var s;const i=s1(t,n,r.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(l=r.transitionOverride);const d=i?()=>Promise.all(HF(t,i,r)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:a=0,staggerChildren:m,staggerDirection:v}=l;return kG(t,n,a+h,m,v,r)}:()=>Promise.resolve(),{when:u}=l;if(u){const[h,a]=u==="beforeChildren"?[d,f]:[f,d];return h().then(()=>a())}else return Promise.all([d(),f(r.delay)])}function kG(t,n,r=0,s=0,i=1,l){const d=[],f=(t.variantChildren.size-1)*s,u=i===1?(h=0)=>h*s:(h=0)=>f-h*s;return Array.from(t.variantChildren).sort(QG).forEach((h,a)=>{h.notify("AnimationStart",n),d.push(I2(h,n,{...l,delay:r+u(a)}).then(()=>h.notify("AnimationComplete",n)))}),Promise.all(d)}function QG(t,n){return t.sortNodePosition(n)}function zG(t,n,r={}){t.notify("AnimationStart",n);let s;if(Array.isArray(n)){const i=n.map(l=>I2(t,l,r));s=Promise.all(i)}else if(typeof n=="string")s=I2(t,n,r);else{const i=typeof n=="function"?s1(t,n,r.custom):n;s=Promise.all(HF(t,i,r))}return s.then(()=>{t.notify("AnimationComplete",n)})}const HG=uC.length;function VF(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?VF(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const n={};for(let r=0;r<HG;r++){const s=uC[r],i=t.props[s];(Uv(i)||i===!1)&&(n[s]=i)}return n}const VG=[...cC].reverse(),$G=cC.length;function GG(t){return n=>Promise.all(n.map(({animation:r,options:s})=>zG(t,r,s)))}function KG(t){let n=GG(t),r=z5(),s=!0;const i=u=>(h,a)=>{var m;const v=s1(t,a,u==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(v){const{transition:g,transitionEnd:x,...w}=v;h={...h,...w,...x}}return h};function l(u){n=u(t)}function d(u){const{props:h}=t,a=VF(t.parent)||{},m=[],v=new Set;let g={},x=1/0;for(let b=0;b<$G;b++){const S=VG[b],C=r[S],B=h[S]!==void 0?h[S]:a[S],F=Uv(B),N=S===u?C.isActive:null;N===!1&&(x=b);let Q=B===a[S]&&B!==h[S]&&F;if(Q&&s&&t.manuallyAnimateOnMount&&(Q=!1),C.protectedKeys={...g},!C.isActive&&N===null||!B&&!C.prevProp||n1(B)||typeof B=="boolean")continue;const z=WG(C.prevProp,B);let k=z||S===u&&C.isActive&&!Q&&F||b>x&&F,K=!1;const se=Array.isArray(B)?B:[B];let V=se.reduce(i(S),{});N===!1&&(V={});const{prevResolvedValues:q={}}=C,le={...q,...V},ae=G=>{k=!0,v.has(G)&&(K=!0,v.delete(G)),C.needsAnimating[G]=!0;const W=t.getValue(G);W&&(W.liveStyle=!1)};for(const G in le){const W=V[G],pe=q[G];if(g.hasOwnProperty(G))continue;let oe=!1;x2(W)&&x2(pe)?oe=!rF(W,pe):oe=W!==pe,oe?W!=null?ae(G):v.add(G):W!==void 0&&v.has(G)?ae(G):C.protectedKeys[G]=!0}C.prevProp=B,C.prevResolvedValues=V,C.isActive&&(g={...g,...V}),s&&t.blockInitialAnimation&&(k=!1),k&&(!(Q&&z)||K)&&m.push(...se.map(G=>({animation:G,options:{type:S}})))}if(v.size){const b={};v.forEach(S=>{const C=t.getBaseTarget(S),B=t.getValue(S);B&&(B.liveStyle=!0),b[S]=C??null}),m.push({animation:b})}let w=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?n(m):Promise.resolve()}function f(u,h){var a;if(r[u].isActive===h)return Promise.resolve();(a=t.variantChildren)===null||a===void 0||a.forEach(v=>{var g;return(g=v.animationState)===null||g===void 0?void 0:g.setActive(u,h)}),r[u].isActive=h;const m=d(u);for(const v in r)r[v].protectedKeys={};return m}return{animateChanges:d,setActive:f,setAnimateFunction:l,getState:()=>r,reset:()=>{r=z5(),s=!0}}}function WG(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!rF(n,t):!1}function ip(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z5(){return{animate:ip(!0),whileInView:ip(),whileHover:ip(),whileTap:ip(),whileDrag:ip(),whileFocus:ip(),exit:ip()}}class Cf{constructor(n){this.isMounted=!1,this.node=n}update(){}}class YG extends Cf{constructor(n){super(n),n.animationState||(n.animationState=KG(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();n1(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:r}=this.node.prevProps||{};n!==r&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let XG=0;class ZG extends Cf{constructor(){super(...arguments),this.id=XG++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===s)return;const i=this.node.animationState.setActive("exit",!n);r&&!n&&i.then(()=>r(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const qG={animation:{Feature:YG},exit:{Feature:ZG}};function zv(t,n,r,s={passive:!0}){return t.addEventListener(n,r,s),()=>t.removeEventListener(n,r)}function Ax(t){return{point:{x:t.pageX,y:t.pageY}}}const JG=t=>n=>CC(n)&&t(n,Ax(n));function mv(t,n,r,s){return zv(t,n,JG(r),s)}const H5=(t,n)=>Math.abs(t-n);function eK(t,n){const r=H5(t.x,n.x),s=H5(t.y,n.y);return Math.sqrt(r**2+s**2)}class $F{constructor(n,r,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Kb(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,g=eK(m.offset,{x:0,y:0})>=3;if(!v&&!g)return;const{point:x}=m,{timestamp:w}=Xl;this.history.push({...x,timestamp:w});const{onStart:b,onMove:S}=this.handlers;v||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Gb(v,this.transformPagePoint),ko.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Kb(m.type==="pointercancel"?this.lastMoveEventInfo:Gb(v,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,b),x&&x(m,b)},!CC(n))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=s,this.contextWindow=i||window;const d=Ax(n),f=Gb(d,this.transformPagePoint),{point:u}=f,{timestamp:h}=Xl;this.history=[{...u,timestamp:h}];const{onSessionStart:a}=r;a&&a(n,Kb(f,this.history)),this.removeListeners=ux(mv(this.contextWindow,"pointermove",this.handlePointerMove),mv(this.contextWindow,"pointerup",this.handlePointerUp),mv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),mf(this.updatePoint)}}function Gb(t,n){return n?{point:n(t.point)}:t}function V5(t,n){return{x:t.x-n.x,y:t.y-n.y}}function Kb({point:t},n){return{point:t,delta:V5(t,GF(n)),offset:V5(t,tK(n)),velocity:nK(n,.1)}}function tK(t){return t[0]}function GF(t){return t[t.length-1]}function nK(t,n){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const i=GF(t);for(;r>=0&&(s=t[r],!(i.timestamp-s.timestamp>ph(n)));)r--;if(!s)return{x:0,y:0};const l=mh(i.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const d={x:(i.x-s.x)/l,y:(i.y-s.y)/l};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const KF=1e-4,rK=1-KF,sK=1+KF,WF=.01,iK=0-WF,oK=0+WF;function Su(t){return t.max-t.min}function aK(t,n,r){return Math.abs(t-n)<=r}function $5(t,n,r,s=.5){t.origin=s,t.originPoint=va(n.min,n.max,t.origin),t.scale=Su(r)/Su(n),t.translate=va(r.min,r.max,t.origin)-t.originPoint,(t.scale>=rK&&t.scale<=sK||isNaN(t.scale))&&(t.scale=1),(t.translate>=iK&&t.translate<=oK||isNaN(t.translate))&&(t.translate=0)}function gv(t,n,r,s){$5(t.x,n.x,r.x,s?s.originX:void 0),$5(t.y,n.y,r.y,s?s.originY:void 0)}function G5(t,n,r){t.min=r.min+n.min,t.max=t.min+Su(n)}function lK(t,n,r){G5(t.x,n.x,r.x),G5(t.y,n.y,r.y)}function K5(t,n,r){t.min=n.min-r.min,t.max=t.min+Su(n)}function vv(t,n,r){K5(t.x,n.x,r.x),K5(t.y,n.y,r.y)}function cK(t,{min:n,max:r},s){return n!==void 0&&t<n?t=s?va(n,t,s.min):Math.max(t,n):r!==void 0&&t>r&&(t=s?va(r,t,s.max):Math.min(t,r)),t}function W5(t,n,r){return{min:n!==void 0?t.min+n:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function uK(t,{top:n,left:r,bottom:s,right:i}){return{x:W5(t.x,r,i),y:W5(t.y,n,s)}}function Y5(t,n){let r=n.min-t.min,s=n.max-t.max;return n.max-n.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function AK(t,n){return{x:Y5(t.x,n.x),y:Y5(t.y,n.y)}}function dK(t,n){let r=.5;const s=Su(t),i=Su(n);return i>s?r=xg(n.min,n.max-s,t.min):s>i&&(r=xg(t.min,t.max-i,n.min)),wh(0,1,r)}function hK(t,n){const r={};return n.min!==void 0&&(r.min=n.min-t.min),n.max!==void 0&&(r.max=n.max-t.min),r}const _2=.35;function fK(t=_2){return t===!1?t=0:t===!0&&(t=_2),{x:X5(t,"left","right"),y:X5(t,"top","bottom")}}function X5(t,n,r){return{min:Z5(t,n),max:Z5(t,r)}}function Z5(t,n){return typeof t=="number"?t:t[n]||0}const q5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ym=()=>({x:q5(),y:q5()}),J5=()=>({min:0,max:0}),Ga=()=>({x:J5(),y:J5()});function Gu(t){return[t("x"),t("y")]}function YF({top:t,left:n,right:r,bottom:s}){return{x:{min:n,max:r},y:{min:t,max:s}}}function pK({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function mK(t,n){if(!n)return t;const r=n({x:t.left,y:t.top}),s=n({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Wb(t){return t===void 0||t===1}function F2({scale:t,scaleX:n,scaleY:r}){return!Wb(t)||!Wb(n)||!Wb(r)}function cp(t){return F2(t)||XF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XF(t){return e4(t.x)||e4(t.y)}function e4(t){return t&&t!=="0%"}function Sj(t,n,r){const s=t-r,i=n*s;return r+i}function t4(t,n,r,s,i){return i!==void 0&&(t=Sj(t,i,s)),Sj(t,r,s)+n}function L2(t,n=0,r=1,s,i){t.min=t4(t.min,n,r,s,i),t.max=t4(t.max,n,r,s,i)}function ZF(t,{x:n,y:r}){L2(t.x,n.translate,n.scale,n.originPoint),L2(t.y,r.translate,r.scale,r.originPoint)}const n4=.999999999999,r4=1.0000000000001;function gK(t,n,r,s=!1){const i=r.length;if(!i)return;n.x=n.y=1;let l,d;for(let f=0;f<i;f++){l=r[f],d=l.projectionDelta;const{visualElement:u}=l.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zm(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),d&&(n.x*=d.x.scale,n.y*=d.y.scale,ZF(t,d)),s&&cp(l.latestValues)&&Zm(t,l.latestValues))}n.x<r4&&n.x>n4&&(n.x=1),n.y<r4&&n.y>n4&&(n.y=1)}function Xm(t,n){t.min=t.min+n,t.max=t.max+n}function s4(t,n,r,s,i=.5){const l=va(t.min,t.max,i);L2(t,n,r,l,s)}function Zm(t,n){s4(t.x,n.x,n.scaleX,n.scale,n.originX),s4(t.y,n.y,n.scaleY,n.scale,n.originY)}function qF(t,n){return YF(mK(t.getBoundingClientRect(),n))}function vK(t,n,r){const s=qF(t,r),{scroll:i}=n;return i&&(Xm(s.x,i.offset.x),Xm(s.y,i.offset.y)),s}const JF=({current:t})=>t?t.ownerDocument.defaultView:null,xK=new WeakMap;class yK{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ga(),this.visualElement=n}start(n,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=a=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ax(a).point)},l=(a,m)=>{const{drag:v,dragPropagation:g,onDragStart:x}=this.getProps();if(v&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d$(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gu(b=>{let S=this.getAxisMotionValue(b).get()||0;if(jd.test(S)){const{projection:C}=this.visualElement;if(C&&C.layout){const B=C.layout.layoutBox[b];B&&(S=Su(B)*(parseFloat(S)/100))}}this.originPoint[b]=S}),x&&ko.postRender(()=>x(a,m)),b2(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},d=(a,m)=>{const{dragPropagation:v,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:b}=m;if(g&&this.currentDirection===null){this.currentDirection=jK(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),w&&w(a,m)},f=(a,m)=>this.stop(a,m),u=()=>Gu(a=>{var m;return this.getAnimationState(a)==="paused"&&((m=this.getAxisMotionValue(a).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new $F(n,{onSessionStart:i,onStart:l,onMove:d,onSessionEnd:f,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:JF(this.visualElement)})}stop(n,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&ko.postRender(()=>l(n,r))}cancel(){this.isDragging=!1;const{projection:n,animationState:r}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(n,r,s){const{drag:i}=this.getProps();if(!s||!fy(n,i,this.currentDirection))return;const l=this.getAxisMotionValue(n);let d=this.originPoint[n]+s[n];this.constraints&&this.constraints[n]&&(d=cK(d,this.constraints[n],this.elastic[n])),l.set(d)}resolveConstraints(){var n;const{dragConstraints:r,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,l=this.constraints;r&&Km(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=uK(i.layoutBox,r):this.constraints=!1,this.elastic=fK(s),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gu(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=hK(i.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!Km(n))return!1;const s=n.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=vK(s,i.root,this.visualElement.getTransformPagePoint());let d=AK(i.layout.layoutBox,l);if(r){const f=r(pK(d));this.hasMutatedConstraints=!!f,f&&(d=YF(f))}return d}startAnimation(n){const{drag:r,dragMomentum:s,dragElastic:i,dragTransition:l,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),u=this.constraints||{},h=Gu(a=>{if(!fy(a,r,this.currentDirection))return;let m=u&&u[a]||{};d&&(m={min:0,max:0});const v=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:s?n[a]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...l,...m};return this.startAxisValueAnimation(a,x)});return Promise.all(h).then(f)}startAxisValueAnimation(n,r){const s=this.getAxisMotionValue(n);return b2(this.visualElement,n),s.start(OC(n,s,0,r,this.visualElement,!1))}stopAnimation(){Gu(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Gu(n=>{var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(n){var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(n){const r=`_drag${n.toUpperCase()}`,s=this.visualElement.getProps(),i=s[r];return i||this.visualElement.getValue(n,(s.initial?s.initial[n]:void 0)||0)}snapToCursor(n){Gu(r=>{const{drag:s}=this.getProps();if(!fy(r,s,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(r);if(i&&i.layout){const{min:d,max:f}=i.layout.layoutBox[r];l.set(n[r]-va(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Km(r)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gu(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const u=f.get();i[d]=dK({min:u,max:u},this.constraints[d])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Gu(d=>{if(!fy(d,n,null))return;const f=this.getAxisMotionValue(d),{min:u,max:h}=this.constraints[d];f.set(va(u,h,i[d]))})}addListeners(){if(!this.visualElement.current)return;xK.set(this.visualElement,this);const n=this.visualElement.current,r=mv(n,"pointerdown",u=>{const{drag:h,dragListener:a=!0}=this.getProps();h&&a&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Km(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ko.read(s);const d=zv(window,"resize",()=>this.scalePositionWithinConstraints()),f=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Gu(a=>{const m=this.getAxisMotionValue(a);m&&(this.originPoint[a]+=u[a].translate,m.set(m.get()+u[a].translate))}),this.visualElement.render())}));return()=>{d(),r(),l(),f&&f()}}getProps(){const n=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:d=_2,dragMomentum:f=!0}=n;return{...n,drag:r,dragDirectionLock:s,dragPropagation:i,dragConstraints:l,dragElastic:d,dragMomentum:f}}}function fy(t,n,r){return(n===!0||n===t)&&(r===null||r===t)}function jK(t,n=10){let r=null;return Math.abs(t.y)>n?r="y":Math.abs(t.x)>n&&(r="x"),r}class bK extends Cf{constructor(n){super(n),this.removeGroupControls=wu,this.removeListeners=wu,this.controls=new yK(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wu}unmount(){this.removeGroupControls(),this.removeListeners()}}const i4=t=>(n,r)=>{t&&ko.postRender(()=>t(n,r))};class wK extends Cf{constructor(){super(...arguments),this.removePointerDownListener=wu}onPointerDown(n){this.session=new $F(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JF(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:r,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:i4(n),onStart:i4(r),onMove:s,onEnd:(l,d)=>{delete this.session,i&&ko.postRender(()=>i(l,d))}}}mount(){this.removePointerDownListener=mv(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nj={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o4(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const R0={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(Or.test(t))t=parseFloat(t);else return t;const r=o4(t,n.target.x),s=o4(t,n.target.y);return`${r}% ${s}%`}},SK={correct:(t,{treeScale:n,projectionDelta:r})=>{const s=t,i=gf.parse(t);if(i.length>5)return s;const l=gf.createTransformer(t),d=typeof i[0]!="number"?1:0,f=r.x.scale*n.x,u=r.y.scale*n.y;i[0+d]/=f,i[1+d]/=u;const h=va(f,u,.5);return typeof i[2+d]=="number"&&(i[2+d]/=h),typeof i[3+d]=="number"&&(i[3+d]/=h),l(i)}};class CK extends T.Component{componentDidMount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:s,layoutId:i}=this.props,{projection:l}=n;$V(BK),l&&(r.group&&r.group.add(l),s&&s.register&&i&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),nj.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:r,visualElement:s,drag:i,isPresent:l}=this.props,d=s.projection;return d&&(d.isPresent=l,i||n.layoutDependency!==r||r===void 0?d.willUpdate():this.safeToRemove(),n.isPresent!==l&&(l?d.promote():d.relegate()||ko.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),dC.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:i}=n;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function eL(t){const[n,r]=oC(),s=T.useContext(rC);return e.jsx(CK,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(V_),isPresent:n,safeToRemove:r})}const BK={borderRadius:{...R0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:R0,borderTopRightRadius:R0,borderBottomLeftRadius:R0,borderBottomRightRadius:R0,boxShadow:SK};function EK(t,n,r){const s=gc(t)?t:kv(t);return s.start(OC("",s,n,r)),s.animation}function TK(t){return t instanceof SVGElement&&t.tagName!=="svg"}const IK=(t,n)=>t.depth-n.depth;class _K{constructor(){this.children=[],this.isDirty=!1}add(n){BC(this.children,n),this.isDirty=!0}remove(n){EC(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(IK),this.isDirty=!1,this.children.forEach(n)}}function FK(t,n){const r=bd.now(),s=({timestamp:i})=>{const l=i-r;l>=n&&(mf(s),t(l-n))};return ko.read(s,!0),()=>mf(s)}const tL=["TopLeft","TopRight","BottomLeft","BottomRight"],LK=tL.length,a4=t=>typeof t=="string"?parseFloat(t):t,l4=t=>typeof t=="number"||Or.test(t);function DK(t,n,r,s,i,l){i?(t.opacity=va(0,r.opacity!==void 0?r.opacity:1,PK(s)),t.opacityExit=va(n.opacity!==void 0?n.opacity:1,0,RK(s))):l&&(t.opacity=va(n.opacity!==void 0?n.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let d=0;d<LK;d++){const f=`border${tL[d]}Radius`;let u=c4(n,f),h=c4(r,f);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||l4(u)===l4(h)?(t[f]=Math.max(va(a4(u),a4(h),s),0),(jd.test(h)||jd.test(u))&&(t[f]+="%")):t[f]=h}(n.rotate||r.rotate)&&(t.rotate=va(n.rotate||0,r.rotate||0,s))}function c4(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const PK=nL(0,.5,yF),RK=nL(.5,.95,wu);function nL(t,n,r){return s=>s<t?0:s>n?1:r(xg(t,n,s))}function u4(t,n){t.min=n.min,t.max=n.max}function Hu(t,n){u4(t.x,n.x),u4(t.y,n.y)}function A4(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function d4(t,n,r,s,i){return t-=n,t=Sj(t,1/r,s),i!==void 0&&(t=Sj(t,1/i,s)),t}function NK(t,n=0,r=1,s=.5,i,l=t,d=t){if(jd.test(n)&&(n=parseFloat(n),n=va(d.min,d.max,n/100)-d.min),typeof n!="number")return;let f=va(l.min,l.max,s);t===l&&(f-=n),t.min=d4(t.min,n,r,f,i),t.max=d4(t.max,n,r,f,i)}function h4(t,n,[r,s,i],l,d){NK(t,n[r],n[s],n[i],n.scale,l,d)}const OK=["x","scaleX","originX"],UK=["y","scaleY","originY"];function f4(t,n,r,s){h4(t.x,n,OK,r?r.x:void 0,s?s.x:void 0),h4(t.y,n,UK,r?r.y:void 0,s?s.y:void 0)}function p4(t){return t.translate===0&&t.scale===1}function rL(t){return p4(t.x)&&p4(t.y)}function m4(t,n){return t.min===n.min&&t.max===n.max}function MK(t,n){return m4(t.x,n.x)&&m4(t.y,n.y)}function g4(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function sL(t,n){return g4(t.x,n.x)&&g4(t.y,n.y)}function v4(t){return Su(t.x)/Su(t.y)}function x4(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class kK{constructor(){this.members=[]}add(n){BC(this.members,n),n.scheduleRender()}remove(n){if(EC(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(n){const r=this.members.findIndex(i=>n===i);if(r===0)return!1;let s;for(let i=r;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(n,r){const s=this.lead;if(n!==s&&(this.prevLead=s,this.lead=n,n.show(),s)){s.instance&&s.scheduleRender(),n.scheduleRender(),n.resumeFrom=s,r&&(n.resumeFrom.preserveOpacity=!0),s.snapshot&&(n.snapshot=s.snapshot,n.snapshot.latestValues=s.animationValues||s.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:i}=n.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:r,resumingFrom:s}=n;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QK(t,n,r){let s="";const i=t.x.translate/n.x,l=t.y.translate/n.y,d=r?.z||0;if((i||l||d)&&(s=`translate3d(${i}px, ${l}px, ${d}px) `),(n.x!==1||n.y!==1)&&(s+=`scale(${1/n.x}, ${1/n.y}) `),r){const{transformPerspective:h,rotate:a,rotateX:m,rotateY:v,skewX:g,skewY:x}=r;h&&(s=`perspective(${h}px) ${s}`),a&&(s+=`rotate(${a}deg) `),m&&(s+=`rotateX(${m}deg) `),v&&(s+=`rotateY(${v}deg) `),g&&(s+=`skewX(${g}deg) `),x&&(s+=`skewY(${x}deg) `)}const f=t.x.scale*n.x,u=t.y.scale*n.y;return(f!==1||u!==1)&&(s+=`scale(${f}, ${u})`),s||"none"}const up={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tv=typeof window<"u"&&window.MotionDebug!==void 0,Yb=["","X","Y","Z"],zK={visibility:"hidden"},y4=1e3;let HK=0;function Xb(t,n,r,s){const{latestValues:i}=n;i[t]&&(r[t]=i[t],n.setStaticValue(t,0),s&&(s[t]=0))}function iL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const r=hF(n);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ko,!(i||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&iL(s)}function oL({attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(d={},f=n?.()){this.id=HK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tv&&(up.totalNodes=up.resolvedTargetDeltas=up.recalculatedProjection=0),this.nodes.forEach(GK),this.nodes.forEach(ZK),this.nodes.forEach(qK),this.nodes.forEach(KK),tv&&window.MotionDebug.record(up)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new _K)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new TC),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const u=this.eventHandlers.get(d);u&&u.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TK(d),this.instance=d;const{layoutId:u,layout:h,visualElement:a}=this.options;if(a&&!a.current&&a.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(h||u)&&(this.isLayoutDirty=!0),t){let m;const v=()=>this.root.updateBlockedByResize=!1;t(d,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=FK(v,250),nj.hasAnimatedSinceResize&&(nj.hasAnimatedSinceResize=!1,this.nodes.forEach(b4))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&a&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||a.getDefaultTransition()||rW,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=a.getProps(),C=!this.targetLayout||!sL(this.targetLayout,x)||g,B=!v&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,B);const F={...bC(w,"layout"),onPlay:b,onComplete:S};(a.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else v||b4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JK),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const m=this.path[a];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:f,layout:u}=this.options;if(f===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j4);return}this.isUpdating||this.nodes.forEach(YK),this.isUpdating=!1,this.nodes.forEach(XK),this.nodes.forEach(VK),this.nodes.forEach($K),this.clearAllSnapshots();const f=bd.now();Xl.delta=wh(0,1e3/60,f-Xl.timestamp),Xl.timestamp=f,Xl.isProcessing=!0,kb.update.process(Xl),kb.preRender.process(Xl),kb.render.process(Xl),Xl.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WK),this.sharedNodes.forEach(eW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ko.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ko.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ga(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!rL(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,a=h!==this.prevTransformTemplateValue;d&&(f||cp(this.latestValues)||a)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let u=this.removeElementScroll(f);return d&&(u=this.removeTransform(u)),sW(u),{animationId:this.root.animationId,measuredBox:f,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:f}=this.options;if(!f)return Ga();const u=f.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(iW))){const{scroll:a}=this.root;a&&(Xm(u.x,a.offset.x),Xm(u.y,a.offset.y))}return u}removeElementScroll(d){var f;const u=Ga();if(Hu(u,d),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return u;for(let h=0;h<this.path.length;h++){const a=this.path[h],{scroll:m,options:v}=a;a!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&Hu(u,d),Xm(u.x,m.offset.x),Xm(u.y,m.offset.y))}return u}applyTransform(d,f=!1){const u=Ga();Hu(u,d);for(let h=0;h<this.path.length;h++){const a=this.path[h];!f&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Zm(u,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),cp(a.latestValues)&&Zm(u,a.latestValues)}return cp(this.latestValues)&&Zm(u,this.latestValues),u}removeTransform(d){const f=Ga();Hu(f,d);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!cp(h.latestValues))continue;F2(h.latestValues)&&h.updateSnapshot();const a=Ga(),m=h.measurePageBox();Hu(a,m),f4(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,a)}return cp(this.latestValues)&&f4(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xl.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var f;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(d||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Xl.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ga(),this.relativeTargetOrigin=Ga(),vv(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Hu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ga(),this.targetWithTransforms=Ga()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hu(this.target,this.layout.layoutBox),ZF(this.target,this.targetDelta)):Hu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ga(),this.relativeTargetOrigin=Ga(),vv(this.relativeTargetOrigin,this.target,g.target),Hu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tv&&up.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||F2(this.parent.latestValues)||XF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const f=this.getLead(),u=!!this.resumingFrom||this!==f;let h=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Xl.timestamp&&(h=!1),h)return;const{layout:a,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||m))return;Hu(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,g=this.treeScale.y;gK(this.layoutCorrected,this.treeScale,this.path,u),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Ga());const{target:x}=f;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(A4(this.prevProjectionDelta.x,this.projectionDelta.x),A4(this.prevProjectionDelta.y,this.projectionDelta.y)),gv(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==g||!x4(this.projectionDelta.x,this.prevProjectionDelta.x)||!x4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),tv&&up.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),d){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ym(),this.projectionDelta=Ym(),this.projectionDeltaWithTransform=Ym()}setAnimationOrigin(d,f=!1){const u=this.snapshot,h=u?u.latestValues:{},a={...this.latestValues},m=Ym();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=Ga(),g=u?u.source:void 0,x=this.layout?this.layout.source:void 0,w=g!==x,b=this.getStack(),S=!b||b.members.length<=1,C=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(nW));this.animationProgress=0;let B;this.mixTargetDelta=F=>{const N=F/1e3;w4(m.x,d.x,N),w4(m.y,d.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vv(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tW(this.relativeTarget,this.relativeTargetOrigin,v,N),B&&MK(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ga()),Hu(B,this.relativeTarget)),w&&(this.animationValues=a,DK(a,h,this.latestValues,N,C,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ko.update(()=>{nj.hasAnimatedSinceResize=!0,this.currentAnimation=EK(0,y4,{...d,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:u,layout:h,latestValues:a}=d;if(!(!f||!u||!h)){if(this!==d&&this.layout&&h&&aL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Ga();const m=Su(this.layout.layoutBox.x);u.x.min=d.target.x.min,u.x.max=u.x.min+m;const v=Su(this.layout.layoutBox.y);u.y.min=d.target.y.min,u.y.max=u.y.min+v}Hu(f,u),Zm(f,a),gv(this.projectionDeltaWithTransform,this.layoutCorrected,f,a)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new kK),this.sharedNodes.get(d).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:f}=this.options;return f?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:f}=this.options;return f?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:u}=d;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(f=!0),!f)return;const h={};u.z&&Xb("z",d,h,this.animationValues);for(let a=0;a<Yb.length;a++)Xb(`rotate${Yb[a]}`,d,h,this.animationValues),Xb(`skew${Yb[a]}`,d,h,this.animationValues);d.render();for(const a in h)d.setStaticValue(a,h[a]),this.animationValues&&(this.animationValues[a]=h[a]);d.scheduleRender()}getProjectionStyles(d){var f,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zK;const h={visibility:""},a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=ej(d?.pointerEvents)||"",h.transform=a?a(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ej(d?.pointerEvents)||""),this.hasProjected&&!cp(this.latestValues)&&(w.transform=a?a({},""):"none",this.hasProjected=!1),w}const v=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=QK(this.projectionDeltaWithTransform,this.treeScale,v),a&&(h.transform=a(v,h.transform));const{x:g,y:x}=this.projectionDelta;h.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,m.animationValues?h.opacity=m===this?(u=(f=v.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in xj){if(v[w]===void 0)continue;const{correct:b,applyTo:S}=xj[w],C=h.transform==="none"?v[w]:b(v[w],m);if(S){const B=S.length;for(let F=0;F<B;F++)h[S[F]]=C}else h[w]=C}return this.options.layoutId&&(h.pointerEvents=m===this?ej(d?.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var f;return(f=d.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(j4),this.root.sharedNodes.clear()}}}function VK(t){t.updateLayout()}function $K(t){var n;const r=((n=t.resumeFrom)===null||n===void 0?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:l}=t.options,d=r.source!==t.layout.source;l==="size"?Gu(m=>{const v=d?r.measuredBox[m]:r.layoutBox[m],g=Su(v);v.min=s[m].min,v.max=v.min+g}):aL(l,r.layoutBox,s)&&Gu(m=>{const v=d?r.measuredBox[m]:r.layoutBox[m],g=Su(s[m]);v.max=v.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const f=Ym();gv(f,s,r.layoutBox);const u=Ym();d?gv(u,t.applyTransform(i,!0),r.measuredBox):gv(u,s,r.layoutBox);const h=!rL(f);let a=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:g}=m;if(v&&g){const x=Ga();vv(x,r.layoutBox,v.layoutBox);const w=Ga();vv(w,s,g.layoutBox),sL(x,w)||(a=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:u,layoutDelta:f,hasLayoutChanged:h,hasRelativeTargetChanged:a})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function GK(t){tv&&up.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WK(t){t.clearSnapshot()}function j4(t){t.clearMeasurements()}function YK(t){t.isLayoutDirty=!1}function XK(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function b4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZK(t){t.resolveTargetDelta()}function qK(t){t.calcProjection()}function JK(t){t.resetSkewAndRotation()}function eW(t){t.removeLeadSnapshot()}function w4(t,n,r){t.translate=va(n.translate,0,r),t.scale=va(n.scale,1,r),t.origin=n.origin,t.originPoint=n.originPoint}function S4(t,n,r,s){t.min=va(n.min,r.min,s),t.max=va(n.max,r.max,s)}function tW(t,n,r,s){S4(t.x,n.x,r.x,s),S4(t.y,n.y,r.y,s)}function nW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rW={duration:.45,ease:[.4,0,.1,1]},C4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),B4=C4("applewebkit/")&&!C4("chrome/")?Math.round:wu;function E4(t){t.min=B4(t.min),t.max=B4(t.max)}function sW(t){E4(t.x),E4(t.y)}function aL(t,n,r){return t==="position"||t==="preserve-aspect"&&!aK(v4(n),v4(r),.2)}function iW(t){var n;return t!==t.root&&((n=t.scroll)===null||n===void 0?void 0:n.wasRoot)}const oW=oL({attachResizeListener:(t,n)=>zv(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zb={current:void 0},lL=oL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zb.current){const t=new oW({});t.mount(window),t.setOptions({layoutScroll:!0}),Zb.current=t}return Zb.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aW={pan:{Feature:wK},drag:{Feature:bK,ProjectionNode:lL,MeasureLayout:eL}};function T4(t,n,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,l=s[i];l&&ko.postRender(()=>l(n,Ax(n)))}class lW extends Cf{mount(){const{current:n}=this.node;n&&(this.unmount=a$(n,r=>(T4(this.node,r,"Start"),s=>T4(this.node,s,"End"))))}unmount(){}}class cW extends Cf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ux(zv(this.node.current,"focus",()=>this.onFocus()),zv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I4(t,n,r){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),l=s[i];l&&ko.postRender(()=>l(n,Ax(n)))}class uW extends Cf{mount(){const{current:n}=this.node;n&&(this.unmount=A$(n,r=>(I4(this.node,r,"Start"),(s,{success:i})=>I4(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const D2=new WeakMap,qb=new WeakMap,AW=t=>{const n=D2.get(t.target);n&&n(t)},dW=t=>{t.forEach(AW)};function hW({root:t,...n}){const r=t||document;qb.has(r)||qb.set(r,{});const s=qb.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(dW,{root:t,...n})),s[i]}function fW(t,n,r){const s=hW(n);return D2.set(t,r),s.observe(t),()=>{D2.delete(t),s.unobserve(t)}}const pW={some:0,all:1};class mW extends Cf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:r,margin:s,amount:i="some",once:l}=n,d={root:r?r.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:pW[i]},f=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:a,onViewportLeave:m}=this.node.getProps(),v=h?a:m;v&&v(u)};return fW(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:r}=this.node;["amount","margin","root"].some(gW(n,r))&&this.startObserver()}unmount(){}}function gW({viewport:t={}},{viewport:n={}}={}){return r=>t[r]!==n[r]}const vW={inView:{Feature:mW},tap:{Feature:uW},focus:{Feature:cW},hover:{Feature:lW}},xW={layout:{ProjectionNode:lL,MeasureLayout:eL}},P2={current:null},cL={current:!1};function yW(){if(cL.current=!0,!!aC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>P2.current=t.matches;t.addListener(n),n()}else P2.current=!1}const jW=[...PF,mc,gf],bW=t=>jW.find(DF(t)),_4=new WeakMap;function wW(t,n,r){for(const s in n){const i=n[s],l=r[s];if(gc(i))t.addValue(s,i);else if(gc(l))t.addValue(s,kv(i,{owner:t}));else if(l!==i)if(t.hasValue(s)){const d=t.getValue(s);d.liveStyle===!0?d.jump(i):d.hasAnimated||d.set(i)}else{const d=t.getStaticValue(s);t.addValue(s,kv(d!==void 0?d:i,{owner:t}))}}for(const s in r)n[s]===void 0&&t.removeValue(s);return n}const F4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SW{scrapeMotionValuesFromProps(n,r,s){return{}}constructor({parent:n,props:r,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:l,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=bd.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ko.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:a}=d;this.onUpdate=a,this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=h,this.parent=n,this.props=r,this.presenceContext=s,this.depth=n?n.depth+1:0,this.reducedMotionConfig=i,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=r1(r),this.isVariantNode=z_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in v){const x=v[g];u[g]!==void 0&&gc(x)&&x.set(u[g],!1)}}mount(n){this.current=n,_4.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),cL.current||yW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:P2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_4.delete(this.current),this.projection&&this.projection.unmount(),mf(this.notifyUpdate),mf(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const s=Kp.has(n),i=r.on("change",f=>{this.latestValues[n]=f,this.props.onUpdate&&ko.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{i(),l(),d&&d(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in yg){const r=yg[n];if(!r)continue;const{isEnabled:s,Feature:i}=r;if(!this.features[n]&&i&&s(this.props)&&(this.features[n]=new i(this)),this.features[n]){const l=this.features[n];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ga()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<F4.length;s++){const i=F4[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,d=n[l];d&&(this.propEventSubscriptions[i]=this.on(i,d))}this.prevMotionValues=wW(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const s=this.values.get(n);r!==s&&(s&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let s=this.values.get(n);return s===void 0&&r!==void 0&&(s=kv(r===null?void 0:r,{owner:this}),this.addValue(n,s)),s}readValue(n,r){var s;let i=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(s=this.getBaseTargetFromProps(this.props,n))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,n,this.options);return i!=null&&(typeof i=="string"&&(FF(i)||bF(i))?i=parseFloat(i):!bW(i)&&gf.test(r)&&(i=TF(n,r)),this.setBaseTarget(n,gc(i)?i.get():i)),gc(i)?i.get():i}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){var r;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const d=fC(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);d&&(i=d[n])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,n);return l!==void 0&&!gc(l)?l:this.initialValues[n]!==void 0&&i===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new TC),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}}class uL extends SW{constructor(){super(...arguments),this.KeyframeResolver=RF}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){return n.style?n.style[r]:void 0}removeValueFromRenderState(n,{vars:r,style:s}){delete r[n],delete s[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;gc(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function CW(t){return window.getComputedStyle(t)}class BW extends uL{constructor(){super(...arguments),this.type="html",this.renderInstance=Z_}readValueFromInstance(n,r){if(Kp.has(r)){const s=DC(r);return s&&s.default||0}else{const s=CW(n),i=(W_(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(n,{transformPagePoint:r}){return qF(n,r)}build(n,r,s){gC(n,r,s.transformTemplate)}scrapeMotionValuesFromProps(n,r,s){return jC(n,r,s)}}class EW extends uL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ga}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(Kp.has(r)){const s=DC(r);return s&&s.default||0}return r=q_.has(r)?r:AC(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,s){return tF(n,r,s)}build(n,r,s){vC(n,r,this.isSVGTag,s.transformTemplate)}renderInstance(n,r,s,i){J_(n,r,s,i)}mount(n){this.isSVGTag=yC(n.tagName),super.mount(n)}}const TW=(t,n)=>hC(t)?new EW(n):new BW(n,{allowProjection:t!==T.Fragment}),IW=e$({...qG,...vW,...aW,...xW},TW),Td=pV(IW),_W=(t,n)=>t.find(r=>r.id===n);function L4(t,n){const r=AL(t,n),s=r?t[r].findIndex(i=>i.id===n):-1;return{position:r,index:s}}function AL(t,n){for(const[r,s]of Object.entries(t))if(_W(s,n))return r}function FW(t){const n=t.includes("right"),r=t.includes("left");let s="center";return n&&(s="flex-end"),r&&(s="flex-start"),{display:"flex",flexDirection:"column",alignItems:s}}function LW(t){const r=t==="top"||t==="bottom"?"0 auto":void 0,s=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,l=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",d=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:r,top:s,bottom:i,right:l,left:d}}var DW=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,PW=B_(function(t){return DW.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),RW=PW,NW=function(n){return n!=="theme"},D4=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?RW:NW},P4=function(n,r,s){var i;if(r){var l=r.shouldForwardProp;i=n.__emotion_forwardProp&&l?function(d){return n.__emotion_forwardProp(d)&&l(d)}:l}return typeof i!="function"&&s&&(i=n.__emotion_forwardProp),i},OW=function(n){var r=n.cache,s=n.serialized,i=n.isStringTag;return XS(r,s,i),F_(function(){return ZS(r,s,i)}),null},UW=function t(n,r){var s=n.__emotion_real===n,i=s&&n.__emotion_base||n,l,d;r!==void 0&&(l=r.label,d=r.target);var f=P4(n,r,s),u=f||D4(i),h=!u("as");return function(){var a=arguments,m=s&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(l!==void 0&&m.push("label:"+l+";"),a[0]==null||a[0].raw===void 0)m.push.apply(m,a);else{var v=a[0];m.push(v[0]);for(var g=a.length,x=1;x<g;x++)m.push(a[x],v[x])}var w=JS(function(b,S,C){var B=h&&b.as||i,F="",N=[],Q=b;if(b.theme==null){Q={};for(var z in b)Q[z]=b[z];Q.theme=T.useContext(vg)}typeof b.className=="string"?F=T_(S.registered,N,b.className):b.className!=null&&(F=b.className+" ");var k=qj(m.concat(N),S.registered,Q);F+=S.key+"-"+k.name,d!==void 0&&(F+=" "+d);var K=h&&f===void 0?D4(B):u,se={};for(var V in b)h&&V==="as"||K(V)&&(se[V]=b[V]);return se.className=F,C&&(se.ref=C),T.createElement(T.Fragment,null,T.createElement(OW,{cache:S,serialized:k,isStringTag:typeof B=="string"}),T.createElement(B,se))});return w.displayName=l!==void 0?l:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=n.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=m,w.__emotion_forwardProp=f,Object.defineProperty(w,"toString",{value:function(){return"."+d}}),w.withComponent=function(b,S){var C=t(b,Pp({},r,S,{shouldForwardProp:P4(w,S,!0)}));return C.apply(void 0,m)},w}},MW=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],R2=UW.bind(null);MW.forEach(function(t){R2[t]=R2(t)});const kW=new Set([...oM,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),QW=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function zW(t){return(QW.has(t)||!kW.has(t))&&t[0]!=="_"}const HW=HU(R2),VW=({baseStyle:t})=>n=>{const{theme:r,css:s,__css:i,sx:l,...d}=n,[f]=ZU(d,lM),u=xu(t,n),h=IU({},i,u,tx(f),l),a=s_(h)(n.theme);return s?[a,s]:a};function Jb(t,n){const{baseStyle:r,...s}=n??{};s.shouldForwardProp||(s.shouldForwardProp=zW);const i=VW({baseStyle:r}),l=HW(t,s)(i);return T.forwardRef(function(u,h){const{children:a,...m}=u,{colorMode:v,forced:g}=e1(),x=g?v:void 0;return T.createElement(l,{ref:h,"data-theme":x,...m},a)})}function $W(){const t=new Map;return new Proxy(Jb,{apply(n,r,s){return Jb(...s)},get(n,r){return t.has(r)||t.set(r,Jb(r)),t.get(r)}})}const Qt=$W(),GW={initial:t=>{const{position:n}=t,r=["top","bottom"].includes(n)?"y":"x";let s=["top-right","bottom-right"].includes(n)?1:-1;return n==="bottom"&&(s=1),{opacity:0,[r]:s*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},dL=T.memo(t=>{const{id:n,message:r,onCloseComplete:s,onRequestRemove:i,requestClose:l=!1,position:d="bottom",duration:f=5e3,containerStyle:u,motionVariants:h=GW,toastSpacing:a="0.5rem"}=t,[m,v]=T.useState(f),g=oV();pf(()=>{g||s?.()},[g]),pf(()=>{v(f)},[f]);const x=()=>v(null),w=()=>v(f),b=()=>{g&&i()};T.useEffect(()=>{g&&l&&i()},[g,l,i]),u6(b,m);const S=T.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:a,...u}),[u,a]),C=T.useMemo(()=>FW(d),[d]);return e.jsx(Td.div,{layout:!0,className:"chakra-toast",variants:h,initial:"initial",animate:"animate",exit:"exit",onHoverStart:x,onHoverEnd:w,custom:{position:d},style:C,children:e.jsx(Qt.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:S,children:xu(r,{id:n,onClose:b})})})});dL.displayName="ToastComponent";function cn(t){return T.forwardRef(t)}var ew,R4;function KW(){if(R4)return ew;R4=1;var t=typeof Element<"u",n=typeof Map=="function",r=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(l,d){if(l===d)return!0;if(l&&d&&typeof l=="object"&&typeof d=="object"){if(l.constructor!==d.constructor)return!1;var f,u,h;if(Array.isArray(l)){if(f=l.length,f!=d.length)return!1;for(u=f;u--!==0;)if(!i(l[u],d[u]))return!1;return!0}var a;if(n&&l instanceof Map&&d instanceof Map){if(l.size!==d.size)return!1;for(a=l.entries();!(u=a.next()).done;)if(!d.has(u.value[0]))return!1;for(a=l.entries();!(u=a.next()).done;)if(!i(u.value[1],d.get(u.value[0])))return!1;return!0}if(r&&l instanceof Set&&d instanceof Set){if(l.size!==d.size)return!1;for(a=l.entries();!(u=a.next()).done;)if(!d.has(u.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(d)){if(f=l.length,f!=d.length)return!1;for(u=f;u--!==0;)if(l[u]!==d[u])return!1;return!0}if(l.constructor===RegExp)return l.source===d.source&&l.flags===d.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof d.valueOf=="function")return l.valueOf()===d.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof d.toString=="function")return l.toString()===d.toString();if(h=Object.keys(l),f=h.length,f!==Object.keys(d).length)return!1;for(u=f;u--!==0;)if(!Object.prototype.hasOwnProperty.call(d,h[u]))return!1;if(t&&l instanceof Element)return!1;for(u=f;u--!==0;)if(!((h[u]==="_owner"||h[u]==="__v"||h[u]==="__o")&&l.$$typeof)&&!i(l[h[u]],d[h[u]]))return!1;return!0}return l!==l&&d!==d}return ew=function(d,f){try{return i(d,f)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},ew}var WW=KW();const YW=qv(WW);function Bf(){const t=T.useContext(vg);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function hL(){const t=e1(),n=Bf();return{...t,theme:n}}function XW(t,n,r){if(n==null)return n;const s=i=>t.__cssMap?.[i]?.value;return s(n)??s(r)??r}function ZW(t,n,r){const s=Array.isArray(n)?n:[n],i=Array.isArray(r)?r:[r];return l=>{const d=i.filter(Boolean),f=s.map((u,h)=>{const a=`${t}.${u}`;return XW(l,a,d[h]??u)});return Array.isArray(n)?f:f[0]}}function qW(t){return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0&&n!=="children"&&!T.isValidElement(r)))}function fL(t,n={}){const{styleConfig:r,...s}=n,{theme:i,colorMode:l}=hL(),d=t?H3(i,`components.${t}`):void 0,f=r||d,u=Yu({theme:i,colorMode:l},f?.defaultProps??{},qW(s),(a,m)=>a?void 0:m),h=T.useRef({});if(f){const m=xM(f)(u);YW(h.current,m)||(h.current=m)}return h.current}function kc(t,n={}){return fL(t,n)}function Za(t,n={}){return fL(t,n)}const N4={path:e.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},ws=cn((t,n)=>{const{as:r,viewBox:s,color:i="currentColor",focusable:l=!1,children:d,className:f,__css:u,...h}=t,a=En("chakra-icon",f),m=kc("Icon",t),v={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...u,...m},g={ref:n,focusable:l,className:a,__css:v},x=s??N4.viewBox;if(r&&typeof r!="string")return e.jsx(Qt.svg,{as:r,...g,...h});const w=d??N4.path;return e.jsx(Qt.svg,{verticalAlign:"middle",viewBox:x,...g,...h,children:w})});ws.displayName="Icon";function JW(t){return e.jsx(ws,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function eY(t){return e.jsx(ws,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function O4(t){return e.jsx(ws,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const tY=wf({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Kr=cn((t,n)=>{const r=kc("Spinner",t),{label:s="Loading...",thickness:i="2px",speed:l="0.45s",emptyColor:d="transparent",className:f,...u}=ei(t),h=En("chakra-spinner",f),a={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:d,borderLeftColor:d,animation:`${tY} ${l} linear infinite`,...r};return e.jsx(Qt.div,{ref:n,__css:a,className:h,...u,children:s&&e.jsx(Qt.span,{srOnly:!0,children:s})})});Kr.displayName="Spinner";const[nY,UC]=Ws({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[rY,MC]=Ws({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),pL={info:{icon:eY,colorScheme:"blue"},warning:{icon:O4,colorScheme:"orange"},success:{icon:JW,colorScheme:"green"},error:{icon:O4,colorScheme:"red"},loading:{icon:Kr,colorScheme:"blue"}};function sY(t){return pL[t].colorScheme}function iY(t){return pL[t].icon}const ir=cn(function(n,r){const{status:s="info",addRole:i=!0,...l}=ei(n),d=n.colorScheme??sY(s),f=Za("Alert",{...n,colorScheme:d}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...f.container};return e.jsx(nY,{value:{status:s},children:e.jsx(rY,{value:f,children:e.jsx(Qt.div,{"data-status":s,role:i?"alert":void 0,ref:r,...l,className:En("chakra-alert",n.className),__css:u})})})});ir.displayName="Alert";function or(t){const{status:n}=UC(),r=iY(n),s=MC(),i=n==="loading"?s.spinner:s.icon;return e.jsx(Qt.span,{display:"inherit","data-status":n,...t,className:En("chakra-alert__icon",t.className),__css:i,children:t.children||e.jsx(r,{h:"100%",w:"100%"})})}or.displayName="AlertIcon";const mL=cn(function(n,r){const s=MC(),{status:i}=UC();return e.jsx(Qt.div,{ref:r,"data-status":i,...n,className:En("chakra-alert__title",n.className),__css:s.title})});mL.displayName="AlertTitle";const gL=cn(function(n,r){const{status:s}=UC(),i=MC(),l={display:"inline",...i.description};return e.jsx(Qt.div,{ref:r,"data-status":s,...n,className:En("chakra-alert__desc",n.className),__css:l})});gL.displayName="AlertDescription";function oY(t){return e.jsx(ws,{focusable:"false","aria-hidden":!0,...t,children:e.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const kC=cn(function(n,r){const s=kc("CloseButton",n),{children:i,isDisabled:l,__css:d,...f}=ei(n),u={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return e.jsx(Qt.button,{type:"button","aria-label":"Close",ref:r,disabled:l,__css:{...u,...s,...d},...f,children:i||e.jsx(oY,{width:"1em",height:"1em"})})});kC.displayName="CloseButton";const aY=t=>{const{status:n,variant:r="solid",id:s,title:i,isClosable:l,onClose:d,description:f,colorScheme:u,icon:h}=t,a=s?{root:`toast-${s}`,title:`toast-${s}-title`,description:`toast-${s}-description`}:void 0;return e.jsxs(ir,{addRole:!1,status:n,variant:r,id:a?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:u,children:[e.jsx(or,{children:h}),e.jsxs(Qt.div,{flex:"1",maxWidth:"100%",children:[i&&e.jsx(mL,{id:a?.title,children:i}),f&&e.jsx(gL,{id:a?.description,display:"block",children:f})]}),l&&e.jsx(kC,{size:"sm",onClick:d,position:"absolute",insetEnd:1,top:1})]})};function vL(t={}){const{render:n,toastComponent:r=aY}=t;return i=>typeof n=="function"?n({...i,...t}):e.jsx(r,{...i,...t})}const lY={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},pd=cY(lY);function cY(t){let n=t;const r=new Set,s=i=>{n=i(n),r.forEach(l=>l())};return{getState:()=>n,subscribe:i=>(r.add(i),()=>{s(()=>t),r.delete(i)}),removeToast:(i,l)=>{s(d=>({...d,[l]:d[l].filter(f=>f.id!=i)}))},notify:(i,l)=>{const d=uY(i,l),{position:f,id:u}=d;return s(h=>{const m=f.includes("top")?[d,...h[f]??[]]:[...h[f]??[],d];return{...h,[f]:m}}),u},update:(i,l)=>{i&&s(d=>{const f={...d},{position:u,index:h}=L4(f,i);return u&&h!==-1&&(f[u][h]={...f[u][h],...l,message:vL(l)}),f})},closeAll:({positions:i}={})=>{s(l=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((u,h)=>(u[h]=l[h].map(a=>({...a,requestClose:!0})),u),{...l}))},close:i=>{s(l=>{const d=AL(l,i);return d?{...l,[d]:l[d].map(f=>f.id==i?{...f,requestClose:!0}:f)}:l})},isActive:i=>!!L4(pd.getState(),i).position}}let U4=0;function uY(t,n={}){U4+=1;const r=n.id??U4,s=n.position??"bottom";return{id:r,message:t,position:s,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:()=>pd.removeToast(String(r),s),status:n.status,requestClose:!1,containerStyle:n.containerStyle}}const[xL,AY]=Ws({strict:!1,name:"PortalContext"}),QC="chakra-portal",dY=".chakra-portal",hY=t=>e.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),fY=t=>{const{appendToParentPortal:n,children:r}=t,[s,i]=T.useState(null),l=T.useRef(null),[,d]=T.useState({});T.useEffect(()=>d({}),[]);const f=AY(),u=J9();hh(()=>{if(!s)return;const a=s.ownerDocument,m=n?f??a.body:a.body;if(!m)return;l.current=a.createElement("div"),l.current.className=QC,m.appendChild(l.current),d({});const v=l.current;return()=>{m.contains(v)&&m.removeChild(v)}},[s]);const h=u?.zIndex?e.jsx(hY,{zIndex:u?.zIndex,children:r}):r;return l.current?OS.createPortal(e.jsx(xL,{value:l.current,children:h}),l.current):e.jsx("span",{ref:a=>{a&&i(a)}})},pY=t=>{const{children:n,containerRef:r,appendToParentPortal:s}=t,i=r.current,l=i??(typeof window<"u"?document.body:void 0),d=T.useMemo(()=>{const u=i?.ownerDocument.createElement("div");return u&&(u.className=QC),u},[i]),[,f]=T.useState({});return hh(()=>f({}),[]),hh(()=>{if(!(!d||!l))return l.appendChild(d),()=>{l.removeChild(d)}},[d,l]),l&&d?OS.createPortal(e.jsx(xL,{value:s?d:null,children:n}),d):null};function Ug(t){const n={appendToParentPortal:!0,...t},{containerRef:r,...s}=n;return r?e.jsx(pY,{containerRef:r,...s}):e.jsx(fY,{...s})}Ug.className=QC;Ug.selector=dY;Ug.displayName="Portal";const[mY,gY]=Ws({name:"ToastOptionsContext",strict:!1}),vY=t=>{const n=T.useSyncExternalStore(pd.subscribe,pd.getState,pd.getState),{motionVariants:r,component:s=dL,portalProps:i,animatePresenceProps:l}=t,f=Object.keys(n).map(u=>{const h=n[u];return e.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${u}`,id:`chakra-toast-manager-${u}`,style:LW(u),children:e.jsx(Sf,{...l,initial:!1,children:h.map(a=>e.jsx(s,{motionVariants:r,...a},a.id))})},u)});return e.jsx(Ug,{...i,children:f})},xY=t=>function({children:r,theme:s=t,toastOptions:i,...l}){return e.jsxs(tV,{theme:s,...l,children:[e.jsx(mY,{value:i?.defaultOptions,children:r}),e.jsx(vY,{...i})]})},yY=xY(x_);function M4(t){return t.sort((n,r)=>{const s=n.compareDocumentPosition(r);if(s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(s&Node.DOCUMENT_POSITION_DISCONNECTED||s&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const jY=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function k4(t,n,r){let s=t+1;return r&&s>=n&&(s=0),s}function Q4(t,n,r){let s=t-1;return r&&s<0&&(s=n),s}const tw=typeof window<"u"?T.useLayoutEffect:T.useEffect,z4=t=>t;var bY=Object.defineProperty,wY=(t,n,r)=>n in t?bY(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Ea=(t,n,r)=>(wY(t,typeof n!="symbol"?n+"":n,r),r);class SY{constructor(){Ea(this,"descendants",new Map),Ea(this,"register",n=>{if(n!=null)return jY(n)?this.registerNode(n):r=>{this.registerNode(r,n)}}),Ea(this,"unregister",n=>{this.descendants.delete(n);const r=M4(Array.from(this.descendants.keys()));this.assignIndex(r)}),Ea(this,"destroy",()=>{this.descendants.clear()}),Ea(this,"assignIndex",n=>{this.descendants.forEach(r=>{const s=n.indexOf(r.node);r.index=s,r.node.dataset.index=r.index.toString()})}),Ea(this,"count",()=>this.descendants.size),Ea(this,"enabledCount",()=>this.enabledValues().length),Ea(this,"values",()=>Array.from(this.descendants.values()).sort((r,s)=>r.index-s.index)),Ea(this,"enabledValues",()=>this.values().filter(n=>!n.disabled)),Ea(this,"item",n=>{if(this.count()!==0)return this.values()[n]}),Ea(this,"enabledItem",n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]}),Ea(this,"first",()=>this.item(0)),Ea(this,"firstEnabled",()=>this.enabledItem(0)),Ea(this,"last",()=>this.item(this.descendants.size-1)),Ea(this,"lastEnabled",()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)}),Ea(this,"indexOf",n=>n?this.descendants.get(n)?.index??-1:-1),Ea(this,"enabledIndexOf",n=>n==null?-1:this.enabledValues().findIndex(r=>r.node.isSameNode(n))),Ea(this,"next",(n,r=!0)=>{const s=k4(n,this.count(),r);return this.item(s)}),Ea(this,"nextEnabled",(n,r=!0)=>{const s=this.item(n);if(!s)return;const i=this.enabledIndexOf(s.node),l=k4(i,this.enabledCount(),r);return this.enabledItem(l)}),Ea(this,"prev",(n,r=!0)=>{const s=Q4(n,this.count()-1,r);return this.item(s)}),Ea(this,"prevEnabled",(n,r=!0)=>{const s=this.item(n);if(!s)return;const i=this.enabledIndexOf(s.node),l=Q4(i,this.enabledCount()-1,r);return this.enabledItem(l)}),Ea(this,"registerNode",(n,r)=>{if(!n||this.descendants.has(n))return;const s=Array.from(this.descendants.keys()).concat(n),i=M4(s);r?.disabled&&(r.disabled=!!r.disabled);const l={node:n,index:-1,...r};this.descendants.set(n,l),this.assignIndex(i)})}}function o1(){const[t,n]=Ws({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,n,()=>{const i=T.useRef(new SY);return tw(()=>()=>i.current.destroy()),i.current},i=>{const l=n(),[d,f]=T.useState(-1),u=T.useRef(null);tw(()=>()=>{u.current&&l.unregister(u.current)},[]),tw(()=>{if(!u.current)return;const a=Number(u.current.dataset.index);d!=a&&!Number.isNaN(a)&&f(a)});const h=z4(i?l.register(i):l.register);return{descendants:l,index:d,enabledIndex:l.enabledIndexOf(u.current),register:ia(h,u)}}]}const[CY,a1]=Ws({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[BY,zC]=Ws({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[EY,tce,TY,IY]=o1();function _Y(t){const{onChange:n,defaultIndex:r,index:s,allowMultiple:i,allowToggle:l,...d}=t;DY(t),PY(t);const f=TY(),[u,h]=T.useState(-1);T.useEffect(()=>()=>{h(-1)},[]);const[a,m]=Pg({value:s,defaultValue(){return i?r??[]:r??-1},onChange:n});return{index:a,setIndex:m,htmlProps:d,getAccordionItemProps:g=>{let x=!1;return g!==null&&(x=Array.isArray(a)?a.includes(g):a===g),{isOpen:x,onChange:b=>{if(g!==null)if(i&&Array.isArray(a)){const S=b?a.concat(g):a.filter(C=>C!==g);m(S)}else b?m(g):l&&m(-1)}}},focusedIndex:u,setFocusedIndex:h,descendants:f}}const[FY,HC]=Ws({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function LY(t){const{isDisabled:n,isFocusable:r,id:s,...i}=t,{getAccordionItemProps:l,setFocusedIndex:d}=HC(),f=T.useRef(null),u=T.useId(),h=s??u,a=`accordion-button-${h}`,m=`accordion-panel-${h}`;RY(t);const{register:v,index:g,descendants:x}=IY({disabled:n&&!r}),{isOpen:w,onChange:b}=l(g===-1?null:g);NY({isOpen:w,isDisabled:n});const S=()=>{b?.(!0)},C=()=>{b?.(!1)},B=T.useCallback(()=>{b?.(!w),d(g)},[g,d,w,b]),F=T.useCallback(k=>{const se={ArrowDown:()=>{x.nextEnabled(g)?.node.focus()},ArrowUp:()=>{x.prevEnabled(g)?.node.focus()},Home:()=>{x.firstEnabled()?.node.focus()},End:()=>{x.lastEnabled()?.node.focus()}}[k.key];se&&(k.preventDefault(),se(k))},[x,g]),N=T.useCallback(()=>{d(g)},[d,g]),Q=T.useCallback(function(K={},se=null){return{...K,type:"button",ref:ia(v,f,se),id:a,disabled:!!n,"aria-expanded":!!w,"aria-controls":m,onClick:Ur(K.onClick,B),onFocus:Ur(K.onFocus,N),onKeyDown:Ur(K.onKeyDown,F)}},[a,n,w,B,N,F,m,v]),z=T.useCallback(function(K={},se=null){return{...K,ref:se,role:"region",id:m,"aria-labelledby":a,hidden:!w}},[a,w,m]);return{isOpen:w,isDisabled:n,isFocusable:r,onOpen:S,onClose:C,getButtonProps:Q,getPanelProps:z,htmlProps:i}}function DY(t){const n=t.index||t.defaultIndex,r=n!=null&&!Array.isArray(n)&&t.allowMultiple;rx({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function PY(t){rx({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function RY(t){rx({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function NY(t){rx({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}const yL=cn(function({children:n,reduceMotion:r,...s},i){const l=Za("Accordion",s),d=ei(s),{htmlProps:f,descendants:u,...h}=_Y(d),a=T.useMemo(()=>({...h,reduceMotion:!!r}),[h,r]);return e.jsx(EY,{value:u,children:e.jsx(FY,{value:a,children:e.jsx(CY,{value:l,children:e.jsx(Qt.div,{ref:i,...f,className:En("chakra-accordion",s.className),__css:l.root,children:n})})})})});yL.displayName="Accordion";const jL=cn(function(n,r){const{getButtonProps:s}=zC(),i=s(n,r),d={display:"flex",alignItems:"center",width:"100%",outline:0,...a1().button};return e.jsx(Qt.button,{...i,className:En("chakra-accordion__button",n.className),__css:d})});jL.displayName="AccordionButton";function bL(t){const{isOpen:n,isDisabled:r}=zC(),{reduceMotion:s}=HC(),i=En("chakra-accordion__icon",t.className),l=a1(),d={opacity:r?.4:1,transform:n?"rotate(-180deg)":void 0,transition:s?void 0:"transform 0.2s",transformOrigin:"center",...l.icon};return e.jsx(ws,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:d,...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}bL.displayName="AccordionIcon";const wL=cn(function(n,r){const{children:s,className:i}=n,{htmlProps:l,...d}=LY(n),f=a1(),u={...f.container,overflowAnchor:"none"},h=T.useMemo(()=>d,[d]);return e.jsx(BY,{value:h,children:e.jsx(Qt.div,{ref:r,...l,className:En("chakra-accordion__item",i),__css:u,children:typeof s=="function"?s({isExpanded:!!d.isOpen,isDisabled:!!d.isDisabled}):s})})});wL.displayName="AccordionItem";const mp={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},N0={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function N2(t){switch(t?.direction??"right"){case"right":return N0.slideRight;case"left":return N0.slideLeft;case"bottom":return N0.slideDown;case"top":return N0.slideUp;default:return N0.slideRight}}const wp={enter:{duration:.2,ease:mp.easeOut},exit:{duration:.1,ease:mp.easeIn}},PA={enter:(t,n)=>({...t,delay:typeof n=="number"?n:n?.enter}),exit:(t,n)=>({...t,delay:typeof n=="number"?n:n?.exit})},OY=t=>t!=null&&parseInt(t.toString(),10)>0,H4={exit:{height:{duration:.2,ease:mp.ease},opacity:{duration:.3,ease:mp.ease}},enter:{height:{duration:.3,ease:mp.ease},opacity:{duration:.4,ease:mp.ease}}},UY={exit:({animateOpacity:t,startingHeight:n,transition:r,transitionEnd:s,delay:i})=>({...t&&{opacity:OY(n)?1:0},height:n,transitionEnd:s?.exit,transition:r?.exit??PA.exit(H4.exit,i)}),enter:({animateOpacity:t,endingHeight:n,transition:r,transitionEnd:s,delay:i})=>({...t&&{opacity:1},height:n,transitionEnd:s?.enter,transition:r?.enter??PA.enter(H4.enter,i)})},VC=T.forwardRef((t,n)=>{const{in:r,unmountOnExit:s,animateOpacity:i=!0,startingHeight:l=0,endingHeight:d="auto",style:f,className:u,transition:h,transitionEnd:a,animatePresenceProps:m,...v}=t,[g,x]=T.useState(!1);T.useEffect(()=>{const B=setTimeout(()=>{x(!0)});return()=>clearTimeout(B)},[]),rx({condition:Number(l)>0&&!!s,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const w=parseFloat(l.toString())>0,b={startingHeight:l,endingHeight:d,animateOpacity:i,transition:g?h:{enter:{duration:0}},transitionEnd:{enter:a?.enter,exit:s?a?.exit:{...a?.exit,display:w?"block":"none"}}},S=s?r:!0,C=r||s?"enter":"exit";return e.jsx(Sf,{...m,initial:!1,custom:b,children:S&&e.jsx(Td.div,{ref:n,...v,className:En("chakra-collapse",u),style:{overflow:"hidden",display:"block",...f},custom:b,variants:UY,initial:s?"exit":!1,animate:C,exit:"exit"})})});VC.displayName="Collapse";const SL=cn(function(n,r){const{className:s,motionProps:i,...l}=n,{reduceMotion:d}=HC(),{getPanelProps:f,isOpen:u}=zC(),h=f(l,r),a=En("chakra-accordion__panel",s),m=a1();d||delete h.hidden;const v=e.jsx(Qt.div,{...h,__css:m.panel,className:a});return d?v:e.jsx(VC,{in:u,...i,children:v})});SL.displayName="AccordionPanel";const[MY,kY]=Ws({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function QY(t){const n=t.trim().split(" "),r=n[0]??"",s=n.length>1?n[n.length-1]:"";return r&&s?`${r.charAt(0)}${s.charAt(0)}`:r.charAt(0)}function CL(t){const{name:n,getInitials:r,...s}=t,i=kY();return e.jsx(Qt.div,{role:"img","aria-label":n,...s,__css:i.label,children:n?r?.(n):null})}CL.displayName="AvatarName";const BL=t=>e.jsxs(Qt.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[e.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),e.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function EL(t){const{loading:n,src:r,srcSet:s,onLoad:i,onError:l,crossOrigin:d,sizes:f,ignoreFallback:u}=t,[h,a]=T.useState("pending");T.useEffect(()=>{a(r?"loading":"pending")},[r]);const m=T.useRef(null),v=T.useCallback(()=>{if(!r)return;g();const x=new Image;x.src=r,d&&(x.crossOrigin=d),s&&(x.srcset=s),f&&(x.sizes=f),n&&(x.loading=n),x.onload=w=>{g(),a("loaded"),i?.(w)},x.onerror=w=>{g(),a("failed"),l?.(w)},m.current=x},[r,d,s,f,i,l,n]),g=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return hh(()=>{if(!u)return h==="loading"&&v(),()=>{g()}},[h,v,u]),u?"loaded":h}const zY=(t,n)=>t!=="loaded"&&n==="beforeLoadOrError"||t==="failed"&&n==="onError";function TL(t){const{src:n,srcSet:r,onError:s,onLoad:i,getInitials:l,name:d,borderRadius:f,loading:u,iconLabel:h,icon:a=e.jsx(BL,{}),ignoreFallback:m,referrerPolicy:v,crossOrigin:g}=t,w=EL({src:n,onError:s,crossOrigin:g,ignoreFallback:m})==="loaded";return!n||!w?d?e.jsx(CL,{className:"chakra-avatar__initials",getInitials:l,name:d}):T.cloneElement(a,{role:"img","aria-label":h}):e.jsx(Qt.img,{src:n,srcSet:r,alt:d??h,onLoad:i,referrerPolicy:v,crossOrigin:g??void 0,className:"chakra-avatar__img",loading:u,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:f}})}TL.displayName="AvatarImage";const HY={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},IL=cn((t,n)=>{const r=Za("Avatar",t),[s,i]=T.useState(!1),{src:l,srcSet:d,name:f,showBorder:u,borderRadius:h="full",onError:a,onLoad:m,getInitials:v=QY,icon:g=e.jsx(BL,{}),iconLabel:x=" avatar",loading:w,children:b,borderColor:S,ignoreFallback:C,crossOrigin:B,referrerPolicy:F,...N}=ei(t),Q={borderRadius:h,borderWidth:u?"2px":void 0,...HY,...r.container};return S&&(Q.borderColor=S),e.jsx(Qt.span,{ref:n,...N,className:En("chakra-avatar",t.className),"data-loaded":ss(s),__css:Q,children:e.jsxs(MY,{value:r,children:[e.jsx(TL,{src:l,srcSet:d,loading:w,onLoad:Ur(m,()=>{i(!0)}),onError:a,getInitials:v,name:f,borderRadius:h,icon:g,iconLabel:x,ignoreFallback:C,crossOrigin:B,referrerPolicy:F}),b]})})});IL.displayName="Avatar";const Xt=cn(function(n,r){const s=kc("Badge",n),{className:i,...l}=ei(n);return e.jsx(Qt.span,{ref:r,className:En("chakra-badge",n.className),...l,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...s}})});Xt.displayName="Badge";const Re=Qt("div");Re.displayName="Box";const[VY,$C]=Ws({name:"BreadcrumbStylesContext",errorMessage:`useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Breadcrumb />" `}),O2=cn(function(n,r){const s=Za("Breadcrumb",n),i=ei(n),{children:l,spacing:d="0.5rem",separator:f="/",className:u,listProps:h,...a}=i,m=bf(l),v=m.length,g=m.map((w,b)=>T.cloneElement(w,{separator:f,spacing:d,isLastChild:v===b+1})),x=En("chakra-breadcrumb",u);return e.jsx(Qt.nav,{ref:r,"aria-label":"breadcrumb",className:x,__css:s.container,...a,children:e.jsx(VY,{value:s,children:e.jsx(Qt.ol,{className:"chakra-breadcrumb__list",...h,__css:{display:"flex",alignItems:"center",...s.list},children:g})})})});O2.displayName="Breadcrumb";const Cj=cn(function(n,r){const{isCurrentPage:s,as:i,className:l,href:d,...f}=n,u=$C(),h={ref:r,as:i,className:En("chakra-breadcrumb__link",l),...f};return s?e.jsx(Qt.span,{"aria-current":"page",__css:u.link,...h}):e.jsx(Qt.a,{__css:u.link,href:d,...h})});Cj.displayName="BreadcrumbLink";const U2=cn(function(n,r){const{spacing:s,...i}=n,l=$C(),d={mx:s,...l.separator};return e.jsx(Qt.span,{ref:r,role:"presentation",...i,__css:d})});U2.displayName="BreadcrumbSeparator";const M2=cn(function(n,r){const{isCurrentPage:s,separator:i,isLastChild:l,spacing:d,children:f,className:u,...h}=n,m=bf(f).map(w=>w.type===Cj?T.cloneElement(w,{isCurrentPage:s}):w.type===U2?T.cloneElement(w,{spacing:d,children:w.props.children||i}):w),v=$C(),g={display:"inline-flex",alignItems:"center",...v.item},x=En("chakra-breadcrumb__list-item",u);return e.jsxs(Qt.li,{ref:r,className:x,...h,__css:g,children:[m,!l&&e.jsx(U2,{spacing:d,children:i})]})});M2.displayName="BreadcrumbItem";const[$Y,GY]=Ws({strict:!1,name:"ButtonGroupContext"});function nv(t){const{children:n,className:r,...s}=t,i=T.isValidElement(n)?T.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,l=En("chakra-button__icon",r);return e.jsx(Qt.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...s,className:l,children:i})}nv.displayName="ButtonIcon";function k2(t){const{label:n,placement:r,spacing:s="0.5rem",children:i=e.jsx(Kr,{color:"currentColor",width:"1em",height:"1em"}),className:l,__css:d,...f}=t,u=En("chakra-button__spinner",l),h=r==="start"?"marginEnd":"marginStart",a=T.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[h]:n?s:0,fontSize:"1em",lineHeight:"normal",...d}),[d,n,h,s]);return e.jsx(Qt.div,{className:u,...f,__css:a,children:i})}k2.displayName="ButtonSpinner";function KY(t){const[n,r]=T.useState(!t);return{ref:T.useCallback(l=>{l&&r(l.tagName==="BUTTON")},[]),type:n?"button":void 0}}const Ie=cn((t,n)=>{const r=GY(),s=kc("Button",{...r,...t}),{isDisabled:i=r?.isDisabled,isLoading:l,isActive:d,children:f,leftIcon:u,rightIcon:h,loadingText:a,iconSpacing:m="0.5rem",type:v,spinner:g,spinnerPlacement:x="start",className:w,as:b,shouldWrapChildren:S,...C}=ei(t),B=T.useMemo(()=>{const z={...s?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...s,...!!r&&{_focus:z}}},[s,r]),{ref:F,type:N}=KY(b),Q={rightIcon:h,leftIcon:u,iconSpacing:m,children:f,shouldWrapChildren:S};return e.jsxs(Qt.button,{disabled:i||l,ref:l6(n,F),as:b,type:v??N,"data-active":ss(d),"data-loading":ss(l),__css:B,className:En("chakra-button",w),...C,children:[l&&x==="start"&&e.jsx(k2,{className:"chakra-button__spinner--start",label:a,placement:"start",spacing:m,children:g}),l?a||e.jsx(Qt.span,{opacity:0,children:e.jsx(V4,{...Q})}):e.jsx(V4,{...Q}),l&&x==="end"&&e.jsx(k2,{className:"chakra-button__spinner--end",label:a,placement:"end",spacing:m,children:g})]})});Ie.displayName="Button";function V4(t){const{leftIcon:n,rightIcon:r,children:s,iconSpacing:i,shouldWrapChildren:l}=t;return l?e.jsxs("span",{style:{display:"contents"},children:[n&&e.jsx(nv,{marginEnd:i,children:n}),s,r&&e.jsx(nv,{marginStart:i,children:r})]}):e.jsxs(e.Fragment,{children:[n&&e.jsx(nv,{marginEnd:i,children:n}),s,r&&e.jsx(nv,{marginStart:i,children:r})]})}const WY={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},YY={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},Q2=cn(function(n,r){const{size:s,colorScheme:i,variant:l,className:d,spacing:f="0.5rem",isAttached:u,isDisabled:h,orientation:a="horizontal",...m}=n,v=En("chakra-button__group",d),g=T.useMemo(()=>({size:s,colorScheme:i,variant:l,isDisabled:h}),[s,i,l,h]);let x={display:"inline-flex",...u?WY[a]:YY[a](f)};const w=a==="vertical";return e.jsx($Y,{value:g,children:e.jsx(Qt.div,{ref:r,role:"group",__css:x,className:v,"data-attached":u?"":void 0,"data-orientation":a,flexDir:w?"column":void 0,...m})})});Q2.displayName="ButtonGroup";const Pn=cn((t,n)=>{const{icon:r,children:s,isRound:i,"aria-label":l,...d}=t,f=r||s,u=T.isValidElement(f)?T.cloneElement(f,{"aria-hidden":!0,focusable:!1}):null;return e.jsx(Ie,{px:"0",py:"0",borderRadius:i?"full":void 0,ref:n,"aria-label":l,...d,children:u})});Pn.displayName="IconButton";const[XY,_L]=X9("Card"),St=cn(function(n,r){const{className:s,children:i,direction:l="column",justify:d,align:f,...u}=ei(n),h=Za("Card",n);return e.jsx(Qt.div,{ref:r,className:En("chakra-card",s),__css:{display:"flex",flexDirection:l,justifyContent:d,alignItems:f,position:"relative",minWidth:0,wordWrap:"break-word",...h.container},...u,children:e.jsx(XY,{value:h,children:i})})}),bt=cn(function(n,r){const{className:s,...i}=n,l=_L();return e.jsx(Qt.div,{ref:r,className:En("chakra-card__body",s),__css:l.body,...i})}),Qn=cn(function(n,r){const{className:s,...i}=n,l=_L();return e.jsx(Qt.div,{ref:r,className:En("chakra-card__header",s),__css:l.header,...i})}),is=Qt("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});is.displayName="Center";const ZY={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};cn(function(n,r){const{axis:s="both",...i}=n;return e.jsx(Qt.div,{ref:r,__css:ZY[s],...i,position:"absolute"})});const[qY,JY]=Ws({name:"CheckboxGroupContext",strict:!1});function eX(t){return e.jsx(Qt.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function tX(t){return e.jsx(Qt.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function nX(t){const{isIndeterminate:n,isChecked:r,...s}=t,i=n?tX:eX;return r||n?e.jsx(Qt.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(i,{...s})}):null}var rX=()=>typeof document<"u",$4=!1,dx=null,Rp=!1,z2=!1,H2=new Set;function GC(t,n){H2.forEach(r=>r(t,n))}var sX=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function iX(t){return!(t.metaKey||!sX&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function G4(t){Rp=!0,iX(t)&&(dx="keyboard",GC("keyboard",t))}function Tm(t){if(dx="pointer",t.type==="mousedown"||t.type==="pointerdown"){Rp=!0;const n=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=n.matches(":focus-visible")}catch{}if(r)return;GC("pointer",t)}}function oX(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function aX(t){oX(t)&&(Rp=!0,dx="virtual")}function lX(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Rp&&!z2&&(dx="virtual",GC("virtual",t)),Rp=!1,z2=!1)}function cX(){Rp=!1,z2=!0}function K4(){return dx!=="pointer"}function uX(){if(!rX()||$4)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...r){Rp=!0,t.apply(this,r)},document.addEventListener("keydown",G4,!0),document.addEventListener("keyup",G4,!0),document.addEventListener("click",aX,!0),window.addEventListener("focus",lX,!0),window.addEventListener("blur",cX,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Tm,!0),document.addEventListener("pointermove",Tm,!0),document.addEventListener("pointerup",Tm,!0)):(document.addEventListener("mousedown",Tm,!0),document.addEventListener("mousemove",Tm,!0),document.addEventListener("mouseup",Tm,!0)),$4=!0}function AX(t){uX(),t(K4());const n=()=>t(K4());return H2.add(n),()=>{H2.delete(n)}}const[dX,FL]=Ws({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[hX,l1]=Ws({strict:!1,name:"FormControlContext"});function fX(t){const{id:n,isRequired:r,isInvalid:s,isDisabled:i,isReadOnly:l,...d}=t,f=T.useId(),u=n||`field-${f}`,h=`${u}-label`,a=`${u}-feedback`,m=`${u}-helptext`,[v,g]=T.useState(!1),[x,w]=T.useState(!1),[b,S]=T.useState(!1),C=T.useCallback((z={},k=null)=>({id:m,...z,ref:ia(k,K=>{K&&w(!0)})}),[m]),B=T.useCallback((z={},k=null)=>({...z,ref:k,"data-focus":ss(b),"data-disabled":ss(i),"data-invalid":ss(s),"data-readonly":ss(l),id:z.id!==void 0?z.id:h,htmlFor:z.htmlFor!==void 0?z.htmlFor:u}),[u,i,b,s,l,h]),F=T.useCallback((z={},k=null)=>({id:a,...z,ref:ia(k,K=>{K&&g(!0)}),"aria-live":"polite"}),[a]),N=T.useCallback((z={},k=null)=>({...z,...d,ref:k,role:"group","data-focus":ss(b),"data-disabled":ss(i),"data-invalid":ss(s),"data-readonly":ss(l)}),[d,i,b,s,l]),Q=T.useCallback((z={},k=null)=>({...z,ref:k,role:"presentation","aria-hidden":!0,children:z.children||"*"}),[]);return{isRequired:!!r,isInvalid:!!s,isReadOnly:!!l,isDisabled:!!i,isFocused:!!b,onFocus:()=>S(!0),onBlur:()=>S(!1),hasFeedbackText:v,setHasFeedbackText:g,hasHelpText:x,setHasHelpText:w,id:u,labelId:h,feedbackId:a,helpTextId:m,htmlProps:d,getHelpTextProps:C,getErrorMessageProps:F,getRootProps:N,getLabelProps:B,getRequiredIndicatorProps:Q}}const be=cn(function(n,r){const s=Za("Form",n),i=ei(n),{getRootProps:l,htmlProps:d,...f}=fX(i),u=En("chakra-form-control",n.className);return e.jsx(hX,{value:f,children:e.jsx(dX,{value:s,children:e.jsx(Qt.div,{...l({},r),className:u,__css:s.container})})})});be.displayName="FormControl";const rj=cn(function(n,r){const s=l1(),i=FL(),l=En("chakra-form__helper-text",n.className);return e.jsx(Qt.div,{...s?.getHelpTextProps(n,r),__css:i.helperText,className:l})});rj.displayName="FormHelperText";function KC(t){const{isDisabled:n,isInvalid:r,isReadOnly:s,isRequired:i,...l}=WC(t);return{...l,disabled:n,readOnly:s,required:i,"aria-invalid":vd(r),"aria-required":vd(i),"aria-readonly":vd(s)}}function WC(t){const n=l1(),{id:r,disabled:s,readOnly:i,required:l,isRequired:d,isInvalid:f,isReadOnly:u,isDisabled:h,onFocus:a,onBlur:m,...v}=t,g=t["aria-describedby"]?[t["aria-describedby"]]:[];return n?.hasFeedbackText&&n?.isInvalid&&g.push(n.feedbackId),n?.hasHelpText&&g.push(n.helpTextId),{...v,"aria-describedby":g.join(" ")||void 0,id:r??n?.id,isDisabled:s??h??n?.isDisabled,isReadOnly:i??u??n?.isReadOnly,isRequired:l??d??n?.isRequired,isInvalid:f??n?.isInvalid,onFocus:Ur(n?.onFocus,a),onBlur:Ur(n?.onBlur,m)}}const YC={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function LL(t={}){const n=WC(t),{isDisabled:r,isReadOnly:s,isRequired:i,isInvalid:l,id:d,onBlur:f,onFocus:u,"aria-describedby":h}=n,{defaultChecked:a,isChecked:m,isFocusable:v,onChange:g,isIndeterminate:x,name:w,value:b,tabIndex:S=void 0,"aria-label":C,"aria-labelledby":B,"aria-invalid":F,...N}=t,Q=nx(N,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),z=Fa(g),k=Fa(f),K=Fa(u),[se,V]=T.useState(!1),[q,le]=T.useState(!1),[ae,ie]=T.useState(!1),J=T.useRef(!1);T.useEffect(()=>AX(nt=>{J.current=nt}),[]);const G=T.useRef(null),[W,pe]=T.useState(!0),[oe,he]=T.useState(!!a),$=m!==void 0,M=$?m:oe,ee=T.useCallback(nt=>{if(s||r){nt.preventDefault();return}$||he(M?nt.currentTarget.checked:x?!0:nt.currentTarget.checked),z?.(nt)},[s,r,M,$,x,z]);hh(()=>{G.current&&(G.current.indeterminate=!!x)},[x]),pf(()=>{r&&V(!1)},[r,V]),hh(()=>{const nt=G.current;if(!nt?.form)return;const Ee=()=>{he(!!a)};return nt.form.addEventListener("reset",Ee),()=>nt.form?.removeEventListener("reset",Ee)},[]);const re=r&&!v,me=T.useCallback(nt=>{nt.key===" "&&ie(!0)},[ie]),De=T.useCallback(nt=>{nt.key===" "&&ie(!1)},[ie]);hh(()=>{if(!G.current)return;G.current.checked!==M&&he(G.current.checked)},[G.current]);const Ue=T.useCallback((nt={},Ee=null)=>{const at=Gt=>{se&&Gt.preventDefault(),ie(!0)};return{...nt,ref:Ee,"data-active":ss(ae),"data-hover":ss(q),"data-checked":ss(M),"data-focus":ss(se),"data-focus-visible":ss(se&&J.current),"data-indeterminate":ss(x),"data-disabled":ss(r),"data-invalid":ss(l),"data-readonly":ss(s),"aria-hidden":!0,onMouseDown:Ur(nt.onMouseDown,at),onMouseUp:Ur(nt.onMouseUp,()=>ie(!1)),onMouseEnter:Ur(nt.onMouseEnter,()=>le(!0)),onMouseLeave:Ur(nt.onMouseLeave,()=>le(!1))}},[ae,M,r,se,q,x,l,s]),Ne=T.useCallback((nt={},Ee=null)=>({...nt,ref:Ee,"data-active":ss(ae),"data-hover":ss(q),"data-checked":ss(M),"data-focus":ss(se),"data-focus-visible":ss(se&&J.current),"data-indeterminate":ss(x),"data-disabled":ss(r),"data-invalid":ss(l),"data-readonly":ss(s)}),[ae,M,r,se,q,x,l,s]),Ke=T.useCallback((nt={},Ee=null)=>({...Q,...nt,ref:ia(Ee,at=>{at&&pe(at.tagName==="LABEL")}),onClick:Ur(nt.onClick,()=>{W||(G.current?.click(),requestAnimationFrame(()=>{G.current?.focus({preventScroll:!0})}))}),"data-disabled":ss(r),"data-checked":ss(M),"data-invalid":ss(l)}),[Q,r,M,l,W]),rt=T.useCallback((nt={},Ee=null)=>({...nt,ref:ia(G,Ee),type:"checkbox",name:w,value:b,id:d,tabIndex:S,onChange:Ur(nt.onChange,ee),onBlur:Ur(nt.onBlur,k,()=>V(!1)),onFocus:Ur(nt.onFocus,K,()=>V(!0)),onKeyDown:Ur(nt.onKeyDown,me),onKeyUp:Ur(nt.onKeyUp,De),required:i,checked:M,disabled:re,readOnly:s,"aria-label":C,"aria-labelledby":B,"aria-invalid":F?!!F:l,"aria-describedby":h,"aria-disabled":r,"aria-checked":x?"mixed":M,style:YC}),[w,b,d,S,ee,k,K,me,De,i,M,re,s,C,B,F,l,h,r,x]),et=T.useCallback((nt={},Ee=null)=>({...nt,ref:Ee,onMouseDown:Ur(nt.onMouseDown,pX),"data-disabled":ss(r),"data-checked":ss(M),"data-invalid":ss(l)}),[M,r,l]);return{state:{isInvalid:l,isFocused:se,isChecked:M,isActive:ae,isHovered:q,isIndeterminate:x,isDisabled:r,isReadOnly:s,isRequired:i},getRootProps:Ke,getCheckboxProps:Ue,getIndicatorProps:Ne,getInputProps:rt,getLabelProps:et,htmlProps:Q}}function pX(t){t.preventDefault(),t.stopPropagation()}function mX(t){const[n,r]=T.useState(t),[s,i]=T.useState(!1);return t!==n&&(i(!0),r(t)),s}const gX={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},vX={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},xX=wf({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),yX=wf({from:{opacity:0},to:{opacity:1}}),jX=wf({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Xu=cn(function(n,r){const s=JY(),i={...s,...n},l=Za("Checkbox",i),d=ei(n),{spacing:f="0.5rem",className:u,children:h,iconColor:a,iconSize:m,icon:v=e.jsx(nX,{}),isChecked:g,isDisabled:x=s?.isDisabled,onChange:w,inputProps:b,...S}=d;let C=g;s?.value&&d.value&&(C=s.value.includes(d.value));let B=w;s?.onChange&&d.value&&(B=k3(s.onChange,w));const{state:F,getInputProps:N,getCheckboxProps:Q,getLabelProps:z,getRootProps:k}=LL({...S,isDisabled:x,isChecked:C,onChange:B}),K=mX(F.isChecked),se=T.useMemo(()=>({animation:K?F.isIndeterminate?`${yX} 20ms linear, ${jX} 200ms linear`:`${xX} 200ms linear`:void 0,...l.icon,...tx({fontSize:m,color:a})}),[a,m,K,F.isIndeterminate,l.icon]),V=T.cloneElement(v,{__css:se,isIndeterminate:F.isIndeterminate,isChecked:F.isChecked});return e.jsxs(Qt.label,{__css:{...vX,...l.container},className:En("chakra-checkbox",u),...k(),children:[e.jsx("input",{className:"chakra-checkbox__input",...N(b,r)}),e.jsx(Qt.span,{__css:{...gX,...l.control},className:"chakra-checkbox__control",...Q(),children:V}),h&&e.jsx(Qt.span,{className:"chakra-checkbox__label",...z(),__css:{marginStart:f,...l.label},children:h})]})});Xu.displayName="Checkbox";function W4(t){return t&&El(t)&&El(t.target)}function bX(t={}){const{defaultValue:n,value:r,onChange:s,isDisabled:i,isNative:l}=t,d=Fa(s),[f,u]=Pg({value:r,defaultValue:n||[],onChange:d}),h=T.useCallback(m=>{if(!f)return;const v=W4(m)?m.target.checked:!f.includes(m),g=W4(m)?m.target.value:m,x=v?[...f,g]:f.filter(w=>String(w)!==String(g));u(x)},[u,f]),a=T.useCallback((m={})=>({...m,[l?"checked":"isChecked"]:f.some(g=>String(m.value)===String(g)),onChange:h}),[h,l,f]);return{value:f,isDisabled:i,onChange:h,setValue:u,getCheckboxProps:a}}function DL(t){const{colorScheme:n,size:r,variant:s,children:i,isDisabled:l}=t,{value:d,onChange:f}=bX(t),u=T.useMemo(()=>({size:r,onChange:f,colorScheme:n,value:d,variant:s,isDisabled:l}),[r,f,n,d,s,l]);return e.jsx(qY,{value:u,children:i})}DL.displayName="CheckboxGroup";const bg=cn(function(n,r){const s=kc("Code",n),{className:i,...l}=ei(n);return e.jsx(Qt.code,{ref:r,className:En("chakra-code",n.className),...l,__css:{display:"inline-block",...s}})});bg.displayName="Code";const Jc=cn(function(n,r){const{className:s,centerContent:i,...l}=ei(n),d=kc("Container",n);return e.jsx(Qt.div,{ref:r,className:En("chakra-container",s),...l,__css:{...d,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Jc.displayName="Container";const ds=cn(function(n,r){const{borderLeftWidth:s,borderBottomWidth:i,borderTopWidth:l,borderRightWidth:d,borderWidth:f,borderStyle:u,borderColor:h,...a}=kc("Divider",n),{className:m,orientation:v="horizontal",__css:g,...x}=ei(n),w={vertical:{borderLeftWidth:s||d||f||"1px",height:"100%"},horizontal:{borderBottomWidth:i||l||f||"1px",width:"100%"}};return e.jsx(Qt.hr,{ref:r,"aria-orientation":v,...x,__css:{...a,border:"0",borderColor:h,borderStyle:u,...w[v],...g},className:En("chakra-divider",m)})});ds.displayName="Divider";function rv(t){return typeof t=="function"}function wX(...t){return n=>t.reduce((r,s)=>s(r),n)}const SX=t=>function(...r){let s=[...r],i=r[r.length-1];return V7(i)&&s.length>1?s=s.slice(0,s.length-1):i=t,wX(...s.map(l=>d=>rv(l)?l(d):BX(d,l)))(i)},CX=SX(x_);function BX(...t){return Yu({},...t,PL)}function PL(t,n,r,s){if((rv(t)||rv(n))&&Object.prototype.hasOwnProperty.call(s,r))return(...i)=>{const l=rv(t)?t(...i):t,d=rv(n)?n(...i):n;return Yu({},l,d,PL)};if(El(t)&&n2(n)||n2(t)&&El(n))return n}const Ri=cn(function(n,r){const{direction:s,align:i,justify:l,wrap:d,basis:f,grow:u,shrink:h,...a}=n,m={display:"flex",flexDirection:s,alignItems:i,justifyContent:l,flexWrap:d,flexBasis:f,flexGrow:u,flexShrink:h};return e.jsx(Qt.div,{ref:r,__css:m,...a})});Ri.displayName="Flex";function EX(t,n){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(n.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var V2="data-focus-lock",RL="data-focus-lock-disabled",TX="data-no-focus-lock",IX="data-autofocus-inside",_X="data-no-autofocus";function nw(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function FX(t,n){var r=T.useState(function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=n,r.facade}var LX=typeof window<"u"?T.useLayoutEffect:T.useEffect,Y4=new WeakMap;function NL(t,n){var r=FX(null,function(s){return t.forEach(function(i){return nw(i,s)})});return LX(function(){var s=Y4.get(r);if(s){var i=new Set(s),l=new Set(t),d=r.current;i.forEach(function(f){l.has(f)||nw(f,null)}),l.forEach(function(f){i.has(f)||nw(f,d)})}Y4.set(r,t)},[t]),r}var rw={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},md=function(){return md=Object.assign||function(n){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])}return n},md.apply(this,arguments)};function OL(t,n){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)n.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}function DX(t,n,r){if(r||arguments.length===2)for(var s=0,i=n.length,l;s<i;s++)(l||!(s in n))&&(l||(l=Array.prototype.slice.call(n,0,s)),l[s]=n[s]);return t.concat(l||Array.prototype.slice.call(n))}function UL(t){return t}function ML(t,n){n===void 0&&(n=UL);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var d=n(l,s);return r.push(d),function(){r=r.filter(function(f){return f!==d})}},assignSyncMedium:function(l){for(s=!0;r.length;){var d=r;r=[],d.forEach(l)}r={push:function(f){return l(f)},filter:function(){return r}}},assignMedium:function(l){s=!0;var d=[];if(r.length){var f=r;r=[],f.forEach(l),d=r}var u=function(){var a=d;d=[],a.forEach(l)},h=function(){return Promise.resolve().then(u)};h(),r={push:function(a){d.push(a),h()},filter:function(a){return d=d.filter(a),r}}}};return i}function XC(t,n){return n===void 0&&(n=UL),ML(t,n)}function kL(t){t===void 0&&(t={});var n=ML(null);return n.options=md({async:!0,ssr:!1},t),n}var QL=function(t){var n=t.sideCar,r=OL(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return T.createElement(s,md({},r))};QL.isSideCarExport=!0;function PX(t,n){return t.useMedium(n),QL}var zL=XC({},function(t){var n=t.target,r=t.currentTarget;return{target:n,currentTarget:r}}),HL=XC(),RX=XC(),NX=kL({async:!0,ssr:typeof document<"u"}),OX=T.createContext(void 0),UX=[],ZC=T.forwardRef(function(n,r){var s,i=T.useState(),l=i[0],d=i[1],f=T.useRef(),u=T.useRef(!1),h=T.useRef(null),a=T.useState({}),m=a[1],v=n.children,g=n.disabled,x=g===void 0?!1:g,w=n.noFocusGuards,b=w===void 0?!1:w,S=n.persistentFocus,C=S===void 0?!1:S,B=n.crossFrame,F=B===void 0?!0:B,N=n.autoFocus,Q=N===void 0?!0:N;n.allowTextSelection;var z=n.group,k=n.className,K=n.whiteList,se=n.hasPositiveIndices,V=n.shards,q=V===void 0?UX:V,le=n.as,ae=le===void 0?"div":le,ie=n.lockProps,J=ie===void 0?{}:ie,G=n.sideCar,W=n.returnFocus,pe=W===void 0?!1:W,oe=n.focusOptions,he=n.onActivation,$=n.onDeactivation,M=T.useState({}),ee=M[0],re=T.useCallback(function(at){var Gt=at.captureFocusRestore;if(!h.current){var Oe,ce=(Oe=document)==null?void 0:Oe.activeElement;h.current=ce,ce!==document.body&&(h.current=Gt(ce))}f.current&&he&&he(f.current),u.current=!0,m()},[he]),me=T.useCallback(function(){u.current=!1,$&&$(f.current),m()},[$]),De=T.useCallback(function(at){var Gt=h.current;if(Gt){var Oe=(typeof Gt=="function"?Gt():Gt)||document.body,ce=typeof pe=="function"?pe(Oe):pe;if(ce){var ve=typeof ce=="object"?ce:void 0;h.current=null,at?Promise.resolve().then(function(){return Oe.focus(ve)}):Oe.focus(ve)}}},[pe]),Ue=T.useCallback(function(at){u.current&&zL.useMedium(at)},[]),Ne=HL.useMedium,Ke=T.useCallback(function(at){f.current!==at&&(f.current=at,d(at))},[]),rt=Pp((s={},s[RL]=x&&"disabled",s[V2]=z,s),J),et=b!==!0,wt=et&&b!=="tail",nt=NL([r,Ke]),Ee=T.useMemo(function(){return{observed:f,shards:q,enabled:!x,active:u.current}},[x,u.current,q,l]);return xs.createElement(T.Fragment,null,et&&[xs.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:x?-1:0,style:rw}),se?xs.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:x?-1:1,style:rw}):null],!x&&xs.createElement(G,{id:ee,sideCar:NX,observed:l,disabled:x,persistentFocus:C,crossFrame:F,autoFocus:Q,whiteList:K,shards:q,onActivation:re,onDeactivation:me,returnFocus:De,focusOptions:oe,noFocusGuards:b}),xs.createElement(ae,Pp({ref:nt},rt,{className:k,onBlur:Ne,onFocus:Ue}),xs.createElement(OX.Provider,{value:Ee},v)),wt&&xs.createElement("div",{"data-focus-guard":!0,tabIndex:x?-1:0,style:rw}))});ZC.propTypes={};function $2(t,n){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},$2(t,n)}function MX(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,$2(t,n)}function fi(t){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fi(t)}function kX(t,n){if(fi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(fi(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function QX(t){var n=kX(t,"string");return fi(n)=="symbol"?n:n+""}function zX(t,n,r){return(n=QX(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function HX(t,n){function r(s){return s.displayName||s.name||"Component"}return function(i){var l=[],d;function f(){d=t(l.map(function(h){return h.props})),n(d)}var u=(function(h){MX(a,h);function a(){return h.apply(this,arguments)||this}a.peek=function(){return d};var m=a.prototype;return m.componentDidMount=function(){l.push(this),f()},m.componentDidUpdate=function(){f()},m.componentWillUnmount=function(){var g=l.indexOf(this);l.splice(g,1),f()},m.render=function(){return xs.createElement(i,this.props)},a})(T.PureComponent);return zX(u,"displayName","SideEffect("+r(i)+")"),u}}var Id=function(t){for(var n=Array(t.length),r=0;r<t.length;++r)n[r]=t[r];return n},Np=function(t){return Array.isArray(t)?t:[t]},VL=function(t){return Array.isArray(t)?t[0]:t},VX=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},$L=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},GL=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},$X=function(t){return t.hasAttribute("inert")},GX=function(t,n){return!t||GL(t)||!VX(t)&&!$X(t)&&n($L(t))},KL=function(t,n){var r=t.get(n);if(r!==void 0)return r;var s=GX(n,KL.bind(void 0,t));return t.set(n,s),s},KX=function(t,n){return t&&!GL(t)?XX(t)?n($L(t)):!1:!0},WL=function(t,n){var r=t.get(n);if(r!==void 0)return r;var s=KX(n,WL.bind(void 0,t));return t.set(n,s),s},YL=function(t){return t.dataset},WX=function(t){return t.tagName==="BUTTON"},XL=function(t){return t.tagName==="INPUT"},ZL=function(t){return XL(t)&&t.type==="radio"},YX=function(t){return!((XL(t)||WX(t))&&(t.type==="hidden"||t.disabled))},XX=function(t){var n=t.getAttribute(_X);return![!0,"true",""].includes(n)},qC=function(t){var n;return!!(t&&(!((n=YL(t))===null||n===void 0)&&n.focusGuard))},G2=function(t){return!qC(t)},ZX=function(t){return!!t},qX=function(t,n){var r=Math.max(0,t.tabIndex),s=Math.max(0,n.tabIndex),i=r-s,l=t.index-n.index;if(i){if(!r)return 1;if(!s)return-1}return i||l},JX=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},JC=function(t,n,r){return Id(t).map(function(s,i){var l=JX(s);return{node:s,index:i,tabIndex:r&&l===-1?(s.dataset||{}).focusGuard?0:-1:l}}).filter(function(s){return!n||s.tabIndex>=0}).sort(qX)},eZ=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],eB=eZ.join(","),tZ="".concat(eB,", [data-focus-guard]"),qL=function(t,n){return Id((t.shadowRoot||t).children).reduce(function(r,s){return r.concat(s.matches(n?tZ:eB)?[s]:[],qL(s))},[])},nZ=function(t,n){var r;return t instanceof HTMLIFrameElement&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?wg([t.contentDocument.body],n):[t]},wg=function(t,n){return t.reduce(function(r,s){var i,l=qL(s,n),d=(i=[]).concat.apply(i,l.map(function(f){return nZ(f,n)}));return r.concat(d,s.parentNode?Id(s.parentNode.querySelectorAll(eB)).filter(function(f){return f===s}):[])},[])},rZ=function(t){var n=t.querySelectorAll("[".concat(IX,"]"));return Id(n).map(function(r){return wg([r])}).reduce(function(r,s){return r.concat(s)},[])},tB=function(t,n){return Id(t).filter(function(r){return KL(n,r)}).filter(function(r){return YX(r)})},X4=function(t,n){return n===void 0&&(n=new Map),Id(t).filter(function(r){return WL(n,r)})},nB=function(t,n,r){return JC(tB(wg(t,r),n),!0,r)},Hv=function(t,n){return JC(tB(wg(t),n),!1)},sZ=function(t,n){return tB(rZ(t),n)},Sp=function(t,n){return t.shadowRoot?Sp(t.shadowRoot,n):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,n)?!0:Id(t.children).some(function(r){var s;if(r instanceof HTMLIFrameElement){var i=(s=r.contentDocument)===null||s===void 0?void 0:s.body;return i?Sp(i,n):!1}return Sp(r,n)})},iZ=function(t){for(var n=new Set,r=t.length,s=0;s<r;s+=1)for(var i=s+1;i<r;i+=1){var l=t[s].compareDocumentPosition(t[i]);(l&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(i),(l&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(s)}return t.filter(function(d,f){return!n.has(f)})},JL=function(t){return t.parentNode?JL(t.parentNode):t},rB=function(t){var n=Np(t);return n.filter(Boolean).reduce(function(r,s){var i=s.getAttribute(V2);return r.push.apply(r,i?iZ(Id(JL(s).querySelectorAll("[".concat(V2,'="').concat(i,'"]:not([').concat(RL,'="disabled"])')))):[s]),r},[])},oZ=function(t){try{return t()}catch{return}},Vv=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var n=t.activeElement;return n.shadowRoot?Vv(n.shadowRoot):n instanceof HTMLIFrameElement&&oZ(function(){return n.contentWindow.document})?Vv(n.contentWindow.document):n}},aZ=function(t,n){return t===n},lZ=function(t,n){return!!Id(t.querySelectorAll("iframe")).some(function(r){return aZ(r,n)})},eD=function(t,n){return n===void 0&&(n=Vv(VL(t).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:rB(t).some(function(r){return Sp(r,n)||lZ(r,n)})},cZ=function(t){t===void 0&&(t=document);var n=Vv(t);return n?Id(t.querySelectorAll("[".concat(TX,"]"))).some(function(r){return Sp(r,n)}):!1},uZ=function(t,n){return n.filter(ZL).filter(function(r){return r.name===t.name}).filter(function(r){return r.checked})[0]||t},sB=function(t,n){return ZL(t)&&t.name?uZ(t,n):t},AZ=function(t){var n=new Set;return t.forEach(function(r){return n.add(sB(r,t))}),t.filter(function(r){return n.has(r)})},Z4=function(t){return t[0]&&t.length>1?sB(t[0],t):t[0]},q4=function(t,n){return t.indexOf(sB(n,t))},K2="NEW_FOCUS",dZ=function(t,n,r,s,i){var l=t.length,d=t[0],f=t[l-1],u=qC(s);if(!(s&&t.indexOf(s)>=0)){var h=s!==void 0?r.indexOf(s):-1,a=i?r.indexOf(i):h,m=i?t.indexOf(i):-1;if(h===-1)return m!==-1?m:K2;if(m===-1)return K2;var v=h-a,g=r.indexOf(d),x=r.indexOf(f),w=AZ(r),b=s!==void 0?w.indexOf(s):-1,S=i?w.indexOf(i):b,C=w.filter(function(k){return k.tabIndex>=0}),B=s!==void 0?C.indexOf(s):-1,F=i?C.indexOf(i):B,N=B>=0&&F>=0?F-B:S-b;if(!v&&m>=0||n.length===0)return m;var Q=q4(t,n[0]),z=q4(t,n[n.length-1]);if(h<=g&&u&&Math.abs(v)>1)return z;if(h>=x&&u&&Math.abs(v)>1)return Q;if(v&&Math.abs(N)>1)return m;if(h<=g)return z;if(h>x)return Q;if(v)return Math.abs(v)>1?m:(l+m+v)%l}},hZ=function(t){return function(n){var r,s=(r=YL(n))===null||r===void 0?void 0:r.autofocus;return n.autofocus||s!==void 0&&s!=="false"||t.indexOf(n)>=0}},J4=function(t,n,r){var s=t.map(function(l){var d=l.node;return d}),i=X4(s.filter(hZ(r)));return i&&i.length?Z4(i):Z4(X4(n))},W2=function(t,n){return n===void 0&&(n=[]),n.push(t),t.parentNode&&W2(t.parentNode.host||t.parentNode,n),n},sw=function(t,n){for(var r=W2(t),s=W2(n),i=0;i<r.length;i+=1){var l=r[i];if(s.indexOf(l)>=0)return l}return!1},tD=function(t,n,r){var s=Np(t),i=Np(n),l=s[0],d=!1;return i.filter(Boolean).forEach(function(f){d=sw(d||f,f)||d,r.filter(Boolean).forEach(function(u){var h=sw(l,u);h&&(!d||Sp(h,d)?d=h:d=sw(h,d))})}),d},eT=function(t,n){return t.reduce(function(r,s){return r.concat(sZ(s,n))},[])},fZ=function(t,n){var r=new Map;return n.forEach(function(s){return r.set(s.node,s)}),t.map(function(s){return r.get(s)}).filter(ZX)},pZ=function(t,n){var r=Vv(Np(t).length>0?document:VL(t).ownerDocument),s=rB(t).filter(G2),i=tD(r||t,t,s),l=new Map,d=Hv(s,l),f=d.filter(function(x){var w=x.node;return G2(w)});if(f[0]){var u=Hv([i],l).map(function(x){var w=x.node;return w}),h=fZ(u,f),a=h.map(function(x){var w=x.node;return w}),m=h.filter(function(x){var w=x.tabIndex;return w>=0}).map(function(x){var w=x.node;return w}),v=dZ(a,m,u,r,n);if(v===K2){var g=J4(d,m,eT(s,l))||J4(d,a,eT(s,l));if(g)return{node:g};console.warn("focus-lock: cannot find any node to move focus into");return}return v===void 0?v:h[v]}},mZ=function(t){var n=rB(t).filter(G2),r=tD(t,t,n),s=JC(wg([r],!0),!0,!0),i=wg(n,!1);return s.map(function(l){var d=l.node,f=l.index;return{node:d,index:f,lockItem:i.indexOf(d)>=0,guard:qC(d)}})},iB=function(t,n){t&&("focus"in t&&t.focus(n),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},iw=0,ow=!1,nD=function(t,n,r){r===void 0&&(r={});var s=pZ(t,n);if(!ow&&s){if(iw>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),ow=!0,setTimeout(function(){ow=!1},1);return}iw++,iB(s.node,r.focusOptions),iw--}};function O0(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var n=t?new WeakRef(t):null;return function(){return n?.deref()||null}}var gZ=function(t){if(!t)return null;for(var n=[],r=t;r&&r!==document.body;)n.push({current:O0(r),parent:O0(r.parentElement),left:O0(r.previousElementSibling),right:O0(r.nextElementSibling)}),r=r.parentElement;return{element:O0(t),stack:n,ownerDocument:t.ownerDocument}},vZ=function(t){var n,r,s,i,l;if(t)for(var d=t.stack,f=t.ownerDocument,u=new Map,h=0,a=d;h<a.length;h++){var m=a[h],v=(n=m.parent)===null||n===void 0?void 0:n.call(m);if(v&&f.contains(v)){for(var g=(r=m.left)===null||r===void 0?void 0:r.call(m),x=m.current(),w=v.contains(x)?x:void 0,b=(s=m.right)===null||s===void 0?void 0:s.call(m),S=nB([v],u),C=(l=(i=w??g?.nextElementSibling)!==null&&i!==void 0?i:b)!==null&&l!==void 0?l:g;C;){for(var B=0,F=S;B<F.length;B++){var N=F[B];if(C?.contains(N.node))return N.node}C=C.nextElementSibling}if(S.length)return S[0].node}}},rD=function(t){var n=gZ(t);return function(){return vZ(n)}},xZ=function(t,n,r){if(!t||!n)return console.error("no element or scope given"),{};var s=Np(n);if(s.every(function(d){return!Sp(d,t)}))return console.error("Active element is not contained in the scope"),{};var i=r?nB(s,new Map):Hv(s,new Map),l=i.findIndex(function(d){var f=d.node;return f===t});if(l!==-1)return{prev:i[l-1],next:i[l+1],first:i[0],last:i[i.length-1]}},yZ=function(t,n){var r=n?nB(Np(t),new Map):Hv(Np(t),new Map);return{first:r[0],last:r[r.length-1]}},jZ=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},sD=function(t,n,r){n===void 0&&(n={});var s=jZ(n),i=xZ(t,s.scope,s.onlyTabbable);if(i){var l=r(i,s.cycle);l&&iB(l.node,s.focusOptions)}},bZ=function(t,n){n===void 0&&(n={}),sD(t,n,function(r,s){var i=r.next,l=r.first;return i||s&&l})},wZ=function(t,n){n===void 0&&(n={}),sD(t,n,function(r,s){var i=r.prev,l=r.last;return i||s&&l})},iD=function(t,n,r){var s,i=yZ(t,(s=n.onlyTabbable)!==null&&s!==void 0?s:!0),l=i[r];l&&iB(l.node,n.focusOptions)},SZ=function(t,n){n===void 0&&(n={}),iD(t,n,"first")},CZ=function(t,n){n===void 0&&(n={}),iD(t,n,"last")};function oB(t){setTimeout(t,1)}var BZ=function(n){return n&&"current"in n?n.current:n},oD=function(){return document&&document.activeElement===document.body},EZ=function(){return oD()||cZ()},cg=null,Xc=null,tT=function(){return null},ug=null,$v=!1,aB=!1,TZ=function(){return!0},IZ=function(n){return(cg.whiteList||TZ)(n)},_Z=function(n,r){ug={observerNode:n,portaledElement:r}},FZ=function(n){return ug&&ug.portaledElement===n};function nT(t,n,r,s){var i=null,l=t;do{var d=s[l];if(d.guard)d.node.dataset.focusAutoGuard&&(i=d);else if(d.lockItem){if(l!==t)return;i=null}else break}while((l+=r)!==n);i&&(i.node.tabIndex=0)}var LZ=function(n){return n?!!$v:$v==="meanwhile"},DZ=function t(n,r,s){return r&&(r.host===n&&(!r.activeElement||s.contains(r.activeElement))||r.parentNode&&t(n,r.parentNode,s))},PZ=function(n,r){return r.some(function(s){return DZ(n,s,s)})},aD=function(n){return Hv(n,new Map)},RZ=function(n){return!aD([n.parentNode]).some(function(r){return r.node===n})},Bj=function(){var n=!1;if(cg){var r=cg,s=r.observed,i=r.persistentFocus,l=r.autoFocus,d=r.shards,f=r.crossFrame,u=r.focusOptions,h=r.noFocusGuards,a=s||ug&&ug.portaledElement;if(oD()&&Xc&&Xc!==document.body&&(!document.body.contains(Xc)||RZ(Xc))){var m=tT();m&&m.focus()}var v=document&&document.activeElement;if(a){var g=[a].concat(d.map(BZ).filter(Boolean)),x=function(){if(!LZ(f)||!h||!Xc||aB)return!1;var B=aD(g),F=B.findIndex(function(N){var Q=N.node;return Q===Xc});return F===0||F===B.length-1};if((!v||IZ(v))&&(i||x()||!EZ()||!Xc&&l)&&(a&&!(eD(g)||v&&PZ(v,g)||FZ(v))&&(document&&!Xc&&v&&!l?(v.blur&&v.blur(),document.body.focus()):(n=nD(g,Xc,{focusOptions:u}),ug={})),Xc=document&&document.activeElement,Xc!==document.body&&(tT=rD(Xc)),$v=!1),document&&v!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var w=document&&document.activeElement,b=mZ(g),S=b.map(function(C){var B=C.node;return B}).indexOf(w);S>-1&&(b.filter(function(C){var B=C.guard,F=C.node;return B&&F.dataset.focusAutoGuard}).forEach(function(C){var B=C.node;return B.removeAttribute("tabIndex")}),nT(S,b.length,1,b),nT(S,-1,-1,b))}}}return n},lD=function(n){Bj()&&n&&(n.stopPropagation(),n.preventDefault())},lB=function(){return oB(Bj)},NZ=function(n){var r=n.target,s=n.currentTarget;s.contains(r)||_Z(s,r)},OZ=function(){return null},cD=function(){aB=!0},uD=function(){aB=!1,$v="just",oB(function(){$v="meanwhile"})},UZ=function(){document.addEventListener("focusin",lD),document.addEventListener("focusout",lB),window.addEventListener("focus",cD),window.addEventListener("blur",uD)},MZ=function(){document.removeEventListener("focusin",lD),document.removeEventListener("focusout",lB),window.removeEventListener("focus",cD),window.removeEventListener("blur",uD)};function kZ(t){return t.filter(function(n){var r=n.disabled;return!r})}var AD={moveFocusInside:nD,focusInside:eD,focusNextElement:bZ,focusPrevElement:wZ,focusFirstElement:SZ,focusLastElement:CZ,captureFocusRestore:rD};function QZ(t){var n=t.slice(-1)[0];n&&!cg&&UZ();var r=cg,s=r&&n&&n.id===r.id;cg=n,r&&!s&&(r.onDeactivation(),t.filter(function(i){var l=i.id;return l===r.id}).length||r.returnFocus(!n)),n?(Xc=null,(!s||r.observed!==n.observed)&&n.onActivation(AD),Bj(),oB(Bj)):(MZ(),Xc=null)}zL.assignSyncMedium(NZ);HL.assignMedium(lB);RX.assignMedium(function(t){return t(AD)});const zZ=HX(kZ,QZ)(OZ);var Y2=T.forwardRef(function(n,r){return xs.createElement(ZC,Pp({sideCar:zZ,ref:r},n))}),dD=ZC.propTypes||{};dD.sideCar;EX(dD,["sideCar"]);Y2.propTypes={};const HZ=Y2.default??Y2,hD=t=>{const{initialFocusRef:n,finalFocusRef:r,contentRef:s,restoreFocus:i,children:l,isDisabled:d,autoFocus:f,persistentFocus:u,lockFocusAcrossFrames:h}=t,a=T.useCallback(()=>{n?.current?n.current.focus():s?.current&&kU(s.current).length===0&&requestAnimationFrame(()=>{s.current?.focus()})},[n,s]),m=T.useCallback(()=>{r?.current?.focus()},[r]),v=i&&!r;return e.jsx(HZ,{crossFrame:h,persistentFocus:u,autoFocus:f,disabled:d,onActivation:a,onDeactivation:m,returnFocus:v,children:l})};hD.displayName="FocusLock";const je=cn(function(n,r){const s=kc("FormLabel",n),i=ei(n),{className:l,children:d,requiredIndicator:f=e.jsx(fD,{}),optionalIndicator:u=null,...h}=i,a=l1(),m=a?.getLabelProps(h,r)??{ref:r,...h};return e.jsxs(Qt.label,{...m,className:En("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...s},children:[d,a?.isRequired?f:u]})});je.displayName="FormLabel";const fD=cn(function(n,r){const s=l1(),i=FL();if(!s?.isRequired)return null;const l=En("chakra-form__required-indicator",n.className);return e.jsx(Qt.span,{...s?.getRequiredIndicatorProps(n,r),__css:i.requiredIndicator,className:l})});fD.displayName="RequiredIndicator";const yc=cn(function(n,r){const{templateAreas:s,gap:i,rowGap:l,columnGap:d,column:f,row:u,autoFlow:h,autoRows:a,templateRows:m,autoColumns:v,templateColumns:g,...x}=n,w={display:"grid",gridTemplateAreas:s,gridGap:i,gridRowGap:l,gridColumnGap:d,gridAutoColumns:v,gridColumn:f,gridRow:u,gridAutoFlow:h,gridAutoRows:a,gridTemplateRows:m,gridTemplateColumns:g};return e.jsx(Qt.div,{ref:r,__css:w,...x})});yc.displayName="Grid";function rT(t){return Hj(t,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const Op=cn(function(n,r){const{area:s,colSpan:i,colStart:l,colEnd:d,rowEnd:f,rowSpan:u,rowStart:h,...a}=n,m=tx({gridArea:s,gridColumn:rT(i),gridRow:rT(u),gridColumnStart:l,gridColumnEnd:d,gridRowStart:h,gridRowEnd:f});return e.jsx(Qt.div,{ref:r,__css:m,...a})});Op.displayName="GridItem";const Sn=cn(function(n,r){const{columns:s,spacingX:i,spacingY:l,spacing:d,minChildWidth:f,...u}=n,h=Bf(),a=f?$Z(f,h):GZ(s);return e.jsx(yc,{ref:r,gap:d,columnGap:i,rowGap:l,templateColumns:a,...u})});Sn.displayName="SimpleGrid";function VZ(t){return typeof t=="number"?`${t}px`:t}function $Z(t,n){return Hj(t,r=>{const s=ZW("sizes",r,VZ(r))(n);return r===null?null:`repeat(auto-fit, minmax(${s}, 1fr))`})}function GZ(t){return Hj(t,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}function Ef(t){const{viewBox:n="0 0 24 24",d:r,displayName:s,defaultProps:i={}}=t,l=T.Children.toArray(t.path),d=cn((f,u)=>e.jsx(ws,{ref:u,viewBox:n,...i,...f,children:l.length?l:e.jsx("path",{fill:"currentColor",d:r})}));return d.displayName=s,d}const X2=cn(function(n,r){const{htmlWidth:s,htmlHeight:i,alt:l,...d}=n;return e.jsx("img",{width:s,height:i,ref:r,alt:l,...d})});X2.displayName="NativeImage";const Cu=cn(function(n,r){const{fallbackSrc:s,fallback:i,src:l,srcSet:d,align:f,fit:u,loading:h,ignoreFallback:a,crossOrigin:m,fallbackStrategy:v="beforeLoadOrError",referrerPolicy:g,...x}=n,w=s!==void 0||i!==void 0,b=h!=null||a||!w,S=EL({...n,crossOrigin:m,ignoreFallback:b}),C=zY(S,v),B={ref:r,objectFit:u,objectPosition:f,...b?x:nx(x,["onError","onLoad"])};return C?i||e.jsx(Qt.img,{as:X2,className:"chakra-image__placeholder",src:s,...B}):e.jsx(Qt.img,{as:X2,src:l,srcSet:d,crossOrigin:m,loading:h,referrerPolicy:g,className:"chakra-image",...B})});Cu.displayName="Image";const Xe=cn(function(n,r){const{htmlSize:s,...i}=n,l=Za("Input",i),d=ei(i),f=KC(d),u=En("chakra-input",n.className);return e.jsx(Qt.input,{size:s,...f,__css:l.field,ref:r,className:u})});Xe.displayName="Input";Xe.id="Input";const[KZ,WZ]=Ws({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Up=cn(function(n,r){const s=Za("Input",n),{children:i,className:l,...d}=ei(n),f=En("chakra-input__group",l),u={},h=bf(i),a=s.field;h.forEach(v=>{s&&(a&&v.type.id==="InputLeftElement"&&(u.paddingStart=a.height??a.h),a&&v.type.id==="InputRightElement"&&(u.paddingEnd=a.height??a.h),v.type.id==="InputRightAddon"&&(u.borderEndRadius=0),v.type.id==="InputLeftAddon"&&(u.borderStartRadius=0))});const m=h.map(v=>{const g=tx({size:v.props?.size||n.size,variant:v.props?.variant||n.variant});return v.type.id!=="Input"?T.cloneElement(v,g):T.cloneElement(v,Object.assign(g,u,v.props))});return e.jsx(Qt.div,{className:f,ref:r,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...s.group},"data-group":!0,...d,children:e.jsx(KZ,{value:s,children:m})})});Up.displayName="InputGroup";const YZ=Qt("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),c1=cn(function(n,r){const{placement:s="left",...i}=n,l=WZ(),d=l.field,u={[s==="left"?"insetStart":"insetEnd"]:"0",width:d?.height??d?.h,height:d?.height??d?.h,fontSize:d?.fontSize,...l.element};return e.jsx(YZ,{ref:r,__css:u,...i})});c1.id="InputElement";c1.displayName="InputElement";const Mp=cn(function(n,r){const{className:s,...i}=n,l=En("chakra-input__left-element",s);return e.jsx(c1,{ref:r,placement:"left",className:l,...i})});Mp.id="InputLeftElement";Mp.displayName="InputLeftElement";const cB=cn(function(n,r){const{className:s,...i}=n,l=En("chakra-input__right-element",s);return e.jsx(c1,{ref:r,placement:"right",className:l,...i})});cB.id="InputRightElement";cB.displayName="InputRightElement";const uB=cn(function(n,r){const s=kc("Link",n),{className:i,isExternal:l,...d}=ei(n);return e.jsx(Qt.a,{target:l?"_blank":void 0,rel:l?"noopener":void 0,ref:r,className:En("chakra-link",i),...d,__css:s})});uB.displayName="Link";const[XZ,pD]=Ws({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),u1=cn(function(n,r){const s=Za("List",n),{children:i,styleType:l="none",stylePosition:d,spacing:f,...u}=ei(n),h=bf(i),m=f?{"& > *:not(style) ~ *:not(style)":{mt:f}}:{};return e.jsx(XZ,{value:s,children:e.jsx(Qt.ul,{ref:r,listStyleType:l,listStylePosition:d,role:"list",__css:{...s.container,...m},...u,children:h})})});u1.displayName="List";const ZZ=cn((t,n)=>{const{as:r,...s}=t;return e.jsx(u1,{ref:n,as:"ol",styleType:"decimal",marginStart:"1em",...s})});ZZ.displayName="OrderedList";const qZ=cn(function(n,r){const{as:s,...i}=n;return e.jsx(u1,{ref:r,as:"ul",styleType:"initial",marginStart:"1em",...i})});qZ.displayName="UnorderedList";const mD=cn(function(n,r){const s=pD();return e.jsx(Qt.li,{ref:r,...n,__css:s.item})});mD.displayName="ListItem";const JZ=cn(function(n,r){const s=pD();return e.jsx(ws,{ref:r,role:"presentation",...n,__css:s.icon})});JZ.displayName="ListIcon";function gD(t,n={}){const{ssr:r=!0,fallback:s}=n,{getWindow:i}=eV(),l=Array.isArray(t)?t:[t];let d=Array.isArray(s)?s:[s];d=d.filter(h=>h!=null);const[f,u]=T.useState(()=>l.map((h,a)=>({media:h,matches:r?!!d[a]:i().matchMedia(h).matches})));return T.useEffect(()=>{const h=i();u(l.map(v=>({media:v,matches:h.matchMedia(v).matches})));const a=l.map(v=>h.matchMedia(v)),m=v=>{u(g=>g.slice().map(x=>x.media===v.media?{...x,matches:v.matches}:x))};return a.forEach(v=>{typeof v.addListener=="function"?v.addListener(m):v.addEventListener("change",m)}),()=>{a.forEach(v=>{typeof v.removeListener=="function"?v.removeListener(m):v.removeEventListener("change",m)})}},[i]),f.map(h=>h.matches)}function eq(t){const n=El(t)?t:{fallback:t??"base"},s=Bf().__breakpoints.details.map(({minMaxQuery:f,breakpoint:u})=>({breakpoint:u,query:f.replace("@media screen and ","")})),i=s.map(f=>f.breakpoint===n.fallback),d=gD(s.map(f=>f.query),{fallback:i,ssr:n.ssr}).findIndex(f=>f==!0);return s[d]?.breakpoint??n.fallback}function tq(t,n,r=G3){let s=Object.keys(t).indexOf(n);if(s!==-1)return t[n];let i=r.indexOf(n);for(;i>=0;){const l=r[i];if(t.hasOwnProperty(l)){s=i;break}i-=1}if(s!==-1){const l=r[s];return t[l]}}function vD(t,n){const r=El(n)?n:{fallback:"base"},s=eq(r),i=Bf();if(!s)return;const l=Array.from(i.__breakpoints?.keys||[]),d=Array.isArray(t)?Object.fromEntries(Object.entries(GU(t,l)).map(([f,u])=>[f,u])):t;return tq(d,s,l)}function nq(t,n,r,s){if(n==null)return s;if(!s)return t.find(d=>r(d).toLowerCase().startsWith(n.toLowerCase()));const i=t.filter(l=>r(l).toLowerCase().startsWith(n.toLowerCase()));if(i.length>0){let l;return i.includes(s)?(l=i.indexOf(s)+1,l===i.length&&(l=0),i[l]):(l=t.indexOf(i[0]),t[l])}return s}function rq(t){const{key:n}=t;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function sq(t={}){const{timeout:n=300,preventDefault:r=()=>!0}=t,[s,i]=T.useState([]),l=T.useRef(void 0),d=()=>{l.current&&(clearTimeout(l.current),l.current=null)},f=()=>{d(),l.current=setTimeout(()=>{i([]),l.current=null},n)};T.useEffect(()=>d,[]);function u(h){return a=>{if(a.key==="Backspace"){const m=[...s];m.pop(),i(m);return}if(rq(a)){const m=s.concat(a.key);r(a)&&(a.preventDefault(),a.stopPropagation()),i(m),h(m.join("")),f()}}}return u}var eu="top",Ju="bottom",eA="right",tu="left",AB="auto",hx=[eu,Ju,eA,tu],Sg="start",Gv="end",iq="clippingParents",xD="viewport",U0="popper",oq="reference",sT=hx.reduce(function(t,n){return t.concat([n+"-"+Sg,n+"-"+Gv])},[]),yD=[].concat(hx,[AB]).reduce(function(t,n){return t.concat([n,n+"-"+Sg,n+"-"+Gv])},[]),aq="beforeRead",lq="read",cq="afterRead",uq="beforeMain",Aq="main",dq="afterMain",hq="beforeWrite",fq="write",pq="afterWrite",mq=[aq,lq,cq,uq,Aq,dq,hq,fq,pq];function Bd(t){return t?(t.nodeName||"").toLowerCase():null}function Bu(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function kp(t){var n=Bu(t).Element;return t instanceof n||t instanceof Element}function Zu(t){var n=Bu(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function dB(t){if(typeof ShadowRoot>"u")return!1;var n=Bu(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function gq(t){var n=t.state;Object.keys(n.elements).forEach(function(r){var s=n.styles[r]||{},i=n.attributes[r]||{},l=n.elements[r];!Zu(l)||!Bd(l)||(Object.assign(l.style,s),Object.keys(i).forEach(function(d){var f=i[d];f===!1?l.removeAttribute(d):l.setAttribute(d,f===!0?"":f)}))})}function vq(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(s){var i=n.elements[s],l=n.attributes[s]||{},d=Object.keys(n.styles.hasOwnProperty(s)?n.styles[s]:r[s]),f=d.reduce(function(u,h){return u[h]="",u},{});!Zu(i)||!Bd(i)||(Object.assign(i.style,f),Object.keys(l).forEach(function(u){i.removeAttribute(u)}))})}}const xq={name:"applyStyles",enabled:!0,phase:"write",fn:gq,effect:vq,requires:["computeStyles"]};function wd(t){return t.split("-")[0]}var Cp=Math.max,Ej=Math.min,Cg=Math.round;function Z2(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function jD(){return!/^((?!chrome|android).)*safari/i.test(Z2())}function Bg(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var s=t.getBoundingClientRect(),i=1,l=1;n&&Zu(t)&&(i=t.offsetWidth>0&&Cg(s.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Cg(s.height)/t.offsetHeight||1);var d=kp(t)?Bu(t):window,f=d.visualViewport,u=!jD()&&r,h=(s.left+(u&&f?f.offsetLeft:0))/i,a=(s.top+(u&&f?f.offsetTop:0))/l,m=s.width/i,v=s.height/l;return{width:m,height:v,top:a,right:h+m,bottom:a+v,left:h,x:h,y:a}}function hB(t){var n=Bg(t),r=t.offsetWidth,s=t.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-s)<=1&&(s=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:s}}function bD(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&dB(r)){var s=n;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Sh(t){return Bu(t).getComputedStyle(t)}function yq(t){return["table","td","th"].indexOf(Bd(t))>=0}function Tf(t){return((kp(t)?t.ownerDocument:t.document)||window.document).documentElement}function A1(t){return Bd(t)==="html"?t:t.assignedSlot||t.parentNode||(dB(t)?t.host:null)||Tf(t)}function iT(t){return!Zu(t)||Sh(t).position==="fixed"?null:t.offsetParent}function jq(t){var n=/firefox/i.test(Z2()),r=/Trident/i.test(Z2());if(r&&Zu(t)){var s=Sh(t);if(s.position==="fixed")return null}var i=A1(t);for(dB(i)&&(i=i.host);Zu(i)&&["html","body"].indexOf(Bd(i))<0;){var l=Sh(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||n&&l.willChange==="filter"||n&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function fx(t){for(var n=Bu(t),r=iT(t);r&&yq(r)&&Sh(r).position==="static";)r=iT(r);return r&&(Bd(r)==="html"||Bd(r)==="body"&&Sh(r).position==="static")?n:r||jq(t)||n}function fB(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xv(t,n,r){return Cp(t,Ej(n,r))}function bq(t,n,r){var s=xv(t,n,r);return s>r?r:s}function wD(){return{top:0,right:0,bottom:0,left:0}}function SD(t){return Object.assign({},wD(),t)}function CD(t,n){return n.reduce(function(r,s){return r[s]=t,r},{})}var wq=function(n,r){return n=typeof n=="function"?n(Object.assign({},r.rects,{placement:r.placement})):n,SD(typeof n!="number"?n:CD(n,hx))};function Sq(t){var n,r=t.state,s=t.name,i=t.options,l=r.elements.arrow,d=r.modifiersData.popperOffsets,f=wd(r.placement),u=fB(f),h=[tu,eA].indexOf(f)>=0,a=h?"height":"width";if(!(!l||!d)){var m=wq(i.padding,r),v=hB(l),g=u==="y"?eu:tu,x=u==="y"?Ju:eA,w=r.rects.reference[a]+r.rects.reference[u]-d[u]-r.rects.popper[a],b=d[u]-r.rects.reference[u],S=fx(l),C=S?u==="y"?S.clientHeight||0:S.clientWidth||0:0,B=w/2-b/2,F=m[g],N=C-v[a]-m[x],Q=C/2-v[a]/2+B,z=xv(F,Q,N),k=u;r.modifiersData[s]=(n={},n[k]=z,n.centerOffset=z-Q,n)}}function Cq(t){var n=t.state,r=t.options,s=r.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=n.elements.popper.querySelector(i),!i)||bD(n.elements.popper,i)&&(n.elements.arrow=i))}const Bq={name:"arrow",enabled:!0,phase:"main",fn:Sq,effect:Cq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Eg(t){return t.split("-")[1]}var Eq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tq(t,n){var r=t.x,s=t.y,i=n.devicePixelRatio||1;return{x:Cg(r*i)/i||0,y:Cg(s*i)/i||0}}function oT(t){var n,r=t.popper,s=t.popperRect,i=t.placement,l=t.variation,d=t.offsets,f=t.position,u=t.gpuAcceleration,h=t.adaptive,a=t.roundOffsets,m=t.isFixed,v=d.x,g=v===void 0?0:v,x=d.y,w=x===void 0?0:x,b=typeof a=="function"?a({x:g,y:w}):{x:g,y:w};g=b.x,w=b.y;var S=d.hasOwnProperty("x"),C=d.hasOwnProperty("y"),B=tu,F=eu,N=window;if(h){var Q=fx(r),z="clientHeight",k="clientWidth";if(Q===Bu(r)&&(Q=Tf(r),Sh(Q).position!=="static"&&f==="absolute"&&(z="scrollHeight",k="scrollWidth")),Q=Q,i===eu||(i===tu||i===eA)&&l===Gv){F=Ju;var K=m&&Q===N&&N.visualViewport?N.visualViewport.height:Q[z];w-=K-s.height,w*=u?1:-1}if(i===tu||(i===eu||i===Ju)&&l===Gv){B=eA;var se=m&&Q===N&&N.visualViewport?N.visualViewport.width:Q[k];g-=se-s.width,g*=u?1:-1}}var V=Object.assign({position:f},h&&Eq),q=a===!0?Tq({x:g,y:w},Bu(r)):{x:g,y:w};if(g=q.x,w=q.y,u){var le;return Object.assign({},V,(le={},le[F]=C?"0":"",le[B]=S?"0":"",le.transform=(N.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",le))}return Object.assign({},V,(n={},n[F]=C?w+"px":"",n[B]=S?g+"px":"",n.transform="",n))}function Iq(t){var n=t.state,r=t.options,s=r.gpuAcceleration,i=s===void 0?!0:s,l=r.adaptive,d=l===void 0?!0:l,f=r.roundOffsets,u=f===void 0?!0:f,h={placement:wd(n.placement),variation:Eg(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,oT(Object.assign({},h,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:u})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,oT(Object.assign({},h,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const _q={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Iq,data:{}};var py={passive:!0};function Fq(t){var n=t.state,r=t.instance,s=t.options,i=s.scroll,l=i===void 0?!0:i,d=s.resize,f=d===void 0?!0:d,u=Bu(n.elements.popper),h=[].concat(n.scrollParents.reference,n.scrollParents.popper);return l&&h.forEach(function(a){a.addEventListener("scroll",r.update,py)}),f&&u.addEventListener("resize",r.update,py),function(){l&&h.forEach(function(a){a.removeEventListener("scroll",r.update,py)}),f&&u.removeEventListener("resize",r.update,py)}}const Lq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Fq,data:{}};var Dq={left:"right",right:"left",bottom:"top",top:"bottom"};function sj(t){return t.replace(/left|right|bottom|top/g,function(n){return Dq[n]})}var Pq={start:"end",end:"start"};function aT(t){return t.replace(/start|end/g,function(n){return Pq[n]})}function pB(t){var n=Bu(t),r=n.pageXOffset,s=n.pageYOffset;return{scrollLeft:r,scrollTop:s}}function mB(t){return Bg(Tf(t)).left+pB(t).scrollLeft}function Rq(t,n){var r=Bu(t),s=Tf(t),i=r.visualViewport,l=s.clientWidth,d=s.clientHeight,f=0,u=0;if(i){l=i.width,d=i.height;var h=jD();(h||!h&&n==="fixed")&&(f=i.offsetLeft,u=i.offsetTop)}return{width:l,height:d,x:f+mB(t),y:u}}function Nq(t){var n,r=Tf(t),s=pB(t),i=(n=t.ownerDocument)==null?void 0:n.body,l=Cp(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=Cp(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-s.scrollLeft+mB(t),u=-s.scrollTop;return Sh(i||r).direction==="rtl"&&(f+=Cp(r.clientWidth,i?i.clientWidth:0)-l),{width:l,height:d,x:f,y:u}}function gB(t){var n=Sh(t),r=n.overflow,s=n.overflowX,i=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+s)}function BD(t){return["html","body","#document"].indexOf(Bd(t))>=0?t.ownerDocument.body:Zu(t)&&gB(t)?t:BD(A1(t))}function yv(t,n){var r;n===void 0&&(n=[]);var s=BD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),l=Bu(s),d=i?[l].concat(l.visualViewport||[],gB(s)?s:[]):s,f=n.concat(d);return i?f:f.concat(yv(A1(d)))}function q2(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Oq(t,n){var r=Bg(t,!1,n==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function lT(t,n,r){return n===xD?q2(Rq(t,r)):kp(n)?Oq(n,r):q2(Nq(Tf(t)))}function Uq(t){var n=yv(A1(t)),r=["absolute","fixed"].indexOf(Sh(t).position)>=0,s=r&&Zu(t)?fx(t):t;return kp(s)?n.filter(function(i){return kp(i)&&bD(i,s)&&Bd(i)!=="body"}):[]}function Mq(t,n,r,s){var i=n==="clippingParents"?Uq(t):[].concat(n),l=[].concat(i,[r]),d=l[0],f=l.reduce(function(u,h){var a=lT(t,h,s);return u.top=Cp(a.top,u.top),u.right=Ej(a.right,u.right),u.bottom=Ej(a.bottom,u.bottom),u.left=Cp(a.left,u.left),u},lT(t,d,s));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function ED(t){var n=t.reference,r=t.element,s=t.placement,i=s?wd(s):null,l=s?Eg(s):null,d=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,u;switch(i){case eu:u={x:d,y:n.y-r.height};break;case Ju:u={x:d,y:n.y+n.height};break;case eA:u={x:n.x+n.width,y:f};break;case tu:u={x:n.x-r.width,y:f};break;default:u={x:n.x,y:n.y}}var h=i?fB(i):null;if(h!=null){var a=h==="y"?"height":"width";switch(l){case Sg:u[h]=u[h]-(n[a]/2-r[a]/2);break;case Gv:u[h]=u[h]+(n[a]/2-r[a]/2);break}}return u}function Kv(t,n){n===void 0&&(n={});var r=n,s=r.placement,i=s===void 0?t.placement:s,l=r.strategy,d=l===void 0?t.strategy:l,f=r.boundary,u=f===void 0?iq:f,h=r.rootBoundary,a=h===void 0?xD:h,m=r.elementContext,v=m===void 0?U0:m,g=r.altBoundary,x=g===void 0?!1:g,w=r.padding,b=w===void 0?0:w,S=SD(typeof b!="number"?b:CD(b,hx)),C=v===U0?oq:U0,B=t.rects.popper,F=t.elements[x?C:v],N=Mq(kp(F)?F:F.contextElement||Tf(t.elements.popper),u,a,d),Q=Bg(t.elements.reference),z=ED({reference:Q,element:B,placement:i}),k=q2(Object.assign({},B,z)),K=v===U0?k:Q,se={top:N.top-K.top+S.top,bottom:K.bottom-N.bottom+S.bottom,left:N.left-K.left+S.left,right:K.right-N.right+S.right},V=t.modifiersData.offset;if(v===U0&&V){var q=V[i];Object.keys(se).forEach(function(le){var ae=[eA,Ju].indexOf(le)>=0?1:-1,ie=[eu,Ju].indexOf(le)>=0?"y":"x";se[le]+=q[ie]*ae})}return se}function kq(t,n){n===void 0&&(n={});var r=n,s=r.placement,i=r.boundary,l=r.rootBoundary,d=r.padding,f=r.flipVariations,u=r.allowedAutoPlacements,h=u===void 0?yD:u,a=Eg(s),m=a?f?sT:sT.filter(function(x){return Eg(x)===a}):hx,v=m.filter(function(x){return h.indexOf(x)>=0});v.length===0&&(v=m);var g=v.reduce(function(x,w){return x[w]=Kv(t,{placement:w,boundary:i,rootBoundary:l,padding:d})[wd(w)],x},{});return Object.keys(g).sort(function(x,w){return g[x]-g[w]})}function Qq(t){if(wd(t)===AB)return[];var n=sj(t);return[aT(t),n,aT(n)]}function zq(t){var n=t.state,r=t.options,s=t.name;if(!n.modifiersData[s]._skip){for(var i=r.mainAxis,l=i===void 0?!0:i,d=r.altAxis,f=d===void 0?!0:d,u=r.fallbackPlacements,h=r.padding,a=r.boundary,m=r.rootBoundary,v=r.altBoundary,g=r.flipVariations,x=g===void 0?!0:g,w=r.allowedAutoPlacements,b=n.options.placement,S=wd(b),C=S===b,B=u||(C||!x?[sj(b)]:Qq(b)),F=[b].concat(B).reduce(function(ee,re){return ee.concat(wd(re)===AB?kq(n,{placement:re,boundary:a,rootBoundary:m,padding:h,flipVariations:x,allowedAutoPlacements:w}):re)},[]),N=n.rects.reference,Q=n.rects.popper,z=new Map,k=!0,K=F[0],se=0;se<F.length;se++){var V=F[se],q=wd(V),le=Eg(V)===Sg,ae=[eu,Ju].indexOf(q)>=0,ie=ae?"width":"height",J=Kv(n,{placement:V,boundary:a,rootBoundary:m,altBoundary:v,padding:h}),G=ae?le?eA:tu:le?Ju:eu;N[ie]>Q[ie]&&(G=sj(G));var W=sj(G),pe=[];if(l&&pe.push(J[q]<=0),f&&pe.push(J[G]<=0,J[W]<=0),pe.every(function(ee){return ee})){K=V,k=!1;break}z.set(V,pe)}if(k)for(var oe=x?3:1,he=function(re){var me=F.find(function(De){var Ue=z.get(De);if(Ue)return Ue.slice(0,re).every(function(Ne){return Ne})});if(me)return K=me,"break"},$=oe;$>0;$--){var M=he($);if(M==="break")break}n.placement!==K&&(n.modifiersData[s]._skip=!0,n.placement=K,n.reset=!0)}}const Hq={name:"flip",enabled:!0,phase:"main",fn:zq,requiresIfExists:["offset"],data:{_skip:!1}};function cT(t,n,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function uT(t){return[eu,eA,Ju,tu].some(function(n){return t[n]>=0})}function Vq(t){var n=t.state,r=t.name,s=n.rects.reference,i=n.rects.popper,l=n.modifiersData.preventOverflow,d=Kv(n,{elementContext:"reference"}),f=Kv(n,{altBoundary:!0}),u=cT(d,s),h=cT(f,i,l),a=uT(u),m=uT(h);n.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:a,hasPopperEscaped:m},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":m})}const $q={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vq};function Gq(t,n,r){var s=wd(t),i=[tu,eu].indexOf(s)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},n,{placement:t})):r,d=l[0],f=l[1];return d=d||0,f=(f||0)*i,[tu,eA].indexOf(s)>=0?{x:f,y:d}:{x:d,y:f}}function Kq(t){var n=t.state,r=t.options,s=t.name,i=r.offset,l=i===void 0?[0,0]:i,d=yD.reduce(function(a,m){return a[m]=Gq(m,n.rects,l),a},{}),f=d[n.placement],u=f.x,h=f.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=u,n.modifiersData.popperOffsets.y+=h),n.modifiersData[s]=d}const Wq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kq};function Yq(t){var n=t.state,r=t.name;n.modifiersData[r]=ED({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const Xq={name:"popperOffsets",enabled:!0,phase:"read",fn:Yq,data:{}};function Zq(t){return t==="x"?"y":"x"}function qq(t){var n=t.state,r=t.options,s=t.name,i=r.mainAxis,l=i===void 0?!0:i,d=r.altAxis,f=d===void 0?!1:d,u=r.boundary,h=r.rootBoundary,a=r.altBoundary,m=r.padding,v=r.tether,g=v===void 0?!0:v,x=r.tetherOffset,w=x===void 0?0:x,b=Kv(n,{boundary:u,rootBoundary:h,padding:m,altBoundary:a}),S=wd(n.placement),C=Eg(n.placement),B=!C,F=fB(S),N=Zq(F),Q=n.modifiersData.popperOffsets,z=n.rects.reference,k=n.rects.popper,K=typeof w=="function"?w(Object.assign({},n.rects,{placement:n.placement})):w,se=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),V=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,q={x:0,y:0};if(Q){if(l){var le,ae=F==="y"?eu:tu,ie=F==="y"?Ju:eA,J=F==="y"?"height":"width",G=Q[F],W=G+b[ae],pe=G-b[ie],oe=g?-k[J]/2:0,he=C===Sg?z[J]:k[J],$=C===Sg?-k[J]:-z[J],M=n.elements.arrow,ee=g&&M?hB(M):{width:0,height:0},re=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:wD(),me=re[ae],De=re[ie],Ue=xv(0,z[J],ee[J]),Ne=B?z[J]/2-oe-Ue-me-se.mainAxis:he-Ue-me-se.mainAxis,Ke=B?-z[J]/2+oe+Ue+De+se.mainAxis:$+Ue+De+se.mainAxis,rt=n.elements.arrow&&fx(n.elements.arrow),et=rt?F==="y"?rt.clientTop||0:rt.clientLeft||0:0,wt=(le=V?.[F])!=null?le:0,nt=G+Ne-wt-et,Ee=G+Ke-wt,at=xv(g?Ej(W,nt):W,G,g?Cp(pe,Ee):pe);Q[F]=at,q[F]=at-G}if(f){var Gt,Oe=F==="x"?eu:tu,ce=F==="x"?Ju:eA,ve=Q[N],Ge=N==="y"?"height":"width",vt=ve+b[Oe],_t=ve-b[ce],Je=[eu,tu].indexOf(S)!==-1,We=(Gt=V?.[N])!=null?Gt:0,yt=Je?vt:ve-z[Ge]-k[Ge]-We+se.altAxis,zt=Je?ve+z[Ge]+k[Ge]-We-se.altAxis:_t,ut=g&&Je?bq(yt,ve,zt):xv(g?yt:vt,ve,g?zt:_t);Q[N]=ut,q[N]=ut-ve}n.modifiersData[s]=q}}const Jq={name:"preventOverflow",enabled:!0,phase:"main",fn:qq,requiresIfExists:["offset"]};function eJ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function tJ(t){return t===Bu(t)||!Zu(t)?pB(t):eJ(t)}function nJ(t){var n=t.getBoundingClientRect(),r=Cg(n.width)/t.offsetWidth||1,s=Cg(n.height)/t.offsetHeight||1;return r!==1||s!==1}function rJ(t,n,r){r===void 0&&(r=!1);var s=Zu(n),i=Zu(n)&&nJ(n),l=Tf(n),d=Bg(t,i,r),f={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!r)&&((Bd(n)!=="body"||gB(l))&&(f=tJ(n)),Zu(n)?(u=Bg(n,!0),u.x+=n.clientLeft,u.y+=n.clientTop):l&&(u.x=mB(l))),{x:d.left+f.scrollLeft-u.x,y:d.top+f.scrollTop-u.y,width:d.width,height:d.height}}function sJ(t){var n=new Map,r=new Set,s=[];t.forEach(function(l){n.set(l.name,l)});function i(l){r.add(l.name);var d=[].concat(l.requires||[],l.requiresIfExists||[]);d.forEach(function(f){if(!r.has(f)){var u=n.get(f);u&&i(u)}}),s.push(l)}return t.forEach(function(l){r.has(l.name)||i(l)}),s}function iJ(t){var n=sJ(t);return mq.reduce(function(r,s){return r.concat(n.filter(function(i){return i.phase===s}))},[])}function oJ(t){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(t())})})),n}}function aJ(t){var n=t.reduce(function(r,s){var i=r[s.name];return r[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,r},{});return Object.keys(n).map(function(r){return n[r]})}var AT={placement:"bottom",modifiers:[],strategy:"absolute"};function dT(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function lJ(t){t===void 0&&(t={});var n=t,r=n.defaultModifiers,s=r===void 0?[]:r,i=n.defaultOptions,l=i===void 0?AT:i;return function(f,u,h){h===void 0&&(h=l);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},AT,l),modifiersData:{},elements:{reference:f,popper:u},attributes:{},styles:{}},m=[],v=!1,g={state:a,setOptions:function(S){var C=typeof S=="function"?S(a.options):S;w(),a.options=Object.assign({},l,a.options,C),a.scrollParents={reference:kp(f)?yv(f):f.contextElement?yv(f.contextElement):[],popper:yv(u)};var B=iJ(aJ([].concat(s,a.options.modifiers)));return a.orderedModifiers=B.filter(function(F){return F.enabled}),x(),g.update()},forceUpdate:function(){if(!v){var S=a.elements,C=S.reference,B=S.popper;if(dT(C,B)){a.rects={reference:rJ(C,fx(B),a.options.strategy==="fixed"),popper:hB(B)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(se){return a.modifiersData[se.name]=Object.assign({},se.data)});for(var F=0;F<a.orderedModifiers.length;F++){if(a.reset===!0){a.reset=!1,F=-1;continue}var N=a.orderedModifiers[F],Q=N.fn,z=N.options,k=z===void 0?{}:z,K=N.name;typeof Q=="function"&&(a=Q({state:a,options:k,name:K,instance:g})||a)}}}},update:oJ(function(){return new Promise(function(b){g.forceUpdate(),b(a)})}),destroy:function(){w(),v=!0}};if(!dT(f,u))return g;g.setOptions(h).then(function(b){!v&&h.onFirstUpdate&&h.onFirstUpdate(b)});function x(){a.orderedModifiers.forEach(function(b){var S=b.name,C=b.options,B=C===void 0?{}:C,F=b.effect;if(typeof F=="function"){var N=F({state:a,name:S,instance:g,options:B}),Q=function(){};m.push(N||Q)}})}function w(){m.forEach(function(b){return b()}),m=[]}return g}}var cJ=[Lq,Xq,_q,xq,Wq,Hq,Jq,Bq,$q],uJ=lJ({defaultModifiers:cJ});const Im=(t,n)=>({var:t,varRef:n?`var(${t}, ${n})`:`var(${t})`}),ql={arrowShadowColor:Im("--popper-arrow-shadow-color"),arrowSize:Im("--popper-arrow-size","8px"),arrowSizeHalf:Im("--popper-arrow-size-half"),arrowBg:Im("--popper-arrow-bg"),transformOrigin:Im("--popper-transform-origin"),arrowOffset:Im("--popper-arrow-offset")};function AJ(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const dJ={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},hJ=t=>dJ[t],hT={scroll:!0,resize:!0};function fJ(t){let n;return typeof t=="object"?n={enabled:!0,options:{...hT,...t}}:n={enabled:t,options:hT},n}const pJ={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const n=t.elements.reference;t.elements.popper.style.width=`${n.offsetWidth}px`}},mJ={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{fT(t)},effect:({state:t})=>()=>{fT(t)}},fT=t=>{t.elements.popper.style.setProperty(ql.transformOrigin.var,hJ(t.placement))},gJ={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{vJ(t)}},vJ=t=>{if(!t.placement)return;const n=xJ(t.placement);if(t.elements?.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:ql.arrowSize.varRef,height:ql.arrowSize.varRef,zIndex:-1});const r={[ql.arrowSizeHalf.var]:`calc(${ql.arrowSize.varRef} / 2 - 1px)`,[ql.arrowOffset.var]:`calc(${ql.arrowSizeHalf.varRef} * -1)`};for(const s in r)t.elements.arrow.style.setProperty(s,r[s])}},xJ=t=>{if(t.startsWith("top"))return{property:"bottom",value:ql.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:ql.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:ql.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:ql.arrowOffset.varRef}},yJ={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{pT(t)},effect:({state:t})=>()=>{pT(t)}},pT=t=>{if(!t.elements.arrow)return;const n=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!n)return;const r=AJ(t.placement);r&&n.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(n.style,{transform:"rotate(45deg)",background:ql.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},jJ={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},bJ={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function wJ(t,n="ltr"){const r=jJ[t]?.[n]||t;return n==="ltr"?r:bJ[t]??r}function TD(t={}){const{enabled:n=!0,modifiers:r,placement:s="bottom",strategy:i="absolute",arrowPadding:l=8,eventListeners:d=!0,offset:f,gutter:u=8,flip:h=!0,boundary:a="clippingParents",preventOverflow:m=!0,matchWidth:v,direction:g="ltr"}=t,x=T.useRef(null),w=T.useRef(null),b=T.useRef(null),S=wJ(s,g),C=T.useRef(()=>{}),B=T.useCallback(()=>{!n||!x.current||!w.current||(C.current?.(),b.current=uJ(x.current,w.current,{placement:S,modifiers:[yJ,gJ,mJ,{...pJ,enabled:!!v},{name:"eventListeners",...fJ(d)},{name:"arrow",options:{padding:l}},{name:"offset",options:{offset:f??[0,u]}},{name:"flip",enabled:!!h,options:{padding:8}},{name:"preventOverflow",enabled:!!m,options:{boundary:a}},...r??[]],strategy:i}),b.current.forceUpdate(),C.current=b.current.destroy)},[S,n,r,v,d,l,f,u,h,m,a,i]);T.useEffect(()=>()=>{!x.current&&!w.current&&(b.current?.destroy(),b.current=null)},[]);const F=T.useCallback(se=>{x.current=se,B()},[B]),N=T.useCallback((se={},V=null)=>({...se,ref:ia(F,V)}),[F]),Q=T.useCallback(se=>{w.current=se,B()},[B]),z=T.useCallback((se={},V=null)=>({...se,ref:ia(Q,V),style:{...se.style,position:i,minWidth:v?void 0:"max-content",inset:"0 auto auto 0"}}),[i,Q,v]),k=T.useCallback((se={},V=null)=>{const{size:q,shadowColor:le,bg:ae,style:ie,...J}=se;return{...J,ref:V,"data-popper-arrow":"",style:SJ(se)}},[]),K=T.useCallback((se={},V=null)=>({...se,ref:V,"data-popper-arrow-inner":""}),[]);return{update(){b.current?.update()},forceUpdate(){b.current?.forceUpdate()},transformOrigin:ql.transformOrigin.varRef,referenceRef:F,popperRef:Q,getPopperProps:z,getArrowProps:k,getArrowInnerProps:K,getReferenceProps:N}}function SJ(t){const{size:n,shadowColor:r,bg:s,style:i}=t,l={...i,position:"absolute"};return n&&(l["--popper-arrow-size"]=n),r&&(l["--popper-arrow-shadow-color"]=r),s&&(l["--popper-arrow-bg"]=s),l}function CJ(){const t=T.useRef(new Map),n=t.current,r=T.useCallback((i,l,d,f)=>{t.current.set(d,{type:l,el:i,options:f}),i.addEventListener(l,d,f)},[]),s=T.useCallback((i,l,d,f)=>{i.removeEventListener(l,d,f),t.current.delete(d)},[]);return T.useEffect(()=>()=>{n.forEach((i,l)=>{s(i.el,i.type,l,i.options)})},[s,n]),{add:r,remove:s}}function aw(t){const n=t.composedPath?.()?.[0]??t.target,{tagName:r,isContentEditable:s}=n;return r!=="INPUT"&&r!=="TEXTAREA"&&s!==!0}function ID(t={}){const{ref:n,isDisabled:r,isFocusable:s,clickOnEnter:i=!0,clickOnSpace:l=!0,onMouseDown:d,onMouseUp:f,onClick:u,onKeyDown:h,onKeyUp:a,tabIndex:m,onMouseOver:v,onMouseLeave:g,...x}=t,[w,b]=T.useState(!0),[S,C]=T.useState(!1),B=CJ(),F=G=>{G&&G.tagName!=="BUTTON"&&b(!1)},N=w?m:m||0,Q=r&&!s,z=T.useCallback(G=>{if(r){G.stopPropagation(),G.preventDefault();return}G.currentTarget.focus(),u?.(G)},[r,u]),k=T.useCallback(G=>{S&&aw(G)&&(G.preventDefault(),G.stopPropagation(),C(!1),B.remove(document,"keyup",k,!1))},[S,B]),K=T.useCallback(G=>{if(h?.(G),r||G.defaultPrevented||G.metaKey||!aw(G.nativeEvent)||w)return;const W=i&&G.key==="Enter";l&&G.key===" "&&(G.preventDefault(),C(!0)),W&&(G.preventDefault(),G.currentTarget.click()),B.add(document,"keyup",k,!1)},[r,w,h,i,l,B,k]),se=T.useCallback(G=>{if(a?.(G),r||G.defaultPrevented||G.metaKey||!aw(G.nativeEvent)||w)return;l&&G.key===" "&&(G.preventDefault(),C(!1),G.currentTarget.click())},[l,w,r,a]),V=T.useCallback(G=>{G.button===0&&(C(!1),B.remove(document,"mouseup",V,!1))},[B]),q=T.useCallback(G=>{if(G.button!==0)return;if(r){G.stopPropagation(),G.preventDefault();return}w||C(!0),G.currentTarget.focus({preventScroll:!0}),B.add(document,"mouseup",V,!1),d?.(G)},[r,w,d,B,V]),le=T.useCallback(G=>{G.button===0&&(w||C(!1),f?.(G))},[f,w]),ae=T.useCallback(G=>{if(r){G.preventDefault();return}v?.(G)},[r,v]),ie=T.useCallback(G=>{S&&(G.preventDefault(),C(!1)),g?.(G)},[S,g]),J=ia(n,F);return w?{...x,ref:J,type:"button","aria-disabled":Q?void 0:r,disabled:Q,onClick:z,onMouseDown:d,onMouseUp:f,onKeyUp:a,onKeyDown:h,onMouseOver:v,onMouseLeave:g}:{...x,ref:J,role:"button","data-active":ss(S),"aria-disabled":r?"true":void 0,tabIndex:Q?void 0:N,onClick:z,onMouseDown:q,onMouseUp:le,onKeyUp:se,onKeyDown:K,onMouseOver:ae,onMouseLeave:ie}}const[BJ,EJ,TJ,IJ]=o1(),[_J,px]=Ws({strict:!1,name:"MenuContext"});function _D(t){return t?.ownerDocument??document}function FJ(t){return _D(t).activeElement===t}function LJ(t={}){const{id:n,closeOnSelect:r=!0,closeOnBlur:s=!0,initialFocusRef:i,autoSelect:l=!0,isLazy:d,isOpen:f,defaultIsOpen:u,onClose:h,onOpen:a,placement:m="bottom-start",lazyBehavior:v="unmount",direction:g,computePositionOnMount:x=!1,...w}=t,b=T.useRef(null),S=T.useRef(null),C=T.useRef(!0),B=TJ(),F=T.useCallback(()=>{requestAnimationFrame(()=>{b.current?.focus({preventScroll:!1})})},[]),N=T.useCallback(()=>{const M=setTimeout(()=>{if(i)i.current?.focus();else if(!B.count())b.current?.focus({preventScroll:!1});else{const ee=B.firstEnabled();ee&&ae(ee.index)}});pe.current.add(M)},[B,i]),Q=T.useCallback(()=>{const M=setTimeout(()=>{if(!B.count())b.current?.focus({preventScroll:!1});else{const ee=B.lastEnabled();ee&&ae(ee.index)}});pe.current.add(M)},[B]),z=T.useCallback(()=>{a?.(),l?N():F()},[l,N,F,a]),{isOpen:k,onOpen:K,onClose:se,onToggle:V}=er({isOpen:f,defaultIsOpen:u,onClose:h,onOpen:z});c6({enabled:k&&s,ref:b,handler:M=>{const ee=M.composedPath?.()?.[0]??M.target;S.current?.contains(ee)||se()}});const q=TD({...w,enabled:k||x,placement:m,direction:g}),[le,ae]=T.useState(-1);r6(b,{focusRef:S,visible:k});const ie=e6({isOpen:k,ref:b}),[J,G]=i6(n,"menu-button","menu-list"),W=T.useCallback(()=>{K(),F()},[K,F]),pe=T.useRef(new Set([]));T.useEffect(()=>{const M=pe.current;return()=>{M.forEach(ee=>clearTimeout(ee)),M.clear()}},[]),pf(()=>{k||(ae(-1),b.current?.scrollTo(0,0))},[k]),pf(()=>{k&&le===-1&&F()},[le,k]),T.useEffect(()=>{if(!k)return;B.item(le)?.node?.focus({preventScroll:!C.current})},[B,le,k]);const oe=T.useCallback(()=>{K(),N()},[N,K]),he=T.useCallback(()=>{C.current=!0,K(),Q()},[K,Q]),$=T.useCallback(()=>{const M=_D(b.current),ee=b.current?.contains(M.activeElement);if(!(k&&!ee))return;B.item(le)?.node?.focus({preventScroll:!C.current})},[k,le,B]);return{openAndFocusMenu:W,openAndFocusFirstItem:oe,openAndFocusLastItem:he,onTransitionEnd:$,unstable__animationState:ie,descendants:B,popper:q,buttonId:J,menuId:G,forceUpdate:q.forceUpdate,orientation:"vertical",isOpen:k,onToggle:V,onOpen:K,onClose:se,menuRef:b,buttonRef:S,focusedIndex:le,closeOnSelect:r,closeOnBlur:s,autoSelect:l,setFocusedIndex:ae,isLazy:d,lazyBehavior:v,initialFocusRef:i,scrollIntoViewRef:C}}function DJ(t={},n=null){const r=px(),{onToggle:s,popper:i,openAndFocusFirstItem:l,openAndFocusLastItem:d,scrollIntoViewRef:f}=r,u=T.useCallback(h=>{const a=h.key,v={Enter:l,ArrowDown:l,ArrowUp:d}[a];v&&(f.current=!0,h.preventDefault(),h.stopPropagation(),v(h))},[l,d,f]);return{...t,ref:ia(r.buttonRef,n,i.referenceRef),id:r.buttonId,"data-active":ss(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:Ur(t.onClick,s),onKeyDown:Ur(t.onKeyDown,u)}}function J2(t){return UJ(t)&&!!t?.getAttribute("role")?.startsWith("menuitem")}function PJ(t={},n=null){const r=px();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:s,setFocusedIndex:i,menuRef:l,isOpen:d,onClose:f,menuId:u,isLazy:h,lazyBehavior:a,scrollIntoViewRef:m,unstable__animationState:v}=r,g=EJ(),x=sq({preventDefault:C=>C.key!==" "&&J2(C.target)}),w=T.useCallback(C=>{if(!C.currentTarget.contains(C.target))return;const B=C.key,N={Tab:z=>z.preventDefault(),Escape:z=>{z.stopPropagation(),f()},ArrowDown:()=>{m.current=!0;const z=g.nextEnabled(s)??g.firstEnabled();z&&i(z.index)},ArrowUp:()=>{m.current=!0;const z=g.prevEnabled(s)??g.firstEnabled();z&&i(z.index)}}[B];if(N){C.preventDefault(),N(C);return}const Q=x(z=>{const k=nq(g.values(),z,K=>K?.node?.textContent??"",g.item(s));if(k){const K=g.indexOf(k.node);i(K)}});J2(C.target)&&Q(C)},[g,s,x,f,i,m]),b=T.useRef(!1);d&&(b.current=!0);const S=V3({wasSelected:b.current,enabled:h,mode:a,isSelected:v.present});return{...t,ref:ia(l,n),children:S?t.children:null,tabIndex:-1,role:"menu",id:u,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:Ur(t.onKeyDown,w)}}function RJ(t={}){const{popper:n,isOpen:r}=px();return n.getPopperProps({...t,style:{visibility:r?"visible":"hidden",...t.style}})}function FD(t={},n=null){const{onMouseEnter:r,onMouseMove:s,onMouseLeave:i,onClick:l,onFocus:d,isDisabled:f,isFocusable:u,closeOnSelect:h,type:a,...m}=t,v=px(),{setFocusedIndex:g,focusedIndex:x,closeOnSelect:w,onClose:b,menuId:S,scrollIntoViewRef:C}=v,B=T.useRef(null),F=`${S}-menuitem-${T.useId()}`,{index:N,register:Q}=IJ({disabled:f&&!u}),z=T.useCallback(ae=>{r?.(ae),!f&&(C.current=!1,g(N))},[g,N,f,r,C]),k=T.useCallback(ae=>{s?.(ae),B.current&&!FJ(B.current)&&z(ae)},[z,s]),K=T.useCallback(ae=>{i?.(ae),!f&&g(-1)},[g,f,i]),se=T.useCallback(ae=>{l?.(ae),J2(ae.currentTarget)&&(h??w)&&b()},[b,l,w,h]),V=T.useCallback(ae=>{d?.(ae),g(N)},[g,d,N]),q=N===x,le=ID({onClick:se,onFocus:V,onMouseEnter:z,onMouseMove:k,onMouseLeave:K,ref:ia(Q,B,n),isDisabled:f,isFocusable:u});return{...m,...le,type:a??le.type,id:F,role:"menuitem",tabIndex:q?0:-1}}function NJ(t={},n=null){const{type:r="radio",isChecked:s,...i}=t;return{...FD(i,n),role:`menuitem${r}`,"aria-checked":s}}function OJ(t={}){const{children:n,type:r="radio",value:s,defaultValue:i,onChange:l,...d}=t,u=r==="radio"?"":[],[h,a]=Pg({defaultValue:i??u,value:s,onChange:l}),m=T.useCallback(x=>{if(r==="radio"&&typeof h=="string"&&a(x),r==="checkbox"&&Array.isArray(h)){const w=h.includes(x)?h.filter(b=>b!==x):h.concat(x);a(w)}},[h,a,r]),g=bf(n).map(x=>{if(x.type.id!=="MenuItemOption")return x;const w=S=>{m(x.props.value),x.props.onClick?.(S)},b=r==="radio"?x.props.value===h:h.includes(x.props.value);return T.cloneElement(x,{type:r,onClick:w,isChecked:b})});return{...d,children:g}}function UJ(t){if(!MJ(t))return!1;const n=t.ownerDocument.defaultView??window;return t instanceof n.HTMLElement}function MJ(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[kJ,Wp]=Ws({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),gh=t=>{const{children:n}=t,r=Za("Menu",t),s=ei(t),{direction:i}=Bf(),{descendants:l,...d}=LJ({...s,direction:i}),f=T.useMemo(()=>d,[d]),{isOpen:u,onClose:h,forceUpdate:a}=f;return e.jsx(BJ,{value:l,children:e.jsx(_J,{value:f,children:e.jsx(kJ,{value:r,children:xu(n,{isOpen:u,onClose:h,forceUpdate:a})})})})};gh.displayName="Menu";const QJ=cn((t,n)=>{const r=Wp();return e.jsx(Qt.button,{ref:n,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...r.button}})}),vh=cn((t,n)=>{const{children:r,as:s,...i}=t,l=DJ(i,n),d=s||QJ;return e.jsx(d,{...l,className:En("chakra-menu__menu-button",t.className),children:e.jsx(Qt.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});vh.displayName="MenuButton";const LD=cn((t,n)=>{const r=Wp();return e.jsx(Qt.span,{ref:n,...t,__css:r.command,className:"chakra-menu__command"})});LD.displayName="MenuCommand";const Tj=t=>{const{className:n,...r}=t,s=Wp();return e.jsx(Qt.hr,{"aria-orientation":"horizontal",className:En("chakra-menu__divider",n),...r,__css:s.divider})};Tj.displayName="MenuDivider";const DD=cn((t,n)=>{const{title:r,children:s,className:i,...l}=t,d=En("chakra-menu__group__title",i),f=Wp();return e.jsxs("div",{ref:n,className:"chakra-menu__group",role:"group",children:[r&&e.jsx(Qt.p,{className:d,...l,__css:f.groupTitle,children:r}),s]})});DD.displayName="MenuGroup";const Ij=t=>{const{className:n,children:r,...s}=t,i=Wp(),l=T.Children.only(r),d=T.isValidElement(l)?T.cloneElement(l,{focusable:"false","aria-hidden":!0,className:En("chakra-menu__icon",l.props.className)}):null,f=En("chakra-menu__icon-wrapper",n);return e.jsx(Qt.span,{className:f,...s,__css:i.icon,children:d})};Ij.displayName="MenuIcon";const PD=cn((t,n)=>{const{type:r,...s}=t,i=Wp(),l=s.as||r?r??void 0:"button",d=T.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...i.item}),[i.item]);return e.jsx(Qt.button,{ref:n,type:l,...s,__css:d})}),Js=cn((t,n)=>{const{icon:r,iconSpacing:s="0.75rem",command:i,commandSpacing:l="0.75rem",children:d,...f}=t,u=FD(f,n),a=r||i?e.jsx("span",{style:{pointerEvents:"none",flex:1},children:d}):d;return e.jsxs(PD,{...u,className:En("chakra-menu__menuitem",u.className),children:[r&&e.jsx(Ij,{fontSize:"0.8em",marginEnd:s,children:r}),a,i&&e.jsx(LD,{marginStart:l,children:i})]})});Js.displayName="MenuItem";const mT=t=>e.jsx("svg",{viewBox:"0 0 14 14",width:"1em",height:"1em",...t,children:e.jsx("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})}),vu=cn((t,n)=>{const{icon:r,iconSpacing:s="0.75rem",iconPlacement:i="start",...l}=t,d=NJ(l,n);return e.jsxs(PD,{...d,className:En("chakra-menu__menuitem-option",l.className),children:[r!==null&&i==="start"&&e.jsx(Ij,{fontSize:"0.8em",marginEnd:s,opacity:t.isChecked?1:0,children:r||e.jsx(mT,{})}),e.jsx("span",{style:{flex:1},children:d.children}),r!==null&&i==="end"&&e.jsx(Ij,{fontSize:"0.8em",marginStart:s,opacity:t.isChecked?1:0,children:r||e.jsx(mT,{})})]})});vu.id="MenuItemOption";vu.displayName="MenuItemOption";const zJ={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},HJ=Qt(Td.div),xh=cn(function(n,r){const{rootProps:s,motionProps:i,...l}=n,{isOpen:d,onTransitionEnd:f,unstable__animationState:u}=px(),h=PJ(l,r),a=RJ(s),m=Wp();return e.jsx(Qt.div,{...a,__css:{zIndex:n.zIndex??m.list?.zIndex},children:e.jsx(HJ,{variants:zJ,initial:!1,animate:d?"enter":"exit",__css:{outline:0,...m.list},...i,...h,className:En("chakra-menu__menu-list",h.className),onUpdate:f,onAnimationComplete:k3(u.onComplete,h.onAnimationComplete)})})});xh.displayName="MenuList";const RD=t=>{const{className:n,title:r,...s}=t,i=OJ(s);return e.jsx(DD,{title:r,className:En("chakra-menu__option-group",n),...i})};RD.displayName="MenuOptionGroup";var VJ=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},_m=new WeakMap,my=new WeakMap,gy={},lw=0,ND=function(t){return t&&(t.host||ND(t.parentNode))},$J=function(t,n){return n.map(function(r){if(t.contains(r))return r;var s=ND(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},GJ=function(t,n,r,s){var i=$J(n,Array.isArray(t)?t:[t]);gy[r]||(gy[r]=new WeakMap);var l=gy[r],d=[],f=new Set,u=new Set(i),h=function(m){!m||f.has(m)||(f.add(m),h(m.parentNode))};i.forEach(h);var a=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(v){if(f.has(v))a(v);else try{var g=v.getAttribute(s),x=g!==null&&g!=="false",w=(_m.get(v)||0)+1,b=(l.get(v)||0)+1;_m.set(v,w),l.set(v,b),d.push(v),w===1&&x&&my.set(v,!0),b===1&&v.setAttribute(r,"true"),x||v.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return a(n),f.clear(),lw++,function(){d.forEach(function(m){var v=_m.get(m)-1,g=l.get(m)-1;_m.set(m,v),l.set(m,g),v||(my.has(m)||m.removeAttribute(s),my.delete(m)),g||m.removeAttribute(r)}),lw--,lw||(_m=new WeakMap,_m=new WeakMap,my=new WeakMap,gy={})}},KJ=function(t,n,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=VJ(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),GJ(s,i,r,"aria-hidden")):function(){return null}},WJ=Object.defineProperty,YJ=(t,n,r)=>n in t?WJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,XJ=(t,n,r)=>(YJ(t,n+"",r),r);class ZJ{constructor(){XJ(this,"modals"),this.modals=new Set}add(n){return this.modals.add(n),this.modals.size}remove(n){this.modals.delete(n)}isTopModal(n){if(!n)return!1;const r=Array.from(this.modals)[this.modals.size-1];return n===r}}const eS=new ZJ;function OD(t,n){const[r,s]=T.useState(0);return T.useEffect(()=>{const i=t.current;if(i){if(n){const l=eS.add(i);s(l)}return()=>{eS.remove(i),s(0)}}},[n,t]),r}function qJ(t){const{isOpen:n,onClose:r,id:s,closeOnOverlayClick:i=!0,closeOnEsc:l=!0,useInert:d=!0,onOverlayClick:f,onEsc:u}=t,h=T.useRef(null),a=T.useRef(null),[m,v,g]=eee(s,"chakra-modal","chakra-modal--header","chakra-modal--body");JJ(h,n&&d);const x=OD(h,n),w=T.useRef(null),b=T.useCallback(K=>{w.current=K.target},[]),S=T.useCallback(K=>{K.key==="Escape"&&(K.stopPropagation(),l&&r?.(),u?.())},[l,r,u]),[C,B]=T.useState(!1),[F,N]=T.useState(!1),Q=T.useCallback((K={},se=null)=>({role:"dialog",...K,ref:ia(se,h),id:m,tabIndex:-1,"aria-modal":!0,"aria-labelledby":C?v:void 0,"aria-describedby":F?g:void 0,onClick:Ur(K.onClick,V=>V.stopPropagation())}),[g,F,m,v,C]),z=T.useCallback(K=>{K.stopPropagation(),w.current===K.target&&eS.isTopModal(h.current)&&(i&&r?.(),f?.())},[r,i,f]),k=T.useCallback((K={},se=null)=>({...K,ref:ia(se,a),onClick:Ur(K.onClick,z),onKeyDown:Ur(K.onKeyDown,S),onMouseDown:Ur(K.onMouseDown,b)}),[S,b,z]);return{isOpen:n,onClose:r,headerId:v,bodyId:g,setBodyMounted:N,setHeaderMounted:B,dialogRef:h,overlayRef:a,getDialogProps:Q,getDialogContainerProps:k,index:x}}function JJ(t,n){const r=t.current;T.useEffect(()=>{if(!(!t.current||!n))return KJ(t.current)},[n,t,r])}function eee(t,...n){const r=T.useId(),s=t||r;return T.useMemo(()=>n.map(i=>`${i}-${s}`),[s,n])}const[tee,Yp]=Ws({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[nee,vf]=Ws({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Hn=t=>{const n={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames??!0},{portalProps:r,children:s,autoFocus:i,trapFocus:l,initialFocusRef:d,finalFocusRef:f,returnFocusOnClose:u,blockScrollOnMount:h,allowPinchZoom:a,preserveScrollBarGap:m,motionPreset:v,lockFocusAcrossFrames:g,animatePresenceProps:x,onCloseComplete:w}=n,b=Za("Modal",n),C={...qJ(n),autoFocus:i,trapFocus:l,initialFocusRef:d,finalFocusRef:f,returnFocusOnClose:u,blockScrollOnMount:h,allowPinchZoom:a,preserveScrollBarGap:m,motionPreset:v,lockFocusAcrossFrames:g};return e.jsx(nee,{value:C,children:e.jsx(tee,{value:b,children:e.jsx(Sf,{...x,onExitComplete:w,children:C.isOpen&&e.jsx(Ug,{...r,children:s})})})})};Hn.displayName="Modal";var ij="right-scroll-bar-position",oj="width-before-scroll-bar",ree="with-scroll-bars-hidden",see="--removed-body-scroll-bar-size",UD=kL(),cw=function(){},d1=T.forwardRef(function(t,n){var r=T.useRef(null),s=T.useState({onScrollCapture:cw,onWheelCapture:cw,onTouchMoveCapture:cw}),i=s[0],l=s[1],d=t.forwardProps,f=t.children,u=t.className,h=t.removeScrollBar,a=t.enabled,m=t.shards,v=t.sideCar,g=t.noRelative,x=t.noIsolation,w=t.inert,b=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,B=t.gapMode,F=OL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=v,Q=NL([r,n]),z=md(md({},F),i);return T.createElement(T.Fragment,null,a&&T.createElement(N,{sideCar:UD,removeScrollBar:h,shards:m,noRelative:g,noIsolation:x,inert:w,setCallbacks:l,allowPinchZoom:!!b,lockRef:r,gapMode:B}),d?T.cloneElement(T.Children.only(f),md(md({},z),{ref:Q})):T.createElement(C,md({},z,{className:u,ref:Q}),f))});d1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};d1.classNames={fullWidth:oj,zeroRight:ij};var iee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=iee();return n&&t.setAttribute("nonce",n),t}function aee(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function lee(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var cee=function(){var t=0,n=null;return{add:function(r){t==0&&(n=oee())&&(aee(n,r),lee(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},uee=function(){var t=cee();return function(n,r){T.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}},MD=function(){var t=uee(),n=function(r){var s=r.styles,i=r.dynamic;return t(s,i),null};return n},Aee={left:0,top:0,right:0,gap:0},uw=function(t){return parseInt(t||"",10)||0},dee=function(t){var n=window.getComputedStyle(document.body),r=n[t==="padding"?"paddingLeft":"marginLeft"],s=n[t==="padding"?"paddingTop":"marginTop"],i=n[t==="padding"?"paddingRight":"marginRight"];return[uw(r),uw(s),uw(i)]},hee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Aee;var n=dee(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-r+n[2]-n[0])}},fee=MD(),Ag="data-scroll-locked",pee=function(t,n,r,s){var i=t.left,l=t.top,d=t.right,f=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(ree,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(Ag,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ij,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(oj,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(ij," .").concat(ij,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(oj," .").concat(oj,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ag,`] {
    `).concat(see,": ").concat(f,`px;
  }
`)},gT=function(){var t=parseInt(document.body.getAttribute(Ag)||"0",10);return isFinite(t)?t:0},mee=function(){T.useEffect(function(){return document.body.setAttribute(Ag,(gT()+1).toString()),function(){var t=gT()-1;t<=0?document.body.removeAttribute(Ag):document.body.setAttribute(Ag,t.toString())}},[])},gee=function(t){var n=t.noRelative,r=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;mee();var l=T.useMemo(function(){return hee(i)},[i]);return T.createElement(fee,{styles:pee(l,!n,i,r?"":"!important")})},tS=!1;if(typeof window<"u")try{var vy=Object.defineProperty({},"passive",{get:function(){return tS=!0,!0}});window.addEventListener("test",vy,vy),window.removeEventListener("test",vy,vy)}catch{tS=!1}var Fm=tS?{passive:!1}:!1,vee=function(t){return t.tagName==="TEXTAREA"},kD=function(t,n){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!vee(t)&&r[n]==="visible")},xee=function(t){return kD(t,"overflowY")},yee=function(t){return kD(t,"overflowX")},vT=function(t,n){var r=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=QD(t,s);if(i){var l=zD(t,s),d=l[1],f=l[2];if(d>f)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},jee=function(t){var n=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[n,r,s]},bee=function(t){var n=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[n,r,s]},QD=function(t,n){return t==="v"?xee(n):yee(n)},zD=function(t,n){return t==="v"?jee(n):bee(n)},wee=function(t,n){return t==="h"&&n==="rtl"?-1:1},See=function(t,n,r,s,i){var l=wee(t,window.getComputedStyle(n).direction),d=l*s,f=r.target,u=n.contains(f),h=!1,a=d>0,m=0,v=0;do{if(!f)break;var g=zD(t,f),x=g[0],w=g[1],b=g[2],S=w-b-l*x;(x||S)&&QD(t,f)&&(m+=S,v+=x);var C=f.parentNode;f=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!u&&f!==document.body||u&&(n.contains(f)||n===f));return(a&&Math.abs(m)<1||!a&&Math.abs(v)<1)&&(h=!0),h},xy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xT=function(t){return[t.deltaX,t.deltaY]},yT=function(t){return t&&"current"in t?t.current:t},Cee=function(t,n){return t[0]===n[0]&&t[1]===n[1]},Bee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Eee=0,Lm=[];function Tee(t){var n=T.useRef([]),r=T.useRef([0,0]),s=T.useRef(),i=T.useState(Eee++)[0],l=T.useState(MD)[0],d=T.useRef(t);T.useEffect(function(){d.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=DX([t.lockRef.current],(t.shards||[]).map(yT),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=T.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!d.current.allowPinchZoom;var S=xy(w),C=r.current,B="deltaX"in w?w.deltaX:C[0]-S[0],F="deltaY"in w?w.deltaY:C[1]-S[1],N,Q=w.target,z=Math.abs(B)>Math.abs(F)?"h":"v";if("touches"in w&&z==="h"&&Q.type==="range")return!1;var k=vT(z,Q);if(!k)return!0;if(k?N=z:(N=z==="v"?"h":"v",k=vT(z,Q)),!k)return!1;if(!s.current&&"changedTouches"in w&&(B||F)&&(s.current=N),!N)return!0;var K=s.current||N;return See(K,b,w,K==="h"?B:F)},[]),u=T.useCallback(function(w){var b=w;if(!(!Lm.length||Lm[Lm.length-1]!==l)){var S="deltaY"in b?xT(b):xy(b),C=n.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&Cee(N.delta,S)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var B=(d.current.shards||[]).map(yT).filter(Boolean).filter(function(N){return N.contains(b.target)}),F=B.length>0?f(b,B[0]):!d.current.noIsolation;F&&b.cancelable&&b.preventDefault()}}},[]),h=T.useCallback(function(w,b,S,C){var B={name:w,delta:b,target:S,should:C,shadowParent:Iee(S)};n.current.push(B),setTimeout(function(){n.current=n.current.filter(function(F){return F!==B})},1)},[]),a=T.useCallback(function(w){r.current=xy(w),s.current=void 0},[]),m=T.useCallback(function(w){h(w.type,xT(w),w.target,f(w,t.lockRef.current))},[]),v=T.useCallback(function(w){h(w.type,xy(w),w.target,f(w,t.lockRef.current))},[]);T.useEffect(function(){return Lm.push(l),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Fm),document.addEventListener("touchmove",u,Fm),document.addEventListener("touchstart",a,Fm),function(){Lm=Lm.filter(function(w){return w!==l}),document.removeEventListener("wheel",u,Fm),document.removeEventListener("touchmove",u,Fm),document.removeEventListener("touchstart",a,Fm)}},[]);var g=t.removeScrollBar,x=t.inert;return T.createElement(T.Fragment,null,x?T.createElement(l,{styles:Bee(i)}):null,g?T.createElement(gee,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Iee(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const _ee=PX(UD,Tee);var HD=T.forwardRef(function(t,n){return T.createElement(d1,md({},t,{ref:n,sideCar:_ee}))});HD.classNames=d1.classNames;function VD(t){const{autoFocus:n,trapFocus:r,dialogRef:s,initialFocusRef:i,blockScrollOnMount:l,allowPinchZoom:d,finalFocusRef:f,returnFocusOnClose:u,preserveScrollBarGap:h,lockFocusAcrossFrames:a,isOpen:m}=vf(),[v,g]=oC();T.useEffect(()=>{!v&&g&&setTimeout(g)},[v,g]);const x=OD(s,m);return e.jsx(hD,{autoFocus:n,isDisabled:!r,initialFocusRef:i,finalFocusRef:f,restoreFocus:u,contentRef:s,lockFocusAcrossFrames:a,children:e.jsx(HD,{removeScrollBar:!h,allowPinchZoom:d,enabled:x===1&&l,forwardProps:!0,children:t.children})})}const Fee={initial:({offsetX:t,offsetY:n,transition:r,transitionEnd:s,delay:i})=>({opacity:0,x:t,y:n,transition:r?.exit??PA.exit(wp.exit,i),transitionEnd:s?.exit}),enter:({transition:t,transitionEnd:n,delay:r})=>({opacity:1,x:0,y:0,transition:t?.enter??PA.enter(wp.enter,r),transitionEnd:n?.enter}),exit:({offsetY:t,offsetX:n,transition:r,transitionEnd:s,reverse:i,delay:l})=>{const d={x:n,y:t};return{opacity:0,transition:r?.exit??PA.exit(wp.exit,l),...i?{...d,transitionEnd:s?.exit}:{transitionEnd:{...d,...s?.exit}}}}},sv={initial:"initial",animate:"enter",exit:"exit",variants:Fee},Lee=T.forwardRef(function(n,r){const{unmountOnExit:s,in:i,reverse:l=!0,className:d,offsetX:f=0,offsetY:u=8,transition:h,transitionEnd:a,delay:m,animatePresenceProps:v,...g}=n,x=s?i&&s:!0,w=i||s?"enter":"exit",b={offsetX:f,offsetY:u,reverse:l,transition:h,transitionEnd:a,delay:m};return e.jsx(Sf,{...v,custom:b,children:x&&e.jsx(Td.div,{ref:r,className:En("chakra-offset-slide",d),custom:b,...sv,animate:w,...g})})});Lee.displayName="SlideFade";const Dee={exit:({reverse:t,initialScale:n,transition:r,transitionEnd:s,delay:i})=>({opacity:0,...t?{scale:n,transitionEnd:s?.exit}:{transitionEnd:{scale:n,...s?.exit}},transition:r?.exit??PA.exit(wp.exit,i)}),enter:({transitionEnd:t,transition:n,delay:r})=>({opacity:1,scale:1,transition:n?.enter??PA.enter(wp.enter,r),transitionEnd:t?.enter})},$D={initial:"exit",animate:"enter",exit:"exit",variants:Dee},Pee=T.forwardRef(function(n,r){const{unmountOnExit:s,in:i,reverse:l=!0,initialScale:d=.95,className:f,transition:u,transitionEnd:h,delay:a,animatePresenceProps:m,...v}=n,g=s?i&&s:!0,x=i||s?"enter":"exit",w={initialScale:d,reverse:l,transition:u,transitionEnd:h,delay:a};return e.jsx(Sf,{...m,custom:w,children:g&&e.jsx(Td.div,{ref:r,className:En("chakra-offset-slide",f),...$D,animate:x,custom:w,...v})})});Pee.displayName="ScaleFade";const Ree={slideInBottom:{...sv,custom:{offsetY:16,reverse:!0}},slideInRight:{...sv,custom:{offsetX:16,reverse:!0}},slideInTop:{...sv,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...sv,custom:{offsetX:-16,reverse:!0}},scale:{...$D,custom:{initialScale:.95,reverse:!0}},none:{}},Nee=Qt(Td.section),Oee=t=>Ree[t||"none"],GD=T.forwardRef((t,n)=>{const{preset:r,motionProps:s=Oee(r),...i}=t;return e.jsx(Nee,{ref:n,...s,...i})});GD.displayName="ModalTransition";const Kn=cn((t,n)=>{const{className:r,children:s,containerProps:i,motionProps:l,...d}=t,{getDialogProps:f,getDialogContainerProps:u}=vf(),h=f(d,n),a=u(i),m=En("chakra-modal__content",r),v=Yp(),g={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...v.dialog},x={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...v.dialogContainer},{motionPreset:w}=vf();return e.jsx(VD,{children:e.jsx(Qt.div,{...a,className:"chakra-modal__content-container",tabIndex:-1,__css:x,children:e.jsx(GD,{preset:w,motionProps:l,className:m,...h,__css:g,children:s})})})});Kn.displayName="ModalContent";const Vn=cn((t,n)=>{const{className:r,...s}=t,{bodyId:i,setBodyMounted:l}=vf();T.useEffect(()=>(l(!0),()=>l(!1)),[l]);const d=En("chakra-modal__body",r),f=Yp();return e.jsx(Qt.div,{ref:n,className:d,id:i,...s,__css:f.body})});Vn.displayName="ModalBody";const fr=cn((t,n)=>{const{onClick:r,className:s,...i}=t,{onClose:l}=vf(),d=En("chakra-modal__close-btn",s),f=Yp();return e.jsx(kC,{ref:n,__css:f.closeButton,className:d,onClick:Ur(r,u=>{u.stopPropagation(),l()}),...i})});fr.displayName="ModalCloseButton";const pr=cn((t,n)=>{const{className:r,...s}=t,i=En("chakra-modal__footer",r),l=Yp(),d={display:"flex",alignItems:"center",justifyContent:"flex-end",...l.footer};return e.jsx(Qt.footer,{ref:n,...s,__css:d,className:i})});pr.displayName="ModalFooter";const $n=cn((t,n)=>{const{className:r,...s}=t,{headerId:i,setHeaderMounted:l}=vf();T.useEffect(()=>(l(!0),()=>l(!1)),[l]);const d=En("chakra-modal__header",r),f=Yp(),u={flex:0,...f.header};return e.jsx(Qt.header,{ref:n,className:d,id:i,...s,__css:u})});$n.displayName="ModalHeader";const Uee={enter:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:1,transition:t?.enter??PA.enter(wp.enter,r),transitionEnd:n?.enter}),exit:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:0,transition:t?.exit??PA.exit(wp.exit,r),transitionEnd:n?.exit})},KD={initial:"exit",animate:"enter",exit:"exit",variants:Uee},Mee=T.forwardRef(function(n,r){const{unmountOnExit:s,in:i,className:l,transition:d,transitionEnd:f,delay:u,animatePresenceProps:h,...a}=n,m=i||s?"enter":"exit",v=s?i&&s:!0,g={transition:d,transitionEnd:f,delay:u};return e.jsx(Sf,{...h,custom:g,children:v&&e.jsx(Td.div,{ref:r,className:En("chakra-fade",l),custom:g,...KD,animate:m,...a})})});Mee.displayName="Fade";const kee=Qt(Td.div),Gn=cn((t,n)=>{const{className:r,transition:s,motionProps:i,...l}=t,d=En("chakra-modal__overlay",r),u={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Yp().overlay},{motionPreset:h}=vf(),m=i||(h==="none"?{}:KD);return e.jsx(kee,{...m,__css:u,ref:n,className:d,...l})});Gn.displayName="ModalOverlay";function Qee(t){const{leastDestructiveRef:n,...r}=t;return e.jsx(Hn,{...r,initialFocusRef:n})}const zee=cn((t,n)=>e.jsx(Kn,{ref:n,role:"alertdialog",...t})),[Hee,Vee]=Ws(),$ee={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function Gee(t,n){if(t)return $ee[t]?.[n]??t}function Kee(t){const{isOpen:n,onClose:r,placement:s="right",children:i,...l}=t,d=Bf(),f=d.components?.Drawer,u=Gee(s,d.direction);return e.jsx(Hee,{value:{placement:u},children:e.jsx(Hn,{isOpen:n,onClose:r,styleConfig:f,...l,children:i})})}const jT={exit:{duration:.15,ease:mp.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},Wee={exit:({direction:t,transition:n,transitionEnd:r,delay:s})=>{const{exit:i}=N2({direction:t});return{...i,transition:n?.exit??PA.exit(jT.exit,s),transitionEnd:r?.exit}},enter:({direction:t,transitionEnd:n,transition:r,delay:s})=>{const{enter:i}=N2({direction:t});return{...i,transition:r?.enter??PA.enter(jT.enter,s),transitionEnd:n?.enter}}},WD=T.forwardRef(function(n,r){const{direction:s="right",style:i,unmountOnExit:l,in:d,className:f,transition:u,transitionEnd:h,delay:a,motionProps:m,animatePresenceProps:v,...g}=n,x=N2({direction:s}),w=Object.assign({position:"fixed"},x.position,i),b=l?d&&l:!0,S=d||l?"enter":"exit",C={transitionEnd:h,transition:u,direction:s,delay:a};return e.jsx(Sf,{...v,custom:C,children:b&&e.jsx(Td.div,{...g,ref:r,initial:"exit",className:En("chakra-slide",f),animate:S,exit:"exit",custom:C,variants:Wee,style:w,...m})})});WD.displayName="Slide";const Yee=Qt(WD),YD=cn((t,n)=>{const{className:r,children:s,motionProps:i,containerProps:l,...d}=t,{getDialogProps:f,getDialogContainerProps:u,isOpen:h}=vf(),a=f(d,n),m=u(l),v=En("chakra-modal__content",r),g=Yp(),x={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...g.dialog},w={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...g.dialogContainer},{placement:b}=Vee();return e.jsx(VD,{children:e.jsx(Qt.div,{...m,className:"chakra-modal__content-container",__css:w,children:e.jsx(Yee,{motionProps:i,direction:b,in:h,className:v,...a,__css:x,children:s})})})});YD.displayName="DrawerContent";const Xee=t=>e.jsx(ws,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),Zee=t=>e.jsx(ws,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function bT(t,n,r,s){T.useEffect(()=>{if(!t.current||!s)return;const i=t.current.ownerDocument.defaultView??window,l=Array.isArray(n)?n:[n],d=new i.MutationObserver(f=>{for(const u of f)u.type==="attributes"&&u.attributeName&&l.includes(u.attributeName)&&r(u)});return d.observe(t.current,{attributes:!0,attributeFilter:l}),()=>d.disconnect()})}const qee=50,wT=300;function Jee(t,n){const[r,s]=T.useState(!1),[i,l]=T.useState(null),[d,f]=T.useState(!0),u=T.useRef(null),h=()=>clearTimeout(u.current);o6(()=>{i==="increment"&&t(),i==="decrement"&&n()},r?qee:null);const a=T.useCallback(()=>{d&&t(),u.current=setTimeout(()=>{f(!1),s(!0),l("increment")},wT)},[t,d]),m=T.useCallback(()=>{d&&n(),u.current=setTimeout(()=>{f(!1),s(!0),l("decrement")},wT)},[n,d]),v=T.useCallback(()=>{f(!0),s(!1),h()},[]);return T.useEffect(()=>()=>h(),[]),{up:a,down:m,stop:v,isSpinning:r}}const ete=/^[Ee0-9+\-.]$/;function tte(t){return ete.test(t)}function nte(t,n){if(t.key==null)return!0;const r=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||r?!0:n(t.key)}function rte(t={}){const{focusInputOnChange:n=!0,clampValueOnBlur:r=!0,keepWithinRange:s=!0,min:i=Number.MIN_SAFE_INTEGER,max:l=Number.MAX_SAFE_INTEGER,step:d=1,isReadOnly:f,isDisabled:u,isRequired:h,isInvalid:a,pattern:m="[0-9]*(.[0-9]+)?",inputMode:v="decimal",allowMouseWheel:g,id:x,onChange:w,precision:b,name:S,"aria-describedby":C,"aria-label":B,"aria-labelledby":F,onFocus:N,onBlur:Q,onInvalid:z,getAriaValueText:k,isValidCharacter:K,format:se,parse:V,...q}=t,le=Fa(N),ae=Fa(Q),ie=Fa(z),J=Fa(K??tte),G=Fa(k),W=t6(t),{update:pe,increment:oe,decrement:he}=W,[$,M]=T.useState(!1),ee=!(f||u),re=T.useRef(null),me=T.useRef(null),De=T.useRef(null),Ue=T.useRef(null),Ne=T.useCallback(ut=>ut.split("").filter(J).join(""),[J]),Ke=T.useCallback(ut=>V?.(ut)??ut,[V]),rt=T.useCallback(ut=>(se?.(ut)??ut).toString(),[se]);pf(()=>{(W.valueAsNumber>l||W.valueAsNumber<i)&&ie?.("rangeOverflow",rt(W.value),W.valueAsNumber)},[W.valueAsNumber,W.value,rt,ie]),hh(()=>{if(!re.current)return;if(re.current.value!=W.value){const Ft=Ke(re.current.value);W.setValue(Ne(Ft))}},[Ke,Ne]);const et=T.useCallback((ut=d)=>{ee&&oe(ut)},[oe,ee,d]),wt=T.useCallback((ut=d)=>{ee&&he(ut)},[he,ee,d]),nt=Jee(et,wt);bT(De,"disabled",nt.stop,nt.isSpinning),bT(Ue,"disabled",nt.stop,nt.isSpinning);const Ee=T.useCallback(ut=>{if(ut.nativeEvent.isComposing)return;const Ct=Ke(ut.currentTarget.value);pe(Ne(Ct)),me.current={start:ut.currentTarget.selectionStart,end:ut.currentTarget.selectionEnd}},[pe,Ne,Ke]),at=T.useCallback(ut=>{le?.(ut),me.current&&(ut.currentTarget.selectionStart=me.current.start??ut.currentTarget.value?.length,ut.currentTarget.selectionEnd=me.current.end??ut.currentTarget.selectionStart)},[le]),Gt=T.useCallback(ut=>{if(ut.nativeEvent.isComposing)return;nte(ut,J)||ut.preventDefault();const Ft=Oe(ut)*d,Ct=ut.key,Zt={ArrowUp:()=>et(Ft),ArrowDown:()=>wt(Ft),Home:()=>pe(i),End:()=>pe(l)}[Ct];Zt&&(ut.preventDefault(),Zt(ut))},[J,d,et,wt,pe,i,l]),Oe=ut=>{let Ft=1;return(ut.metaKey||ut.ctrlKey)&&(Ft=.1),ut.shiftKey&&(Ft=10),Ft},ce=T.useMemo(()=>{const ut=G?.(W.value);if(ut!=null)return ut;const Ft=W.value.toString();return Ft||void 0},[W.value,G]),ve=T.useCallback(()=>{let ut=W.value;if(W.value==="")return;/^[eE]/.test(W.value.toString())?W.setValue(""):(W.valueAsNumber<i&&(ut=i),W.valueAsNumber>l&&(ut=l),W.cast(ut))},[W,l,i]),Ge=T.useCallback(()=>{M(!1),r&&ve()},[r,M,ve]),vt=T.useCallback(()=>{n&&requestAnimationFrame(()=>{re.current?.focus()})},[n]),_t=T.useCallback(ut=>{ut.preventDefault(),nt.up(),vt()},[vt,nt]),Je=T.useCallback(ut=>{ut.preventDefault(),nt.down(),vt()},[vt,nt]);lv(()=>re.current,"wheel",ut=>{const Ct=(re.current?.ownerDocument??document).activeElement===re.current;if(!g||!Ct)return;ut.preventDefault();const Ye=Oe(ut)*d,Zt=Math.sign(ut.deltaY);Zt===-1?et(Ye):Zt===1&&wt(Ye)},{passive:!1});const We=T.useCallback((ut={},Ft=null)=>{const Ct=u||s&&W.isAtMax;return{...ut,ref:ia(Ft,De),role:"button",tabIndex:-1,onPointerDown:Ur(ut.onPointerDown,Ye=>{Ye.button!==0||Ct||_t(Ye)}),onPointerLeave:Ur(ut.onPointerLeave,nt.stop),onPointerUp:Ur(ut.onPointerUp,nt.stop),disabled:Ct,"aria-disabled":vd(Ct)}},[W.isAtMax,s,_t,nt.stop,u]),yt=T.useCallback((ut={},Ft=null)=>{const Ct=u||s&&W.isAtMin;return{...ut,ref:ia(Ft,Ue),role:"button",tabIndex:-1,onPointerDown:Ur(ut.onPointerDown,Ye=>{Ye.button!==0||Ct||Je(Ye)}),onPointerLeave:Ur(ut.onPointerLeave,nt.stop),onPointerUp:Ur(ut.onPointerUp,nt.stop),disabled:Ct,"aria-disabled":vd(Ct)}},[W.isAtMin,s,Je,nt.stop,u]),zt=T.useCallback((ut={},Ft=null)=>({name:S,inputMode:v,type:"text",pattern:m,"aria-labelledby":F,"aria-label":B,"aria-describedby":C,id:x,disabled:u,role:"spinbutton",...ut,readOnly:ut.readOnly??f,"aria-readonly":ut.readOnly??f,"aria-required":ut.required??h,required:ut.required??h,ref:ia(re,Ft),value:rt(W.value),"aria-valuemin":i,"aria-valuemax":l,"aria-valuenow":Number.isNaN(W.valueAsNumber)?void 0:W.valueAsNumber,"aria-invalid":vd(a??W.isOutOfRange),"aria-valuetext":ce,autoComplete:"off",autoCorrect:"off",onChange:Ur(ut.onChange,Ee),onKeyDown:Ur(ut.onKeyDown,Gt),onFocus:Ur(ut.onFocus,at,()=>M(!0)),onBlur:Ur(ut.onBlur,ae,Ge)}),[S,v,m,F,B,rt,C,x,u,h,f,a,W.value,W.valueAsNumber,W.isOutOfRange,i,l,ce,Ee,Gt,at,ae,Ge]);return{value:rt(W.value),valueAsNumber:W.valueAsNumber,isFocused:$,isDisabled:u,isReadOnly:f,getIncrementButtonProps:We,getDecrementButtonProps:yt,getInputProps:zt,htmlProps:q}}const[ste,h1]=Ws({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[ite,vB]=Ws({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),gs=cn(function(n,r){const s=Za("NumberInput",n),i=ei(n),l=WC(i),{htmlProps:d,...f}=rte(l),u=T.useMemo(()=>f,[f]);return e.jsx(ite,{value:u,children:e.jsx(ste,{value:s,children:e.jsx(Qt.div,{...d,ref:r,className:En("chakra-numberinput",n.className),__css:{position:"relative",zIndex:0,...s.root}})})})});gs.displayName="NumberInput";const Ul=cn(function(n,r){const s=h1();return e.jsx(Qt.div,{"aria-hidden":!0,ref:r,...n,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...s.stepperGroup}})});Ul.displayName="NumberInputStepper";const vs=cn(function(n,r){const{getInputProps:s}=vB(),i=s(n,r),l=h1();return e.jsx(Qt.input,{...i,className:En("chakra-numberinput__field",n.className),__css:{width:"100%",...l.field}})});vs.displayName="NumberInputField";const XD=Qt("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),Ml=cn(function(n,r){const s=h1(),{getDecrementButtonProps:i}=vB(),l=i(n,r);return e.jsx(XD,{...l,__css:s.stepper,children:n.children??e.jsx(Xee,{})})});Ml.displayName="NumberDecrementStepper";const kl=cn(function(n,r){const{getIncrementButtonProps:s}=vB(),i=s(n,r),l=h1();return e.jsx(XD,{...i,__css:l.stepper,children:n.children??e.jsx(Zee,{})})});kl.displayName="NumberIncrementStepper";const[ote,nce,ate,lte]=o1(),[cte,ute]=Ws({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to place all pin input fields within `<PinInput />`"}),ST=t=>t?.split("");function CT(t,n){return(n==="alphanumeric"?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(t)}function Ate(t={}){const{autoFocus:n,value:r,defaultValue:s,onChange:i,onComplete:l,placeholder:d="",manageFocus:f=!0,otp:u=!1,id:h,isDisabled:a,isInvalid:m,type:v="number",mask:g}=t,x=T.useId(),w=h??`pin-input-${x}`,b=ate(),[S,C]=T.useState(!0),[B,F]=T.useState(-1),[N,Q]=Pg({defaultValue:ST(s)||[],value:ST(r),onChange:q=>i?.(q.join(""))});T.useEffect(()=>{if(n){const q=b.first();q&&requestAnimationFrame(()=>{q.node.focus()})}},[b]);const z=T.useCallback(q=>{if(!S||!f)return;const le=b.next(q,!1);le&&requestAnimationFrame(()=>{le.node.focus()})},[b,S,f]),k=T.useCallback((q,le,ae=!0)=>{const ie=[...N];ie[le]=q,Q(ie),q!==""&&ie.length===b.count()&&ie.every(G=>G!=null&&G!=="")?l?.(ie.join("")):ae&&z(le)},[N,Q,z,l,b]),K=T.useCallback(()=>{const q=Array(b.count()).fill("");Q(q),b.first()?.node?.focus()},[b,Q]),se=T.useCallback((q,le)=>{let ae=le;return q?.length>0&&(q[0]===le.charAt(0)?ae=le.charAt(1):q[0]===le.charAt(1)&&(ae=le.charAt(0))),ae},[]);return{getInputProps:T.useCallback(q=>{const{index:le,...ae}=q,ie=he=>{const $=he.currentTarget.value,M=N[le],ee=se(M,$);if(ee===""){k("",le);return}if($.length>2){if(CT($,v)){const re=$.split("").filter((me,De)=>De<b.count());Q(re),re.length===b.count()&&l?.(re.join(""))}}else CT(ee,v)&&k(ee,le),C(!0)},J=he=>{if(he.key==="Backspace"&&f)if(he.currentTarget.value===""){const $=b.prev(le,!1);$&&(k("",le-1,!1),$.node?.focus(),C(!0))}else C(!1)},G=()=>{F(le)},W=()=>{F(-1)},pe=B===le;return{"aria-label":"Please enter your pin code",inputMode:v==="number"?"numeric":"text",type:g?"password":v==="number"?"tel":"text",...ae,id:`${w}-${le}`,disabled:a,"aria-invalid":vd(m),onChange:Ur(ae.onChange,ie),onKeyDown:Ur(ae.onKeyDown,J),onFocus:Ur(ae.onFocus,G),onBlur:Ur(ae.onBlur,W),value:N[le]||"",autoComplete:u?"one-time-code":"off",placeholder:pe?"":d}},[b,B,se,w,a,g,m,f,l,u,d,k,Q,v,N]),id:w,descendants:b,values:N,setValue:k,setValues:Q,clear:K}}function dte(t={},n=null){const{getInputProps:r}=ute(),{index:s,register:i}=lte();return r({...t,ref:ia(i,n),index:t.index??s})}function nS(t){const n=kc("PinInput",t),{children:r,...s}=ei(t),{descendants:i,...l}=Ate(s),d=bf(r).map(f=>T.cloneElement(f,{__css:n}));return e.jsx(ote,{value:i,children:e.jsx(cte,{value:l,children:d})})}nS.displayName="PinInput";const nh=cn(function(n,r){const s=dte(n,r);return e.jsx(Qt.input,{...s,className:En("chakra-pin-input",n.className)})});nh.displayName="PinInputField";function hte(t){const n=T.version;return typeof n!="string"||n.startsWith("18.")?t?.ref:t?.props?.ref}const rS=t=>e.jsx(Qt.circle,{cx:50,cy:50,r:42,fill:"transparent",...t});rS.displayName="Circle";function fte(t,n,r){return(t-n)*100/(r-n)}const pte=wf({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),mte=wf({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),gte=wf({"0%":{left:"-40%"},"100%":{left:"100%"}}),vte=wf({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function ZD(t){const{value:n=0,min:r,max:s,valueText:i,getValueText:l,isIndeterminate:d,role:f="progressbar"}=t,u=fte(n,r,s);return{bind:{"data-indeterminate":d?"":void 0,"aria-valuemax":s,"aria-valuemin":r,"aria-valuenow":d?void 0:n,"aria-valuetext":(()=>{if(n!=null)return typeof l=="function"?l(n,u):i})(),role:f},percent:u,value:n}}const qD=t=>{const{size:n,isIndeterminate:r,...s}=t;return e.jsx(Qt.svg,{viewBox:"0 0 100 100",__css:{width:n,height:n,animation:r?`${mte} 2s linear infinite`:void 0},...s})};qD.displayName="Shape";const JD=cn((t,n)=>{const{size:r="48px",max:s=100,min:i=0,valueText:l,getValueText:d,value:f,capIsRound:u,children:h,thickness:a="10px",color:m="#0078d4",trackColor:v="#edebe9",isIndeterminate:g,...x}=t,w=ZD({min:i,max:s,value:f,valueText:l,getValueText:d,isIndeterminate:g}),b=g?void 0:(w.percent??0)*2.64,S=b==null?void 0:`${b} ${264-b}`,C=g?{css:{animation:`${pte} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:S,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},B={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:r};return e.jsxs(Qt.div,{ref:n,className:"chakra-progress",...w.bind,...x,__css:B,children:[e.jsxs(qD,{size:r,isIndeterminate:g,children:[e.jsx(rS,{stroke:v,strokeWidth:a,className:"chakra-progress__track"}),e.jsx(rS,{stroke:m,strokeWidth:a,className:"chakra-progress__indicator",strokeLinecap:u?"round":void 0,opacity:w.value===0&&!g?0:void 0,...C})]}),h]})});JD.displayName="CircularProgress";const[xte,yte]=Ws({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),jte=cn((t,n)=>{const{min:r,max:s,value:i,isIndeterminate:l,role:d,...f}=t,u=ZD({value:i,min:r,max:s,isIndeterminate:l,role:d}),a={height:"100%",...yte().filledTrack};return e.jsx(Qt.div,{ref:n,style:{width:`${u.percent}%`,...f.style},...u.bind,...f,__css:a})}),df=cn((t,n)=>{const{value:r,min:s=0,max:i=100,hasStripe:l,isAnimated:d,children:f,borderRadius:u,isIndeterminate:h,"aria-label":a,"aria-labelledby":m,"aria-valuetext":v,title:g,role:x,...w}=ei(t),b=Za("Progress",t),S=u??b.track?.borderRadius,C={animation:`${vte} 1s linear infinite`},N={...!h&&l&&d&&C,...h&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${gte} 1s ease infinite normal none running`}},Q={overflow:"hidden",position:"relative",...b.track};return e.jsx(Qt.div,{ref:n,borderRadius:S,__css:Q,...w,children:e.jsxs(xte,{value:b,children:[e.jsx(jte,{"aria-label":a,"aria-labelledby":m,"aria-valuetext":v,min:s,max:i,value:r,isIndeterminate:h,css:N,borderRadius:S,title:g,role:x}),f]})})});df.displayName="Progress";const eP=cn(function(n,r){const{children:s,placeholder:i,className:l,...d}=n;return e.jsxs(Qt.select,{...d,ref:r,className:En("chakra-select",l),children:[i&&e.jsx("option",{value:"",children:i}),s]})});eP.displayName="SelectField";const gn=cn((t,n)=>{const r=Za("Select",t),{rootProps:s,placeholder:i,icon:l,color:d,height:f,h:u,minH:h,minHeight:a,iconColor:m,iconSize:v,...g}=ei(t),[x,w]=XU(g,iM),b=KC(w),S={width:"100%",height:"fit-content",position:"relative",color:d},C={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...r.field?._focus}};return e.jsxs(Qt.div,{className:"chakra-select__wrapper",__css:S,...x,...s,children:[e.jsx(eP,{ref:n,height:u??f,minH:h??a,placeholder:i,...b,__css:C,children:t.children}),e.jsx(tP,{"data-disabled":ss(b.disabled),...(m||d)&&{color:m||d},__css:r.icon,...v&&{fontSize:v},children:l})]})});gn.displayName="Select";const bte=t=>e.jsx("svg",{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),wte=Qt("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),tP=t=>{const{children:n=e.jsx(bte,{}),...r}=t,s=T.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return e.jsx(wte,{...r,className:"chakra-select__icon-wrapper",children:T.isValidElement(n)?s:null})};tP.displayName="SelectIcon";function Aw(t){const{orientation:n,vertical:r,horizontal:s}=t;return n==="vertical"?r:s}function Ste(t){const{orientation:n,thumbPercents:r,isReversed:s}=t,i=g=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...Aw({orientation:n,vertical:{bottom:`${r[g]}%`,transform:"translate(-50%, 50%) scale(var(--slider-thumb-scale, 1))"},horizontal:{left:`${r[g]}%`,transform:"translate(-50%, -50%) scale(var(--slider-thumb-scale, 1))"}})}),l={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},d={position:"absolute",...Aw({orientation:n,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},f=r.length===1,u=[0,s?100-r[0]:r[0]],h=f?u:r;let a=h[0];!f&&s&&(a=100-a);const m=Math.abs(h[h.length-1]-h[0]),v={...d,...Aw({orientation:n,vertical:s?{height:`${m}%`,top:`${a}%`}:{height:`${m}%`,bottom:`${a}%`},horizontal:s?{width:`${m}%`,right:`${a}%`}:{width:`${m}%`,left:`${a}%`}})};return{trackStyle:d,innerTrackStyle:v,rootStyle:l,getThumbStyle:i}}function Cte(t){const{isReversed:n,direction:r,orientation:s}=t;return r==="ltr"||s==="vertical"?n:!n}function Bte(t){const{min:n=0,max:r=100,onChange:s,value:i,defaultValue:l,isReversed:d,direction:f="ltr",orientation:u="horizontal",id:h,isDisabled:a,isReadOnly:m,onChangeStart:v,onChangeEnd:g,step:x=1,getAriaValueText:w,"aria-valuetext":b,"aria-label":S,"aria-labelledby":C,name:B,focusThumbOnChange:F=!0,...N}=t,Q=Fa(v),z=Fa(g),k=Fa(w),K=Cte({isReversed:d,direction:f,orientation:u}),[se,V]=Pg({value:i,defaultValue:l??Tte(n,r),onChange:s}),[q,le]=T.useState(!1),[ae,ie]=T.useState(!1),J=!(a||m),G=(r-n)/10,W=x||(r-n)/100,pe=Qy(se,n,r),oe=r-pe+n,$=PE(K?oe:pe,n,r),M=u==="vertical",ee=Y3({min:n,max:r,step:x,isDisabled:a,value:pe,isInteractive:J,isReversed:K,isVertical:M,eventSource:null,focusThumbOnChange:F,orientation:u}),re=T.useRef(null),me=T.useRef(null),De=T.useRef(null),Ue=T.useId(),Ne=h??Ue,[Ke,rt]=[`slider-thumb-${Ne}`,`slider-track-${Ne}`],et=T.useCallback(Ct=>{if(!re.current)return;const Ye=ee.current;Ye.eventSource="pointer";const Zt=re.current.getBoundingClientRect(),{clientX:on,clientY:pn}=Ct.touches?.[0]??Ct,Tt=M?Zt.bottom-pn:on-Zt.left,nn=M?Zt.height:Zt.width;let xt=Tt/nn;K&&(xt=1-xt);let an=$U(xt,Ye.min,Ye.max);return Ye.step&&(an=parseFloat(RE(an,Ye.min,Ye.step))),an=Qy(an,Ye.min,Ye.max),an},[M,K,ee]),wt=T.useCallback(Ct=>{const Ye=ee.current;Ye.isInteractive&&(Ct=parseFloat(RE(Ct,Ye.min,W)),Ct=Qy(Ct,Ye.min,Ye.max),V(Ct))},[W,V,ee]),nt=T.useMemo(()=>({stepUp(Ct=W){const Ye=K?pe-Ct:pe+Ct;wt(Ye)},stepDown(Ct=W){const Ye=K?pe+Ct:pe-Ct;wt(Ye)},reset(){wt(l||0)},stepTo(Ct){wt(Ct)}}),[wt,K,pe,W,l]),Ee=T.useCallback(Ct=>{const Ye=ee.current,on={ArrowRight:()=>nt.stepUp(),ArrowUp:()=>nt.stepUp(),ArrowLeft:()=>nt.stepDown(),ArrowDown:()=>nt.stepDown(),PageUp:()=>nt.stepUp(G),PageDown:()=>nt.stepDown(G),Home:()=>wt(Ye.min),End:()=>wt(Ye.max)}[Ct.key];on&&(Ct.preventDefault(),Ct.stopPropagation(),on(Ct),Ye.eventSource="keyboard")},[nt,wt,G,ee]),at=k?.(pe)??b,{getThumbStyle:Gt,rootStyle:Oe,trackStyle:ce,innerTrackStyle:ve}=T.useMemo(()=>{const Ct=ee.current;return Ste({isReversed:K,orientation:Ct.orientation,thumbPercents:[$]})},[K,$,ee]),Ge=T.useCallback(()=>{ee.current.focusThumbOnChange&&setTimeout(()=>me.current?.focus())},[ee]);pf(()=>{const Ct=ee.current;Ge(),Ct.eventSource==="keyboard"&&z?.(Ct.value)},[pe,z]);function vt(Ct){const Ye=et(Ct);Ye!=null&&Ye!==ee.current.value&&V(Ye)}C6(De,{onPanSessionStart(Ct){const Ye=ee.current;Ye.isInteractive&&(le(!0),Ge(),vt(Ct),Q?.(Ye.value))},onPanSessionEnd(){const Ct=ee.current;Ct.isInteractive&&(le(!1),z?.(Ct.value))},onPan(Ct){ee.current.isInteractive&&vt(Ct)}});const _t=T.useCallback((Ct={},Ye=null)=>({...Ct,...N,ref:ia(Ye,De),tabIndex:-1,"aria-disabled":vd(a),"data-focused":ss(ae),style:{...Ct.style,...Oe}}),[N,a,ae,Oe]),Je=T.useCallback((Ct={},Ye=null)=>({...Ct,ref:ia(Ye,re),id:rt,"data-disabled":ss(a),style:{...Ct.style,...ce}}),[a,rt,ce]),We=T.useCallback((Ct={},Ye=null)=>({...Ct,ref:Ye,style:{...Ct.style,...ve}}),[ve]),yt=T.useCallback((Ct={},Ye=null)=>({...Ct,ref:ia(Ye,me),role:"slider",tabIndex:J?0:void 0,id:Ke,"data-active":ss(q),"aria-valuetext":at,"aria-valuemin":n,"aria-valuemax":r,"aria-valuenow":pe,"aria-orientation":u,"aria-disabled":vd(a),"aria-readonly":vd(m),"aria-label":S,"aria-labelledby":S?void 0:C,style:{...Ct.style,...Gt(0)},onKeyDown:Ur(Ct.onKeyDown,Ee),onFocus:Ur(Ct.onFocus,()=>ie(!0)),onBlur:Ur(Ct.onBlur,()=>ie(!1))}),[J,Ke,q,at,n,r,pe,u,a,m,S,C,Gt,Ee]),zt=T.useCallback((Ct,Ye=null)=>{const Zt=!(Ct.value<n||Ct.value>r),on=pe>=Ct.value,pn=PE(Ct.value,n,r),Tt={position:"absolute",pointerEvents:"none",...Ete({orientation:u,vertical:{bottom:K?`${100-pn}%`:`${pn}%`},horizontal:{left:K?`${100-pn}%`:`${pn}%`}})};return{...Ct,ref:Ye,role:"presentation","aria-hidden":!0,"data-disabled":ss(a),"data-invalid":ss(!Zt),"data-highlighted":ss(on),style:{...Ct.style,...Tt}}},[a,K,r,n,u,pe]),ut=T.useCallback((Ct={},Ye=null)=>({...Ct,ref:Ye,type:"hidden",value:pe,name:B}),[B,pe]);return{state:{value:pe,isFocused:ae,isDragging:q},actions:nt,getRootProps:_t,getTrackProps:Je,getInnerTrackProps:We,getThumbProps:yt,getMarkerProps:zt,getInputProps:ut}}function Ete(t){const{orientation:n,vertical:r,horizontal:s}=t;return n==="vertical"?r:s}function Tte(t,n){return n<t?t:t+(n-t)/2}const[Ite,f1]=Ws({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[_te,p1]=Ws({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),nP=cn((t,n)=>{const r={...t,orientation:t?.orientation??"horizontal"},s=Za("Slider",r),i=ei(r),{direction:l}=Bf();i.direction=l;const{getInputProps:d,getRootProps:f,...u}=Bte(i),h=f(),a=d({},n);return e.jsx(Ite,{value:u,children:e.jsx(_te,{value:s,children:e.jsxs(Qt.div,{...h,className:En("chakra-slider",r.className),__css:s.container,children:[r.children,e.jsx("input",{...a})]})})})});nP.displayName="Slider";const rP=cn((t,n)=>{const{getThumbProps:r}=f1(),s=p1(),i=r(t,n);return e.jsx(Qt.div,{...i,className:En("chakra-slider__thumb",t.className),__css:s.thumb})});rP.displayName="SliderThumb";const sP=cn((t,n)=>{const{getTrackProps:r}=f1(),s=p1(),i=r(t,n);return e.jsx(Qt.div,{...i,className:En("chakra-slider__track",t.className),__css:s.track})});sP.displayName="SliderTrack";const iP=cn((t,n)=>{const{getInnerTrackProps:r}=f1(),s=p1(),i=r(t,n);return e.jsx(Qt.div,{...i,className:En("chakra-slider__filled-track",t.className),__css:s.filledTrack})});iP.displayName="SliderFilledTrack";const Fte=cn((t,n)=>{const{getMarkerProps:r}=f1(),s=p1(),i=r(t,n);return e.jsx(Qt.div,{...i,className:En("chakra-slider__marker",t.className),__css:s.mark})});Fte.displayName="SliderMark";const oP=Qt("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});oP.displayName="Spacer";const aP=t=>e.jsx(Qt.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});aP.displayName="StackItem";function Lte(t){const{spacing:n,direction:r}=t,s={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Hj(r,i=>s[i])}}const kA=cn((t,n)=>{const{isInline:r,direction:s,align:i,justify:l,spacing:d="0.5rem",wrap:f,children:u,divider:h,className:a,shouldWrapChildren:m,...v}=t,g=r?"row":s??"column",x=T.useMemo(()=>Lte({spacing:d,direction:g}),[d,g]),w=!!h,b=!m&&!w,S=T.useMemo(()=>{const B=bf(u);return b?B:B.map((F,N)=>{const Q=typeof F.key<"u"?F.key:N,z=N+1===B.length,K=m?e.jsx(aP,{children:F},Q):F;if(!w)return K;const se=T.cloneElement(h,{__css:x}),V=z?null:se;return e.jsxs(T.Fragment,{children:[K,V]},Q)})},[h,x,w,b,m,u]),C=En("chakra-stack",a);return e.jsx(Qt.div,{ref:n,display:"flex",alignItems:i,justifyContent:l,flexDirection:g,flexWrap:f,gap:w?void 0:d,className:C,...v,children:S})});kA.displayName="Stack";const Te=cn((t,n)=>e.jsx(kA,{align:"center",...t,direction:"row",ref:n}));Te.displayName="HStack";const Be=cn((t,n)=>e.jsx(kA,{align:"center",...t,direction:"column",ref:n}));Be.displayName="VStack";const[Dte,m1]=Ws({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),Zn=cn(function(n,r){const s=Za("Stat",n),i={position:"relative",flex:"1 1 0%",...s.container},{className:l,children:d,...f}=ei(n);return e.jsx(Dte,{value:s,children:e.jsx(Qt.div,{ref:r,...f,className:En("chakra-stat",l),__css:i,children:e.jsx("dl",{children:d})})})});Zn.displayName="Stat";const lP=t=>e.jsx(ws,{color:"red.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})});lP.displayName="StatDownArrow";function cP(t){return e.jsx(ws,{color:"green.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})})}cP.displayName="StatUpArrow";function qm(t){const{type:n,"aria-label":r,...s}=t,i=m1(),l=n==="increase"?cP:lP,f=r||(n==="increase"?"increased by":"decreased by");return e.jsxs(e.Fragment,{children:[e.jsx(Qt.span,{srOnly:!0,children:f}),e.jsx(l,{"aria-hidden":!0,...s,__css:i.icon})]})}qm.displayName="StatArrow";const xB=cn(function(n,r){return e.jsx(Qt.div,{...n,ref:r,role:"group",className:En("chakra-stat__group",n.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})});xB.displayName="StatGroup";const qc=cn(function(n,r){const s=m1();return e.jsx(Qt.dd,{ref:r,...n,className:En("chakra-stat__help-text",n.className),__css:s.helpText})});qc.displayName="StatHelpText";const qn=cn(function(n,r){const s=m1();return e.jsx(Qt.dt,{ref:r,...n,className:En("chakra-stat__label",n.className),__css:s.label})});qn.displayName="StatLabel";const Jn=cn(function(n,r){const s=m1();return e.jsx(Qt.dd,{ref:r,...n,className:En("chakra-stat__number",n.className),__css:{...s.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});Jn.displayName="StatNumber";const vo=cn(function(n,r){const s=Za("Switch",n),{spacing:i="0.5rem",children:l,...d}=ei(n),{getIndicatorProps:f,getInputProps:u,getCheckboxProps:h,getRootProps:a,getLabelProps:m}=LL(d),v=T.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...s.container}),[s.container]),g=T.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...s.track}),[s.track]),x=T.useMemo(()=>({userSelect:"none",marginStart:i,...s.label}),[i,s.label]);return e.jsxs(Qt.label,{...a(),className:En("chakra-switch",n.className),__css:v,children:[e.jsx("input",{className:"chakra-switch__input",...u({},r)}),e.jsx(Qt.span,{...h(),className:"chakra-switch__track",__css:g,children:e.jsx(Qt.span,{__css:s.thumb,className:"chakra-switch__thumb",...f()})}),l&&e.jsx(Qt.span,{className:"chakra-switch__label",...m(),__css:x,children:l})]})});vo.displayName="Switch";const[Pte,mx]=Ws({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),Is=cn((t,n)=>{const r=Za("Table",t),{className:s,layout:i,...l}=ei(t);return e.jsx(Pte,{value:r,children:e.jsx(Qt.table,{ref:n,__css:{tableLayout:i,...r.table},className:En("chakra-table",s),...l})})});Is.displayName="Table";const Rs=cn((t,n)=>{const r=mx();return e.jsx(Qt.tbody,{...t,ref:n,__css:r.tbody})}),lt=cn(({isNumeric:t,...n},r)=>{const s=mx();return e.jsx(Qt.td,{...n,ref:r,__css:s.td,"data-is-numeric":t})}),At=cn(({isNumeric:t,...n},r)=>{const s=mx();return e.jsx(Qt.th,{...n,ref:r,__css:s.th,"data-is-numeric":t})}),Ns=cn((t,n)=>{const r=mx();return e.jsx(Qt.thead,{...t,ref:n,__css:r.thead})}),Rn=cn((t,n)=>{const r=mx();return e.jsx(Qt.tr,{...t,ref:n,__css:r.tr})}),[Rte,Nte,Ote,Ute]=o1();function Mte(t){const{defaultIndex:n,onChange:r,index:s,isManual:i,isLazy:l,lazyBehavior:d="unmount",orientation:f="horizontal",direction:u="ltr",...h}=t,[a,m]=T.useState(n??0),[v,g]=Pg({defaultValue:n??0,value:s,onChange:r});T.useEffect(()=>{s!=null&&m(s)},[s]);const x=Ote(),w=T.useId();return{id:`tabs-${t.id??w}`,selectedIndex:v,focusedIndex:a,setSelectedIndex:g,setFocusedIndex:m,isManual:i,isLazy:l,lazyBehavior:d,orientation:f,descendants:x,direction:u,htmlProps:h}}const[kte,g1]=Ws({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function Qte(t){const{focusedIndex:n,orientation:r,direction:s}=g1(),i=Nte(),l=T.useCallback(d=>{const f=()=>{const C=i.nextEnabled(n);C&&C.node?.focus()},u=()=>{const C=i.prevEnabled(n);C&&C.node?.focus()},h=()=>{const C=i.firstEnabled();C&&C.node?.focus()},a=()=>{const C=i.lastEnabled();C&&C.node?.focus()},m=r==="horizontal",v=r==="vertical",g=d.key,x=s==="ltr"?"ArrowLeft":"ArrowRight",w=s==="ltr"?"ArrowRight":"ArrowLeft",S={[x]:()=>m&&u(),[w]:()=>m&&f(),ArrowDown:()=>v&&f(),ArrowUp:()=>v&&u(),Home:h,End:a}[g];S&&(d.preventDefault(),S(d))},[i,n,r,s]);return{...t,role:"tablist","aria-orientation":r,onKeyDown:Ur(t.onKeyDown,l)}}function zte(t){const{isDisabled:n=!1,isFocusable:r=!1,...s}=t,{setSelectedIndex:i,isManual:l,id:d,setFocusedIndex:f,selectedIndex:u}=g1(),{index:h,register:a}=Ute({disabled:n&&!r}),m=h===u,v=()=>{i(h)},g=()=>{f(h),!l&&!(n&&r)&&i(h)};return{...ID({...s,ref:ia(a,t.ref),isDisabled:n,isFocusable:r,onClick:Ur(t.onClick,v)}),id:uP(d,h),role:"tab",tabIndex:m?0:-1,type:"button","aria-selected":m,"aria-controls":AP(d,h),onFocus:n?void 0:Ur(t.onFocus,g)}}const[Hte,Vte]=Ws({});function $te(t){const n=g1(),{id:r,selectedIndex:s}=n,l=bf(t.children).map((d,f)=>T.createElement(Hte,{key:d.key??f,value:{isSelected:f===s,id:AP(r,f),tabId:uP(r,f),selectedIndex:s}},d));return{...t,children:l}}function Gte(t){const{children:n,...r}=t,{isLazy:s,lazyBehavior:i}=g1(),{isSelected:l,id:d,tabId:f}=Vte(),u=T.useRef(!1);l&&(u.current=!0);const h=V3({wasSelected:u.current,isSelected:l,enabled:s,mode:i});return{tabIndex:0,...r,children:h?n:null,role:"tabpanel","aria-labelledby":f,hidden:!l,id:d}}function uP(t,n){return`${t}--tab-${n}`}function AP(t,n){return`${t}--tabpanel-${n}`}const[Kte,v1]=Ws({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),Eu=cn(function(n,r){const s=Za("Tabs",n),{children:i,className:l,...d}=ei(n),{htmlProps:f,descendants:u,...h}=Mte(d),a=T.useMemo(()=>h,[h]),{isFitted:m,...v}=f,g={position:"relative",...s.root};return e.jsx(Rte,{value:u,children:e.jsx(kte,{value:a,children:e.jsx(Kte,{value:s,children:e.jsx(Qt.div,{className:En("chakra-tabs",l),ref:r,...v,__css:g,children:i})})})})});Eu.displayName="Tabs";const $r=cn(function(n,r){const s=v1(),i=zte({...n,ref:r}),l={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...s.tab};return e.jsx(Qt.button,{...i,className:En("chakra-tabs__tab",n.className),__css:l})});$r.displayName="Tab";const Tu=cn(function(n,r){const s=Qte({...n,ref:r}),i=v1(),l={display:"flex",...i.tablist};return e.jsx(Qt.div,{...s,className:En("chakra-tabs__tablist",n.className),__css:l})});Tu.displayName="TabList";const Gr=cn(function(n,r){const s=Gte({...n,ref:r}),i=v1();return e.jsx(Qt.div,{outline:"0",...s,className:En("chakra-tabs__tab-panel",n.className),__css:i.tabpanel})});Gr.displayName="TabPanel";const Iu=cn(function(n,r){const s=$te(n),i=v1();return e.jsx(Qt.div,{...s,width:"100%",ref:r,className:En("chakra-tabs__tab-panels",n.className),__css:i.tabpanels})});Iu.displayName="TabPanels";const[Wte,dP]=Ws({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Sd=cn((t,n)=>{const r=Za("Tag",t),s=ei(t),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...r.container};return e.jsx(Wte,{value:r,children:e.jsx(Qt.span,{ref:n,...s,__css:i})})});Sd.displayName="Tag";const Cd=cn((t,n)=>{const r=dP();return e.jsx(Qt.span,{ref:n,noOfLines:1,...t,__css:r.label})});Cd.displayName="TagLabel";const sS=cn((t,n)=>e.jsx(ws,{ref:n,verticalAlign:"top",marginEnd:"0.5rem",...t}));sS.displayName="TagLeftIcon";const Yte=cn((t,n)=>e.jsx(ws,{ref:n,verticalAlign:"top",marginStart:"0.5rem",...t}));Yte.displayName="TagRightIcon";const hP=t=>e.jsx(ws,{verticalAlign:"inherit",viewBox:"0 0 512 512",...t,children:e.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});hP.displayName="TagCloseIcon";const yB=cn((t,n)=>{const{isDisabled:r,children:s,...i}=t,d={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...dP().closeButton};return e.jsx(Qt.button,{ref:n,"aria-label":"close",...i,type:"button",disabled:r,__css:d,children:s||e.jsx(hP,{})})});yB.displayName="TagCloseButton";const Xte=["h","minH","height","minHeight"],xr=cn((t,n)=>{const r=kc("Textarea",t),{className:s,rows:i,...l}=ei(t),d=KC(l),f=i?nx(r,Xte):r;return e.jsx(Qt.textarea,{ref:n,rows:i,...d,className:En("chakra-textarea",s),__css:f})});xr.displayName="Textarea";function Zte(t,n){const r=t??"bottom";return{"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r]?.[n]??r}function qte(t,n){const r=i=>({...n,...i,position:Zte(i?.position??n?.position,t)}),s=i=>{const l=r(i),d=vL(l);return pd.notify(d,l)};return s.update=(i,l)=>{pd.update(i,r(l))},s.promise=(i,l)=>{const d=s({...l.loading,status:"loading",duration:null});i.then(f=>s.update(d,{status:"success",duration:5e3,...xu(l.success,f)})).catch(f=>s.update(d,{status:"error",duration:5e3,...xu(l.error,f)}))},s.closeAll=pd.closeAll,s.close=pd.close,s.isActive=pd.isActive,s}function Hr(t){const{theme:n}=hL(),r=gY();return T.useMemo(()=>qte(n.direction,{...r,...t}),[t,n.direction,r])}const Jte={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},iS=t=>t.current?.ownerDocument||document,aj=t=>t.current?.ownerDocument?.defaultView||window;function ene(t={}){const{openDelay:n=0,closeDelay:r=0,closeOnClick:s=!0,closeOnMouseDown:i,closeOnScroll:l,closeOnPointerDown:d=i,closeOnEsc:f=!0,onOpen:u,onClose:h,placement:a,id:m,isOpen:v,defaultIsOpen:g,arrowSize:x=10,arrowShadowColor:w,arrowPadding:b,modifiers:S,isDisabled:C,gutter:B,offset:F,direction:N,...Q}=t,{isOpen:z,onOpen:k,onClose:K}=er({isOpen:v,defaultIsOpen:g,onOpen:u,onClose:h}),{referenceRef:se,getPopperProps:V,getArrowInnerProps:q,getArrowProps:le}=TD({enabled:z,placement:a,arrowPadding:b,modifiers:S,gutter:B,offset:F,direction:N}),ae=T.useId(),J=`tooltip-${m??ae}`,G=T.useRef(null),W=T.useRef(void 0),pe=T.useCallback(()=>{W.current&&(clearTimeout(W.current),W.current=void 0)},[]),oe=T.useRef(void 0),he=T.useCallback(()=>{oe.current&&(clearTimeout(oe.current),oe.current=void 0)},[]),$=T.useCallback(()=>{he(),K()},[K,he]),M=tne(G,$),ee=T.useCallback(()=>{if(!C&&!W.current){z&&M();const et=aj(G);W.current=et.setTimeout(k,n)}},[M,C,z,k,n]),re=T.useCallback(()=>{pe();const et=aj(G);oe.current=et.setTimeout($,r)},[r,$,pe]),me=T.useCallback(()=>{z&&s&&re()},[s,re,z]),De=T.useCallback(()=>{z&&d&&re()},[d,re,z]),Ue=T.useCallback(et=>{z&&et.key==="Escape"&&re()},[z,re]);lv(()=>iS(G),"keydown",f?Ue:void 0),lv(()=>{if(!l)return null;const et=G.current;if(!et)return null;const wt=K3(et);return wt.localName==="body"?aj(G):wt},"scroll",()=>{z&&l&&$()},{passive:!0,capture:!0}),T.useEffect(()=>{C&&(pe(),z&&K())},[C,z,K,pe]),T.useEffect(()=>()=>{pe(),he()},[pe,he]),lv(()=>G.current,"pointerleave",re);const Ne=T.useCallback((et={},wt=null)=>({...et,ref:ia(G,wt,se),onPointerEnter:Ur(et.onPointerEnter,Ee=>{Ee.pointerType!=="touch"&&ee()}),onClick:Ur(et.onClick,me),onPointerDown:Ur(et.onPointerDown,De),onFocus:Ur(et.onFocus,ee),onBlur:Ur(et.onBlur,re),"aria-describedby":z?J:void 0}),[ee,re,De,z,J,me,se]),Ke=T.useCallback((et={},wt=null)=>V({...et,style:{...et.style,[ql.arrowSize.var]:x?`${x}px`:void 0,[ql.arrowShadowColor.var]:w}},wt),[V,x,w]),rt=T.useCallback((et={},wt=null)=>{const nt={...et.style,position:"relative",transformOrigin:ql.transformOrigin.varRef};return{ref:wt,...Q,...et,id:J,role:"tooltip",style:nt}},[Q,J]);return{isOpen:z,show:ee,hide:re,getTriggerProps:Ne,getTooltipProps:rt,getTooltipPositionerProps:Ke,getArrowProps:le,getArrowInnerProps:q}}const dw="chakra-ui:close-tooltip";function tne(t,n){return T.useEffect(()=>{const r=iS(t);return r.addEventListener(dw,n),()=>r.removeEventListener(dw,n)},[n,t]),()=>{const r=iS(t),s=aj(t);r.dispatchEvent(new s.CustomEvent(dw))}}const nne=Qt(Td.div),Jl=cn((t,n)=>{const r=kc("Tooltip",t),s=ei(t),i=Bf(),{children:l,label:d,shouldWrapChildren:f,"aria-label":u,hasArrow:h,bg:a,portalProps:m,background:v,backgroundColor:g,bgColor:x,motionProps:w,animatePresenceProps:b,...S}=s,C=v??g??a??x;if(C){r.bg=C;const se=pM(i,"colors",C);r[ql.arrowBg.var]=se}const B=ene({...S,direction:i.direction}),F=!T.isValidElement(l)||f;let N;if(F)N=e.jsx(Qt.span,{display:"inline-block",tabIndex:0,...B.getTriggerProps(),children:l});else{const se=T.Children.only(l);N=T.cloneElement(se,B.getTriggerProps(se.props,hte(se)))}const Q=!!u,z=B.getTooltipProps({},n),k=Q?nx(z,["role","id"]):z,K=$3(z,["role","id"]);return d?e.jsxs(e.Fragment,{children:[N,e.jsx(Sf,{...b,children:B.isOpen&&e.jsx(Ug,{...m,children:e.jsx(Qt.div,{...B.getTooltipPositionerProps(),__css:{zIndex:r.zIndex,pointerEvents:"none"},children:e.jsxs(nne,{variants:Jte,initial:"exit",animate:"enter",exit:"exit",...w,...k,__css:r,children:[d,Q&&e.jsx(Qt.span,{srOnly:!0,...K,children:u}),h&&e.jsx(Qt.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:e.jsx(Qt.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:r.bg}})})]})})})})]}):e.jsx(e.Fragment,{children:l})});Jl.displayName="Tooltip";const ht=cn(function(n,r){const s=kc("Heading",n),{className:i,...l}=ei(n);return e.jsx(Qt.h2,{ref:r,className:En("chakra-heading",n.className),...l,__css:s})});ht.displayName="Heading";const Z=cn(function(n,r){const s=kc("Text",n),{className:i,align:l,decoration:d,casing:f,...u}=ei(n),h=tx({textAlign:n.align,textDecoration:n.decoration,textTransform:n.casing});return e.jsx(Qt.p,{ref:r,className:En("chakra-text",n.className),...h,...u,__css:s})});Z.displayName="Text";const fP=Qt("span",{baseStyle:YC});fP.displayName="VisuallyHidden";const rne=Qt("input",{baseStyle:YC});rne.displayName="VisuallyHiddenInput";const pP=cn(function(n,r){const{spacing:s="0.5rem",spacingX:i,spacingY:l,children:d,justify:f,direction:u,align:h,className:a,shouldWrapChildren:m,...v}=n,g=T.useMemo(()=>m?T.Children.map(d,(x,w)=>e.jsx(mP,{children:x},w)):d,[d,m]);return e.jsx(Qt.div,{ref:r,className:En("chakra-wrap",a),...v,children:e.jsx(Qt.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:f,alignItems:h,flexDirection:u,listStyleType:"none",gap:s,columnGap:i,rowGap:l,padding:"0"},children:g})})});pP.displayName="Wrap";const mP=cn(function(n,r){const{className:s,...i}=n;return e.jsx(Qt.li,{ref:r,__css:{display:"flex",alignItems:"flex-start"},className:En("chakra-wrap__listitem",s),...i})});mP.displayName="WrapItem";const sne=CX({fonts:{heading:"Montserrat, system-ui, sans-serif",body:"Montserrat, system-ui, sans-serif"},styles:{global:{body:{fontFamily:"Montserrat, system-ui, sans-serif",bg:"gray.50",color:"gray.800"},"*":{borderColor:"gray.200"}}},colors:{rbe:{50:"#fef2f4",100:"#fde2e7",200:"#facbd4",300:"#f5a3b2",400:"#ed7189",500:"#e14964",600:"#be003c",700:"#9f1d3d",800:"#881b38",900:"#751a35"},brand:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},gray:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"}},semanticTokens:{colors:{primary:{default:"rbe.600",_dark:"rbe.400"},accent:{default:"rbe.500",_dark:"rbe.300"},background:{default:"gray.50",_dark:"gray.900"},surface:{default:"white",_dark:"gray.800"},muted:{default:"gray.100",_dark:"gray.700"}}},components:{Card:{baseStyle:{container:{fontFamily:"Montserrat, system-ui, sans-serif",borderRadius:"xl",boxShadow:"sm",border:"1px solid",borderColor:"gray.200",transition:"all 0.2s ease-out",_hover:{boxShadow:"md",transform:"translateY(-2px)"}}},variants:{modern:{container:{bg:"white",borderRadius:"2xl",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"none",_hover:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transform:"translateY(-4px)"}}},gradient:{container:{bgGradient:"linear(to-br, rbe.500, rbe.700)",color:"white",border:"none",_hover:{bgGradient:"linear(to-br, rbe.400, rbe.600)"}}}}},Heading:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",letterSpacing:"-0.025em",lineHeight:"shorter"},variants:{page:{fontSize:{base:"2xl",md:"4xl"},fontWeight:"800",bgGradient:"linear(to-r, rbe.600, rbe.800)",bgClip:"text",textAlign:"center",mb:2},section:{fontSize:{base:"xl",md:"2xl"},fontWeight:"700",color:"gray.800",mb:4},card:{fontSize:{base:"lg",md:"xl"},fontWeight:"600",color:"gray.700"}}},Text:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",lineHeight:"relaxed"},variants:{subtitle:{fontSize:{base:"md",md:"lg"},color:"gray.600",textAlign:"center",maxW:"2xl",mx:"auto"},description:{fontSize:"sm",color:"gray.600",lineHeight:"relaxed"}}},Button:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",borderRadius:"lg",transition:"all 0.2s ease-out",_focus:{boxShadow:"0 0 0 3px rgba(190, 0, 60, 0.1)"}},variants:{primary:{bg:"rbe.600",color:"white",_hover:{bg:"rbe.700",transform:"translateY(-1px)",boxShadow:"lg"},_active:{bg:"rbe.800"}},secondary:{bg:"white",color:"rbe.600",borderWidth:"2px",borderColor:"rbe.600",_hover:{bg:"rbe.50",transform:"translateY(-1px)"}},modern:{bg:"white",color:"gray.700",borderWidth:"1px",borderColor:"gray.300",boxShadow:"sm",_hover:{bg:"gray.50",borderColor:"gray.400",transform:"translateY(-1px)",boxShadow:"md"}}},sizes:{modern:{h:"12",px:"6",fontSize:"sm",fontWeight:"600"}}},Container:{baseStyle:{maxW:"container.xl",px:{base:4,md:8}}},Badge:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",fontSize:"xs",textTransform:"none",borderRadius:"md",px:2,py:1}},Modal:{baseStyle:{dialog:{borderRadius:"2xl",boxShadow:"2xl"},header:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",fontSize:"xl",color:"gray.800"}}}},breakpoints:{base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},shadows:{modern:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","modern-lg":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",rbe:"0 4px 14px 0 rgba(190, 0, 60, 0.15)"},radii:{modern:"12px","modern-lg":"16px","modern-xl":"20px"}}),ine=[{code:"ADMIN",label:"Administrateur"},{code:"VOLUNTEER",label:"Bnvole"},{code:"DRIVER",label:"Conducteur"},{code:"MEMBER",label:"Membre"},{code:"PRESIDENT",label:"Prsident (hritage)"},{code:"VICE_PRESIDENT",label:"Vice-prsident (hritage)"},{code:"TRESORIER",label:"Trsorier (hritage)"},{code:"SECRETAIRE_GENERAL",label:"Secrtaire gnral (hritage)"}];function one(t){if(!t)return"MEMBER";let n=String(t).trim().toUpperCase().replace(/[-\s]+/g,"_");const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN",BENEVOLE:"VOLUNTEER",BNVOLE:"VOLUNTEER",BENEVOLES:"VOLUNTEER",BNVOLES:"VOLUNTEER",CONDUCTEUR:"DRIVER",CONDUCTEURS:"DRIVER",MEMBRE:"MEMBER",MEMBRES:"MEMBER"};return r[n]&&(n=r[n]),new Set(ine.map(i=>i.code)).has(n)?n:"MEMBER"}const gP=Ef({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),Wv=Ef({displayName:"ViewIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),ane=Ef({displayName:"ViewOffIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.jsx("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),lne=Ef({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),Tg=Ef({displayName:"DeleteIcon",path:e.jsx("g",{fill:"currentColor",children:e.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),_j=Ef({displayName:"EditIcon",path:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),cne=Ef({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),une=Ef({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});function Ane({isOpen:t,onPasswordChanged:n}){const[r,s]=T.useState(""),[i,l]=T.useState(""),[d,f]=T.useState(!1),[u,h]=T.useState(!1),[a,m]=T.useState(""),g=(w=>{let b=0;return w.length>=8&&(b+=25),/[A-Z]/.test(w)&&(b+=25),/[a-z]/.test(w)&&(b+=25),/[0-9]/.test(w)&&(b+=25),b})(r),x=async w=>{if(w.preventDefault(),m(""),r.length<6){m("Le mot de passe doit contenir au moins 6 caractres");return}if(r!==i){m("Les mots de passe ne correspondent pas");return}h(!0);try{const b=await fetch("http://localhost:3001/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newPassword:r})}),S=await b.json();if(!b.ok)throw new Error(S.error||"Erreur de changement de mot de passe");n()}catch(b){m(b.message)}finally{h(!1)}};return e.jsxs(Hn,{isOpen:t,closeOnOverlayClick:!1,closeOnEsc:!1,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Changement de mot de passe obligatoire"}),e.jsxs(Vn,{pb:6,children:[e.jsxs(ir,{status:"info",mb:4,children:[e.jsx(or,{}),"Vous devez changer votre mot de passe temporaire avant de continuer."]}),e.jsx("form",{onSubmit:x,children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nouveau mot de passe"}),e.jsxs(Up,{children:[e.jsx(Xe,{type:d?"text":"password",value:r,onChange:w=>s(w.target.value),placeholder:"Au moins 6 caractres"}),e.jsx(cB,{children:e.jsx(Pn,{variant:"ghost",size:"sm",icon:d?e.jsx(ane,{}):e.jsx(Wv,{}),onClick:()=>f(!d)})})]}),r&&e.jsxs(Be,{align:"start",spacing:1,mt:2,children:[e.jsx(Z,{fontSize:"xs",color:"gray.600",children:"Force du mot de passe:"}),e.jsx(df,{value:g,colorScheme:g<50?"red":g<75?"yellow":"green",size:"sm",width:"100%"})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Confirmer le mot de passe"}),e.jsx(Xe,{type:d?"text":"password",value:i,onChange:w=>l(w.target.value),placeholder:"Retapez le nouveau mot de passe"})]}),a&&e.jsx(Z,{color:"red.500",fontSize:"sm",children:a}),e.jsx(Ie,{type:"submit",colorScheme:"blue",width:"100%",isLoading:u,isDisabled:!r||!i,children:"Changer le mot de passe"})]})})]})]})]})}const vP={"w.belaidi":{password:"Waiyl9134#",prenom:"Waiyl",nom:"BELAIDI",roles:["ADMIN"]},"m.ravichandran":{password:"RBE2025",prenom:"Mthusan",nom:"RAVICHANDRAN",roles:["MEMBER"]},"g.champenois":{password:"RBE2026",prenom:"Galle",nom:"CHAMPENOIS",roles:["MEMBER"]},"n.tetillon":{password:"RBE185C",prenom:"Nathan",nom:"TETILLON",roles:["MEMBER"]}};async function dne(t,n){const s=`${"http://localhost:3001".replace(/\/+$/,"")}/auth/login`;try{const d=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});if(d.ok)return await d.json()}catch{}const i=String(t||"").toLowerCase(),l=vP[i];if(!l||l.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${i}`,user:{username:i,prenom:l.prenom,nom:l.nom,firstName:l.prenom,lastName:l.nom,roles:l.roles}}}async function hne(t,n){const s=`${"http://localhost:3001".replace(/\/+$/,"")}/auth/member-login`;try{const d=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:n})});if(d.ok)return await d.json()}catch{}const i=String(t||"").toLowerCase(),l=vP[i];if(!l||l.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${i}`,user:{username:i,prenom:l.prenom,nom:l.nom,firstName:l.prenom,lastName:l.nom,roles:l.roles}}}const Bp={API_BASE:"http://localhost:3001".replace(/\/+$/,""),LOCAL_DEV_TOKEN_PREFIX:"local-dev-token-",TOKEN_KEY:"token",USER_KEY:"user",CACHE_EXPIRY:300*1e3};class fne{constructor(){this.token=null,this.listeners=[]}getToken(){return this.token}setToken(n){this.token=n||null,n?localStorage.setItem(Bp.TOKEN_KEY,n):localStorage.removeItem(Bp.TOKEN_KEY),this.notifyListeners()}hydrate(){const n=localStorage.getItem(Bp.TOKEN_KEY);this.token=n||null,this.notifyListeners()}subscribe(n){return this.listeners.push(n),()=>{this.listeners=this.listeners.filter(r=>r!==n)}}notifyListeners(){this.listeners.forEach(n=>n(this.token))}}const lf=new fne;async function pne(t){if(!t)return!1;if(String(t).startsWith(Bp.LOCAL_DEV_TOKEN_PREFIX)||!Bp.API_BASE)return!0;try{const n=await fetch(`${Bp.API_BASE}/api/me`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`HTTP ${n.status}`);const r=await n.json();return!(r.disabled||r.active===!1||r.status==="DISABLED")}catch(n){return console.warn(" Session validation failed:",n.message),!1}}function mne(t){return t?{Authorization:`Bearer ${t}`}:{}}function xP(t={},n){return n?{...t,...mne(n)}:t}const gne={makeKey(t,n){return`${t}_${n}`},getIfFresh(t,n=Bp.CACHE_EXPIRY){try{const r=localStorage.getItem(t),s=localStorage.getItem(`${t}:ts`);return!r||!s?null:Date.now()-parseInt(s)>n?(this.remove(t),null):JSON.parse(r)}catch(r){return console.warn(` getIfFresh(${t}) error:`,r.message),null}},set(t,n){try{localStorage.setItem(t,JSON.stringify(n)),localStorage.setItem(`${t}:ts`,Date.now().toString())}catch(r){console.warn(` StorageManager.set(${t}) error:`,r.message)}},remove(t){try{localStorage.removeItem(t),localStorage.removeItem(`${t}:ts`)}catch(n){console.warn(` StorageManager.remove(${t}) error:`,n.message)}},clearAppCache(){const t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);!["token","user"].includes(r)&&!r.includes("pointage")&&t.push(r)}t.forEach(n=>localStorage.removeItem(n))}},yP=T.createContext(null);function vne({children:t}){const[n,r]=T.useState(()=>(lf.hydrate(),lf.getToken()||"")),[s,i]=T.useState(()=>{const ee=localStorage.getItem("user");return ee?JSON.parse(ee):null}),[l,d]=T.useState(!1),[f,u]=T.useState(!1),h=!!n,[a,m]=T.useState(null),[v,g]=T.useState(!1),[x,w]=T.useState(null),[b,S]=T.useState(null),C=T.useRef(0),[B,F]=T.useState(null),[N,Q]=T.useState(!1);T.useEffect(()=>lf.subscribe(re=>{r(re||"")}),[]),T.useEffect(()=>{s?localStorage.setItem("user",JSON.stringify(s)):localStorage.removeItem("user")},[s]);const z=ee=>{lf.setToken(ee),r(ee||"")},k=()=>{lf.setToken(null),r(""),i(null),m(null),w(null),S(null),localStorage.removeItem("user"),gne.clearAppCache()},K=async()=>{if(!n)return i(null),u(!0),!1;const ee=await pne(n);return u(!0),ee?!0:(k(),!1)},se=()=>{const ee="http://localhost:3001".replace(/\/+$/,""),re=[];return ee&&re.push(ee),re.push(""),re},V=async(ee=!1)=>{if(!n)return m(null),w("no-token"),null;const re=Date.now();if(!ee&&re-C.current<500)return a;C.current=re,g(!0),w(null);try{const me=se();let De=!1,Ue=null,Ne=null;for(const Ke of me)try{const rt=await fetch(`${Ke}/api/members/me`,{headers:{Authorization:`Bearer ${n}`}});if(Ue=rt.status,rt.ok){Ne=await rt.json(),m(Ne),S(Ke||null),De=!0;break}}catch{Ue="network";continue}return De?Ne:(m(null),w(Ue),null)}finally{g(!1)}},q=async()=>{if(!s?.id||!n)return F(null),null;Q(!0);try{const ee=se();for(const re of ee)try{const me=await fetch(`${re}/api/admin/users/${s.id}/permissions`,{headers:{Authorization:`Bearer ${n}`}});if(me.ok){const De=await me.json(),Ue=De.permissions&&Array.isArray(De.permissions)&&De.permissions.length>0?De.permissions:null;return F(Ue),Ue}}catch{continue}return F(null),null}finally{Q(!1)}};T.useEffect(()=>{K()},[]),T.useEffect(()=>{n?K().then(ee=>{if(ee){V(),q();const me=(()=>{const De="http://localhost:3001".replace(/\/+$/,""),Ue=[];return De&&Ue.push(De),Ue.push(""),Ue})();for(const De of me)fetch(`${De}/api/me`,{headers:{Authorization:`Bearer ${n}`}}).then(Ue=>Ue.ok?Ue.json():null).then(Ue=>{Ue?.user&&i(Ne=>({...Ne,...Ue.user}))}).catch(()=>null)}}):u(!0)},[n]),T.useEffect(()=>{const ee=()=>K();window.addEventListener("focus",ee);const re=setInterval(()=>K(),300*1e3);return()=>{window.removeEventListener("focus",ee),clearInterval(re)}},[n]);const le=s?.username||"",ae=s?.prenom||s?.firstName||"",ie=s?.nom||s?.lastName||"",G=(s?.roles||(s?.role?[s.role]:[])).map(ee=>one(ee)),W=G.includes("ADMIN")||G.includes("PRESIDENT")||G.includes("VICE_PRESIDENT")||G.includes("TRESORIER")||G.includes("SECRETAIRE_GENERAL"),pe=G.includes("VOLUNTEER"),oe=G.includes("DRIVER"),he=G.includes("MEMBER"),$=s?.username||s?.email||s?.id||"",M=T.useMemo(()=>({token:n,setToken:z,user:s,setUser:i,isAuthenticated:h,username:le,prenom:ae,nom:ie,roles:G,isAdmin:W,isVolunteer:pe,isDriver:oe,isMember:he,matricule:$,logout:k,sessionChecked:f,ensureSession:K,member:a,memberLoading:v,memberError:x,memberApiBase:b,refreshMember:V,customPermissions:B,permissionsLoading:N,refreshPermissions:q}),[n,s,h,le,ae,ie,G,W,pe,oe,he,$,f,a,v,x,b,B,N]);return e.jsxs(yP.Provider,{value:M,children:[t,e.jsx(Ane,{isOpen:l,onPasswordChanged:()=>{d(!1),n&&K()}})]})}function qa(){return T.useContext(yP)}const Vu="http://localhost:3001".replace(/\/+$/,""),M0=(t={})=>({"Content-Type":"application/json",...t.headers}),k0=(t,n={})=>({"Content-Type":"application/json",Authorization:`Bearer ${t}`,...n.headers}),ld=async t=>{const n=t.headers.get("content-type");if(n&&n.includes("application/json"))try{return await t.json()}catch(r){throw console.error(" Erreur parsing JSON:",r),new Error("Rponse JSON invalide du serveur")}else{const r=await t.text();throw console.error(" Rponse non-JSON reue:",r.substring(0,200)+"..."),r.includes("<!DOCTYPE")?new Error("Le serveur a renvoy une page HTML au lieu de JSON. Vrifiez l'URL de l'API."):new Error(`Rponse inattendue du serveur (${t.status}): ${r.substring(0,100)}`)}},mn={baseURL:Vu,get:async(t,n={})=>{const r=localStorage.getItem("token"),s=r?k0(r,n):M0(n);console.log(` GET ${Vu}${t}`);try{const i=await fetch(`${Vu}${t}`,{method:"GET",headers:s,...n});if(console.log(` Response status: ${i.status}`),!i.ok){if(i.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const l=await ld(i),d=l?.error||l?.message||`HTTP ${i.status}`;throw new Error(d)}return await ld(i)}catch(i){throw console.error(` Erreur GET ${t}:`,i.message),i}},post:async(t,n,r={})=>{const s=localStorage.getItem("token"),i=s?k0(s,r):M0(r);console.log(` POST ${Vu}${t}`,n);try{const l=await fetch(`${Vu}${t}`,{method:"POST",headers:i,body:JSON.stringify(n),...r});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ld(l),f=d?.error||d?.message||`HTTP ${l.status}`;throw new Error(f)}return await ld(l)}catch(l){throw console.error(` Erreur POST ${t}:`,l.message),l}},put:async(t,n,r={})=>{const s=localStorage.getItem("token"),i=s?k0(s,r):M0(r);console.log(` PUT ${Vu}${t}`,n);try{const l=await fetch(`${Vu}${t}`,{method:"PUT",headers:i,body:JSON.stringify(n),...r});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ld(l),f=d?.error||d?.message||`HTTP ${l.status}`;throw new Error(f)}return await ld(l)}catch(l){throw console.error(` Erreur PUT ${t}:`,l.message),l}},patch:async(t,n,r={})=>{const s=localStorage.getItem("token"),i=s?k0(s,r):M0(r);console.log(` PATCH ${Vu}${t}`,n);try{const l=await fetch(`${Vu}${t}`,{method:"PATCH",headers:i,body:JSON.stringify(n),...r});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ld(l),f=d?.error||d?.message||`HTTP ${l.status}`;throw new Error(f)}return await ld(l)}catch(l){throw console.error(` Erreur PATCH ${t}:`,l.message),l}},delete:async(t,n={})=>{const r=localStorage.getItem("token"),s=r?k0(r,n):M0(n);console.log(` DELETE ${Vu}${t}`);try{const i=await fetch(`${Vu}${t}`,{method:"DELETE",headers:s,...n});if(console.log(` Response status: ${i.status}`),!i.ok){if(i.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await ld(i),f=d?.error||d?.message||`HTTP ${i.status}`;throw new Error(f)}return i.headers.get("content-length")==="0"||i.status===204?{success:!0}:await ld(i)}catch(i){throw console.error(` Erreur DELETE ${t}:`,i.message),i}}},x1={getActive:async()=>{console.log(" API: getActive flashs...");const t=await mn.get("/flashes");return console.log(" API: getActive result:",t),t},getAll:async()=>{console.log(" API: getAll flashs...");const t=await mn.get("/flashes/all");return console.log(" API: getAll result:",t),t},create:async t=>{console.log(" API: create flash:",t);const n=await mn.post("/flashes",t);return console.log(" API: create result:",n),n},update:async(t,n)=>{console.log(" API: update flash:",t,n);const r=await mn.put(`/flashes/${t}`,n);return console.log(" API: update result:",r),r},delete:async t=>{console.log(" API: delete flash:",t);const n=await mn.delete(`/flashes/${t}`);return console.log(" API: delete result:",n),n}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,s)=>s?s.toUpperCase():r.toLowerCase()),BT=t=>{const n=yne(t);return n.charAt(0).toUpperCase()+n.slice(1)},jP=(...t)=>t.filter((n,r,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===r).join(" ").trim(),jne=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=T.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:d,...f},u)=>T.createElement("svg",{ref:u,...bne,width:n,height:n,stroke:t,strokeWidth:s?Number(r)*24/Number(n):r,className:jP("lucide",i),...!l&&!jne(f)&&{"aria-hidden":"true"},...f},[...d.map(([h,a])=>T.createElement(h,a)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=(t,n)=>{const r=T.forwardRef(({className:s,...i},l)=>T.createElement(wne,{ref:l,iconNode:n,className:jP(`lucide-${xne(BT(t))}`,`lucide-${t}`,s),...i}));return r.displayName=BT(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ET=gx("bell",Sne);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bne=gx("check",Cne);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tne=gx("settings",Ene);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_ne=gx("trash-2",Ine);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lne=gx("x",Fne);function Dne(){const[t,n]=T.useState([]),[r,s]=T.useState(0),[i,l]=T.useState(!1),[d,f]=T.useState(!1),[u,h]=T.useState(!1),[a,m]=T.useState({}),v=T.useCallback(async()=>{try{const C=localStorage.getItem("token");if(!C)return;const B=await fetch("/api/notifications/inbox?limit=20",{headers:{Authorization:`Bearer ${C}`}});if(!B.ok)throw new Error("Failed to fetch");const F=await B.json();F.success&&(n(F.messages||[]),s(F.unread||0))}catch(C){console.error(" Fetch notifications error:",C)}},[]),g=T.useCallback(async()=>{try{const C=localStorage.getItem("token");if(!C)return;const B=await fetch("/api/notifications/preferences",{headers:{Authorization:`Bearer ${C}`}});if(B.ok){const F=await B.json();m(F.preferences||{})}}catch(C){console.error(" Fetch preferences error:",C)}},[]),x=async C=>{try{const B=localStorage.getItem("token");(await fetch(`/api/notifications/mark-read/${C}`,{method:"PATCH",headers:{Authorization:`Bearer ${B}`}})).ok&&v()}catch(B){console.error(" Mark read error:",B)}},w=async C=>{try{const B=localStorage.getItem("token");(await fetch(`/api/notifications/message/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${B}`}})).ok&&v()}catch(B){console.error(" Delete error:",B)}},b=async()=>{try{const C=localStorage.getItem("token");(await fetch("/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${C}`}})).ok&&v()}catch(C){console.error(" Mark all read error:",C)}},S=async(C,B)=>{try{const F=localStorage.getItem("token");(await fetch("/api/notifications/preferences",{method:"PUT",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({[C]:B})})).ok&&g()}catch(F){console.error(" Update preferences error:",F)}};return T.useEffect(()=>{v(),g();const C=setInterval(v,3e4);return()=>clearInterval(C)},[v,g]),e.jsxs("div",{className:"notification-center",children:[e.jsxs("button",{className:"bell-button",onClick:()=>{l(!i),h(!1)},title:"Notifications",children:[e.jsx(ET,{size:20}),r>0&&e.jsx("span",{className:"badge",children:r>9?"9+":r})]}),i&&e.jsxs("div",{className:"notification-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsxs("h3",{children:["Notifications ",t.length>0&&`(${t.length})`]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"icon-button",onClick:()=>h(!u),title:"Paramtres",children:e.jsx(Tne,{size:16})}),e.jsx("button",{className:"close-button",onClick:()=>l(!1),children:e.jsx(Lne,{size:16})})]})]}),e.jsx("div",{className:"popup-content",children:u?e.jsxs("div",{className:"preferences-panel",children:[e.jsx("h4",{children:"Prfrences de notification"}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:a.ticketNotifications!==!1,onChange:C=>S("ticketNotifications",C.target.checked)}),e.jsx("span",{children:" Notifications de tickets"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:a.eventNotifications!==!1,onChange:C=>S("eventNotifications",C.target.checked)}),e.jsx("span",{children:" Notifications d'vnements"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:a.reportNotifications!==!1,onChange:C=>S("reportNotifications",C.target.checked)}),e.jsx("span",{children:" Notifications de rapports"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:a.maintenanceNotifications!==!1,onChange:C=>S("maintenanceNotifications",C.target.checked)}),e.jsx("span",{children:" Alertes de maintenance"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:a.systemNotifications!==!1,onChange:C=>S("systemNotifications",C.target.checked)}),e.jsx("span",{children:" Messages systme"})]})]}):e.jsx(e.Fragment,{children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(ET,{size:48}),e.jsx("p",{children:"Aucune notification"})]}):e.jsxs("div",{className:"messages-list",children:[r>0&&e.jsx("div",{className:"mark-all-read",children:e.jsx("button",{onClick:b,children:" Marquer tout comme lu"})}),t.map(C=>e.jsxs("div",{className:`message-item ${C.readAt?"read":"unread"}`,children:[e.jsxs("div",{className:"message-header",children:[e.jsx("strong",{children:C.title}),e.jsx("small",{children:Pne(new Date(C.createdAt))})]}),e.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:C.content}}),e.jsxs("div",{className:"message-footer",children:[e.jsx("small",{className:"type-badge",children:C.type}),e.jsxs("div",{className:"message-actions",children:[!C.readAt&&e.jsx("button",{className:"action-button",onClick:()=>x(C.id),title:"Marquer comme lu",children:e.jsx(Bne,{size:14})}),e.jsx("button",{className:"action-button delete",onClick:()=>w(C.id),title:"Supprimer",children:e.jsx(_ne,{size:14})})]})]})]},C.id))]})})})]})]})}function Pne(t){const r=new Date-t,s=Math.floor(r/6e4),i=Math.floor(r/36e5),l=Math.floor(r/864e5);return s<1?" l'instant":s<60?`${s}m`:i<24?`${i}h`:l<7?`${l}j`:t.toLocaleDateString("fr-FR")}const Rne="/assets/retro_intranet_essonne-BfWPiuYY.svg",Nne="/assets/flash-info-rvZ9UMs-.png",One="/assets/flash-notif-HViqZ6l6.png",Une="/assets/flash-pos-1o7mOrZv.png",mt={SITE_MANAGEMENT:"site:management",SITE_USERS:"site:users",SITE_CONFIG:"site:config",SITE_CONTENT:"site:content",VEHICLES:"vehicles:list",VEHICLE_VIEW:"vehicles:view",VEHICLE_CREATE:"vehicles:create",VEHICLE_EDIT:"vehicles:edit",VEHICLE_DELETE:"vehicles:delete",EVENTS:"events:list",EVENT_VIEW:"events:view",EVENT_CREATE:"events:create",EVENT_EDIT:"events:edit",EVENT_DELETE:"events:delete",FINANCE:"finance:access",FINANCE_VIEW:"finance:view",FINANCE_EDIT:"finance:edit",MEMBERS:"members:list",MEMBER_VIEW:"members:view",MEMBER_EDIT:"members:edit",MEMBER_DELETE:"members:delete",STOCK:"stock:access",STOCK_VIEW:"stock:view",STOCK_EDIT:"stock:edit",NEWSLETTER:"newsletter:access",RETROMAIL:"retromail:access",RETROPLANNING:"retroplanning:access",RETROPLANNING_VIEW:"retroplanning:view",RETROPLANNING_CREATE:"retroplanning:create",RETROPLANNING_RESPOND:"retroplanning:respond",RETROSUPPORT:"retrosupport:access",RETROSUPPORT_VIEW:"retrosupport:view",RETROSUPPORT_CREATE:"retrosupport:create",RETRODEMANDES:"retrodemandes:access",RETRODEMANDES_VIEW:"retrodemandes:view",RETRODEMANDES_CREATE:"retrodemandes:create",RETRODEMANDES_EDIT:"retrodemandes:edit",PERMISSIONS_MANAGEMENT:"permissions:management",PERMISSIONS_VIEW:"permissions:view",PERMISSIONS_EDIT:"permissions:edit",MYRBE:"myrbe:access",MYRBE_VIEW:"myrbe:view",MYRBE_ACCESS:"myrbe:card-access",ADMIN_PANEL:"admin:panel",ADMIN_LOGS:"admin:logs",ADMIN_SETTINGS:"admin:settings"},lj={VIEW:"view",EDIT:"edit"},jv={ADMIN:{label:"Administrateur",color:"red",permissions:{[mt.SITE_MANAGEMENT]:["access","view","edit"],[mt.SITE_USERS]:["access","view","edit"],[mt.SITE_CONFIG]:["access","view","edit"],[mt.SITE_CONTENT]:["access","view","edit"],[mt.VEHICLES]:["access","view","edit"],[mt.VEHICLE_VIEW]:["access","view","edit"],[mt.VEHICLE_CREATE]:["access","view","edit"],[mt.VEHICLE_EDIT]:["access","view","edit"],[mt.VEHICLE_DELETE]:["access","view","edit"],[mt.EVENTS]:["access","view","edit"],[mt.EVENT_VIEW]:["access","view","edit"],[mt.EVENT_CREATE]:["access","view","edit"],[mt.EVENT_EDIT]:["access","view","edit"],[mt.EVENT_DELETE]:["access","view","edit"],[mt.FINANCE]:["access","view","edit"],[mt.FINANCE_VIEW]:["access","view","edit"],[mt.FINANCE_EDIT]:["access","view","edit"],[mt.MEMBERS]:["access","view","edit"],[mt.MEMBER_VIEW]:["access","view","edit"],[mt.MEMBER_EDIT]:["access","view","edit"],[mt.MEMBER_DELETE]:["access","view","edit"],[mt.STOCK]:["access","view","edit"],[mt.STOCK_VIEW]:["access","view","edit"],[mt.STOCK_EDIT]:["access","view","edit"],[mt.NEWSLETTER]:["access","view","edit"],[mt.RETROMAIL]:["access","view","edit"],[mt.RETROPLANNING]:["access","view","edit"],[mt.RETROPLANNING_VIEW]:["access","view","edit"],[mt.RETROPLANNING_CREATE]:["access","view","edit"],[mt.RETROPLANNING_RESPOND]:["access","view","edit"],[mt.RETROSUPPORT]:["access","view","edit"],[mt.RETROSUPPORT_VIEW]:["access","view","edit"],[mt.RETROSUPPORT_CREATE]:["access","view","edit"],[mt.RETRODEMANDES]:["access","view","edit"],[mt.RETRODEMANDES_VIEW]:["access","view","edit"],[mt.RETRODEMANDES_CREATE]:["access","view","edit"],[mt.RETRODEMANDES_EDIT]:["access","view","edit"],[mt.PERMISSIONS_MANAGEMENT]:["access","view","edit"],[mt.PERMISSIONS_VIEW]:["access","view","edit"],[mt.PERMISSIONS_EDIT]:["access","view","edit"],[mt.MYRBE]:["access","view","edit"],[mt.MYRBE_VIEW]:["access","view","edit"],[mt.MYRBE_ACCESS]:["access","view","edit"],[mt.ADMIN_PANEL]:["access","view","edit"],[mt.ADMIN_LOGS]:["access","view","edit"],[mt.ADMIN_SETTINGS]:["access","view","edit"]}},PRESIDENT:{label:"Prsident",color:"red",permissions:{[mt.SITE_MANAGEMENT]:["access","view","edit"],[mt.SITE_USERS]:["access","view","edit"],[mt.SITE_CONFIG]:["access","view","edit"],[mt.SITE_CONTENT]:["access","view","edit"],[mt.VEHICLES]:["access","view","edit"],[mt.VEHICLE_VIEW]:["access","view","edit"],[mt.VEHICLE_CREATE]:["access","view","edit"],[mt.VEHICLE_EDIT]:["access","view","edit"],[mt.VEHICLE_DELETE]:["access","view"],[mt.EVENTS]:["access","view","edit"],[mt.EVENT_VIEW]:["access","view","edit"],[mt.EVENT_CREATE]:["access","view","edit"],[mt.EVENT_EDIT]:["access","view","edit"],[mt.EVENT_DELETE]:["access","view"],[mt.FINANCE]:["access","view"],[mt.FINANCE_VIEW]:["access","view"],[mt.MEMBERS]:["access","view","edit"],[mt.MEMBER_VIEW]:["access","view","edit"],[mt.MEMBER_EDIT]:["access","view","edit"],[mt.STOCK]:["access","view","edit"],[mt.STOCK_VIEW]:["access","view","edit"],[mt.STOCK_EDIT]:["access","view","edit"],[mt.NEWSLETTER]:["access","view","edit"],[mt.RETROMAIL]:["access","view"],[mt.RETROPLANNING]:["access","view","edit"],[mt.RETROPLANNING_VIEW]:["access","view","edit"],[mt.RETROPLANNING_CREATE]:["access","view","edit"],[mt.RETROPLANNING_RESPOND]:["access","view","edit"],[mt.RETROSUPPORT]:["access","view","edit"],[mt.RETROSUPPORT_VIEW]:["access","view","edit"],[mt.RETROSUPPORT_CREATE]:["access","view","edit"],[mt.RETRODEMANDES]:["access","view","edit"],[mt.RETRODEMANDES_VIEW]:["access","view","edit"],[mt.RETRODEMANDES_CREATE]:["access","view","edit"],[mt.RETRODEMANDES_EDIT]:["access","view","edit"],[mt.PERMISSIONS_MANAGEMENT]:["access","view","edit"],[mt.PERMISSIONS_VIEW]:["access","view","edit"],[mt.PERMISSIONS_EDIT]:["access","view","edit"],[mt.MYRBE]:["access","view","edit"],[mt.MYRBE_VIEW]:["access","view","edit"],[mt.MYRBE_ACCESS]:["access","view","edit"],[mt.ADMIN_LOGS]:["access","view"]}},VICE_PRESIDENT:{label:"Vice-Prsident",color:"pink",permissions:{[mt.SITE_MANAGEMENT]:["access","view"],[mt.SITE_USERS]:["access","view"],[mt.SITE_CONFIG]:["access","view"],[mt.SITE_CONTENT]:["access","view","edit"],[mt.VEHICLES]:["access","view","edit"],[mt.VEHICLE_VIEW]:["access","view","edit"],[mt.VEHICLE_CREATE]:["access","view","edit"],[mt.VEHICLE_EDIT]:["access","view","edit"],[mt.EVENTS]:["access","view","edit"],[mt.EVENT_VIEW]:["access","view","edit"],[mt.EVENT_CREATE]:["access","view","edit"],[mt.EVENT_EDIT]:["access","view","edit"],[mt.MEMBERS]:["access","view"],[mt.MEMBER_VIEW]:["access","view"],[mt.STOCK]:["access","view"],[mt.STOCK_VIEW]:["access","view"],[mt.NEWSLETTER]:["access","view","edit"],[mt.RETROMAIL]:["access","view"]}},TRESORIER:{label:"Trsorier",color:"green",permissions:{[mt.SITE_MANAGEMENT]:["access","view"],[mt.SITE_USERS]:["access","view"],[mt.SITE_CONFIG]:["access","view"],[mt.VEHICLES]:["access","view"],[mt.VEHICLE_VIEW]:["access","view"],[mt.EVENTS]:["access","view"],[mt.EVENT_VIEW]:["access","view"],[mt.FINANCE]:["access","view","edit"],[mt.FINANCE_VIEW]:["access","view","edit"],[mt.FINANCE_EDIT]:["access","view","edit"],[mt.MEMBERS]:["access","view"],[mt.MEMBER_VIEW]:["access","view"],[mt.STOCK]:["access","view"],[mt.STOCK_VIEW]:["access","view"]}},SECRETAIRE_GENERAL:{label:"Secrtaire Gnral",color:"purple",permissions:{[mt.SITE_MANAGEMENT]:["access","view"],[mt.SITE_CONTENT]:["access","view","edit"],[mt.VEHICLES]:["access","view"],[mt.VEHICLE_VIEW]:["access","view"],[mt.EVENTS]:["access","view","edit"],[mt.EVENT_VIEW]:["access","view","edit"],[mt.EVENT_CREATE]:["access","view","edit"],[mt.EVENT_EDIT]:["access","view","edit"],[mt.MEMBERS]:["access","view"],[mt.MEMBER_VIEW]:["access","view"],[mt.NEWSLETTER]:["access","view","edit"],[mt.RETROMAIL]:["access","view","edit"]}},VOLUNTEER:{label:"Bnvole",color:"orange",permissions:{[mt.VEHICLES]:["access","view"],[mt.VEHICLE_VIEW]:["access","view"],[mt.VEHICLE_CREATE]:["access","view","edit"],[mt.VEHICLE_EDIT]:["access","view","edit"],[mt.EVENTS]:["access","view"],[mt.EVENT_VIEW]:["access","view"],[mt.EVENT_CREATE]:["access","view"],[mt.MEMBERS]:["access","view"],[mt.MEMBER_VIEW]:["access","view"],[mt.STOCK]:["access","view"],[mt.STOCK_VIEW]:["access","view"],[mt.NEWSLETTER]:["access","view"]}},DRIVER:{label:"Conducteur",color:"cyan",permissions:{[mt.VEHICLES]:["access","view"],[mt.VEHICLE_VIEW]:["access","view"],[mt.EVENTS]:["access","view"],[mt.EVENT_VIEW]:["access","view"]}},PRESTATAIRE:{label:"Prestataire",color:"yellow",permissions:{[mt.RETROPLANNING]:["access","view","edit"],[mt.RETROPLANNING_VIEW]:["access","view"],[mt.RETROPLANNING_CREATE]:["access","view","edit"],[mt.RETROPLANNING_RESPOND]:["access","view","edit"],[mt.RETROSUPPORT]:["access","view","edit"],[mt.RETROSUPPORT_VIEW]:["access","view"],[mt.RETROSUPPORT_CREATE]:["access","view","edit"]}},PARTENAIRE:{label:"Partenaire",color:"teal",permissions:{[mt.MYRBE_ACCESS]:["access","view"]}},MEMBER:{label:"Membre",color:"blue",permissions:{[mt.VEHICLES]:["access","view"],[mt.VEHICLE_VIEW]:["access","view"],[mt.EVENTS]:["access","view"],[mt.EVENT_VIEW]:["access","view"],[mt.NEWSLETTER]:["access","view"]}}};function Mne(t,n,r="access",s=null){if(s&&Array.isArray(s)){const i=s.find(l=>l.resource===n||l.resource===n?.toUpperCase());if(i&&(!i.expiresAt||new Date(i.expiresAt)>new Date)){const d={access:"READ",view:"READ",read:"READ",edit:"UPDATE",update:"UPDATE",delete:"DELETE",create:"CREATE"}[r]||"READ";if(i.actions&&i.actions.includes(d))return!0}}return t==="PRESTATAIRE"?n?.startsWith("retroplanning")||n?.startsWith("retrosupport"):!0}function rh(t,n,r=null){return Mne(t,n,"access",r)}function op({to:t,exact:n=!1,children:r}){const{pathname:s}=MA(),i=n?s===t:s===t||s.startsWith(t+"/");return e.jsx(uB,{as:oo,to:t,color:i?"var(--rbe-red)":"gray.600",fontWeight:i?"bold":"normal",textDecoration:"none",position:"relative",_hover:{color:"var(--rbe-red)",textDecoration:"none"},_after:i?{content:'""',position:"absolute",bottom:"-8px",left:0,right:0,height:"2px",bg:"var(--rbe-red)",borderRadius:"1px"}:{},"aria-current":i?"page":void 0,children:r})}function kne(){const{user:t,customPermissions:n}=qa(),r=t?.role||"MEMBER",s=rh(r,mt.SITE_MANAGEMENT,n),i=rh(r,mt.VEHICLES,n),l=rh(r,mt.EVENTS,n),d=rh(r,mt.MYRBE,n),f=rh(r,mt.NEWSLETTER,n),u=rh(r,mt.RETROPLANNING,n),h=rh(r,mt.RETROSUPPORT,n);return r==="PRESTATAIRE"?e.jsxs(Ri,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[u&&e.jsx(op,{to:"/dashboard/retroplanning",children:" RtroPlanning"}),h&&e.jsx(op,{to:"/dashboard/support",children:" RtroSupport"})]}):e.jsxs(Ri,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[s&&e.jsx(op,{to:"/dashboard",children:" Accueil"}),i&&e.jsx(op,{to:"/dashboard/vehicules",children:" Vhicules"}),l&&e.jsx(op,{to:"/dashboard/evenements",children:" vnements"}),d&&e.jsx(op,{to:"/dashboard/myrbe",children:" MyRBE"}),f&&e.jsx(op,{to:"/dashboard/retromerch",children:" RtroMerch"})]})}const yy={red:"#2e538d",yellow:"#2e538d",green:"#bb1f11",blue:"#bb1f11"},hp={INFO:{key:"INFO",label:"Flash Infos",color:{bg:"red.50",border:"red.300",text:"red.800",accent:"#bb1f11"}},NOTIF:{key:"NOTIF",label:"Flash Notifications",color:{bg:"orange.50",border:"orange.300",text:"orange.800",accent:"#d97706"}},POS:{key:"POS",label:"Flash Positif",color:{bg:"green.50",border:"green.300",text:"green.900",accent:"#16a34a"}}},Qne="56px",zne="80px",Hne="52px",Vne="110px",bP="rbe:announcements:dismissed:";async function $ne(){try{const t=await x1.getAll();return Array.isArray(t)?t:[]}catch{return[]}}async function Gne(t){try{return await x1.create(t)}catch(n){throw n}}async function TT(t,n){try{return await x1.update(t,n)}catch(r){throw r}}async function Kne(t){try{return await x1.delete(t),!0}catch(n){throw n}}function IT(t){if(!t)return{};try{const n=localStorage.getItem(bP+t);return n?JSON.parse(n):{}}catch{return{}}}function Wne(t,n){try{localStorage.setItem(bP+t,JSON.stringify(n||{}))}catch{}}const _T={INFO:Nne,NOTIF:One,POS:Une};function hw({catKey:t}){const n=Object.values(hp).find(s=>s.key===t)||hp.INFO,r=_T[t]||_T.INFO;return e.jsx(Jl,{label:n.label,children:e.jsxs(Re,{as:"span",display:"inline-flex",alignItems:"center",gap:2,children:[e.jsx(Cu,{src:r,alt:"",boxSize:"18px",draggable:!1}),e.jsx(fP,{children:n.label})]})})}function Yne(t){return e.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor","aria-hidden":"true",...t,children:e.jsx("path",{d:"M3 10v4a2 2 0 0 0 2 2h1v2a1 1 0 0 0 1.555.832L12 16h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6L7.555 3.168A1 1 0 0 0 6 4v2H5a2 2 0 0 0-2 2z"})})}function Xne(){const{logout:t,prenom:n,nom:r,isAuthenticated:s,isAdmin:i,matricule:l}=qa(),d=rA(),f=Hr(),u=er(),h=er(),a=er(),m=vD({base:!0,md:!1}),[v,g]=T.useState([]),[x,w]=T.useState(!0),[b,S]=T.useState(null),[C,B]=T.useState({message:"",category:"INFO",active:!0,expiresAt:"",publishToExternal:!1}),F=()=>{t(),d("/login"),f({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs",status:"info",duration:3e3,isClosable:!0})};T.useEffect(()=>{if(!s)return;let G;const W=600*1e3,pe=()=>{clearTimeout(G),G=setTimeout(()=>{t(),d("/login"),f({title:"Session expire",description:"Vous avez t dconnect pour inactivit (10 minutes)",status:"warning",duration:5e3,isClosable:!0})},W)},oe=["mousedown","mousemove","keypress","scroll","touchstart","click"];return pe(),oe.forEach(he=>{document.addEventListener(he,pe,!0)}),()=>{clearTimeout(G),oe.forEach(he=>{document.removeEventListener(he,pe,!0)})}},[s,t,d,f]),T.useEffect(()=>{async function G(){try{w(!0);const W=await $ne();g(W)}finally{w(!1)}}G()},[f]);const N=Date.now(),Q=T.useMemo(()=>v.filter(G=>G&&G.active&&(!G.expiresAt||new Date(G.expiresAt).getTime()>N)),[v,N]),z=T.useMemo(()=>Q.filter(G=>G.category==="INFO"),[Q]),[k,K]=T.useState(0);T.useEffect(()=>{const G=IT(l||"anon"),W=Q.reduce((pe,oe)=>{const he=G[oe.id]||0,$=oe.updatedAt?new Date(oe.updatedAt).getTime():oe.createdAt?new Date(oe.createdAt).getTime():0;return pe+(he>=$?0:1)},0);K(W)},[v,l,Q.length]);const se=()=>{S(null),B({message:"",category:"INFO",active:!0,expiresAt:""}),u.onOpen()},V=G=>{S(G),B({message:G.message||"",category:G.category||"INFO",active:!!G.active,expiresAt:G.expiresAt||""}),u.onOpen()},q=async()=>{const G=(C.message||"").trim();if(!G)return f({status:"warning",title:"Le message est requis"});["INFO","NOTIF","POS"].includes(C.category)||(C.category="INFO");try{if(b){const W=await TT(b.id,{content:G,type:C.category,active:!!C.active,expiresAt:C.expiresAt||null});g(pe=>pe.map(oe=>oe.id===b.id?W:oe)),f({status:"success",title:"Flash modifi"})}else{const W={content:G,type:C.category,active:!!C.active,expiresAt:C.expiresAt||null},pe=await Gne(W);g(oe=>[pe,...oe]),f({status:"success",title:"Flash ajout"})}S(null),u.onClose()}catch(W){f({status:"error",title:"Erreur",description:`Impossible de sauvegarder le flash: ${W.message}`})}},le=async G=>{if(confirm("Supprimer ce flash ?"))try{await Kne(G),g(W=>W.filter(pe=>pe.id!==G)),f({status:"info",title:"Flash supprim"})}catch{f({status:"error",title:"Erreur",description:"Impossible de supprimer le flash"})}},ae=async G=>{try{const W=v.find(oe=>oe.id===G);if(!W)return;const pe=await TT(G,{active:!W.active});g(oe=>oe.map(he=>he.id===G?pe:he))}catch{f({status:"error",title:"Erreur",description:"Impossible de modifier le flash"})}},ie=G=>{const W=l||"anon",pe=IT(W),oe=Date.now();pe[G]=oe,Wne(W,pe),K(he=>Math.max(0,he-1)),f({status:"info",title:"Prise de connaissance enregistre"})},J=G=>{const W=Object.values(hp).find(pe=>pe.key===G)||hp.INFO;return{bg:W.color.bg,borderColor:W.color.border,color:W.color.text,accent:W.color.accent}};return e.jsxs(Re,{as:"header",w:"100%",bg:"white",position:"sticky",top:"0",zIndex:"1000",borderBottom:"1px solid #3a3a3aff",children:[e.jsxs(Re,{position:"relative",h:{base:Qne,md:zne},overflow:"visible",children:[e.jsx(Re,{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",zIndex:0,pointerEvents:"none",style:{background:`linear-gradient(90deg,
              ${yy.red} 0%,
              ${yy.yellow} 22%,
              ${yy.green} 70%,
              ${yy.blue} 100%
            )`}}),e.jsx(Cu,{src:Rne,alt:"RtroBus Essonne Intranet",height:{base:Hne,md:Vne},objectFit:"contain",position:"absolute",left:{base:3,md:5},top:"50%",transform:"translateY(-50%)",zIndex:2,draggable:!1}),e.jsx(Re,{position:"absolute",right:{base:2,md:6},top:"50%",transform:"translateY(-50%)",zIndex:2,children:m?e.jsx(Pn,{"aria-label":"Menu",icon:e.jsx(Re,{as:"span",display:"inline-block",w:"18px",h:"2px",bg:"white",position:"relative",_before:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"-6px",left:0},_after:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"6px",left:0}}),size:"sm",variant:"ghost",color:"white",onClick:a.onOpen,title:"Ouvrir le menu"}):e.jsxs(Te,{spacing:2,children:[e.jsx(Jl,{label:i?"Grer les flashs":"Vous n'tes pas autoris",children:e.jsx("span",{children:e.jsx(Pn,{"aria-label":"Annonces (gestion)",icon:e.jsx(Yne,{}),size:"sm",variant:"ghost",color:"white",onClick:()=>{i&&u.onOpen()},title:"Annonces",isDisabled:!i})})}),e.jsx(Dne,{}),e.jsxs(gh,{children:[e.jsxs(vh,{as:Ie,colorScheme:"red",children:["Bonjour, ",n||"Utilisateur"]}),e.jsxs(xh,{children:[e.jsx(Js,{as:oo,to:"/adhesion",children:"Mon Adhsion"}),e.jsx(Js,{as:oo,to:"/retromail",children:"RtroMail"}),e.jsx(Js,{onClick:F,color:"red.500",children:"Dconnexion"})]})]})]})})]}),e.jsx(Re,{display:{base:"none",md:"block"},children:e.jsx(kne,{})}),e.jsxs(Kee,{isOpen:a.isOpen,onClose:a.onClose,placement:"right",children:[e.jsx(Gn,{}),e.jsxs(YD,{children:[e.jsx(fr,{}),e.jsxs($n,{bg:"var(--rbe-red)",color:"white",children:[e.jsxs(Z,{fontWeight:"bold",children:[" Bonjour ",n||"Utilisateur"]}),k>0&&e.jsxs(Z,{fontSize:"sm",color:"whiteAlpha.800",children:[k," flash(s) non lu(s)"]})]}),e.jsx(Vn,{p:0,children:e.jsxs(Be,{align:"stretch",spacing:0,children:[e.jsx(Ie,{as:oo,to:"/dashboard",variant:"ghost",justifyContent:"flex-start",onClick:a.onClose,py:4,px:5,children:"Accueil"}),e.jsx(Ie,{as:oo,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",onClick:a.onClose,py:4,px:5,children:"Vhicules"}),e.jsx(Ie,{as:oo,to:"/dashboard/evenements",variant:"ghost",justifyContent:"flex-start",onClick:a.onClose,py:4,px:5,children:"vnements"}),e.jsx(Ie,{as:oo,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",onClick:a.onClose,py:4,px:5,children:"MyRBE"}),e.jsx(Ie,{as:oo,to:"/dashboard/retromerch",variant:"ghost",justifyContent:"flex-start",onClick:a.onClose,py:4,px:5,children:"RtroMerch"}),e.jsx(ds,{}),e.jsx(Ie,{onClick:()=>{h.onOpen(),a.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Voir les flashs"}),i&&e.jsx(Ie,{onClick:()=>{u.onOpen(),a.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Grer les flashs"}),e.jsx(ds,{}),e.jsx(Ie,{as:oo,to:"/adhesion",variant:"ghost",justifyContent:"flex-start",onClick:a.onClose,py:4,px:5,children:"Mon Adhsion"}),e.jsx(Ie,{as:oo,to:"/retromail",variant:"ghost",justifyContent:"flex-start",onClick:a.onClose,py:4,px:5,children:"RtroMail"}),e.jsx(Ie,{onClick:()=>{a.onClose(),F()},colorScheme:"red",justifyContent:"flex-start",variant:"ghost",py:4,px:5,children:"Dconnexion"})]})})]})]}),e.jsx(Re,{children:z.map(G=>{const W=J(G.category);return e.jsx(Re,{bg:W.bg,borderTop:"2px solid",borderColor:W.borderColor||W.border,py:2,px:4,children:e.jsxs(Te,{spacing:3,flex:"1",align:"center",children:[e.jsx(Re,{children:e.jsx(hw,{catKey:G.category})}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:{base:"sm",md:"md"},color:W.color,children:G.message}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:G.createdAt?`Publi: ${new Date(G.createdAt).toLocaleString()}`:""})]}),e.jsx(Re,{children:i?e.jsxs(Te,{spacing:2,children:[e.jsx(Ie,{size:"sm",onClick:()=>V(G),children:"diter"}),e.jsx(Ie,{size:"sm",colorScheme:G.active?"yellow":"green",onClick:()=>ae(G.id),children:G.active?"Dsactiver":"Activer"}),e.jsx(Ie,{size:"sm",colorScheme:"red",onClick:()=>le(G.id),children:"Supprimer"})]}):e.jsx(Ie,{size:"sm",onClick:()=>ie(G.id),children:"Prendre connaissance"})})]})},G.id)})}),e.jsxs(Hn,{isOpen:h.isOpen,onClose:h.onClose,isCentered:!0,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxW:"900px",children:[e.jsx($n,{children:"Flashs en cours"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:3,align:"stretch",children:[Q.length===0&&e.jsx(Z,{color:"gray.600",children:"Aucun flash en cours."}),Q.map(G=>e.jsxs(Re,{p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsxs(Te,{spacing:2,align:"center",children:[e.jsx(hw,{catKey:G.category}),e.jsx(Z,{fontWeight:"600",children:G.message})]}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:G.createdAt?`Publi: ${new Date(G.createdAt).toLocaleString()}`:""}),e.jsx(Ie,{size:"sm",onClick:()=>{ie(G.id)},children:"Prendre connaissance"})]},G.id))]})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:h.onClose,children:"Fermer"})})]})]}),e.jsxs(Hn,{isOpen:u.isOpen,onClose:()=>{S(null),u.onClose()},isCentered:!0,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxW:"900px",children:[e.jsx($n,{children:"Gestion des flashs"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(kA,{direction:"row",justify:"space-between",align:"center",children:[e.jsx(Z,{fontWeight:"600",children:"Diffusions existantes"}),e.jsx(Ie,{size:"sm",onClick:se,children:"Nouveau flash"})]}),v.length===0&&e.jsx(Z,{color:"gray.600",children:"Aucun flash enregistr."}),v.map(G=>{const W=J(G.category);return e.jsxs(Re,{p:3,borderWidth:"1px",borderRadius:"md",bg:W.bg,children:[e.jsxs(Te,{spacing:2,align:"center",children:[e.jsx(hw,{catKey:G.category}),e.jsx(Z,{fontWeight:"600",children:G.message})]}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:G.createdAt?`Publi: ${new Date(G.createdAt).toLocaleString()}`:""}),e.jsxs(Te,{spacing:2,children:[e.jsx(Ie,{size:"sm",onClick:()=>V(G),children:"diter"}),e.jsx(Ie,{size:"sm",onClick:()=>ae(G.id),children:G.active?"Dsactiver":"Activer"}),e.jsx(Ie,{size:"sm",colorScheme:"red",onClick:()=>le(G.id),children:"Supprimer"})]})]},G.id)}),e.jsxs(Re,{mt:2,p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsx(Z,{fontWeight:"600",mb:2,children:b?"Modifier le flash":"Crer un nouveau flash"}),e.jsxs(be,{mb:2,children:[e.jsx(je,{children:"Catgorie"}),e.jsxs(gn,{value:C.category,onChange:G=>B(W=>({...W,category:G.target.value})),children:[e.jsx("option",{value:"INFO",children:hp.INFO.label}),e.jsx("option",{value:"NOTIF",children:hp.NOTIF.label}),e.jsx("option",{value:"POS",children:hp.POS.label})]})]}),e.jsxs(be,{mb:2,children:[e.jsx(je,{children:"Message"}),e.jsx(xr,{value:C.message,onChange:G=>B(W=>({...W,message:G.target.value})),rows:4})]}),e.jsxs(be,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(je,{mb:"0",mr:3,children:"Actif"}),e.jsx(vo,{isChecked:C.active,onChange:G=>B(W=>({...W,active:G.target.checked}))})]}),e.jsxs(be,{mb:2,children:[e.jsx(je,{children:"Expire le (optionnel)"}),e.jsx("input",{type:"datetime-local",value:C.expiresAt||"",onChange:G=>B(W=>({...W,expiresAt:G.target.value||""})),style:{width:"100%",padding:"8px",borderRadius:6,border:"1px solid #e2e8f0"}})]}),e.jsxs(be,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(je,{mb:"0",mr:3,children:"Publier sur l'externe"}),e.jsx(vo,{isChecked:C.publishToExternal,onChange:G=>B(W=>({...W,publishToExternal:G.target.checked}))})]}),e.jsxs(Te,{gap:2,justify:"flex-end",children:[e.jsx(Ie,{variant:"ghost",onClick:()=>{S(null),B({message:"",category:"INFO",active:!0,expiresAt:"",publishToExternal:!1})},children:"Rinitialiser"}),e.jsx(Ie,{colorScheme:"blue",onClick:q,children:b?"Sauvegarder":"Crer"})]})]})]})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:()=>{S(null),u.onClose()},children:"Fermer"})})]})]})]})}function Jd({children:t}){const{isAuthenticated:n,user:r,sessionChecked:s,ensureSession:i}=qa(),[l,d]=T.useState(!1);return T.useEffect(()=>{!s&&!l&&(i(),d(!0))},[s,l,i]),s?!n||!r?e.jsx(Af,{to:"/login",replace:!0}):t:e.jsx(is,{py:20,children:e.jsx(Kr,{size:"lg"})})}var wP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FT=xs.createContext&&xs.createContext(wP),Zne=["attr","size","title"];function qne(t,n){if(t==null)return{};var r=Jne(t,n),s,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)s=l[i],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Jne(t,n){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(n.indexOf(s)>=0)continue;r[s]=t[s]}return r}function Fj(){return Fj=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Fj.apply(this,arguments)}function LT(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Lj(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?LT(Object(r),!0).forEach(function(s){ere(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ere(t,n,r){return n=tre(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function tre(t){var n=nre(t,"string");return typeof n=="symbol"?n:n+""}function nre(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function SP(t){return t&&t.map((n,r)=>xs.createElement(n.tag,Lj({key:r},n.attr),SP(n.child)))}function Tn(t){return n=>xs.createElement(rre,Fj({attr:Lj({},t.attr)},n),SP(t.child))}function rre(t){var n=r=>{var{attr:s,size:i,title:l}=t,d=qne(t,Zne),f=i||r.size||"1em",u;return r.className&&(u=r.className),t.className&&(u=(u?u+" ":"")+t.className),xs.createElement("svg",Fj({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,d,{className:u,style:Lj(Lj({color:t.color||r.color},r.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&xs.createElement("title",null,l),t.children)};return FT!==void 0?xs.createElement(FT.Consumer,null,r=>n(r)):n(wP)}function lh(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function y1(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function Jm(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function CP(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function sre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function ire(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function ore(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function j1(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function xc(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function jB(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Ig(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function b1(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function are(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function oS(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function bB(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function gp(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function DT(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function lre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function Dj(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function Qp(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function vc(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function aS(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function eg(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function ru(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function BP(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function lS(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function xf(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function dg(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function cS(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function cre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function Ep(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function wB(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function EP(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function Tp(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function ure(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"},child:[]}]})(t)}function TP(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function Ed(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function yf(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function hf(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Are(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function dre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function hre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function hg(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(t)}function fg(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function IP(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function fre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function Bs(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function pre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(t)}function RA(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function yh(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function w1(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function mre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function Mg(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function gre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}function vx(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function vre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function xre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(t)}function yre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function bv(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function oi(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function jre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function bre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(t)}function _P(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function zp(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function PT(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(t)}function FP(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function LP(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function RT(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Pj(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(t)}function fw(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function tA(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function wre(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Hp(t){return Tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function ga({children:t,allowedRoles:n=null,deniedRoles:r=null,fallbackRoute:s="/dashboard/home",showError:i=!0}){const{isAuthenticated:l,roles:d}=qa();if(!l)return e.jsx(Af,{to:"/login",replace:!0});const f=d?.[0]||"MEMBER";return r&&r.includes(f)?(console.warn(` RoleProtectedRoute: Role "${f}" is denied access`),i?e.jsx(is,{minH:"60vh",px:4,children:e.jsxs(Be,{spacing:4,textAlign:"center",children:[e.jsx(ws,{as:Ed,boxSize:12,color:"red.500"}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(Z,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(Z,{fontSize:"sm",color:"gray.500",children:["Rle: ",e.jsx("strong",{children:f})]})]})]})}):e.jsx(Af,{to:s,replace:!0})):n&&!n.includes(f)?(console.warn(` RoleProtectedRoute: Role "${f}" not in allowed roles`),i?e.jsx(is,{minH:"60vh",px:4,children:e.jsxs(Be,{spacing:4,textAlign:"center",children:[e.jsx(ws,{as:Ed,boxSize:12,color:"red.500"}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(Z,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(Z,{fontSize:"sm",color:"gray.500",children:["Rles autoriss: ",e.jsx("strong",{children:n.join(", ")})]})]})]})}):e.jsx(Af,{to:s,replace:!0})):t}function jy({children:t,resource:n=null,permissionType:r="access",fallbackRoute:s="/dashboard/home",showError:i=!1}){const{isAuthenticated:l,user:d}=qa();if(!l)return console.warn(" PermissionProtectedRoute: Not authenticated"),e.jsx(Af,{to:"/login",replace:!0});if(!d)return console.warn(" PermissionProtectedRoute: No user data"),e.jsx(Af,{to:"/login",replace:!0});if(!n)return t;const f=d.role||d.roles?.[0]||"MEMBER";return rh(f,n)?(console.log(` PermissionProtectedRoute: Access granted to "${n}" for role "${f}"`),t):(console.warn(` PermissionProtectedRoute: User role "${f}" denied access to resource "${n}"`),i?e.jsx(Re,{p:8,textAlign:"center",minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:e.jsxs(Be,{spacing:4,children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",children:" Accs Refus"}),e.jsx(Z,{fontSize:"md",color:"gray.600",children:"Vous n'avez pas les permissions ncessaires pour accder  cette ressource."}),e.jsxs(Z,{fontSize:"sm",color:"gray.400",children:["Votre rle: ",e.jsx("strong",{children:f})]})]})}):e.jsx(Af,{to:s,replace:!0}))}function DP(t){if(!t)return null;const n=String(t).trim().toUpperCase();if(jv[n])return n;const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN"};return r[n]?r[n]:n}function pw(t,n){const r=DP(t),s=jv[r];if(!s)return console.warn(` Rle inconnu: "${t}" (normalis: "${r}")`),!1;const i=s.permissions[n]||[];return i.includes(lj.EDIT)||i.includes("edit")}function Sre(){const{matricule:t,roles:n=[]}=qa(),r=n?.[0]||null,s=DP(r),i=()=>!s||!t?!1:pw(s,mt.VEHICLE_CREATE);return{canCreateVehicle:i,canViewVehicles:()=>{if(!s||!t)return!1;const a=jv[s];if(!a)return!1;const m=a.permissions[mt.VEHICLES]||[];return m.includes(lj.VIEW)||m.includes("view")||m.includes(lj.EDIT)||m.includes("edit")},canEditVehicle:()=>!s||!t?!1:pw(s,mt.VEHICLE_EDIT),canDeleteVehicle:()=>!s||!t?!1:pw(s,mt.VEHICLE_DELETE),getAccessDeniedMessage:(a="create")=>{const m=r||"inconnu",v=Object.entries(jv).filter(([x,w])=>{const b=w.permissions[mt.VEHICLE_CREATE]||[];return b.includes(lj.EDIT)||b.includes("edit")}).map(([x,w])=>w.label),g={create:`Vous n'tes pas autoris  ajouter des vhicules.

Rle actuel: ${m}
Rles autoriss: ${v.join(", ")}`,view:`Vous n'tes pas autoris  consulter les vhicules. Rle: ${m}`,edit:`Vous n'tes pas autoris  modifier les vhicules. Rle: ${m}`,delete:`Vous n'tes pas autoris  supprimer les vhicules. Rle: ${m}`};return g[a]||g.create},currentRole:s,currentMatricule:t,rawRole:r,debugInfo:()=>({rawRole:r,normalizedRole:s,matricule:t,canCreate:i(),roleConfig:jv[s]})}}function Cre({children:t}){const{matricule:n,user:r}=qa(),{canCreateVehicle:s,getAccessDeniedMessage:i,currentRole:l,rawRole:d,debugInfo:f}=Sre();if(s())return t;const u=f?.();return e.jsx(Re,{p:8,maxW:"700px",mx:"auto",mt:8,children:e.jsxs(Be,{spacing:4,align:"stretch",textAlign:"center",children:[e.jsx(ht,{size:"lg",color:"red.600",children:" Accs refus"}),e.jsx(Re,{bg:"red.50",p:4,borderRadius:"md",borderLeft:"4px",borderColor:"red.500",children:e.jsx(Z,{fontWeight:"bold",mb:2,whiteSpace:"pre-wrap",children:i("create")})}),e.jsxs(Re,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px",borderColor:"blue.500",children:[e.jsx(Z,{fontWeight:"bold",mb:2,fontSize:"sm",children:" Informations actuelles:"}),e.jsxs(Be,{align:"start",spacing:1,fontSize:"sm",children:[e.jsxs(Z,{children:[e.jsx("strong",{children:"Matricule:"})," ",e.jsx(bg,{children:n||"N/A"})]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Rle brut:"})," ",e.jsx(bg,{children:d||"N/A"})]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Rle normalis:"})," ",e.jsx(Xt,{colorScheme:"purple",children:l||"INCONNU"})]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Peut crer:"})," ",e.jsx(Xt,{colorScheme:"red",children:"Non"})]})]})]}),u&&e.jsxs(Re,{bg:"gray.100",p:3,borderRadius:"md",textAlign:"left",fontSize:"xs",fontFamily:"monospace",overflowX:"auto",children:[e.jsx(Z,{fontWeight:"bold",mb:1,children:"Debug info:"}),e.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},children:JSON.stringify(u,null,2)})]}),e.jsx(ds,{}),e.jsx(Z,{fontSize:"xs",color:"gray.600",p:3,bg:"gray.50",borderRadius:"md",children:`Si vous pensez que c'est une erreur, contactez un administrateur avec le lien "Support" en bas de page.`})]})})}var Bre=Object.defineProperty,Rj=Object.getOwnPropertySymbols,PP=Object.prototype.hasOwnProperty,RP=Object.prototype.propertyIsEnumerable,NT=(t,n,r)=>n in t?Bre(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,uS=(t,n)=>{for(var r in n||(n={}))PP.call(n,r)&&NT(t,r,n[r]);if(Rj)for(var r of Rj(n))RP.call(n,r)&&NT(t,r,n[r]);return t},AS=(t,n)=>{var r={};for(var s in t)PP.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&Rj)for(var s of Rj(t))n.indexOf(s)<0&&RP.call(t,s)&&(r[s]=t[s]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Vp;(t=>{const n=class Ps{constructor(u,h,a,m){if(this.version=u,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],u<Ps.MIN_VERSION||u>Ps.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let v=[];for(let x=0;x<this.size;x++)v.push(!1);for(let x=0;x<this.size;x++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(a);if(this.drawCodewords(g),m==-1){let x=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const b=this.getPenaltyScore();b<x&&(m=w,x=b),this.applyMask(w)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(u,h){const a=t.QrSegment.makeSegments(u);return Ps.encodeSegments(a,h)}static encodeBinary(u,h){const a=t.QrSegment.makeBytes(u);return Ps.encodeSegments([a],h)}static encodeSegments(u,h,a=1,m=40,v=-1,g=!0){if(!(Ps.MIN_VERSION<=a&&a<=m&&m<=Ps.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let x,w;for(x=a;;x++){const B=Ps.getNumDataCodewords(x,h)*8,F=d.getTotalBits(u,x);if(F<=B){w=F;break}if(x>=m)throw new RangeError("Data too long")}for(const B of[Ps.Ecc.MEDIUM,Ps.Ecc.QUARTILE,Ps.Ecc.HIGH])g&&w<=Ps.getNumDataCodewords(x,B)*8&&(h=B);let b=[];for(const B of u){r(B.mode.modeBits,4,b),r(B.numChars,B.mode.numCharCountBits(x),b);for(const F of B.getData())b.push(F)}i(b.length==w);const S=Ps.getNumDataCodewords(x,h)*8;i(b.length<=S),r(0,Math.min(4,S-b.length),b),r(0,(8-b.length%8)%8,b),i(b.length%8==0);for(let B=236;b.length<S;B^=253)r(B,8,b);let C=[];for(;C.length*8<b.length;)C.push(0);return b.forEach((B,F)=>C[F>>>3]|=B<<7-(F&7)),new Ps(x,h,C,v)}getModule(u,h){return 0<=u&&u<this.size&&0<=h&&h<this.size&&this.modules[h][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),h=u.length;for(let a=0;a<h;a++)for(let m=0;m<h;m++)a==0&&m==0||a==0&&m==h-1||a==h-1&&m==0||this.drawAlignmentPattern(u[a],u[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const h=this.errorCorrectionLevel.formatBits<<3|u;let a=h;for(let v=0;v<10;v++)a=a<<1^(a>>>9)*1335;const m=(h<<10|a)^21522;i(m>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,s(m,v));this.setFunctionModule(8,7,s(m,6)),this.setFunctionModule(8,8,s(m,7)),this.setFunctionModule(7,8,s(m,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,s(m,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,s(m,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,s(m,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let a=0;a<12;a++)u=u<<1^(u>>>11)*7973;const h=this.version<<12|u;i(h>>>18==0);for(let a=0;a<18;a++){const m=s(h,a),v=this.size-11+a%3,g=Math.floor(a/3);this.setFunctionModule(v,g,m),this.setFunctionModule(g,v,m)}}drawFinderPattern(u,h){for(let a=-4;a<=4;a++)for(let m=-4;m<=4;m++){const v=Math.max(Math.abs(m),Math.abs(a)),g=u+m,x=h+a;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,v!=2&&v!=4)}}drawAlignmentPattern(u,h){for(let a=-2;a<=2;a++)for(let m=-2;m<=2;m++)this.setFunctionModule(u+m,h+a,Math.max(Math.abs(m),Math.abs(a))!=1)}setFunctionModule(u,h,a){this.modules[h][u]=a,this.isFunction[h][u]=!0}addEccAndInterleave(u){const h=this.version,a=this.errorCorrectionLevel;if(u.length!=Ps.getNumDataCodewords(h,a))throw new RangeError("Invalid argument");const m=Ps.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][h],v=Ps.ECC_CODEWORDS_PER_BLOCK[a.ordinal][h],g=Math.floor(Ps.getNumRawDataModules(h)/8),x=m-g%m,w=Math.floor(g/m);let b=[];const S=Ps.reedSolomonComputeDivisor(v);for(let B=0,F=0;B<m;B++){let N=u.slice(F,F+w-v+(B<x?0:1));F+=N.length;const Q=Ps.reedSolomonComputeRemainder(N,S);B<x&&N.push(0),b.push(N.concat(Q))}let C=[];for(let B=0;B<b[0].length;B++)b.forEach((F,N)=>{(B!=w-v||N>=x)&&C.push(F[B])});return i(C.length==g),C}drawCodewords(u){if(u.length!=Math.floor(Ps.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(let m=0;m<this.size;m++)for(let v=0;v<2;v++){const g=a-v,w=(a+1&2)==0?this.size-1-m:m;!this.isFunction[w][g]&&h<u.length*8&&(this.modules[w][g]=s(u[h>>>3],7-(h&7)),h++)}}i(h==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let a=0;a<this.size;a++){let m;switch(u){case 0:m=(a+h)%2==0;break;case 1:m=h%2==0;break;case 2:m=a%3==0;break;case 3:m=(a+h)%3==0;break;case 4:m=(Math.floor(a/3)+Math.floor(h/2))%2==0;break;case 5:m=a*h%2+a*h%3==0;break;case 6:m=(a*h%2+a*h%3)%2==0;break;case 7:m=((a+h)%2+a*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][a]&&m&&(this.modules[h][a]=!this.modules[h][a])}}getPenaltyScore(){let u=0;for(let v=0;v<this.size;v++){let g=!1,x=0,w=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[v][b]==g?(x++,x==5?u+=Ps.PENALTY_N1:x>5&&u++):(this.finderPenaltyAddHistory(x,w),g||(u+=this.finderPenaltyCountPatterns(w)*Ps.PENALTY_N3),g=this.modules[v][b],x=1);u+=this.finderPenaltyTerminateAndCount(g,x,w)*Ps.PENALTY_N3}for(let v=0;v<this.size;v++){let g=!1,x=0,w=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][v]==g?(x++,x==5?u+=Ps.PENALTY_N1:x>5&&u++):(this.finderPenaltyAddHistory(x,w),g||(u+=this.finderPenaltyCountPatterns(w)*Ps.PENALTY_N3),g=this.modules[b][v],x=1);u+=this.finderPenaltyTerminateAndCount(g,x,w)*Ps.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let g=0;g<this.size-1;g++){const x=this.modules[v][g];x==this.modules[v][g+1]&&x==this.modules[v+1][g]&&x==this.modules[v+1][g+1]&&(u+=Ps.PENALTY_N2)}let h=0;for(const v of this.modules)h=v.reduce((g,x)=>g+(x?1:0),h);const a=this.size*this.size,m=Math.ceil(Math.abs(h*20-a*10)/a)-1;return i(0<=m&&m<=9),u+=m*Ps.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let a=[6];for(let m=this.size-7;a.length<u;m-=h)a.splice(1,0,m);return a}}static getNumRawDataModules(u){if(u<Ps.MIN_VERSION||u>Ps.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*u+128)*u+64;if(u>=2){const a=Math.floor(u/7)+2;h-=(25*a-10)*a-55,u>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(u,h){return Math.floor(Ps.getNumRawDataModules(u)/8)-Ps.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u]*Ps.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let h=[];for(let m=0;m<u-1;m++)h.push(0);h.push(1);let a=1;for(let m=0;m<u;m++){for(let v=0;v<h.length;v++)h[v]=Ps.reedSolomonMultiply(h[v],a),v+1<h.length&&(h[v]^=h[v+1]);a=Ps.reedSolomonMultiply(a,2)}return h}static reedSolomonComputeRemainder(u,h){let a=h.map(m=>0);for(const m of u){const v=m^a.shift();a.push(0),h.forEach((g,x)=>a[x]^=Ps.reedSolomonMultiply(g,v))}return a}static reedSolomonMultiply(u,h){if(u>>>8||h>>>8)throw new RangeError("Byte out of range");let a=0;for(let m=7;m>=0;m--)a=a<<1^(a>>>7)*285,a^=(h>>>m&1)*u;return i(a>>>8==0),a}finderPenaltyCountPatterns(u){const h=u[1];i(h<=this.size*3);const a=h>0&&u[2]==h&&u[3]==h*3&&u[4]==h&&u[5]==h;return(a&&u[0]>=h*4&&u[6]>=h?1:0)+(a&&u[6]>=h*4&&u[0]>=h?1:0)}finderPenaltyTerminateAndCount(u,h,a){return u&&(this.finderPenaltyAddHistory(h,a),h=0),h+=this.size,this.finderPenaltyAddHistory(h,a),this.finderPenaltyCountPatterns(a)}finderPenaltyAddHistory(u,h){h[0]==0&&(u+=this.size),h.pop(),h.unshift(u)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(f,u,h){if(u<0||u>31||f>>>u)throw new RangeError("Value out of range");for(let a=u-1;a>=0;a--)h.push(f>>>a&1)}function s(f,u){return(f>>>u&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const l=class Ta{constructor(u,h,a){if(this.mode=u,this.numChars=h,this.bitData=a,h<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}static makeBytes(u){let h=[];for(const a of u)r(a,8,h);return new Ta(Ta.Mode.BYTE,u.length,h)}static makeNumeric(u){if(!Ta.isNumeric(u))throw new RangeError("String contains non-numeric characters");let h=[];for(let a=0;a<u.length;){const m=Math.min(u.length-a,3);r(parseInt(u.substring(a,a+m),10),m*3+1,h),a+=m}return new Ta(Ta.Mode.NUMERIC,u.length,h)}static makeAlphanumeric(u){if(!Ta.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],a;for(a=0;a+2<=u.length;a+=2){let m=Ta.ALPHANUMERIC_CHARSET.indexOf(u.charAt(a))*45;m+=Ta.ALPHANUMERIC_CHARSET.indexOf(u.charAt(a+1)),r(m,11,h)}return a<u.length&&r(Ta.ALPHANUMERIC_CHARSET.indexOf(u.charAt(a)),6,h),new Ta(Ta.Mode.ALPHANUMERIC,u.length,h)}static makeSegments(u){return u==""?[]:Ta.isNumeric(u)?[Ta.makeNumeric(u)]:Ta.isAlphanumeric(u)?[Ta.makeAlphanumeric(u)]:[Ta.makeBytes(Ta.toUtf8ByteArray(u))]}static makeEci(u){let h=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)r(u,8,h);else if(u<16384)r(2,2,h),r(u,14,h);else if(u<1e6)r(6,3,h),r(u,21,h);else throw new RangeError("ECI assignment value out of range");return new Ta(Ta.Mode.ECI,0,h)}static isNumeric(u){return Ta.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return Ta.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,h){let a=0;for(const m of u){const v=m.mode.numCharCountBits(h);if(m.numChars>=1<<v)return 1/0;a+=4+v+m.bitData.length}return a}static toUtf8ByteArray(u){u=encodeURI(u);let h=[];for(let a=0;a<u.length;a++)u.charAt(a)!="%"?h.push(u.charCodeAt(a)):(h.push(parseInt(u.substring(a+1,a+3),16)),a+=2);return h}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=l;t.QrSegment=l})(Vp||(Vp={}));(t=>{(n=>{const r=class{constructor(i,l){this.ordinal=i,this.formatBits=l}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),n.Ecc=r})(t.QrCode||(t.QrCode={}))})(Vp||(Vp={}));(t=>{(n=>{const r=class{constructor(i,l){this.modeBits=i,this.numBitsCharCount=l}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),n.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Vp||(Vp={}));var tg=Vp;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Ere={L:tg.QrCode.Ecc.LOW,M:tg.QrCode.Ecc.MEDIUM,Q:tg.QrCode.Ecc.QUARTILE,H:tg.QrCode.Ecc.HIGH},NP=128,OP="L",UP="#FFFFFF",MP="#000000",kP=!1,QP=1,Tre=4,Ire=0,_re=.1;function zP(t,n=0){const r=[];return t.forEach(function(s,i){let l=null;s.forEach(function(d,f){if(!d&&l!==null){r.push(`M${l+n} ${i+n}h${f-l}v1H${l+n}z`),l=null;return}if(f===s.length-1){if(!d)return;l===null?r.push(`M${f+n},${i+n} h1v1H${f+n}z`):r.push(`M${l+n},${i+n} h${f+1-l}v1H${l+n}z`);return}d&&l===null&&(l=f)})}),r.join("")}function HP(t,n){return t.slice().map((r,s)=>s<n.y||s>=n.y+n.h?r:r.map((i,l)=>l<n.x||l>=n.x+n.w?i:!1))}function Fre(t,n,r,s){if(s==null)return null;const i=t.length+r*2,l=Math.floor(n*_re),d=i/n,f=(s.width||l)*d,u=(s.height||l)*d,h=s.x==null?t.length/2-f/2:s.x*d,a=s.y==null?t.length/2-u/2:s.y*d,m=s.opacity==null?1:s.opacity;let v=null;if(s.excavate){let x=Math.floor(h),w=Math.floor(a),b=Math.ceil(f+h-x),S=Math.ceil(u+a-w);v={x,y:w,w:b,h:S}}const g=s.crossOrigin;return{x:h,y:a,h:u,w:f,excavation:v,opacity:m,crossOrigin:g}}function Lre(t,n){return n!=null?Math.max(Math.floor(n),0):t?Tre:Ire}function VP({value:t,level:n,minVersion:r,includeMargin:s,marginSize:i,imageSettings:l,size:d,boostLevel:f}){let u=xs.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((w,b)=>(w.push(...tg.QrSegment.makeSegments(b)),w),[]);return tg.QrCode.encodeSegments(x,Ere[n],r,void 0,void 0,f)},[t,n,r,f]);const{cells:h,margin:a,numCells:m,calculatedImageSettings:v}=xs.useMemo(()=>{let g=u.getModules();const x=Lre(s,i),w=g.length+x*2,b=Fre(g,d,x,l);return{cells:g,margin:x,numCells:w,calculatedImageSettings:b}},[u,d,l,s,i]);return{qrcode:u,margin:a,cells:h,numCells:m,calculatedImageSettings:v}}var Dre=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),$P=xs.forwardRef(function(n,r){const s=n,{value:i,size:l=NP,level:d=OP,bgColor:f=UP,fgColor:u=MP,includeMargin:h=kP,minVersion:a=QP,boostLevel:m,marginSize:v,imageSettings:g}=s,w=AS(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=w,S=AS(w,["style"]),C=g?.src,B=xs.useRef(null),F=xs.useRef(null),N=xs.useCallback(ae=>{B.current=ae,typeof r=="function"?r(ae):r&&(r.current=ae)},[r]),[Q,z]=xs.useState(!1),{margin:k,cells:K,numCells:se,calculatedImageSettings:V}=VP({value:i,level:d,minVersion:a,boostLevel:m,includeMargin:h,marginSize:v,imageSettings:g,size:l});xs.useEffect(()=>{if(B.current!=null){const ae=B.current,ie=ae.getContext("2d");if(!ie)return;let J=K;const G=F.current,W=V!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;W&&V.excavation!=null&&(J=HP(K,V.excavation));const pe=window.devicePixelRatio||1;ae.height=ae.width=l*pe;const oe=l/se*pe;ie.scale(oe,oe),ie.fillStyle=f,ie.fillRect(0,0,se,se),ie.fillStyle=u,Dre?ie.fill(new Path2D(zP(J,k))):K.forEach(function(he,$){he.forEach(function(M,ee){M&&ie.fillRect(ee+k,$+k,1,1)})}),V&&(ie.globalAlpha=V.opacity),W&&ie.drawImage(G,V.x+k,V.y+k,V.w,V.h)}}),xs.useEffect(()=>{z(!1)},[C]);const q=uS({height:l,width:l},b);let le=null;return C!=null&&(le=xs.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{z(!0)},ref:F,crossOrigin:V?.crossOrigin})),xs.createElement(xs.Fragment,null,xs.createElement("canvas",uS({style:q,height:l,width:l,ref:N,role:"img"},S)),le)});$P.displayName="QRCodeCanvas";var Pre=xs.forwardRef(function(n,r){const s=n,{value:i,size:l=NP,level:d=OP,bgColor:f=UP,fgColor:u=MP,includeMargin:h=kP,minVersion:a=QP,boostLevel:m,title:v,marginSize:g,imageSettings:x}=s,w=AS(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:S,numCells:C,calculatedImageSettings:B}=VP({value:i,level:d,minVersion:a,boostLevel:m,includeMargin:h,marginSize:g,imageSettings:x,size:l});let F=S,N=null;x!=null&&B!=null&&(B.excavation!=null&&(F=HP(S,B.excavation)),N=xs.createElement("image",{href:x.src,height:B.h,width:B.w,x:B.x+b,y:B.y+b,preserveAspectRatio:"none",opacity:B.opacity,crossOrigin:B.crossOrigin}));const Q=zP(F,b);return xs.createElement("svg",uS({height:l,width:l,viewBox:`0 0 ${C} ${C}`,ref:r,role:"img"},w),!!v&&xs.createElement("title",null,v),xs.createElement("path",{fill:f,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),xs.createElement("path",{fill:u,d:Q,shapeRendering:"crispEdges"}),N)});Pre.displayName="QRCodeSVG";const OT=window.location.origin,Rre=()=>{const[t,n]=T.useState([]),[r,s]=T.useState(!1),[i,l]=T.useState(""),[d,f]=T.useState(!1),[u,h]=T.useState(null),a=Hr(),m=T.useRef(null),v=T.useCallback(async b=>{try{s(!0);const S=await mn.get("/vehicles"),C=S.vehicles||S||[];n(Array.isArray(C)?C:[])}catch(S){S.name!=="AbortError"&&(console.error(S),n([]),a({status:"error",title:"Impossible de charger la liste",description:S.message}))}finally{s(!1)}},[a]);T.useEffect(()=>{const b=new AbortController;return v(b.signal),()=>b.abort()},[v]);const g=t.filter(b=>{if(!i.trim())return!0;const S=i.toLowerCase();return[b.parc,b.modele,b.marque,b.immat].filter(Boolean).some(C=>C.toLowerCase().includes(S))}),x=b=>{h(b),f(!0)},w=()=>{const b=m.current?.querySelector("canvas");if(b){const S=b.toDataURL(),C=document.createElement("a");C.href=S,C.download=`qr-${u?.parc||"vehicle"}.png`,C.click()}};return e.jsxs(Re,{p:6,children:[e.jsxs(Ri,{justify:"space-between",align:"center",mb:6,children:[e.jsx(ht,{children:"Vhicules"}),e.jsx(Ie,{as:oo,to:"/dashboard/vehicules/ajouter",leftIcon:e.jsx(Bs,{}),colorScheme:"blue",children:"Ajouter un vhicule"})]}),e.jsx(Re,{mb:6,children:e.jsx(Xe,{placeholder:"Rechercher par parc, modle, marque ou immatriculation...",value:i,onChange:b=>l(b.target.value),maxW:"400px"})}),r?e.jsx(is,{py:20,children:e.jsx(Kr,{size:"xl"})}):e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:6,children:g.map(b=>e.jsxs(St,{shadow:"md",children:[e.jsx(Qn,{pb:2,children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:b.parc}),e.jsx(Xt,{colorScheme:b.etat==="disponible"?"green":"orange",children:b.etat})]})}),e.jsx(bt,{pt:0,children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsxs(Z,{children:[e.jsx("strong",{children:"Modle:"})," ",b.modele||"Non spcifi"]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Marque:"})," ",b.marque||"Non spcifie"]}),b.immat&&e.jsxs(Z,{children:[e.jsx("strong",{children:"Immat:"})," ",b.immat]}),e.jsxs(Te,{spacing:2,pt:4,w:"100%",children:[e.jsx(Ie,{as:oo,to:`/dashboard/vehicules/${b.parc}`,leftIcon:e.jsx(ru,{}),size:"sm",flex:1,children:"Grer"}),e.jsx(Ie,{leftIcon:e.jsx(wB,{}),size:"sm",onClick:()=>x(b),children:"QR"})]})]})})]},b.parc))}),g.length===0&&!r&&e.jsx(is,{py:20,children:e.jsx(Z,{color:"gray.500",children:"Aucun vhicule trouv"})}),e.jsxs(Hn,{isOpen:d,onClose:()=>f(!1),isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsxs($n,{children:["QR Code - ",u?.parc]}),e.jsx(fr,{}),e.jsx(Vn,{pb:6,children:e.jsxs(Be,{spacing:4,children:[e.jsx(Re,{ref:m,children:e.jsx($P,{value:`${OT}/mobile/v/${u?.parc}`,size:200,level:"M"})}),e.jsx(Z,{fontSize:"sm",color:"gray.600",textAlign:"center",children:`${OT}/mobile/v/${u?.parc}`}),e.jsx(Ie,{onClick:w,colorScheme:"blue",children:"Tlcharger"})]})})]})]})]})},Nre=(Vu||"http://localhost:3001").replace(/\/+$/,""),Ore=(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+|\/+$/g,""),by=()=>(localStorage.getItem("rbe_api_vehicles_path")||`${Ore}/vehicles`).replace(/^\/+/,"").replace(/\/+$/,""),Ure=()=>(localStorage.getItem("rbe_api_origin")||Nre).replace(/\/+$/,""),cd=t=>{const n=String(t||"").replace(/^\/+/,""),r=Ure(),s=`/${n}`,i=r?`${r}/${n}`:null,l=[s];return i&&l.push(i),l},ap=async(t,n)=>{let r=null;for(const s of t)try{const i=await fetch(s,n);if(!i.ok){r=new Error(`HTTP ${i.status}`);continue}if(!(i.headers.get("content-type")||"").toLowerCase().includes("application/json")){r=new Error("non-json");continue}return await i.json()}catch(i){r=i}throw r||new Error("fetch failed")};function Mre(){const{parc:t}=kj(),[n]=uU(),r=Hr(),s=rA(),i=n.get("t")||"",{matricule:l,setMatricule:d,token:f}=qa(),[u,h]=T.useState(i||""),[a,m]=T.useState(null),[v,g]=T.useState([]),[x,w]=T.useState([]),[b,S]=T.useState(!0),[C,B]=T.useState(!1),[F,N]=T.useState(!1),[Q,z]=T.useState(!1),[k,K]=T.useState(!1),[se,V]=T.useState(l||""),[q,le]=T.useState(!1),[ae,ie]=T.useState([]),[J,G]=T.useState(!1),[W,pe]=T.useState(""),[oe,he]=T.useState([]),[$,M]=T.useState(""),[ee,re]=T.useState(""),[me,De]=T.useState(""),[Ue,Ne]=T.useState(""),[Ke,rt]=T.useState(""),[et,wt]=T.useState(""),[nt,Ee]=T.useState(""),[at,Gt]=T.useState(null),[Oe,ce]=T.useState(null),ve=`rbe_current_usage_${t}`,[Ge,vt]=T.useState(()=>{const Ye=localStorage.getItem(ve);return Ye?JSON.parse(Ye):null}),_t=Ye=>{vt(Ye),Ye?localStorage.setItem(ve,JSON.stringify(Ye)):localStorage.removeItem(ve)},Je=()=>new Promise(Ye=>{if(!("geolocation"in navigator))return Ye(null);navigator.geolocation.getCurrentPosition(Zt=>Ye({lat:Zt.coords.latitude,lng:Zt.coords.longitude,accuracy:Zt.coords.accuracy}),()=>Ye(null),{enableHighAccuracy:!0,timeout:8e3,maximumAge:3e4})});T.useEffect(()=>{if(F&&!Q){const Ye=new Date;De(Ye.toISOString().slice(0,10)),Ne(Ye.toTimeString().slice(0,5)),Je().then(Gt)}if(F&&Q){const Ye=new Date;rt(Ye.toISOString().slice(0,10)),wt(Ye.toTimeString().slice(0,5)),Je().then(ce)}F||z(!1)},[F,Q]);const We=async()=>{if(f)try{G(!0);const Ye=cd(`${(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+/,"")}/members?limit=500`),Zt=await ap(Ye,{headers:{Authorization:`Bearer ${f}`}});ie(Array.isArray(Zt?.members)?Zt.members:[])}catch{ie([])}finally{G(!1)}},yt=(Ye=u,Zt=l)=>{const on={"Content-Type":"application/json"};return Ye?on["x-qr-token"]=Ye:Zt&&(on["x-user-matricule"]=Zt),f&&(on.Authorization=`Bearer ${f}`),on};T.useEffect(()=>{let Ye=!1;return(async()=>{try{S(!0);const Zt=yt(u),on=by(),pn=cd(`${on}/${encodeURIComponent(t)}`),Tt=cd(`${on}/${encodeURIComponent(t)}/reports`),nn=cd(`${on}/${encodeURIComponent(t)}/usages`),[xt,an,dn]=await Promise.all([ap(pn,{headers:Zt}),ap(Tt,{headers:Zt}).catch(()=>[]),ap(nn,{headers:Zt}).catch(()=>[])]);if(Ye)return;m(xt);const Nn=Array.isArray(an)?an.map(Wn=>({id:Wn.id,type:Wn.type||"Rapport",date:Wn.createdAt||Wn.date||new Date().toISOString(),note:Wn.description||Wn.note||"",createdBy:Wn.createdBy||Wn.author||""})):[];g(Nn),w(Array.isArray(dn)?dn:[])}catch(Zt){console.warn("fetch vehicle failed:",Zt),m(null),g([]),w([])}finally{Ye||S(!1)}})(),()=>{Ye=!0}},[t,u]);const zt=async Ye=>{if(Ye?.preventDefault?.(),!se?.trim())return r({status:"warning",title:"Matricule requis"});try{le(!0),d(se.trim()),r({status:"success",title:"Connect",description:se.trim()}),h(""),setTimeout(()=>{(async()=>{try{S(!0);const Zt=yt("",se.trim()),on=by(),pn=cd(`${on}/${encodeURIComponent(t)}`),Tt=cd(`${on}/${encodeURIComponent(t)}/reports`),nn=cd(`${on}/${encodeURIComponent(t)}/usages`),[xt,an,dn]=await Promise.all([ap(pn,{headers:Zt}),ap(Tt,{headers:Zt}).catch(()=>[]),ap(nn,{headers:Zt}).catch(()=>[])]);m(xt);const Nn=Array.isArray(an)?an.map(Wn=>({id:Wn.id,type:Wn.type||"Rapport",date:Wn.createdAt||Wn.date||new Date().toISOString(),note:Wn.description||Wn.note||"",createdBy:Wn.createdBy||Wn.author||""})):[];g(Nn),w(Array.isArray(dn)?dn:[])}catch{r({status:"error",title:"Accs refus"})}finally{S(!1)}})()},250)}finally{le(!1)}},ut=async Ye=>{try{const Zt=by(),on=cd(`${Zt}/${encodeURIComponent(t)}/reports`),pn=await fetch(on[0],{method:"POST",headers:yt(),body:JSON.stringify({description:Ye?.note?`${Ye.type||"vnement"}: ${Ye.note}`:Ye?.type||"vnement"})});if(!pn.ok){const xt=await pn.json().catch(()=>({error:"err"}));throw new Error(xt?.error||pn.statusText||"Erreur")}const Tt=await pn.json(),nn={id:Tt.id,type:"Rapport",date:Tt.createdAt||new Date().toISOString(),note:Tt.description||"",createdBy:Tt.createdBy||""};return g(xt=>[nn,...xt]),r({status:"success",title:"vnement ajout"}),Tt}catch(Zt){throw console.error(Zt),r({status:"error",title:"Impossible d'ajouter l'vnement",description:String(Zt.message)}),Zt}},Ft=async Ye=>{try{const Zt=by(),on=cd(`${Zt}/${encodeURIComponent(t)}/usages`),pn=await fetch(on[0],{method:"POST",headers:yt(),body:JSON.stringify(Ye)});if(!pn.ok){const nn=await pn.json().catch(()=>({error:"err"}));throw new Error(nn?.error||pn.statusText||"Erreur")}const Tt=await pn.json();return w(nn=>[Tt,...nn]),Tt}catch(Zt){throw console.error(Zt),r({status:"error",title:"Impossible d'ajouter l'usage",description:String(Zt.message)}),Zt}},Ct=async(Ye,Zt)=>{try{const on=cd(`usages/${encodeURIComponent(Ye)}`),pn=await fetch(on[0],{method:"PUT",headers:yt(),body:JSON.stringify(Zt)});if(!pn.ok){const nn=await pn.json().catch(()=>({error:"err"}));throw new Error(nn?.error||pn.statusText||"Erreur")}const Tt=await pn.json();return w(nn=>nn.map(xt=>xt.id===Tt.id?Tt:xt)),Tt}catch(on){throw console.error(on),r({status:"error",title:"Impossible de mettre  jour l'usage",description:String(on.message)}),on}};return b?e.jsx(is,{p:8,children:e.jsx(Kr,{size:"lg"})}):e.jsxs(Re,{p:4,maxW:"720px",mx:"auto",children:[a?e.jsxs(Re,{children:[e.jsx(ht,{size:"md",children:a.modele||`Parc ${a.parc}`}),e.jsx(Z,{mt:1,opacity:.8,children:a.immat?`${a.immat}  Parc ${a.parc}`:`Parc ${a.parc}`}),e.jsxs(kA,{spacing:4,mt:6,children:[e.jsx(Ie,{colorScheme:"red",onClick:()=>B(!0),children:"Signaler une anomalie"}),!Ge&&e.jsx(Ie,{colorScheme:"orange",onClick:()=>{z(!1),N(!0)},children:"Dmarrer un pointage"}),Ge&&e.jsx(Ie,{colorScheme:"green",onClick:()=>{z(!0),N(!0)},children:"Terminer le pointage"}),e.jsx(Ie,{colorScheme:"blue",onClick:()=>K(!0),children:"Ajouter un vnement au vhicule"})]}),e.jsxs(Re,{mt:6,children:[e.jsx(ht,{size:"sm",mb:2,children:"Derniers vnements"}),e.jsxs(Be,{spacing:2,align:"stretch",children:[v.length===0&&e.jsx(Z,{opacity:.7,children:"Aucun vnement"}),v.map(Ye=>e.jsxs(Re,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(Z,{fontSize:"sm",children:[e.jsx("b",{children:Ye.type}),"  ",new Date(Ye.date).toLocaleString()]}),Ye.note&&e.jsx(Z,{mt:1,fontSize:"sm",children:Ye.note}),e.jsxs(Z,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",Ye.createdBy||""]})]},Ye.id))]})]}),e.jsxs(Re,{mt:6,children:[e.jsx(ht,{size:"sm",mb:2,children:"Derniers passages"}),e.jsxs(Be,{spacing:2,align:"stretch",children:[x.length===0&&e.jsx(Z,{opacity:.7,children:"Aucun passage"}),x.map(Ye=>e.jsxs(Re,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(Z,{fontSize:"sm",children:[Ye.conducteur||"","  ",Ye.km?`${Ye.km} km`:"","  ",Ye.durationMin?`${Ye.durationMin} min`:""]}),Ye.note&&e.jsx(Z,{mt:1,fontSize:"sm",children:Ye.note}),e.jsxs(Z,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",Ye.createdBy||""]})]},Ye.id))]})]})]}):e.jsxs(Re,{textAlign:"center",py:8,children:[e.jsx(ht,{size:"md",children:"Accs restreint"}),e.jsx(Z,{mt:2,opacity:.8,children:"Ce carnet est accessible uniquement via le QR code du vhicule ou aprs authentification."}),e.jsx(Re,{mt:6,as:"form",onSubmit:zt,maxW:"360px",mx:"auto",children:e.jsxs(Be,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Matricule"}),e.jsx(Xe,{value:se,onChange:Ye=>V(Ye.target.value),placeholder:"ex: w.belaidi"})]}),e.jsxs(Te,{children:[e.jsx(Ie,{colorScheme:"blue",onClick:zt,isLoading:q,children:"Se connecter"}),e.jsx(Ie,{variant:"ghost",onClick:()=>s(-1),children:"Retour"})]})]})}),e.jsx(Z,{mt:4,fontSize:"sm",opacity:.8,children:"Astuce : scannez le QR sur le vhicule pour accder sans vous connecter."})]}),e.jsxs(Hn,{isOpen:C,onClose:()=>B(!1),isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Signaler une anomalie"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsxs(Z,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:a?.parc})," ",a?.immat?` ${a.immat}`:""]}),e.jsxs(be,{children:[e.jsx(je,{children:"Type d'anomalie"}),e.jsx(Xe,{id:"anom-type",placeholder:"ex: Frein / Porte / Moteur"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{id:"anom-note",placeholder:"Dcris l'anomalie..."})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:()=>B(!1),children:"Annuler"}),e.jsx(Ie,{colorScheme:"red",onClick:async()=>{const Ye=document.getElementById("anom-type")?.value||"Anomalie",Zt=document.getElementById("anom-note")?.value||"";try{await ut({type:`Anomalie: ${Ye}`,note:Zt}),B(!1)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(Hn,{isOpen:F,onClose:()=>N(!1),isCentered:!0,onOverlayClick:()=>{},children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:Q?"Terminer le pointage":"Dmarrer un pointage"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsxs(Z,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:a?.parc})," ",a?.immat?` ${a.immat}`:""]}),e.jsxs(be,{children:[e.jsx(je,{children:"Conducteur"}),e.jsx(Xe,{id:"pass-conducteur",placeholder:"Nom ou matricule"})]}),!Q&&e.jsxs(e.Fragment,{children:[e.jsxs(Te,{children:[e.jsxs(be,{children:[e.jsx(je,{children:"Date d'arrive"}),e.jsx(Xe,{type:"date",value:me,onChange:Ye=>De(Ye.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure d'arrive"}),e.jsx(Xe,{type:"time",value:Ue,onChange:Ye=>Ne(Ye.target.value)})]})]}),at&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[" Arrive GPS: ",at.lat.toFixed(5),",",at.lng.toFixed(5)," (",Math.round(at.accuracy),"m)"]})]}),Q&&e.jsxs(e.Fragment,{children:[e.jsxs(Te,{children:[e.jsxs(be,{children:[e.jsx(je,{children:"Date de sortie"}),e.jsx(Xe,{type:"date",value:Ke,onChange:Ye=>rt(Ye.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure de sortie"}),e.jsx(Xe,{type:"time",value:et,onChange:Ye=>wt(Ye.target.value)})]})]}),Oe&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[" Sortie GPS: ",Oe.lat.toFixed(5),",",Oe.lng.toFixed(5)," (",Math.round(Oe.accuracy),"m)"]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Membres prsents"}),e.jsx(Xe,{placeholder:"Rechercher un adhrent (nom, prnom, n)",value:W,onChange:Ye=>pe(Ye.target.value),onFocus:()=>{ae.length===0&&We()}}),e.jsxs(Re,{mt:2,maxH:"180px",overflowY:"auto",border:"1px solid #eee",borderRadius:"md",p:2,children:[J&&e.jsx(is,{py:3,children:e.jsx(Kr,{size:"sm"})}),!J&&ae.filter(Ye=>{if(!W.trim())return!0;const Zt=W.toLowerCase();return[Ye.firstName,Ye.lastName,Ye.memberNumber,Ye.email].filter(Boolean).some(on=>String(on).toLowerCase().includes(Zt))}).slice(0,50).map(Ye=>{const Zt=Ye.id,on=oe.includes(Zt),pn=`${Ye.lastName?.toUpperCase()||""} ${Ye.firstName||""}${Ye.memberNumber?`  ${Ye.memberNumber}`:""}`.trim();return e.jsxs(Te,{py:1,spacing:3,children:[e.jsx("input",{type:"checkbox",checked:on,onChange:Tt=>{he(nn=>Tt.target.checked?[...nn,Zt]:nn.filter(xt=>xt!==Zt))}}),e.jsx(Z,{fontSize:"sm",children:pn})]},Zt)}),!J&&ae.length===0&&e.jsx(Z,{fontSize:"sm",opacity:.7,children:"Aucun adhrent charg. Connectez-vous pour voir la liste."})]})]}),e.jsxs(Te,{children:[e.jsxs(be,{children:[e.jsx(je,{children:"Invit - Prnom"}),e.jsx(Xe,{value:$,onChange:Ye=>M(Ye.target.value),placeholder:"Prnom invit"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Invit - Nom"}),e.jsx(Xe,{value:ee,onChange:Ye=>re(Ye.target.value),placeholder:"Nom invit"})]})]}),Q&&e.jsxs(be,{children:[e.jsx(je,{children:"Actions ralises"}),e.jsx(xr,{value:nt,onChange:Ye=>Ee(Ye.target.value),placeholder:"Dtaillez les actions ralises pendant le passage",rows:4})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:()=>N(!1),children:"Annuler"}),e.jsx(Ie,{colorScheme:Q?"green":"orange",onClick:async()=>{const Ye=document.getElementById("pass-conducteur")?.value||"",on=ae.filter(dn=>oe.includes(dn.id)).map(dn=>`${dn.firstName||""} ${dn.lastName||""}`.trim()).filter(Boolean),pn=$||ee?`Invit: ${[$,ee].filter(Boolean).join(" ")}`:"",Tt=[Ye?`Conducteur: ${Ye}`:"",...on,pn].filter(Boolean).join("; "),nn=(dn,Nn)=>{if(!dn&&!Nn)return null;const Wn=dn||new Date().toISOString().split("T")[0],jn=Nn||new Date().toTimeString().slice(0,5),[rn,Dn,Yn]=Wn.split("-").map(Number),[mr,os]=jn.split(":").map(Number);return new Date(rn,Dn-1,Yn,mr,os,0).toISOString()},xt=nn(me,Ue),an=Ke||et?nn(Ke,et):null;try{if(Q){if(!Ge)throw new Error("Aucun pointage en cours");const dn=Oe?`
Sortie GPS: ${Oe.lat?.toFixed(5)},${Oe.lng?.toFixed(5)} (${Math.round(Oe.accuracy||0)}m)`:"",Nn=nt?`
Actions:
${nt}`:"";await Ct(Ge,{endedAt:an||new Date().toISOString(),conducteur:Ye||null,participants:Tt||null,note:`${Nn}${dn}`.trim()}),_t(null),r({status:"success",title:"Pointage termin"})}else{const dn=at?`
Arrive GPS: ${at.lat?.toFixed(5)},${at.lng?.toFixed(5)} (${Math.round(at.accuracy||0)}m)`:"",Nn=await Ft({startedAt:xt||new Date().toISOString(),conducteur:Ye||null,participants:Tt||null,note:dn||""});_t(Nn?.id||null),r({status:"success",title:"Pointage dmarr"})}N(!1),he([]),M(""),re(""),pe(""),De(""),Ne(""),rt(""),wt(""),Ee(""),Gt(null),ce(null)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(Hn,{isOpen:k,onClose:()=>K(!1),isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Ajouter un vnement"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsxs(Z,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:a?.parc})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsx(Xe,{id:"evt-type",placeholder:"ex: Rvision"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Note"}),e.jsx(xr,{id:"evt-note",placeholder:"Dtails..."})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:()=>K(!1),children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:async()=>{const Ye=document.getElementById("evt-type")?.value||"vnement",Zt=document.getElementById("evt-note")?.value||"";try{await ut({type:Ye,note:Zt}),K(!1)}catch{}},children:"Ajouter"})]})]})]})]})}function GP({value:t=[],onChange:n,uploadEndpoint:r,deleteEndpoint:s,authHeader:i}){const l=Hr(),[d,f]=T.useState(!1),u=(v,g)=>{const x=[...t],w=v+g;w<0||w>=x.length||([x[v],x[w]]=[x[w],x[v]],n(x))},h=async v=>{if(!s){n(t.filter(g=>g!==v));return}try{const g=await fetch(s,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({image:v})});if(!g.ok)throw new Error;const x=await g.json();n(x.gallery||[])}catch{n(t.filter(g=>g!==v))}},a=async v=>{if(!v?.length)return;f(!0);const g=new FormData;[...v].forEach(x=>g.append("images",x)),console.log(" Upload debug:",{endpoint:r,filesCount:v.length,hasAuth:!!i});try{const x=await fetch(r,{method:"POST",headers:{Authorization:i},body:g});if(console.log(" Upload response:",{status:x.status,statusText:x.statusText,headers:Object.fromEntries(x.headers)}),!x.ok){const b=await x.text().catch(()=>"");throw console.error(" Upload failed:",x.status,b),l({status:"error",title:"chec upload",description:`Erreur ${x.status}: ${b||x.statusText}`}),new Error(`HTTP ${x.status}: ${b}`)}const w=await x.json();n(w.gallery||[]),l({status:"success",title:"Images ajoutes"})}catch(x){console.error("Upload error",x),l({status:"error",title:"chec upload",description:x.message||"Erreur rseau"})}finally{f(!1)}},m=v=>!v||v.startsWith("http://")||v.startsWith("https://")||v.startsWith("data:")||v.startsWith("blob:")?v:"http://localhost:3001"+v;return e.jsxs(Re,{children:[e.jsx(Xe,{type:"file",multiple:!0,accept:"image/*",onChange:v=>a(v.target.files),isDisabled:d,mb:3}),t.length===0&&e.jsx(Z,{fontSize:"sm",color:"gray.500",mb:2,children:"Aucune image dans la galerie."}),e.jsx(Sn,{columns:{base:2,md:4},spacing:3,children:t.map((v,g)=>e.jsxs(Re,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:1,children:[e.jsx(Cu,{src:m(v),w:"100%",h:"110px",objectFit:"cover",borderRadius:"sm"}),e.jsxs(Te,{mt:1,justify:"space-between",children:[e.jsxs(Te,{children:[e.jsx(Pn,{"aria-label":"Monter",icon:e.jsx(bB,{}),size:"xs",onClick:()=>u(g,-1),isDisabled:g===0}),e.jsx(Pn,{"aria-label":"Descendre",icon:e.jsx(b1,{}),size:"xs",onClick:()=>u(g,1),isDisabled:g===t.length-1})]}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"xs",colorScheme:"red",onClick:()=>h(v)})]})]},v+g))})]})}function KP({value:t=[],onChange:n}){const r=(l,d,f)=>{const u=[...t];u[l]={...u[l],[d]:f},n(u)},s=()=>n([...t||[],{label:"",value:""}]),i=l=>{const d=[...t];d.splice(l,1),n(d)};return e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(je,{mb:0,children:"Caractristiques"}),e.jsx(Ie,{size:"xs",leftIcon:e.jsx(Bs,{}),onClick:s,children:"Ajouter"})]}),(t||[]).map((l,d)=>e.jsxs(Te,{align:"flex-start",children:[e.jsx(Xe,{placeholder:"Label",value:l.label,onChange:f=>r(d,"label",f.target.value)}),e.jsx(Xe,{placeholder:"Valeur",value:l.value,onChange:f=>r(d,"value",f.target.value)}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(jre,{}),size:"sm",onClick:()=>i(d)})]},d))]})}const UT=[{value:"disponible",label:" Disponible",color:"green"},{value:"preserv",label:" Prserv",color:"blue"},{value:"en_restauration",label:" En restauration",color:"orange"},{value:"en_achat",label:" En achat",color:"yellow"},{value:"en_panne",label:" En panne",color:"red"},{value:"maintenance",label:" Maintenance",color:"orange"},{value:"a_venir",label:"  venir",color:"gray"}],kre=[{value:"diesel",label:" Diesel"},{value:"essence",label:" Essence"},{value:"electrique",label:" lectrique"},{value:"gpl",label:"GPL"},{value:"hybride",label:"Hybride"},{value:"autre",label:"Autre"}];function Qre({data:t={},onUpdate:n=()=>{},readOnly:r=!1}){const s=(i,l)=>{n(i,l)};return e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:4,fontSize:"lg",children:" Informations techniques"}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{fontWeight:"600",children:"tat du vhicule"}),e.jsx(gn,{value:t.etat||"disponible",onChange:i=>s("etat",i.target.value),isDisabled:r,placeholder:"Slectionner l'tat",children:UT.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))}),e.jsxs(Z,{fontSize:"xs",color:"gray.500",mt:1,children:["Statut du vhicule: ",t.etat?UT.find(i=>i.value===t.etat)?.label:"Non dfini"]})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"600",children:"Type d'nergie"}),e.jsx(gn,{value:t.energie||"",onChange:i=>s("energie",i.target.value),isDisabled:r,placeholder:"Slectionner l'nergie",children:kre.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:1,children:"Carburant/nergie du vhicule"})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"600",children:"Immatriculation"}),e.jsx(Xe,{type:"text",placeholder:"ex: FG-920-RE",value:t.immat||"",onChange:i=>s("immat",i.target.value),isReadOnly:r}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:1,children:"Numro de plaque d'immatriculation"})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"600",children:"Mise en circulation"}),e.jsx(Xe,{type:"date",value:t.miseEnCirculation||"",onChange:i=>s("miseEnCirculation",i.target.value),isReadOnly:r}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:1,children:"Date de mise en service"})]})]})]}),e.jsx(Re,{children:e.jsxs(Z,{fontSize:"xs",color:"gray.600",p:3,bg:"blue.50",borderRadius:"md",children:[" ",e.jsx("strong",{children:"Important:"})," Toutes les informations techniques peuvent tre modifies  tout moment. Ces donnes ne sont pas geles et restent flexibles selon les besoins de gestion du parc."]})})]})}const zre="http://localhost:3001";function Hre(){const t=rA(),n=Hr(),[r,s]=T.useState({parc:"",modele:"",marque:"",subtitle:"",etat:"disponible",immat:"",energie:"",miseEnCirculation:"",description:"",history:"",caracteristiques:[],gallery:[],isPublic:!1}),[i,l]=T.useState(!1),d=(u,h)=>s(a=>({...a,[u]:h})),f=async()=>{if(!r.parc.trim()){n({status:"error",title:"Parc requis"});return}l(!0);try{const u=await fetch(`${zre}/vehicles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({parc:r.parc.trim(),modele:r.modele,marque:r.marque,subtitle:r.subtitle,etat:r.etat,immat:r.immat,energie:r.energie,miseEnCirculation:r.miseEnCirculation,description:r.description,history:r.history,caracteristiques:r.caracteristiques,gallery:r.gallery,isPublic:r.isPublic})});if(!u.ok){const a=await u.json();throw new Error(a.error||"Erreur cration")}const h=await u.json();n({status:"success",title:"Vhicule cr !",description:`Le vhicule ${r.parc} a t cr avec succs`}),t(`/dashboard/vehicules/${h.parc}`)}catch(u){console.error(" Erreur cration:",u),n({status:"error",title:"Erreur sauvegarde",description:u.message})}finally{l(!1)}};return e.jsxs(Re,{p:8,children:[e.jsxs(Te,{mb:6,children:[e.jsx(Ie,{as:"a",href:"/dashboard/vehicules",leftIcon:e.jsx(CP,{}),variant:"outline",children:"Retour"}),e.jsx(ht,{children:" Crer un vhicule"})]}),e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:" Identit du vhicule"}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Numro de parc"}),e.jsx(Xe,{placeholder:"ex: 920",value:r.parc,onChange:u=>d("parc",u.target.value),fontWeight:"bold"}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"Identifiant unique du vhicule"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Marque"}),e.jsx(Xe,{placeholder:"ex: Mercedes-Benz",value:r.marque,onChange:u=>d("marque",u.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Modle"}),e.jsx(Xe,{placeholder:"ex: Citaro",value:r.modele,onChange:u=>d("modele",u.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Sous-titre"}),e.jsx(Xe,{placeholder:"ex: Un grand classique",value:r.subtitle,onChange:u=>d("subtitle",u.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Immatriculation"}),e.jsx(Xe,{placeholder:"ex: FG-920-RE",value:r.immat,onChange:u=>d("immat",u.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"tat"}),e.jsx(Xe,{placeholder:"ex: Disponible, Prserv, En restauration...",value:r.etat,onChange:u=>d("etat",u.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"nergie"}),e.jsx(Xe,{placeholder:"ex: Diesel",value:r.energie,onChange:u=>d("energie",u.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Mise en circulation"}),e.jsx(Xe,{type:"date",value:r.miseEnCirculation,onChange:u=>d("miseEnCirculation",u.target.value)})]})]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:" Descriptions"}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{rows:4,placeholder:"Description gnrale du vhicule...",value:r.description,onChange:u=>d("description",u.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Historique"}),e.jsx(xr,{rows:5,placeholder:"Historique, anecdotes, restaurations...",value:r.history,onChange:u=>d("history",u.target.value)})]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:" Caractristiques techniques"}),e.jsx(Qre,{data:r,onUpdate:d})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:" Caractristiques additionnelles"}),e.jsx(KP,{value:r.caracteristiques,onChange:u=>d("caracteristiques",u)})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:" Galerie photos"}),e.jsx(GP,{value:r.gallery,onChange:u=>d("gallery",u),parc:r.parc||"nouveau"})]})})}),e.jsx(St,{bg:"blue.50",children:e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:" Publication"}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,flex:1,children:"Afficher sur le site public"}),e.jsx(vo,{isChecked:r.isPublic,onChange:u=>d("isPublic",u.target.checked),size:"lg",colorScheme:"green"})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:r.isPublic?" Ce vhicule sera visible sur le site public":" Ce vhicule n'est visible que par les administrateurs"})]})})}),e.jsx(ds,{}),e.jsxs(Te,{spacing:4,justify:"flex-end",children:[e.jsx(Ie,{variant:"outline",onClick:()=>t("/dashboard/vehicules"),children:"Annuler"}),e.jsx(Ie,{colorScheme:"green",leftIcon:e.jsx(yh,{}),isLoading:i,loadingText:"Cration...",onClick:f,size:"lg",children:"Crer le vhicule"})]})]})]})}function Vre({parc:t,marque:n,modele:r,onSuccess:s}){const{isOpen:i,onOpen:l,onClose:d}=er(),[f,u]=T.useState(!1),[h,a]=T.useState(""),m=Hr(),v=rA(),g="http://localhost:3001",x=`DELETE ${t}`,w=async()=>{if(h!==x){m({status:"error",title:"Confirmation incorrecte",description:`Veuillez taper exactement: ${x}`});return}u(!0);try{const b=await fetch(`${g}/vehicles/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!b.ok){const S=await b.json();throw new Error(S.error||"Erreur lors de la suppression")}m({status:"success",title:"Vhicule supprim",description:`Le vhicule ${t} a t supprim avec succs`,duration:3e3}),d(),a(""),setTimeout(()=>{s?s():v("/dashboard/vehicules")},500)}catch(b){console.error("Erreur suppression:",b),m({status:"error",title:"Erreur suppression",description:b.message})}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(Ie,{leftIcon:e.jsx(oi,{}),colorScheme:"red",variant:"outline",onClick:l,size:"sm",children:"Supprimer ce vhicule"}),e.jsxs(Hn,{isOpen:i,onClose:d,isCentered:!0,size:"md",children:[e.jsx(Gn,{backdropFilter:"blur(5px)"}),e.jsxs(Kn,{children:[e.jsx($n,{children:e.jsxs(Te,{spacing:2,color:"red.600",children:[e.jsx(Jm,{size:24}),e.jsx(Z,{children:"Supprimer le vhicule?"})]})}),e.jsx(fr,{isDisabled:f}),e.jsx(Vn,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsxs(Re,{bg:"red.50",p:3,borderRadius:"md",borderLeft:"4px",borderColor:"red.500",children:[e.jsx(Z,{fontWeight:"600",color:"red.700",mb:2,children:" Action irrversible"}),e.jsxs(Z,{fontSize:"sm",color:"red.600",children:["Cette action ne peut pas tre annule. Le vhicule ",t," (",n," ",r,") et toutes ses donnes seront supprims dfinitivement."]})]}),e.jsxs(Re,{bg:"gray.50",p:3,borderRadius:"md",children:[e.jsx(Z,{fontWeight:"600",fontSize:"sm",mb:2,children:"Vhicule  supprimer:"}),e.jsxs(Be,{align:"stretch",spacing:1,fontSize:"sm",children:[e.jsxs(Z,{children:[e.jsx("strong",{children:"Parc:"})," ",t]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Marque:"})," ",n||"Non dfini"]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Modle:"})," ",r||"Non dfini"]})]})]}),e.jsxs(Re,{children:[e.jsxs(Z,{fontWeight:"600",fontSize:"sm",mb:2,children:["Pour confirmer, tapez: ",e.jsx("code",{style:{background:"#f0f0f0",padding:"2px 6px",borderRadius:"3px",fontWeight:"bold"},children:x})]}),e.jsx("input",{type:"text",placeholder:x,value:h,onChange:b=>a(b.target.value),style:{width:"100%",padding:"8px 12px",border:"2px solid #e2e8f0",borderRadius:"4px",fontSize:"14px",fontFamily:"monospace",boxSizing:"border-box"},disabled:f,autoFocus:!0})]})]})}),e.jsx(pr,{children:e.jsxs(Te,{spacing:3,children:[e.jsx(Ie,{variant:"outline",onClick:d,isDisabled:f,children:"Annuler"}),e.jsx(Ie,{colorScheme:"red",onClick:w,isLoading:f,loadingText:"Suppression...",isDisabled:h!==x,children:"Supprimer dfinitivement"})]})})]})]})]})}const $re=window.location.origin;function Gre({etat:t}){const n={disponible:"green",en_panne:"red",maintenance:"orange",Service:"green",Prserv:"blue","A VENIR":"gray",Restauration:"orange"};return e.jsx(Xt,{colorScheme:n[t]||"purple",children:t})}function Kre({vehicle:t,parc:n,onChange:r,authHeader:s}){const{isOpen:i,onOpen:l,onClose:d}=er(),f=T.useRef(),[u,h]=T.useState(!1),[a,m]=T.useState(null),[v,g]=T.useState(!1),x=Hr(),w=async F=>{if(!F)return;h(!0);const N=new FormData;N.append("image",F);try{const Q=await fetch(`http://localhost:3001/vehicles/${n}/background`,{method:"POST",headers:{Authorization:s},body:N});if(!Q.ok)throw new Error("Upload failed");const z=await Q.json();r({backgroundImage:z.backgroundImage}),x({status:"success",title:"Image de fond mise  jour"})}catch{x({status:"error",title:"Erreur upload image de fond"})}finally{h(!1)}},b=async()=>{try{await mn.put(`/vehicles/${n}`,{backgroundImage:null,backgroundPosition:null}),r({backgroundImage:null,backgroundPosition:null}),x({status:"success",title:"Image de fond supprime"})}catch{x({status:"error",title:"Erreur suppression image de fond"})}},S=async F=>{const N=F.target.getBoundingClientRect(),Q=(F.clientX-N.left)/N.width*100,z=(F.clientY-N.top)/N.height*100,k=`${Q.toFixed(1)}% ${z.toFixed(1)}%`;m({x:Q,y:z});try{await mn.put(`/vehicles/${n}`,{backgroundPosition:k}),r({backgroundPosition:k}),x({status:"success",title:"Position focale sauvegarde",description:k})}catch{x({status:"error",title:"Erreur sauvegarde position"})}},C=t.backgroundImage??null,B=C&&t.backgroundPosition||"center";return e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",cursor:"pointer",onClick:()=>g(!v),children:[e.jsx(ht,{size:"md",children:" Image de fond Hero"}),e.jsxs(Te,{spacing:2,children:[C&&v&&e.jsx(Ie,{leftIcon:e.jsx(oi,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:F=>{F.stopPropagation(),b()},children:"Supprimer"}),e.jsx(Pn,{icon:v?e.jsx(bB,{}):e.jsx(b1,{}),size:"sm",variant:"ghost","aria-label":v?"Replier":"Dplier"})]})]}),e.jsx(VC,{in:v,animateOpacity:!0,children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Gestion de l'image de fond plein cran pour la page publique"}),e.jsxs(Te,{children:[e.jsx(Ie,{leftIcon:e.jsx(FP,{}),size:"sm",onClick:F=>{F.stopPropagation(),f.current?.click()},isLoading:u,colorScheme:"blue",children:"Changer le fond"}),C&&e.jsx(Ie,{leftIcon:e.jsx(yre,{}),size:"sm",colorScheme:"orange",onClick:F=>{F.stopPropagation(),l()},children:"Position focale"})]})]}),e.jsx(Xe,{ref:f,type:"file",accept:"image/*",onChange:F=>w(F.target.files[0]),display:"none"}),C&&e.jsxs(Re,{borderRadius:"md",overflow:"hidden",bg:"gray.100",border:"1px solid",borderColor:"gray.200",children:[e.jsx(Cu,{src:C,alt:"Aperu image de fond",w:"100%",h:"200px",objectFit:"cover",objectPosition:B}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",p:2,bg:"gray.50",children:[" Position focale : ",B]})]}),!C&&e.jsxs(Re,{borderRadius:"md",border:"2px dashed",borderColor:"gray.300",p:8,textAlign:"center",bg:"gray.50",children:[e.jsx(Z,{color:"gray.500",mb:2,children:"Aucune image de fond dfinie"}),e.jsx(Z,{fontSize:"sm",color:"gray.400",children:"La premire image de la galerie sera utilise par dfaut"})]})]})}),e.jsxs(Hn,{isOpen:i,onClose:d,size:"4xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:" Ajuster la position focale"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsx(Z,{color:"gray.600",children:"Cliquez sur l'image pour dfinir le point focal qui sera visible sur la page publique"}),C&&e.jsxs(Re,{position:"relative",borderRadius:"md",overflow:"hidden",children:[e.jsx(Cu,{src:C,alt:"Rglage position focale",w:"100%",h:"400px",objectFit:"cover",cursor:"crosshair",onClick:S}),a&&e.jsx(Re,{position:"absolute",left:`${a.x}%`,top:`${a.y}%`,transform:"translate(-50%, -50%)",w:"20px",h:"20px",borderRadius:"50%",bg:"red.500",border:"2px solid white",boxShadow:"0 0 0 2px red.500",zIndex:1})]}),e.jsxs(Z,{fontSize:"sm",color:"gray.500",mb:4,children:[" Position actuelle : ",B]})]})})]})]})]})}function Wre(){const{parc:t}=kj(),n=rA(),r=Hr(),[s,i]=T.useState(!0),[l,d]=T.useState(!1),[f,u]=T.useState(null),[h,a]=T.useState({}),[m,v]=T.useState([]),g={marque:"Mercedes-Benz",modele:"Citaro ",subtitle:"Citaro 1 |  II |  | ",etat:"Prserv",type:"Bus",immat:"FG-920-RE",energie:"Diesel",miseEnCirculation:"2001-07-01",numerosFlotte:"592 / 720 / X / 920",constructeur:"Mercedes-Benz",longueur:"11,95 m",placesAssises:"32",placesDebout:"64",ufr:"1",statut:"Prserv",preservePar:"Association RtroBus Essonne",normeEuro:"Euro II",moteur:"Mercedes-Benz OM906hLA - 279 ch",boiteVitesses:"Automatique ZF5HP-502C",nombrePortes:"2",livree:"Grise",girouette:"Duhamel LED Oranges + Pastilles Vertes",climatisation:"Complte",description:"Ce vhicule est un exemple emblmatique de la gamme Citaro de premire gnration. Mis en service commercial en juillet 2001, il reprsente l'volution technologique des transports urbains du dbut des annes 2000. quip d'une climatisation complte et accessible aux personnes  mobilit rduite.",history:"Le Mercedes-Benz Citaro est un autobus urbain produit par Daimler AG depuis 1997. Ce modle a rvolutionn les transports publics europens avec son design moderne et ses innovations techniques. Notre exemplaire FG-920-RE a t command par Cars Bridet  Wissous pour le rseau du Palladin et mis en service en juillet 2001. Au cours de sa carrire, il a port successivement les numros 592, 720, X, puis 920. Il a assur la desserte Le Palladin jusqu'en aot 2014. Aprs plusieurs annes de service fidle, il est pass brivement par Brtigny en 2018, puis a rejoint Transdev STRAV  Limeil-Brvannes, avant d'tre exploit par Cars Sur. En mai 2025, ce vhicule historique a trouv sa place au sein de la collection de l'association RtroBus Essonne, o il tmoigne de l'volution du transport public francilien au dbut du XXIe sicle.",caracteristiques:[{label:"Numros de flotte",value:"592 / 720 / X / 920"},{label:"Constructeur",value:"Mercedes-Benz"},{label:"Modle",value:"Citaro "},{label:"Immatriculation",value:"FG-920-RE"},{label:"Mise en circulation",value:"juillet 2001"},{label:"Longueur",value:"11,95 m"},{label:"Places assises",value:"32"},{label:"Places debout",value:"64"},{label:"UFR",value:"1"},{label:"Statut",value:"Prserv"},{label:"Prserv par",value:"Association RtroBus Essonne"},{label:"nergie",value:"Diesel"},{label:"Norme Euro",value:"Euro II"},{label:"Moteur",value:"Mercedes-Benz OM906hLA - 279 ch"},{label:"Bote de vitesses",value:"Automatique ZF5HP-502C"},{label:"Nombre de portes",value:"2"},{label:"Livre",value:"Grise"},{label:"Girouette",value:"Duhamel LED Oranges + Pastilles Vertes"},{label:"Climatisation",value:"Complte"}]},x=T.useCallback(async()=>{if(t){i(!0);try{const B=await mn.get(`/vehicles/${t}`);u(B);try{const N=await mn.get(`/vehicles/${t}/usages`);v(Array.isArray(N)?N:[])}catch{v([])}const F={...g,...B,caracteristiques:B.caracteristiques&&B.caracteristiques.length>0?B.caracteristiques:g.caracteristiques,description:B.description||g.description,history:B.history||g.history};a(F)}catch(B){r({status:"error",title:B.message||"Erreur chargement"}),n("/dashboard/vehicules")}finally{i(!1)}}},[t,r,n]);T.useEffect(()=>{x()},[x]);const w=T.useCallback(()=>{const B=[{label:"Numros de flotte",value:h.numerosFlotte||""},{label:"Constructeur",value:h.constructeur||""},{label:"Modle",value:h.modele||""},{label:"Immatriculation",value:h.immat||""},{label:"Mise en circulation",value:h.miseEnCirculation?"juillet 2001":""},{label:"Longueur",value:h.longueur||""},{label:"Places assises",value:h.placesAssises||""},{label:"Places debout",value:h.placesDebout||""},{label:"UFR",value:h.ufr||""},{label:"Statut",value:h.statut||""},{label:"Prserv par",value:h.preservePar||""},{label:"nergie",value:h.energie||""},{label:"Norme Euro",value:h.normeEuro||""},{label:"Moteur",value:h.moteur||""},{label:"Bote de vitesses",value:h.boiteVitesses||""},{label:"Nombre de portes",value:h.nombrePortes||""},{label:"Livre",value:h.livree||""},{label:"Girouette",value:h.girouette||""},{label:"Climatisation",value:h.climatisation||""}].filter(F=>F.value);a(F=>({...F,caracteristiques:B}))},[h.numerosFlotte,h.constructeur,h.modele,h.immat,h.miseEnCirculation,h.longueur,h.placesAssises,h.placesDebout,h.ufr,h.statut,h.preservePar,h.energie,h.normeEuro,h.moteur,h.boiteVitesses,h.nombrePortes,h.livree,h.girouette,h.climatisation]);T.useEffect(()=>{w()},[w]);const b=async()=>{try{d(!0);const B=h.statut||h.etat;await mn.put(`/vehicles/${t}`,{etat:B,marque:h.marque,modele:h.modele,type:h.type,immat:h.immat,energie:h.energie,miseEnCirculation:h.miseEnCirculation,subtitle:h.subtitle,description:h.description,history:h.history,caracteristiques:h.caracteristiques,gallery:h.gallery,backgroundImage:h.backgroundImage,backgroundPosition:h.backgroundPosition,isPublic:h.isPublic!==void 0?h.isPublic:f?.isPublic||!1,numerosFlotte:h.numerosFlotte,constructeur:h.constructeur,longueur:h.longueur,placesAssises:h.placesAssises,placesDebout:h.placesDebout,ufr:h.ufr,statut:h.statut,preservePar:h.preservePar,normeEuro:h.normeEuro,moteur:h.moteur,boiteVitesses:h.boiteVitesses,nombrePortes:h.nombrePortes,livree:h.livree,girouette:h.girouette,climatisation:h.climatisation}),r({status:"success",title:" Sauvegard avec succs",description:"Visible sur la page publique"}),x()}catch{r({status:"error",title:" Erreur sauvegarde"})}finally{d(!1)}},S=B=>{u(F=>({...F,...B})),a(F=>({...F,...B}))},C=()=>{a(B=>({...B,...g,parc:B.parc,id:B.id,createdAt:B.createdAt,updatedAt:B.updatedAt,gallery:B.gallery,backgroundImage:B.backgroundImage,backgroundPosition:B.backgroundPosition})),r({status:"info",title:" Donnes par dfaut restaures",description:"N'oubliez pas de sauvegarder"})};return s?e.jsx(is,{h:"60vh",children:e.jsx(Kr,{size:"xl"})}):f?(f.marque?`${f.marque}${f.modele}`:f.modele,e.jsxs(Re,{p:8,children:[e.jsxs(Ri,{align:"center",justify:"space-between",mb:6,children:[e.jsxs(Te,{children:[e.jsx(Ie,{leftIcon:e.jsx(CP,{}),variant:"ghost",onClick:()=>n("/dashboard/vehicules"),children:"Retour"}),e.jsxs(ht,{size:"lg",children:[" dition vhicule ",f.parc]}),e.jsx(Gre,{etat:f.etat})]}),e.jsxs(Te,{children:[e.jsx(Ie,{size:"sm",variant:"outline",onClick:C,children:" Donnes par dfaut"}),e.jsx(Ie,{leftIcon:e.jsx(BP,{}),colorScheme:"blue",variant:"outline",onClick:()=>window.open($re+"/vehicles/"+t,"_blank"),children:" Voir la page publique"})]})]}),e.jsxs(Be,{spacing:8,align:"stretch",children:[e.jsx(Re,{bg:"blue.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"blue.200",children:e.jsx(Kre,{vehicle:f,parc:t,onChange:S,authHeader:`Bearer ${localStorage.getItem("token")}`})}),e.jsxs(Re,{bg:"gray.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"gray.200",children:[e.jsxs(Ri,{justify:"space-between",align:"center",mb:4,children:[e.jsx(ht,{size:"md",children:" Informations principales"}),e.jsxs(be,{display:"flex",alignItems:"center",w:"auto",children:[e.jsxs(je,{htmlFor:"isPublic",mb:"0",mr:3,fontWeight:"bold",children:[h.isPublic?" Visible":" Cach"," sur le site public:"]}),e.jsx(vo,{id:"isPublic",isChecked:h.isPublic||!1,onChange:B=>a(F=>({...F,isPublic:B.target.checked})),colorScheme:h.isPublic?"green":"red",size:"lg"})]})]}),e.jsxs(Sn,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Parc"}),e.jsx(Xe,{value:f.parc,isReadOnly:!0,bg:"gray.100"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Numros de flotte"}),e.jsx(Xe,{value:h.numerosFlotte||"",onChange:B=>a(F=>({...F,numerosFlotte:B.target.value})),placeholder:"592 / 720 / X / 920"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Constructeur"}),e.jsx(Xe,{value:h.constructeur||"",onChange:B=>a(F=>({...F,constructeur:B.target.value})),placeholder:"Mercedes-Benz"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Modle"}),e.jsx(Xe,{value:h.modele||"",onChange:B=>a(F=>({...F,modele:B.target.value})),placeholder:"Citaro "})]})]}),e.jsxs(Sn,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Immatriculation"}),e.jsx(Xe,{value:h.immat||"",onChange:B=>a(F=>({...F,immat:B.target.value})),placeholder:"FG-920-RE"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Mise en circulation"}),e.jsx(Xe,{type:"date",value:h.miseEnCirculation?new Date(h.miseEnCirculation).toISOString().split("T")[0]:"",onChange:B=>a(F=>({...F,miseEnCirculation:B.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Longueur"}),e.jsx(Xe,{value:h.longueur||"",onChange:B=>a(F=>({...F,longueur:B.target.value})),placeholder:"11,95 m"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Places assises"}),e.jsx(Xe,{value:h.placesAssises||"",onChange:B=>a(F=>({...F,placesAssises:B.target.value})),placeholder:"32"})]})]}),e.jsxs(Sn,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Places debout"}),e.jsx(Xe,{value:h.placesDebout||"",onChange:B=>a(F=>({...F,placesDebout:B.target.value})),placeholder:"64"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"UFR"}),e.jsx(Xe,{value:h.ufr||"",onChange:B=>a(F=>({...F,ufr:B.target.value})),placeholder:"1"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Statut"}),e.jsxs(gn,{value:h.statut||"",onChange:B=>a(F=>({...F,statut:B.target.value})),children:[e.jsx("option",{value:"Prserv",children:"Prserv"}),e.jsx("option",{value:"Service",children:"Service"}),e.jsx("option",{value:"disponible",children:"Disponible"}),e.jsx("option",{value:"en_panne",children:"En panne"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"A VENIR",children:"A venir"}),e.jsx("option",{value:"Restauration",children:"Restauration"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"nergie"}),e.jsxs(gn,{value:h.energie||"",onChange:B=>a(F=>({...F,energie:B.target.value})),children:[e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"lectrique",children:"lectrique"}),e.jsx("option",{value:"Hybride",children:"Hybride"}),e.jsx("option",{value:"GNV",children:"GNV"})]})]})]}),e.jsx(Sn,{columns:{base:1,md:1},spacing:4,mb:4,children:e.jsxs(be,{children:[e.jsx(je,{children:"Prserv par"}),e.jsx(Xe,{value:h.preservePar||"",onChange:B=>a(F=>({...F,preservePar:B.target.value})),placeholder:"Association RtroBus Essonne"})]})}),e.jsxs(Sn,{columns:{base:1,md:2,lg:3},spacing:4,mb:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Norme Euro"}),e.jsx(Xe,{value:h.normeEuro||"",onChange:B=>a(F=>({...F,normeEuro:B.target.value})),placeholder:"Euro II"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Moteur"}),e.jsx(Xe,{value:h.moteur||"",onChange:B=>a(F=>({...F,moteur:B.target.value})),placeholder:"Mercedes-Benz OM906hLA - 279 ch"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Bote de vitesses"}),e.jsx(Xe,{value:h.boiteVitesses||"",onChange:B=>a(F=>({...F,boiteVitesses:B.target.value})),placeholder:"Automatique ZF5HP-502C"})]})]}),e.jsxs(Sn,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Nombre de portes"}),e.jsx(Xe,{value:h.nombrePortes||"",onChange:B=>a(F=>({...F,nombrePortes:B.target.value})),placeholder:"2"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Livre"}),e.jsx(Xe,{value:h.livree||"",onChange:B=>a(F=>({...F,livree:B.target.value})),placeholder:"Grise"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Girouette"}),e.jsx(Xe,{value:h.girouette||"",onChange:B=>a(F=>({...F,girouette:B.target.value})),placeholder:"Duhamel LED Oranges + Pastilles Vertes"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Climatisation"}),e.jsx(Xe,{value:h.climatisation||"",onChange:B=>a(F=>({...F,climatisation:B.target.value})),placeholder:"Complte"})]})]}),e.jsxs(be,{mt:4,children:[e.jsx(je,{children:"Sous-titre (badges affichs)"}),e.jsx(Xe,{value:h.subtitle||"",onChange:B=>a(F=>({...F,subtitle:B.target.value})),placeholder:"Citaro 1 |  II |  | "}),e.jsx(Z,{fontSize:"sm",color:"gray.600",mt:1,children:'Exemple avec mojis : "Citaro 1 |  II |  | "'})]}),e.jsx(St,{mt:6,bg:"blue.50",borderWidth:"2px",borderColor:"blue.200",children:e.jsx(bt,{children:e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,flex:1,children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"bold",children:" Afficher sur le site public"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:f?.isPublic?" Ce vhicule est visible par tous":" Ce vhicule n'est visible que par les administrateurs"})]})}),e.jsx(vo,{isChecked:f?.isPublic||!1,onChange:B=>u(F=>({...F,isPublic:B.target.checked})),size:"lg",colorScheme:"green"})]})})}),e.jsx(Z,{fontSize:"xs",color:"blue.600",mt:4,fontStyle:"italic",children:" Les caractristiques techniques sont automatiquement mises  jour en fonction des champs ci-dessus"})]}),e.jsxs(Re,{bg:"green.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"green.200",children:[e.jsx(ht,{size:"md",mb:4,children:" Textes descriptifs"}),e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:h.description||"",onChange:B=>a(F=>({...F,description:B.target.value})),rows:4,placeholder:"Ce vhicule est un exemple emblmatique..."}),e.jsx(Z,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Description" sur la page publique'})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Histoire"}),e.jsx(xr,{value:h.history||"",onChange:B=>a(F=>({...F,history:B.target.value})),rows:6,placeholder:"Le Mercedes-Benz Citaro est un autobus urbain..."}),e.jsx(Z,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Histoire" sur la page publique'})]})]})]}),e.jsxs(Re,{bg:"purple.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"purple.200",children:[e.jsx(ht,{size:"md",mb:4,children:" Galerie photos"}),e.jsx(GP,{value:h.gallery||[],onChange:B=>a(F=>({...F,gallery:B})),uploadEndpoint:`http://localhost:3001/vehicles/${t}/gallery`,deleteEndpoint:`http://localhost:3001/vehicles/${t}/gallery`,authHeader:`Bearer ${localStorage.getItem("token")}`}),e.jsx(Z,{fontSize:"sm",color:"gray.600",mt:2,children:"La premire image peut servir de fond si aucune image de fond spcifique n'est dfinie. Les autres images apparaissent dans le carrousel."})]}),e.jsxs(Re,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(ht,{size:"md",mb:4,children:" Carnet de suivi"}),!m?.length&&e.jsx(Z,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(Be,{align:"stretch",spacing:3,divider:e.jsx(ds,{}),mt:m?.length?2:0,children:m.map(B=>e.jsxs(Re,{children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontWeight:"bold",children:B.conducteur||""}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:B.startedAt?new Date(B.startedAt).toLocaleString():""})]}),B.participants&&e.jsx(Z,{mt:1,fontSize:"sm",children:B.participants}),B.note&&e.jsx(Z,{mt:1,fontSize:"sm",color:"gray.700",children:B.note})]},B.id))})]}),e.jsxs(Re,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(ht,{size:"md",mb:4,children:" Carnet de suivi"}),!m?.length&&e.jsx(Z,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(Be,{align:"stretch",spacing:3,divider:e.jsx(ds,{}),mt:m?.length?2:0,children:m.map(B=>{const F=B.startedAt?new Date(B.startedAt):null,N=B.endedAt?new Date(B.endedAt):null,Q=F&&N?Math.round((N-F)/6e4):null;return e.jsxs(Re,{children:[e.jsxs(Te,{justify:"space-between",align:"start",children:[e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontWeight:"bold",children:B.conducteur||""}),B.participants&&e.jsx(Z,{mt:1,fontSize:"sm",children:B.participants})]}),e.jsxs(Be,{align:"end",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:F?F.toLocaleString():""}),N&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[" ",N.toLocaleString()," ",Q!=null?`(${Q} min)`:""]})]})]}),B.note&&e.jsx(Z,{mt:2,fontSize:"sm",whiteSpace:"pre-wrap",children:B.note})]},B.id)})})]}),e.jsxs(Re,{textAlign:"center",py:4,children:[e.jsxs(Te,{spacing:4,justify:"center",children:[e.jsx(Ie,{leftIcon:e.jsx(yh,{}),colorScheme:"blue",size:"lg",onClick:b,isLoading:l,loadingText:"Sauvegarde en cours...",children:" Sauvegarder les modifications"}),e.jsx(Vre,{parc:t,marque:h.marque,modele:h.modele,onSuccess:()=>n("/dashboard/vehicules")})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",mt:2,children:"Les modifications seront visibles immdiatement sur la page publique"})]})]})]})):null}const Yre=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173"),Xre=(Yre?"http://localhost:3001":"").replace(/\/$/,""),Q0=async t=>{if(t.status===204)return null;if(!t.headers.get("content-type")?.includes("application/json")){const r=await t.text().catch(()=>"");throw new Error(`Non-JSON: ${t.status}: ${r?.slice(0,200)}`)}return t.json()},z0=t=>{const n=String(t||"").replace(/^\/+/,"/");return`${Xre}${n}`},wy=(t={})=>{const n=lf.getToken();return xP({Accept:"application/json",...t},n)},H0=t=>{if(t.status===401)throw console.warn(" Unauthorized - clearing auth"),lf.setToken(null),window.location.href="/login",new Error("Unauthorized");if(t.status===403)throw new Error("Forbidden");if(t.status===404)return{notFound:!0};throw new Error(`HTTP ${t.status}`)},Sy={async get(t,n={}){const r=z0(t),s=wy(n.headers);console.log(` GET ${r}`);try{const i=await fetch(r,{method:"GET",headers:s,credentials:"include",...n});return i.ok?await Q0(i):H0(i)}catch(i){throw console.error(` GET ${t}:`,i.message),i}},async post(t,n,r={}){const s=z0(t),i=wy({"Content-Type":"application/json",...r.headers});console.log(` POST ${s}`,n);try{const l=await fetch(s,{method:"POST",headers:i,body:JSON.stringify(n),credentials:"include",...r});return l.ok?await Q0(l):H0(l)}catch(l){throw console.error(` POST ${t}:`,l.message),l}},async patch(t,n,r={}){const s=z0(t),i=wy({"Content-Type":"application/json",...r.headers});console.log(` PATCH ${s}`,n);try{const l=await fetch(s,{method:"PATCH",headers:i,body:JSON.stringify(n),credentials:"include",...r});return l.ok?await Q0(l):H0(l)}catch(l){throw console.error(` PATCH ${t}:`,l.message),l}},async delete(t,n={}){const r=z0(t),s=wy(n.headers);console.log(` DELETE ${r}`);try{const i=await fetch(r,{method:"DELETE",headers:s,credentials:"include",...n});return i.ok?await Q0(i):H0(i)}catch(i){throw console.error(` DELETE ${t}:`,i.message),i}},async upload(t,n,r={}){const s=z0(t),i=lf.getToken(),l=xP({},i);console.log(` UPLOAD ${s}`);try{const d=await fetch(s,{method:"POST",headers:l,body:n,credentials:"include",...r});return d.ok?await Q0(d):H0(d)}catch(d){throw console.error(` UPLOAD ${t}:`,d.message),d}}},Ku=async(t,n={})=>{const r=n.method?.toUpperCase()||"GET";if(r==="GET")return Sy.get(t,n);if(r==="POST")return Sy.post(t,n.body,n);if(r==="PATCH")return Sy.patch(t,n.body,n);if(r==="DELETE")return Sy.delete(t,n);throw new Error(`Unsupported: ${r}`)};function Zre(t){const[n,r]=T.useState([]),[s,i]=T.useState(!1),[l,d]=T.useState(null);return T.useEffect(()=>{if(!t)return;(async()=>{try{i(!0),d(null);const m=await Ku(`/api/user-permissions/${t}`);if(m.success){const v=(m.permissions||[]).map(g=>({...g,actions:Array.isArray(g.actions)?g.actions:JSON.parse(g.actions||"[]")}));r(v)}else d(m.error||"Failed to load permissions")}catch(m){console.error("Error loading permissions:",m),d(m.message)}finally{i(!1)}})()},[t]),{permissions:n,loading:s,error:l,hasPermission:(a,m)=>{const v=n.find(g=>g.resource===a);return!v||v.expiresAt&&new Date(v.expiresAt)<new Date?!1:v.actions.includes(m)},hasResourceAccess:a=>n.some(m=>m.resource===a),getResourceActions:a=>{const m=n.find(v=>v.resource===a);return!m||m.expiresAt&&new Date(m.expiresAt)<new Date?[]:m.actions}}}const _g=({title:t,subtitle:n,breadcrumbs:r=[],children:s,headerActions:i,bgGradient:l,maxW:d="container.xl",titleSize:f="2xl",titleWeight:u="800",headerVariant:h="full"})=>{const a=Os(l||"linear(to-r, rbe.600, rbe.800)","linear(to-r, rbe.700, rbe.900)");return e.jsxs(Re,{minH:"100vh",fontFamily:"Montserrat, system-ui, sans-serif",children:[h==="full"?e.jsxs(Re,{bgGradient:a,color:"white",py:{base:12,md:16},position:"relative",overflow:"hidden",children:[e.jsx(Re,{position:"absolute",inset:0,bgGradient:"radial(circle at 30% 30%, whiteAlpha.200, transparent 50%)",pointerEvents:"none"}),e.jsx(Jc,{maxW:d,position:"relative",children:e.jsxs(Be,{spacing:6,align:"stretch",children:[r.length>0&&e.jsx(O2,{separator:e.jsx(oS,{color:"whiteAlpha.700"}),color:"whiteAlpha.800",fontSize:"sm",children:r.map((m,v)=>e.jsx(M2,{children:e.jsx(Cj,{as:oo,to:m.href,_hover:{color:"white"},children:m.label})},v))}),e.jsxs(Be,{spacing:4,textAlign:"center",children:[e.jsx(ht,{as:"h1",size:f,fontWeight:u,letterSpacing:"-0.025em",textShadow:"0 2px 4px rgba(0,0,0,0.1)",children:t}),n&&e.jsx(Z,{fontSize:{base:"lg",md:"xl"},opacity:.9,maxW:"2xl",lineHeight:"relaxed",children:n}),i&&e.jsx(Re,{pt:4,children:i})]})]})})]}):e.jsxs(Jc,{maxW:d,py:{base:6,md:8},children:[r.length>0&&e.jsx(O2,{separator:e.jsx(oS,{}),color:Os("gray.600","gray.300"),fontSize:"sm",mb:4,children:r.map((m,v)=>e.jsx(M2,{children:e.jsx(Cj,{as:oo,to:m.href,children:m.label})},v))}),e.jsxs(Re,{bgGradient:a,color:"white",p:{base:6,md:8},borderRadius:"xl",textAlign:"center",boxShadow:"lg",children:[e.jsx(ht,{as:"h1",size:f,fontWeight:u,letterSpacing:"-0.02em",children:t}),n&&e.jsx(Z,{mt:2,opacity:.9,fontSize:{base:"md",md:"lg"},children:n}),i&&e.jsx(Re,{pt:4,children:i})]})]}),e.jsx(Jc,{maxW:d,py:{base:8,md:12},children:s})]})},ch=({title:t,description:n,icon:r,badge:s,children:i,variant:l="modern",color:d="gray",onClick:f,...u})=>{const h=Os("white","gray.800"),a=Os("gray.200","gray.600"),m=Os("0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)");return e.jsxs(St,{variant:l,bg:h,borderColor:a,cursor:f?"pointer":"default",onClick:f,_hover:f?{boxShadow:m,transform:"translateY(-4px)",borderColor:`${d}.300`}:{},transition:"all 0.3s ease-out",...u,children:[(t||r||s)&&e.jsx(Qn,{pb:n?3:6,children:e.jsxs(Te,{justify:"space-between",align:"start",children:[e.jsxs(Te,{spacing:3,flex:1,children:[r&&e.jsx(ws,{as:r,color:`${d}.600`,boxSize:6,flexShrink:0}),e.jsxs(Be,{align:"start",spacing:1,flex:1,children:[e.jsx(ht,{size:"md",color:"gray.700",fontWeight:"600",children:t}),n&&e.jsx(Z,{variant:"description",fontSize:"sm",children:n})]})]}),s&&e.jsx(Xt,{colorScheme:s.color||d,variant:"subtle",children:s.label})]})}),i&&e.jsx(bt,{pt:t?0:6,children:i})]})},qre=[{title:"RtroDemandes",description:"Crez vos demandes et consultez le rcapitulatif",to:"/dashboard/retro-demandes",icon:Bs,color:"blue",resource:"RETRODEMANDES",cardAccess:!0},{title:"RtroBus",description:"Suivi complet du parc, entretiens et pointages",to:"/dashboard/retrobus",icon:bv,color:"teal",resource:"VEHICLES",cardAccess:!0,badge:{label:"Workspace",color:"teal"}},{title:"Gestion Financire",description:"Recettes, dpenses et oprations programmes",to:"/admin/finance-v2",icon:Qp,color:"rbe",resource:"FINANCE",cardAccess:!0},{title:"Gestion des vnements",description:"Cration, planification et suivi",to:"/dashboard/events-management",icon:xc,color:"green",resource:"EVENTS",cardAccess:!0},{title:"Grer les adhsions",description:"Membres, cotisations et documents",to:"/dashboard/members-management",icon:tA,color:"blue",resource:"MEMBERS",cardAccess:!0},{title:"Gestion des Stocks",description:"Inventaire et matriel de l'association",to:"/dashboard/stock-management",icon:fg,color:"yellow",resource:"STOCK",cardAccess:!0},{title:"Gestion Newsletter",description:"Abonns et campagnes d'envoi",to:"/dashboard/newsletter",icon:yf,color:"purple",resource:"NEWSLETTER",cardAccess:!0},{title:"Gestion du Site",description:"Changelog, contenu et mise  jour",to:"/dashboard/site-management",icon:Ep,color:"pink",resource:"SITE_MANAGEMENT",cardAccess:!0},{title:"RtroSupport",description:"Tickets: incidents, bugs et amliorations",to:"/dashboard/support",icon:ure,color:"cyan",resource:"RETROSUPPORT",cardAccess:!0}];function Jre(){const t=Os("blue.50","blue.900"),n=Os("blue.500","blue.300"),{user:r,roles:s,customPermissions:i,isAdmin:l}=qa(),d=s?.[0]||"MEMBER",{permissions:f,loading:u}=Zre(r?.id),h=m=>{if(m.hidden&&!l)return!1;if(l)return!0;if(d==="PRESTATAIRE")return m.title==="RtroSupport";if(m.requiredRole&&!m.requiredRole.some(v=>s.includes(v)))return!1;if(m.cardAccess){if(f.some(g=>g.resource===m.resource))return!0;if(d==="PARTENAIRE")return!1;if(m.resource){const x={VEHICLES:mt.VEHICLES,EVENTS:mt.EVENTS,PLANNING:mt.RETROPLANNING,FINANCE:mt.FINANCE,MEMBERS:mt.MEMBERS,STOCK:mt.STOCK,NEWSLETTER:mt.NEWSLETTER,SITE_MANAGEMENT:mt.SITE_MANAGEMENT,RETRODEMANDES:mt.RETRODEMANDES,RETROMAIL:mt.RETROMAIL,RETROSUPPORT:mt.RETROSUPPORT,PERMISSIONS_MANAGEMENT:mt.PERMISSIONS_MANAGEMENT}[m.resource];return!x||rh(d,x,i)}return!0}return!0},a=qre.filter(h);return u?e.jsx(_g,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",bgGradient:"linear(to-r, blue.500, purple.600)",children:e.jsxs(Be,{spacing:4,py:8,children:[e.jsx(Kr,{size:"lg"}),e.jsx(Z,{children:"Chargement des permissions..."})]})}):e.jsx(_g,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",headerVariant:"card",bgGradient:"linear(to-r, blue.500, purple.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"}],children:e.jsxs(Be,{spacing:8,align:"stretch",children:[a.length>0?e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:6,children:a.map(m=>e.jsx(ch,{title:m.title,description:m.description,icon:m.icon,color:m.color,badge:m.badge,as:oo,to:m.to},m.title))}):e.jsxs(Re,{bg:Os("gray.50","gray.900"),borderRadius:"md",p:12,textAlign:"center",borderWidth:"2px",borderStyle:"dashed",borderColor:Os("gray.300","gray.600"),children:[e.jsx(Te,{justify:"center",mb:3,children:e.jsx(y1,{size:32})}),e.jsx(ht,{size:"md",mb:2,children:"Accs limit"}),e.jsx(Z,{color:"gray.600",mb:4,children:"Vous n'avez pas accs aux fonctionnalits de MyRBE avec votre rle et vos permissions actuels."}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Contactez un administrateur pour demander l'accs."})]}),a.length>0&&e.jsxs(Be,{spacing:6,children:[e.jsx(Re,{bg:t,p:6,borderRadius:"xl",borderLeft:"4px solid",borderLeftColor:n,w:"full",children:e.jsxs(Be,{spacing:3,align:"start",children:[e.jsx(Te,{children:e.jsx(Z,{fontSize:"lg",fontWeight:"600",color:"blue.700",children:" Guide d'utilisation"})}),e.jsx(Z,{color:"blue.600",lineHeight:"relaxed",fontSize:"sm",children:"Votre vue MyRBE est personnalise selon vos permissions individuelles et votre rle. Les cartes affiches correspondent  vos droits d'accs. Les modifications que vous effectuez sont automatiquement sauvegardes et synchronises avec les autres membres de l'quipe."}),e.jsxs(Te,{spacing:3,pt:2,children:[e.jsx(Ie,{size:"sm",variant:"secondary",colorScheme:"blue",children:"Guide complet"}),e.jsx(Ie,{size:"sm",variant:"modern",as:oo,to:"/dashboard/support",children:"Support technique"})]})]})}),e.jsxs(Sn,{columns:{base:2,md:4},spacing:4,w:"full",children:[e.jsx(ch,{title:"Cartes visibles",description:`${a.length}`,color:"blue",variant:"modern"}),e.jsx(ch,{title:"Votre rle",description:d,color:"green",variant:"modern"}),e.jsx(ch,{title:"Permissions individuelles",description:`${f.length}`,color:"orange",variant:"modern"}),e.jsx(ch,{title:"Version",description:"v2.2.0",color:"purple",variant:"modern"})]})]})]})})}const ef="http://localhost:3001",MT=[{matricule:"w.belaidi",label:"Waiyl Belaidi"},{matricule:"m.ravichandran",label:"Mthusan Ravichandran"}];function kT(t,n){return`pointage:${t}:${n}`}function ese(t){try{const n="rbe:reports:local",r=localStorage.getItem(n),s=r?JSON.parse(r):[];return s.unshift(t),localStorage.setItem(n,JSON.stringify(s)),!0}catch(n){return console.error("saveLocalReport failed",n),!1}}function tse(){const{parc:t}=kj(),n=Hr(),{matricule:r,prenom:s}=qa(),[i,l]=T.useState(null),[d,f]=T.useState(!0),[u,h]=T.useState(MT),[a,m]=T.useState(""),[v,g]=T.useState([]),[x,w]=T.useState(null),[b,S]=T.useState(!1),[C,B]=T.useState(!1),[F,N]=T.useState(!1),[Q,z]=T.useState(""),[k,K]=T.useState(""),[se,V]=T.useState(!1),[q,le]=T.useState(""),[ae,ie]=T.useState([]),[J,G]=T.useState(!1),[W,pe]=T.useState(null);T.useEffect(()=>{let Ne=!1;return(async()=>{try{f(!0);const Ke=await fetch(`${ef}/vehicles/${encodeURIComponent(t)}`);if(!Ke.ok)throw new Error("Vhicule introuvable");const rt=await Ke.json();Ne||l(rt)}catch(Ke){console.error(Ke),n({status:"error",title:"Impossible de charger le vhicule",description:String(Ke.message)})}finally{Ne||f(!1)}})(),()=>{Ne=!0}},[t,n]),T.useEffect(()=>{r&&r.trim()?(m(r),u.some(Ne=>Ne.matricule===r)||h(Ne=>[{matricule:r,label:s?`${s} (${r})`:r},...Ne])):a||m(MT[0].matricule)},[r,s]),T.useEffect(()=>{if(!a)return;const Ne=kT(t,a);try{const Ke=localStorage.getItem(Ne);if(Ke){const rt=JSON.parse(Ke);w(rt)}else w(null)}catch(Ke){console.warn("failed reading pointage from storage",Ke)}},[t,a]);const oe=Ne=>{const Ke=kT(t,a);if(Ne)try{localStorage.setItem(Ke,JSON.stringify(Ne))}catch(rt){console.warn("persistActiveLocal failed",rt)}else try{localStorage.removeItem(Ke)}catch(rt){console.warn("persistActiveLocal remove failed",rt)}},he=Ne=>{try{return new Date(Ne).toLocaleString()}catch{return Ne}},$=()=>{const Ne=Q.trim();if(!Ne)return n({status:"warning",title:"Matricule requis"});if(Ne===a)return z(""),n({status:"info",title:"C'est dj le membre principal"});if(v.includes(Ne))return z(""),n({status:"info",title:"Participant dj ajout"});g(Ke=>[...Ke,Ne]),u.some(Ke=>Ke.matricule===Ne)||h(Ke=>[{matricule:Ne,label:Ne},...Ke]),z(""),n({status:"success",title:"Participant ajout"})},M=Ne=>{g(Ke=>Ke.filter(rt=>rt!==Ne))},ee=async()=>{S(!0);try{try{if(!(await fetch(`${ef}/health`)).ok){n({status:"error",title:"API indisponible",description:"Le serveur est indisponible  le pointage informatique est dsactiv."}),S(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage informatique est dsactiv."}),S(!1);return}const Ne=[...v],Ke={conducteur:a||null,participants:Ne,note:"pointage:start",startedAt:new Date().toISOString()},rt=await fetch(`${ef}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json","x-user-matricule":a||""},body:JSON.stringify(Ke)});if(!rt.ok){let nt=null;try{nt=await rt.json()}catch{nt=await rt.text().catch(()=>null)}console.warn("startPointage server error",rt.status,nt),n({status:"error",title:"chec du pointage",description:nt?.error||`Erreur serveur (${rt.status})`}),S(!1);return}const et=await rt.json(),wt={id:et.id||`local-${Date.now()}`,startedAt:et.startedAt||Ke.startedAt,conducteur:Ke.conducteur,participants:Ke.participants||[]};w(wt),oe(wt),n({status:"success",title:"Pointage dmarr",description:` ${he(wt.startedAt)}`}),B(!1)}catch(Ne){console.error(Ne),n({status:"error",title:"chec du pointage",description:String(Ne.message)})}finally{S(!1)}},re=async()=>{if(!x)return;S(!0);const Ne=new Date().toISOString(),Ke=(rt,et)=>{try{const wt="rbe:usages:local",nt=localStorage.getItem(wt),Ee=nt?JSON.parse(nt):[],at={id:`local-end-${Date.now()}`,relatedTo:rt,parc:t,startedAt:et||x.startedAt,endedAt:Ne,conducteur:x.conducteur||a,participants:x.participants||v,note:k||"depointe",createdAt:new Date().toISOString(),synced:!1};return Ee.unshift(at),localStorage.setItem(wt,JSON.stringify(Ee)),at}catch(wt){return console.error("saveLocalEnded failed",wt),null}};try{try{if(!(await fetch(`${ef}/health`)).ok){n({status:"error",title:"API indisponible",description:"Impossible de terminer le pointage  serveur indisponible."}),S(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage ne peut pas tre termin."}),S(!1);return}const rt={endedAt:Ne,note:k||"depointe",participants:x.participants||v};let et=null;try{const at=await fetch(`${ef}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(x.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(rt)});if(at.ok){try{et=await at.json()}catch{et=null}oe(null),w(null),N(!1),K(""),n({status:"success",title:"Dpointe",description:`arrt  ${new Date(Ne).toLocaleString()}`})}else{let Gt=null;try{Gt=await at.json()}catch{Gt=await at.text().catch(()=>null)}console.warn("depointerWithNote: PATCH failed",at.status,Gt)}}catch(at){console.warn("depointerWithNote: PATCH network error",at)}if(!et)try{const at=await fetch(`${ef}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conducteur:a||null,note:k||"pointage:end",relatedTo:x.id,participants:x.participants||v,endedAt:Ne})});if(at.ok){try{et=await at.json()}catch{et=null}oe(null),w(null),N(!1),K(""),n({status:"success",title:"Dpointe (fallback)",description:`arrt  ${new Date(Ne).toLocaleString()}`})}else{let Gt=null;try{Gt=await at.json()}catch{Gt=await at.text().catch(()=>null)}console.warn("depointerWithNote: POST fallback failed",at.status,Gt)}}catch(at){console.warn("depointerWithNote: POST fallback network error",at)}if(!et){const at=Ke(x.id,x.startedAt);oe(null),w(null),N(!1),K(""),n({status:"warning",title:"Dpointe local",description:at?"Le pointage a t enregistr localement (pas d'API). La fiche peut tre envoye plus tard.":"Le serveur est indisponible et la sauvegarde locale a chou."}),pe({usageId:at?at.id:`local-${Date.now()}`,startedAt:at?.startedAt||x.startedAt,endedAt:at?.endedAt||Ne,conducteur:x.conducteur||a,participants:x.participants||v}),le(k||""),ie([]),V(!0);return}const wt=et?.id||x.id,nt=et?.startedAt||x.startedAt,Ee=et?.endedAt||Ne;pe({usageId:wt,startedAt:nt,endedAt:Ee,conducteur:a,participants:x.participants||v}),le(k||""),ie([]),V(!0)}catch(rt){console.error("depointerWithNote: unexpected error",rt),n({status:"error",title:"chec du dpointeur",description:String(rt.message)})}finally{S(!1)}},me=Ne=>{const Ke=Array.from(Ne.target.files||[]);ie(rt=>[...rt,...Ke]),Ne.target.value=""},De=Ne=>{ie(Ke=>Ke.filter((rt,et)=>et!==Ne))},Ue=async()=>{if(W){G(!0);try{const{usageId:Ne,startedAt:Ke,endedAt:rt,conducteur:et,participants:wt}=W,nt=new FormData;nt.append("description",q||""),nt.append("startedAt",Ke||""),nt.append("endedAt",rt||""),nt.append("conducteur",et||""),nt.append("participants",JSON.stringify(wt||[])),ae.forEach((at,Gt)=>nt.append("files",at,at.name));let Ee=!1;try{const at=await fetch(`${ef}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(Ne)}/report`,{method:"POST",body:nt});at.ok?(Ee=!0,n({status:"success",title:"Fiche enregistre",description:"La fiche a t enregistre sur le serveur."})):console.warn("primary report endpoint failed",at.status)}catch(at){console.warn("primary report endpoint error",at)}if(!Ee)try{const at=await fetch(`${ef}/vehicles/${encodeURIComponent(t)}/reports`,{method:"POST",body:nt});at.ok?(Ee=!0,n({status:"success",title:"Fiche enregistre (fallback)",description:"La fiche a t envoye au fallback serveur."})):console.warn("fallback report endpoint failed",at.status)}catch(at){console.warn("fallback report endpoint error",at)}if(!Ee){const at={id:`local-${Date.now()}`,parc:t,usageId:Ne,startedAt:Ke,endedAt:rt,conducteur:et,participants:wt||[],description:q||"",files:ae.map(Oe=>({name:Oe.name,size:Oe.size,type:Oe.type})),createdAt:new Date().toISOString()},Gt=ese(at);n(Gt?{status:"warning",title:"Fiche sauvegarde localement",description:"Pas d'API disponible  la fiche est dans votre navigateur."}:{status:"error",title:"chec sauvegarde locale",description:"Impossible de sauvegarder la fiche."})}V(!1),le(""),ie([]),pe(null)}catch(Ne){console.error(Ne),n({status:"error",title:"Erreur lors de l'envoi de la fiche",description:String(Ne.message)})}finally{G(!1)}}};return d?e.jsx(is,{p:8,children:e.jsx(Kr,{size:"lg"})}):e.jsxs(Jc,{maxW:"4xl",py:10,children:[e.jsx(ht,{as:"h1",size:"xl",mb:4,children:"MyRBE  Actions rapides"}),e.jsxs(Re,{mb:4,children:[e.jsxs(Z,{fontSize:"md",children:[e.jsx("b",{children:"Vhicule :"})," ",i?.immat||`Parc ${t}`]}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Parc ",t]})]}),e.jsxs(Re,{mb:4,children:[e.jsx(Z,{mb:2,children:e.jsx("b",{children:"Initiateur (scan)"})}),e.jsxs(Te,{spacing:3,align:"start",children:[e.jsxs(gn,{value:a,onChange:Ne=>m(Ne.target.value),maxW:"360px",children:[u.map(Ne=>e.jsxs("option",{value:Ne.matricule,children:[Ne.label," (",Ne.matricule,")"]},Ne.matricule)),r&&!u.some(Ne=>Ne.matricule===r)&&e.jsx("option",{value:r,children:s?`${s} (${r})`:r})]}),e.jsx(Re,{children:e.jsx(Xe,{placeholder:"Ajouter participant (matricule)",value:Q,onChange:Ne=>z(Ne.target.value),maxW:"220px"})}),e.jsx(Ie,{size:"sm",onClick:$,children:"Ajouter"})]}),e.jsxs(Re,{mt:3,children:[e.jsx(Z,{mb:2,fontSize:"sm",children:"Participants prsents :"}),e.jsxs(pP,{spacing:2,children:[v.length===0&&e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Aucun participant ajout"}),v.map(Ne=>e.jsxs(Sd,{size:"sm",borderRadius:"full",variant:"solid",colorScheme:"blue",children:[e.jsx(Cd,{children:Ne}),e.jsx(yB,{onClick:()=>M(Ne)})]},Ne))]})]})]}),e.jsxs(kA,{direction:{base:"column",md:"row"},spacing:4,mb:4,children:[e.jsx(Ie,{colorScheme:"blue",size:"lg",onClick:()=>n({status:"info",title:"Planifier",description:"Fonctionnalit planification  ajouter"}),children:"Planifier une intervention"}),e.jsx(Ie,{colorScheme:"red",size:"lg",onClick:()=>n({status:"info",title:"Signaler",description:"Fonctionnalit signalement  ajouter"}),children:"Signaler une anomalie"}),e.jsx(Ie,{colorScheme:x?"orange":"green",size:"lg",onClick:()=>{x?N(!0):B(!0)},isLoading:b,children:x?"Dpointer":"Pointer"})]}),e.jsxs(Re,{children:[e.jsxs(Z,{fontSize:"sm",color:"gray.700",children:[e.jsx("b",{children:"Initiateur :"})," ",a," ",r===a&&s?`  ${s}`:""]}),x?e.jsxs(Z,{fontSize:"sm",color:"gray.700",children:["Point depuis : ",he(x.startedAt)]}):e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Aucun pointage actif pour ce membre sur ce vhicule."})]}),e.jsxs(Hn,{isOpen:C,onClose:()=>B(!1),isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Pointer  dmarrer"}),e.jsx(fr,{}),e.jsxs(Vn,{children:[e.jsxs(Z,{mb:3,children:["Vhicule : ",e.jsx("b",{children:i?.immat||`Parc ${t}`})]}),e.jsxs(Z,{mb:3,children:["Initiateur : ",e.jsx("b",{children:a})]}),e.jsxs(Z,{mb:3,children:["Participants : ",v.length?v.join(", "):""]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Confirmer pour crer le pointage (heure actuelle enregistre)."})]}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:()=>B(!1),children:"Annuler"}),e.jsx(Ie,{colorScheme:"green",onClick:ee,isLoading:b,children:"Confirmer"})]})]})]}),e.jsxs(Hn,{isOpen:F,onClose:()=>N(!1),isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Dpointer  terminer"}),e.jsx(fr,{}),e.jsxs(Vn,{children:[e.jsxs(Z,{mb:3,children:["Vhicule : ",e.jsx("b",{children:i?.immat||`Parc ${t}`})]}),e.jsxs(Z,{mb:3,children:["Initiateur : ",e.jsx("b",{children:a})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description des activits ralises"}),e.jsx(xr,{value:k,onChange:Ne=>K(Ne.target.value),placeholder:"Ex: contrle frein, remplacement ampoule..."})]}),e.jsx(Z,{mt:3,fontSize:"sm",color:"gray.500",children:"(Aprs validation, vous pourrez ajouter photos/vidos  la fiche.)"})]}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:()=>N(!1),children:"Annuler"}),e.jsx(Ie,{colorScheme:"orange",onClick:re,isLoading:b,isDisabled:!k.trim(),children:"Confirmer dpointer"})]})]})]}),e.jsxs(Hn,{isOpen:se,onClose:()=>V(!1),size:"xl",isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Fiche de pointage  dtails"}),e.jsx(fr,{}),e.jsxs(Vn,{children:[e.jsxs(Re,{mb:3,children:[e.jsxs(Z,{children:[e.jsx("b",{children:"Vhicule :"})," ",i?.immat||`Parc ${t}`]}),e.jsxs(Z,{children:[e.jsx("b",{children:"Initiateur :"})," ",W?.conducteur]}),e.jsxs(Z,{children:[e.jsx("b",{children:"Participants :"})," ",(W?.participants||[]).join(", ")||""]}),e.jsxs(Z,{children:[e.jsx("b",{children:"Dbut :"})," ",W?he(W.startedAt):""]}),e.jsxs(Z,{children:[e.jsx("b",{children:"Fin :"})," ",W?he(W.endedAt):""]})]}),e.jsxs(be,{mb:3,children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:q,onChange:Ne=>le(Ne.target.value),placeholder:"Dcrivez les actions effectues..."})]}),e.jsxs(be,{mb:3,children:[e.jsx(je,{children:"Photos / Vidos"}),e.jsx(Xe,{type:"file",accept:"image/*,video/*",multiple:!0,onChange:me}),ae.length>0&&e.jsx(Sn,{columns:{base:2,md:3},spacing:2,mt:3,children:ae.map((Ne,Ke)=>e.jsxs(Re,{borderRadius:"md",overflow:"hidden",pos:"relative",bg:"gray.50",p:2,children:[Ne.type.startsWith("image/")?e.jsx(Cu,{src:URL.createObjectURL(Ne),alt:Ne.name,objectFit:"cover",maxH:"140px",w:"100%"}):e.jsxs(Re,{p:2,children:[e.jsx(Z,{fontSize:"sm",noOfLines:2,children:Ne.name}),e.jsxs(Z,{fontSize:"xs",color:"gray.600",children:[Ne.size/1024|0," KB"]})]}),e.jsx(Pn,{"aria-label":"Supprimer",size:"sm",pos:"absolute",top:"6px",right:"6px",onClick:()=>De(Ke),icon:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 6h18"}),e.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),e.jsx("path",{d:"M10 11v6"}),e.jsx("path",{d:"M14 11v6"})]})})]},Ke))})]}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Les fichiers seront envoys au serveur si disponible ; sinon la fiche sera sauvegarde localement."})]}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:()=>V(!1),children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:Ue,isLoading:J,children:"Enregistrer la fiche"})]})]})]})]})}const Xp=({title:t,subtitle:n,sections:r=[],defaultSectionId:s,headerActions:i,footer:l,sidebarFooter:d,sidebarTitleIcon:f,sidebarTitle:u="Espace MyRBE",sidebarSubtitle:h="Outils d'administration",versionLabel:a="MyRBE Workspace"})=>{const[m,v]=T.useState(s||r[0]?.id),[g,x]=T.useState(!0),[w]=gD("(max-width: 768px)"),b=T.useRef(null);T.useEffect(()=>{b.current&&b.current.scrollTo({top:0,behavior:"auto"})},[m]);const S=Os("gray.50","gray.900"),C=Os("white","gray.800"),B=Os("gray.200","gray.700"),F=Os("gray.100","gray.700"),N=Os("blue.50","blue.900"),Q=Os("blue.500","blue.300"),z=Os("gray.800","whiteAlpha.900"),k=Os("gray.500","gray.400"),K=T.useMemo(()=>r.find(q=>q.id===m)||r[0],[m,r]),se=K?.render,V=()=>x(q=>!q);return e.jsxs(Te,{align:"stretch",spacing:0,h:"100vh",bg:C,children:[e.jsx(Re,{w:g&&!w?"280px":w?"100%":"0",bg:S,borderRight:"1px",borderColor:B,overflowY:"auto",transition:"width 0.3s ease",display:w&&!g?"none":"block",position:w?"absolute":"relative",h:"100%",zIndex:w?20:"auto",boxShadow:w&&g?"lg":"none",children:e.jsxs(Be,{align:"stretch",spacing:0,h:"full",children:[e.jsxs(Re,{p:6,borderBottom:"1px",borderColor:B,children:[e.jsxs(Te,{justify:"space-between",mb:3,children:[e.jsxs(Te,{spacing:3,children:[f&&e.jsx(ws,{as:f,color:"blue.500",boxSize:6}),e.jsxs(Re,{children:[e.jsx(ht,{size:"md",color:z,children:u}),e.jsx(Z,{fontSize:"sm",color:k,children:h})]})]}),w&&e.jsx(Ie,{size:"sm",variant:"ghost",onClick:V,children:e.jsx(Hp,{})})]}),a&&e.jsx(Z,{fontSize:"xs",color:"gray.500",children:a})]}),e.jsx(Be,{align:"stretch",spacing:1,px:3,py:4,flex:1,children:r.map(q=>{const le=q.id===K?.id,ae=q.icon;return e.jsx(Ie,{leftIcon:ae?e.jsx(ws,{as:ae}):void 0,variant:"ghost",justifyContent:"flex-start",w:"full",bg:le?N:"transparent",borderLeft:"3px",borderColor:le?Q:"transparent",borderRadius:0,px:4,py:6,fontSize:"sm",fontWeight:le?"600":"500",color:le?Q:"inherit",_hover:{bg:F,borderLeftColor:Q},onClick:()=>{v(q.id),w&&x(!1)},children:e.jsxs(Ri,{direction:"column",align:"flex-start",children:[e.jsx(Z,{children:q.label}),q.description&&e.jsx(Z,{fontSize:"xs",color:"gray.500",children:q.description})]})},q.id)})}),e.jsx(Re,{p:4,borderTop:"1px",borderColor:B,fontSize:"xs",color:"gray.500",textAlign:"center",children:d||"MyRBE"})]})}),e.jsxs(Re,{flex:1,overflowY:"auto",position:"relative",h:"100%",ref:b,children:[w&&!g&&e.jsx(Ie,{position:"fixed",top:4,left:4,size:"sm",variant:"solid",zIndex:30,onClick:V,children:e.jsx(dre,{})}),e.jsxs(Re,{p:6,minH:"full",children:[e.jsxs(Ri,{align:{base:"flex-start",md:"center"},justify:"space-between",wrap:"wrap",mb:6,gap:4,children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",color:z,children:t}),n&&e.jsx(Z,{color:k,children:n})]}),i&&e.jsx(Te,{spacing:3,flexWrap:"wrap",justify:"flex-end",children:(Array.isArray(i),i)})]}),e.jsx(ds,{mb:6}),e.jsx(Re,{children:se?se():e.jsx(Z,{color:"gray.500",children:"Aucune section disponible."})}),l&&e.jsx(Re,{mt:10,children:l})]})]})]})},ng={getCarteGrise:async t=>mn.get(`/vehicles/${t}/cg`),addCarteGrise:async(t,n,r,s)=>mn.post(`/vehicles/${t}/cg`,{type:n,documentPath:r,notes:s}),markOldCGBarred:async t=>mn.put(`/vehicles/${t}/cg/mark-old-barred`,{}),getAssurance:async t=>mn.get(`/vehicles/${t}/assurance`),updateAssurance:async(t,n)=>mn.post(`/vehicles/${t}/assurance`,n),getControleTechnique:async t=>mn.get(`/vehicles/${t}/ct`),addControleTechnique:async(t,n)=>mn.post(`/vehicles/${t}/ct`,n),getCertificatCession:async t=>mn.get(`/vehicles/${t}/certificat-cession`),addCertificatCession:async(t,n,r)=>mn.post(`/vehicles/${t}/certificat-cession`,{certificatPath:n,notes:r}),getEchancier:async t=>mn.get(`/vehicles/${t}/echancier`),getAllEchancier:async()=>mn.get("/api/echancier"),addEchancierItem:async(t,n)=>mn.post(`/vehicles/${t}/echancier`,n),updateEchancierItem:async(t,n,r)=>mn.put(`/vehicles/${t}/echancier/${n}`,r),deleteEchancierItem:async(t,n)=>mn.delete(`/vehicles/${t}/echancier/${n}`)},nse=({parc:t})=>{const[n,r]=T.useState(null),[s,i]=T.useState(null),[l,d]=T.useState(null),[f,u]=T.useState(null),[h,a]=T.useState([]),[m,v]=T.useState(!0),g=Hr(),{isOpen:x,onOpen:w,onClose:b}=er(),[S,C]=T.useState({});T.useEffect(()=>{B()},[t]);const B=async()=>{try{v(!0);const[se,V,q,le,ae]=await Promise.all([mn.get(`/vehicles/${t}/cg`),mn.get(`/vehicles/${t}/assurance`),mn.get(`/vehicles/${t}/ct`),mn.get(`/vehicles/${t}/certificat-cession`),mn.get(`/vehicles/${t}/echancier`)]);r(se),i(V),d(q.latestCT),u(le),a(Array.isArray(ae)?ae:[])}catch(se){g({status:"error",title:"Erreur de chargement",description:se.message})}finally{v(!1)}};if(m)return e.jsx(Kr,{});return e.jsx(Re,{children:e.jsxs(Eu,{variant:"enclosed",children:[e.jsxs(Tu,{children:[e.jsx($r,{children:"Cartes Grises"}),e.jsxs($r,{children:["Assurance ",s?.isActive?"":""]}),e.jsxs($r,{children:["Contrle Technique ",l?.ctStatus==="passed"?"":""]}),e.jsxs($r,{children:["Certificat de Cession ",f?.imported?"":""]}),e.jsx($r,{children:"chancier"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:e.jsx(Be,{spacing:4,align:"stretch",children:e.jsx(F,{parc:t,data:n,onSave:B})})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsx(N,{parc:t,data:s,onSave:B}),s?.dateValidityEnd&&e.jsxs(ir,{status:s.isActive?"success":"error",children:[e.jsx(or,{}),s.isActive?`Assur jusqu'au ${new Date(s.dateValidityEnd).toLocaleDateString("fr-FR")}  ${s.timeValidityEnd}`:`Assurance expire depuis le ${new Date(s.dateValidityEnd).toLocaleDateString("fr-FR")}`]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[l&&e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Dernier CT"})}),e.jsxs(bt,{children:[e.jsxs(Sn,{columns:2,spacing:4,children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Date"}),e.jsx(Z,{children:new Date(l.ctDate).toLocaleDateString("fr-FR")})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Statut"}),e.jsx(Xt,{colorScheme:l.ctStatus==="passed"?"green":l.ctStatus==="contre-visite"?"yellow":"red",children:l.ctStatus==="passed"?"Russi":l.ctStatus==="contre-visite"?"Contre-visite":"chou"})]}),l.nextCtDate&&e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Prochain CT"}),e.jsx(Z,{children:new Date(l.nextCtDate).toLocaleDateString("fr-FR")})]}),l.mileage&&e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Kilomtrage"}),e.jsxs(Z,{children:[l.mileage," km"]})]})]}),l.notes&&e.jsxs(Z,{mt:4,children:[e.jsx("strong",{children:"Notes :"})," ",l.notes]})]})]}),e.jsx(Q,{parc:t,onSave:B})]})}),e.jsx(Gr,{children:e.jsx(Be,{spacing:4,align:"stretch",children:f?.imported?e.jsxs(ir,{status:"success",children:[e.jsx(or,{}),"Certificat de cession import le ",new Date(f.dateImport).toLocaleDateString("fr-FR")]}):e.jsx(z,{parc:t,onSave:B})})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsx(k,{parc:t,onSave:B}),h.length>0&&e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Date d'chance"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:h.map(se=>e.jsxs(Rn,{children:[e.jsx(lt,{children:se.type}),e.jsx(lt,{children:se.description}),e.jsx(lt,{children:new Date(se.dueDate).toLocaleDateString("fr-FR")}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:se.status==="done"?"green":se.status==="expired"?"red":"blue",children:se.status})}),e.jsx(lt,{children:e.jsx(Ie,{size:"sm",variant:"ghost",onClick:()=>K(se.id),children:e.jsx(Tg,{})})})]},se.id))})]})]})})]})]})});function F({parc:se,data:V,onSave:q}){const[le,ae]=T.useState(V||{}),ie=async()=>{try{await mn.post(`/vehicles/${se}/cg`,le),g({status:"success",title:"Carte grise mise  jour"}),q()}catch(J){g({status:"error",title:"Erreur",description:J.message})}};return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Cartes Grises"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Ancienne CG (PDF)"}),e.jsx(Xe,{type:"file",accept:"application/pdf",onChange:J=>ae({...le,type:"old",documentPath:J.target.value})}),V?.oldCGPath&&e.jsxs(Te,{mt:2,children:[e.jsx(Xt,{colorScheme:V.oldCGBarred?"red":"yellow",children:V.oldCGBarred?"Barre ":"Barre "}),e.jsx(Ie,{size:"sm",leftIcon:e.jsx(lne,{}),children:"Tlcharger"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Nouvelle CG (PDF)"}),e.jsx(Xe,{type:"file",accept:"application/pdf",onChange:J=>ae({...le,type:"new",documentPath:J.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:le.notes||"",onChange:J=>ae({...le,notes:J.target.value})})]}),e.jsx(Ie,{colorScheme:"blue",onClick:ie,children:"Enregistrer"})]})})]})}function N({parc:se,data:V,onSave:q}){const[le,ae]=T.useState(V||{}),ie=async()=>{try{await mn.post(`/vehicles/${se}/assurance`,le),g({status:"success",title:"Assurance mise  jour"}),q()}catch(J){g({status:"error",title:"Erreur",description:J.message})}};return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Attestation d'Assurance"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Attestation d'assurance (PDF)"}),e.jsx(Xe,{type:"file",accept:"application/pdf",onChange:J=>ae({...le,attestationPath:J.target.value})})]}),e.jsxs(Te,{spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Date de validit (dbut)"}),e.jsx(Xe,{type:"date",value:le.dateValidityStart||"",onChange:J=>ae({...le,dateValidityStart:J.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure (dbut)"}),e.jsx(Xe,{type:"time",value:le.timeValidityStart||"",onChange:J=>ae({...le,timeValidityStart:J.target.value})})]})]}),e.jsxs(Te,{spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Date de validit (fin)"}),e.jsx(Xe,{type:"date",value:le.dateValidityEnd||"",onChange:J=>ae({...le,dateValidityEnd:J.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure (fin)"}),e.jsx(Xe,{type:"time",value:le.timeValidityEnd||"",onChange:J=>ae({...le,timeValidityEnd:J.target.value})})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:le.notes||"",onChange:J=>ae({...le,notes:J.target.value})})]}),e.jsx(Ie,{colorScheme:"blue",onClick:ie,children:"Enregistrer"})]})})]})}function Q({parc:se,onSave:V}){const[q,le]=T.useState({}),ae=async()=>{try{await mn.post(`/vehicles/${se}/ct`,q),g({status:"success",title:"CT enregistr"}),V()}catch(ie){g({status:"error",title:"Erreur",description:ie.message})}};return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Ajouter un Contrle Technique"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Attestation CT (PDF)"}),e.jsx(Xe,{type:"file",accept:"application/pdf",onChange:ie=>le({...q,attestationPath:ie.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date du CT"}),e.jsx(Xe,{type:"date",value:q.ctDate||"",onChange:ie=>le({...q,ctDate:ie.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Statut"}),e.jsxs("select",{value:q.ctStatus||"passed",onChange:ie=>le({...q,ctStatus:ie.target.value}),children:[e.jsx("option",{value:"passed",children:"Russi"}),e.jsx("option",{value:"contre-visite",children:"Contre-visite requise"}),e.jsx("option",{value:"failed",children:"chou"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prochain CT prvu"}),e.jsx(Xe,{type:"date",value:q.nextCtDate||"",onChange:ie=>le({...q,nextCtDate:ie.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Kilomtrage"}),e.jsx(Xe,{type:"number",value:q.mileage||"",onChange:ie=>le({...q,mileage:ie.target.value}),placeholder:"0"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:q.notes||"",onChange:ie=>le({...q,notes:ie.target.value})})]}),e.jsx(Ie,{colorScheme:"blue",onClick:ae,children:"Enregistrer"})]})})]})}function z({parc:se,onSave:V}){const[q,le]=T.useState({}),ae=async()=>{try{await mn.post(`/vehicles/${se}/certificat-cession`,q),g({status:"success",title:"Certificat de cession import"}),V()}catch(ie){g({status:"error",title:"Erreur",description:ie.message})}};return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Importer Certificat de Cession"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),"Ce document ne peut tre import qu'une seule fois"]}),e.jsxs(be,{children:[e.jsx(je,{children:"Certificat de cession (PDF)"}),e.jsx(Xe,{type:"file",accept:"application/pdf",onChange:ie=>le({...q,certificatPath:ie.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:q.notes||"",onChange:ie=>le({...q,notes:ie.target.value})})]}),e.jsx(Ie,{colorScheme:"blue",onClick:ae,children:"Importer"})]})})]})}function k({parc:se,onSave:V}){const[q,le]=T.useState({}),ae=async()=>{try{await mn.post(`/vehicles/${se}/echancier`,q),g({status:"success",title:"chancier ajout"}),V(),le({})}catch(ie){g({status:"error",title:"Erreur",description:ie.message})}};return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Ajouter  l'chancier"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsxs("select",{value:q.type||"assurance",onChange:ie=>le({...q,type:ie.target.value}),children:[e.jsx("option",{value:"assurance",children:"Assurance"}),e.jsx("option",{value:"ct",children:"Contrle Technique"}),e.jsx("option",{value:"cg",children:"Carte Grise"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{value:q.description||"",onChange:ie=>le({...q,description:ie.target.value}),placeholder:"Ex: Renouvellement assurance"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date d'chance"}),e.jsx(Xe,{type:"date",value:q.dueDate||"",onChange:ie=>le({...q,dueDate:ie.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:q.notes||"",onChange:ie=>le({...q,notes:ie.target.value})})]}),e.jsx(Ie,{colorScheme:"blue",onClick:ae,children:"Ajouter"})]})})]})}async function K(se){try{await mn.delete(`/vehicles/${t}/echancier/${se}`),B(),g({status:"success",title:"Supprim"})}catch(V){g({status:"error",title:"Erreur",description:V.message})}}},rse=({parc:t})=>{const[n,r]=T.useState({}),[s,i]=T.useState(!0),{isOpen:l,onOpen:d,onClose:f}=er();T.useEffect(()=>{u()},[t]);const u=async()=>{try{i(!1);const[v,g,x,w]=await Promise.all([ng.getCarteGrise(t).catch(()=>null),ng.getAssurance(t).catch(()=>null),ng.getControleTechnique(t).catch(()=>null),ng.getCertificatCession(t).catch(()=>null)]);r({carteGrise:v?.newCGPath?"ok":"missing",assurance:g?.isActive?"ok":g?.dateValidityEnd?"expired":"missing",controleTechnique:x?.latestCT?x.latestCT.ctStatus==="passed"?"ok":"warning":"missing",certificatCession:w?.imported?"ok":"missing"})}catch(v){console.error("Error loading vehicle admin status:",v)}finally{i(!1)}},h=[{key:"carteGrise",label:"CG",icon:""},{key:"assurance",label:"Assurance",icon:""},{key:"controleTechnique",label:"CT",icon:""},{key:"certificatCession",label:"Certificat",icon:""}],a=v=>{const g=n[v];return g==="ok"?"green":g==="warning"?"yellow":g==="expired"?"red":"gray"},m=v=>{const g=n[v];return g==="ok"?"":g==="warning"?"":g==="expired"?"":""};return s?null:e.jsxs(e.Fragment,{children:[e.jsxs(Te,{spacing:2,onClick:d,cursor:"pointer",children:[h.map(v=>e.jsx(Jl,{label:v.label,placement:"top",children:e.jsxs(Xt,{colorScheme:a(v.key),fontSize:"md",p:2,children:[v.icon," ",m(v.key)]})},v.key)),e.jsx(Z,{fontSize:"xs",color:"gray.500",ml:2,children:"Cliquer pour grer"})]}),e.jsxs(Hn,{isOpen:l,onClose:f,size:"4xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsxs($n,{children:["Administration Vhicule ",t]}),e.jsx(fr,{}),e.jsx(Vn,{pb:8,children:e.jsx(nse,{parc:t})})]})]})]})};function sse({etat:t}){const n={disponible:"green",en_panne:"red",maintenance:"orange",Service:"green",Prserv:"blue","A VENIR":"gray",Restauration:"orange"};return e.jsx(Xt,{colorScheme:n[t]||"purple",children:t||""})}function ise({vehicles:t,apiClient:n}){const r=Hr(),[s,i]=T.useState(null),[l,d]=T.useState([]),[f,u]=T.useState([]),[h,a]=T.useState(null),[m,v]=T.useState(!1),[g,x]=T.useState(!1),[w,b]=T.useState({type:"other",description:"",cost:"",mileage:"",performedBy:"",location:"",status:"completed",notes:""}),[S,C]=T.useState(!1),[B,F]=T.useState({serviceType:"oil_change",description:"",frequency:"yearly",priority:"medium",notes:""}),N=async V=>{try{v(!0);const[q,le,ae]=await Promise.all([n.get(`/vehicles/${encodeURIComponent(V)}/maintenance`).catch(()=>[]),n.get(`/vehicles/${encodeURIComponent(V)}/service-schedule`).catch(()=>[]),n.get(`/vehicles/${encodeURIComponent(V)}/maintenance-summary`).catch(()=>null)]);d(Array.isArray(q)?q:[]),u(Array.isArray(le)?le:[]),a(ae)}catch(q){console.error("Error loading maintenance data:",q),d([]),u([]),a(null)}finally{v(!1)}},Q=V=>{const q=V.parc||V.id||V.slug;i(q),N(q)},z=async()=>{if(!s||!w.type||!w.description){r({status:"warning",title:"Formulaire incomplet"});return}try{const V=await n.post(`/vehicles/${encodeURIComponent(s)}/maintenance`,w);d([V,...l]),b({type:"other",description:"",cost:"",mileage:"",performedBy:"",location:"",status:"completed",notes:""}),x(!1),r({status:"success",title:"Entretien ajout"}),await N(s)}catch(V){r({status:"error",title:"Erreur",description:V.message})}},k=async()=>{if(!s||!B.serviceType){r({status:"warning",title:"Formulaire incomplet"});return}try{const V=await n.post(`/vehicles/${encodeURIComponent(s)}/service-schedule`,B);u([V,...f]),F({serviceType:"oil_change",description:"",frequency:"yearly",priority:"medium",notes:""}),C(!1),r({status:"success",title:"Tche programme"}),await N(s)}catch(V){r({status:"error",title:"Erreur",description:V.message})}},K={oil_change:{label:"Vidange",color:"blue"},tire_change:{label:"Changement pneus",color:"purple"},brake_service:{label:"Service freins",color:"red"},inspection:{label:"Inspection",color:"green"},repair:{label:"Rparation",color:"orange"},washing:{label:"Lavage",color:"cyan"},other:{label:"Autre",color:"gray"}},se={completed:"green",in_progress:"yellow",pending:"orange",cancelled:"gray"};return s?e.jsxs(Be,{align:"start",spacing:4,w:"full",children:[e.jsxs(Te,{justify:"space-between",w:"full",children:[e.jsxs(Te,{children:[e.jsx(bv,{}),e.jsxs(ht,{size:"sm",children:["Entretien - ",s]})]}),e.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>i(null),children:" Retour"})]}),m?e.jsxs(Te,{spacing:3,children:[e.jsx(Kr,{size:"sm"}),e.jsx(Z,{children:"Chargement..."})]}):e.jsxs(e.Fragment,{children:[h&&e.jsxs(Sn,{columns:{base:2,md:4},gap:3,w:"full",children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"Cot total"}),e.jsxs(Jn,{fontSize:"lg",children:[h.totalCost.toFixed(2),""]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"Entretiens"}),e.jsx(Jn,{fontSize:"lg",children:h.maintenanceCount})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"Tches en retard"}),e.jsx(Jn,{fontSize:"lg",color:"red.500",children:h.overdueTasks})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"En attente"}),e.jsx(Jn,{fontSize:"lg",color:"orange.500",children:h.pendingTasks})]})})})]}),e.jsxs(Eu,{w:"full",colorScheme:"blue",children:[e.jsxs(Tu,{children:[e.jsxs($r,{children:["Historique (",l.length,")"]}),e.jsxs($r,{children:["Planning (",f.length,")"]})]}),e.jsxs(Iu,{children:[e.jsxs(Gr,{children:[e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"sm",children:"Historique d'entretien"}),e.jsx(Ie,{size:"sm",colorScheme:"green",onClick:()=>x(!0),children:"+ Ajouter"})]}),l.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun entretien enregistr"]}):e.jsx(Be,{align:"stretch",spacing:2,maxH:"500px",overflowY:"auto",children:l.map(V=>e.jsx(St,{variant:"outline",size:"sm",children:e.jsxs(bt,{py:2,children:[e.jsxs(Te,{justify:"space-between",mb:1,children:[e.jsxs(Te,{spacing:2,children:[e.jsx(Xt,{colorScheme:K[V.type]?.color||"gray",children:K[V.type]?.label||V.type}),e.jsx(Z,{fontSize:"sm",fontWeight:"600",children:new Date(V.date).toLocaleDateString("fr-FR")})]}),e.jsx(Xt,{colorScheme:se[V.status]||"gray",children:V.status})]}),e.jsx(Z,{fontSize:"sm",color:"gray.700",children:V.description}),e.jsxs(Te,{spacing:4,mt:2,fontSize:"xs",color:"gray.600",children:[V.cost>0&&e.jsxs(Z,{children:[" ",V.cost.toFixed(2),""]}),V.mileage&&e.jsxs(Z,{children:[" ",V.mileage," km"]}),V.performedBy&&e.jsxs(Z,{children:[" ",V.performedBy]}),V.nextDueDate&&e.jsxs(Z,{children:[" Prochainement: ",new Date(V.nextDueDate).toLocaleDateString("fr-FR")]})]})]})},V.id))})]}),e.jsxs(Hn,{isOpen:g,onClose:()=>x(!1),children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Ajouter un entretien"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:3,children:[e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Type"}),e.jsx("select",{value:w.type,onChange:V=>b({...w,type:V.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:Object.entries(K).map(([V,q])=>e.jsx("option",{value:V,children:q.label},V))})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Description *"}),e.jsx("textarea",{value:w.description,onChange:V=>b({...w,description:V.target.value}),placeholder:"Dtails de l'intervention...",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc",minHeight:"80px"}})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Cot ()"}),e.jsx("input",{type:"number",value:w.cost,onChange:V=>b({...w,cost:V.target.value}),placeholder:"0.00",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Kilomtrage"}),e.jsx("input",{type:"number",value:w.mileage,onChange:V=>b({...w,mileage:V.target.value}),placeholder:"12345",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Effectu par"}),e.jsx("input",{type:"text",value:w.performedBy,onChange:V=>b({...w,performedBy:V.target.value}),placeholder:"Nom du mcanicien/atelier",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Lieu"}),e.jsx("input",{type:"text",value:w.location,onChange:V=>b({...w,location:V.target.value}),placeholder:"Garage, atelier...",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Statut"}),e.jsxs("select",{value:w.status,onChange:V=>b({...w,status:V.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"completed",children:"Complt"}),e.jsx("option",{value:"in_progress",children:"En cours"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"cancelled",children:"Annul"})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{mr:3,onClick:()=>x(!1),variant:"ghost",children:"Annuler"}),e.jsx(Ie,{colorScheme:"green",onClick:z,children:"Ajouter"})]})]})]})]}),e.jsxs(Gr,{children:[e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"sm",children:"Planning de maintenance"}),e.jsx(Ie,{size:"sm",colorScheme:"blue",onClick:()=>C(!0),children:"+ Programmer"})]}),f.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucune tche programme"]}):e.jsx(Be,{align:"stretch",spacing:2,maxH:"500px",overflowY:"auto",children:f.map(V=>e.jsx(St,{variant:"outline",size:"sm",borderLeftWidth:"4px",borderLeftColor:V.status==="overdue"?"red.500":V.status==="pending"?"orange.500":"green.500",children:e.jsxs(bt,{py:2,children:[e.jsxs(Te,{justify:"space-between",mb:1,children:[e.jsxs(Te,{spacing:2,children:[e.jsx(Xt,{colorScheme:V.priority==="critical"?"red":V.priority==="high"?"orange":"blue",children:V.priority}),e.jsx(Z,{fontSize:"sm",fontWeight:"600",children:V.serviceType})]}),e.jsx(Xt,{colorScheme:V.status==="completed"?"green":V.status==="overdue"?"red":V.status==="pending"?"yellow":"gray",children:V.status})]}),V.description&&e.jsx(Z,{fontSize:"sm",color:"gray.700",children:V.description}),e.jsxs(Te,{spacing:4,mt:2,fontSize:"xs",color:"gray.600",children:[V.plannedDate&&e.jsxs(Z,{children:[" ",new Date(V.plannedDate).toLocaleDateString("fr-FR")]}),e.jsxs(Z,{children:[" ",V.frequency]})]})]})},V.id))})]}),e.jsxs(Hn,{isOpen:S,onClose:()=>C(!1),children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Programmer une maintenance"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:3,children:[e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Type de service *"}),e.jsxs("select",{value:B.serviceType,onChange:V=>F({...B,serviceType:V.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"oil_change",children:"Vidange"}),e.jsx("option",{value:"tire_inspection",children:"Inspection pneus"}),e.jsx("option",{value:"brake_check",children:"Vrification freins"}),e.jsx("option",{value:"full_inspection",children:"Inspection complte"}),e.jsx("option",{value:"other",children:"Autre"})]})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Description"}),e.jsx("input",{type:"text",value:B.description,onChange:V=>F({...B,description:V.target.value}),placeholder:"Dtails...",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Frquence"}),e.jsxs("select",{value:B.frequency,onChange:V=>F({...B,frequency:V.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"weekly",children:"Hebdomadaire"}),e.jsx("option",{value:"monthly",children:"Mensuelle"}),e.jsx("option",{value:"quarterly",children:"Trimestrielle"}),e.jsx("option",{value:"yearly",children:"Annuelle"}),e.jsx("option",{value:"as_needed",children:" la demande"})]})]}),e.jsxs(Re,{w:"full",children:[e.jsx(je,{children:"Priorit"}),e.jsxs("select",{value:B.priority,onChange:V=>F({...B,priority:V.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"low",children:"Basse"}),e.jsx("option",{value:"medium",children:"Moyenne"}),e.jsx("option",{value:"high",children:"Haute"}),e.jsx("option",{value:"critical",children:"Critique"})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{mr:3,onClick:()=>C(!1),variant:"ghost",children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:k,children:"Programmer"})]})]})]})]})]})]})]})]}):e.jsxs(Be,{align:"start",spacing:4,py:2,children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",children:[e.jsx(Z,{fontWeight:"600",children:"Slectionnez un vhicule"}),e.jsx(Z,{fontSize:"sm",children:"Choisissez un vhicule ci-dessous pour voir son historique d'entretien et son planning."})]})]}),e.jsx(Sn,{columns:{base:1,sm:2,md:3},gap:3,w:"full",children:t&&t.map(V=>{const q=V.parc||V.id||V.slug;return e.jsx(St,{variant:"outline",cursor:"pointer",_hover:{shadow:"md"},onClick:()=>Q(V),children:e.jsxs(bt,{children:[e.jsx(ht,{size:"sm",children:q}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[V.marque," ",V.modele]}),e.jsx(Ie,{mt:2,size:"sm",colorScheme:"blue",w:"full",children:"Consulter"})]})},q)})})]})}function ose(){const t=Hr(),n=rA(),[r,s]=T.useState([]),[i,l]=T.useState(!0),[d,f]=T.useState({}),[u,h]=T.useState({}),[a,m]=T.useState(!1),[v,g]=T.useState(!1),[x,w]=T.useState(null),[b,S]=T.useState([]),[C,B]=T.useState(0),[F,N]=T.useState(!1),Q=T.useCallback(async()=>{try{l(!0);const J=await mn.get("/vehicles");s(Array.isArray(J)?J:J?.vehicles||[])}catch(J){t({status:"error",title:"Chargement des vhicules",description:J.message||"Impossible de charger la liste"})}finally{l(!1)}},[t]);T.useEffect(()=>{Q()},[Q]),T.useEffect(()=>{if(!r||r.length===0)return;let J=!1;return(async()=>{const W=r.slice(0,24);await Promise.all(W.map(async pe=>{const oe=pe.parc||pe.id||pe.slug;if(oe)try{const he=await mn.get(`/vehicles/${encodeURIComponent(oe)}/usages`);if(J)return;const $=Array.isArray(he)?he.find(M=>!M.endedAt):null;f(M=>({...M,[oe]:$?{active:!0,startedAt:$.startedAt,conducteur:$.conducteur}:{active:!1}}))}catch{}}))})(),()=>{J=!0}},[r]);const z=async()=>{if(!(!r||r.length===0)){m(!0);try{const J={};await Promise.all(r.map(async G=>{const W=G.parc||G.id||G.slug;if(W)try{const pe=await mn.get(`/vehicles/${encodeURIComponent(W)}/usages`);J[W]=Array.isArray(pe)?pe:[]}catch{J[W]=[]}})),h(J)}catch(J){console.error("Erreur chargement usages:",J)}finally{m(!1)}}},k=T.useMemo(()=>!r||r.length===0?null:e.jsx(Sn,{columns:{base:1,sm:2,lg:3},gap:4,mt:4,children:r.map(J=>{const G=J.parc||J.id||J.slug,W=d[G]||{};let pe=[],oe=0;try{if(J.fuel!==void 0&&J.fuel!==null)oe=Number(J.fuel)||0;else if(J.caracteristiques){typeof J.caracteristiques=="string"?pe=JSON.parse(J.caracteristiques):Array.isArray(J.caracteristiques)&&(pe=J.caracteristiques);const $=pe.find(M=>M.label==="Niveau gasoil");$&&(oe=Number($.value)||0)}}catch($){console.warn("Erreur parsing caractristiques:",$)}const he=Array.isArray(pe)&&pe.length>0;return e.jsx(St,{variant:"outline",_hover:{shadow:"md"},children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:3,children:[e.jsxs(Te,{justify:"space-between",w:"full",children:[e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(ht,{size:"md",children:G}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:[J.marque,J.modele].filter(Boolean).join(" ")||J.titre||"Vhicule"})]}),e.jsx(sse,{etat:J.etat||J.statut})]}),he?e.jsxs(Te,{w:"full",children:[e.jsx(ws,{as:EP,color:"green.500"}),e.jsxs(Z,{fontSize:"sm",color:"green.600",children:[pe.length," info(s) technique(s)"]})]}):e.jsxs(Te,{w:"full",children:[e.jsx(ws,{as:Jm,color:"orange.500"}),e.jsx(Z,{fontSize:"sm",color:"orange.600",children:"Aucune info technique"})]}),e.jsxs(Te,{w:"full",spacing:2,children:[e.jsx(ws,{as:xre,color:"blue.500"}),e.jsxs(Z,{fontSize:"sm",color:"blue.600",children:["Gasoil: ",oe,"%"]}),e.jsx(Ie,{size:"xs",variant:"outline",onClick:()=>{w(J),S(pe),B(oe),g(!0)},children:"Infos techniques"})]}),e.jsxs(Te,{spacing:2,flexWrap:"wrap",children:[W.active?e.jsxs(Sd,{colorScheme:"purple",size:"sm",children:[e.jsx(sS,{as:gp}),e.jsx(Cd,{children:"Pointage en cours"})]}):e.jsx(Sd,{size:"sm",colorScheme:"gray",variant:"subtle",children:e.jsx(Cd,{children:"Disponible"})}),(J.etat==="en_panne"||J.statut==="en_panne")&&e.jsxs(Sd,{colorScheme:"red",size:"sm",children:[e.jsx(sS,{as:Jm}),e.jsx(Cd,{children:"Panne"})]})]}),e.jsx(ds,{}),e.jsxs(Te,{w:"full",spacing:2,children:[e.jsx(Ie,{size:"sm",leftIcon:e.jsx(ru,{}),onClick:()=>n(`/dashboard/vehicules/${encodeURIComponent(G)}`),flex:1,children:"diter"}),e.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>n(`/mobile/v/${encodeURIComponent(G)}`),flex:1,children:"Pointage"})]})]})})},G)})}),[r,n,d]),ae=[{id:"vehicles",label:"Parc vhicules",icon:bv,description:"Vue d'ensemble",render:()=>e.jsx(Be,{align:"stretch",spacing:4,children:i?e.jsxs(Te,{spacing:3,pt:4,children:[e.jsx(Kr,{}),e.jsx(Z,{children:"Chargement des vhicules"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"600",children:"Infos techniques"}),e.jsx(Z,{fontSize:"sm",children:'Utilisez le bouton "Infos techniques" de chaque carte pour mettre  jour le niveau de gasoil et les caractristiques.'})]})]}),k||e.jsx(Z,{mt:2,children:"Aucun vhicule pour le moment."})]})})},{id:"history",label:"Historique",icon:dg,description:"Usages rcents",render:()=>e.jsxs(Be,{align:"start",spacing:4,py:2,children:[e.jsxs(Te,{justify:"space-between",w:"full",children:[e.jsxs(Te,{children:[e.jsx(dg,{}),e.jsx(ht,{size:"sm",children:"Historique des usages"})]}),e.jsx(Ie,{size:"sm",onClick:z,isLoading:a,children:"Charger"})]}),a?e.jsxs(Te,{spacing:3,children:[e.jsx(Kr,{size:"sm"}),e.jsx(Z,{children:"Chargement de l'historique..."})]}):Object.keys(u).length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),`Cliquez sur "Charger" pour afficher l'historique des usages`]}):e.jsx(Be,{align:"stretch",w:"full",spacing:4,children:r.map(J=>{const G=J.parc||J.id||J.slug,pe=(u[G]||[]).filter(oe=>oe.endedAt);return pe.length===0?null:e.jsx(St,{variant:"outline",children:e.jsxs(bt,{children:[e.jsxs(ht,{size:"sm",mb:3,children:[G," - ",pe.length," usage(s)"]}),e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Dbut"}),e.jsx(At,{children:"Fin"}),e.jsx(At,{children:"Conducteur"}),e.jsx(At,{children:"Note"})]})}),e.jsx(Rs,{children:pe.slice(0,5).map(oe=>e.jsxs(Rn,{children:[e.jsx(lt,{children:new Date(oe.startedAt).toLocaleDateString("fr-FR")}),e.jsx(lt,{children:oe.endedAt?new Date(oe.endedAt).toLocaleDateString("fr-FR"):"-"}),e.jsx(lt,{children:oe.conducteur||"-"}),e.jsx(lt,{fontSize:"sm",color:"gray.600",children:oe.note||"-"})]},oe.id))})]}),pe.length>5&&e.jsxs(Z,{mt:2,fontSize:"sm",color:"gray.500",children:["... et ",pe.length-5," autres usage(s)"]})]})},G)})})]})},{id:"maintenance",label:"Entretien",icon:bv,description:"Planification & suivi",render:()=>e.jsx(ise,{vehicles:r,apiClient:mn})},{id:"administrative",label:"Administratif",icon:Jm,description:"Documents & obligations",render:()=>e.jsxs(Be,{align:"stretch",spacing:4,py:2,children:[e.jsxs(Te,{children:[e.jsx(Jm,{}),e.jsx(ht,{size:"sm",children:"Situation administrative"})]}),r.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun vhicule enregistr"]}):e.jsxs(e.Fragment,{children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"600",children:"Gestion administrative"}),e.jsx(Z,{fontSize:"sm",children:"Cliquez sur les badges pour grer les Cartes Grises, Assurances, Contrles Techniques, Certificats et chancier."})]})]}),e.jsx(Sn,{columns:{base:1,sm:2,md:3,lg:4},gap:3,w:"full",children:r.map(J=>{const G=J.parc||J.id||J.slug;return e.jsx(St,{variant:"outline",_hover:{shadow:"md"},p:3,children:e.jsxs(Be,{align:"start",spacing:2,w:"full",children:[e.jsx(Te,{w:"full",justify:"space-between",children:e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(ht,{size:"sm",children:G}),e.jsxs(Z,{fontSize:"xs",color:"gray.600",children:[J.marque," ",J.modele]})]})}),e.jsx(rse,{parc:G})]})},G)})}),e.jsxs(Be,{align:"start",w:"full",pt:4,borderTop:"1px solid",borderTopColor:"gray.200",children:[e.jsxs(Te,{children:[e.jsx(dg,{}),e.jsx(ht,{size:"sm",children:"chancier global"})]}),e.jsx(Ie,{colorScheme:"blue",size:"sm",onClick:()=>n("/echancier"),children:"Voir l'chancier complet"})]})]})]})},{id:"checkins",label:"Pointages",icon:gp,description:"Sessions actives",render:()=>e.jsxs(Be,{align:"start",spacing:4,py:2,children:[e.jsxs(Te,{children:[e.jsx(gp,{}),e.jsx(ht,{size:"sm",children:"Pointages actifs"})]}),r.filter(J=>{const G=J.parc||J.id||J.slug;return d[G]?.active}).length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun pointage en cours actuellement"]}):e.jsx(Sn,{columns:{base:1,md:2},gap:4,w:"full",children:r.map(J=>{const G=J.parc||J.id||J.slug,W=d[G];if(!W?.active)return null;const pe=W.startedAt?Math.floor((Date.now()-new Date(W.startedAt).getTime())/(1e3*60)):0;return e.jsx(St,{variant:"outline",borderColor:"purple.300",children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsx(ht,{size:"sm",children:G}),e.jsxs(Te,{children:[e.jsx(ws,{as:gp,color:"purple.500"}),e.jsxs(Z,{fontSize:"sm",children:["En cours depuis ",pe," min"]})]}),W.conducteur&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Conducteur: ",W.conducteur]}),e.jsx(Ie,{size:"sm",colorScheme:"purple",onClick:()=>n(`/mobile/v/${encodeURIComponent(G)}`),children:"Voir le pointage"})]})})},G)})})]})}],ie=[e.jsx(Ie,{leftIcon:e.jsx(RA,{}),variant:"outline",size:"sm",onClick:Q,isLoading:i,children:"Actualiser"},"refresh"),e.jsx(Ie,{leftIcon:e.jsx(ru,{}),colorScheme:"blue",size:"sm",onClick:()=>n("/dashboard/vehicules"),children:"Gestion complte"},"manage")];return e.jsxs(e.Fragment,{children:[e.jsx(Xp,{title:"RtroBus",subtitle:"Suivi d'entretien, d'usages et de disponibilit du parc.",sections:ae,defaultSectionId:"vehicles",sidebarTitle:"RtroBus",sidebarSubtitle:"Parc & maintenance",sidebarTitleIcon:bv,versionLabel:"RtroBus v3",headerActions:ie}),e.jsxs(Hn,{isOpen:v,onClose:()=>g(!1),size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsxs($n,{children:["Informations techniques : ",x?.parc]}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(je,{children:"Niveau actuel du gasoil (%)"}),e.jsxs(Re,{children:[e.jsxs(Re,{position:"relative",h:"60px",mb:6,children:[e.jsx(Re,{position:"absolute",top:"20px",left:"0",right:"0",h:"2px",bg:"gray.300"}),[0,50,100].map(J=>e.jsxs(Re,{position:"absolute",left:`${J}%`,top:"12px",transform:"translateX(-50%)",textAlign:"center",children:[e.jsx(Re,{w:"3px",h:"16px",bg:"gray.800",mx:"auto",mb:1}),e.jsxs(Z,{fontSize:"xs",fontWeight:"bold",children:[J,"%"]})]},J)),Array.from({length:99}).map((J,G)=>{const W=G+1;return W===50?null:e.jsx(Re,{position:"absolute",left:`${W}%`,top:"16px",transform:"translateX(-50%)",w:"1px",h:"8px",bg:"gray.400"},`small-${W}`)}),e.jsxs(Re,{position:"absolute",left:`${C}%`,top:"0",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:[C,"%"]}),e.jsx(Re,{w:"2px",h:"20px",bg:"blue.600",mt:1})]})]}),e.jsxs(nP,{value:C,onChange:B,min:0,max:100,step:1,children:[e.jsx(sP,{children:e.jsx(iP,{})}),e.jsx(rP,{})]})]}),e.jsx(ds,{}),e.jsx(KP,{value:b,onChange:S})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:()=>g(!1),children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",isLoading:F,onClick:async()=>{try{N(!0);const J=Array.isArray(b)?[...b]:[];await mn.put(`/vehicles/${encodeURIComponent(x.parc)}`,{fuel:Number(C),caracteristiques:J}),s(G=>G.map(W=>(W.parc||W.id||W.slug)===x.parc?{...W,fuel:Number(C),caracteristiques:J}:W)),t({status:"success",title:"Carburant et caractristiques mis  jour"}),N(!1),g(!1)}catch(J){t({status:"error",title:"Erreur lors de la mise  jour",description:J.message}),N(!1)}},children:"Enregistrer"})]})]})]})]})}const wv={getAll:async()=>mn.get("/vehicles"),getByParc:async t=>mn.get(`/vehicles/${t}`),create:async t=>mn.post("/vehicles",t),update:async(t,n)=>mn.put(`/vehicles/${t}`,n),delete:async t=>mn.delete(`/vehicles/${t}`)},Wu={getAll:async()=>mn.get("/events"),getById:async t=>mn.get(`/events/${t}`),create:async t=>mn.post("/events",t),update:async(t,n)=>mn.put(`/events/${t}`,n),delete:async t=>mn.delete(`/events/${t}`),publish:async(t,n)=>mn.put(`/events/${t}`,{status:n})},QT="http://localhost:3001".replace(/\/+$/,""),dS=()=>{const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}},ase=async t=>{const n=(t.headers.get("content-type")||"").toLowerCase();if(!(n.includes("application/json")||n.includes("+json"))){const r=await t.text().catch(()=>"");throw new Error(`Rponse non-JSON (${t.status}) ${r?.slice(0,200)||""}`)}},hS=(t,n={},r=8e3)=>{const s=new AbortController,i=setTimeout(()=>s.abort(),r);return fetch(t,{...n,signal:s.signal}).finally(()=>clearTimeout(i))},iv=t=>{const n=String(t||"").replace(/^\/+|\/+$/g,"");return QT?`${QT}/${n}`:`/${n}`},fS=["api/members","members","api/v1/members","v1/members"];async function V0(t,n,r){let s=null;for(const i of fS)try{const l=iv(i),d=await hS(l,{method:t,headers:{Accept:"application/json","Content-Type":n instanceof FormData?void 0:"application/json",...dS(),...r||{}},body:n==null?void 0:n instanceof FormData?n:JSON.stringify(n)});if(!d.ok){s=new Error(`HTTP ${d.status}`);continue}return await ase(d),await d.json()}catch(l){s=l;continue}throw s||new Error("Aucun endpoint membre valide")}const Ah={async getAll(){try{const t=await V0("GET");return Array.isArray(t)?{members:t}:Array.isArray(t?.members)?t:Array.isArray(t?.data)?{members:t.data}:{members:[]}}catch{return{members:[]}}},async testConnectivity(){const t=[iv("api/health"),iv("health"),iv(fS[0])];for(const n of t)try{if((await hS(n,{method:"GET",headers:{...dS()}},3e3)).ok)return!0}catch{}return!1},async create(t){const n=await V0("POST",t);return n?.member||n?.data||n},async update(t,n){try{const r=await V0("PATCH",{id:t,...n},{"X-Method-Override":"PATCH"});return r?.member||r?.data||r}catch{const r=await V0("PUT",{id:t,...n});return r?.member||r?.data||r}},async delete(t){const n={id:t};try{const r=await V0("DELETE",n);return r?.ok===!0?r:{ok:!0}}catch(r){for(const s of fS)try{const i=iv(`${s}/${encodeURIComponent(t)}`);if((await hS(i,{method:"DELETE",headers:{...dS()}})).ok)return{ok:!0}}catch{}throw r}}},lse="rbe:announcements";function cse(){try{const t=localStorage.getItem(lse);if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))return[];const r=Date.now();return n.filter(s=>s&&s.active&&(!s.expiresAt||new Date(s.expiresAt).getTime()>r))}catch(t){return console.warn("loadFlashes:",t),[]}}function mw(){const t=qa(),[n,r]=T.useState([]),[s,i]=T.useState({vehicles:{total:0,active:0,loading:!0},events:{total:0,upcoming:0,published:0,loading:!0},members:{total:0,active:0,loading:!0}}),[l,d]=T.useState(!0),[f,u]=T.useState([]),[h,a]=T.useState(0),m=Hr(),v=Os("white","gray.800"),g=Os("linear(to-r, blue.500, purple.600)","linear(to-r, blue.600, purple.700)"),x=Os("gray.200","gray.700");T.useEffect(()=>{r(cse()),w();const k=setInterval(w,300*1e3);return()=>clearInterval(k)},[]);const w=async()=>{console.log(" Chargement des donnes du dashboard..."),B(),F(),N(),b()},b=async()=>{try{const k=await mn.get("/api/retro-news"),se=(Array.isArray(k)?k:k?.news||[]).filter(V=>V.published).sort((V,q)=>V.featured!==q.featured?q.featured-V.featured:new Date(q.publishedAt)-new Date(V.publishedAt));u(se)}catch(k){console.error("Erreur chargement RtroActus:",k),u([])}},S=async k=>{const K=encodeURIComponent(`RtroActus: ${k?.title||"News"}`),se=encodeURIComponent(`Dcouvrez cette actualit de RtroBus Essonne:

${k?.title||"Sans titre"}

${k?.content||""}

Site: https://retrobus-essonne.fr`);window.location.href=`mailto:?subject=${K}&body=${se}`},C=async k=>{if(navigator.share)try{await navigator.share({title:k?.title||"RtroActus",text:k?.content||"",url:"https://retrobus-essonne.fr"})}catch(K){K.name!=="AbortError"&&console.error("Erreur partage web:",K)}else{const K=`${k?.title}
${k?.content}
https://retrobus-essonne.fr`;navigator.clipboard.writeText(K).then(()=>{m({title:"Copi!",description:"L'actualit a t copie dans le presse-papiers",status:"success",duration:2e3,isClosable:!0})})}},B=async()=>{try{if(console.log(" Chargement des vhicules..."),!wv||typeof wv.getAll!="function"){console.warn("vehiculesAPI non disponible"),i(V=>({...V,vehicles:{total:0,active:0,loading:!1}}));return}const k=await wv.getAll();console.log(" Rponse vhicules:",k);let K=[];k?.data?K=Array.isArray(k.data)?k.data:[k.data]:Array.isArray(k)&&(K=k);const se={total:K.length,active:K.filter(V=>{const q=V?.statut||V?.status||V?.etat||"";return q==="ACTIF"||q==="ACTIVE"||q==="active"||q==="En service"}).length,loading:!1};console.log(" Stats vhicules:",se),i(V=>({...V,vehicles:se}))}catch(k){console.error(" Erreur chargement vhicules:",k),i(K=>({...K,vehicles:{total:0,active:0,loading:!1}}))}},F=async()=>{try{if(console.log(" Chargement des vnements..."),!Wu||typeof Wu.getAll!="function"){console.warn("eventsAPI non disponible"),i(q=>({...q,events:{total:0,upcoming:0,published:0,loading:!1}}));return}const k=await Wu.getAll();console.log(" Rponse vnements:",k);let K=[];k?.data?K=Array.isArray(k.data)?k.data:[k.data]:Array.isArray(k)&&(K=k);const se=new Date,V={total:K.length,upcoming:K.filter(q=>{try{const le=new Date(q?.date||q?.dateEvent||q?.startDate),ae=q?.status||q?.statut||"";return le>se&&(ae==="PUBLISHED"||ae==="published"||ae==="Publi")}catch{return!1}}).length,published:K.filter(q=>{const le=q?.status||q?.statut||"";return le==="PUBLISHED"||le==="published"||le==="Publi"}).length,loading:!1};console.log(" Stats vnements:",V),i(q=>({...q,events:V}))}catch(k){console.error(" Erreur chargement vnements:",k),i(K=>({...K,events:{total:0,upcoming:0,published:0,loading:!1}}))}},N=async()=>{try{if(console.log(" Chargement des membres..."),!Ah||typeof Ah.getAll!="function"){console.warn("membersAPI non disponible"),i(V=>({...V,members:{total:0,active:0,loading:!1}}));return}const k=await Ah.getAll();console.log(" Rponse membres:",k);let K=[];k?.members?K=Array.isArray(k.members)?k.members:[k.members]:k?.data?K=Array.isArray(k.data)?k.data:[k.data]:Array.isArray(k)&&(K=k);const se={total:K.length,active:K.filter(V=>{const q=V?.membershipStatus||V?.statut||V?.status||V?.adhesionStatus||"";return q==="ACTIVE"||q==="active"||q==="Actif"||q===" jour"}).length,loading:!1};console.log(" Stats membres:",se),i(V=>({...V,members:se}))}catch(k){console.error(" Erreur chargement membres:",k),i(K=>({...K,members:{total:0,active:0,loading:!1}}))}};T.useEffect(()=>{!s.vehicles.loading&&!s.events.loading&&!s.members.loading&&l&&(console.log(" Toutes les donnes sont charges"),d(!1))},[s,l]);const Q=()=>{const k=new Date().getHours();return k<12?"Bonjour":k<17?"Bon aprs-midi":"Bonsoir"},z=T.useMemo(()=>n.map(k=>({id:k.id,message:k.message,category:k.category||"info",createdAt:k.createdAt})),[n]);return l?e.jsx(Jc,{maxW:"container.xl",py:8,children:e.jsxs(Be,{spacing:8,children:[e.jsxs(Re,{bgGradient:g,color:"white",p:8,borderRadius:"xl",textAlign:"center",w:"full",children:[e.jsx(ht,{size:"xl",children:"Chargement des donnes..."}),e.jsx(Z,{mt:2,opacity:.9,children:"Rcupration des vhicules, vnements et membres"})]}),e.jsx(Kr,{size:"xl",color:"blue.500"})]})}):e.jsxs(Jc,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(Re,{bgGradient:g,color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsxs(ht,{size:"xl",mb:4,children:[Q(),", ",t?.prenom||t?.email||"Utilisateur"," ! "]}),e.jsx(Z,{fontSize:"lg",opacity:.9,children:"Voici un aperu de votre activit RtroBus Essonne"})]}),e.jsxs(Sn,{columns:{base:1,lg:4},spacing:8,children:[e.jsx(Op,{colSpan:{base:1,lg:3},children:e.jsxs(Be,{spacing:8,align:"stretch",children:[e.jsxs(Sn,{columns:{base:2,md:4},spacing:6,children:[e.jsx(St,{bg:v,borderColor:x,shadow:"lg",children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{color:"gray.600",children:"Vhicules actifs"}),e.jsx(Jn,{color:"blue.500",children:e.jsxs(Te,{children:[e.jsx(ws,{as:zp}),s.vehicles.loading?e.jsx(Kr,{size:"sm"}):e.jsxs(Z,{children:[s.vehicles.active,"/",s.vehicles.total]})]})}),e.jsx(df,{value:s.vehicles.total>0?s.vehicles.active/s.vehicles.total*100:0,colorScheme:"blue",size:"sm",mt:2,isIndeterminate:s.vehicles.loading})]})})}),e.jsx(St,{bg:v,borderColor:x,shadow:"lg",children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{color:"gray.600",children:"vnements  venir"}),e.jsx(Jn,{color:"green.500",children:e.jsxs(Te,{children:[e.jsx(ws,{as:xc}),s.events.loading?e.jsx(Kr,{size:"sm"}):e.jsxs(Z,{children:[s.events.upcoming,"/",s.events.total]})]})}),e.jsx(df,{value:s.events.total>0?s.events.upcoming/s.events.total*100:0,colorScheme:"green",size:"sm",mt:2,isIndeterminate:s.events.loading})]})})}),e.jsx(St,{bg:v,borderColor:x,shadow:"lg",children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{color:"gray.600",children:"Membres actifs"}),e.jsx(Jn,{color:"purple.500",children:e.jsxs(Te,{children:[e.jsx(ws,{as:tA}),s.members.loading?e.jsx(Kr,{size:"sm"}):e.jsxs(Z,{children:[s.members.active,"/",s.members.total]})]})}),e.jsx(df,{value:s.members.total>0?s.members.active/s.members.total*100:0,colorScheme:"purple",size:"sm",mt:2,isIndeterminate:s.members.loading})]})})})]}),f.length>0&&e.jsxs(St,{bg:v,borderColor:x,shadow:"lg",children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",fontWeight:"700",children:" Les RtroActus"}),e.jsxs(Te,{spacing:2,children:[e.jsx(Pn,{icon:e.jsx(are,{}),size:"sm",variant:"ghost",onClick:()=>a(k=>k===0?f.length-1:k-1),"aria-label":"Actu prcdente",isDisabled:f.length<=1}),e.jsxs(Z,{fontSize:"xs",color:"gray.500",children:[h+1," / ",f.length]}),e.jsx(Pn,{icon:e.jsx(oS,{}),size:"sm",variant:"ghost",onClick:()=>a(k=>(k+1)%f.length),"aria-label":"Actu suivante",isDisabled:f.length<=1})]})]})}),e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:3,children:[e.jsx(ht,{size:"sm",color:"blue.600",children:f[h]?.title||"Sans titre"}),f[h]?.publishedAt&&e.jsxs(Te,{spacing:2,color:"gray.500",fontSize:"sm",children:[e.jsx(ws,{as:xc}),e.jsx(Z,{children:new Date(f[h].publishedAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(Z,{fontSize:"sm",color:"gray.700",children:f[h]?.content||""}),f[h]?.imageUrl&&e.jsx(Cu,{src:f[h].imageUrl,alt:f[h]?.title,maxH:"150px",w:"100%",objectFit:"cover",borderRadius:"md"}),e.jsxs(Te,{spacing:2,pt:4,w:"100%",children:[e.jsx(Ie,{size:"sm",leftIcon:e.jsx(gre,{}),colorScheme:"blue",variant:"outline",flex:1,onClick:()=>C(f[h]),children:"Partager"}),e.jsx(Ie,{size:"sm",leftIcon:e.jsx(yf,{}),colorScheme:"cyan",variant:"outline",flex:1,onClick:()=>S(f[h]),children:"Email"})]})]})})]})]})}),e.jsx(Op,{children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(St,{bg:v,borderColor:x,shadow:"lg",children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",fontWeight:"700",children:"Notifications"}),e.jsx(Xt,{colorScheme:"blue",variant:"subtle",children:n.length})]})}),e.jsx(bt,{children:e.jsx(Be,{spacing:3,align:"stretch",children:z.length===0?e.jsx(Z,{color:"gray.500",fontSize:"sm",textAlign:"center",py:4,children:"Aucune notification"}):z.slice(0,5).map(k=>e.jsx(Re,{p:3,borderRadius:"lg",bg:"gray.50",children:e.jsxs(Te,{justify:"space-between",align:"start",children:[e.jsxs(Be,{align:"start",spacing:1,flex:1,children:[e.jsx(Z,{fontSize:"sm",fontWeight:"600",children:k.message}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:k.createdAt?new Date(k.createdAt).toLocaleDateString("fr-FR"):""})]}),e.jsx(Xt,{colorScheme:"blue",variant:"subtle",fontSize:"xs",children:k.category})]})},k.id))})})]}),e.jsxs(St,{bg:v,borderColor:x,shadow:"lg",children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",fontWeight:"700",children:"Liens utiles"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsxs(Ie,{as:oo,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(zp,{}),size:"sm",children:["Vhicules (",s.vehicles.total,")"]}),e.jsxs(Ie,{as:oo,to:"/dashboard/events-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(xc,{}),size:"sm",children:["vnements (",s.events.total,")"]}),e.jsxs(Ie,{as:oo,to:"/dashboard/members-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(tA,{}),size:"sm",children:["Membres (",s.members.total,")"]}),e.jsx(Ie,{as:oo,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(j1,{}),size:"sm",children:"MyRBE"}),e.jsx(Ie,{as:oo,to:"/admin",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Qp,{}),size:"sm",children:"Finance"}),e.jsx(ds,{my:1}),e.jsx(Ie,{as:oo,to:"/dashboard/api-diagnostics",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(lre,{}),size:"sm",colorScheme:"orange",children:" Diagnostiques API"})]})})]}),e.jsxs(ir,{status:"info",borderRadius:"md",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",children:"APIs disponibles"}),e.jsx(Z,{fontSize:"xs",children:"Les donnes sont rcupres en temps rel quand les APIs sont disponibles."})]})]})]})})]})]})}const Dm="http://localhost:3001";function gw(t){return`retromail:read:${t||"anon"}`}function zT(t){return`retromail:released:${t}`}function use(){const{matricule:t,prenom:n,isAdmin:r}=qa(),s=Hr(),[i,l]=T.useState(!0),[d,f]=T.useState([]),[u,h]=T.useState([]),[a,m]=T.useState(null),[v,g]=T.useState("");T.useEffect(()=>{let F=!0;return(async()=>{l(!0);try{const N=await fetch(`${Dm.replace(/\/$/,"")}/retromail/list`);if(!F)return;if(!N.ok)throw new Error(`status ${N.status}`);const Q=await N.json();f(Array.isArray(Q)?Q:[])}catch(N){console.warn("retromail list failed",N),f(null)}finally{F&&l(!1)}})(),()=>{F=!1}},[]),T.useEffect(()=>{let F=!0;if(!d||d.length===0){h([]);return}return(async()=>{try{const N=await Promise.all(d.map(async z=>{try{const k=await fetch(`${Dm.replace(/\/$/,"")}/retromail/${encodeURIComponent(z)}`);if(!k.ok)return null;const K=await k.json();return{filename:z,json:K}}catch{return null}}));if(!F)return;const Q=N.filter(Boolean).sort((z,k)=>{const K=new Date(z.json.createdAt||0).getTime();return new Date(k.json.createdAt||0).getTime()-K});h(Q),!a&&Q.length>0&&m(Q[0].filename)}catch(N){console.error(N)}})(),()=>{F=!1}},[d]);const x=F=>{const N=gw(t);try{const Q=localStorage.getItem(N),z=Q?JSON.parse(Q):{};z[F]=Date.now(),localStorage.setItem(N,JSON.stringify(z))}catch{}},w=F=>{try{const N=localStorage.getItem(gw(t));if(!N)return!1;const Q=JSON.parse(N);return!!(Q&&Q[F])}catch{return!1}},b=F=>{try{localStorage.setItem(zT(F),"1"),s({status:"success",title:"Vido libre",description:"Le tlchargement est maintenant autoris localement."}),h(N=>[...N])}catch(N){s({status:"error",title:"Impossible",description:String(N.message)})}},S=F=>localStorage.getItem(zT(F))==="1",C=T.useMemo(()=>{if(!u)return[];const F=(v||"").trim().toLowerCase();return F?u.filter(N=>{const Q=N.json||{};return String(Q.parc||"").toLowerCase().includes(F)||String(Q.id||"").toLowerCase().includes(F)||String(Q.description||"").toLowerCase().includes(F)}):u},[u,v]),B=u.find(F=>F.filename===a);return T.useEffect(()=>{a&&(x(a),h(F=>[...F]))},[a]),e.jsxs(Re,{p:6,children:[e.jsx(ht,{size:"lg",mb:4,children:"RtroMail"}),e.jsxs(Ri,{gap:6,align:"stretch",children:[e.jsxs(Re,{w:{base:"100%",md:"360px"},borderWidth:"1px",borderRadius:"md",p:3,bg:"white",children:[e.jsxs(Te,{mb:3,children:[e.jsx(Xe,{placeholder:"Rechercher par parc / id / texte",value:v,onChange:F=>g(F.target.value)}),e.jsx(Ie,{size:"sm",onClick:()=>{g("")},children:"Effacer"})]}),i&&e.jsx(is,{p:6,children:e.jsx(Kr,{})}),!i&&d===null&&e.jsxs(Re,{p:4,bg:"orange.50",borderRadius:"md",children:[e.jsx(Z,{color:"orange.800",fontWeight:"600",children:"API Retromail non disponible"}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Aucune liste trouve. Vrifie que le serveur expose ",e.jsx("code",{children:"/retromail/list"}),"."]})]}),!i&&C&&C.length===0&&e.jsx(Z,{color:"gray.600",mt:3,children:"Aucun message."}),e.jsx(Be,{align:"stretch",spacing:2,mt:3,children:C.map(F=>{const N=F.json||{},Q=N.parc?`Parc ${N.parc}`:`Fiche ${N.id||F.filename}`,z=(N.description||"").slice(0,120),k=!w(F.filename);return e.jsx(St,{size:"sm",onClick:()=>m(F.filename),cursor:"pointer",bg:a===F.filename?"gray.50":"white",children:e.jsx(Qn,{children:e.jsxs(Ri,{justify:"space-between",align:"center",children:[e.jsxs(Re,{children:[e.jsxs(Z,{fontWeight:"600",children:[Q," ",N.id?e.jsx(Xt,{ml:2,children:`#${N.id}`}):null]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:z||e.jsx("i",{children:"(Pas de description)"})})]}),e.jsxs(Re,{textAlign:"right",children:[k?e.jsx(Xt,{colorScheme:"red",children:"Nouveau"}):e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"Lu"}),e.jsx(Z,{fontSize:"xs",color:"gray.400",children:N.createdAt?new Date(N.createdAt).toLocaleString():""})]})]})})},F.filename)})})]}),e.jsx(Re,{flex:"1",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",children:B?e.jsxs(e.Fragment,{children:[e.jsxs(Ri,{justify:"space-between",align:"center",mb:3,children:[e.jsxs(Re,{children:[e.jsxs(ht,{size:"md",children:["Fiche pointage  ",B.json.parc?`Parc ${B.json.parc}`:B.json.id]}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["ID: ",B.json.id||B.filename,"  ",B.json.createdAt?new Date(B.json.createdAt).toLocaleString():""]})]}),e.jsx(Re,{children:e.jsxs(Te,{spacing:2,children:[e.jsx(Ie,{size:"sm",as:"a",href:`${Dm.replace(/\/$/,"")}/retromail/${encodeURIComponent(B.filename.replace(/\.json$/,"")+".pdf")}`,target:"_blank",rel:"noreferrer",children:"Tlcharger PDF"}),e.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>{const F=gw(t),N=localStorage.getItem(F),Q=N?JSON.parse(N):{};Q[B.filename]?delete Q[B.filename]:Q[B.filename]=Date.now(),localStorage.setItem(F,JSON.stringify(Q)),h(z=>[...z])},children:w(B.filename)?"Marquer non lu":"Marquer lu"})]})})]}),e.jsx(ds,{mb:3}),e.jsxs(Re,{mb:4,children:[e.jsx(Z,{fontWeight:"600",children:"Initiateur :"}),e.jsx(Z,{mb:2,children:B.json.conducteur||""}),e.jsx(Z,{fontWeight:"600",children:"Participants :"}),e.jsx(Z,{mb:2,children:(B.json.participants||[]).join(", ")||""}),e.jsx(Z,{fontWeight:"600",children:"Description :"}),e.jsx(Z,{mb:3,whiteSpace:"pre-wrap",children:B.json.description||""}),e.jsx(Z,{fontWeight:"600",mb:2,children:"Images :"}),(B.json.files||[]).filter(F=>(F.mime||"").startsWith("image/")).length===0?e.jsx(Z,{color:"gray.600",mb:2,children:"Aucune image."}):e.jsx(Sn,{columns:{base:1,md:3},gap:3,mb:3,children:(B.json.files||[]).filter(F=>(F.mime||"").startsWith("image/")).map((F,N)=>e.jsxs(Re,{borderWidth:"1px",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(Cu,{src:`${Dm.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(F.filename)}`,alt:F.originalname||F.filename,objectFit:"cover",maxH:"160px",w:"100%"}),e.jsxs(Te,{mt:2,justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",noOfLines:1,children:F.originalname||F.filename}),e.jsx(Ie,{size:"sm",as:"a",href:`${Dm.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(F.filename)}`,target:"_blank",rel:"noreferrer",children:"Ouvrir"})]})]},N))}),e.jsx(Z,{fontWeight:"600",mb:2,children:"Vidos (spares)"}),(B.json.files||[]).filter(F=>(F.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(F.originalname||F.filename)).length===0?e.jsx(Z,{color:"gray.600",children:"Aucune vido."}):e.jsx(Be,{align:"stretch",spacing:2,mb:3,children:(B.json.files||[]).filter(F=>(F.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(F.originalname||F.filename)).map((F,N)=>{const Q=S(F.filename);return e.jsx(Re,{p:3,borderWidth:"1px",borderRadius:"md",children:e.jsxs(Ri,{justify:"space-between",align:"center",children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"600",noOfLines:1,children:F.originalname||F.filename}),e.jsxs(Z,{fontSize:"sm",color:"gray.500",children:[F.size/1024|0," KB"]}),!Q&&e.jsx(Z,{fontSize:"xs",color:"orange.600",children:"Tlchargement restreint ( analyser)"})]}),e.jsxs(Te,{children:[r&&!Q&&e.jsx(Ie,{size:"sm",colorScheme:"green",onClick:()=>b(F.filename),children:"Librer le tlchargement"}),e.jsx(Ie,{size:"sm",as:"a",href:Q?`${Dm.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(F.filename)}`:"#",target:"_blank",rel:"noreferrer",isDisabled:!Q,children:Q?"Tlcharger":"Demand"})]})]})},N)})})]})]}):e.jsx(is,{p:6,children:e.jsx(Z,{color:"gray.600",children:"Slectionne un message  lire."})})})]})]})}function Ase({template:t,data:n}){if(!t)return e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),e.jsx(Z,{children:"Aucun template slectionn"})]});if(!t.htmlContent)return e.jsxs(ir,{status:"error",children:[e.jsx(or,{}),e.jsx(Z,{children:"Contenu HTML du template vide"})]});if(!n||typeof n!="object")return console.warn(" QuoteTemplatePreview: data is invalid or missing",n),e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),e.jsx(Z,{children:"Donnes de template manquantes"})]});let r=t.htmlContent;try{Object.entries(n).forEach(([s,i])=>{if(s==="DEVIS_LINES_TR")return;const l=`{{${s}}}`,d=new RegExp(l,"g"),f=String(i||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");r=r.replace(d,f)}),n.DEVIS_LINES_TR&&(r=r.replace(/{{DEVIS_LINES_TR}}/g,n.DEVIS_LINES_TR))}catch(s){return console.error(" Erreur remplacement placeholders:",s),e.jsxs(ir,{status:"error",children:[e.jsx(or,{}),e.jsxs(Z,{children:["Erreur lors du rendu du template: ",s.message]})]})}try{t.logoBig&&(r=r.replace(/{{LOGO_BIG}}/g,`data:image/png;base64,${t.logoBig}`)),t.logoSmall&&(r=r.replace(/{{LOGO_SMALL}}/g,`data:image/png;base64,${t.logoSmall}`))}catch(s){console.warn(" Erreur remplacement logos:",s)}return e.jsx(Re,{maxH:"600px",overflowY:"auto",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",className:"template-preview",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:r},style:{fontSize:"14px",lineHeight:"1.6",color:"#333"}})})}function WP({devisId:t,onTotalChange:n}){const[r,s]=T.useState([]),[i,l]=T.useState(!1),[d,f]=T.useState(null),[u,h]=T.useState({}),a=Hr(),{isOpen:m,onOpen:v,onClose:g}=er(),[x,w]=T.useState({quantity:1,description:"",unitPrice:0});T.useEffect(()=>{t&&b()},[t]),T.useEffect(()=>{const z=r.reduce((k,K)=>k+(K.totalPrice||0),0);n&&n(z)},[r,n]);const b=async()=>{if(t)try{l(!0);const z=await Ku(`/api/devis-lines/${t}`);s(Array.isArray(z)?z:[])}catch(z){console.error(" Erreur chargement lignes:",z),a({title:"Erreur",description:"Impossible de charger les lignes",status:"error",duration:3e3})}finally{l(!1)}},S=async()=>{if(!x.description||x.unitPrice<=0){a({title:"Validation",description:"Description et prix unitaire requis",status:"warning",duration:3e3});return}try{const z={devisId:t,quantity:parseFloat(x.quantity)||1,description:x.description,unitPrice:parseFloat(x.unitPrice)||0,order:r.length},k=await Ku("/api/devis-lines",{method:"POST",body:JSON.stringify(z)});s([...r,k]),w({quantity:1,description:"",unitPrice:0}),g(),a({title:"Succs",description:"Ligne ajoute",status:"success",duration:2e3})}catch(z){console.error(" Erreur ajout ligne:",z),a({title:"Erreur",description:z.message,status:"error",duration:3e3})}},C=async z=>{if(!u[z]?.description||u[z]?.unitPrice<=0){a({title:"Validation",description:"Description et prix unitaire requis",status:"warning",duration:3e3});return}try{const k=await Ku(`/api/devis-lines/${z}`,{method:"PUT",body:JSON.stringify({quantity:parseFloat(u[z].quantity)||1,description:u[z].description,unitPrice:parseFloat(u[z].unitPrice)||0})});s(r.map(K=>K.id===z?k:K)),f(null),a({title:"Succs",description:"Ligne mise  jour",status:"success",duration:2e3})}catch(k){console.error(" Erreur mise  jour:",k),a({title:"Erreur",description:k.message,status:"error",duration:3e3})}},B=async z=>{try{await Ku(`/api/devis-lines/${z}`,{method:"DELETE"}),s(r.filter(k=>k.id!==z)),a({title:"Succs",description:"Ligne supprime",status:"success",duration:2e3})}catch(k){console.error(" Erreur suppression:",k),a({title:"Erreur",description:k.message,status:"error",duration:3e3})}},F=z=>{f(z.id),h(k=>({...k,[z.id]:{quantity:z.quantity,description:z.description,unitPrice:z.unitPrice}}))},N=(z,k,K)=>{h(se=>({...se,[z]:{...se[z],[k]:K}}))},Q=r.reduce((z,k)=>z+(k.totalPrice||0),0);return e.jsxs(Be,{spacing:4,width:"100%",align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Lignes du Devis"}),e.jsxs(Te,{children:[e.jsxs(Xt,{children:[r.length," ligne(s)"]}),e.jsx(Ie,{size:"sm",colorScheme:"green",leftIcon:e.jsx(Bs,{}),onClick:v,isDisabled:!t,children:"Ajouter une ligne"})]})]}),r.length===0?e.jsx(Z,{color:"gray.500",textAlign:"center",py:6,children:"Aucune ligne pour le moment. Ajoutez-en une!"}):e.jsx(Re,{overflowX:"auto",width:"100%",children:e.jsxs(Is,{size:"sm",variant:"striped",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Description"}),e.jsx(At,{isNumeric:!0,children:"Quantit"}),e.jsx(At,{isNumeric:!0,children:"P.U. "}),e.jsx(At,{isNumeric:!0,children:"Total "}),e.jsx(At,{textAlign:"center",children:"Actions"})]})}),e.jsx(Rs,{children:r.map(z=>e.jsxs(Rn,{children:[e.jsx(lt,{children:d===z.id?e.jsx(Xe,{size:"sm",value:u[z.id]?.description||"",onChange:k=>N(z.id,"description",k.target.value)}):z.description}),e.jsx(lt,{isNumeric:!0,children:d===z.id?e.jsx(gs,{size:"sm",min:.01,value:u[z.id]?.quantity||1,onChange:k=>N(z.id,"quantity",parseFloat(k)),children:e.jsx(vs,{})}):z.quantity}),e.jsx(lt,{isNumeric:!0,children:d===z.id?e.jsx(gs,{size:"sm",min:0,value:u[z.id]?.unitPrice||0,onChange:k=>N(z.id,"unitPrice",parseFloat(k)),children:e.jsx(vs,{})}):z.unitPrice.toFixed(2)}),e.jsx(lt,{isNumeric:!0,fontWeight:"bold",children:(z.totalPrice||0).toFixed(2)}),e.jsx(lt,{textAlign:"center",children:e.jsxs(Te,{justify:"center",spacing:1,children:[d===z.id?e.jsx(Pn,{size:"sm",icon:e.jsx(yh,{}),colorScheme:"green",onClick:()=>C(z.id),"aria-label":"Enregistrer"}):e.jsx(Pn,{size:"sm",icon:e.jsx(eg,{}),colorScheme:"blue",variant:"ghost",onClick:()=>F(z),"aria-label":"diter"}),e.jsx(Pn,{size:"sm",icon:e.jsx(oi,{}),colorScheme:"red",variant:"ghost",onClick:()=>B(z.id),"aria-label":"Supprimer"})]})})]},z.id))})]})}),e.jsx(ds,{}),e.jsxs(Te,{width:"100%",justify:"flex-end",fontWeight:"bold",fontSize:"lg",children:[e.jsx(Z,{children:"Total:"}),e.jsxs(Z,{color:"green.600",children:[Q.toFixed(2)," "]})]}),e.jsxs(Hn,{isOpen:m,onClose:g,size:"md",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Ajouter une ligne"}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{placeholder:"Description de la prestation",value:x.description,onChange:z=>w({...x,description:z.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Quantit"}),e.jsx(gs,{min:.01,value:x.quantity,onChange:z=>w({...x,quantity:parseFloat(z)||1}),children:e.jsx(vs,{})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prix unitaire ()"}),e.jsx(gs,{min:0,step:.01,value:x.unitPrice,onChange:z=>w({...x,unitPrice:parseFloat(z)||0}),children:e.jsx(vs,{})})]}),x.quantity>0&&x.unitPrice>0&&e.jsx(Re,{p:3,bg:"green.50",borderRadius:"md",width:"100%",textAlign:"center",children:e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Total: ",(x.quantity*x.unitPrice).toFixed(2)," "]})})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:g,children:"Annuler"}),e.jsx(Ie,{colorScheme:"green",onClick:S,isLoading:i,children:"Ajouter"})]})]})]})]})}const dse={},hse=()=>{const[t,n]=T.useState(!1),[r,s]=T.useState(0),[i,l]=T.useState(0),[d,f]=T.useState(null),[u,h]=T.useState(!0),[a,m]=T.useState({totalCredits:0,totalDebits:0,monthlyBalance:0,scheduledMonthlyImpact:0,scheduledCount:0}),[v,g]=T.useState([]),[x,w]=T.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),[b,S]=T.useState([]),[C,B]=T.useState({categoryId:"",allocatedAmount:"",notes:""}),[F,N]=T.useState([]),[Q,z]=T.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[k,K]=T.useState(null),[se,V]=T.useState(()=>{const ue=new Date;return`${ue.getFullYear()}-${String(ue.getMonth()+1).padStart(2,"0")}`}),[q,le]=T.useState(""),[ae,ie]=T.useState(null),[J,G]=T.useState([]),[W,pe]=T.useState(!1),[oe,he]=T.useState(""),[$,M]=T.useState(""),[ee,re]=T.useState(""),[me,De]=T.useState([]),[Ue,Ne]=T.useState({scenarios:[],activeScenario:null,projectionMonths:12}),[Ke,rt]=T.useState(null),[et,wt]=T.useState(null),[nt,Ee]=T.useState(null),[at,Gt]=T.useState({name:"",description:"",projectionMonths:12}),[Oe,ce]=T.useState({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),[ve,Ge]=T.useState({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),[vt,_t]=T.useState([]),[Je,We]=T.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),yt=new Date().getFullYear(),[zt,ut]=T.useState(yt),[Ft,Ct]=T.useState(null),[Ye,Zt]=T.useState([]),[on,pn]=T.useState([]),[Tt,nn]=T.useState(null),[xt,an]=T.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",destinataireSociete:"",destinataireContacts:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),[dn,Nn]=T.useState([]),[Wn,jn]=T.useState({quantity:1,description:"",unitPrice:0}),[rn,Dn]=T.useState("manual"),[Yn,mr]=T.useState(null),[os,Ni]=T.useState([]),[Mn,xo]=T.useState(null),[Us,Ys]=T.useState(null),{isOpen:$i,onOpen:On,onClose:xn}=er(),{isOpen:Ti,onOpen:ao,onClose:lo}=er(),[Es,ti]=T.useState(null),{isOpen:ai,onOpen:pi,onClose:Ii}=er(),[Ms,Qo]=T.useState(null),[La,zo]=T.useState(""),{isOpen:Ho,onOpen:Il,onClose:oa}=er(),fn=Hr(),{isOpen:Qc,onOpen:Vo,onClose:Oi}=er(),{isOpen:yo,onOpen:cl,onClose:jo}=er(),{isOpen:Da,onOpen:_l,onClose:_o}=er(),{isOpen:br,onOpen:Ss,onClose:Ui}=er(),{isOpen:ks,onOpen:$o,onClose:Mi}=er(),{isOpen:gr,onOpen:_s,onClose:hs}=er(),{isOpen:qr,onOpen:li,onClose:Ql}=er(),{isOpen:ul,onOpen:Go,onClose:fs}=er(),Ko=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173")?dse?.VITE_API_BASE_URL||"http://localhost:3001":"",aa=String(Ko||"").replace(/\/$/,""),Mr=ue=>`${aa}${ue}`,ki=ue=>{const Le=String(ue||"");return Le.startsWith("/api/")?[Le,Le.replace(/^\/api/,"")]:[Le,`/api${Le}`]},Wo=async(ue,Le={})=>{const qt=Array.isArray(ue)?ue:[ue];let _n=null;for(const lr of qt)try{const wn=await fetch(Mr(lr),Le);if(!wn.ok)throw new Error(`${wn.status} ${wn.statusText}`);return(wn.headers.get("content-type")||"").includes("application/json")?await wn.json():{}}catch(wn){_n=wn}if(_n)throw _n;return{}},ec=async(ue,Le={})=>{const qt=Array.isArray(ue)?ue:[ue];let _n=null;for(const lr of qt)try{const wn=await fetch(Mr(lr),{method:"DELETE",headers:Le});if(!wn.ok)throw new Error(`${wn.status} ${wn.statusText}`);return!0}catch(wn){_n=wn}if(_n)throw _n;return!1},Al=async(ue,Le={},qt={})=>{const _n=Array.isArray(ue)?ue:[ue];let lr=null;for(const wn of _n)try{const ls=await fetch(Mr(wn),{method:"PATCH",headers:{"Content-Type":"application/json",...qt},body:JSON.stringify(Le)});if(!ls.ok)throw new Error(`${ls.status} ${ls.statusText}`);return(ls.headers.get("content-type")||"").includes("application/json")?await ls.json():Le}catch(ls){lr=ls}if(lr)throw lr;return Le},xa=()=>{try{const ue=localStorage.getItem("rbe:finance:documents");return ue?JSON.parse(ue):[]}catch{return[]}},Qs=ue=>{try{localStorage.setItem("rbe:finance:documents",JSON.stringify(ue||[]))}catch{}},Pa=async()=>{try{n(!0),await Promise.all([la(),hn(),Ki(),_i(),Wi(),Yi(),Gi(),ni(zt),ca()])}catch(ue){console.error(" Erreur chargement donnes financires:",ue),fn({status:"error",title:"Erreur de chargement",description:"Impossible de charger les donnes financires",duration:4e3,isClosable:!0})}finally{n(!1)}},Gi=async()=>{try{const ue=ki("/api/finance/documents"),Le=await Wo(ue,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),qt=Array.isArray(Le?.documents)?Le.documents:Array.isArray(Le?.items)?Le.items:Array.isArray(Le)?Le:[];if(qt.length===0){const _n=xa();pn(_n)}else pn(qt),Qs(qt)}catch{const Le=xa();pn(Le)}},Yo=async()=>{try{const ue=ki("/api/quote-templates"),Le=await fetch(ue[0]||"/api/quote-templates",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Le.ok){const qt=await Le.json(),_n=Array.isArray(qt)?qt:qt?.templates||[];Ni(_n)}}catch(ue){console.warn(" Impossible de charger les templates:",ue),Ni([])}},la=async()=>{try{const ue=await fetch(Mr("/api/finance/balance"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ue.ok){const Le=await ue.json();l(Le.balance||0),f(Le.lastUpdate),h(Le.isLocked!==!1)}else console.warn(" Solde non disponible, utilisation de 0"),l(0)}catch(ue){console.error(" Erreur chargement solde:",ue),l(0)}},hn=async()=>{try{const ue=await fetch(Mr("/api/finance/transactions"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ue.ok){const Le=await ue.json();g(Le.transactions||[])}else console.warn(" Transactions non disponibles"),g([])}catch(ue){console.error(" Erreur chargement transactions:",ue),g([])}},Ki=async()=>{try{const ue=await fetch(Mr("/api/finance/scheduled-operations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ue.ok){const Le=await ue.json();N(Le.operations||[])}else console.warn(" Oprations programmes non disponibles"),N([])}catch(ue){console.error(" Erreur chargement oprations programmes:",ue),N([])}},as=async ue=>{try{const Le=await fetch(Mr(`/api/finance/scheduled-operations/${ue}/payments`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(Le.ok){const qt=await Le.json();G(qt.payments||[])}else G([])}catch(Le){console.error(" Erreur chargement paiements chance:",Le),G([])}},_i=async()=>{try{const ue=await fetch(Mr("/api/finance/simulations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ue.ok){const Le=await ue.json();Ne(qt=>({...qt,scenarios:Le.scenarios||[]}))}else console.warn(" Simulations non disponibles"),Ne(Le=>({...Le,scenarios:[]}))}catch(ue){console.error(" Erreur chargement simulations:",ue),Ne(Le=>({...Le,scenarios:[]}))}},Wi=async()=>{try{const ue=await fetch(Mr("/api/finance/balance/history"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ue.ok){const Le=await ue.json();De(Le.history||[])}else console.warn(" Historique non disponible"),De([])}catch(ue){console.error(" Erreur chargement historique:",ue),De([])}},Yi=async()=>{try{const ue=await fetch(Mr("/api/finance/expense-reports"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ue.ok){const Le=await ue.json();_t(Le.reports||[])}else _t([])}catch(ue){console.error(" Erreur chargement notes de frais:",ue),_t([])}},ni=async ue=>{try{const Le=await fetch(Mr(`/api/finance/reports?year=${encodeURIComponent(ue)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(Le.ok){const qt=await Le.json();Ct(qt)}else Ct(null)}catch(Le){console.error(" Erreur chargement rapports:",Le),Ct(null)}},ya=async()=>{try{const ue=await fetch(Mr(`/api/finance/reports/pdf?year=${encodeURIComponent(zt)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ue.ok){fn({status:"error",title:"Export PDF chou"});return}const Le=await ue.blob(),qt=URL.createObjectURL(Le),_n=document.createElement("a");_n.href=qt,_n.download=`rapport-financier-${zt}.pdf`,document.body.appendChild(_n),_n.click(),_n.remove(),URL.revokeObjectURL(qt)}catch(ue){console.error(" Export PDF:",ue),fn({status:"error",title:"Export PDF chou"})}},ca=async()=>{try{const ue=await fetch(Mr("/api/finance/categories"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ue.ok){const Le=await ue.json();Zt(Array.isArray(Le)?Le:[])}}catch(ue){console.error(" Erreur chargement catgories:",ue)}},[el,zs]=T.useState(!1),[Fo,Ra]=T.useState(null),ze=(Fo?.roles||[]).some(ue=>String(ue).toUpperCase()==="TRESORIER"),ot=async()=>{try{const ue=await fetch(Mr("/api/me"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ue.ok){const Le=await ue.json();Ra(Le),zs(!0),console.log(" Utilisateur connect:",Le.matricule,"- Modification du solde contrle par code")}}catch(ue){console.error(" Erreur chargement utilisateur:",ue)}},Nt=()=>{const ue=v.filter(yr=>yr.type==="CREDIT").reduce((yr,vi)=>yr+(vi.amount||0),0),Le=v.filter(yr=>yr.type==="DEBIT").reduce((yr,vi)=>yr+(vi.amount||0),0),qt=new Date,_n=new Date(qt.getFullYear(),qt.getMonth(),1),lr=new Date(qt.getFullYear(),qt.getMonth()+1,0),wn=v.filter(yr=>{const vi=new Date(yr.date||yr.createdAt);return vi>=_n&&vi<=lr}),ls=wn.filter(yr=>yr.type==="CREDIT").reduce((yr,vi)=>yr+(vi.amount||0),0),Xo=wn.filter(yr=>yr.type==="DEBIT").reduce((yr,vi)=>yr+(vi.amount||0),0),uo=ls-Xo,Jr=F.filter(yr=>yr.isActive).reduce((yr,vi)=>{const ri=wr(vi.frequency),Xr=vi.type==="SCHEDULED_CREDIT"?vi.amount||0:-(vi.amount||0);return yr+Xr*ri},0);m({totalCredits:ue,totalDebits:Le,monthlyBalance:uo,scheduledMonthlyImpact:Jr,scheduledCount:F.filter(yr=>yr.isActive).length})},Ln=({percent:ue,color:Le="gray"})=>{const qt=typeof ue=="number"?Math.max(0,Math.min(1,ue)):null,_n=50,lr=60,wn=60,ls=Math.PI,Xo=Math.PI*(1-(qt??0)),uo=lr+_n*Math.cos(ls),Jr=wn-_n*Math.sin(ls),yr=lr+_n*Math.cos(Xo),vi=wn-_n*Math.sin(Xo),ri=0,Xr=0,Na=`M ${uo} ${Jr} A ${_n} ${_n} 0 ${ri} ${Xr} ${yr} ${vi}`;return e.jsxs("svg",{viewBox:"0 0 120 70",width:"100%",height:"70",role:"img","aria-label":qt!=null?`${Math.round(qt*100)}%`:"N/A",children:[e.jsx("path",{d:`M ${uo} ${Jr} A ${_n} ${_n} 0 0 ${Xr} ${lr+_n} ${wn}`,stroke:"#E2E8F0",strokeWidth:"10",fill:"none"}),qt!=null&&qt>0&&e.jsx("path",{d:Na,stroke:Le,strokeWidth:"10",fill:"none",strokeLinecap:"round"}),e.jsx("text",{x:"60",y:"65",textAnchor:"middle",fontSize:"10",fill:"#4A5568",children:qt!=null?`${Math.round(qt*100)}%`:"N/A"})]})},un=ue=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(ue||0),tr=ue=>ue?new Date(ue).toLocaleDateString("fr-FR"):"N/A",kn=ue=>({ADHESION:"Adhsion",MAINTENANCE:"Maintenance",CARBURANT:"Carburant",ASSURANCE:"Assurance",AUTRE:"Autre"})[ue]||ue,wr=ue=>{switch(ue){case"SEMI_ANNUAL":return .5;case"ONE_SHOT":return 0;case"WEEKLY":return 4.33;case"QUARTERLY":return 1/3;case"YEARLY":return 1/12;case"MONTHLY":default:return 1}},Sr=ue=>{switch(ue){case"ONE_SHOT":return"Ponctuel";case"SEMI_ANNUAL":return"Semestriel (6 mois)";case"WEEKLY":return"Hebdomadaire";case"QUARTERLY":return"Trimestriel";case"YEARLY":return"Annuel";case"MONTHLY":default:return"Mensuel"}},mi=async()=>{if(!oe||oe.length!==4){fn({status:"warning",title:"Code requis",description:"Veuillez saisir le code  4 chiffres (0920)",duration:3e3,isClosable:!0});return}if(oe!=="0920"){fn({status:"error",title:"Code incorrect",description:"Le code de scurit n'est pas valide",duration:4e3,isClosable:!0});return}if(!$||isNaN(parseFloat($))){fn({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide",duration:3e3,isClosable:!0});return}try{n(!0);const ue=await fetch(Mr("/api/finance/balance/configure"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({code:oe,newBalance:parseFloat($),reason:ee?.trim()||`Mise  jour manuelle du solde par ${Fo?.matricule||Fo?.username||"inconnu"} - ${new Date().toLocaleDateString("fr-FR")}`})});if(ue.ok){const Le=await ue.json();l(Le.newBalance),he(""),M(""),re(""),pe(!1),Oi(),fn({status:"success",title:"Solde mis  jour",description:`Nouveau solde: ${un(Le.newBalance)} (diffrence: ${Le.difference>=0?"+":""}${un(Le.difference)})`,duration:5e3,isClosable:!0}),await Wi(),await la()}else{const Le=await ue.text().catch(()=>"");let qt={};try{qt=Le?JSON.parse(Le):{}}catch{qt={message:Le?.slice(0,200)||"Erreur inconnue"}}ue.status===403?fn({status:"error",title:"Accs refus",description:"Vous n'avez pas l'autorisation de modifier le solde",duration:5e3,isClosable:!0}):ue.status===401?fn({status:"error",title:"Code incorrect",description:"Le code de scurit 0920 est incorrect",duration:4e3,isClosable:!0}):fn({status:"error",title:"Erreur de configuration",description:qt.message||"Erreur serveur",duration:4e3,isClosable:!0})}}catch(ue){console.error(" Erreur configuration solde:",ue),fn({status:"error",title:"Erreur",description:"Impossible de configurer le solde. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},co=async()=>{if(!Je.description||!Je.amount){fn({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires"});return}try{n(!0);const ue=await fetch(Mr("/api/finance/expense-reports"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:Je.description,amount:parseFloat(Je.amount),date:Je.date})});if(ue.ok)fn({status:"success",title:"Note de frais ajoute"}),We({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),await Yi();else{const Le=await ue.json().catch(()=>({}));fn({status:"error",title:"Erreur",description:Le.message||"Impossible d'ajouter la note de frais"})}}catch(ue){console.error(" Erreur cration note de frais:",ue),fn({status:"error",title:"Erreur",description:"Impossible d'ajouter la note de frais"})}finally{n(!1)}},tl=async(ue,Le)=>{try{(await fetch(Mr(`/api/finance/expense-reports/${ue}`),{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:Le})})).ok?await Yi():fn({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}catch(qt){console.error(" Erreur MAJ statut note de frais:",qt),fn({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}},bo=async ue=>{try{(await fetch(Mr(`/api/finance/expense-reports/${ue}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(fn({status:"success",title:"Note de frais supprime"}),await Yi()):fn({status:"error",title:"Erreur",description:"Suppression impossible"})}catch(Le){console.error(" Erreur suppression note de frais:",Le),fn({status:"error",title:"Erreur",description:"Suppression impossible"})}},wo=async()=>{if(!x.type||!x.amount||!x.description){fn({status:"warning",title:"Champs requis",description:"Type, montant et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const ue=ki("/api/finance/transactions"),Le=await Wo(ue,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...x,amount:parseFloat(x.amount)})});if(Le){if(b.length>0){const qt=ki(`/api/finance/transactions/${Le.id}/categories`),_n=b.map(lr=>({categoryId:lr.categoryId,allocatedAmount:parseFloat(lr.allocatedAmount),notes:lr.notes||null}));await Wo(qt,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({allocations:_n})})}fn({status:"success",title:"Transaction ajoute",description:b.length>0?`Transaction ajoute avec ${b.length} allocation(s)`:"La transaction a t enregistre avec succs",duration:3e3,isClosable:!0}),w({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),S([]),B({categoryId:"",allocatedAmount:"",notes:""}),jo(),await hn(),await la()}}catch(ue){console.error(" Erreur ajout transaction:",ue),fn({status:"error",title:"Erreur",description:"Impossible d'ajouter la transaction. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},zl=ue=>{ti({...ue}),ao()},jc=async()=>{if(!(!Es||!Es.id))try{n(!0);const ue=ki(`/api/finance/transactions/${encodeURIComponent(Es.id)}`);await Wo(ue,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:Es.description,category:Es.category,type:Es.type,amount:parseFloat(Es.amount),date:Es.date})}),fn({status:"success",title:"Transaction mise  jour"}),lo(),await hn(),await la()}catch(ue){console.error(" Erreur modification transaction:",ue),fn({status:"error",title:"Erreur",description:"Impossible de modifier la transaction"})}finally{n(!1)}},dl=async ue=>{try{if(!confirm("Supprimer cette transaction ?"))return;const Le=ki(`/api/finance/transactions/${encodeURIComponent(ue)}`);await ec(Le,{Authorization:`Bearer ${localStorage.getItem("token")}`}),fn({status:"success",title:"Transaction supprime"}),await hn(),await la()}catch(Le){console.error(" Erreur suppression transaction:",Le),fn({status:"error",title:"Erreur",description:"Suppression impossible"})}},X=ue=>{Qo(ue),zo(ue?.documentId||""),pi()},xe=async()=>{try{if(!Ms)return;const ue=ki(`/api/finance/transactions/${encodeURIComponent(Ms.id)}`);await Wo(ue,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({documentId:La||null})}),g(Le=>Le.map(qt=>qt.id===Ms.id?{...qt,documentId:La||null}:qt)),Ii(),Qo(null),zo(""),fn({status:"success",title:"Transaction lie au document"})}catch(ue){console.error(" Erreur liaison transaction/document:",ue),fn({status:"error",title:"Erreur",description:"Impossible de lier la transaction"})}},He=async()=>{if(!Yn){fn({status:"warning",title:"Erreur",description:"Slectionnez un template"});return}try{if(!xt.number){fn({status:"warning",title:"Champ requis",description:"Le numro du document est obligatoire"});return}if(!xt.title){fn({status:"warning",title:"Champ requis",description:"Le titre du document est obligatoire"});return}if(!xt.amount){fn({status:"warning",title:"Champ requis",description:"Le montant est obligatoire"});return}let ue="";try{const qt=Tt?.id||"temp-"+Date.now(),_n=await fetchJson(`/api/devis-lines/${qt}`),lr=Array.isArray(_n)?_n:[];lr.length>0&&(ue=lr.map(wn=>`
            <tr>
              <td class="num">${wn.quantity}</td>
              <td class="desc">${wn.description}</td>
              <td class="num">${wn.unitPrice.toFixed(2)} </td>
              <td class="num">${wn.totalPrice.toFixed(2)} </td>
            </tr>
          `).join(""))}catch(qt){console.warn(" Impossible de charger les lignes:",qt.message)}const Le={NUM_DEVIS:xt.number,TITRE:xt.title,OBJET:xt.title,DESCRIPTION:xt.description||"",MONTANT:parseFloat(xt.amount||0).toFixed(2),PRIX_NET:parseFloat(xt.amount||0).toFixed(2),DATE:new Date(xt.date).toLocaleDateString("fr-FR"),DESTINATAIRE_NOM:xt.destinataireName||"Destinataire",DESTINATAIRE_ADRESSE:xt.destinataireAdresse||"",DESTINATAIRE_SOCIETE:xt.destinataireSociete||"",DESTINATAIRE_CONTACTS:xt.destinataireContacts||"",NOTES:xt.notes||"",LOGO_BIG:Yn.logoBig||"",LOGO_SMALL:Yn.logoSmall||"",DEVIS_LINES_TR:ue};Ys({templateId:Yn.id,data:Le,templateName:Yn.name}),On(),fn({status:"success",title:"Aperu gnr",description:"Vrifiez l'aperu avant d'imprimer"})}catch(ue){console.error(" Erreur gnration aperu:",ue),fn({status:"error",title:"Erreur",description:"Impossible de gnrer l'aperu"})}},tt=()=>{nn(null),an({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),mr(null),Il()},jt=ue=>{nn(ue),an({type:ue.type||"QUOTE",number:ue.number||"",title:ue.title||"",description:ue.description||"",date:(ue.date||new Date().toISOString()).slice(0,10),dueDate:ue.dueDate?ue.dueDate.slice(0,10):"",amountExcludingTax:String(ue.amountExcludingTax??""),taxRate:ue.taxRate||20,taxAmount:ue.taxAmount||0,amount:String(ue.amount??""),status:ue.quoteStatus||ue.invoiceStatus||ue.status||"DRAFT",eventId:ue.eventId||"",memberId:ue.memberId||"",destinataireName:ue.destinataireName||"",destinataireAdresse:ue.destinataireAdresse||"",notes:ue.notes||"",paymentMethod:ue.paymentMethod||"",paymentDate:ue.paymentDate?ue.paymentDate.slice(0,10):"",amountPaid:String(ue.amountPaid??"")}),mr(null),Il()},Ht=async()=>{try{if(!xt.number||!xt.title){fn({status:"warning",title:"Erreur",description:"Numro et titre obligatoires"});return}const ue=!!Tt?.id,Le=ki(ue?`/api/finance/documents/${encodeURIComponent(Tt.id)}`:"/api/finance/documents"),qt=parseFloat(xt.amount)||0,_n={type:xt.type,number:xt.number,title:xt.title,description:xt.description||null,date:xt.date,dueDate:xt.dueDate||null,amountExcludingTax:qt,taxRate:0,taxAmount:0,amount:qt,quoteStatus:xt.type==="QUOTE"?xt.status:null,invoiceStatus:xt.type==="INVOICE"?xt.status:null,eventId:xt.eventId||null,memberId:xt.memberId||null,destinataireName:xt.destinataireName||null,destinataireAdresse:xt.destinataireAdresse||null,notes:xt.notes||null,paymentMethod:xt.paymentMethod||null,paymentDate:xt.paymentDate||null,amountPaid:parseFloat(xt.amountPaid||0)},lr=await Wo(Le,{method:ue?"PUT":"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(_n)});await Gi(),oa(),fn({status:"success",title:ue?"Document modifi":"Document cr"})}catch(ue){if(console.error(" Erreur cration document:",ue),ue.message){fn({status:"error",title:"Erreur",description:`API: ${ue.message}`});return}const Le=Tt?.id||`local-${Date.now()}`,qt=parseFloat(xt.amount)||0,_n={...xt,id:Le,amountExcludingTax:qt,taxRate:0,taxAmount:0,amount:qt,quoteStatus:xt.type==="QUOTE"?xt.status:null,invoiceStatus:xt.type==="INVOICE"?xt.status:null},lr=Tt?on.map(wn=>wn.id===Tt.id?_n:wn):[_n,...on];Qs(lr),pn(lr),oa(),fn({status:"info",title:"Document enregistr en local"})}},en=async ue=>{try{const Le=ki(`/api/finance/documents/${encodeURIComponent(ue)}`);await ec(Le,{Authorization:`Bearer ${localStorage.getItem("token")}`}),await Gi(),fn({status:"success",title:"Document supprim"})}catch{const qt=on.filter(_n=>_n.id!==ue);Qs(qt),pn(qt),fn({status:"info",title:"Document supprim (local)"})}},In=async(ue,Le)=>{try{const qt=ki(`/api/finance/documents/${encodeURIComponent(ue)}/status`),_n=await Al(qt,{status:Le},{Authorization:`Bearer ${localStorage.getItem("token")}`});pn(wn=>wn.map(ls=>ls.id===ue?_n:ls));const lr=ue.type==="QUOTE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[Le]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente",PAID:"Pay",DEPOSIT_PAID:"Accompte"}[Le];fn({status:"success",title:"Statut mis  jour",description:` ${lr}`}),await Gi()}catch(qt){console.error("Erreur changement statut:",qt),fn({status:"error",title:"Erreur",description:"Impossible de mettre  jour le statut"})}},nr=ue=>{nn(ue),an({type:"QUOTE",number:`${ue.number}-REV`,title:`${ue.title} (Rvision)`,date:new Date().toISOString().split("T")[0],amount:ue.amount,status:"DRAFT",eventId:ue.eventId||""}),Il()},Cr=async()=>{const ue=r===2;if(!Q.amount||!Q.description||!Q.nextDate||!ue&&!Q.type||!ue&&!Q.frequency){fn({status:"warning",title:"Champs requis",description:"Tous les champs sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const Le=await fetch(Mr("/api/finance/scheduled-operations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...Q,type:ue?"SCHEDULED_PAYMENT":Q.type,frequency:ue?"MONTHLY":Q.frequency,amount:parseFloat(Q.amount),totalAmount:Q.totalAmount!==""&&Q.totalAmount!==null?parseFloat(Q.totalAmount):void 0})});if(Le.ok)fn({status:"success",title:ue?"chancier cr":"Opration programme",description:ue?"L'chancier a t cr avec succs":"L'opration a t programme avec succs",duration:3e3,isClosable:!0}),z({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),_o(),await Ki();else{const qt=await Le.json();fn({status:"error",title:"Erreur",description:qt.message||"Impossible de programmer l'opration",duration:4e3,isClosable:!0})}}catch(Le){console.error(" Erreur programmation opration:",Le),fn({status:"error",title:"Erreur",description:"Impossible de programmer l'opration. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},Tr=async ue=>{try{if(!confirm("Supprimer cette opration programme et tous ses paiements ?"))return;const Le=await fetch(Mr(`/api/finance/scheduled-operations/${ue}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(Le.ok)fn({status:"success",title:"Opration supprime"}),await Ki();else{const qt=await Le.json().catch(()=>({}));fn({status:"error",title:"Erreur",description:qt.message||"Suppression impossible"})}}catch(Le){console.error(" Erreur suppression opration programme:",Le),fn({status:"error",title:"Erreur",description:"Suppression impossible"})}},ts=ue=>{K(ue),le(ue.amount||"");const Le=ue.nextDate?new Date(ue.nextDate):new Date,qt=`${Le.getFullYear()}-${String(Le.getMonth()+1).padStart(2,"0")}`;V(qt),ie(null),li()},gi=async()=>{if(k){if(!se||!/^\d{4}-\d{2}$/.test(se)){fn({status:"warning",title:"Priode invalide",description:"Format attendu: YYYY-MM"});return}if(!q||isNaN(parseFloat(q))){fn({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide"});return}try{n(!0);const ue=new FormData;ue.append("period",se),ue.append("amount",String(parseFloat(q))),ae&&ue.append("attachment",ae);const Le=await fetch(Mr(`/api/finance/scheduled-operations/${k.id}/payments`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:ue});if(Le.ok)fn({status:"success",title:"Mensualit dclare paye"}),Ql(),await Promise.all([Ki(),hn(),la()]);else{const qt=await Le.json().catch(()=>({}));fn({status:"error",title:"Erreur",description:qt.message||"Dclaration impossible"})}}catch(ue){console.error(" Erreur dclaration paiement:",ue),fn({status:"error",title:"Erreur",description:"Dclaration impossible"})}finally{n(!1)}}},Qi=async ue=>{K(ue),await as(ue.id),Go()};T.useEffect(()=>{(async()=>{await ot(),await Pa(),await Yo()})()},[]),T.useEffect(()=>{v.length>=0&&F.length>=0&&Nt()},[v.length,F.length]);const Cs=async()=>{if(!at.name||!at.description){fn({status:"warning",title:"Champs requis",description:"Nom et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const ue=await fetch(Mr("/api/finance/simulations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(at)});if(ue.ok){const Le=await ue.json();fn({status:"success",title:"Scnario cr",description:"Vous pouvez maintenant ajouter les recettes et dpenses",duration:4e3,isClosable:!0}),Gt({name:"",description:"",projectionMonths:12}),await _i(),Ui(),Ee(Le.scenario),$o()}else{const Le=await ue.json();fn({status:"error",title:"Erreur",description:Le.message||"Impossible de crer le scnario",duration:4e3,isClosable:!0})}}catch(ue){console.error(" Erreur cration scnario:",ue),fn({status:"error",title:"Erreur",description:"Impossible de crer le scnario. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},ci=async ue=>{try{const Le=await fetch(Mr(`/api/finance/simulations/${ue}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(Le.ok){const qt=await Le.json();Ee(qt.scenario)}else fn({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}catch(Le){console.error(" Erreur chargement dtails scnario:",Le),fn({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}},zi=async()=>{if(!Oe.description||!Oe.amount){fn({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const ue=await fetch(Mr(`/api/finance/simulations/${nt.id}/income`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...Oe,amount:parseFloat(Oe.amount)})});if(ue.ok)fn({status:"success",title:"Recette ajoute",duration:2e3,isClosable:!0}),ce({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),await ci(nt.id);else{const Le=await ue.json();fn({status:"error",title:"Erreur",description:Le.message||"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}}catch(ue){console.error(" Erreur ajout recette:",ue),fn({status:"error",title:"Erreur",description:"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}},So=async()=>{if(!ve.description||!ve.amount){fn({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const ue=await fetch(Mr(`/api/finance/simulations/${nt.id}/expense`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...ve,amount:parseFloat(ve.amount)})});if(ue.ok)fn({status:"success",title:"Dpense ajoute",duration:2e3,isClosable:!0}),Ge({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),await ci(nt.id);else{const Le=await ue.json();fn({status:"error",title:"Erreur",description:Le.message||"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}}catch(ue){console.error(" Erreur ajout dpense:",ue),fn({status:"error",title:"Erreur",description:"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}},nl=async ue=>{try{(await fetch(Mr(`/api/finance/simulations/income/${ue}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(fn({status:"success",title:"Recette supprime",duration:2e3,isClosable:!0}),await ci(nt.id)):fn({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}catch(Le){console.error(" Erreur suppression recette:",Le),fn({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}},Lo=async ue=>{try{(await fetch(Mr(`/api/finance/simulations/expense/${ue}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(fn({status:"success",title:"Dpense supprime",duration:2e3,isClosable:!0}),await ci(nt.id)):fn({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}catch(Le){console.error(" Erreur suppression dpense:",Le),fn({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}},hl=async ue=>{try{n(!0);const Le=await fetch(Mr(`/api/finance/simulations/${ue}/run`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(Le.ok){const qt=await Le.json();wt(qt.simulation),_s()}else{const qt=await Le.json();fn({status:"error",title:"Erreur",description:qt.message||"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}}catch(Le){console.error(" Erreur excution simulation:",Le),fn({status:"error",title:"Erreur",description:"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}finally{n(!1)}},fl=async ue=>{try{(await fetch(Mr(`/api/finance/simulations/${ue}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(fn({status:"success",title:"Scnario supprim",duration:2e3,isClosable:!0}),await _i()):fn({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}catch(Le){console.error(" Erreur suppression scnario:",Le),fn({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}},Hi=async(ue,Le="simulation")=>{try{const qt=await fetch(Mr(`/api/finance/simulations/${ue}/report.pdf`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!qt.ok){fn({status:"error",title:"Export PDF",description:"chec de la gnration du PDF"});return}const _n=await qt.blob(),lr=URL.createObjectURL(_n),wn=document.createElement("a");wn.href=lr;const ls=(Le||"simulation").replace(/[^a-z0-9-_]+/gi,"_");wn.download=`simulation-${ls}.pdf`,document.body.appendChild(wn),wn.click(),document.body.removeChild(wn),URL.revokeObjectURL(lr),fn({status:"success",title:"Export PDF",description:"Tlchargement dmarr"})}catch(qt){console.error(" Erreur export PDF:",qt),fn({status:"error",title:"Export PDF",description:"Erreur lors du tlchargement"})}};return e.jsx(Re,{p:6,children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",align:"center",children:[e.jsx(ht,{size:"lg",color:"blue.600",children:" Gestion Financire"}),e.jsxs(Te,{children:[e.jsx(Pn,{icon:e.jsx(RA,{}),onClick:Pa,isLoading:t,variant:"outline",size:"sm"}),e.jsx(Pn,{icon:e.jsx(Mg,{}),onClick:Vo,variant:"outline",size:"sm",colorScheme:"purple"}),e.jsxs(Xt,{colorScheme:i>=0?"green":"red",fontSize:"lg",p:2,borderRadius:"md",cursor:"pointer",onClick:()=>pe(!W),children:[u?e.jsx(Ed,{style:{marginRight:"0.5rem",display:"inline-block"}}):e.jsx(PT,{style:{marginRight:"0.5rem",display:"inline-block"}}),"Solde: ",un(i)]})]})]}),W&&e.jsxs(ir,{status:"warning",borderRadius:"md",children:[e.jsx(or,{}),e.jsxs(Be,{align:"stretch",spacing:3,flex:1,children:[e.jsx(Z,{fontWeight:"bold",children:"Configuration du solde (Code requis)"}),e.jsxs(Te,{children:[e.jsxs(Te,{children:[e.jsx(Z,{fontSize:"sm",children:"Code:"}),e.jsx(Te,{children:e.jsxs(nS,{value:oe,onChange:he,type:"number",children:[e.jsx(nh,{}),e.jsx(nh,{}),e.jsx(nh,{}),e.jsx(nh,{})]})})]}),e.jsxs(gs,{value:$,onChange:M,precision:2,step:.01,width:"150px",children:[e.jsx(vs,{placeholder:"Nouveau solde"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]}),e.jsx(Xe,{value:ee,onChange:ue=>re(ue.target.value),placeholder:"Motif de rgularisation",width:"280px",size:"sm"}),e.jsx(Ie,{size:"sm",colorScheme:"orange",onClick:mi,isLoading:t,leftIcon:e.jsx(Ig,{}),children:"Appliquer"}),e.jsx(Ie,{size:"sm",variant:"ghost",onClick:()=>pe(!1),leftIcon:e.jsx(Hp,{}),children:"Annuler"})]})]})]}),e.jsxs(Sn,{columns:{base:2,md:6},spacing:4,children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Solde Actuel"}),e.jsx(Jn,{color:i>=0?"green.600":"red.600",children:un(i)}),d&&e.jsxs(qc,{fontSize:"xs",children:["MAJ: ",tr(d)]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Recettes Total"}),e.jsx(Jn,{color:"green.600",children:un(a.totalCredits)}),e.jsxs(qc,{children:[e.jsx(qm,{type:"increase"}),"Entres"]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Dpenses Total"}),e.jsx(Jn,{color:"red.600",children:un(a.totalDebits)}),e.jsxs(qc,{children:[e.jsx(qm,{type:"decrease"}),"Sorties"]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Ce Mois"}),e.jsx(Jn,{color:a.monthlyBalance>=0?"green.600":"red.600",children:un(a.monthlyBalance)}),e.jsxs(qc,{children:[e.jsx(qm,{type:a.monthlyBalance>=0?"increase":"decrease"}),"Rsultat mensuel"]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Programm/Mois"}),e.jsx(Jn,{color:a.scheduledMonthlyImpact>=0?"green.600":"red.600",children:un(a.scheduledMonthlyImpact)}),e.jsxs(qc,{children:[a.scheduledCount," oprations"]})]})})})]}),e.jsxs(Eu,{index:r,onChange:s,children:[e.jsxs(Tu,{children:[e.jsx($r,{children:" Transactions"}),e.jsx($r,{children:" Devis & Factures"}),e.jsx($r,{children:" chanciers"}),e.jsx($r,{children:" Paiements programms"}),e.jsx($r,{children:" Notes de frais"}),e.jsx($r,{children:" Simulations"}),e.jsx($r,{children:" Rapports"}),e.jsx($r,{children:" Configuration"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Transactions"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:cl,size:"sm",children:"Nouvelle transaction"})]}),t?e.jsxs(Re,{textAlign:"center",p:8,children:[e.jsx(Kr,{size:"lg"}),e.jsx(Z,{mt:2,children:"Chargement..."})]}):v.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucune transaction enregistre"]}):e.jsx(St,{children:e.jsx(bt,{p:0,children:e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Catgorie"}),e.jsx(At,{children:"Document"}),e.jsx(At,{children:"Type"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:v.map((ue,Le)=>e.jsxs(Rn,{children:[e.jsx(lt,{children:tr(ue.date||ue.createdAt)}),e.jsx(lt,{children:ue.description}),e.jsx(lt,{children:e.jsx(Xt,{size:"sm",variant:"outline",children:kn(ue.category)})}),e.jsx(lt,{children:(()=>{const qt=on.find(_n=>_n.id===ue.documentId);return qt?e.jsxs(Te,{spacing:2,children:[e.jsx(Xt,{colorScheme:qt.type==="INVOICE"?"purple":"gray",children:qt.type==="INVOICE"?"Facture":"Devis"}),e.jsx(Z,{fontSize:"sm",children:qt.number||qt.title||qt.id})]}):e.jsx(Z,{fontSize:"sm",color:"gray.500",children:""})})()}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:ue.type==="CREDIT"?"green":"red",size:"sm",children:ue.type==="CREDIT"?"Recette":"Dpense"})}),e.jsx(lt,{isNumeric:!0,children:e.jsxs(Z,{color:ue.type==="CREDIT"?"green.600":"red.600",fontWeight:"bold",children:[ue.type==="CREDIT"?"+":"-",un(Math.abs(ue.amount))]})}),e.jsx(lt,{children:e.jsxs(gh,{children:[e.jsx(vh,{as:Pn,icon:e.jsx(hg,{}),variant:"ghost",size:"sm"}),e.jsxs(xh,{children:[e.jsx(Js,{icon:e.jsx(eg,{}),onClick:()=>zl(ue),children:"Modifier"}),e.jsx(Js,{onClick:()=>X(ue),children:"Lier  devis/facture"}),e.jsx(Js,{icon:e.jsx(oi,{}),color:"red.500",onClick:()=>dl(ue.id),children:"Supprimer"})]})]})})]},ue.id||Le))})]})})})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Devis & Factures"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"purple",size:"sm",onClick:tt,children:"Nouveau document"})]}),t?e.jsxs(Re,{textAlign:"center",p:8,children:[e.jsx(Kr,{size:"lg"}),e.jsx(Z,{mt:2,children:"Chargement"})]}):e.jsx(St,{children:e.jsx(bt,{p:0,children:e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Numro"}),e.jsx(At,{children:"Titre"}),e.jsx(At,{children:"Date"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{children:"vnement"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:on.map(ue=>e.jsxs(Rn,{children:[e.jsx(lt,{children:e.jsx(Xt,{colorScheme:ue.type==="INVOICE"?"purple":"gray",children:ue.type==="INVOICE"?"Facture":"Devis"})}),e.jsx(lt,{children:ue.number||""}),e.jsx(lt,{children:ue.title||""}),e.jsx(lt,{children:tr(ue.date)}),e.jsx(lt,{isNumeric:!0,children:un(Number(ue.amount||0))}),e.jsx(lt,{children:ue.eventId?e.jsx(Xt,{children:ue.eventId}):e.jsx(Z,{fontSize:"sm",color:"gray.500",children:""})}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:ue.type==="INVOICE"?{DRAFT:"gray",SENT:"blue",ACCEPTED:"cyan",PENDING_PAYMENT:"orange",PAID:"green",DEPOSIT_PAID:"yellow"}[ue.invoiceStatus||"gray"]:{DRAFT:"gray",SENT:"blue",ACCEPTED:"green",REFUSED:"red",REEDITED:"orange"}[ue.quoteStatus||"gray"],variant:"subtle",children:ue.type==="INVOICE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente de paiement",PAID:"Pay",DEPOSIT_PAID:"Accompte pay"}[ue.invoiceStatus||"DRAFT"]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[ue.quoteStatus||"DRAFT"]})}),e.jsx(lt,{children:e.jsxs(gh,{children:[e.jsx(vh,{as:Pn,icon:e.jsx(hg,{}),variant:"ghost",size:"sm"}),e.jsxs(xh,{children:[e.jsx(Js,{icon:e.jsx(eg,{}),onClick:()=>jt(ue),children:"Modifier"}),e.jsx(Tj,{}),e.jsx(RD,{title:"Changer le statut",children:ue.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx(vu,{onClick:()=>In(ue.id,"DRAFT"),children:"Brouillon"}),e.jsx(vu,{onClick:()=>In(ue.id,"SENT"),children:"Envoy"}),e.jsx(vu,{onClick:()=>In(ue.id,"ACCEPTED"),children:"Accept"}),e.jsx(vu,{onClick:()=>In(ue.id,"REFUSED"),children:"Refus"}),e.jsx(vu,{onClick:()=>nr(ue),children:"Rdit vers un nouveau"})]}):e.jsxs(e.Fragment,{children:[e.jsx(vu,{onClick:()=>In(ue.id,"DRAFT"),children:"Brouillon"}),e.jsx(vu,{onClick:()=>In(ue.id,"SENT"),children:"Envoy"}),e.jsx(vu,{onClick:()=>In(ue.id,"ACCEPTED"),children:"Accept"}),e.jsx(vu,{onClick:()=>In(ue.id,"PENDING_PAYMENT"),children:"En attente de paiement"}),e.jsx(vu,{onClick:()=>In(ue.id,"PAID"),children:"Pay"}),e.jsx(vu,{onClick:()=>In(ue.id,"DEPOSIT_PAID"),children:"Accompte pay"})]})}),e.jsx(Tj,{}),e.jsx(Js,{icon:e.jsx(oi,{}),color:"red.500",onClick:()=>en(ue.id),children:"Supprimer"})]})]})})]},ue.id))})]})})})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"chanciers"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"purple",onClick:_l,size:"sm",children:"Nouvel chancier"})]}),t?e.jsxs(Re,{textAlign:"center",p:8,children:[e.jsx(Kr,{size:"lg"}),e.jsx(Z,{mt:2,children:"Chargement..."})]}):(()=>{const ue=F.filter(Le=>Le.type==="SCHEDULED_PAYMENT"&&String(Le.frequency||"").toUpperCase()==="MONTHLY");return ue.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun chancier (mensualits) enregistr"]}):e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:4,children:ue.map((Le,qt)=>{const _n=Number.isFinite(Le.totalAmount)&&Le.totalAmount>0,lr=_n?Math.max(Le.totalAmount-(Le.remainingTotalAmount||0),0):null,wn=Number.isFinite(Le.plannedCountYear)&&Le.plannedCountYear>0,ls=wn?Math.max((Le.plannedCountYear||0)-(Le.remainingCountYear||0),0):null,Xo=wn?Math.max(0,Math.min(1,ls/Le.plannedCountYear)):null,uo=_n?Math.max(0,Math.min(1,lr/Le.totalAmount)):Xo,Jr=uo==null?"gray.400":uo>=.75?"red":uo>=.4?"orange":"red";return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"sm",noOfLines:2,children:Le.description}),e.jsxs(Te,{children:[e.jsx(Xt,{variant:"outline",children:"Mensuel"}),e.jsx(Xt,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(bt,{children:e.jsxs(Te,{align:"center",spacing:4,children:[e.jsx(Re,{minW:"120px",w:"120px",children:e.jsx(Ln,{percent:uo,color:Jr})}),e.jsxs(Be,{align:"start",spacing:1,flex:1,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(Z,{fontWeight:"medium",children:Le.nextDate?tr(Le.nextDate):""}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(Z,{fontWeight:"bold",color:"red.600",children:["- ",un(Math.abs(Le.amount))]}),e.jsxs(Te,{spacing:3,children:[e.jsxs(Xt,{variant:"subtle",colorScheme:"blue",children:["Payes: ",Le.paymentsCount??0]}),_n&&e.jsxs(Xt,{variant:"subtle",children:["Restant total: ",un(Le.remainingTotalAmount||0)]}),!_n&&wn&&e.jsxs(Xt,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",ls]})]}),Le.monthsRemainingTotal&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Mensualits restantes: ",Le.monthsRemainingTotal]}),Le.estimatedEndDate&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",tr(Le.estimatedEndDate)]})]})]})}),e.jsx(bt,{pt:0,children:e.jsxs(Te,{children:[e.jsx(Ie,{size:"sm",onClick:()=>ts(Le),children:"Dclarer pay"}),e.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>Qi(Le),children:"Voir paiements"}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Tr(Le.id)})]})})]},Le.id||qt)})})})()]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Paiements programms (mensuels)"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"purple",onClick:_l,size:"sm",children:"Ajouter un prlvement"})]}),t?e.jsxs(Re,{textAlign:"center",p:8,children:[e.jsx(Kr,{size:"lg"}),e.jsx(Z,{mt:2,children:"Chargement..."})]}):(()=>{const ue=F.filter(Le=>Le.type==="SCHEDULED_PAYMENT"&&String(Le.frequency||"").toUpperCase()==="MONTHLY");return ue.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun paiement mensuel programm"]}):e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:4,children:ue.map((Le,qt)=>{const _n=Number.isFinite(Le.totalAmount)&&Le.totalAmount>0,lr=_n?Math.max(Le.totalAmount-(Le.remainingTotalAmount||0),0):null,wn=Number.isFinite(Le.plannedCountYear)&&Le.plannedCountYear>0,ls=wn?Math.max((Le.plannedCountYear||0)-(Le.remainingCountYear||0),0):null,Xo=wn?Math.max(0,Math.min(1,ls/Le.plannedCountYear)):null,uo=_n?Math.max(0,Math.min(1,lr/Le.totalAmount)):Xo,Jr=uo==null?"gray.400":uo>=.75?"red":uo>=.4?"orange":"red";return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"sm",noOfLines:2,children:Le.description}),e.jsxs(Te,{children:[e.jsx(Xt,{variant:"outline",children:"Mensuel"}),e.jsx(Xt,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(bt,{children:e.jsxs(Te,{align:"center",spacing:4,children:[e.jsx(Re,{minW:"120px",w:"120px",children:e.jsx(Ln,{percent:uo,color:Jr})}),e.jsxs(Be,{align:"start",spacing:1,flex:1,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(Z,{fontWeight:"medium",children:Le.nextDate?tr(Le.nextDate):""}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(Z,{fontWeight:"bold",color:"red.600",children:["- ",un(Math.abs(Le.amount))]}),e.jsxs(Te,{spacing:3,children:[e.jsxs(Xt,{variant:"subtle",colorScheme:"blue",children:["Payes: ",Le.paymentsCount??0]}),_n&&e.jsxs(Xt,{variant:"subtle",children:["Restant total: ",un(Le.remainingTotalAmount||0)]}),!_n&&wn&&e.jsxs(Xt,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",ls]})]}),Le.estimatedEndDate&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",tr(Le.estimatedEndDate)]})]})]})}),e.jsx(bt,{pt:0,children:e.jsxs(Te,{children:[e.jsx(Ie,{size:"sm",onClick:()=>ts(Le),children:"Dclarer pay"}),e.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>Qi(Le),children:"Voir paiements"}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Tr(Le.id)})]})})]},Le.id||qt)})})})()]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsx(Te,{justify:"space-between",children:e.jsx(ht,{size:"md",children:"Notes de frais"})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Te,{spacing:3,align:"end",children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{value:Je.description,onChange:ue=>We(Le=>({...Le,description:ue.target.value})),placeholder:"Ex: Achat fournitures"})]}),e.jsxs(be,{isRequired:!0,width:"220px",children:[e.jsx(je,{children:"Montant ()"}),e.jsxs(gs,{value:Je.amount,onChange:ue=>We(Le=>({...Le,amount:ue})),precision:2,step:.01,children:[e.jsx(vs,{placeholder:"0.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsxs(be,{width:"220px",children:[e.jsx(je,{children:"Date"}),e.jsx(Xe,{type:"date",value:Je.date,onChange:ue=>We(Le=>({...Le,date:ue.target.value}))})]}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:co,children:"Ajouter"})]})})}),vt.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucune note de frais pour le moment"]}):e.jsx(St,{children:e.jsx(bt,{p:0,children:e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Description"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{children:"Statut"}),ze&&e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:vt.map(ue=>e.jsxs(Rn,{children:[e.jsx(lt,{children:tr(ue.date||ue.createdAt)}),e.jsx(lt,{children:ue.description}),e.jsx(lt,{isNumeric:!0,children:un(ue.amount)}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:ue.status==="PAID"?"green":ue.status==="APPROVED"?"blue":ue.status==="REJECTED"?"red":"orange",children:ue.status})}),ze&&e.jsx(lt,{children:e.jsxs(Te,{children:[e.jsx(Ie,{size:"xs",onClick:()=>tl(ue.id,"APPROVED"),leftIcon:e.jsx(Ig,{}),colorScheme:"blue",variant:"outline",children:"Approuver"}),e.jsx(Ie,{size:"xs",onClick:()=>tl(ue.id,"PAID"),leftIcon:e.jsx(Qp,{}),colorScheme:"green",variant:"outline",children:"Pay"}),e.jsx(Ie,{size:"xs",onClick:()=>tl(ue.id,"REJECTED"),leftIcon:e.jsx(Hp,{}),colorScheme:"red",variant:"outline",children:"Rejeter"}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>bo(ue.id)})]})})]},ue.id))})]})})})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Simulations Financires"}),e.jsx(Ie,{leftIcon:e.jsx(lh,{}),colorScheme:"teal",onClick:Ss,size:"sm",children:"Nouveau scnario"})]}),Ue.scenarios.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:2,children:[e.jsx(Z,{fontWeight:"bold",children:"Aucun scnario de simulation"}),e.jsx(Z,{fontSize:"sm",children:"Crez des scnarios pour simuler l'volution de votre trsorerie. tape 1: Crer le contexte, tape 2: Ajouter recettes/dpenses."})]})]}):e.jsx(Sn,{columns:{base:1,md:2},spacing:4,children:Ue.scenarios.map(ue=>{const Le=ue.itemsCount>0,qt=ue.totalMonthlyIncome-ue.totalMonthlyExpenses;return e.jsxs(St,{borderWidth:2,borderColor:Le?"green.200":"orange.200",children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"sm",children:ue.name}),e.jsxs(Te,{children:[e.jsx(Xt,{colorScheme:Le?"green":"orange",size:"sm",children:Le?"Complet":"Brouillon"}),e.jsxs(Xt,{variant:"outline",size:"sm",children:[ue.itemsCount," lment(s)"]})]})]}),e.jsxs(gh,{children:[e.jsx(vh,{as:Pn,icon:e.jsx(hg,{}),variant:"ghost",size:"sm"}),e.jsxs(xh,{children:[e.jsx(Js,{icon:e.jsx(eg,{}),onClick:async()=>{await ci(ue.id),$o()},children:"diter"}),e.jsx(Js,{icon:e.jsx(lh,{}),onClick:()=>hl(ue.id),isDisabled:!Le,children:"Excuter"}),e.jsx(Js,{icon:e.jsx(vc,{}),onClick:()=>Hi(ue.id,ue.name),isDisabled:!Le,children:"Exporter PDF"}),e.jsx(ds,{}),e.jsx(Js,{icon:e.jsx(oi,{}),color:"red.500",onClick:()=>{confirm("Supprimer ce scnario ?")&&fl(ue.id)},children:"Supprimer"})]})]})]})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",noOfLines:2,children:ue.description}),Le?e.jsxs(Sn,{columns:3,spacing:2,children:[e.jsxs(Zn,{size:"sm",children:[e.jsx(qn,{fontSize:"xs",children:"Revenus"}),e.jsx(Jn,{fontSize:"sm",color:"green.600",children:un(ue.totalMonthlyIncome)})]}),e.jsxs(Zn,{size:"sm",children:[e.jsx(qn,{fontSize:"xs",children:"Dpenses"}),e.jsx(Jn,{fontSize:"sm",color:"red.600",children:un(ue.totalMonthlyExpenses)})]}),e.jsxs(Zn,{size:"sm",children:[e.jsx(qn,{fontSize:"xs",children:"Rsultat"}),e.jsx(Jn,{fontSize:"sm",color:qt>=0?"green.600":"red.600",children:un(qt)})]})]}):e.jsxs(ir,{status:"warning",size:"sm",children:[e.jsx(or,{}),e.jsx(Z,{fontSize:"xs",children:"Ajoutez des recettes et dpenses pour complter le scnario"})]}),e.jsxs(Te,{children:[e.jsx(Ie,{size:"xs",variant:"outline",leftIcon:e.jsx(eg,{}),onClick:async()=>{await ci(ue.id),$o()},children:"diter"}),e.jsx(Ie,{size:"xs",colorScheme:"teal",leftIcon:e.jsx(lh,{}),onClick:()=>hl(ue.id),isDisabled:!Le,isLoading:t,children:"Simuler"})]})]})})]},ue.id)})})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Rapports Financiers"}),e.jsxs(Te,{children:[e.jsxs(be,{width:"150px",children:[e.jsx(je,{children:"Anne"}),e.jsx(gn,{value:zt,onChange:ue=>ut(parseInt(ue.target.value,10)),children:[0,1,2,3,4].map(ue=>{const Le=new Date().getFullYear()-ue;return e.jsx("option",{value:Le,children:Le},Le)})})]}),e.jsx(Ie,{leftIcon:e.jsx(RA,{}),onClick:()=>ni(zt),isLoading:t,children:"Actualiser"}),e.jsx(Ie,{leftIcon:e.jsx(vc,{}),colorScheme:"purple",onClick:ya,children:"Export PDF"})]})]}),Ft?e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Sn,{columns:{base:1,md:4},spacing:4,children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Total recettes (priode)"}),e.jsx(Jn,{color:"green.600",children:un(Ft?.totals?.credits||0)})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Total dpenses (priode)"}),e.jsx(Jn,{color:"red.600",children:un(Ft?.totals?.debits||0)})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Net (priode)"}),e.jsx(Jn,{color:(Ft?.totals?.net||0)>=0?"green.600":"red.600",children:un(Ft?.totals?.net||0)})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Solde actuel"}),e.jsx(Jn,{children:un(i)})]})})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Soldes de priode"})}),e.jsx(bt,{children:e.jsxs(Sn,{columns:{base:1,md:3},spacing:4,children:[e.jsxs(Zn,{children:[e.jsx(qn,{children:"Solde d'ouverture"}),e.jsx(Jn,{children:un(Ft?.balances?.opening||0)})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Solde de clture (calcul)"}),e.jsx(Jn,{children:un(Ft?.balances?.closing||0)})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Ouverture + Net"}),e.jsx(Jn,{children:un(Ft?.balances?.closingFromOpeningPlusNet||0)})]})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(ht,{size:"sm",children:["Par mois (",zt,")"]})}),e.jsx(bt,{p:0,children:e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Mois"}),e.jsx(At,{isNumeric:!0,children:"Recettes"}),e.jsx(At,{isNumeric:!0,children:"Dpenses"}),e.jsx(At,{isNumeric:!0,children:"Net"})]})}),e.jsx(Rs,{children:(Ft?.monthly||[]).map(ue=>e.jsxs(Rn,{children:[e.jsx(lt,{children:String(ue.month).padStart(2,"0")}),e.jsx(lt,{isNumeric:!0,children:un(ue.credits)}),e.jsx(lt,{isNumeric:!0,children:un(ue.debits)}),e.jsx(lt,{isNumeric:!0,children:e.jsx(Z,{color:(ue.net||0)>=0?"green.600":"red.600",children:un(ue.net)})})]},ue.month))})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Par catgorie"})}),e.jsx(bt,{p:0,children:e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Catgorie"}),e.jsx(At,{isNumeric:!0,children:"Recettes"}),e.jsx(At,{isNumeric:!0,children:"Dpenses"}),e.jsx(At,{isNumeric:!0,children:"Net"})]})}),e.jsx(Rs,{children:Object.entries(Ft?.byCategory||{}).map(([ue,Le])=>e.jsxs(Rn,{children:[e.jsx(lt,{children:ue}),e.jsx(lt,{isNumeric:!0,children:un(Le.credits)}),e.jsx(lt,{isNumeric:!0,children:un(Le.debits)}),e.jsx(lt,{isNumeric:!0,children:e.jsx(Z,{color:(Le.net||0)>=0?"green.600":"red.600",children:un(Le.net)})})]},ue))})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Transactions rcentes (extrait)"})}),e.jsx(bt,{p:0,children:e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Catgorie"}),e.jsx(At,{isNumeric:!0,children:"Montant"})]})}),e.jsx(Rs,{children:(Ft?.sample||[]).map(ue=>e.jsxs(Rn,{children:[e.jsx(lt,{children:tr(ue.date)}),e.jsx(lt,{children:ue.description}),e.jsx(lt,{children:(ue.category||"AUTRE").toUpperCase()}),e.jsx(lt,{isNumeric:!0,children:e.jsx(Z,{color:String(ue.type).toUpperCase()==="CREDIT"?"green.600":"red.600",children:un(ue.amount)})})]},`${ue.id}-${ue.date}`))})]})})]})]}):e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Z,{children:["Aucun rapport disponible pour ",zt,". Essayez d'actualiser."]})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsx(ht,{size:"md",children:"Configuration Avance"}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Historique des Modifications de Solde"})}),e.jsx(bt,{children:me.length===0?e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Aucune modification enregistre"}):e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Ancien solde"}),e.jsx(At,{children:"Nouveau solde"}),e.jsx(At,{children:"Diffrence"}),e.jsx(At,{children:"Raison"})]})}),e.jsx(Rs,{children:me.slice(0,10).map((ue,Le)=>e.jsxs(Rn,{children:[e.jsx(lt,{children:tr(ue.date)}),e.jsx(lt,{children:un(ue.oldBalance)}),e.jsx(lt,{children:un(ue.newBalance)}),e.jsx(lt,{children:e.jsxs(Z,{color:ue.newBalance-ue.oldBalance>=0?"green.600":"red.600",children:[ue.newBalance-ue.oldBalance>=0?"+":"",un(ue.newBalance-ue.oldBalance)]})}),e.jsx(lt,{fontSize:"sm",children:ue.reason})]},Le))})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Paramtres de Simulation"})}),e.jsx(bt,{children:e.jsxs(be,{children:[e.jsx(je,{children:"Nombre de mois  projeter"}),e.jsxs(gs,{value:Ue.projectionMonths,onChange:ue=>Ne(Le=>({...Le,projectionMonths:parseInt(ue)||12})),min:1,max:60,children:[e.jsx(vs,{}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]}),e.jsxs(Z,{fontSize:"xs",color:"gray.500",mt:1,children:["Entre 1 et 60 mois (actuellement: ",Ue.projectionMonths," mois)"]})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Scurit"})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Te,{children:[e.jsx(ws,{as:u?Ed:PT,color:u?"red.500":"green.500"}),e.jsxs(Z,{fontSize:"sm",children:["Solde ",u?"verrouill":"dverrouill"," -",u?" Code requis pour modification":" Modification libre"]})]}),e.jsxs(ir,{status:"warning",size:"sm",children:[e.jsx(or,{}),e.jsx(Z,{fontSize:"xs",children:"Le code de scurit  4 chiffres est requis pour toute modification directe du solde. Contactez l'administrateur systme si vous avez oubli le code."})]})]})})]})]})})]})]}),e.jsxs(Hn,{isOpen:Ti,onClose:lo,isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Modifier la transaction"}),e.jsx(fr,{}),e.jsx(Vn,{children:Es&&e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{value:Es.description||"",onChange:ue=>ti(Le=>({...Le,description:ue.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Catgorie"}),e.jsxs(gn,{value:Es.category||"ADHESION",onChange:ue=>ti(Le=>({...Le,category:ue.target.value})),children:[e.jsx("option",{value:"ADHESION",children:"Adhsion"}),e.jsx("option",{value:"EVENEMENT",children:"vnement"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"CARBURANT",children:"Carburant"}),e.jsx("option",{value:"AUTRE",children:"Autre"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsxs(gn,{value:Es.type||"CREDIT",onChange:ue=>ti(Le=>({...Le,type:ue.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Montant"}),e.jsxs(gs,{value:Es.amount,onChange:ue=>ti(Le=>({...Le,amount:ue})),precision:2,step:.5,children:[e.jsx(vs,{}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date"}),e.jsx(Xe,{type:"date",value:(Es.date||"").slice(0,10),onChange:ue=>ti(Le=>({...Le,date:ue.target.value}))})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:lo,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:jc,children:"Enregistrer"})]})]})]}),e.jsxs(Hn,{isOpen:ai,onClose:Ii,isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Lier  un devis/une facture"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsx(Be,{spacing:3,align:"stretch",children:e.jsxs(be,{children:[e.jsx(je,{children:"Document"}),e.jsx(gn,{placeholder:"Slectionner un document",value:La,onChange:ue=>zo(ue.target.value),children:on.map(ue=>e.jsxs("option",{value:ue.id,children:[ue.type==="INVOICE"?"Facture":"Devis","  ",ue.number||ue.title||ue.id,"  ",un(Number(ue.amount||0))]},ue.id))})]})})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",onClick:Ii,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:xe,children:"Lier"})]})]})]}),e.jsxs(Hn,{isOpen:Ho,onClose:oa,isCentered:!0,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:Tt?"Modifier le document":"Nouveau document"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"Type"}),e.jsxs(gn,{value:xt.type,onChange:ue=>an(Le=>({...Le,type:ue.target.value})),children:[e.jsx("option",{value:"QUOTE",children:" Devis"}),e.jsx("option",{value:"INVOICE",children:" Facture"})]})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"Date"}),e.jsx(Xe,{type:"date",value:xt.date,onChange:ue=>an(Le=>({...Le,date:ue.target.value}))})]}),xt.type==="INVOICE"&&e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"chance"}),e.jsx(Xe,{type:"date",value:xt.dueDate||"",onChange:ue=>an(Le=>({...Le,dueDate:ue.target.value}))})]})]}),e.jsxs(Te,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"Numro"}),e.jsx(Xe,{value:xt.number,onChange:ue=>an(Le=>({...Le,number:ue.target.value})),placeholder:xt.type==="QUOTE"?"ex: DV-2025-001":"ex: FA-2025-001"})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"Titre"}),e.jsx(Xe,{value:xt.title,onChange:ue=>an(Le=>({...Le,title:ue.target.value})),placeholder:"Objet du document"})]})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"Description"}),e.jsx(xr,{value:xt.description||"",onChange:ue=>an(Le=>({...Le,description:ue.target.value})),placeholder:"Dtails du document",rows:2})]}),e.jsx(Re,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"sm",children:" Montant"}),e.jsx(Z,{fontSize:"xs",color:"gray.600",children:" Association (exempte TVA)"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Montant total"}),e.jsxs(gs,{value:xt.amount||"",onChange:ue=>{an(Le=>({...Le,amount:ue,amountExcludingTax:ue,taxRate:0,taxAmount:0}))},precision:2,step:10,children:[e.jsx(vs,{placeholder:"0.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsx(Re,{p:3,bg:"green.100",borderRadius:"md",border:"1px solid",borderColor:"green.400",children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",color:"green.700",fontWeight:"bold",children:"Montant TTC:"}),e.jsxs(Z,{fontSize:"lg",color:"green.700",fontWeight:"bold",children:[parseFloat(xt.amount||0).toFixed(2)," "]})]})})]})}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"Statut"}),e.jsx(gn,{value:xt.status,onChange:ue=>an(Le=>({...Le,status:ue.target.value})),children:xt.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"REFUSED",children:" Refus"}),e.jsx("option",{value:"REEDITED",children:" Rdit"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"PENDING_PAYMENT",children:" En attente de paiement"}),e.jsx("option",{value:"PAID",children:" Pay"}),e.jsx("option",{value:"DEPOSIT_PAID",children:" Accompte pay"})]})})]}),xt.type==="INVOICE"&&e.jsx(Re,{bg:"purple.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"purple.500",children:e.jsxs(Be,{spacing:2,align:"stretch",children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Infos de paiement"}),e.jsxs(Te,{spacing:2,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Mode"}),e.jsx(Xe,{size:"sm",value:xt.paymentMethod||"",onChange:ue=>an(Le=>({...Le,paymentMethod:ue.target.value})),placeholder:"ex: Virement, Espces"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Date paiement"}),e.jsx(Xe,{size:"sm",type:"date",value:xt.paymentDate||"",onChange:ue=>an(Le=>({...Le,paymentDate:ue.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Montant pay"}),e.jsx(gs,{value:xt.amountPaid||"",onChange:ue=>an(Le=>({...Le,amountPaid:ue})),size:"sm",precision:2,children:e.jsx(vs,{})})]})]})]})}),e.jsxs(Te,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"vnement (optionnel)"}),e.jsx(Xe,{size:"sm",value:xt.eventId||"",onChange:ue=>an(Le=>({...Le,eventId:ue.target.value})),placeholder:"ID d'vnement"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Membre (optionnel)"}),e.jsx(Xe,{size:"sm",value:xt.memberId||"",onChange:ue=>an(Le=>({...Le,memberId:ue.target.value})),placeholder:"ID de membre"})]})]}),e.jsxs(Te,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Nom"}),e.jsx(Xe,{size:"sm",value:xt.destinataireName||"",onChange:ue=>an(Le=>({...Le,destinataireName:ue.target.value})),placeholder:"Nom du destinataire (pour le template)"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Adresse"}),e.jsx(Xe,{size:"sm",value:xt.destinataireAdresse||"",onChange:ue=>an(Le=>({...Le,destinataireAdresse:ue.target.value})),placeholder:"Adresse (pour le template)"})]})]}),e.jsxs(Te,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Socit"}),e.jsx(Xe,{size:"sm",value:xt.destinataireSociete||"",onChange:ue=>an(Le=>({...Le,destinataireSociete:ue.target.value})),placeholder:"Socit (optionnel)"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Destinataire - Contacts"}),e.jsx(Xe,{size:"sm",value:xt.destinataireContacts||"",onChange:ue=>an(Le=>({...Le,destinataireContacts:ue.target.value})),placeholder:"Tlphone, email, etc."})]})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Notes (visibles au client)"}),e.jsx(xr,{size:"sm",value:xt.notes||"",onChange:ue=>an(Le=>({...Le,notes:ue.target.value})),placeholder:"Remarques publiques",rows:1})]}),e.jsx(ds,{}),e.jsx(WP,{devisId:Tt?.id||"temp-"+Date.now(),onTotalChange:ue=>{an(Le=>({...Le,amount:ue.toFixed(2)}))}}),e.jsx(Re,{bg:"amber.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"amber.500",children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsx(Te,{justify:"space-between",children:e.jsx(ht,{size:"sm",children:" Gnrer le document"})}),e.jsxs(Be,{spacing:2,align:"stretch",children:[os.length>0?e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:" Slectionner un template"}),e.jsx(gn,{size:"sm",value:Yn?.id||"",onChange:ue=>{const Le=os.find(qt=>qt.id===ue.target.value);mr(Le)},placeholder:"Choisir un template...",children:os.map(ue=>e.jsxs("option",{value:ue.id,children:[ue.name," ",ue.isDefault?"":""]},ue.id))}),Yn&&e.jsxs(Z,{fontSize:"xs",color:"gray.600",mt:1,children:[" ",Yn.name]})]}):e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),e.jsx(Z,{fontSize:"xs",children:"Aucun template disponible. Crez-en un d'abord."})]}),Yn&&e.jsx(Ie,{colorScheme:"orange",size:"sm",onClick:He,leftIcon:e.jsx(vc,{}),width:"100%",children:" Gnrer l'aperu & PDF"}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:2,children:" Remplissez tous les champs du formulaire (Numro, Titre, Montant, Destinataire) avant de gnrer"})]})]})})]})}),e.jsx(pr,{children:e.jsxs(Te,{spacing:2,children:[e.jsx(Ie,{variant:"ghost",onClick:oa,children:"Annuler"}),e.jsx(Ie,{colorScheme:"purple",onClick:Ht,children:Tt?" Enregistrer les modifications":" Crer le document"})]})})]})]}),e.jsxs(Hn,{isOpen:Qc,onClose:Oi,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Configuration Rapide"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsx(Z,{fontSize:"sm",children:"Configuration scurise du solde de base. Un code  4 chiffres est requis."})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Code de scurit (4 chiffres)"}),e.jsx(Te,{children:e.jsxs(nS,{value:oe,onChange:he,type:"number",children:[e.jsx(nh,{}),e.jsx(nh,{}),e.jsx(nh,{}),e.jsx(nh,{})]})})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nouveau solde ()"}),e.jsxs(gs,{value:$,onChange:M,precision:2,step:.01,children:[e.jsx(vs,{placeholder:"Entrez le nouveau solde"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),$&&!isNaN(parseFloat($))&&e.jsxs(ir,{status:parseFloat($)>=i?"success":"warning",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",children:"Aperu de la modification"}),e.jsxs(Z,{fontSize:"sm",children:["Solde actuel: ",un(i)]}),e.jsxs(Z,{fontSize:"sm",children:["Nouveau solde: ",un(parseFloat($))]}),e.jsxs(Z,{fontSize:"sm",color:parseFloat($)-i>=0?"green.600":"red.600",children:["Diffrence: ",parseFloat($)-i>=0?"+":"",un(parseFloat($)-i)]})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:Oi,children:"Annuler"}),e.jsx(Ie,{colorScheme:"orange",onClick:mi,isLoading:t,leftIcon:e.jsx(yh,{}),children:"Configurer le solde"})]})]})]}),e.jsxs(Hn,{isOpen:qr,onClose:Ql,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Dclarer une mensualit paye"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Priode"}),e.jsx(Xe,{type:"month",value:se,onChange:ue=>V(ue.target.value)})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Montant ()"}),e.jsxs(gs,{value:q,onChange:ue=>le(ue),precision:2,step:.01,children:[e.jsx(vs,{}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Attestation / Photo"}),e.jsx(Xe,{type:"file",accept:"image/*,application/pdf",onChange:ue=>ie(ue.target.files?.[0]||null)}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:1,children:"Pice justificative obligatoire"})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:Ql,children:"Annuler"}),e.jsx(Ie,{colorScheme:"green",onClick:gi,isLoading:t,children:"Dclarer"})]})]})]}),e.jsxs(Hn,{isOpen:ul,onClose:fs,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsxs($n,{children:["Paiements  ",k?.description]}),e.jsx(fr,{}),e.jsx(Vn,{children:J.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun paiement enregistr"]}):e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Priode"}),e.jsx(At,{children:"Pay le"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{children:"Justificatif"})]})}),e.jsx(Rs,{children:J.map(ue=>e.jsxs(Rn,{children:[e.jsx(lt,{children:ue.period}),e.jsx(lt,{children:tr(ue.paidAt)}),e.jsx(lt,{isNumeric:!0,children:un(ue.amount)}),e.jsx(lt,{children:ue.attachment?.dataUrl?e.jsx(uB,{href:ue.attachment.dataUrl,target:"_blank",color:"blue.600",children:"Ouvrir"}):e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"N/A"})})]},ue.id))})]})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:fs,children:"Fermer"})})]})]}),e.jsxs(Hn,{isOpen:yo,onClose:jo,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsx($n,{children:"Nouvelle Transaction"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:6,children:[e.jsxs(Be,{spacing:4,width:"full",children:[e.jsx(ht,{size:"sm",children:"Informations de la transaction"}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Type"}),e.jsxs(gn,{value:x.type,onChange:ue=>w(Le=>({...Le,type:ue.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Montant ()"}),e.jsxs(gs,{value:x.amount,onChange:ue=>w(Le=>({...Le,amount:ue})),precision:2,step:.01,children:[e.jsx(vs,{placeholder:"0.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{value:x.description,onChange:ue=>w(Le=>({...Le,description:ue.target.value})),placeholder:"Description de la transaction"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date"}),e.jsx(Xe,{type:"date",value:x.date,onChange:ue=>w(Le=>({...Le,date:ue.target.value}))})]})]}),e.jsx(ds,{}),e.jsxs(Be,{spacing:3,width:"full",children:[e.jsx(ht,{size:"sm",children:"Allouer par catgorie"}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Vous pouvez diviser ce montant entre plusieurs catgories (ex: 100 gasoil + 13 assurance)"}),b.length>0&&e.jsxs(Re,{width:"full",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Allocations actuelles:"}),e.jsx(Be,{spacing:2,align:"stretch",children:b.map((ue,Le)=>e.jsxs(Te,{p:2,borderRadius:"md",bg:Os("gray.100","gray.600"),justify:"space-between",children:[e.jsxs(Be,{align:"start",spacing:0,children:[e.jsxs(Te,{children:[e.jsx(Re,{w:3,h:3,borderRadius:"full",bg:ue.category?.color}),e.jsx(Z,{fontWeight:"bold",children:ue.category?.name})]}),ue.notes&&e.jsx(Z,{fontSize:"xs",color:"gray.500",children:ue.notes})]}),e.jsxs(Te,{children:[e.jsx(Z,{fontWeight:"bold",children:un(ue.allocatedAmount)}),e.jsx(Pn,{size:"sm",icon:e.jsx(oi,{}),colorScheme:"red",variant:"ghost",onClick:()=>{S(b.filter((qt,_n)=>_n!==Le))}})]})]},Le))}),e.jsxs(Z,{fontSize:"xs",color:"gray.500",mt:2,children:["Total allou: ",un(b.reduce((ue,Le)=>ue+(parseFloat(Le.allocatedAmount)||0),0))," / ",un(parseFloat(x.amount)||0)]})]}),e.jsx(St,{width:"full",children:e.jsx(bt,{children:e.jsxs(Be,{spacing:3,children:[e.jsx(ht,{size:"xs",children:"Ajouter une allocation"}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Catgorie"}),e.jsxs(gn,{value:C.categoryId,onChange:ue=>B({...C,categoryId:ue.target.value}),size:"sm",children:[e.jsx("option",{value:"",children:"Slectionner une catgorie"}),Ye.map(ue=>e.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Montant ()"}),e.jsxs(gs,{value:C.allocatedAmount,onChange:ue=>B({...C,allocatedAmount:ue}),precision:2,step:.01,size:"sm",children:[e.jsx(vs,{placeholder:"0.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Notes (optionnel)"}),e.jsx(xr,{value:C.notes,onChange:ue=>B({...C,notes:ue.target.value}),placeholder:"ex: gasoil station Shell",rows:2,size:"sm"})]}),e.jsxs(Ie,{colorScheme:"blue",width:"full",size:"sm",onClick:()=>{if(!C.categoryId||!C.allocatedAmount){fn({status:"error",title:"Remplissez catgorie et montant"});return}const ue=Ye.find(Le=>Le.id===C.categoryId);S([...b,{categoryId:C.categoryId,category:ue,allocatedAmount:parseFloat(C.allocatedAmount),notes:C.notes}]),B({categoryId:"",allocatedAmount:"",notes:""})},children:[e.jsx(Bs,{})," Ajouter l'allocation"]})]})})})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:jo,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:()=>{if(!x.type||!x.amount||!x.description){fn({status:"error",title:"Remplissez les champs obligatoires"});return}wo()},isLoading:t,children:"Ajouter"})]})]})]}),e.jsxs(Hn,{isOpen:Da,onClose:_o,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:r===2?"Nouvel chancier":"Nouvelle Opration Programme"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[r!==2&&e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Type"}),e.jsxs(gn,{value:Q.type,onChange:ue=>z(Le=>({...Le,type:ue.target.value})),children:[e.jsx("option",{value:"SCHEDULED_PAYMENT",children:"Paiement programm"}),e.jsx("option",{value:"SCHEDULED_CREDIT",children:"Crdit programm"})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:r===2?"Mensualit ( / mois)":"Montant ()"}),e.jsxs(gs,{value:Q.amount,onChange:ue=>z(Le=>({...Le,amount:ue})),precision:2,step:.01,children:[e.jsx(vs,{placeholder:"0.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{value:Q.description,onChange:ue=>z(Le=>({...Le,description:ue.target.value})),placeholder:"Description de l'opration"})]}),r!==2&&e.jsxs(be,{children:[e.jsx(je,{children:"Frquence"}),e.jsxs(gn,{value:Q.frequency,onChange:ue=>z(Le=>({...Le,frequency:ue.target.value})),children:[e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"WEEKLY",children:"Hebdomadaire"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prochaine excution"}),e.jsx(Xe,{type:"date",value:Q.nextDate,onChange:ue=>z(Le=>({...Le,nextDate:ue.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:r===2?"Montant total (optionnel)":"Total  amortir (optionnel)"}),e.jsxs(gs,{value:Q.totalAmount,onChange:ue=>z(Le=>({...Le,totalAmount:ue})),precision:2,step:.01,children:[e.jsx(vs,{placeholder:"Ex: 4000.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"Permet de calculer le nombre de mensualits restantes et la date de fin estime."})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:_o,children:"Annuler"}),e.jsx(Ie,{colorScheme:"purple",onClick:Cr,isLoading:t,children:r===2?"Crer lchancier":"Programmer"})]})]})]}),e.jsxs(Hn,{isOpen:br,onClose:Ui,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Nouveau Scnario de Simulation"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",children:"tape 1: Contexte du scnario"}),e.jsx(Z,{fontSize:"xs",children:"Dfinissez le nom et la description. Vous pourrez ajouter les recettes et dpenses dans l'tape suivante."})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nom du scnario"}),e.jsx(Xe,{value:at.name,onChange:ue=>Gt(Le=>({...Le,name:ue.target.value})),placeholder:"ex: Scnario optimiste 2024"})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:at.description,onChange:ue=>Gt(Le=>({...Le,description:ue.target.value})),placeholder:"Dcrivez les hypothses et le contexte de ce scnario...",rows:4})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Priode de projection (mois)"}),e.jsxs(gs,{value:at.projectionMonths,onChange:ue=>Gt(Le=>({...Le,projectionMonths:parseInt(ue)||12})),min:1,max:60,children:[e.jsx(vs,{}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:1,children:"Entre 1 et 60 mois"})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:Ui,children:"Annuler"}),e.jsx(Ie,{colorScheme:"teal",onClick:Cs,isLoading:t,leftIcon:e.jsx(lh,{}),children:"Crer le scnario"})]})]})]}),e.jsxs(Hn,{isOpen:ks,onClose:Mi,size:"6xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:e.jsxs(Te,{children:[e.jsxs(Z,{children:["dition: ",nt?.name]}),e.jsx(Xt,{colorScheme:"blue",variant:"outline",children:"tape 2: Recettes & Dpenses"})]})}),e.jsx(fr,{}),e.jsxs(Vn,{children:[nt&&e.jsxs(yc,{templateColumns:"1fr 1fr",gap:6,children:[e.jsx(Be,{align:"stretch",spacing:4,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(ht,{size:"sm",color:"green.600",children:[" Recettes (",nt.incomeItems?.length||0,")"]})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:3,children:[e.jsxs(Te,{width:"100%",children:[e.jsx(Xe,{placeholder:"Description",size:"sm",value:Oe.description,onChange:ue=>ce(Le=>({...Le,description:ue.target.value}))}),e.jsx(gs,{size:"sm",width:"120px",value:Oe.amount,onChange:ue=>ce(Le=>({...Le,amount:ue})),children:e.jsx(vs,{placeholder:"Montant"})}),e.jsxs(gn,{size:"sm",width:"120px",value:Oe.frequency,onChange:ue=>ce(Le=>({...Le,frequency:ue.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(Pn,{icon:e.jsx(Bs,{}),size:"sm",colorScheme:"green",onClick:zi})]}),e.jsx(Be,{width:"100%",spacing:2,children:nt.incomeItems?.map((ue,Le)=>e.jsxs(Te,{width:"100%",justify:"space-between",p:2,bg:"green.50",borderRadius:"md",children:[e.jsxs(Be,{align:"start",spacing:0,flex:1,children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",children:ue.description}),e.jsxs(Z,{fontSize:"xs",color:"gray.600",children:[un(ue.amount)," - ",Sr(ue.frequency)]})]}),e.jsx(Pn,{icon:e.jsx(oi,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>nl(ue.id)})]},ue.id))}),e.jsx(Re,{width:"100%",p:2,bg:"green.100",borderRadius:"md",children:e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:"green.700",children:["Total mensuel: ",un(nt.totalMonthlyIncome||0)]})})]})})]})}),e.jsx(Be,{align:"stretch",spacing:4,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(ht,{size:"sm",color:"red.600",children:[" Dpenses (",nt.expenseItems?.length||0,")"]})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:3,children:[e.jsxs(Te,{width:"100%",children:[e.jsx(Xe,{placeholder:"Description",size:"sm",value:ve.description,onChange:ue=>Ge(Le=>({...Le,description:ue.target.value}))}),e.jsx(gs,{size:"sm",width:"120px",value:ve.amount,onChange:ue=>Ge(Le=>({...Le,amount:ue})),children:e.jsx(vs,{placeholder:"Montant"})}),e.jsxs(gn,{size:"sm",width:"120px",value:ve.frequency,onChange:ue=>Ge(Le=>({...Le,frequency:ue.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(Pn,{icon:e.jsx(Bs,{}),size:"sm",colorScheme:"red",onClick:So})]}),e.jsx(Be,{width:"100%",spacing:2,children:nt.expenseItems?.map((ue,Le)=>e.jsxs(Te,{width:"100%",justify:"space-between",p:2,bg:"red.50",borderRadius:"md",children:[e.jsxs(Be,{align:"start",spacing:0,flex:1,children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",children:ue.description}),e.jsxs(Z,{fontSize:"xs",color:"gray.600",children:[un(ue.amount)," - ",Sr(ue.frequency)]})]}),e.jsx(Pn,{icon:e.jsx(oi,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>Lo(ue.id)})]},ue.id))}),e.jsx(Re,{width:"100%",p:2,bg:"red.100",borderRadius:"md",children:e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:"red.700",children:["Total mensuel: ",un(nt.totalMonthlyExpenses||0)]})})]})})]})})]}),nt&&e.jsx(St,{mt:4,children:e.jsx(bt,{children:e.jsxs(Sn,{columns:4,spacing:4,children:[e.jsxs(Zn,{children:[e.jsx(qn,{children:"Recettes/mois"}),e.jsx(Jn,{color:"green.600",children:un(nt.totalMonthlyIncome||0)})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Dpenses/mois"}),e.jsx(Jn,{color:"red.600",children:un(nt.totalMonthlyExpenses||0)})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Rsultat/mois"}),e.jsx(Jn,{color:nt.monthlyNet>=0?"green.600":"red.600",children:un(nt.monthlyNet||0)})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"lments"}),e.jsx(Jn,{children:(nt.incomeItems?.length||0)+(nt.expenseItems?.length||0)})]})]})})}),e.jsxs(be,{children:[e.jsx(je,{children:"Motif de rgularisation"}),e.jsx(Xe,{value:ee,onChange:ue=>re(ue.target.value),placeholder:"Ex: Correction comptable, ajustement bancaire, etc."})]})]}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:Mi,children:"Fermer"}),e.jsx(Ie,{colorScheme:"teal",onClick:()=>hl(nt?.id),isLoading:t,leftIcon:e.jsx(lh,{}),isDisabled:!nt||nt.itemsCount===0,children:"Excuter la simulation"})]})]})]}),e.jsxs(Hn,{isOpen:gr,onClose:hs,size:"6xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:e.jsxs(Te,{children:[e.jsxs(Z,{children:["Rsultats: ",et?.scenarioName]}),e.jsx(Xt,{colorScheme:et?.summary?.isPositive?"green":"red",children:et?.summary?.isPositive?"Positif":"Dficitaire"})]})}),e.jsx(fr,{}),e.jsx(Vn,{children:et&&e.jsxs(Be,{spacing:6,children:[e.jsxs(Sn,{columns:4,spacing:4,width:"100%",children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Solde initial"}),e.jsx(Jn,{children:un(et.startingBalance)})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Solde final"}),e.jsx(Jn,{color:et.finalBalance>=0?"green.600":"red.600",children:un(et.finalBalance)})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"volution totale"}),e.jsxs(Jn,{color:et.totalChange>=0?"green.600":"red.600",children:[e.jsx(qm,{type:et.totalChange>=0?"increase":"decrease"}),un(Math.abs(et.totalChange))]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Rsultat/mois"}),e.jsx(Jn,{color:et.monthlyNet>=0?"green.600":"red.600",children:un(et.monthlyNet)})]})})})]}),e.jsxs(St,{width:"100%",children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"volution mensuelle"})}),e.jsxs(bt,{children:[e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Mois"}),e.jsx(At,{children:"Solde dbut"}),e.jsx(At,{isNumeric:!0,children:"Recettes"}),e.jsx(At,{isNumeric:!0,children:"Dpenses"}),e.jsx(At,{isNumeric:!0,children:"Rsultat"}),e.jsx(At,{isNumeric:!0,children:"Solde fin"})]})}),e.jsx(Rs,{children:et.projection.slice(0,12).map(ue=>e.jsxs(Rn,{children:[e.jsxs(lt,{children:["Mois ",ue.month]}),e.jsx(lt,{children:un(ue.startBalance)}),e.jsxs(lt,{isNumeric:!0,color:"green.600",children:["+",un(ue.income)]}),e.jsxs(lt,{isNumeric:!0,color:"red.600",children:["-",un(ue.expenses)]}),e.jsxs(lt,{isNumeric:!0,color:ue.net>=0?"green.600":"red.600",children:[ue.net>=0?"+":"",un(ue.net)]}),e.jsx(lt,{isNumeric:!0,fontWeight:"bold",color:ue.endBalance>=0?"green.600":"red.600",children:un(ue.endBalance)})]},ue.month))})]})}),et.projection.length>12&&e.jsxs(Z,{fontSize:"sm",color:"gray.500",mt:2,textAlign:"center",children:["... et ",et.projection.length-12," mois supplmentaires"]})]})]}),et.summary.breakEvenMonth&&e.jsxs(ir,{status:"warning",width:"100%",children:[e.jsx(or,{}),e.jsxs(Z,{children:["Attention: Le solde devient ngatif au mois ",et.summary.breakEvenMonth]})]})]})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:hs,children:"Fermer"})})]})]}),e.jsxs(Hn,{isOpen:$i,onClose:xn,size:"6xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsx($n,{children:e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{children:" Aperu du document"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",fontWeight:"normal",children:Us?.templateName})]})}),e.jsx(fr,{}),e.jsx(Vn,{children:Us&&Yn&&e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(ir,{status:"info",borderRadius:"md",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Aperu du rendu final"}),e.jsxs(Z,{fontSize:"sm",children:["Les variables ","{{PLACEHOLDERS}}"," ont t remplaces avec vos donnes. Vous pouvez imprimer ou exporter en PDF."]})]})]}),e.jsx(Re,{borderWidth:"1px",borderRadius:"md",bg:"white",boxShadow:"sm",children:e.jsx(Ase,{template:Yn,data:Us.data})})]})}),e.jsx(pr,{children:e.jsxs(Te,{spacing:2,children:[e.jsx(Ie,{variant:"ghost",onClick:xn,children:"Fermer"}),e.jsx(Ie,{colorScheme:"orange",leftIcon:e.jsx(vc,{}),onClick:()=>{window.print()},children:" Imprimer / Exporter en PDF"})]})})]})]})]})})},fse=t=>{const n=[];return t.type||n.push("Type de transaction requis (CREDIT ou DEBIT)"),(!t.amount||t.amount<=0)&&n.push("Montant doit tre > 0"),(!t.description||t.description.trim()==="")&&n.push("Description requise"),t.date||n.push("Date requise"),t.type==="CREDIT"&&t.category===void 0&&n.push("Catgorie requise pour credit"),{isValid:n.length===0,errors:n}},pse=t=>{const n=[];return t.type||n.push("Type de document requis (QUOTE ou INVOICE)"),(!t.number||t.number.trim()==="")&&n.push("Numro de document requis"),(!t.amount||t.amount<=0)&&n.push("Montant doit tre > 0"),t.date||n.push("Date requise"),{isValid:n.length===0,errors:n}},mse={ADHESION:"Adhsion",DONATION:"Donation",TRANSPORT:"Transport",MAINTENANCE:"Maintenance",FOURNITURES:"Fournitures",COTISATION:"Cotisation",FRAIS_EVENEMENT:"Frais vnement",ASSURANCE:"Assurance",AUTRE:"Autre"},gse=(t=[],n=[])=>{const r=t.filter(v=>v.type==="CREDIT").reduce((v,g)=>v+(parseFloat(g.amount)||0),0),s=t.filter(v=>v.type==="DEBIT").reduce((v,g)=>v+(parseFloat(g.amount)||0),0),i=new Date,l=i.getMonth(),d=i.getFullYear(),f=t.filter(v=>{const g=new Date(v.date);return g.getMonth()===l&&g.getFullYear()===d}),u=f.filter(v=>v.type==="CREDIT").reduce((v,g)=>v+(parseFloat(g.amount)||0),0),h=f.filter(v=>v.type==="DEBIT").reduce((v,g)=>v+(parseFloat(g.amount)||0),0),a=u-h,m=(n||[]).filter(v=>{const g=new Date(v.nextDate||v.date);return g.getMonth()===l&&g.getFullYear()===d}).reduce((v,g)=>{const x=g.type==="SCHEDULED_CREDIT"?parseFloat(g.amount)||0:-(parseFloat(g.amount)||0);return v+x},0);return{totalCredits:parseFloat(r.toFixed(2)),totalDebits:parseFloat(s.toFixed(2)),monthlyBalance:parseFloat(a.toFixed(2)),scheduledMonthlyImpact:parseFloat(m.toFixed(2)),scheduledCount:n?.length||0}},vse=(t,n=0)=>{const r=parseFloat(t)||0;return{taxAmount:0,totalAmount:parseFloat(r.toFixed(2))}},HT=t=>["ADMIN","PRESIDENT","TRESORIER"].includes(t),VT=t=>["ADMIN","PRESIDENT","TRESORIER"].includes(t),xse=(t=[],n)=>{const r=[];if(t.length===0)return{isValid:!0,errors:r};const s=t.reduce((i,l)=>i+(parseFloat(l.allocatedAmount)||0),0);return Math.abs(s-n)>.01&&r.push(`Total alloue (${s.toFixed(2)}EUR) doit egaler le montant (${n.toFixed(2)}EUR)`),t.forEach((i,l)=>{i.categoryId||r.push(`Allocation ${l+1}: Categorie requise`),(!i.allocatedAmount||parseFloat(i.allocatedAmount)<=0)&&r.push(`Allocation ${l+1}: Montant doit etre > 0`)}),{isValid:r.length===0,errors:r}},na="http://localhost:3001",Zp=(t=null)=>{const n=Hr(),[r,s]=T.useState(!1),[i,l]=T.useState(()=>{try{const ce=t||(()=>{const ve=localStorage.getItem("user");return ve?JSON.parse(ve):null})();if(ce&&typeof getPrimaryRole=="function")return getPrimaryRole(ce);if(ce?.roles&&Array.isArray(ce.roles)&&ce.roles.length>0)return ce.roles[0];if(ce?.role)return ce.role}catch(ce){console.warn("Erreur lecture userRole:",ce.message)}return"MEMBER"}),[d,f]=T.useState([]),[u,h]=T.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),[a,m]=T.useState([]),[v,g]=T.useState(null),[x,w]=T.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:""}),[b,S]=T.useState([]),[C,B]=T.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[F,N]=T.useState([]),[Q,z]=T.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),[k,K]=T.useState({scenarios:[],activeScenario:null,projectionMonths:12}),se=new Date().getFullYear(),[V,q]=T.useState(se),[le,ae]=T.useState(null),[ie,J]=T.useState(0),[G,W]=T.useState(!0),[pe,oe]=T.useState({totalCredits:0,totalDebits:0,monthlyBalance:0,scheduledMonthlyImpact:0,scheduledCount:0}),he=T.useCallback(async()=>{try{s(!0);const ce=localStorage.getItem("token");try{const ve=await fetch(`${na}/api/finance/transactions`,{headers:{Authorization:`Bearer ${ce}`}});if(ve.ok){const Ge=await ve.json();if(f(Ge.transactions||[]),Ge.transactions&&Ge.transactions.length>0){const vt=gse(Ge.transactions,[]);oe(vt)}}}catch(ve){console.warn(" Erreur chargement transactions:",ve.message)}try{const ve=await fetch(`${na}/api/finance/documents`,{headers:{Authorization:`Bearer ${ce}`}});if(ve.ok){const Ge=await ve.json(),_t=(Array.isArray(Ge)?Ge:Ge.documents||[]).map(Je=>({...Je,status:Je.type==="QUOTE"?Je.quoteStatus:Je.invoiceStatus}));m(_t)}}catch(ve){console.warn(" Erreur chargement documents:",ve.message)}try{const ve=await fetch(`${na}/api/finance/scheduled-operations`,{headers:{Authorization:`Bearer ${ce}`}});if(ve.ok){const Ge=await ve.json();S(Ge.operations||[])}}catch(ve){console.warn(" Erreur chargement oprations programmes:",ve.message)}try{const ve=await fetch(`${na}/api/finance/expense-reports`,{headers:{Authorization:`Bearer ${ce}`}});if(ve.ok){const Ge=await ve.json();N(Ge.reports||[])}}catch(ve){console.warn(" Erreur chargement notes de frais:",ve.message)}try{const ve=await fetch(`${na}/api/finance/balance`,{headers:{Authorization:`Bearer ${ce}`}});if(ve.ok){const Ge=await ve.json();J(Ge.balance||0)}}catch(ve){console.warn(" Erreur chargement solde:",ve.message)}}catch(ce){console.error(" Erreur chargement donnes finance:",ce),n({title:"Erreur",description:"Impossible de charger les donnes financires",status:"error",duration:5e3})}finally{s(!1)}},[n]),$=T.useCallback(async(ce,ve=[])=>{try{const Ge=fse(ce);if(!Ge.isValid)return n({title:"Erreur de validation",description:Ge.errors.join(", "),status:"warning",duration:5e3}),null;if(ve.length>0){const Je=xse(ve,parseFloat(ce.amount));if(!Je.isValid)return n({title:"Erreur allocation",description:Je.errors.join(", "),status:"warning",duration:5e3}),null}s(!0);const vt=await fetch(`${na}/api/finance/transactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...ce,amount:parseFloat(ce.amount)})});if(!vt.ok)throw new Error("Erreur creation transaction");const _t=await vt.json();if(ve.length>0)try{await fetch(`${na}/api/finance/transactions/${_t.id}/allocations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({allocations:ve})})}catch(Je){console.warn("Erreur sauvegarde allocations:",Je)}return f([...d,_t]),n({title:"Succes",description:ve.length>0?`Transaction creee avec ${ve.length} allocation(s)`:"Transaction creee",status:"success"}),await he(),_t}catch(Ge){return n({title:"Erreur",description:Ge.message,status:"error"}),null}finally{s(!1)}},[d,n]),M=T.useCallback(async ce=>{try{if(!(await fetch(`${na}/api/finance/transactions/${ce}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur suppression");f(d.filter(Ge=>Ge.id!==ce)),n({title:"Succs",description:"Transaction supprime",status:"success"}),await he()}catch(ve){n({title:"Erreur",description:ve.message,status:"error"})}},[d,n]),ee=T.useCallback(async ce=>{try{const ve=pse(ce);if(!ve.isValid)return n({title:"Erreur de validation",description:ve.errors.join(", "),status:"warning",duration:5e3}),null;let Ge={...ce};if(ce.amountExcludingTax){const{taxAmount:We,totalAmount:yt}=vse(ce.amountExcludingTax,ce.taxRate);Ge={...Ge,taxAmount:We,amount:yt}}s(!0);let vt;const _t=Ge;if(console.log(" Envoi au backend avec payload:",{..._t,documentUrl:_t.documentUrl?" PDF base64 (tronqu)":" Pas de PDF"}),ce.id?vt=await fetch(`${na}/api/finance/documents/${ce.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(_t)}):vt=await fetch(`${na}/api/finance/documents`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(_t)}),!vt.ok)throw new Error("Erreur creation document");const Je=await vt.json();return console.log(" addDocument retournant:",Je),n({title:"Succes",description:"Document cree",status:"success"}),await he(),{...Je,id:Je.id||Je?.document?.id||Je?.data?.id}}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),null}finally{s(!1)}},[n]),re=T.useCallback(async ce=>{try{if(!(await fetch(`${na}/api/finance/documents/${ce}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur suppression");m(a.filter(Ge=>Ge.id!==ce)),n({title:"Succs",description:"Document supprim",status:"success"}),await he()}catch(ve){n({title:"Erreur",description:ve.message,status:"error"})}},[a,n]);T.useEffect(()=>{he()},[]);const me=T.useCallback(async(ce,ve="")=>{if(!HT(i))return n({title:"Permission refusee",description:"Vous n'avez pas le droit de modifier le solde",status:"error"}),!1;try{if(s(!0),!(await fetch(`${na}/api/finance/balance`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({balance:parseFloat(ce),reason:ve||"Modification manuelle"})})).ok)throw new Error("Erreur mise a jour solde");return J(parseFloat(ce)),n({title:"Succes",description:"Solde mis a jour",status:"success"}),await he(),!0}catch(Ge){return n({title:"Erreur",description:Ge.message,status:"error"}),!1}finally{s(!1)}},[i,n]),De=T.useCallback(async ce=>{try{s(!0);const ve=await fetch(`${na}/api/finance/scheduled-operations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:ce.type||"SCHEDULED_PAYMENT",amount:parseFloat(ce.amount),description:String(ce.description),frequency:ce.frequency||"MONTHLY",nextDate:ce.nextDate?new Date(ce.nextDate):new Date,totalAmount:parseFloat(ce.totalAmount)||parseFloat(ce.amount)})});if(!ve.ok)throw new Error("Erreur cration opration programme");const Ge=await ve.json();return S([...b,Ge]),n({title:"Succs",description:"Opration programme cre",status:"success"}),Ge}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),null}finally{s(!1)}},[b,n]),Ue=T.useCallback(async ce=>{if(!window.confirm("Confirmer la suppression ?"))return!1;try{if(s(!0),!(await fetch(`${na}/api/finance/scheduled-operations/${ce}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur suppression");return S(b.filter(Ge=>Ge.id!==ce)),n({title:"Succs",description:"Opration programme supprime",status:"success"}),!0}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),!1}finally{s(!1)}},[b,n]),Ne=T.useCallback(async ce=>{if(!VT(i))return n({title:"Permission refusee",description:"Vous n'avez pas le droit d'approuver",status:"error"}),!1;try{if(s(!0),!(await fetch(`${na}/api/finance/scheduled-operations/${ce}/approve`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur approbation");return S(b.map(Ge=>Ge.id===ce?{...Ge,status:"APPROVED"}:Ge)),n({title:"Succes",description:"Operation approuvee",status:"success"}),await he(),!0}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),!1}finally{s(!1)}},[i,b,n,he]),Ke=T.useCallback(async(ce,ve)=>{try{const Ge=await fetch(`${na}/api/finance/documents/${ce}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:ve})});if(!Ge.ok)throw new Error("Erreur mise  jour statut");const vt=await Ge.json();let _t="Statut mis  jour";return vt.transactionCreated?_t=` Statut mis  jour + Transaction cre (${vt.transactionAmount})`:vt.transactionError&&(_t=` Statut mis  jour, mais erreur transaction: ${vt.transactionError}`),n({title:"Succs",description:_t,status:vt.transactionError?"warning":"success"}),await he(),vt}catch(Ge){return n({title:"Erreur",description:Ge.message,status:"error"}),null}},[n]),rt=T.useCallback(async ce=>{try{s(!0);const ve=await fetch(`${na}/api/finance/expense-reports`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ce)});if(!ve.ok)throw new Error("Erreur cration");const Ge=await ve.json();return N([...F,Ge]),n({title:"Succs",description:"Note de frais cre",status:"success"}),Ge}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),null}finally{s(!1)}},[F,n]),et=T.useCallback(async(ce,ve)=>{try{s(!0);const Ge=await fetch(`${na}/api/finance/expense-reports/${ce}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ve)});if(!Ge.ok)throw new Error("Erreur mise  jour");const vt=await Ge.json();return N(F.map(_t=>_t.id===ce?vt:_t)),n({title:"Succs",description:"Note de frais mise  jour",status:"success"}),vt}catch(Ge){return n({title:"Erreur",description:Ge.message,status:"error"}),null}finally{s(!1)}},[F,n]),wt=T.useCallback(async ce=>{try{if(s(!0),!(await fetch(`${na}/api/finance/expense-reports/${ce}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur suppression");N(F.filter(Ge=>Ge.id!==ce)),n({title:"Succs",description:"Note de frais supprime",status:"success"})}catch(ve){n({title:"Erreur",description:ve.message,status:"error"})}finally{s(!1)}},[F,n]),nt=T.useCallback(async ce=>{try{s(!0);const ve=await fetch(`${na}/api/finance/simulations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ce)});if(!ve.ok)throw new Error("Erreur cration simulation");const Ge=await ve.json();return K({...k,scenarios:[...k.scenarios,Ge]}),n({title:"Succs",description:"Scnario de simulation cr",status:"success"}),Ge}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),null}finally{s(!1)}},[k,n]),Ee=T.useCallback(async ce=>{try{s(!0);const ve=await fetch(`${na}/api/finance/simulations/${ce}/run`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ve.ok)throw new Error("Erreur simulation");const Ge=await ve.json();return K({...k,activeScenario:ce}),Ge}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),null}finally{s(!1)}},[k,n]),at=T.useCallback(async ce=>{try{if(s(!0),!(await fetch(`${na}/api/finance/simulations/${ce}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur suppression");K({...k,scenarios:k.scenarios.filter(Ge=>Ge.id!==ce)}),n({title:"Succs",description:"Scnario supprim",status:"success"})}catch(ve){n({title:"Erreur",description:ve.message,status:"error"})}finally{s(!1)}},[k,n]),Gt=T.useCallback(async ce=>{try{s(!0);const ve=await fetch(`${na}/api/finance/reports?year=${ce}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ve.ok)throw new Error("Erreur chargement rapports");const Ge=await ve.json();return ae(Ge),Ge}catch(ve){return n({title:"Erreur",description:ve.message,status:"error"}),null}finally{s(!1)}},[n]),Oe=T.useCallback(async ce=>{try{s(!0);const ve=await fetch(`${na}/api/finance/reports/${ce}/export`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ve.ok)throw new Error("Erreur export");const Ge=await ve.blob(),vt=window.URL.createObjectURL(Ge),_t=document.createElement("a");_t.href=vt,_t.download=`rapport-finance-${ce}.pdf`,_t.click(),n({title:"Succs",description:"Rapport tlcharg",status:"success"})}catch(ve){n({title:"Erreur",description:ve.message,status:"error"})}finally{s(!1)}},[n]);return{loading:r,loadFinanceData:he,transactions:d,setTransactions:f,newTransaction:u,setNewTransaction:h,addTransaction:$,deleteTransaction:M,documents:a,setDocuments:m,editingDocument:v,setEditingDocument:g,docForm:x,setDocForm:w,addDocument:ee,deleteDocument:re,updateDocumentStatus:Ke,scheduledOperations:b,setScheduledOperations:S,newScheduled:C,setNewScheduled:B,addScheduledOperation:De,deleteScheduledOperation:Ue,approveScheduledOperation:Ne,expenseReports:F,setExpenseReports:N,newExpenseReport:Q,setNewExpenseReport:z,createExpenseReport:rt,updateExpenseReport:et,deleteExpenseReport:wt,simulationData:k,setSimulationData:K,createSimulationScenario:nt,runSimulation:Ee,deleteSimulationScenario:at,reportYear:V,setReportYear:q,reportData:le,setReportData:ae,loadReports:Gt,exportReportPdf:Oe,balance:ie,setBalance:J,updateBalance:me,isBalanceLocked:G,setIsBalanceLocked:W,stats:pe,setStats:oe,userRole:i,canModifyBalance:HT(i),canApprovePayments:VT(i)}},yse=()=>{const{balance:t,transactions:n,scheduledOperations:r}=Zp(),s=Os("white","gray.800"),i=Os("gray.200","gray.700"),l=n?.filter(v=>v.type==="CREDIT").reduce((v,g)=>v+(g.amount||0),0)||0,d=n?.filter(v=>v.type==="DEBIT").reduce((v,g)=>v+(g.amount||0),0)||0,f=new Date().getMonth(),u=new Date().getFullYear(),h=n?.filter(v=>{const g=new Date(v.date);return g.getMonth()===f&&g.getFullYear()===u})||[],a=h.filter(v=>v.type==="CREDIT").reduce((v,g)=>v+(g.amount||0),0)-h.filter(v=>v.type==="DEBIT").reduce((v,g)=>v+(g.amount||0),0),m=(r||[]).reduce((v,g)=>v+(g.amount||0),0);return e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",children:"Tableau de Bord Finances"}),e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Vue d'ensemble de votre trsorerie"})]}),e.jsxs(Sn,{columns:{base:2,md:4},spacing:4,children:[e.jsx(St,{bg:s,borderWidth:"1px",borderColor:i,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Solde actuel"}),e.jsxs(Jn,{fontSize:"2xl",color:"blue.500",children:[t.toFixed(2)," "]}),e.jsx(qc,{children:"Trsorerie gnrale"})]})})}),e.jsx(St,{bg:s,borderWidth:"1px",borderColor:i,children:e.jsx(bt,{children:e.jsxs(Te,{spacing:3,mb:2,children:[e.jsx(ws,{as:_P,color:"green.500",boxSize:5}),e.jsx(Re,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Crdits"}),e.jsxs(Jn,{fontSize:"xl",color:"green.500",children:["+",l.toFixed(2)," "]})]})})]})})}),e.jsx(St,{bg:s,borderWidth:"1px",borderColor:i,children:e.jsx(bt,{children:e.jsxs(Te,{spacing:3,mb:2,children:[e.jsx(ws,{as:bre,color:"red.500",boxSize:5}),e.jsx(Re,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Dbits"}),e.jsxs(Jn,{fontSize:"xl",color:"red.500",children:["-",Math.abs(d).toFixed(2)," "]})]})})]})})}),e.jsx(St,{bg:s,borderWidth:"1px",borderColor:i,children:e.jsx(bt,{children:e.jsxs(Te,{spacing:3,mb:2,children:[e.jsx(ws,{as:xc,color:"purple.500",boxSize:5}),e.jsx(Re,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:" programmer"}),e.jsx(Jn,{fontSize:"xl",color:"purple.500",children:r?.length||0})]})})]})})})]}),e.jsxs(St,{bg:s,borderWidth:"1px",borderColor:i,children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Mois actuel"})}),e.jsx(bt,{children:e.jsxs(yc,{templateColumns:"repeat(2, 1fr)",gap:6,children:[e.jsx(Op,{children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Balance mensuelle"}),e.jsxs(Z,{fontSize:"2xl",fontWeight:"bold",color:a>=0?"green.500":"red.500",children:[a>=0?"+":"",a.toFixed(2)," "]})]})}),e.jsx(Op,{children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Impact programm"}),e.jsxs(Z,{fontSize:"2xl",fontWeight:"bold",color:m>=0?"green.500":"red.500",children:[m>=0?"+":"",m.toFixed(2)," "]})]})})]})})]}),e.jsxs(St,{bg:s,borderWidth:"1px",borderColor:i,children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Dernires transactions"})}),e.jsx(bt,{children:e.jsx(Be,{align:"stretch",spacing:3,maxH:"300px",overflowY:"auto",children:(n||[]).slice(0,5).map(v=>e.jsxs(Te,{justify:"space-between",p:2,borderRadius:"md",_hover:{bg:"gray.100"},children:[e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontWeight:"500",children:v.description}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:new Date(v.date).toLocaleDateString()})]}),e.jsxs(Z,{fontWeight:"bold",color:v.type==="CREDIT"?"green.500":"red.500",children:[v.type==="CREDIT"?"+":"-",Math.abs(v.amount).toFixed(2)," "]})]},v.id))})})]})]})},jse=()=>{const{transactions:t,addTransaction:n,deleteTransaction:r,loading:s}=Zp(),[i,l]=T.useState("Tous"),[d,f]=T.useState(""),[u,h]=T.useState(!1),[a,m]=T.useState([]),[v,g]=T.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]});Hr();const{isOpen:x,onOpen:w,onClose:b}=er(),S=["Tous",...Object.keys(mse)],C=(t||[]).filter(N=>{const Q=(N.description||"").toLowerCase().includes(d.toLowerCase()),z=i==="Tous"||N.category===i;return Q&&z}),B=async()=>{h(!0);try{await n(v,a)&&(g({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),m([]),b())}finally{h(!1)}},F=async N=>{window.confirm("Confirmer la suppression ? Cette action est irreversible.")&&await r(N)};return e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",children:"Transactions"}),e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Historique des mouvements financiers"})]}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:w,isLoading:s,children:"Nouvelle transaction"})]}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Te,{spacing:4,children:[e.jsxs(Up,{flex:1,children:[e.jsx(Mp,{pointerEvents:"none",children:e.jsx(ws,{as:w1,color:"gray.300"})}),e.jsx(Xe,{placeholder:"Rechercher une transaction...",value:d,onChange:N=>f(N.target.value)})]}),e.jsx(gn,{w:"200px",value:i,onChange:N=>l(N.target.value),children:S.map(N=>e.jsx("option",{value:N,children:N},N))})]})})}),e.jsx(St,{overflowX:"auto",children:e.jsx(bt,{p:0,children:e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Catgorie"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:C.length>0?C.map(N=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{children:new Date(N.date).toLocaleDateString()}),e.jsx(lt,{fontWeight:"500",children:N.description}),e.jsx(lt,{children:N.category}),e.jsxs(lt,{isNumeric:!0,fontWeight:"600",color:N.type==="CREDIT"?"green.500":"red.500",children:[N.type==="CREDIT"?"+":"-",Math.abs(N.amount).toFixed(2)," "]}),e.jsx(lt,{children:e.jsx(Ie,{size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>F(N.id),children:e.jsx(ws,{as:oi})})})]},N.id)):e.jsx(Rn,{children:e.jsx(lt,{colSpan:5,textAlign:"center",py:8,color:"gray.500",children:"Aucune transaction trouve"})})})]})})}),e.jsxs(Hn,{isOpen:x,onClose:b,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Nouvelle Transaction"}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsxs(gn,{value:v.type,onChange:N=>g({...v,type:N.target.value}),children:[e.jsx("option",{value:"CREDIT",children:"Crdit (Entre)"}),e.jsx("option",{value:"DEBIT",children:"Dbit (Sortie)"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Montant ()"}),e.jsx(Xe,{type:"number",step:"0.01",value:v.amount,onChange:N=>g({...v,amount:parseFloat(N.target.value)})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{value:v.description,onChange:N=>g({...v,description:N.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Catgorie"}),e.jsxs(gn,{value:v.category,onChange:N=>g({...v,category:N.target.value}),children:[e.jsx("option",{value:"ADHESION",children:"Adhsion"}),e.jsx("option",{value:"DONATION",children:"Donation"}),e.jsx("option",{value:"TRANSPORT",children:"Transport"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"FOURNITURES",children:"Fournitures"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date"}),e.jsx(Xe,{type:"date",value:v.date,onChange:N=>g({...v,date:N.target.value})})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:b,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:B,isLoading:u,children:"Crer"})]})]})]})]})},bse=()=>{const{scheduledOperations:t,addScheduledOperation:n,deleteScheduledOperation:r,approveScheduledOperation:s,loading:i}=Zp(),[l,d]=T.useState(!1),[f,u]=T.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),h=Hr(),{isOpen:a,onOpen:m,onClose:v}=er(),g=async()=>{if(!f.amount||!f.description){h({title:"Erreur",description:"Remplissez tous les champs",status:"error"});return}d(!0);try{await n(f)&&(u({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),v())}finally{d(!1)}},x=async S=>{await s(S)},w=async S=>{await r(S)},b=(t||[]).filter(S=>S.status==="PENDING").length;return e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",children:"Oprations planifies"}),e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Gestion des paiements rcurrents et planifis"})]}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:m,isLoading:i,children:"Nouvelle opration"})]}),b>0&&e.jsxs(ir,{status:"warning",borderRadius:"md",children:[e.jsx(or,{}),e.jsx(Re,{children:e.jsxs(Z,{fontWeight:"bold",children:[b," opration",b>1?"s":""," en attente de validation"]})})]}),e.jsx(St,{overflowX:"auto",children:e.jsx(bt,{p:0,children:e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Frquence"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{children:"Prochaine date"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:(t||[]).length>0?t.map(S=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontWeight:"500",children:S.description}),e.jsx(lt,{children:S.frequency}),e.jsxs(lt,{isNumeric:!0,fontWeight:"600",children:[parseFloat(S.amount).toFixed(2)," "]}),e.jsx(lt,{children:new Date(S.nextDate).toLocaleDateString()}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:S.status==="APPROVED"?"green":S.status==="PENDING"?"yellow":"gray",children:S.status==="APPROVED"?"Approuve":S.status==="PENDING"?"En attente":"Rejete"})}),e.jsxs(lt,{children:[S.status==="PENDING"&&e.jsxs(Te,{spacing:2,children:[e.jsx(Ie,{size:"sm",variant:"ghost",colorScheme:"green",onClick:()=>x(S.id),leftIcon:e.jsx(Ig,{}),isLoading:i,children:"Valider"}),e.jsx(Ie,{size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>w(S.id),leftIcon:e.jsx(Hp,{}),isLoading:i,children:"Rejeter"})]}),S.status==="APPROVED"&&e.jsx(Ie,{size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>w(S.id),leftIcon:e.jsx(oi,{}),isLoading:i,children:"Supprimer"})]})]},S.id)):e.jsx(Rn,{children:e.jsx(lt,{colSpan:6,textAlign:"center",py:8,color:"gray.500",children:"Aucune opration programme"})})})]})})}),e.jsxs(Hn,{isOpen:a,onClose:v,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Nouvelle Opration Programme"}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsxs(gn,{value:f.type,onChange:S=>u({...f,type:S.target.value}),children:[e.jsx("option",{value:"SCHEDULED_PAYMENT",children:"Paiement programm"}),e.jsx("option",{value:"RECURRING",children:"Opration rcurrente"}),e.jsx("option",{value:"INVOICE",children:"Facture programme"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(Xe,{value:f.description,onChange:S=>u({...f,description:S.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Montant ()"}),e.jsx(Xe,{type:"number",step:"0.01",value:f.amount,onChange:S=>u({...f,amount:S.target.value})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Frquence"}),e.jsxs(gn,{value:f.frequency,onChange:S=>u({...f,frequency:S.target.value}),children:[e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel"}),e.jsx("option",{value:"ANNUAL",children:"Annuel"}),e.jsx("option",{value:"ONCE",children:"Une seule fois"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prochaine date"}),e.jsx(Xe,{type:"date",value:f.nextDate,onChange:S=>u({...f,nextDate:S.target.value})})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:v,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:g,isLoading:l,children:"Crer"})]})]})]})]})};var vw={exports:{}};const wse="modulepreload",Sse=function(t){return"/"+t},$T={},xw=function(n,r,s){let i=Promise.resolve();if(r&&r.length>0){let u=function(h){return Promise.all(h.map(a=>Promise.resolve(a).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=u(r.map(h=>{if(h=Sse(h),h in $T)return;$T[h]=!0;const a=h.endsWith(".css"),m=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=a?"stylesheet":wse,a||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),a)return new Promise((g,x)=>{v.addEventListener("load",g),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&l(f.reason);return n().catch(l)})};var NA=Uint8Array,yu=Uint16Array,SB=Int32Array,CB=new NA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),BB=new NA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),GT=new NA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YP=function(t,n){for(var r=new yu(31),s=0;s<31;++s)r[s]=n+=1<<t[s-1];for(var i=new SB(r[30]),s=1;s<30;++s)for(var l=r[s];l<r[s+1];++l)i[l]=l-r[s]<<5|s;return{b:r,r:i}},XP=YP(CB,2),Cse=XP.b,pS=XP.r;Cse[28]=258,pS[258]=28;var Bse=YP(BB,0),KT=Bse.r,mS=new yu(32768);for(var Mo=0;Mo<32768;++Mo){var tf=(Mo&43690)>>1|(Mo&21845)<<1;tf=(tf&52428)>>2|(tf&13107)<<2,tf=(tf&61680)>>4|(tf&3855)<<4,mS[Mo]=((tf&65280)>>8|(tf&255)<<8)>>1}var Sv=(function(t,n,r){for(var s=t.length,i=0,l=new yu(n);i<s;++i)t[i]&&++l[t[i]-1];var d=new yu(n);for(i=1;i<n;++i)d[i]=d[i-1]+l[i-1]<<1;var f;if(r){f=new yu(1<<n);var u=15-n;for(i=0;i<s;++i)if(t[i])for(var h=i<<4|t[i],a=n-t[i],m=d[t[i]-1]++<<a,v=m|(1<<a)-1;m<=v;++m)f[mS[m]>>u]=h}else for(f=new yu(s),i=0;i<s;++i)t[i]&&(f[i]=mS[d[t[i]-1]++]>>15-t[i]);return f}),$p=new NA(288);for(var Mo=0;Mo<144;++Mo)$p[Mo]=8;for(var Mo=144;Mo<256;++Mo)$p[Mo]=9;for(var Mo=256;Mo<280;++Mo)$p[Mo]=7;for(var Mo=280;Mo<288;++Mo)$p[Mo]=8;var Nj=new NA(32);for(var Mo=0;Mo<32;++Mo)Nj[Mo]=5;var Ese=Sv($p,9,0),Tse=Sv(Nj,5,0),ZP=function(t){return(t+7)/8|0},Ise=function(t,n,r){return(r==null||r>t.length)&&(r=t.length),new NA(t.subarray(n,r))},eh=function(t,n,r){r<<=n&7;var s=n/8|0;t[s]|=r,t[s+1]|=r>>8},$0=function(t,n,r){r<<=n&7;var s=n/8|0;t[s]|=r,t[s+1]|=r>>8,t[s+2]|=r>>16},yw=function(t,n){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s,f:t[s]});var i=r.length,l=r.slice();if(!i)return{t:JP,l:0};if(i==1){var d=new NA(r[0].s+1);return d[r[0].s]=1,{t:d,l:1}}r.sort(function(N,Q){return N.f-Q.f}),r.push({s:-1,f:25001});var f=r[0],u=r[1],h=0,a=1,m=2;for(r[0]={s:-1,f:f.f+u.f,l:f,r:u};a!=i-1;)f=r[r[h].f<r[m].f?h++:m++],u=r[h!=a&&r[h].f<r[m].f?h++:m++],r[a++]={s:-1,f:f.f+u.f,l:f,r:u};for(var v=l[0].s,s=1;s<i;++s)l[s].s>v&&(v=l[s].s);var g=new yu(v+1),x=gS(r[a-1],g,0);if(x>n){var s=0,w=0,b=x-n,S=1<<b;for(l.sort(function(Q,z){return g[z.s]-g[Q.s]||Q.f-z.f});s<i;++s){var C=l[s].s;if(g[C]>n)w+=S-(1<<x-g[C]),g[C]=n;else break}for(w>>=b;w>0;){var B=l[s].s;g[B]<n?w-=1<<n-g[B]++-1:++s}for(;s>=0&&w;--s){var F=l[s].s;g[F]==n&&(--g[F],++w)}x=n}return{t:new NA(g),l:x}},gS=function(t,n,r){return t.s==-1?Math.max(gS(t.l,n,r+1),gS(t.r,n,r+1)):n[t.s]=r},WT=function(t){for(var n=t.length;n&&!t[--n];);for(var r=new yu(++n),s=0,i=t[0],l=1,d=function(u){r[s++]=u},f=1;f<=n;++f)if(t[f]==i&&f!=n)++l;else{if(!i&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(i),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(i);l=1,i=t[f]}return{c:r.subarray(0,s),n}},G0=function(t,n){for(var r=0,s=0;s<n.length;++s)r+=t[s]*n[s];return r},qP=function(t,n,r){var s=r.length,i=ZP(n+2);t[i]=s&255,t[i+1]=s>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var l=0;l<s;++l)t[i+l+4]=r[l];return(i+4+s)*8},YT=function(t,n,r,s,i,l,d,f,u,h,a){eh(n,a++,r),++i[256];for(var m=yw(i,15),v=m.t,g=m.l,x=yw(l,15),w=x.t,b=x.l,S=WT(v),C=S.c,B=S.n,F=WT(w),N=F.c,Q=F.n,z=new yu(19),k=0;k<C.length;++k)++z[C[k]&31];for(var k=0;k<N.length;++k)++z[N[k]&31];for(var K=yw(z,7),se=K.t,V=K.l,q=19;q>4&&!se[GT[q-1]];--q);var le=h+5<<3,ae=G0(i,$p)+G0(l,Nj)+d,ie=G0(i,v)+G0(l,w)+d+14+3*q+G0(z,se)+2*z[16]+3*z[17]+7*z[18];if(u>=0&&le<=ae&&le<=ie)return qP(n,a,t.subarray(u,u+h));var J,G,W,pe;if(eh(n,a,1+(ie<ae)),a+=2,ie<ae){J=Sv(v,g,0),G=v,W=Sv(w,b,0),pe=w;var oe=Sv(se,V,0);eh(n,a,B-257),eh(n,a+5,Q-1),eh(n,a+10,q-4),a+=14;for(var k=0;k<q;++k)eh(n,a+3*k,se[GT[k]]);a+=3*q;for(var he=[C,N],$=0;$<2;++$)for(var M=he[$],k=0;k<M.length;++k){var ee=M[k]&31;eh(n,a,oe[ee]),a+=se[ee],ee>15&&(eh(n,a,M[k]>>5&127),a+=M[k]>>12)}}else J=Ese,G=$p,W=Tse,pe=Nj;for(var k=0;k<f;++k){var re=s[k];if(re>255){var ee=re>>18&31;$0(n,a,J[ee+257]),a+=G[ee+257],ee>7&&(eh(n,a,re>>23&31),a+=CB[ee]);var me=re&31;$0(n,a,W[me]),a+=pe[me],me>3&&($0(n,a,re>>5&8191),a+=BB[me])}else $0(n,a,J[re]),a+=G[re]}return $0(n,a,J[256]),a+G[256]},_se=new SB([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),JP=new NA(0),Fse=function(t,n,r,s,i,l){var d=l.z||t.length,f=new NA(s+d+5*(1+Math.ceil(d/7e3))+i),u=f.subarray(s,f.length-i),h=l.l,a=(l.r||0)&7;if(n){a&&(u[0]=l.r>>3);for(var m=_se[n-1],v=m>>13,g=m&8191,x=(1<<r)-1,w=l.p||new yu(32768),b=l.h||new yu(x+1),S=Math.ceil(r/3),C=2*S,B=function(nt){return(t[nt]^t[nt+1]<<S^t[nt+2]<<C)&x},F=new SB(25e3),N=new yu(288),Q=new yu(32),z=0,k=0,K=l.i||0,se=0,V=l.w||0,q=0;K+2<d;++K){var le=B(K),ae=K&32767,ie=b[le];if(w[ae]=ie,b[le]=ae,V<=K){var J=d-K;if((z>7e3||se>24576)&&(J>423||!h)){a=YT(t,u,0,F,N,Q,k,se,q,K-q,a),se=z=k=0,q=K;for(var G=0;G<286;++G)N[G]=0;for(var G=0;G<30;++G)Q[G]=0}var W=2,pe=0,oe=g,he=ae-ie&32767;if(J>2&&le==B(K-he))for(var $=Math.min(v,J)-1,M=Math.min(32767,K),ee=Math.min(258,J);he<=M&&--oe&&ae!=ie;){if(t[K+W]==t[K+W-he]){for(var re=0;re<ee&&t[K+re]==t[K+re-he];++re);if(re>W){if(W=re,pe=he,re>$)break;for(var me=Math.min(he,re-2),De=0,G=0;G<me;++G){var Ue=K-he+G&32767,Ne=w[Ue],Ke=Ue-Ne&32767;Ke>De&&(De=Ke,ie=Ue)}}}ae=ie,ie=w[ae],he+=ae-ie&32767}if(pe){F[se++]=268435456|pS[W]<<18|KT[pe];var rt=pS[W]&31,et=KT[pe]&31;k+=CB[rt]+BB[et],++N[257+rt],++Q[et],V=K+W,++z}else F[se++]=t[K],++N[t[K]]}}for(K=Math.max(K,V);K<d;++K)F[se++]=t[K],++N[t[K]];a=YT(t,u,h,F,N,Q,k,se,q,K-q,a),h||(l.r=a&7|u[a/8|0]<<3,a-=7,l.h=b,l.p=w,l.i=K,l.w=V)}else{for(var K=l.w||0;K<d+h;K+=65535){var wt=K+65535;wt>=d&&(u[a/8|0]=h,wt=d),a=qP(u,a+1,t.subarray(K,wt))}l.i=d}return Ise(f,0,s+ZP(a)+i)},eR=function(){var t=1,n=0;return{p:function(r){for(var s=t,i=n,l=r.length|0,d=0;d!=l;){for(var f=Math.min(d+2655,l);d<f;++d)i+=s+=r[d];s=(s&65535)+15*(s>>16),i=(i&65535)+15*(i>>16)}t=s,n=i},d:function(){return t%=65521,n%=65521,(t&255)<<24|(t&65280)<<8|(n&255)<<8|n>>8}}},Lse=function(t,n,r,s,i){if(!i&&(i={l:1},n.dictionary)){var l=n.dictionary.subarray(-32768),d=new NA(l.length+t.length);d.set(l),d.set(t,l.length),t=d,i.w=l.length}return Fse(t,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+n.mem,r,s,i)},tR=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},Dse=function(t,n){var r=n.level,s=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=s<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=eR();i.p(n.dictionary),tR(t,2,i.d())}};function vS(t,n){n||(n={});var r=eR();r.p(t);var s=Lse(t,n,n.dictionary?6:2,4);return Dse(s,n),tR(s,s.length-4,r.d()),s}var Pse=typeof TextDecoder<"u"&&new TextDecoder,Rse=0;try{Pse.decode(JP,{stream:!0}),Rse=1}catch{}function Nse(t){if(Array.isArray(t))return t}function Ose(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,i,l,d,f=[],u=!0,h=!1;try{if(l=(r=r.call(t)).next,n!==0)for(;!(u=(s=l.call(r)).done)&&(f.push(s.value),f.length!==n);u=!0);}catch(a){h=!0,i=a}finally{try{if(!u&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(h)throw i}}return f}}function XT(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=Array(n);r<n;r++)s[r]=t[r];return s}function Use(t,n){if(t){if(typeof t=="string")return XT(t,n);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XT(t,n):void 0}}function Mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZT(t,n){return Nse(t)||Ose(t,n)||Use(t,n)||Mse()}function qT(t,n="utf8"){return new TextDecoder(n).decode(t)}const kse=new TextEncoder;function Qse(t){return kse.encode(t)}const zse=1024*8,Hse=(()=>{const t=new Uint8Array(4),n=new Uint32Array(t.buffer);return!((n[0]=1)&t[0])})(),jw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class EB{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=zse,r={}){let s=!1;typeof n=="number"?n=new ArrayBuffer(n):(s=!0,this.lastWrittenByte=n.byteLength);const i=r.offset?r.offset>>>0:0,l=n.byteLength-i;let d=i;(ArrayBuffer.isView(n)||n instanceof EB)&&(n.byteLength!==n.buffer.byteLength&&(d=n.byteOffset+i),n=n.buffer),s?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=n,this.length=l,this.byteLength=l,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,l),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const n=this._marks.pop();if(n===void 0)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){const s=(this.offset+n)*2,i=new Uint8Array(s);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,r){const s=jw[r].BYTES_PER_ELEMENT*n,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+s);if(this.littleEndian===Hse&&r!=="uint8"&&r!=="int8"){const f=new Uint8Array(this.buffer.slice(i,i+s));f.reverse();const u=new jw[r](f.buffer);return this.offset+=s,u.reverse(),u}const d=new jw[r](l);return this.offset+=s,d}readInt16(){const n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){const n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){const n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){const n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){const n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){const n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){const n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){const n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let r="";for(let s=0;s<n;s++)r+=this.readChar();return r}readUtf8(n=1){return qT(this.readBytes(n))}decodeText(n=1,r="utf8"){return qT(this.readBytes(n),r)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let r=0;r<n.length;r++)this._data.setUint8(this.offset++,n[r]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let r=0;r<n.length;r++)this.writeUint8(n.charCodeAt(r));return this}writeUtf8(n){return this.writeBytes(Qse(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kg(t){let n=t.length;for(;--n>=0;)t[n]=0}const Vse=3,$se=258,nR=29,Gse=256,Kse=Gse+1+nR,rR=30,Wse=512,Yse=new Array((Kse+2)*2);kg(Yse);const Xse=new Array(rR*2);kg(Xse);const Zse=new Array(Wse);kg(Zse);const qse=new Array($se-Vse+1);kg(qse);const Jse=new Array(nR);kg(Jse);const eie=new Array(rR);kg(eie);const tie=(t,n,r,s)=>{let i=t&65535|0,l=t>>>16&65535|0,d=0;for(;r!==0;){d=r>2e3?2e3:r,r-=d;do i=i+n[s++]|0,l=l+i|0;while(--d);i%=65521,l%=65521}return i|l<<16|0};var xS=tie;const nie=()=>{let t,n=[];for(var r=0;r<256;r++){t=r;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;n[r]=t}return n},rie=new Uint32Array(nie()),sie=(t,n,r,s)=>{const i=rie,l=s+r;t^=-1;for(let d=s;d<l;d++)t=t>>>8^i[(t^n[d])&255];return t^-1};var ud=sie,yS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iie=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var oie=function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)iie(r,s)&&(t[s]=r[s])}}return t},aie=t=>{let n=0;for(let s=0,i=t.length;s<i;s++)n+=t[s].length;const r=new Uint8Array(n);for(let s=0,i=0,l=t.length;s<l;s++){let d=t[s];r.set(d,i),i+=d.length}return r},iR={assign:oie,flattenChunks:aie};let oR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oR=!1}const Yv=new Uint8Array(256);for(let t=0;t<256;t++)Yv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Yv[254]=Yv[254]=1;var lie=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let n,r,s,i,l,d=t.length,f=0;for(i=0;i<d;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(s=t.charCodeAt(i+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),i++)),f+=r<128?1:r<2048?2:r<65536?3:4;for(n=new Uint8Array(f),l=0,i=0;l<f;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(s=t.charCodeAt(i+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),i++)),r<128?n[l++]=r:r<2048?(n[l++]=192|r>>>6,n[l++]=128|r&63):r<65536?(n[l++]=224|r>>>12,n[l++]=128|r>>>6&63,n[l++]=128|r&63):(n[l++]=240|r>>>18,n[l++]=128|r>>>12&63,n[l++]=128|r>>>6&63,n[l++]=128|r&63);return n};const cie=(t,n)=>{if(n<65534&&t.subarray&&oR)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let r="";for(let s=0;s<n;s++)r+=String.fromCharCode(t[s]);return r};var uie=(t,n)=>{const r=n||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,n));let s,i;const l=new Array(r*2);for(i=0,s=0;s<r;){let d=t[s++];if(d<128){l[i++]=d;continue}let f=Yv[d];if(f>4){l[i++]=65533,s+=f-1;continue}for(d&=f===2?31:f===3?15:7;f>1&&s<r;)d=d<<6|t[s++]&63,f--;if(f>1){l[i++]=65533;continue}d<65536?l[i++]=d:(d-=65536,l[i++]=55296|d>>10&1023,l[i++]=56320|d&1023)}return cie(l,i)},Aie=(t,n)=>{n=n||t.length,n>t.length&&(n=t.length);let r=n-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?n:r+Yv[t[r]]>n?r:n},jS={string2buf:lie,buf2string:uie,utf8border:Aie};function die(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hie=die;const Cy=16209,fie=16191;var pie=function(n,r){let s,i,l,d,f,u,h,a,m,v,g,x,w,b,S,C,B,F,N,Q,z,k,K,se;const V=n.state;s=n.next_in,K=n.input,i=s+(n.avail_in-5),l=n.next_out,se=n.output,d=l-(r-n.avail_out),f=l+(n.avail_out-257),u=V.dmax,h=V.wsize,a=V.whave,m=V.wnext,v=V.window,g=V.hold,x=V.bits,w=V.lencode,b=V.distcode,S=(1<<V.lenbits)-1,C=(1<<V.distbits)-1;e:do{x<15&&(g+=K[s++]<<x,x+=8,g+=K[s++]<<x,x+=8),B=w[g&S];t:for(;;){if(F=B>>>24,g>>>=F,x-=F,F=B>>>16&255,F===0)se[l++]=B&65535;else if(F&16){N=B&65535,F&=15,F&&(x<F&&(g+=K[s++]<<x,x+=8),N+=g&(1<<F)-1,g>>>=F,x-=F),x<15&&(g+=K[s++]<<x,x+=8,g+=K[s++]<<x,x+=8),B=b[g&C];n:for(;;){if(F=B>>>24,g>>>=F,x-=F,F=B>>>16&255,F&16){if(Q=B&65535,F&=15,x<F&&(g+=K[s++]<<x,x+=8,x<F&&(g+=K[s++]<<x,x+=8)),Q+=g&(1<<F)-1,Q>u){n.msg="invalid distance too far back",V.mode=Cy;break e}if(g>>>=F,x-=F,F=l-d,Q>F){if(F=Q-F,F>a&&V.sane){n.msg="invalid distance too far back",V.mode=Cy;break e}if(z=0,k=v,m===0){if(z+=h-F,F<N){N-=F;do se[l++]=v[z++];while(--F);z=l-Q,k=se}}else if(m<F){if(z+=h+m-F,F-=m,F<N){N-=F;do se[l++]=v[z++];while(--F);if(z=0,m<N){F=m,N-=F;do se[l++]=v[z++];while(--F);z=l-Q,k=se}}}else if(z+=m-F,F<N){N-=F;do se[l++]=v[z++];while(--F);z=l-Q,k=se}for(;N>2;)se[l++]=k[z++],se[l++]=k[z++],se[l++]=k[z++],N-=3;N&&(se[l++]=k[z++],N>1&&(se[l++]=k[z++]))}else{z=l-Q;do se[l++]=se[z++],se[l++]=se[z++],se[l++]=se[z++],N-=3;while(N>2);N&&(se[l++]=se[z++],N>1&&(se[l++]=se[z++]))}}else if((F&64)===0){B=b[(B&65535)+(g&(1<<F)-1)];continue n}else{n.msg="invalid distance code",V.mode=Cy;break e}break}}else if((F&64)===0){B=w[(B&65535)+(g&(1<<F)-1)];continue t}else if(F&32){V.mode=fie;break e}else{n.msg="invalid literal/length code",V.mode=Cy;break e}break}}while(s<i&&l<f);N=x>>3,s-=N,x-=N<<3,g&=(1<<x)-1,n.next_in=s,n.next_out=l,n.avail_in=s<i?5+(i-s):5-(s-i),n.avail_out=l<f?257+(f-l):257-(l-f),V.hold=g,V.bits=x};const Pm=15,JT=852,eI=592,tI=0,bw=1,nI=2,mie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yie=(t,n,r,s,i,l,d,f)=>{const u=f.bits;let h=0,a=0,m=0,v=0,g=0,x=0,w=0,b=0,S=0,C=0,B,F,N,Q,z,k=null,K;const se=new Uint16Array(Pm+1),V=new Uint16Array(Pm+1);let q=null,le,ae,ie;for(h=0;h<=Pm;h++)se[h]=0;for(a=0;a<s;a++)se[n[r+a]]++;for(g=u,v=Pm;v>=1&&se[v]===0;v--);if(g>v&&(g=v),v===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,f.bits=1,0;for(m=1;m<v&&se[m]===0;m++);for(g<m&&(g=m),b=1,h=1;h<=Pm;h++)if(b<<=1,b-=se[h],b<0)return-1;if(b>0&&(t===tI||v!==1))return-1;for(V[1]=0,h=1;h<Pm;h++)V[h+1]=V[h]+se[h];for(a=0;a<s;a++)n[r+a]!==0&&(d[V[n[r+a]]++]=a);if(t===tI?(k=q=d,K=20):t===bw?(k=mie,q=gie,K=257):(k=vie,q=xie,K=0),C=0,a=0,h=m,z=l,x=g,w=0,N=-1,S=1<<g,Q=S-1,t===bw&&S>JT||t===nI&&S>eI)return 1;for(;;){le=h-w,d[a]+1<K?(ae=0,ie=d[a]):d[a]>=K?(ae=q[d[a]-K],ie=k[d[a]-K]):(ae=96,ie=0),B=1<<h-w,F=1<<x,m=F;do F-=B,i[z+(C>>w)+F]=le<<24|ae<<16|ie|0;while(F!==0);for(B=1<<h-1;C&B;)B>>=1;if(B!==0?(C&=B-1,C+=B):C=0,a++,--se[h]===0){if(h===v)break;h=n[r+d[a]]}if(h>g&&(C&Q)!==N){for(w===0&&(w=g),z+=m,x=h-w,b=1<<x;x+w<v&&(b-=se[x+w],!(b<=0));)x++,b<<=1;if(S+=1<<x,t===bw&&S>JT||t===nI&&S>eI)return 1;N=C&Q,i[N]=g<<24|x<<16|z-l|0}}return C!==0&&(i[z+C]=h-w<<24|64<<16|0),f.bits=g,0};var Cv=yie;const jie=0,aR=1,lR=2,{Z_FINISH:rI,Z_BLOCK:bie,Z_TREES:By,Z_OK:Gp,Z_STREAM_END:wie,Z_NEED_DICT:Sie,Z_STREAM_ERROR:nA,Z_DATA_ERROR:cR,Z_MEM_ERROR:uR,Z_BUF_ERROR:Cie,Z_DEFLATED:sI}=sR,S1=16180,iI=16181,oI=16182,aI=16183,lI=16184,cI=16185,uI=16186,AI=16187,dI=16188,hI=16189,Oj=16190,th=16191,ww=16192,fI=16193,Sw=16194,pI=16195,mI=16196,gI=16197,vI=16198,Ey=16199,Ty=16200,xI=16201,yI=16202,jI=16203,bI=16204,wI=16205,Cw=16206,SI=16207,CI=16208,ra=16209,AR=16210,dR=16211,Bie=852,Eie=592,Tie=15,Iie=Tie,BI=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function _ie(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qp=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||n.mode<S1||n.mode>dR?1:0},hR=t=>{if(qp(t))return nA;const n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=n.wrap&1),n.mode=S1,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Bie),n.distcode=n.distdyn=new Int32Array(Eie),n.sane=1,n.back=-1,Gp},fR=t=>{if(qp(t))return nA;const n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,hR(t)},pR=(t,n)=>{let r;if(qp(t))return nA;const s=t.state;return n<0?(r=0,n=-n):(r=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?nA:(s.window!==null&&s.wbits!==n&&(s.window=null),s.wrap=r,s.wbits=n,fR(t))},mR=(t,n)=>{if(!t)return nA;const r=new _ie;t.state=r,r.strm=t,r.window=null,r.mode=S1;const s=pR(t,n);return s!==Gp&&(t.state=null),s},Fie=t=>mR(t,Iie);let EI=!0,Bw,Ew;const Lie=t=>{if(EI){Bw=new Int32Array(512),Ew=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(Cv(aR,t.lens,0,288,Bw,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;Cv(lR,t.lens,0,32,Ew,0,t.work,{bits:5}),EI=!1}t.lencode=Bw,t.lenbits=9,t.distcode=Ew,t.distbits=5},gR=(t,n,r,s)=>{let i;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),s>=l.wsize?(l.window.set(n.subarray(r-l.wsize,r),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>s&&(i=s),l.window.set(n.subarray(r-s,r-s+i),l.wnext),s-=i,s?(l.window.set(n.subarray(r-s,r),0),l.wnext=s,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},Die=(t,n)=>{let r,s,i,l,d,f,u,h,a,m,v,g,x,w,b=0,S,C,B,F,N,Q,z,k;const K=new Uint8Array(4);let se,V;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qp(t)||!t.output||!t.input&&t.avail_in!==0)return nA;r=t.state,r.mode===th&&(r.mode=ww),d=t.next_out,i=t.output,u=t.avail_out,l=t.next_in,s=t.input,f=t.avail_in,h=r.hold,a=r.bits,m=f,v=u,k=Gp;e:for(;;)switch(r.mode){case S1:if(r.wrap===0){r.mode=ww;break}for(;a<16;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,K[0]=h&255,K[1]=h>>>8&255,r.check=ud(r.check,K,2,0),h=0,a=0,r.mode=iI;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=ra;break}if((h&15)!==sI){t.msg="unknown compression method",r.mode=ra;break}if(h>>>=4,a-=4,z=(h&15)+8,r.wbits===0&&(r.wbits=z),z>15||z>r.wbits){t.msg="invalid window size",r.mode=ra;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?hI:th,h=0,a=0;break;case iI:for(;a<16;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(r.flags=h,(r.flags&255)!==sI){t.msg="unknown compression method",r.mode=ra;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=ra;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,r.check=ud(r.check,K,2,0)),h=0,a=0,r.mode=oI;case oI:for(;a<32;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,K[2]=h>>>16&255,K[3]=h>>>24&255,r.check=ud(r.check,K,4,0)),h=0,a=0,r.mode=aI;case aI:for(;a<16;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,r.check=ud(r.check,K,2,0)),h=0,a=0,r.mode=lI;case lI:if(r.flags&1024){for(;a<16;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(K[0]=h&255,K[1]=h>>>8&255,r.check=ud(r.check,K,2,0)),h=0,a=0}else r.head&&(r.head.extra=null);r.mode=cI;case cI:if(r.flags&1024&&(g=r.length,g>f&&(g=f),g&&(r.head&&(z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(l,l+g),z)),r.flags&512&&r.wrap&4&&(r.check=ud(r.check,s,g,l)),f-=g,l+=g,r.length-=g),r.length))break e;r.length=0,r.mode=uI;case uI:if(r.flags&2048){if(f===0)break e;g=0;do z=s[l+g++],r.head&&z&&r.length<65536&&(r.head.name+=String.fromCharCode(z));while(z&&g<f);if(r.flags&512&&r.wrap&4&&(r.check=ud(r.check,s,g,l)),f-=g,l+=g,z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=AI;case AI:if(r.flags&4096){if(f===0)break e;g=0;do z=s[l+g++],r.head&&z&&r.length<65536&&(r.head.comment+=String.fromCharCode(z));while(z&&g<f);if(r.flags&512&&r.wrap&4&&(r.check=ud(r.check,s,g,l)),f-=g,l+=g,z)break e}else r.head&&(r.head.comment=null);r.mode=dI;case dI:if(r.flags&512){for(;a<16;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=ra;break}h=0,a=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=th;break;case hI:for(;a<32;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}t.adler=r.check=BI(h),h=0,a=0,r.mode=Oj;case Oj:if(r.havedict===0)return t.next_out=d,t.avail_out=u,t.next_in=l,t.avail_in=f,r.hold=h,r.bits=a,Sie;t.adler=r.check=1,r.mode=th;case th:if(n===bie||n===By)break e;case ww:if(r.last){h>>>=a&7,a-=a&7,r.mode=Cw;break}for(;a<3;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}switch(r.last=h&1,h>>>=1,a-=1,h&3){case 0:r.mode=fI;break;case 1:if(Lie(r),r.mode=Ey,n===By){h>>>=2,a-=2;break e}break;case 2:r.mode=mI;break;case 3:t.msg="invalid block type",r.mode=ra}h>>>=2,a-=2;break;case fI:for(h>>>=a&7,a-=a&7;a<32;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ra;break}if(r.length=h&65535,h=0,a=0,r.mode=Sw,n===By)break e;case Sw:r.mode=pI;case pI:if(g=r.length,g){if(g>f&&(g=f),g>u&&(g=u),g===0)break e;i.set(s.subarray(l,l+g),d),f-=g,l+=g,u-=g,d+=g,r.length-=g;break}r.mode=th;break;case mI:for(;a<14;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(r.nlen=(h&31)+257,h>>>=5,a-=5,r.ndist=(h&31)+1,h>>>=5,a-=5,r.ncode=(h&15)+4,h>>>=4,a-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ra;break}r.have=0,r.mode=gI;case gI:for(;r.have<r.ncode;){for(;a<3;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}r.lens[q[r.have++]]=h&7,h>>>=3,a-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,se={bits:r.lenbits},k=Cv(jie,r.lens,0,19,r.lencode,0,r.work,se),r.lenbits=se.bits,k){t.msg="invalid code lengths set",r.mode=ra;break}r.have=0,r.mode=vI;case vI:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[h&(1<<r.lenbits)-1],S=b>>>24,C=b>>>16&255,B=b&65535,!(S<=a);){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(B<16)h>>>=S,a-=S,r.lens[r.have++]=B;else{if(B===16){for(V=S+2;a<V;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(h>>>=S,a-=S,r.have===0){t.msg="invalid bit length repeat",r.mode=ra;break}z=r.lens[r.have-1],g=3+(h&3),h>>>=2,a-=2}else if(B===17){for(V=S+3;a<V;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}h>>>=S,a-=S,z=0,g=3+(h&7),h>>>=3,a-=3}else{for(V=S+7;a<V;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}h>>>=S,a-=S,z=0,g=11+(h&127),h>>>=7,a-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ra;break}for(;g--;)r.lens[r.have++]=z}}if(r.mode===ra)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=ra;break}if(r.lenbits=9,se={bits:r.lenbits},k=Cv(aR,r.lens,0,r.nlen,r.lencode,0,r.work,se),r.lenbits=se.bits,k){t.msg="invalid literal/lengths set",r.mode=ra;break}if(r.distbits=6,r.distcode=r.distdyn,se={bits:r.distbits},k=Cv(lR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,se),r.distbits=se.bits,k){t.msg="invalid distances set",r.mode=ra;break}if(r.mode=Ey,n===By)break e;case Ey:r.mode=Ty;case Ty:if(f>=6&&u>=258){t.next_out=d,t.avail_out=u,t.next_in=l,t.avail_in=f,r.hold=h,r.bits=a,pie(t,v),d=t.next_out,i=t.output,u=t.avail_out,l=t.next_in,s=t.input,f=t.avail_in,h=r.hold,a=r.bits,r.mode===th&&(r.back=-1);break}for(r.back=0;b=r.lencode[h&(1<<r.lenbits)-1],S=b>>>24,C=b>>>16&255,B=b&65535,!(S<=a);){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(C&&(C&240)===0){for(F=S,N=C,Q=B;b=r.lencode[Q+((h&(1<<F+N)-1)>>F)],S=b>>>24,C=b>>>16&255,B=b&65535,!(F+S<=a);){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}h>>>=F,a-=F,r.back+=F}if(h>>>=S,a-=S,r.back+=S,r.length=B,C===0){r.mode=wI;break}if(C&32){r.back=-1,r.mode=th;break}if(C&64){t.msg="invalid literal/length code",r.mode=ra;break}r.extra=C&15,r.mode=xI;case xI:if(r.extra){for(V=r.extra;a<V;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,a-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=yI;case yI:for(;b=r.distcode[h&(1<<r.distbits)-1],S=b>>>24,C=b>>>16&255,B=b&65535,!(S<=a);){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if((C&240)===0){for(F=S,N=C,Q=B;b=r.distcode[Q+((h&(1<<F+N)-1)>>F)],S=b>>>24,C=b>>>16&255,B=b&65535,!(F+S<=a);){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}h>>>=F,a-=F,r.back+=F}if(h>>>=S,a-=S,r.back+=S,C&64){t.msg="invalid distance code",r.mode=ra;break}r.offset=B,r.extra=C&15,r.mode=jI;case jI:if(r.extra){for(V=r.extra;a<V;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,a-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ra;break}r.mode=bI;case bI:if(u===0)break e;if(g=v-u,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ra;break}g>r.wnext?(g-=r.wnext,x=r.wsize-g):x=r.wnext-g,g>r.length&&(g=r.length),w=r.window}else w=i,x=d-r.offset,g=r.length;g>u&&(g=u),u-=g,r.length-=g;do i[d++]=w[x++];while(--g);r.length===0&&(r.mode=Ty);break;case wI:if(u===0)break e;i[d++]=r.length,u--,r.mode=Ty;break;case Cw:if(r.wrap){for(;a<32;){if(f===0)break e;f--,h|=s[l++]<<a,a+=8}if(v-=u,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?ud(r.check,i,v,d-v):xS(r.check,i,v,d-v)),v=u,r.wrap&4&&(r.flags?h:BI(h))!==r.check){t.msg="incorrect data check",r.mode=ra;break}h=0,a=0}r.mode=SI;case SI:if(r.wrap&&r.flags){for(;a<32;){if(f===0)break e;f--,h+=s[l++]<<a,a+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=ra;break}h=0,a=0}r.mode=CI;case CI:k=wie;break e;case ra:k=cR;break e;case AR:return uR;case dR:default:return nA}return t.next_out=d,t.avail_out=u,t.next_in=l,t.avail_in=f,r.hold=h,r.bits=a,(r.wsize||v!==t.avail_out&&r.mode<ra&&(r.mode<Cw||n!==rI))&&gR(t,t.output,t.next_out,v-t.avail_out),m-=t.avail_in,v-=t.avail_out,t.total_in+=m,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?ud(r.check,i,v,t.next_out-v):xS(r.check,i,v,t.next_out-v)),t.data_type=r.bits+(r.last?64:0)+(r.mode===th?128:0)+(r.mode===Ey||r.mode===Sw?256:0),(m===0&&v===0||n===rI)&&k===Gp&&(k=Cie),k},Pie=t=>{if(qp(t))return nA;let n=t.state;return n.window&&(n.window=null),t.state=null,Gp},Rie=(t,n)=>{if(qp(t))return nA;const r=t.state;return(r.wrap&2)===0?nA:(r.head=n,n.done=!1,Gp)},Nie=(t,n)=>{const r=n.length;let s,i,l;return qp(t)||(s=t.state,s.wrap!==0&&s.mode!==Oj)?nA:s.mode===Oj&&(i=1,i=xS(i,n,r,0),i!==s.check)?cR:(l=gR(t,n,r,r),l?(s.mode=AR,uR):(s.havedict=1,Gp))};var Oie=fR,Uie=pR,Mie=hR,kie=Fie,Qie=mR,zie=Die,Hie=Pie,Vie=Rie,$ie=Nie,Gie="pako inflate (from Nodeca project)",sh={inflateReset:Oie,inflateReset2:Uie,inflateResetKeep:Mie,inflateInit:kie,inflateInit2:Qie,inflate:zie,inflateEnd:Hie,inflateGetHeader:Vie,inflateSetDictionary:$ie,inflateInfo:Gie};function Kie(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Wie=Kie;const vR=Object.prototype.toString,{Z_NO_FLUSH:Yie,Z_FINISH:Xie,Z_OK:Xv,Z_STREAM_END:Tw,Z_NEED_DICT:Iw,Z_STREAM_ERROR:Zie,Z_DATA_ERROR:TI,Z_MEM_ERROR:qie}=sR;function xx(t){this.options=iR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hie,this.strm.avail_out=0;let r=sh.inflateInit2(this.strm,n.windowBits);if(r!==Xv)throw new Error(yS[r]);if(this.header=new Wie,sh.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=jS.string2buf(n.dictionary):vR.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(r=sh.inflateSetDictionary(this.strm,n.dictionary),r!==Xv)))throw new Error(yS[r])}xx.prototype.push=function(t,n){const r=this.strm,s=this.options.chunkSize,i=this.options.dictionary;let l,d,f;if(this.ended)return!1;for(n===~~n?d=n:d=n===!0?Xie:Yie,vR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),l=sh.inflate(r,d),l===Iw&&i&&(l=sh.inflateSetDictionary(r,i),l===Xv?l=sh.inflate(r,d):l===TI&&(l=Iw));r.avail_in>0&&l===Tw&&r.state.wrap>0&&t[r.next_in]!==0;)sh.inflateReset(r),l=sh.inflate(r,d);switch(l){case Zie:case TI:case Iw:case qie:return this.onEnd(l),this.ended=!0,!1}if(f=r.avail_out,r.next_out&&(r.avail_out===0||l===Tw))if(this.options.to==="string"){let u=jS.utf8border(r.output,r.next_out),h=r.next_out-u,a=jS.buf2string(r.output,u);r.next_out=h,r.avail_out=s-h,h&&r.output.set(r.output.subarray(u,u+h),0),this.onData(a)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(l===Xv&&f===0)){if(l===Tw)return l=sh.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};xx.prototype.onData=function(t){this.chunks.push(t)};xx.prototype.onEnd=function(t){t===Xv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=iR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Jie(t,n){const r=new xx(n);if(r.push(t),r.err)throw r.msg||yS[r.err];return r.result}var eoe=xx,toe=Jie,noe={Inflate:eoe,inflate:toe};const{Inflate:roe,inflate:soe}=noe;var II=roe,ioe=soe;const xR=[];for(let t=0;t<256;t++){let n=t;for(let r=0;r<8;r++)n&1?n=3988292384^n>>>1:n=n>>>1;xR[t]=n}const _I=4294967295;function ooe(t,n,r){let s=t;for(let i=0;i<r;i++)s=xR[(s^n[i])&255]^s>>>8;return s}function aoe(t,n){return(ooe(_I,t,n)^_I)>>>0}function FI(t,n,r){const s=t.readUint32(),i=aoe(new Uint8Array(t.buffer,t.byteOffset+t.offset-n-4,n),n);if(i!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${i}`)}function yR(t,n,r){for(let s=0;s<r;s++)n[s]=t[s]}function jR(t,n,r,s){let i=0;for(;i<s;i++)n[i]=t[i];for(;i<r;i++)n[i]=t[i]+n[i-s]&255}function bR(t,n,r,s){let i=0;if(r.length===0)for(;i<s;i++)n[i]=t[i];else for(;i<s;i++)n[i]=t[i]+r[i]&255}function wR(t,n,r,s,i){let l=0;if(r.length===0){for(;l<i;l++)n[l]=t[l];for(;l<s;l++)n[l]=t[l]+(n[l-i]>>1)&255}else{for(;l<i;l++)n[l]=t[l]+(r[l]>>1)&255;for(;l<s;l++)n[l]=t[l]+(n[l-i]+r[l]>>1)&255}}function SR(t,n,r,s,i){let l=0;if(r.length===0){for(;l<i;l++)n[l]=t[l];for(;l<s;l++)n[l]=t[l]+n[l-i]&255}else{for(;l<i;l++)n[l]=t[l]+r[l]&255;for(;l<s;l++)n[l]=t[l]+loe(n[l-i],r[l],r[l-i])&255}}function loe(t,n,r){const s=t+n-r,i=Math.abs(s-t),l=Math.abs(s-n),d=Math.abs(s-r);return i<=l&&i<=d?t:l<=d?n:r}function coe(t,n,r,s,i,l){switch(t){case 0:yR(n,r,i);break;case 1:jR(n,r,i,l);break;case 2:bR(n,r,s,i);break;case 3:wR(n,r,s,i,l);break;case 4:SR(n,r,s,i,l);break;default:throw new Error(`Unsupported filter: ${t}`)}}const uoe=new Uint16Array([255]),Aoe=new Uint8Array(uoe.buffer),doe=Aoe[0]===255;function hoe(t){const{data:n,width:r,height:s,channels:i,depth:l}=t,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],f=Math.ceil(l/8)*i,u=new Uint8Array(s*r*f);let h=0;for(let a=0;a<7;a++){const m=d[a],v=Math.ceil((r-m.x)/m.xStep),g=Math.ceil((s-m.y)/m.yStep);if(v<=0||g<=0)continue;const x=v*f,w=new Uint8Array(x);for(let b=0;b<g;b++){const S=n[h++],C=n.subarray(h,h+x);h+=x;const B=new Uint8Array(x);coe(S,C,B,w,x,f),w.set(B);for(let F=0;F<v;F++){const N=m.x+F*m.xStep,Q=m.y+b*m.yStep;if(!(N>=r||Q>=s))for(let z=0;z<f;z++)u[(Q*r+N)*f+z]=B[F*f+z]}}}if(l===16){const a=new Uint16Array(u.buffer);if(doe)for(let m=0;m<a.length;m++)a[m]=foe(a[m]);return a}else return u}function foe(t){return(t&255)<<8|t>>8&255}const poe=new Uint16Array([255]),moe=new Uint8Array(poe.buffer),goe=moe[0]===255,voe=new Uint8Array(0);function LI(t){const{data:n,width:r,height:s,channels:i,depth:l}=t,d=Math.ceil(l/8)*i,f=Math.ceil(l/8*i*r),u=new Uint8Array(s*f);let h=voe,a=0,m,v;for(let g=0;g<s;g++){switch(m=n.subarray(a+1,a+1+f),v=u.subarray(g*f,(g+1)*f),n[a]){case 0:yR(m,v,f);break;case 1:jR(m,v,f,d);break;case 2:bR(m,v,h,f);break;case 3:wR(m,v,h,f,d);break;case 4:SR(m,v,h,f,d);break;default:throw new Error(`Unsupported filter: ${n[a]}`)}h=v,a+=f+1}if(l===16){const g=new Uint16Array(u.buffer);if(goe)for(let x=0;x<g.length;x++)g[x]=xoe(g[x]);return g}else return u}function xoe(t){return(t&255)<<8|t>>8&255}const cj=Uint8Array.of(137,80,78,71,13,10,26,10);function DI(t){if(!yoe(t.readBytes(cj.length)))throw new Error("wrong PNG signature")}function yoe(t){if(t.length<cj.length)return!1;for(let n=0;n<cj.length;n++)if(t[n]!==cj[n])return!1;return!0}const joe="tEXt",boe=0,CR=new TextDecoder("latin1");function woe(t){if(Coe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Soe=/^[\u0000-\u00FF]*$/;function Coe(t){if(!Soe.test(t))throw new Error("invalid latin1 text")}function Boe(t,n,r){const s=BR(n);t[s]=Eoe(n,r-s.length-1)}function BR(t){for(t.mark();t.readByte()!==boe;);const n=t.offset;t.reset();const r=CR.decode(t.readBytes(n-t.offset-1));return t.skip(1),woe(r),r}function Eoe(t,n){return CR.decode(t.readBytes(n))}const gu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_w={UNKNOWN:-1,DEFLATE:0},PI={UNKNOWN:-1,ADAPTIVE:0},Fw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Iy={NONE:0,BACKGROUND:1,PREVIOUS:2},Lw={SOURCE:0,OVER:1};class Toe extends EB{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,r={}){super(n);const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new II,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_w.UNKNOWN,this._filterMethod=PI.UNKNOWN,this._interlaceMethod=Fw.UNKNOWN,this._colorType=gu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DI(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(DI(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case joe:Boe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?FI(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?FI(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Ioe(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case gu.GREYSCALE:s=1;break;case gu.TRUECOLOUR:s=3;break;case gu.INDEXED_COLOUR:s=1;break;case gu.GREYSCALE_ALPHA:s=2;break;case gu.TRUECOLOUR_ALPHA:s=4;break;case gu.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==_w.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case gu.GREYSCALE:case gu.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case gu.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case gu.UNKNOWN:case gu.GREYSCALE_ALPHA:case gu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=BR(this),s=this.readUint8();if(s!==_w.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:ioe(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=LI({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case Iy.NONE:break;case Iy.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const d=(i*n.width+l)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[d+f]=0}break;case Iy.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(l,d)=>{const f=((l+r.yOffset)*this._png.width+r.xOffset+d)*this._png.channels,u=(l*r.width+d)*this._png.channels;return{index:f,frameIndex:u}};switch(r.blendOp){case Lw.SOURCE:for(let l=0;l<r.height;l++)for(let d=0;d<r.width;d++){const{index:f,frameIndex:u}=i(l,d);for(let h=0;h<this._png.channels;h++)n.data[f+h]=r.data[u+h]}break;case Lw.OVER:for(let l=0;l<r.height;l++)for(let d=0;d<r.width;d++){const{index:f,frameIndex:u}=i(l,d);for(let h=0;h<this._png.channels;h++){const a=r.data[u+this._png.channels-1]/s,m=h%(this._png.channels-1)===0?1:r.data[u+h],v=Math.floor(a*m+(1-a)*n.data[f+h]);n.data[f+h]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==PI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fw.NO_INTERLACE)this._png.data=LI({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fw.ADAM7)this._png.data=hoe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Iy.NONE,blendOp:Lw.SOURCE,data:n}),this._inflator=new II,this._writingDataChunks=!1}}function Ioe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var RI;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(RI||(RI={}));function _oe(t,n){return new Toe(t,n).decode()}var Yr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Dw(){Yr.console&&typeof Yr.console.log=="function"&&Yr.console.log.apply(Yr.console,arguments)}var go={log:Dw,warn:function(t){Yr.console&&(typeof Yr.console.warn=="function"?Yr.console.warn.apply(Yr.console,arguments):Dw.call(null,arguments))},error:function(t){Yr.console&&(typeof Yr.console.error=="function"?Yr.console.error.apply(Yr.console,arguments):Dw(t))}};function Pw(t,n,r){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){Ap(s.response,n,r)},s.onerror=function(){go.error("could not download file")},s.send()}function NI(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function _y(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var Ap=Yr.saveAs||((typeof window>"u"?"undefined":fi(window))!=="object"||window!==Yr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,n,r){var s=Yr.URL||Yr.webkitURL,i=document.createElement("a");n=n||t.name||"download",i.download=n,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?NI(i.href)?Pw(t,n,r):_y(i,i.target="_blank"):_y(i)):(i.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){_y(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,r){if(n=n||t.name||"download",typeof t=="string")if(NI(t))Pw(t,n,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){_y(s)})}else navigator.msSaveOrOpenBlob((function(i,l){return l===void 0?l={autoBom:!1}:fi(l)!=="object"&&(go.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),n)}:function(t,n,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return Pw(t,n,r);var i=t.type==="application/octet-stream",l=/constructor/i.test(Yr.HTMLElement)||Yr.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||i&&l)&&(typeof FileReader>"u"?"undefined":fi(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var a=f.result;a=d?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=a:location=a,s=null},f.readAsDataURL(t)}else{var u=Yr.URL||Yr.webkitURL,h=u.createObjectURL(t);s?s.location=h:location.href=h,s=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ER(t){var n;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],s=0;s<r.length;s++){var i=r[s].re,l=r[s].process,d=i.exec(t);d&&(n=l(d),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return f.length==1&&(f="0"+f),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+f+u+h}}var uj=Yr.atob.bind(Yr),OI=Yr.btoa.bind(Yr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rw(t,n){var r=t[0],s=t[1],i=t[2],l=t[3];r=Ac(r,s,i,l,n[0],7,-680876936),l=Ac(l,r,s,i,n[1],12,-389564586),i=Ac(i,l,r,s,n[2],17,606105819),s=Ac(s,i,l,r,n[3],22,-1044525330),r=Ac(r,s,i,l,n[4],7,-176418897),l=Ac(l,r,s,i,n[5],12,1200080426),i=Ac(i,l,r,s,n[6],17,-1473231341),s=Ac(s,i,l,r,n[7],22,-45705983),r=Ac(r,s,i,l,n[8],7,1770035416),l=Ac(l,r,s,i,n[9],12,-1958414417),i=Ac(i,l,r,s,n[10],17,-42063),s=Ac(s,i,l,r,n[11],22,-1990404162),r=Ac(r,s,i,l,n[12],7,1804603682),l=Ac(l,r,s,i,n[13],12,-40341101),i=Ac(i,l,r,s,n[14],17,-1502002290),r=dc(r,s=Ac(s,i,l,r,n[15],22,1236535329),i,l,n[1],5,-165796510),l=dc(l,r,s,i,n[6],9,-1069501632),i=dc(i,l,r,s,n[11],14,643717713),s=dc(s,i,l,r,n[0],20,-373897302),r=dc(r,s,i,l,n[5],5,-701558691),l=dc(l,r,s,i,n[10],9,38016083),i=dc(i,l,r,s,n[15],14,-660478335),s=dc(s,i,l,r,n[4],20,-405537848),r=dc(r,s,i,l,n[9],5,568446438),l=dc(l,r,s,i,n[14],9,-1019803690),i=dc(i,l,r,s,n[3],14,-187363961),s=dc(s,i,l,r,n[8],20,1163531501),r=dc(r,s,i,l,n[13],5,-1444681467),l=dc(l,r,s,i,n[2],9,-51403784),i=dc(i,l,r,s,n[7],14,1735328473),r=hc(r,s=dc(s,i,l,r,n[12],20,-1926607734),i,l,n[5],4,-378558),l=hc(l,r,s,i,n[8],11,-2022574463),i=hc(i,l,r,s,n[11],16,1839030562),s=hc(s,i,l,r,n[14],23,-35309556),r=hc(r,s,i,l,n[1],4,-1530992060),l=hc(l,r,s,i,n[4],11,1272893353),i=hc(i,l,r,s,n[7],16,-155497632),s=hc(s,i,l,r,n[10],23,-1094730640),r=hc(r,s,i,l,n[13],4,681279174),l=hc(l,r,s,i,n[0],11,-358537222),i=hc(i,l,r,s,n[3],16,-722521979),s=hc(s,i,l,r,n[6],23,76029189),r=hc(r,s,i,l,n[9],4,-640364487),l=hc(l,r,s,i,n[12],11,-421815835),i=hc(i,l,r,s,n[15],16,530742520),r=fc(r,s=hc(s,i,l,r,n[2],23,-995338651),i,l,n[0],6,-198630844),l=fc(l,r,s,i,n[7],10,1126891415),i=fc(i,l,r,s,n[14],15,-1416354905),s=fc(s,i,l,r,n[5],21,-57434055),r=fc(r,s,i,l,n[12],6,1700485571),l=fc(l,r,s,i,n[3],10,-1894986606),i=fc(i,l,r,s,n[10],15,-1051523),s=fc(s,i,l,r,n[1],21,-2054922799),r=fc(r,s,i,l,n[8],6,1873313359),l=fc(l,r,s,i,n[15],10,-30611744),i=fc(i,l,r,s,n[6],15,-1560198380),s=fc(s,i,l,r,n[13],21,1309151649),r=fc(r,s,i,l,n[4],6,-145523070),l=fc(l,r,s,i,n[11],10,-1120210379),i=fc(i,l,r,s,n[2],15,718787259),s=fc(s,i,l,r,n[9],21,-343485551),t[0]=uf(r,t[0]),t[1]=uf(s,t[1]),t[2]=uf(i,t[2]),t[3]=uf(l,t[3])}function C1(t,n,r,s,i,l){return n=uf(uf(n,t),uf(s,l)),uf(n<<i|n>>>32-i,r)}function Ac(t,n,r,s,i,l,d){return C1(n&r|~n&s,t,n,i,l,d)}function dc(t,n,r,s,i,l,d){return C1(n&s|r&~s,t,n,i,l,d)}function hc(t,n,r,s,i,l,d){return C1(n^r^s,t,n,i,l,d)}function fc(t,n,r,s,i,l,d){return C1(r^(n|~s),t,n,i,l,d)}function TR(t){var n,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)Rw(s,Foe(t.substring(n-64,n)));t=t.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)i[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(Rw(s,i),n=0;n<16;n++)i[n]=0;return i[14]=8*r,Rw(s,i),s}function Foe(t){var n,r=[];for(n=0;n<64;n+=4)r[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return r}var UI="0123456789abcdef".split("");function Loe(t){for(var n="",r=0;r<4;r++)n+=UI[t>>8*r+4&15]+UI[t>>8*r&15];return n}function Doe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function bS(t){return TR(t).map(Doe).join("")}var Poe=(function(t){for(var n=0;n<t.length;n++)t[n]=Loe(t[n]);return t.join("")})(TR("hello"))!="5d41402abc4b2a76b9719d911017c592";function uf(t,n){if(Poe){var r=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(r>>16)<<16|65535&r}return t+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function wS(t,n){var r,s,i,l;if(t!==r){for(var d=(i=t,l=1+(256/t.length|0),new Array(l+1).join(i)),f=[],u=0;u<256;u++)f[u]=u;var h=0;for(u=0;u<256;u++){var a=f[u];h=(h+a+d.charCodeAt(u))%256,f[u]=f[h],f[h]=a}r=t,s=f}else f=s;var m=n.length,v=0,g=0,x="";for(u=0;u<m;u++)g=(g+(a=f[v=(v+1)%256]))%256,f[v]=f[g],f[g]=a,d=f[(f[v]+f[g])%256],x+=String.fromCharCode(n.charCodeAt(u)^d);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MI={print:4,modify:8,copy:16,"annot-forms":32};function Um(t,n,r,s){this.v=1,this.r=2;var i=192;t.forEach(function(f){if(MI.perm!==void 0)throw new Error("Invalid permission: "+f);i+=MI[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(n+this.padding).substr(0,32),d=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^i)),this.encryptionKey=bS(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=wS(this.encryptionKey,this.padding)}function Mm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var n="",r=t.length,s=0;s<r;s++){var i=t.charCodeAt(s);n+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[s]}return n}function kI(t){if(fi(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(r,s,i){if(i=i||!1,typeof r!="string"||typeof s!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(r)||(n[r]={});var l=Math.random().toString(35);return n[r][l]=[s,!!i],l},this.unsubscribe=function(r){for(var s in n)if(n[s][r])return delete n[s][r],Object.keys(n[s]).length===0&&delete n[s],!0;return!1},this.publish=function(r){if(n.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),i=[];for(var l in n[r]){var d=n[r][l];try{d[0].apply(t,s)}catch(f){Yr.console&&go.error("jsPDF PubSub Error",f.message,f)}d[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Zv(t){if(!(this instanceof Zv))return new Zv(t);var n="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&n.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function IR(t,n){this.gState=t,this.matrix=n,this.id="",this.objectNumber=-1}function cf(t,n,r,s,i){if(!(this instanceof cf))return new cf(t,n,r,s,i);this.type=t==="axial"?2:3,this.coords=n,this.colors=r,IR.call(this,s,i)}function vp(t,n,r,s,i){if(!(this instanceof vp))return new vp(t,n,r,s,i);this.boundingBox=t,this.xStep=n,this.yStep=r,this.stream="",this.cloneIndex=0,IR.call(this,s,i)}function vr(t){var n,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],i=arguments[2],l=arguments[3],d=[],f=1,u=16,h="S",a=null;fi(t=t||{})==="object"&&(r=t.orientation,s=t.unit||s,i=t.format||i,l=t.compress||t.compressPdf||l,(a=t.encryption||null)!==null&&(a.userPassword=a.userPassword||"",a.ownerPassword=a.ownerPassword||"",a.userPermissions=a.userPermissions||[]),f=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(n=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),h=t.defaultPathOperation||"S"),d=t.filters||(l===!0?["FlateEncode"]:d),s=s||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=kI;var x="1.3",w=g.__private__.getPdfVersion=function(){return x};g.__private__.setPdfVersion=function(X){x=X};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return b};var S=g.__private__.getPageFormat=function(X){return b[X]};i=i||"a4";var C="compat",B="advanced",F=C;function N(){this.saveGraphicsState(),Ee(new Mn(Ct,0,0,-Ct,0,jc()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),h="n",F=B}function Q(){this.restoreGraphicsState(),h="S",F=C}var z=g.__private__.combineFontStyleAndFontWeight=function(X,xe){if(X=="bold"&&xe=="normal"||X=="bold"&&xe==400||X=="normal"&&xe=="italic"||X=="bold"&&xe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return xe&&(X=xe==400||xe==="normal"?X==="italic"?"italic":"normal":xe!=700&&xe!=="bold"||X!=="normal"?(xe==700?"bold":xe)+""+X:"bold"),X};g.advancedAPI=function(X){var xe=F===C;return xe&&N.call(this),typeof X!="function"||(X(this),xe&&Q.call(this)),this},g.compatAPI=function(X){var xe=F===B;return xe&&Q.call(this),typeof X!="function"||(X(this),xe&&N.call(this)),this},g.isAdvancedAPI=function(){return F===B};var k,K=function(X){if(F!==B)throw new Error(X+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=g.roundToPrecision=g.__private__.roundToPrecision=function(X,xe){var He=n||xe;if(isNaN(X)||isNaN(He))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return X.toFixed(He).replace(/0+$/,"")};k=g.hpf=g.__private__.hpf=typeof u=="number"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return se(X,u)}:u==="smart"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return se(X,X>-1&&X<1?16:5)}:function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return se(X,16)};var V=g.f2=g.__private__.f2=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f2");return se(X,2)},q=g.__private__.f3=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f3");return se(X,3)},le=g.scale=g.__private__.scale=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.scale");return F===C?X*Ct:F===B?X:void 0},ae=function(X){return le((function(xe){return F===C?jc()-xe:F===B?xe:void 0})(X))};g.__private__.setPrecision=g.setPrecision=function(X){typeof parseInt(X,10)=="number"&&(n=parseInt(X,10))};var ie,J="00000000000000000000000000000000",G=g.__private__.getFileId=function(){return J},W=g.__private__.setFileId=function(X){return J=X!==void 0&&/^[a-fA-F0-9]{32}$/.test(X)?X.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),a!==null&&(qr=new Um(a.userPermissions,a.userPassword,a.ownerPassword,J)),J};g.setFileId=function(X){return W(X),this},g.getFileId=function(){return G()};var pe=g.__private__.convertDateToPDFDate=function(X){var xe=X.getTimezoneOffset(),He=xe<0?"+":"-",tt=Math.floor(Math.abs(xe/60)),jt=Math.abs(xe%60),Ht=[He,ee(tt),"'",ee(jt),"'"].join("");return["D:",X.getFullYear(),ee(X.getMonth()+1),ee(X.getDate()),ee(X.getHours()),ee(X.getMinutes()),ee(X.getSeconds()),Ht].join("")},oe=g.__private__.convertPDFDateToDate=function(X){var xe=parseInt(X.substr(2,4),10),He=parseInt(X.substr(6,2),10)-1,tt=parseInt(X.substr(8,2),10),jt=parseInt(X.substr(10,2),10),Ht=parseInt(X.substr(12,2),10),en=parseInt(X.substr(14,2),10);return new Date(xe,He,tt,jt,Ht,en,0)},he=g.__private__.setCreationDate=function(X){var xe;if(X===void 0&&(X=new Date),X instanceof Date)xe=pe(X);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(X))throw new Error("Invalid argument passed to jsPDF.setCreationDate");xe=X}return ie=xe},$=g.__private__.getCreationDate=function(X){var xe=ie;return X==="jsDate"&&(xe=oe(ie)),xe};g.setCreationDate=function(X){return he(X),this},g.getCreationDate=function(X){return $(X)};var M,ee=g.__private__.padd2=function(X){return("0"+parseInt(X)).slice(-2)},re=g.__private__.padd2Hex=function(X){return("00"+(X=X.toString())).substr(X.length)},me=0,De=[],Ue=[],Ne=0,Ke=[],rt=[],et=!1,wt=Ue;g.__private__.setCustomOutputDestination=function(X){et=!0,wt=X};var nt=function(X){et||(wt=X)};g.__private__.resetCustomOutputDestination=function(){et=!1,wt=Ue};var Ee=g.__private__.out=function(X){return X=X.toString(),Ne+=X.length+1,wt.push(X),wt},at=g.__private__.write=function(X){return Ee(arguments.length===1?X.toString():Array.prototype.join.call(arguments," "))},Gt=g.__private__.getArrayBuffer=function(X){for(var xe=X.length,He=new ArrayBuffer(xe),tt=new Uint8Array(He);xe--;)tt[xe]=X.charCodeAt(xe);return He},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Oe};var ce=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(X){return ce=F===B?X/Ct:X,this};var ve,Ge=g.__private__.getFontSize=g.getFontSize=function(){return F===C?ce:ce*Ct},vt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(X){return vt=X,this},g.__private__.getR2L=g.getR2L=function(){return vt};var _t,Je=g.__private__.setZoomMode=function(X){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(X))ve=X;else if(isNaN(X)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(X)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+X+'" is not recognized.');ve=X}else ve=parseInt(X,10)};g.__private__.getZoomMode=function(){return ve};var We,yt=g.__private__.setPageMode=function(X){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(X)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+X+'" is not recognized.');_t=X};g.__private__.getPageMode=function(){return _t};var zt=g.__private__.setLayoutMode=function(X){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(X)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+X+'" is not recognized.');We=X};g.__private__.getLayoutMode=function(){return We},g.__private__.setDisplayMode=g.setDisplayMode=function(X,xe,He){return Je(X),zt(xe),yt(He),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(X){if(Object.keys(ut).indexOf(X)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[X]},g.__private__.getDocumentProperties=function(){return ut},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(X){for(var xe in ut)ut.hasOwnProperty(xe)&&X[xe]&&(ut[xe]=X[xe]);return this},g.__private__.setDocumentProperty=function(X,xe){if(Object.keys(ut).indexOf(X)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[X]=xe};var Ft,Ct,Ye,Zt,on,pn={},Tt={},nn=[],xt={},an={},dn={},Nn={},Wn=null,jn=0,rn=[],Dn=new kI(g),Yn=t.hotfixes||[],mr={},os={},Ni=[],Mn=function X(xe,He,tt,jt,Ht,en){if(!(this instanceof X))return new X(xe,He,tt,jt,Ht,en);isNaN(xe)&&(xe=1),isNaN(He)&&(He=0),isNaN(tt)&&(tt=0),isNaN(jt)&&(jt=1),isNaN(Ht)&&(Ht=0),isNaN(en)&&(en=0),this._matrix=[xe,He,tt,jt,Ht,en]};Object.defineProperty(Mn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(Mn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(Mn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(Mn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(Mn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(Mn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(Mn.prototype,"a",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(Mn.prototype,"b",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(Mn.prototype,"c",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(Mn.prototype,"d",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(Mn.prototype,"e",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(Mn.prototype,"f",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(Mn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mn.prototype.join=function(X){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(X)},Mn.prototype.multiply=function(X){var xe=X.sx*this.sx+X.shy*this.shx,He=X.sx*this.shy+X.shy*this.sy,tt=X.shx*this.sx+X.sy*this.shx,jt=X.shx*this.shy+X.sy*this.sy,Ht=X.tx*this.sx+X.ty*this.shx+this.tx,en=X.tx*this.shy+X.ty*this.sy+this.ty;return new Mn(xe,He,tt,jt,Ht,en)},Mn.prototype.decompose=function(){var X=this.sx,xe=this.shy,He=this.shx,tt=this.sy,jt=this.tx,Ht=this.ty,en=Math.sqrt(X*X+xe*xe),In=(X/=en)*He+(xe/=en)*tt;He-=X*In,tt-=xe*In;var nr=Math.sqrt(He*He+tt*tt);return In/=nr,X*(tt/=nr)<xe*(He/=nr)&&(X=-X,xe=-xe,In=-In,en=-en),{scale:new Mn(en,0,0,nr,0,0),translate:new Mn(1,0,0,1,jt,Ht),rotate:new Mn(X,xe,-xe,X,0,0),skew:new Mn(1,0,In,1,0,0)}},Mn.prototype.toString=function(X){return this.join(" ")},Mn.prototype.inversed=function(){var X=this.sx,xe=this.shy,He=this.shx,tt=this.sy,jt=this.tx,Ht=this.ty,en=1/(X*tt-xe*He),In=tt*en,nr=-xe*en,Cr=-He*en,Tr=X*en;return new Mn(In,nr,Cr,Tr,-In*jt-Cr*Ht,-nr*jt-Tr*Ht)},Mn.prototype.applyToPoint=function(X){var xe=X.x*this.sx+X.y*this.shx+this.tx,He=X.x*this.shy+X.y*this.sy+this.ty;return new un(xe,He)},Mn.prototype.applyToRectangle=function(X){var xe=this.applyToPoint(X),He=this.applyToPoint(new un(X.x+X.w,X.y+X.h));return new tr(xe.x,xe.y,He.x-xe.x,He.y-xe.y)},Mn.prototype.clone=function(){var X=this.sx,xe=this.shy,He=this.shx,tt=this.sy,jt=this.tx,Ht=this.ty;return new Mn(X,xe,He,tt,jt,Ht)},g.Matrix=Mn;var xo=g.matrixMult=function(X,xe){return xe.multiply(X)},Us=new Mn(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Us;var Ys=function(X,xe){if(!an[X]){var He=(xe instanceof cf?"Sh":"P")+(Object.keys(xt).length+1).toString(10);xe.id=He,an[X]=He,xt[He]=xe,Dn.publish("addPattern",xe)}};g.ShadingPattern=cf,g.TilingPattern=vp,g.addShadingPattern=function(X,xe){return K("addShadingPattern()"),Ys(X,xe),this},g.beginTilingPattern=function(X){K("beginTilingPattern()"),wr(X.boundingBox[0],X.boundingBox[1],X.boundingBox[2]-X.boundingBox[0],X.boundingBox[3]-X.boundingBox[1],X.matrix)},g.endTilingPattern=function(X,xe){K("endTilingPattern()"),xe.stream=rt[M].join(`
`),Ys(X,xe),Dn.publish("endTilingPattern",xe),Ni.pop().restore()};var $i,On=g.__private__.newObject=function(){var X=xn();return Ti(X,!0),X},xn=g.__private__.newObjectDeferred=function(){return me++,De[me]=function(){return Ne},me},Ti=function(X,xe){return xe=typeof xe=="boolean"&&xe,De[X]=Ne,xe&&Ee(X+" 0 obj"),X},ao=g.__private__.newAdditionalObject=function(){var X={objId:xn(),content:""};return Ke.push(X),X},lo=xn(),Es=xn(),ti=g.__private__.decodeColorString=function(X){var xe=X.split(" ");if(xe.length!==2||xe[1]!=="g"&&xe[1]!=="G")xe.length!==5||xe[4]!=="k"&&xe[4]!=="K"||(xe=[(1-xe[0])*(1-xe[3]),(1-xe[1])*(1-xe[3]),(1-xe[2])*(1-xe[3]),"r"]);else{var He=parseFloat(xe[0]);xe=[He,He,He,"r"]}for(var tt="#",jt=0;jt<3;jt++)tt+=("0"+Math.floor(255*parseFloat(xe[jt])).toString(16)).slice(-2);return tt},ai=g.__private__.encodeColorString=function(X){var xe;typeof X=="string"&&(X={ch1:X});var He=X.ch1,tt=X.ch2,jt=X.ch3,Ht=X.ch4,en=X.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof He=="string"&&He.charAt(0)!=="#"){var In=new ER(He);if(In.ok)He=In.toHex();else if(!/^\d*\.?\d*$/.test(He))throw new Error('Invalid color "'+He+'" passed to jsPDF.encodeColorString.')}if(typeof He=="string"&&/^#[0-9A-Fa-f]{3}$/.test(He)&&(He="#"+He[1]+He[1]+He[2]+He[2]+He[3]+He[3]),typeof He=="string"&&/^#[0-9A-Fa-f]{6}$/.test(He)){var nr=parseInt(He.substr(1),16);He=nr>>16&255,tt=nr>>8&255,jt=255&nr}if(tt===void 0||Ht===void 0&&He===tt&&tt===jt)xe=typeof He=="string"?He+" "+en[0]:X.precision===2?V(He/255)+" "+en[0]:q(He/255)+" "+en[0];else if(Ht===void 0||fi(Ht)==="object"){if(Ht&&!isNaN(Ht.a)&&Ht.a===0)return["1.","1.","1.",en[1]].join(" ");xe=typeof He=="string"?[He,tt,jt,en[1]].join(" "):X.precision===2?[V(He/255),V(tt/255),V(jt/255),en[1]].join(" "):[q(He/255),q(tt/255),q(jt/255),en[1]].join(" ")}else xe=typeof He=="string"?[He,tt,jt,Ht,en[2]].join(" "):X.precision===2?[V(He),V(tt),V(jt),V(Ht),en[2]].join(" "):[q(He),q(tt),q(jt),q(Ht),en[2]].join(" ");return xe},pi=g.__private__.getFilters=function(){return d},Ii=g.__private__.putStream=function(X){var xe=(X=X||{}).data||"",He=X.filters||pi(),tt=X.alreadyAppliedFilters||[],jt=X.addLength1||!1,Ht=xe.length,en=X.objectId,In=function(ci){return ci};if(a!==null&&en===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");a!==null&&(In=qr.encryptor(en,0));var nr={};He===!0&&(He=["FlateEncode"]);var Cr=X.additionalKeyValues||[],Tr=(nr=vr.API.processDataByFilters!==void 0?vr.API.processDataByFilters(xe,He):{data:xe,reverseChain:[]}).reverseChain+(Array.isArray(tt)?tt.join(" "):tt.toString());if(nr.data.length!==0&&(Cr.push({key:"Length",value:nr.data.length}),jt===!0&&Cr.push({key:"Length1",value:Ht})),Tr.length!=0)if(Tr.split("/").length-1==1)Cr.push({key:"Filter",value:Tr});else{Cr.push({key:"Filter",value:"["+Tr+"]"});for(var ts=0;ts<Cr.length;ts+=1)if(Cr[ts].key==="DecodeParms"){for(var gi=[],Qi=0;Qi<nr.reverseChain.split("/").length-1;Qi+=1)gi.push("null");gi.push(Cr[ts].value),Cr[ts].value="["+gi.join(" ")+"]"}}Ee("<<");for(var Cs=0;Cs<Cr.length;Cs++)Ee("/"+Cr[Cs].key+" "+Cr[Cs].value);Ee(">>"),nr.data.length!==0&&(Ee("stream"),Ee(In(nr.data)),Ee("endstream"))},Ms=g.__private__.putPage=function(X){var xe=X.number,He=X.data,tt=X.objId,jt=X.contentsObjId;Ti(tt,!0),Ee("<</Type /Page"),Ee("/Parent "+X.rootDictionaryObjId+" 0 R"),Ee("/Resources "+X.resourceDictionaryObjId+" 0 R"),Ee("/MediaBox ["+parseFloat(k(X.mediaBox.bottomLeftX))+" "+parseFloat(k(X.mediaBox.bottomLeftY))+" "+k(X.mediaBox.topRightX)+" "+k(X.mediaBox.topRightY)+"]"),X.cropBox!==null&&Ee("/CropBox ["+k(X.cropBox.bottomLeftX)+" "+k(X.cropBox.bottomLeftY)+" "+k(X.cropBox.topRightX)+" "+k(X.cropBox.topRightY)+"]"),X.bleedBox!==null&&Ee("/BleedBox ["+k(X.bleedBox.bottomLeftX)+" "+k(X.bleedBox.bottomLeftY)+" "+k(X.bleedBox.topRightX)+" "+k(X.bleedBox.topRightY)+"]"),X.trimBox!==null&&Ee("/TrimBox ["+k(X.trimBox.bottomLeftX)+" "+k(X.trimBox.bottomLeftY)+" "+k(X.trimBox.topRightX)+" "+k(X.trimBox.topRightY)+"]"),X.artBox!==null&&Ee("/ArtBox ["+k(X.artBox.bottomLeftX)+" "+k(X.artBox.bottomLeftY)+" "+k(X.artBox.topRightX)+" "+k(X.artBox.topRightY)+"]"),typeof X.userUnit=="number"&&X.userUnit!==1&&Ee("/UserUnit "+X.userUnit),Dn.publish("putPage",{objId:tt,pageContext:rn[xe],pageNumber:xe,page:He}),Ee("/Contents "+jt+" 0 R"),Ee(">>"),Ee("endobj");var Ht=He.join(`
`);return F===B&&(Ht+=`
Q`),Ti(jt,!0),Ii({data:Ht,filters:pi(),objectId:jt}),Ee("endobj"),tt},Qo=g.__private__.putPages=function(){var X,xe,He=[];for(X=1;X<=jn;X++)rn[X].objId=xn(),rn[X].contentsObjId=xn();for(X=1;X<=jn;X++)He.push(Ms({number:X,data:rt[X],objId:rn[X].objId,contentsObjId:rn[X].contentsObjId,mediaBox:rn[X].mediaBox,cropBox:rn[X].cropBox,bleedBox:rn[X].bleedBox,trimBox:rn[X].trimBox,artBox:rn[X].artBox,userUnit:rn[X].userUnit,rootDictionaryObjId:lo,resourceDictionaryObjId:Es}));Ti(lo,!0),Ee("<</Type /Pages");var tt="/Kids [";for(xe=0;xe<jn;xe++)tt+=He[xe]+" 0 R ";Ee(tt+"]"),Ee("/Count "+jn),Ee(">>"),Ee("endobj"),Dn.publish("postPutPages")},La=function(X){Dn.publish("putFont",{font:X,out:Ee,newObject:On,putStream:Ii}),X.isAlreadyPutted!==!0&&(X.objectNumber=On(),Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+Mm(X.postScriptName)),Ee("/Subtype /Type1"),typeof X.encoding=="string"&&Ee("/Encoding /"+X.encoding),Ee("/FirstChar 32"),Ee("/LastChar 255"),Ee(">>"),Ee("endobj"))},zo=function(X){X.objectNumber=On();var xe=[];xe.push({key:"Type",value:"/XObject"}),xe.push({key:"Subtype",value:"/Form"}),xe.push({key:"BBox",value:"["+[k(X.x),k(X.y),k(X.x+X.width),k(X.y+X.height)].join(" ")+"]"}),xe.push({key:"Matrix",value:"["+X.matrix.toString()+"]"});var He=X.pages[1].join(`
`);Ii({data:He,additionalKeyValues:xe,objectId:X.objectNumber}),Ee("endobj")},Ho=function(X,xe){xe||(xe=21);var He=On(),tt=(function(en,In){var nr,Cr=[],Tr=1/(In-1);for(nr=0;nr<1;nr+=Tr)Cr.push(nr);if(Cr.push(1),en[0].offset!=0){var ts={offset:0,color:en[0].color};en.unshift(ts)}if(en[en.length-1].offset!=1){var gi={offset:1,color:en[en.length-1].color};en.push(gi)}for(var Qi="",Cs=0,ci=0;ci<Cr.length;ci++){for(nr=Cr[ci];nr>en[Cs+1].offset;)Cs++;var zi=en[Cs].offset,So=(nr-zi)/(en[Cs+1].offset-zi),nl=en[Cs].color,Lo=en[Cs+1].color;Qi+=re(Math.round((1-So)*nl[0]+So*Lo[0]).toString(16))+re(Math.round((1-So)*nl[1]+So*Lo[1]).toString(16))+re(Math.round((1-So)*nl[2]+So*Lo[2]).toString(16))}return Qi.trim()})(X.colors,xe),jt=[];jt.push({key:"FunctionType",value:"0"}),jt.push({key:"Domain",value:"[0.0 1.0]"}),jt.push({key:"Size",value:"["+xe+"]"}),jt.push({key:"BitsPerSample",value:"8"}),jt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),jt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ii({data:tt,additionalKeyValues:jt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:He}),Ee("endobj"),X.objectNumber=On(),Ee("<< /ShadingType "+X.type),Ee("/ColorSpace /DeviceRGB");var Ht="/Coords ["+k(parseFloat(X.coords[0]))+" "+k(parseFloat(X.coords[1]))+" ";X.type===2?Ht+=k(parseFloat(X.coords[2]))+" "+k(parseFloat(X.coords[3])):Ht+=k(parseFloat(X.coords[2]))+" "+k(parseFloat(X.coords[3]))+" "+k(parseFloat(X.coords[4]))+" "+k(parseFloat(X.coords[5])),Ee(Ht+="]"),X.matrix&&Ee("/Matrix ["+X.matrix.toString()+"]"),Ee("/Function "+He+" 0 R"),Ee("/Extend [true true]"),Ee(">>"),Ee("endobj")},Il=function(X,xe){var He=xn(),tt=On();xe.push({resourcesOid:He,objectOid:tt}),X.objectNumber=tt;var jt=[];jt.push({key:"Type",value:"/Pattern"}),jt.push({key:"PatternType",value:"1"}),jt.push({key:"PaintType",value:"1"}),jt.push({key:"TilingType",value:"1"}),jt.push({key:"BBox",value:"["+X.boundingBox.map(k).join(" ")+"]"}),jt.push({key:"XStep",value:k(X.xStep)}),jt.push({key:"YStep",value:k(X.yStep)}),jt.push({key:"Resources",value:He+" 0 R"}),X.matrix&&jt.push({key:"Matrix",value:"["+X.matrix.toString()+"]"}),Ii({data:X.stream,additionalKeyValues:jt,objectId:X.objectNumber}),Ee("endobj")},oa=function(X){for(var xe in X.objectNumber=On(),Ee("<<"),X)switch(xe){case"opacity":Ee("/ca "+V(X[xe]));break;case"stroke-opacity":Ee("/CA "+V(X[xe]))}Ee(">>"),Ee("endobj")},fn=function(X){Ti(X.resourcesOid,!0),Ee("<<"),Ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var xe in Ee("/Font <<"),pn)pn.hasOwnProperty(xe)&&(m===!1||m===!0&&v.hasOwnProperty(xe))&&Ee("/"+xe+" "+pn[xe].objectNumber+" 0 R");Ee(">>")})(),(function(){if(Object.keys(xt).length>0){for(var xe in Ee("/Shading <<"),xt)xt.hasOwnProperty(xe)&&xt[xe]instanceof cf&&xt[xe].objectNumber>=0&&Ee("/"+xe+" "+xt[xe].objectNumber+" 0 R");Dn.publish("putShadingPatternDict"),Ee(">>")}})(),(function(xe){if(Object.keys(xt).length>0){for(var He in Ee("/Pattern <<"),xt)xt.hasOwnProperty(He)&&xt[He]instanceof g.TilingPattern&&xt[He].objectNumber>=0&&xt[He].objectNumber<xe&&Ee("/"+He+" "+xt[He].objectNumber+" 0 R");Dn.publish("putTilingPatternDict"),Ee(">>")}})(X.objectOid),(function(){if(Object.keys(dn).length>0){var xe;for(xe in Ee("/ExtGState <<"),dn)dn.hasOwnProperty(xe)&&dn[xe].objectNumber>=0&&Ee("/"+xe+" "+dn[xe].objectNumber+" 0 R");Dn.publish("putGStateDict"),Ee(">>")}})(),(function(){for(var xe in Ee("/XObject <<"),mr)mr.hasOwnProperty(xe)&&mr[xe].objectNumber>=0&&Ee("/"+xe+" "+mr[xe].objectNumber+" 0 R");Dn.publish("putXobjectDict"),Ee(">>")})(),Ee(">>"),Ee("endobj")},Qc=function(X){Tt[X.fontName]=Tt[X.fontName]||{},Tt[X.fontName][X.fontStyle]=X.id},Vo=function(X,xe,He,tt,jt){var Ht={id:"F"+(Object.keys(pn).length+1).toString(10),postScriptName:X,fontName:xe,fontStyle:He,encoding:tt,isStandardFont:jt||!1,metadata:{}};return Dn.publish("addFont",{font:Ht,instance:this}),pn[Ht.id]=Ht,Qc(Ht),Ht.id},Oi=g.__private__.pdfEscape=g.pdfEscape=function(X,xe){return(function(He,tt){var jt,Ht,en,In,nr,Cr,Tr,ts,gi;if(en=(tt=tt||{}).sourceEncoding||"Unicode",nr=tt.outputEncoding,(tt.autoencode||nr)&&pn[Ft].metadata&&pn[Ft].metadata[en]&&pn[Ft].metadata[en].encoding&&(In=pn[Ft].metadata[en].encoding,!nr&&pn[Ft].encoding&&(nr=pn[Ft].encoding),!nr&&In.codePages&&(nr=In.codePages[0]),typeof nr=="string"&&(nr=In[nr]),nr)){for(Tr=!1,Cr=[],jt=0,Ht=He.length;jt<Ht;jt++)(ts=nr[He.charCodeAt(jt)])?Cr.push(String.fromCharCode(ts)):Cr.push(He[jt]),Cr[jt].charCodeAt(0)>>8&&(Tr=!0);He=Cr.join("")}for(jt=He.length;Tr===void 0&&jt!==0;)He.charCodeAt(jt-1)>>8&&(Tr=!0),jt--;if(!Tr)return He;for(Cr=tt.noBOM?[]:[254,255],jt=0,Ht=He.length;jt<Ht;jt++){if((gi=(ts=He.charCodeAt(jt))>>8)>>8)throw new Error("Character at position "+jt+" of string '"+He+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Cr.push(gi),Cr.push(ts-(gi<<8))}return String.fromCharCode.apply(void 0,Cr)})(X,xe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yo=g.__private__.beginPage=function(X){rt[++jn]=[],rn[jn]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(X[0]),topRightY:Number(X[1])}},Da(jn),nt(rt[M])},cl=function(X,xe){var He,tt,jt;switch(r=xe||r,typeof X=="string"&&(He=S(X.toLowerCase()),Array.isArray(He)&&(tt=He[0],jt=He[1])),Array.isArray(X)&&(tt=X[0]*Ct,jt=X[1]*Ct),isNaN(tt)&&(tt=i[0],jt=i[1]),(tt>14400||jt>14400)&&(go.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),tt=Math.min(14400,tt),jt=Math.min(14400,jt)),i=[tt,jt],r.substr(0,1)){case"l":jt>tt&&(i=[jt,tt]);break;case"p":tt>jt&&(i=[jt,tt])}yo(i),hn(Yo),Ee(ca),ot!==0&&Ee(ot+" J"),Nt!==0&&Ee(Nt+" j"),Dn.publish("addPage",{pageNumber:jn})},jo=function(X){X>0&&X<=jn&&(rt.splice(X,1),rn.splice(X,1),jn--,M>jn&&(M=jn),this.setPage(M))},Da=function(X){X>0&&X<=jn&&(M=X)},_l=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return rt.length-1},_o=function(X,xe,He){var tt,jt=void 0;return He=He||{},X=X!==void 0?X:pn[Ft].fontName,xe=xe!==void 0?xe:pn[Ft].fontStyle,tt=X.toLowerCase(),Tt[tt]!==void 0&&Tt[tt][xe]!==void 0?jt=Tt[tt][xe]:Tt[X]!==void 0&&Tt[X][xe]!==void 0?jt=Tt[X][xe]:He.disableWarning===!1&&go.warn("Unable to look up font label for font '"+X+"', '"+xe+"'. Refer to getFontList() for available fonts."),jt||He.noFallback||(jt=Tt.times[xe])==null&&(jt=Tt.times.normal),jt},br=g.__private__.putInfo=function(){var X=On(),xe=function(tt){return tt};for(var He in a!==null&&(xe=qr.encryptor(X,0)),Ee("<<"),Ee("/Producer ("+Oi(xe("jsPDF "+vr.version))+")"),ut)ut.hasOwnProperty(He)&&ut[He]&&Ee("/"+He.substr(0,1).toUpperCase()+He.substr(1)+" ("+Oi(xe(ut[He]))+")");Ee("/CreationDate ("+Oi(xe(ie))+")"),Ee(">>"),Ee("endobj")},Ss=g.__private__.putCatalog=function(X){var xe=(X=X||{}).rootDictionaryObjId||lo;switch(On(),Ee("<<"),Ee("/Type /Catalog"),Ee("/Pages "+xe+" 0 R"),ve||(ve="fullwidth"),ve){case"fullwidth":Ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ee("/OpenAction [3 0 R /Fit]");break;case"original":Ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var He=""+ve;He.substr(He.length-1)==="%"&&(ve=parseInt(ve)/100),typeof ve=="number"&&Ee("/OpenAction [3 0 R /XYZ null null "+V(ve)+"]")}switch(We||(We="continuous"),We){case"continuous":Ee("/PageLayout /OneColumn");break;case"single":Ee("/PageLayout /SinglePage");break;case"two":case"twoleft":Ee("/PageLayout /TwoColumnLeft");break;case"tworight":Ee("/PageLayout /TwoColumnRight")}_t&&Ee("/PageMode /"+_t),Dn.publish("putCatalog"),Ee(">>"),Ee("endobj")},Ui=g.__private__.putTrailer=function(){Ee("trailer"),Ee("<<"),Ee("/Size "+(me+1)),Ee("/Root "+me+" 0 R"),Ee("/Info "+(me-1)+" 0 R"),a!==null&&Ee("/Encrypt "+qr.oid+" 0 R"),Ee("/ID [ <"+J+"> <"+J+"> ]"),Ee(">>")},ks=g.__private__.putHeader=function(){Ee("%PDF-"+x),Ee("%")},$o=g.__private__.putXRef=function(){var X="0000000000";Ee("xref"),Ee("0 "+(me+1)),Ee("0000000000 65535 f ");for(var xe=1;xe<=me;xe++)typeof De[xe]=="function"?Ee((X+De[xe]()).slice(-10)+" 00000 n "):De[xe]!==void 0?Ee((X+De[xe]).slice(-10)+" 00000 n "):Ee("0000000000 00000 n ")},Mi=g.__private__.buildDocument=function(){var X;me=0,Ne=0,Ue=[],De=[],Ke=[],lo=xn(),Es=xn(),nt(Ue),Dn.publish("buildDocument"),ks(),Qo(),(function(){Dn.publish("putAdditionalObjects");for(var He=0;He<Ke.length;He++){var tt=Ke[He];Ti(tt.objId,!0),Ee(tt.content),Ee("endobj")}Dn.publish("postPutAdditionalObjects")})(),X=[],(function(){for(var He in pn)pn.hasOwnProperty(He)&&(m===!1||m===!0&&v.hasOwnProperty(He))&&La(pn[He])})(),(function(){var He;for(He in dn)dn.hasOwnProperty(He)&&oa(dn[He])})(),(function(){for(var He in mr)mr.hasOwnProperty(He)&&zo(mr[He])})(),(function(He){var tt;for(tt in xt)xt.hasOwnProperty(tt)&&(xt[tt]instanceof cf?Ho(xt[tt]):xt[tt]instanceof vp&&Il(xt[tt],He))})(X),Dn.publish("putResources"),X.forEach(fn),fn({resourcesOid:Es,objectOid:Number.MAX_SAFE_INTEGER}),Dn.publish("postPutResources"),a!==null&&(qr.oid=On(),Ee("<<"),Ee("/Filter /Standard"),Ee("/V "+qr.v),Ee("/R "+qr.r),Ee("/U <"+qr.toHexString(qr.U)+">"),Ee("/O <"+qr.toHexString(qr.O)+">"),Ee("/P "+qr.P),Ee(">>"),Ee("endobj")),br(),Ss();var xe=Ne;return $o(),Ui(),Ee("startxref"),Ee(""+xe),Ee("%%EOF"),nt(rt[M]),Ue.join(`
`)},gr=g.__private__.getBlob=function(X){return new Blob([Gt(X)],{type:"application/pdf"})},_s=g.output=g.__private__.output=($i=function(X,xe){switch(typeof(xe=xe||{})=="string"?xe={filename:xe}:xe.filename=xe.filename||"generated.pdf",X){case void 0:return Mi();case"save":g.save(xe.filename);break;case"arraybuffer":return Gt(Mi());case"blob":return gr(Mi());case"bloburi":case"bloburl":if(Yr.URL!==void 0&&typeof Yr.URL.createObjectURL=="function")return Yr.URL&&Yr.URL.createObjectURL(gr(Mi()))||void 0;go.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var He="",tt=Mi();try{He=OI(tt)}catch{He=OI(unescape(encodeURIComponent(tt)))}return"data:application/pdf;filename="+xe.filename+";base64,"+He;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yr)==="[object Window]"){var jt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';xe.pdfObjectUrl&&(jt=xe.pdfObjectUrl,Ht="");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+jt+'"'+Ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(xe)+");<\/script></body></html>",In=Yr.open();return In!==null&&In.document.write(en),In}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yr)==="[object Window]"){var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(xe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+xe.filename+'" width="500px" height="400px" /></body></html>',Cr=Yr.open();if(Cr!==null){Cr.document.write(nr);var Tr=this;Cr.document.documentElement.querySelector("#pdfViewer").onload=function(){Cr.document.title=xe.filename,Cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tr.output("bloburl"))}}return Cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ts='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",xe)+'"></iframe></body></html>',gi=Yr.open();if(gi!==null&&(gi.document.write(ts),gi.document.title=xe.filename),gi||typeof safari>"u")return gi;break;case"datauri":case"dataurl":return Yr.document.location.href=this.output("datauristring",xe);default:return null}},$i.foo=function(){try{return $i.apply(this,arguments)}catch(He){var X=He.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);var xe="Error in function "+X.split(`
`)[0].split("<")[0]+": "+He.message;if(!Yr.console)throw new Error(xe);Yr.console.error(xe,He),Yr.alert&&alert(xe)}},$i.foo.bar=$i,$i.foo),hs=function(X){return Array.isArray(Yn)===!0&&Yn.indexOf(X)>-1};switch(s){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=hs("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Ct=s}var qr=null;he(),W();var li=g.__private__.getPageInfo=g.getPageInfo=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rn[X].objId,pageNumber:X,pageContext:rn[X]}},Ql=g.__private__.getPageInfoByObjId=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var xe in rn)if(rn[xe].objId===X)break;return li(xe)},ul=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:rn[M].objId,pageNumber:M,pageContext:rn[M]}};g.addPage=function(){return cl.apply(this,arguments),this},g.setPage=function(){return Da.apply(this,arguments),nt.call(this,rt[M]),this},g.insertPage=function(X){return this.addPage(),this.movePage(M,X),this},g.movePage=function(X,xe){var He,tt;if(X>xe){He=rt[X],tt=rn[X];for(var jt=X;jt>xe;jt--)rt[jt]=rt[jt-1],rn[jt]=rn[jt-1];rt[xe]=He,rn[xe]=tt,this.setPage(xe)}else if(X<xe){He=rt[X],tt=rn[X];for(var Ht=X;Ht<xe;Ht++)rt[Ht]=rt[Ht+1],rn[Ht]=rn[Ht+1];rt[xe]=He,rn[xe]=tt,this.setPage(xe)}return this},g.deletePage=function(){return jo.apply(this,arguments),this},g.__private__.text=g.text=function(X,xe,He,tt,jt){var Ht,en,In,nr,Cr,Tr,ts,gi,Qi,Cs=(tt=tt||{}).scope||this;if(typeof X=="number"&&typeof xe=="number"&&(typeof He=="string"||Array.isArray(He))){var ci=He;He=xe,xe=X,X=ci}if(arguments[3]instanceof Mn==0?(In=arguments[4],nr=arguments[5],fi(ts=arguments[3])==="object"&&ts!==null||(typeof In=="string"&&(nr=In,In=null),typeof ts=="string"&&(nr=ts,ts=null),typeof ts=="number"&&(In=ts,ts=null),tt={flags:ts,angle:In,align:nr})):(K("The transform parameter of text() with a Matrix value"),Qi=jt),isNaN(xe)||isNaN(He)||X==null)throw new Error("Invalid arguments passed to jsPDF.text");if(X.length===0)return Cs;var zi,So="",nl=typeof tt.lineHeightFactor=="number"?tt.lineHeightFactor:Gi,Lo=Cs.internal.scaleFactor;function hl(cs){return cs=cs.split("	").join(Array(tt.TabLen||9).join(" ")),Oi(cs,ts)}function fl(cs){for(var Hs,eo=cs.concat(),us=[],$l=eo.length;$l--;)typeof(Hs=eo.shift())=="string"?us.push(Hs):Array.isArray(cs)&&(Hs.length===1||Hs[1]===void 0&&Hs[2]===void 0)?us.push(Hs[0]):us.push([Hs[0],Hs[1],Hs[2]]);return us}function Hi(cs,Hs){var eo;if(typeof cs=="string")eo=Hs(cs)[0];else if(Array.isArray(cs)){for(var us,$l,Ua=cs.concat(),rc=[],iu=Ua.length;iu--;)typeof(us=Ua.shift())=="string"?rc.push(Hs(us)[0]):Array.isArray(us)&&typeof us[0]=="string"&&($l=Hs(us[0],us[1],us[2]),rc.push([$l[0],$l[1],$l[2]]));eo=rc}return eo}var ue=!1,Le=!0;if(typeof X=="string")ue=!0;else if(Array.isArray(X)){var qt=X.concat();en=[];for(var _n,lr=qt.length;lr--;)(typeof(_n=qt.shift())!="string"||Array.isArray(_n)&&typeof _n[0]!="string")&&(Le=!1);ue=Le}if(ue===!1)throw new Error('Type of text must be string or Array. "'+X+'" is not recognized.');typeof X=="string"&&(X=X.match(/[\r?\n]/)?X.split(/\r\n|\r|\n/g):[X]);var wn=ce/Cs.internal.scaleFactor,ls=wn*(nl-1);switch(tt.baseline){case"bottom":He-=ls;break;case"top":He+=wn-ls;break;case"hanging":He+=wn-2*ls;break;case"middle":He+=wn/2-ls}if((Tr=tt.maxWidth||0)>0&&(typeof X=="string"?X=Cs.splitTextToSize(X,Tr):Object.prototype.toString.call(X)==="[object Array]"&&(X=X.reduce(function(cs,Hs){return cs.concat(Cs.splitTextToSize(Hs,Tr))},[]))),Ht={text:X,x:xe,y:He,options:tt,mutex:{pdfEscape:Oi,activeFontKey:Ft,fonts:pn,activeFontSize:ce}},Dn.publish("preProcessText",Ht),X=Ht.text,In=(tt=Ht.options).angle,Qi instanceof Mn==0&&In&&typeof In=="number"){In*=Math.PI/180,tt.rotationDirection===0&&(In=-In),F===B&&(In=-In);var Xo=Math.cos(In),uo=Math.sin(In);Qi=new Mn(Xo,uo,-uo,Xo,0,0)}else In&&In instanceof Mn&&(Qi=In);F!==B||Qi||(Qi=Us),(Cr=tt.charSpace||Ra)!==void 0&&(So+=k(le(Cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gi=tt.horizontalScale)!==void 0&&(So+=k(100*gi)+` Tz
`),tt.lang;var Jr=-1,yr=tt.renderingMode!==void 0?tt.renderingMode:tt.stroke,vi=Cs.internal.getCurrentPageInfo().pageContext;switch(yr){case 0:case!1:case"fill":Jr=0;break;case 1:case!0:case"stroke":Jr=1;break;case 2:case"fillThenStroke":Jr=2;break;case 3:case"invisible":Jr=3;break;case 4:case"fillAndAddForClipping":Jr=4;break;case 5:case"strokeAndAddPathForClipping":Jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jr=6;break;case 7:case"addToPathForClipping":Jr=7}var ri=vi.usedRenderingMode!==void 0?vi.usedRenderingMode:-1;Jr!==-1?So+=Jr+` Tr
`:ri!==-1&&(So+=`0 Tr
`),Jr!==-1&&(vi.usedRenderingMode=Jr),nr=tt.align||"left";var Xr,Na=ce*nl,Fi=Cs.internal.pageSize.getWidth(),Fl=pn[Ft];Cr=tt.charSpace||Ra,Tr=tt.maxWidth||0,ts=Object.assign({autoencode:!0,noBOM:!0},tt.flags);var ua=[],ja=function(cs){return Cs.getStringUnitWidth(cs,{font:Fl,charSpace:Cr,fontSize:ce,doKerning:!1})*ce/Lo};if(Object.prototype.toString.call(X)==="[object Array]"){var Zr;en=fl(X),nr!=="left"&&(Xr=en.map(ja));var Xi,pl=0;if(nr==="right"){xe-=Xr[0],X=[],lr=en.length;for(var Hl=0;Hl<lr;Hl++)Hl===0?(Xi=Wi(xe),Zr=Yi(He)):(Xi=le(pl-Xr[Hl]),Zr=-Na),X.push([en[Hl],Xi,Zr]),pl=Xr[Hl]}else if(nr==="center"){xe-=Xr[0]/2,X=[],lr=en.length;for(var Vl=0;Vl<lr;Vl++)Vl===0?(Xi=Wi(xe),Zr=Yi(He)):(Xi=le((pl-Xr[Vl])/2),Zr=-Na),X.push([en[Vl],Xi,Zr]),pl=Xr[Vl]}else if(nr==="left"){X=[],lr=en.length;for(var zc=0;zc<lr;zc++)X.push(en[zc])}else if(nr==="justify"&&Fl.encoding==="Identity-H"){X=[],lr=en.length,Tr=Tr!==0?Tr:Fi;for(var Oa=0,Zi=0;Zi<lr;Zi++)if(Zr=Zi===0?Yi(He):-Na,Xi=Zi===0?Wi(xe):Oa,Zi<lr-1){var Co=le((Tr-Xr[Zi])/(en[Zi].split(" ").length-1)),Xs=en[Zi].split(" ");X.push([Xs[0]+" ",Xi,Zr]),Oa=0;for(var Zs=1;Zs<Xs.length;Zs++){var ui=(ja(Xs[Zs-1]+" "+Xs[Zs])-ja(Xs[Zs]))*Lo+Co;Zs==Xs.length-1?X.push([Xs[Zs],ui,0]):X.push([Xs[Zs]+" ",ui,0]),Oa-=ui}}else X.push([en[Zi],Xi,Zr]);X.push(["",Oa,0])}else{if(nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(X=[],lr=en.length,Tr=Tr!==0?Tr:Fi,Zi=0;Zi<lr;Zi++){Zr=Zi===0?Yi(He):-Na,Xi=Zi===0?Wi(xe):0;var rl=en[Zi].split(" ").length-1,bc=rl>0?(Tr-Xr[Zi])/rl:0;Zi<lr-1?ua.push(k(le(bc))):ua.push(0),X.push([en[Zi],Xi,Zr])}}}(typeof tt.R2L=="boolean"?tt.R2L:vt)===!0&&(X=Hi(X,function(cs,Hs,eo){return[cs.split("").reverse().join(""),Hs,eo]})),Ht={text:X,x:xe,y:He,options:tt,mutex:{pdfEscape:Oi,activeFontKey:Ft,fonts:pn,activeFontSize:ce}},Dn.publish("postProcessText",Ht),X=Ht.text,zi=Ht.mutex.isHex||!1;var tc=pn[Ft].encoding;tc!=="WinAnsiEncoding"&&tc!=="StandardEncoding"||(X=Hi(X,function(cs,Hs,eo){return[hl(cs),Hs,eo]})),en=fl(X),X=[];for(var sl,Ll,Zo,ba=Array.isArray(en[0])?1:0,qi="",nc=function(cs,Hs,eo){var us="";return eo instanceof Mn?(eo=typeof tt.angle=="number"?xo(eo,new Mn(1,0,0,1,cs,Hs)):xo(new Mn(1,0,0,1,cs,Hs),eo),F===B&&(eo=xo(new Mn(1,0,0,-1,0,0),eo)),us=eo.join(" ")+` Tm
`):us=k(cs)+" "+k(Hs)+` Td
`,us},ml=0;ml<en.length;ml++){switch(qi="",ba){case 1:Zo=(zi?"<":"(")+en[ml][0]+(zi?">":")"),sl=parseFloat(en[ml][1]),Ll=parseFloat(en[ml][2]);break;case 0:Zo=(zi?"<":"(")+en[ml]+(zi?">":")"),sl=Wi(xe),Ll=Yi(He)}ua!==void 0&&ua[ml]!==void 0&&(qi=ua[ml]+` Tw
`),ml===0?X.push(qi+nc(sl,Ll,Qi)+Zo):ba===0?X.push(qi+Zo):ba===1&&X.push(qi+nc(sl,Ll,Qi)+Zo)}X=ba===0?X.join(` Tj
T* `):X.join(` Tj
`),X+=` Tj
`;var Ji=`BT
/`;return Ji+=Ft+" "+ce+` Tf
`,Ji+=k(ce*nl)+` TL
`,Ji+=zs+`
`,Ji+=So,Ji+=X,Ee(Ji+="ET"),v[Ft]=!0,Cs};var Go=g.__private__.clip=g.clip=function(X){return Ee(X==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Go("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Ee("n"),this};var fs=g.__private__.isValidStyle=function(X){var xe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(X)!==-1&&(xe=!0),xe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(X){return fs(X)&&(h=X),this};var Ja=g.__private__.getStyle=g.getStyle=function(X){var xe=h;switch(X){case"D":case"S":xe="S";break;case"F":xe="f";break;case"FD":case"DF":xe="B";break;case"f":case"f*":case"B":case"B*":xe=X}return xe},Ko=g.close=function(){return Ee("h"),this};g.stroke=function(){return Ee("S"),this},g.fill=function(X){return aa("f",X),this},g.fillEvenOdd=function(X){return aa("f*",X),this},g.fillStroke=function(X){return aa("B",X),this},g.fillStrokeEvenOdd=function(X){return aa("B*",X),this};var aa=function(X,xe){fi(xe)==="object"?Wo(xe,X):Ee(X)},Mr=function(X){X===null||F===B&&X===void 0||(X=Ja(X),Ee(X))};function ki(X,xe,He,tt,jt){var Ht=new vp(xe||this.boundingBox,He||this.xStep,tt||this.yStep,this.gState,jt||this.matrix);Ht.stream=this.stream;var en=X+"$$"+this.cloneIndex+++"$$";return Ys(en,Ht),Ht}var Wo=function(X,xe){var He=an[X.key],tt=xt[He];if(tt instanceof cf)Ee("q"),Ee(ec(xe)),tt.gState&&g.setGState(tt.gState),Ee(X.matrix.toString()+" cm"),Ee("/"+He+" sh"),Ee("Q");else if(tt instanceof vp){var jt=new Mn(1,0,0,-1,0,jc());X.matrix&&(jt=jt.multiply(X.matrix||Us),He=ki.call(tt,X.key,X.boundingBox,X.xStep,X.yStep,jt).id),Ee("q"),Ee("/Pattern cs"),Ee("/"+He+" scn"),tt.gState&&g.setGState(tt.gState),Ee(xe),Ee("Q")}},ec=function(X){switch(X){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Al=g.moveTo=function(X,xe){return Ee(k(le(X))+" "+k(ae(xe))+" m"),this},xa=g.lineTo=function(X,xe){return Ee(k(le(X))+" "+k(ae(xe))+" l"),this},Qs=g.curveTo=function(X,xe,He,tt,jt,Ht){return Ee([k(le(X)),k(ae(xe)),k(le(He)),k(ae(tt)),k(le(jt)),k(ae(Ht)),"c"].join(" ")),this};g.__private__.line=g.line=function(X,xe,He,tt,jt){if(isNaN(X)||isNaN(xe)||isNaN(He)||isNaN(tt)||!fs(jt))throw new Error("Invalid arguments passed to jsPDF.line");return F===C?this.lines([[He-X,tt-xe]],X,xe,[1,1],jt||"S"):this.lines([[He-X,tt-xe]],X,xe,[1,1]).stroke()},g.__private__.lines=g.lines=function(X,xe,He,tt,jt,Ht){var en,In,nr,Cr,Tr,ts,gi,Qi,Cs,ci,zi,So;if(typeof X=="number"&&(So=He,He=xe,xe=X,X=So),tt=tt||[1,1],Ht=Ht||!1,isNaN(xe)||isNaN(He)||!Array.isArray(X)||!Array.isArray(tt)||!fs(jt)||typeof Ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Al(xe,He),en=tt[0],In=tt[1],Cr=X.length,ci=xe,zi=He,nr=0;nr<Cr;nr++)(Tr=X[nr]).length===2?(ci=Tr[0]*en+ci,zi=Tr[1]*In+zi,xa(ci,zi)):(ts=Tr[0]*en+ci,gi=Tr[1]*In+zi,Qi=Tr[2]*en+ci,Cs=Tr[3]*In+zi,ci=Tr[4]*en+ci,zi=Tr[5]*In+zi,Qs(ts,gi,Qi,Cs,ci,zi));return Ht&&Ko(),Mr(jt),this},g.path=function(X){for(var xe=0;xe<X.length;xe++){var He=X[xe],tt=He.c;switch(He.op){case"m":Al(tt[0],tt[1]);break;case"l":xa(tt[0],tt[1]);break;case"c":Qs.apply(this,tt);break;case"h":Ko()}}return this},g.__private__.rect=g.rect=function(X,xe,He,tt,jt){if(isNaN(X)||isNaN(xe)||isNaN(He)||isNaN(tt)||!fs(jt))throw new Error("Invalid arguments passed to jsPDF.rect");return F===C&&(tt=-tt),Ee([k(le(X)),k(ae(xe)),k(le(He)),k(le(tt)),"re"].join(" ")),Mr(jt),this},g.__private__.triangle=g.triangle=function(X,xe,He,tt,jt,Ht,en){if(isNaN(X)||isNaN(xe)||isNaN(He)||isNaN(tt)||isNaN(jt)||isNaN(Ht)||!fs(en))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[He-X,tt-xe],[jt-He,Ht-tt],[X-jt,xe-Ht]],X,xe,[1,1],en,!0),this},g.__private__.roundedRect=g.roundedRect=function(X,xe,He,tt,jt,Ht,en){if(isNaN(X)||isNaN(xe)||isNaN(He)||isNaN(tt)||isNaN(jt)||isNaN(Ht)||!fs(en))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var In=4/3*(Math.SQRT2-1);return jt=Math.min(jt,.5*He),Ht=Math.min(Ht,.5*tt),this.lines([[He-2*jt,0],[jt*In,0,jt,Ht-Ht*In,jt,Ht],[0,tt-2*Ht],[0,Ht*In,-jt*In,Ht,-jt,Ht],[2*jt-He,0],[-jt*In,0,-jt,-Ht*In,-jt,-Ht],[0,2*Ht-tt],[0,-Ht*In,jt*In,-Ht,jt,-Ht]],X+jt,xe,[1,1],en,!0),this},g.__private__.ellipse=g.ellipse=function(X,xe,He,tt,jt){if(isNaN(X)||isNaN(xe)||isNaN(He)||isNaN(tt)||!fs(jt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ht=4/3*(Math.SQRT2-1)*He,en=4/3*(Math.SQRT2-1)*tt;return Al(X+He,xe),Qs(X+He,xe-en,X+Ht,xe-tt,X,xe-tt),Qs(X-Ht,xe-tt,X-He,xe-en,X-He,xe),Qs(X-He,xe+en,X-Ht,xe+tt,X,xe+tt),Qs(X+Ht,xe+tt,X+He,xe+en,X+He,xe),Mr(jt),this},g.__private__.circle=g.circle=function(X,xe,He,tt){if(isNaN(X)||isNaN(xe)||isNaN(He)||!fs(tt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(X,xe,He,He,tt)},g.setFont=function(X,xe,He){return He&&(xe=z(xe,He)),Ft=_o(X,xe,{disableWarning:!1}),this};var Pa=g.__private__.getFont=g.getFont=function(){return pn[_o.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var X,xe,He={};for(X in Tt)if(Tt.hasOwnProperty(X))for(xe in He[X]=[],Tt[X])Tt[X].hasOwnProperty(xe)&&He[X].push(xe);return He},g.addFont=function(X,xe,He,tt,jt){var Ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ht.indexOf(arguments[3])!==-1?jt=arguments[3]:arguments[3]&&Ht.indexOf(arguments[3])==-1&&(He=z(He,tt)),Vo.call(this,X,xe,He,jt=jt||"Identity-H")};var Gi,Yo=t.lineWidth||.200025,la=g.__private__.getLineWidth=g.getLineWidth=function(){return Yo},hn=g.__private__.setLineWidth=g.setLineWidth=function(X){return Yo=X,Ee(k(le(X))+" w"),this};g.__private__.setLineDash=vr.API.setLineDash=vr.API.setLineDashPattern=function(X,xe){if(X=X||[],xe=xe||0,isNaN(xe)||!Array.isArray(X))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return X=X.map(function(He){return k(le(He))}).join(" "),xe=k(le(xe)),Ee("["+X+"] "+xe+" d"),this};var Ki=g.__private__.getLineHeight=g.getLineHeight=function(){return ce*Gi};g.__private__.getLineHeight=g.getLineHeight=function(){return ce*Gi};var as=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(X){return typeof(X=X||1.15)=="number"&&(Gi=X),this},_i=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Gi};as(t.lineHeight);var Wi=g.__private__.getHorizontalCoordinate=function(X){return le(X)},Yi=g.__private__.getVerticalCoordinate=function(X){return F===B?X:rn[M].mediaBox.topRightY-rn[M].mediaBox.bottomLeftY-le(X)},ni=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(X){return k(Wi(X))},ya=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(X){return k(Yi(X))},ca=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ti(ca)},g.__private__.setStrokeColor=g.setDrawColor=function(X,xe,He,tt){return ca=ai({ch1:X,ch2:xe,ch3:He,ch4:tt,pdfColorType:"draw",precision:2}),Ee(ca),this};var el=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ti(el)},g.__private__.setFillColor=g.setFillColor=function(X,xe,He,tt){return el=ai({ch1:X,ch2:xe,ch3:He,ch4:tt,pdfColorType:"fill",precision:2}),Ee(el),this};var zs=t.textColor||"0 g",Fo=g.__private__.getTextColor=g.getTextColor=function(){return ti(zs)};g.__private__.setTextColor=g.setTextColor=function(X,xe,He,tt){return zs=ai({ch1:X,ch2:xe,ch3:He,ch4:tt,pdfColorType:"text",precision:3}),this};var Ra=t.charSpace,ze=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ra||0)};g.__private__.setCharSpace=g.setCharSpace=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ra=X,this};var ot=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(X){var xe=g.CapJoinStyles[X];if(xe===void 0)throw new Error("Line cap style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ot=xe,Ee(xe+" J"),this};var Nt=0;g.__private__.setLineJoin=g.setLineJoin=function(X){var xe=g.CapJoinStyles[X];if(xe===void 0)throw new Error("Line join style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nt=xe,Ee(xe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(X){if(X=X||0,isNaN(X))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ee(k(le(X))+" M"),this},g.GState=Zv,g.setGState=function(X){(X=typeof X=="string"?dn[Nn[X]]:Ln(null,X)).equals(Wn)||(Ee("/"+X.id+" gs"),Wn=X)};var Ln=function(X,xe){if(!X||!Nn[X]){var He=!1;for(var tt in dn)if(dn.hasOwnProperty(tt)&&dn[tt].equals(xe)){He=!0;break}if(He)xe=dn[tt];else{var jt="GS"+(Object.keys(dn).length+1).toString(10);dn[jt]=xe,xe.id=jt}return X&&(Nn[X]=xe.id),Dn.publish("addGState",xe),xe}};g.addGState=function(X,xe){return Ln(X,xe),this},g.saveGraphicsState=function(){return Ee("q"),nn.push({key:Ft,size:ce,color:zs}),this},g.restoreGraphicsState=function(){Ee("Q");var X=nn.pop();return Ft=X.key,ce=X.size,zs=X.color,Wn=null,this},g.setCurrentTransformationMatrix=function(X){return Ee(X.toString()+" cm"),this},g.comment=function(X){return Ee("#"+X),this};var un=function(X,xe){var He=X||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return He},set:function(Ht){isNaN(Ht)||(He=parseFloat(Ht))}});var tt=xe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return tt},set:function(Ht){isNaN(Ht)||(tt=parseFloat(Ht))}});var jt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return jt},set:function(Ht){jt=Ht.toString()}}),this},tr=function(X,xe,He,tt){un.call(this,X,xe),this.type="rect";var jt=He||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return jt},set:function(en){isNaN(en)||(jt=parseFloat(en))}});var Ht=tt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ht},set:function(en){isNaN(en)||(Ht=parseFloat(en))}}),this},kn=function(){this.page=jn,this.currentPage=M,this.pages=rt.slice(0),this.pagesContext=rn.slice(0),this.x=Ye,this.y=Zt,this.matrix=on,this.width=mi(M),this.height=tl(M),this.outputDestination=wt,this.id="",this.objectNumber=-1};kn.prototype.restore=function(){jn=this.page,M=this.currentPage,rn=this.pagesContext,rt=this.pages,Ye=this.x,Zt=this.y,on=this.matrix,co(M,this.width),bo(M,this.height),wt=this.outputDestination};var wr=function(X,xe,He,tt,jt){Ni.push(new kn),jn=M=0,rt=[],Ye=X,Zt=xe,on=jt,yo([He,tt])};for(var Sr in g.beginFormObject=function(X,xe,He,tt,jt){return wr(X,xe,He,tt,jt),this},g.endFormObject=function(X){return(function(xe){if(os[xe])Ni.pop().restore();else{var He=new kn,tt="Xo"+(Object.keys(mr).length+1).toString(10);He.id=tt,os[xe]=tt,mr[tt]=He,Dn.publish("addFormObject",He),Ni.pop().restore()}})(X),this},g.doFormObject=function(X,xe){var He=mr[os[X]];return Ee("q"),Ee(xe.toString()+" cm"),Ee("/"+He.id+" Do"),Ee("Q"),this},g.getFormObject=function(X){var xe=mr[os[X]];return{x:xe.x,y:xe.y,width:xe.width,height:xe.height,matrix:xe.matrix}},g.save=function(X,xe){return X=X||"generated.pdf",(xe=xe||{}).returnPromise=xe.returnPromise||!1,xe.returnPromise===!1?(Ap(gr(Mi()),X),typeof Ap.unload=="function"&&Yr.setTimeout&&setTimeout(Ap.unload,911),this):new Promise(function(He,tt){try{var jt=Ap(gr(Mi()),X);typeof Ap.unload=="function"&&Yr.setTimeout&&setTimeout(Ap.unload,911),He(jt)}catch(Ht){tt(Ht.message)}})},vr.API)vr.API.hasOwnProperty(Sr)&&(Sr==="events"&&vr.API.events.length?(function(X,xe){var He,tt,jt;for(jt=xe.length-1;jt!==-1;jt--)He=xe[jt][0],tt=xe[jt][1],X.subscribe.apply(X,[He].concat(typeof tt=="function"?[tt]:tt))})(Dn,vr.API.events):g[Sr]=vr.API[Sr]);function mi(X){return rn[X].mediaBox.topRightX-rn[X].mediaBox.bottomLeftX}function co(X,xe){rn[X].mediaBox.topRightX=xe+rn[X].mediaBox.bottomLeftX}function tl(X){return rn[X].mediaBox.topRightY-rn[X].mediaBox.bottomLeftY}function bo(X,xe){rn[X].mediaBox.topRightY=xe+rn[X].mediaBox.bottomLeftY}var wo=g.getPageWidth=function(X){return mi(X=X||M)/Ct},zl=g.setPageWidth=function(X,xe){co(X,xe*Ct)},jc=g.getPageHeight=function(X){return tl(X=X||M)/Ct},dl=g.setPageHeight=function(X,xe){bo(X,xe*Ct)};return g.internal={pdfEscape:Oi,getStyle:Ja,getFont:Pa,getFontSize:Ge,getCharSpace:ze,getTextColor:Fo,getLineHeight:Ki,getLineHeightFactor:_i,getLineWidth:la,write:at,getHorizontalCoordinate:Wi,getVerticalCoordinate:Yi,getCoordinateString:ni,getVerticalCoordinateString:ya,collections:{},newObject:On,newAdditionalObject:ao,newObjectDeferred:xn,newObjectDeferredBegin:Ti,getFilters:pi,putStream:Ii,events:Dn,scaleFactor:Ct,pageSize:{getWidth:function(){return wo(M)},setWidth:function(X){zl(M,X)},getHeight:function(){return jc(M)},setHeight:function(X){dl(M,X)}},encryptionOptions:a,encryption:qr,getEncryptor:function(X){return a!==null?qr.encryptor(X,0):function(xe){return xe}},output:_s,getNumberOfPages:_l,get pages(){return rt},out:Ee,f2:V,f3:q,getPageInfo:li,getPageInfoByObjId:Ql,getCurrentPageInfo:ul,getPDFVersion:w,Point:un,Rectangle:tr,Matrix:Mn,hasHotfix:hs},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return wo(M)},set:function(X){zl(M,X)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return jc(M)},set:function(X){dl(M,X)},enumerable:!0,configurable:!0}),(function(X){for(var xe=0,He=Oe.length;xe<He;xe++){var tt=Vo.call(this,X[xe][0],X[xe][1],X[xe][2],Oe[xe][3],!0);m===!1&&(v[tt]=!0);var jt=X[xe][0].split("-");Qc({id:tt,fontName:jt[0],fontStyle:jt[1]||""})}Dn.publish("addFonts",{fonts:pn,dictionary:Tt})}).call(g,Oe),Ft="F1",cl(i,r),Dn.publish("initialized"),g}Um.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Um.prototype.toHexString=function(t){return t.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Um.prototype.hexToBytes=function(t){for(var n=[],r=0;r<t.length;r+=2)n.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return n.join("")},Um.prototype.processOwnerPassword=function(t,n){return wS(bS(n).substr(0,5),t)},Um.prototype.encryptor=function(t,n){var r=bS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&n,n>>8&255)).substr(0,10);return function(s){return wS(r,s)}},Zv.prototype.equals=function(t){var n,r="id,objectNumber,equals";if(!t||fi(t)!==fi(this))return!1;var s=0;for(n in this)if(!(r.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!t.hasOwnProperty(n)||this[n]!==t[n])return!1;s++}for(n in t)t.hasOwnProperty(n)&&r.indexOf(n)<0&&s--;return s===0},vr.API={events:[]},vr.version="3.0.4";var Ia=vr.API,TB=1,Jp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rs=function(t){return t.toFixed(2)},nf=function(t){return t.toFixed(5)};Ia.__acroform__={};var su=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t},QI=function(t){return t*TB},Ad=function(t){var n=new FR,r=ur.internal.getHeight(t)||0,s=ur.internal.getWidth(t)||0;return n.BBox=[0,0,Number(rs(s)),Number(rs(r))],n},Roe=Ia.__acroform__.setBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<n},Noe=Ia.__acroform__.clearBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<n)},Ooe=Ia.__acroform__.getBit=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<n?1:0},Ka=Ia.__acroform__.getBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ooe(t,n-1)},Wa=Ia.__acroform__.setBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Roe(t,n-1)},Ya=Ia.__acroform__.clearBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Noe(t,n-1)},Uoe=Ia.__acroform__.calculateCoordinates=function(t,n){var r=n.internal.getHorizontalCoordinate,s=n.internal.getVerticalCoordinate,i=t[0],l=t[1],d=t[2],f=t[3],u={};return u.lowerLeft_X=r(i)||0,u.lowerLeft_Y=s(l+f)||0,u.upperRight_X=r(i+d)||0,u.upperRight_Y=s(l)||0,[Number(rs(u.lowerLeft_X)),Number(rs(u.lowerLeft_Y)),Number(rs(u.upperRight_X)),Number(rs(u.upperRight_Y))]},Moe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var n=[],r=t._V||t.DV,s=SS(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(t.scope.__private__.encodeColorString(t.color)),n.push("/"+i+" "+rs(s.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC");var l=Ad(t);return l.scope=t.scope,l.stream=n.join(`
`),l}},SS=function(t,n){var r=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=t.multiline?i.map(function(V){return V.split(`
`)}):i.map(function(V){return[V]});var l=r,d=ur.internal.getHeight(t)||0;d=d<0?-d:d;var f=ur.internal.getWidth(t)||0;f=f<0?-f:f;var u=function(V,q,le){if(V+1<i.length){var ae=q+" "+i[V+1][0];return Fy(ae,t,le).width<=f-4}return!1};l++;e:for(;l>0;){n="",l--;var h,a,m=Fy("3",t,l).height,v=t.multiline?d-l:(d-m)/2,g=v+=2,x=0,w=0,b=0;if(l<=0){n=`(...) Tj
`,n+="% Width of Text: "+Fy(n,t,l=12).width+", FieldWidth:"+f+`
`;break}for(var S="",C=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var F=!1;if(i[B].length!==1&&b!==i[B].length-1){if((m+2)*(C+2)+2>d)continue e;S+=i[B][b],F=!0,w=B,B--}else{S=(S+=i[B][b]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var N=parseInt(B),Q=u(N,S,l),z=B>=i.length-1;if(Q&&!z){S+=" ",b=0;continue}if(Q||z){if(z)w=N;else if(t.multiline&&(m+2)*(C+2)+2>d)continue e}else{if(!t.multiline||(m+2)*(C+2)+2>d)continue e;w=N}}for(var k="",K=x;K<=w;K++){var se=i[K];if(t.multiline){if(K===w){k+=se[b]+" ",b=(b+1)%se.length;continue}if(K===x){k+=se[se.length-1]+" ";continue}}k+=se[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,a=Fy(k,t,l).width,t.textAlign){case"right":h=f-a-2;break;case"center":h=(f-a)/2;break;default:h=2}n+=rs(h)+" "+rs(g)+` Td
`,n+="("+Jp(k)+`) Tj
`,n+=-rs(h)+` 0 Td
`,g=-(l+2),a=0,x=F?w:w+1,C++,S=""}break}return s.text=n,s.fontSize=l,s},Fy=function(t,n,r){var s=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:n.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},koe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qoe=function(t,n){var r={type:"reference",object:t};n.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&n.internal.getPageInfo(t.page).pageContext.annotations.push(r)},zoe=function(t,n){if(n.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(QA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(koe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TB=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new LR,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];l.objId=void 0,l.hasAnnotation&&Qoe(l,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(s,i){var l=!s;for(var d in s||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(d)){var f=s[d],u=[],h=f.Rect;if(f.Rect&&(f.Rect=Uoe(f.Rect,i)),i.internal.newObjectDeferredBegin(f.objId,!0),f.DA=ur.createDefaultAppearanceStream(f),fi(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(u=f.getKeyValueListForStream()),f.Rect=h,f.hasAppearanceStream&&!f.appearanceStreamContent){var a=Moe(f);u.push({key:"AP",value:"<</N "+a+">>"}),i.internal.acroformPlugin.xForms.push(a)}if(f.appearanceStreamContent){var m="";for(var v in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(v)){var g=f.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var d in g)if(g.hasOwnProperty(d)){var x=g[d];typeof x=="function"&&(x=x.call(i,f)),m+="/"+d+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=g)=="function"&&(x=x.call(i,f)),m+="/"+d+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:f.objId}),i.internal.out("endobj")}l&&(function(w,b){for(var S in w)if(w.hasOwnProperty(S)){var C=S,B=w[S];b.internal.newObjectDeferredBegin(B.objId,!0),fi(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete w[C]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},_R=Ia.__acroform__.arrayToPdfArray=function(t,n,r){var s=function(d){return d};if(Array.isArray(t)){for(var i="[",l=0;l<t.length;l++)switch(l!==0&&(i+=" "),fi(t[l])){case"boolean":case"number":case"object":i+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(n!==void 0&&r&&(s=r.internal.getEncryptor(n)),i+="("+Jp(s(t[l].toString()))+")"):i+=t[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nw=function(t,n,r){var s=function(i){return i};return n!==void 0&&r&&(s=r.internal.getEncryptor(n)),(t=t||"").toString(),"("+Jp(s(t))+")"},gd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};gd.prototype.toString=function(){return this.objId+" 0 R"},gd.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},gd.prototype.getKeyValueListForStream=function(){var t=[],n=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var r in n)if(Object.getOwnPropertyDescriptor(this,n[r]).configurable===!1){var s=n[r],i=this[s];i&&(Array.isArray(i)?t.push({key:s,value:_R(i,this.objId,this.scope)}):i instanceof gd?(i.scope=this.scope,t.push({key:s,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:s,value:i}))}return t};var FR=function(){gd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};su(FR,gd);var LR=function(){gd.call(this);var t,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Jp(r(t))+")"}},set:function(r){t=r}})};su(LR,gd);var QA=function t(){gd.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');n=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ka(n,3)},set:function(S){S?this.F=Wa(n,3):this.F=Ya(n,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(S){s=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(S){s[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(S){s[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(S){s[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(S){s[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Uj)return;l="FieldObject"+t.FieldNum++}var S=function(C){return C};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Jp(S(l))+")"},set:function(S){l=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(S){l=S}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/TB:h},set:function(S){h=S}});var a="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Uj||this instanceof ff))return Nw(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Bl==0?Nw(v,this.objId,this.scope):v},set:function(S){S=S.toString(),v=this instanceof Bl==0?S.substr(0,1)==="("?Rm(S.substr(1,S.length-2)):Rm(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bl==1?Rm(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof Bl==1?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Bl==0?Nw(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof Bl==0?S.substr(0,1)==="("?Rm(S.substr(1,S.length-2)):Rm(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bl==1?Rm(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof Bl==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){S=!!S,w=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,1)},set:function(S){S?this.Ff=Wa(this.Ff,1):this.Ff=Ya(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,2)},set:function(S){S?this.Ff=Wa(this.Ff,2):this.Ff=Ya(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,3)},set:function(S){S?this.Ff=Wa(this.Ff,3):this.Ff=Ya(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');b=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(b){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};su(QA,gd);var Ip=function(){QA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _R(n,this.objId,this.scope)},set:function(r){var s,i;i=[],typeof(s=r)=="string"&&(i=(function(l,d,f){f||(f=1);for(var u,h=[];u=d.exec(l);)h.push(u[f]);return h})(s,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(r){n=r,this.sort&&n.sort()},this.addOption=function(r){r=(r=r||"").toString(),n.push(r),this.sort&&n.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();n.indexOf(r)!==-1&&(n.splice(n.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,18)},set:function(r){r?this.Ff=Wa(this.Ff,18):this.Ff=Ya(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Wa(this.Ff,19):this.Ff=Ya(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,20)},set:function(r){r?(this.Ff=Wa(this.Ff,20),n.sort()):this.Ff=Ya(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,22)},set:function(r){r?this.Ff=Wa(this.Ff,22):this.Ff=Ya(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,23)},set:function(r){r?this.Ff=Wa(this.Ff,23):this.Ff=Ya(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,27)},set:function(r){r?this.Ff=Wa(this.Ff,27):this.Ff=Ya(this.Ff,27)}}),this.hasAppearanceStream=!1};su(Ip,QA);var _p=function(){Ip.call(this),this.fontName="helvetica",this.combo=!1};su(_p,Ip);var Fp=function(){_p.call(this),this.combo=!0};su(Fp,_p);var Bv=function(){Fp.call(this),this.edit=!0};su(Bv,Fp);var Bl=function(){QA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,15)},set:function(r){r?this.Ff=Wa(this.Ff,15):this.Ff=Ya(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,16)},set:function(r){r?this.Ff=Wa(this.Ff,16):this.Ff=Ya(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,17)},set:function(r){r?this.Ff=Wa(this.Ff,17):this.Ff=Ya(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,26)},set:function(r){r?this.Ff=Wa(this.Ff,26):this.Ff=Ya(this.Ff,26)}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+Jp(r(n[s]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){fi(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};su(Bl,QA);var Ev=function(){Bl.call(this),this.pushButton=!0};su(Ev,Bl);var Lp=function(){Bl.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n!==void 0?n:[]}})};su(Lp,Bl);var Uj=function(){var t,n;QA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(f){return f};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),s)d.push("/"+l+" ("+Jp(i(s[l]))+")");return d.push(">>"),d.join(`
`)},set:function(i){fi(i)==="object"&&(s=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(i){typeof i=="string"&&(s.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ur.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};su(Uj,QA),Lp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var r=this.Kids[n];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Lp.prototype.createOption=function(t){var n=new Uj;return n.Parent=this,n.optionName=t,this.Kids.push(n),Hoe.call(this.scope,n),n};var Tv=function(){Bl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ur.CheckBox.createAppearanceStream()};su(Tv,Bl);var ff=function(){QA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,13)},set:function(n){n?this.Ff=Wa(this.Ff,13):this.Ff=Ya(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,21)},set:function(n){n?this.Ff=Wa(this.Ff,21):this.Ff=Ya(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,23)},set:function(n){n?this.Ff=Wa(this.Ff,23):this.Ff=Ya(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,24)},set:function(n){n?this.Ff=Wa(this.Ff,24):this.Ff=Ya(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,25)},set:function(n){n?this.Ff=Wa(this.Ff,25):this.Ff=Ya(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,26)},set:function(n){n?this.Ff=Wa(this.Ff,26):this.Ff=Ya(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){Number.isInteger(n)&&(t=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};su(ff,QA);var Iv=function(){ff.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,14)},set:function(t){t?this.Ff=Wa(this.Ff,14):this.Ff=Ya(this.Ff,14)}}),this.password=!0};su(Iv,ff);var ur={CheckBox:{createAppearanceStream:function(){return{N:{On:ur.CheckBox.YesNormal},D:{On:ur.CheckBox.YesPushDown,Off:ur.CheckBox.OffPushDown}}},YesPushDown:function(t){var n=Ad(t);n.scope=t.scope;var r=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),l=SS(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+rs(ur.internal.getWidth(t))+" "+rs(ur.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+rs(l.fontSize)+" Tf "+i),r.push("BT"),r.push(l.text),r.push("ET"),r.push("Q"),r.push("EMC"),n.stream=r.join(`
`),n},YesNormal:function(t){var n=Ad(t);n.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=[],l=ur.internal.getHeight(t),d=ur.internal.getWidth(t),f=SS(t,t.caption);return i.push("1 g"),i.push("0 0 "+rs(d)+" "+rs(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+rs(d-1)+" "+rs(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+rs(f.fontSize)+" Tf "+s),i.push(f.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(t){var n=Ad(t);n.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rs(ur.internal.getWidth(t))+" "+rs(ur.internal.getHeight(t))+" re"),r.push("f"),n.stream=r.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(t){var n={D:{Off:ur.RadioButton.Circle.OffPushDown},N:{}};return n.N[t]=ur.RadioButton.Circle.YesNormal,n.D[t]=ur.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(t){var n=Ad(t);n.scope=t.scope;var r=[],s=ur.internal.getWidth(t)<=ur.internal.getHeight(t)?ur.internal.getWidth(t)/4:ur.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=ur.internal.Bezier_C,l=Number((s*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+nf(ur.internal.getWidth(t)/2)+" "+nf(ur.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),r.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),r.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),r.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),r.push("f"),r.push("Q"),n.stream=r.join(`
`),n},YesPushDown:function(t){var n=Ad(t);n.scope=t.scope;var r=[],s=ur.internal.getWidth(t)<=ur.internal.getHeight(t)?ur.internal.getWidth(t)/4:ur.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),l=Number((i*ur.internal.Bezier_C).toFixed(5)),d=Number((s*ur.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nf(ur.internal.getWidth(t)/2)+" "+nf(ur.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+nf(ur.internal.getWidth(t)/2)+" "+nf(ur.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+d+" "+d+" "+s+" 0 "+s+" c"),r.push("-"+d+" "+s+" -"+s+" "+d+" -"+s+" 0 c"),r.push("-"+s+" -"+d+" -"+d+" -"+s+" 0 -"+s+" c"),r.push(d+" -"+s+" "+s+" -"+d+" "+s+" 0 c"),r.push("f"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(t){var n=Ad(t);n.scope=t.scope;var r=[],s=ur.internal.getWidth(t)<=ur.internal.getHeight(t)?ur.internal.getWidth(t)/4:ur.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),l=Number((i*ur.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nf(ur.internal.getWidth(t)/2)+" "+nf(ur.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),n.stream=r.join(`
`),n}},Cross:{createAppearanceStream:function(t){var n={D:{Off:ur.RadioButton.Cross.OffPushDown},N:{}};return n.N[t]=ur.RadioButton.Cross.YesNormal,n.D[t]=ur.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(t){var n=Ad(t);n.scope=t.scope;var r=[],s=ur.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+rs(ur.internal.getWidth(t)-2)+" "+rs(ur.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(rs(s.x1.x)+" "+rs(s.x1.y)+" m"),r.push(rs(s.x2.x)+" "+rs(s.x2.y)+" l"),r.push(rs(s.x4.x)+" "+rs(s.x4.y)+" m"),r.push(rs(s.x3.x)+" "+rs(s.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},YesPushDown:function(t){var n=Ad(t);n.scope=t.scope;var r=ur.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+rs(ur.internal.getWidth(t))+" "+rs(ur.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+rs(ur.internal.getWidth(t)-2)+" "+rs(ur.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(rs(r.x1.x)+" "+rs(r.x1.y)+" m"),s.push(rs(r.x2.x)+" "+rs(r.x2.y)+" l"),s.push(rs(r.x4.x)+" "+rs(r.x4.y)+" m"),s.push(rs(r.x3.x)+" "+rs(r.x3.y)+" l"),s.push("s"),s.push("Q"),n.stream=s.join(`
`),n},OffPushDown:function(t){var n=Ad(t);n.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rs(ur.internal.getWidth(t))+" "+rs(ur.internal.getHeight(t))+" re"),r.push("f"),n.stream=r.join(`
`),n}}},createDefaultAppearanceStream:function(t){var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+n+" "+t.fontSize+" Tf "+r}};ur.internal={Bezier_C:.551915024494,calculateCross:function(t){var n=ur.internal.getWidth(t),r=ur.internal.getHeight(t),s=Math.min(n,r);return{x1:{x:(n-s)/2,y:(r-s)/2+s},x2:{x:(n-s)/2+s,y:(r-s)/2},x3:{x:(n-s)/2,y:(r-s)/2},x4:{x:(n-s)/2+s,y:(r-s)/2+s}}}},ur.internal.getWidth=function(t){var n=0;return fi(t)==="object"&&(n=QI(t.Rect[2])),n},ur.internal.getHeight=function(t){var n=0;return fi(t)==="object"&&(n=QI(t.Rect[3])),n};var Hoe=Ia.addField=function(t){if(zoe(this,t),!(t instanceof QA))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=t).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ia.AcroFormChoiceField=Ip,Ia.AcroFormListBox=_p,Ia.AcroFormComboBox=Fp,Ia.AcroFormEditBox=Bv,Ia.AcroFormButton=Bl,Ia.AcroFormPushButton=Ev,Ia.AcroFormRadioButton=Lp,Ia.AcroFormCheckBox=Tv,Ia.AcroFormTextField=ff,Ia.AcroFormPasswordField=Iv,Ia.AcroFormAppearance=ur,Ia.AcroForm={ChoiceField:Ip,ListBox:_p,ComboBox:Fp,EditBox:Bv,Button:Bl,PushButton:Ev,RadioButton:Lp,CheckBox:Tv,TextField:ff,PasswordField:Iv,Appearance:ur},vr.AcroForm={ChoiceField:Ip,ListBox:_p,ComboBox:Fp,EditBox:Bv,Button:Bl,PushButton:Ev,RadioButton:Lp,CheckBox:Tv,TextField:ff,PasswordField:Iv,Appearance:ur};var Voe=vr.AcroForm;function DR(t){return t.reduce(function(n,r,s){return n[r]=s,n},{})}(function(t){var n="addImage_";t.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(V,q){var le,ae,ie,J,G,W=r;if((q=q||r)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(Q(V))for(G in s)for(ie=s[G],le=0;le<ie.length;le+=1){for(J=!0,ae=0;ae<ie[le].length;ae+=1)if(ie[le][ae]!==void 0&&ie[le][ae]!==V[ae]){J=!1;break}if(J===!0){W=G;break}}else for(G in s)for(ie=s[G],le=0;le<ie.length;le+=1){for(J=!0,ae=0;ae<ie[le].length;ae+=1)if(ie[le][ae]!==void 0&&ie[le][ae]!==V.charCodeAt(ae)){J=!1;break}if(J===!0){W=G;break}}return W===r&&q!==r&&(W=q),W},l=function V(q){for(var le=this.internal.write,ae=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:q.width}),J.push({key:"Height",value:q.height}),q.colorSpace===S.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===S.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var G="",W=0,pe=q.transparency.length;W<pe;W++)G+=q.transparency[W]+" "+q.transparency[W]+" ";J.push({key:"Mask",value:"["+G+"]"})}q.sMask!==void 0&&J.push({key:"SMask",value:q.objectId+1+" 0 R"});var oe=q.filter!==void 0?["/"+q.filter]:void 0;if(ae({data:q.data,additionalKeyValues:J,alreadyAppliedFilters:oe,objectId:q.objectId}),le("endobj"),"sMask"in q&&q.sMask!==void 0){var he,$=(he=q.sMaskBitsPerComponent)!==null&&he!==void 0?he:q.bitsPerComponent,M={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:q.sMask};"filter"in q&&(M.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(q.width),M.filter=q.filter),V.call(this,M)}if(q.colorSpace===S.INDEXED){var ee=this.internal.newObject();ae({data:k(new Uint8Array(q.palette)),objectId:ee}),le("endobj")}},d=function(){var V=this.internal.collections[n+"images"];for(var q in V)l.call(this,V[q])},f=function(){var V,q=this.internal.collections[n+"images"],le=this.internal.write;for(var ae in q)le("/I"+(V=q[ae]).index,V.objectId,"0","R")},u=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",f))},h=function(){var V=this.internal.collections[n+"images"];return u.call(this),V},a=function(){return Object.keys(this.internal.collections[n+"images"]).length},m=function(V){return typeof t["process"+V.toUpperCase()]=="function"},v=function(V){return fi(V)==="object"&&V.nodeType===1},g=function(V,q){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var le=""+V.getAttribute("src");if(le.indexOf("data:image/")===0)return uj(unescape(le).split("base64,").pop());var ae=t.loadFile(le,!0);if(ae!==void 0)return ae}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var ie;switch(q){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return uj(V.toDataURL(ie,1).split("base64,").pop())}},x=function(V){var q=this.internal.collections[n+"images"];if(q){for(var le in q)if(V===q[le].alias)return q[le]}},w=function(V,q,le){return V||q||(V=-96,q=-96),V<0&&(V=-1*le.width*72/V/this.internal.scaleFactor),q<0&&(q=-1*le.height*72/q/this.internal.scaleFactor),V===0&&(V=q*le.width/le.height),q===0&&(q=V*le.height/le.width),[V,q]},b=function(V,q,le,ae,ie,J){var G=w.call(this,le,ae,ie),W=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,oe=h.call(this);if(le=G[0],ae=G[1],oe[ie.index]=ie,J){J*=Math.PI/180;var he=Math.cos(J),$=Math.sin(J),M=function(re){return re.toFixed(4)},ee=[M(he),M($),M(-1*$),M(he),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,W(V),pe(q+ae),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([W(le),"0","0",W(ae),"0","0","cm"].join(" "))):this.internal.write([W(le),"0","0",W(ae),W(V),pe(q+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(V){var q,le,ae=0;if(typeof V=="string")for(le=V.length,q=0;q<le;q++)ae=(ae<<5)-ae+V.charCodeAt(q),ae|=0;else if(Q(V))for(le=V.byteLength/2,q=0;q<le;q++)ae=(ae<<5)-ae+V[q],ae|=0;return ae},F=t.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var q=!0;return V.length===0&&(q=!1),V.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(q=!1),q},N=t.__addimage__.extractImageFromDataUrl=function(V){if(V==null||!(V=V.trim()).startsWith("data:"))return null;var q=V.indexOf(",");return q<0?null:V.substring(0,q).trim().endsWith("base64")?V.substring(q+1):null};t.__addimage__.isArrayBuffer=function(V){return V instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(V){return V instanceof Int8Array||V instanceof Uint8Array||V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array},z=t.__addimage__.binaryStringToUint8Array=function(V){for(var q=V.length,le=new Uint8Array(q),ae=0;ae<q;ae++)le[ae]=V.charCodeAt(ae);return le},k=t.__addimage__.arrayBufferToBinaryString=function(V){for(var q="",le=Q(V)?V:new Uint8Array(V),ae=0;ae<le.length;ae+=8192)q+=String.fromCharCode.apply(null,le.subarray(ae,ae+8192));return q};t.addImage=function(){var V,q,le,ae,ie,J,G,W,pe;if(typeof arguments[1]=="number"?(q=r,le=arguments[1],ae=arguments[2],ie=arguments[3],J=arguments[4],G=arguments[5],W=arguments[6],pe=arguments[7]):(q=arguments[1],le=arguments[2],ae=arguments[3],ie=arguments[4],J=arguments[5],G=arguments[6],W=arguments[7],pe=arguments[8]),fi(V=arguments[0])==="object"&&!v(V)&&"imageData"in V){var oe=V;V=oe.imageData,q=oe.format||q||r,le=oe.x||le||0,ae=oe.y||ae||0,ie=oe.w||oe.width||ie,J=oe.h||oe.height||J,G=oe.alias||G,W=oe.compression||W,pe=oe.rotation||oe.angle||pe}var he=this.internal.getFilters();if(W===void 0&&he.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(le)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var $=K.call(this,V,q,G,W);return b.call(this,le,ae,ie,J,$,pe),this};var K=function(V,q,le,ae){var ie,J,G;if(typeof V=="string"&&i(V)===r){V=unescape(V);var W=se(V,!1);(W!==""||(W=t.loadFile(V,!0))!==void 0)&&(V=W)}if(v(V)&&(V=g(V,q)),q=i(V,q),!m(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((G=le)==null||G.length===0)&&(le=(function(pe){return typeof pe=="string"||Q(pe)?B(pe):Q(pe.data)?B(pe.data):null})(V)),(ie=x.call(this,le))||(V instanceof Uint8Array||q==="RGBA"||(J=V,V=z(V)),ie=this["process"+q.toUpperCase()](V,a.call(this),le,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in t.image_compression?pe:C.NONE})(ae),J)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},se=t.__addimage__.convertBase64ToBinaryString=function(V,q){q=typeof q!="boolean"||q;var le,ae="";if(typeof V=="string"){var ie;le=(ie=N(V))!==null&&ie!==void 0?ie:V;try{ae=uj(le)}catch(J){if(q)throw F(le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};t.getImageProperties=function(V){var q,le,ae="";if(v(V)&&(V=g(V)),typeof V=="string"&&i(V)===r&&((ae=se(V,!1))===""&&(ae=t.loadFile(V)||""),V=ae),le=i(V),!m(le))throw new Error("addImage does not support files of type '"+le+"', please ensure that a plugin for '"+le+"' support is added.");if(V instanceof Uint8Array||(V=z(V)),!(q=this["process"+le.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=le,q}})(vr.API),(function(t){var n=function(r){if(r!==void 0&&r!="")return!0};vr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var s,i,l,d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,a=!1,m=0;m<h.length&&!a;m++)switch((s=h[m]).type){case"link":(n(s.options.url)||n(s.options.pageNumber))&&(a=!0);break;case"reference":case"text":case"freetext":a=!0}if(a!=0){this.internal.write("/Annots [");for(var v=0;v<h.length;v++){s=h[v];var g=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(w.objId),C=s.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+d(s.bounds.x)+" "+f(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w)+" "+f(s.bounds.y)+"] ")+"/Contents ("+g(S(s.contents))+")",l+=" /Popup "+b.objId+" 0 R",l+=" /P "+u.objId+" 0 R",l+=" /T ("+g(S(C))+") >>",w.content=l;var B=w.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+d(s.bounds.x+30)+" "+f(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w+30)+" "+f(s.bounds.y)+"] ")+" /Parent "+B,s.open&&(l+=" /Open true"),l+=" >>",b.content=l,this.internal.write(w.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+d(s.bounds.x)+" "+f(s.bounds.y)+" "+d(s.bounds.x+s.bounds.w)+" "+f(s.bounds.y+s.bounds.h)+"] ";var F=s.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(x(s.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(s.options.name){var N=this.annotations._nameMap[s.options.name];s.options.pageNumber=N.page,s.options.top=N.y}else s.options.top||(s.options.top=0);if(i="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",l="",s.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(x(s.options.url))+") >>";else if(s.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,l+=" /FitV "+s.options.left+"]";break;default:var Q=f(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),l+=" /XYZ "+s.options.left+" "+Q+" "+s.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},t.link=function(r,s,i,l,d){var f=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:u(r),y:h(s),w:u(r+i),h:h(s+l)},options:d,type:"link"})},t.textWithLink=function(r,s,i,l){var d,f,u=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){f=l.maxWidth;var a=this.splitTextToSize(r,f).length;d=Math.ceil(h*a)}else f=u,d=h;return this.text(r,s,i,l),i+=.2*h,l.align==="center"&&(s-=u/2),l.align==="right"&&(s-=u),this.link(s,i-h,f,d,l),u},t.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(vr.API),(function(t){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(w){return n[w.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},f=t.__arabicParser__.isArabicEndLetter=function(w){return d(w)&&l(w)&&n[w.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(w){return d(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return d(w)&&l(w)&&n[w.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return d(w)&&l(w)&&n[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return d(w)&&l(w)&&n[w.charCodeAt(0)].length>=3};var a=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return d(w)&&l(w)&&n[w.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(w){var b=0,S=r,C="",B=0;for(b=0;b<w.length;b+=1)S[w.charCodeAt(b)]!==void 0?(B++,typeof(S=S[w.charCodeAt(b)])=="number"&&(C+=String.fromCharCode(S),S=r,B=0),b===w.length-1&&(S=r,C+=w.charAt(b-(B-1)),b-=B-1,B=0)):(S=r,C+=w.charAt(b-B),b-=B,B=0);return C};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&s[w.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(w,b,S){return d(w)?l(w)===!1?-1:!h(w)||!d(b)&&!d(S)||!d(S)&&f(b)||f(w)&&!d(b)||f(w)&&u(b)||f(w)&&f(b)?0:a(w)&&d(b)&&!f(b)&&d(S)&&h(S)?3:f(w)||!d(S)?1:2:-1},g=function(w){var b=0,S=0,C=0,B="",F="",N="",Q=(w=w||"").split("\\s+"),z=[];for(b=0;b<Q.length;b+=1){for(z.push(""),S=0;S<Q[b].length;S+=1)B=Q[b][S],F=Q[b][S-1],N=Q[b][S+1],d(B)?(C=v(B,F,N),z[b]+=C!==-1?String.fromCharCode(n[B.charCodeAt(0)][C]):B):z[b]+=B;z[b]=m(z[b])}return z.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var w,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(b)){var C=0;for(S=[],C=0;C<b.length;C+=1)Array.isArray(b[C])?S.push([g(b[C][0]),b[C][1],b[C][2]]):S.push([g(b[C])]);w=S}else w=g(b);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",x])})(vr.API),vr.API.autoPrint=function(t){var n;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},(function(t){var n=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(f){r=f}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(f){s=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(f){i=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(f){l=f}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(f){d=f}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(r,s){var i;if((r=r||"2d")!=="2d")return null;for(i in s)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=s[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])})(vr.API),(function(t){var n={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var a=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return a},set:function(w){a=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(w){v=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(w){x=w}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return s.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,h){s.call(this);var a=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),v=h.scaleFactor||this.internal.scaleFactor,g=0,x=0,w=0,b=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=h.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(B,F){return B.concat(b.splitTextToSize(F,S))},[])):u=Array.isArray(u)?u:[u];for(var C=0;C<u.length;C++)g<(w=this.getStringUnitWidth(u[C],{font:m})*a)&&(g=w);return g!==0&&(x=u.length),{w:g/=v,h:Math.max((x*a*this.getLineHeightFactor()-a*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var u=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new l(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var u;u=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var h=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,m=this.internal.__cell__.margins||n,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&v&&(this.printHeaderRow(u.lineNumber,!0),u.y+=v[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-a,u.y+a,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+a,{align:"center",baseline:"top",maxWidth:u.width-a-a}):this.text(u.text,u.x+a,u.y+a,{align:"left",baseline:"top",maxWidth:u.width-a-a})),this.internal.__cell__.lastCell=u,this};t.table=function(u,h,a,m,v){if(s.call(this),!a)throw new Error("No data for PDF table.");var g,x,w,b,S=[],C=[],B=[],F={},N={},Q=[],z=[],k=(v=v||{}).autoSize||!1,K=v.printHeaders!==!1,se=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,V=v.margins||Object.assign({width:this.getPageWidth()},n),q=typeof v.padding=="number"?v.padding:3,le=v.headerBackgroundColor||"#c8c8c8",ae=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=le,this.internal.__cell__.headerTextColor=ae,this.setFontSize(se),m==null)C=S=Object.keys(a[0]),B=S.map(function(){return"left"});else if(Array.isArray(m)&&fi(m[0])==="object")for(S=m.map(function(oe){return oe.name}),C=m.map(function(oe){return oe.prompt||oe.name||""}),B=m.map(function(oe){return oe.align||"left"}),g=0;g<m.length;g+=1)N[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(C=S=m,B=S.map(function(){return"left"}));if(k||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<S.length;g+=1){for(F[b=S[g]]=a.map(function(oe){return oe[b]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=F[b],this.setFont(void 0,"normal"),w=0;w<x.length;w+=1)Q.push(this.getTextDimensions(x[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[b]=Math.max.apply(null,Q)+q+q,Q=[]}if(K){var ie={};for(g=0;g<S.length;g+=1)ie[S[g]]={},ie[S[g]].text=C[g],ie[S[g]].align=B[g];var J=f.call(this,ie,N);z=S.map(function(oe){return new l(u,h,N[oe],J,ie[oe].text,void 0,ie[oe].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var G=m.reduce(function(oe,he){return oe[he.name]=he.align,oe},{});for(g=0;g<a.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:a[g]},this);var W=f.call(this,a[g],N);for(w=0;w<S.length;w+=1){var pe=a[g][S[w]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:w,data:pe},this),d.call(this,new l(u,h,N[S[w]],W,pe,g+2,G[S[w]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var f=function(u,h){var a=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(u).map(function(g){var x=u[g];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,h[g]-a-a)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/v+a+a},this).reduce(function(g,x){return Math.max(g,x)},0)};t.setTableHeaderRow=function(u){s.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,h){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){a=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(a.y=this.internal.__cell__.margins.top||0,v.push(a)),a.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,a),this.setTextColor(x)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}})(vr.API);var PR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],CS=DR(RR),NR=[100,200,300,400,500,600,700,800,900],$oe=DR(NR);function Ow(t){var n=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(l){return PR[l=l||"normal"]?l:"normal"})(t.style),s=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(t.weight),i=(function(l){return typeof CS[l=l||"normal"]=="number"?l:"normal"})(t.stretch);return{family:n,style:r,weight:s,stretch:i,src:t.src||[],ref:t.ref||{name:n,style:[i,r,s].join(" ")}}}function zI(t,n,r,s){var i;for(i=r;i>=0&&i<n.length;i+=s)if(t[n[i]])return t[n[i]];for(i=r;i>=0&&i<n.length;i-=s)if(t[n[i]])return t[n[i]]}var Goe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function VI(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function $I(t){return t.trimLeft()}function Koe(t,n){for(var r=0;r<t.length;){if(t.charAt(r)===n)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Woe(t){var n=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],t.substring(n[0].length)]}var Ly,GI,KI,Nm,Dy,WI,YI,XI,Uw=["times"];function ZI(t,n,r,s,i){var l=4,d=JI;switch(i){case vr.API.image_compression.FAST:l=1,d=qI;break;case vr.API.image_compression.MEDIUM:l=6,d=e3;break;case vr.API.image_compression.SLOW:l=9,d=t3}t=(function(u,h,a,m){for(var v,g=u.length/h,x=new Uint8Array(u.length+g),w=[Yoe,qI,JI,e3,t3],b=0;b<g;b+=1){var S=b*h,C=u.subarray(S,S+h);if(m)x.set(m(C,a,v),S+b);else{for(var B=w.length,F=[],N=0;N<B;N+=1)F[N]=w[N](C,a,v);var Q=Zoe(F.concat());x.set(F[Q],S+b)}v=C}return x})(t,n,Math.ceil(r*s/8),d);var f=vS(t,{level:l});return vr.API.__addimage__.arrayBufferToBinaryString(f)}function Yoe(t){var n=Array.apply([],t);return n.unshift(0),n}function qI(t,n){var r=t.length,s=[];s[0]=1;for(var i=0;i<r;i+=1){var l=t[i-n]||0;s[i+1]=t[i]-l+256&255}return s}function JI(t,n,r){var s=t.length,i=[];i[0]=2;for(var l=0;l<s;l+=1){var d=r&&r[l]||0;i[l+1]=t[l]-d+256&255}return i}function e3(t,n,r){var s=t.length,i=[];i[0]=3;for(var l=0;l<s;l+=1){var d=t[l-n]||0,f=r&&r[l]||0;i[l+1]=t[l]+256-(d+f>>>1)&255}return i}function t3(t,n,r){var s=t.length,i=[];i[0]=4;for(var l=0;l<s;l+=1){var d=Xoe(t[l-n]||0,r&&r[l]||0,r&&r[l-n]||0);i[l+1]=t[l]-d+256&255}return i}function Xoe(t,n,r){if(t===n&&n===r)return t;var s=Math.abs(n-r),i=Math.abs(t-r),l=Math.abs(t+n-r-r);return s<=i&&s<=l?t:i<=l?n:r}function Zoe(t){var n=t.map(function(r){return r.reduce(function(s,i){return s+Math.abs(i)},0)});return n.indexOf(Math.min.apply(null,n))}function Mw(t,n,r){var s=n*r,i=Math.floor(s/8),l=16-(s-8*i+r),d=(1<<r)-1;return OR(t,i)>>l&d}function n3(t,n,r,s){var i=r*s,l=Math.floor(i/8),d=16-(i-8*l+s),f=(1<<s)-1,u=(n&f)<<d;(function(h,a,m){if(a+1<h.byteLength)h.setUint16(a,m,!1);else{var v=m>>8&255;h.setUint8(a,v)}})(t,l,OR(t,l)&~(f<<d)&65535|u)}function OR(t,n){return n+1<t.byteLength?t.getUint16(n,!1):t.getUint8(n)<<8}function qoe(t){var n=0;if(t[n++]!==71||t[n++]!==73||t[n++]!==70||t[n++]!==56||(t[n++]+1&253)!=56||t[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[n++]|t[n++]<<8,s=t[n++]|t[n++]<<8,i=t[n++],l=i>>7,d=1<<1+(7&i);t[n++],t[n++];var f=null,u=null;l&&(f=n,u=d,n+=3*d);var h=!0,a=[],m=0,v=null,g=0,x=null;for(this.width=r,this.height=s;h&&n<t.length;)switch(t[n++]){case 33:switch(t[n++]){case 255:if(t[n]!==11||t[n+1]==78&&t[n+2]==69&&t[n+3]==84&&t[n+4]==83&&t[n+5]==67&&t[n+6]==65&&t[n+7]==80&&t[n+8]==69&&t[n+9]==50&&t[n+10]==46&&t[n+11]==48&&t[n+12]==3&&t[n+13]==1&&t[n+16]==0)n+=14,x=t[n++]|t[n++]<<8,n++;else for(n+=12;;){if(!((V=t[n++])>=0))throw Error("Invalid block size");if(V===0)break;n+=V}break;case 249:if(t[n++]!==4||t[n+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[n++];m=t[n++]|t[n++]<<8,v=t[n++],1&w||(v=null),g=w>>2&7,n++;break;case 254:for(;;){if(!((V=t[n++])>=0))throw Error("Invalid block size");if(V===0)break;n+=V}break;default:throw new Error("Unknown graphic control label: 0x"+t[n-1].toString(16))}break;case 44:var b=t[n++]|t[n++]<<8,S=t[n++]|t[n++]<<8,C=t[n++]|t[n++]<<8,B=t[n++]|t[n++]<<8,F=t[n++],N=F>>6&1,Q=1<<1+(7&F),z=f,k=u,K=!1;F>>7&&(K=!0,z=n,k=Q,n+=3*Q);var se=n;for(n++;;){var V;if(!((V=t[n++])>=0))throw Error("Invalid block size");if(V===0)break;n+=V}a.push({x:b,y:S,width:C,height:B,has_local_palette:K,palette_offset:z,palette_size:k,data_offset:se,data_length:n-se,transparent_index:v,interlaced:!!N,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[n-1].toString(16))}this.numFrames=function(){return a.length},this.loopCount=function(){return x},this.frameInfo=function(q){if(q<0||q>=a.length)throw new Error("Frame index out of range.");return a[q]},this.decodeAndBlitFrameBGRA=function(q,le){var ae=this.frameInfo(q),ie=ae.width*ae.height,J=new Uint8Array(ie);r3(t,ae.data_offset,J,ie);var G=ae.palette_offset,W=ae.transparent_index;W===null&&(W=256);var pe=ae.width,oe=r-pe,he=pe,$=4*(ae.y*r+ae.x),M=4*((ae.y+ae.height)*r+ae.x),ee=$,re=4*oe;ae.interlaced===!0&&(re+=4*r*7);for(var me=8,De=0,Ue=J.length;De<Ue;++De){var Ne=J[De];if(he===0&&(he=pe,(ee+=re)>=M&&(re=4*oe+4*r*(me-1),ee=$+(pe+oe)*(me<<1),me>>=1)),Ne===W)ee+=4;else{var Ke=t[G+3*Ne],rt=t[G+3*Ne+1],et=t[G+3*Ne+2];le[ee++]=et,le[ee++]=rt,le[ee++]=Ke,le[ee++]=255}--he}},this.decodeAndBlitFrameRGBA=function(q,le){var ae=this.frameInfo(q),ie=ae.width*ae.height,J=new Uint8Array(ie);r3(t,ae.data_offset,J,ie);var G=ae.palette_offset,W=ae.transparent_index;W===null&&(W=256);var pe=ae.width,oe=r-pe,he=pe,$=4*(ae.y*r+ae.x),M=4*((ae.y+ae.height)*r+ae.x),ee=$,re=4*oe;ae.interlaced===!0&&(re+=4*r*7);for(var me=8,De=0,Ue=J.length;De<Ue;++De){var Ne=J[De];if(he===0&&(he=pe,(ee+=re)>=M&&(re=4*oe+4*r*(me-1),ee=$+(pe+oe)*(me<<1),me>>=1)),Ne===W)ee+=4;else{var Ke=t[G+3*Ne],rt=t[G+3*Ne+1],et=t[G+3*Ne+2];le[ee++]=Ke,le[ee++]=rt,le[ee++]=et,le[ee++]=255}--he}}}function r3(t,n,r,s){for(var i=t[n++],l=1<<i,d=l+1,f=d+1,u=i+1,h=(1<<u)-1,a=0,m=0,v=0,g=t[n++],x=new Int32Array(4096),w=null;;){for(;a<16&&g!==0;)m|=t[n++]<<a,a+=8,g===1?g=t[n++]:--g;if(a<u)break;var b=m&h;if(m>>=u,a-=u,b!==l){if(b===d)break;for(var S=b<f?b:w,C=0,B=S;B>l;)B=x[B]>>8,++C;var F=B;if(v+C+(S!==b?1:0)>s)return void go.log("Warning, gif stream longer than expected.");r[v++]=F;var N=v+=C;for(S!==b&&(r[v++]=F),B=S;C--;)B=x[B],r[--N]=255&B,B>>=8;w!==null&&f<4096&&(x[f++]=w<<8|F,f>=h+1&&u<12&&(++u,h=h<<1|1)),w=b}else f=d+1,h=(1<<(u=i+1))-1,w=null}return v!==s&&go.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kw(t){var n,r,s,i,l,d=Math.floor,f=new Array(64),u=new Array(64),h=new Array(64),a=new Array(64),m=new Array(65535),v=new Array(65535),g=new Array(64),x=new Array(64),w=[],b=0,S=7,C=new Array(64),B=new Array(64),F=new Array(64),N=new Array(256),Q=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J($,M){for(var ee=0,re=0,me=new Array,De=1;De<=16;De++){for(var Ue=1;Ue<=$[De];Ue++)me[M[re]]=[],me[M[re]][0]=ee,me[M[re]][1]=De,re++,ee++;ee*=2}return me}function G($){for(var M=$[0],ee=$[1]-1;ee>=0;)M&1<<ee&&(b|=1<<S),ee--,--S<0&&(b==255?(W(255),W(0)):W(b),S=7,b=0)}function W($){w.push($)}function pe($){W($>>8&255),W(255&$)}function oe($,M,ee,re,me){for(var De,Ue=me[0],Ne=me[240],Ke=(function(ce,ve){var Ge,vt,_t,Je,We,yt,zt,ut,Ft,Ct,Ye=0;for(Ft=0;Ft<8;++Ft){Ge=ce[Ye],vt=ce[Ye+1],_t=ce[Ye+2],Je=ce[Ye+3],We=ce[Ye+4],yt=ce[Ye+5],zt=ce[Ye+6];var Zt=Ge+(ut=ce[Ye+7]),on=Ge-ut,pn=vt+zt,Tt=vt-zt,nn=_t+yt,xt=_t-yt,an=Je+We,dn=Je-We,Nn=Zt+an,Wn=Zt-an,jn=pn+nn,rn=pn-nn;ce[Ye]=Nn+jn,ce[Ye+4]=Nn-jn;var Dn=.707106781*(rn+Wn);ce[Ye+2]=Wn+Dn,ce[Ye+6]=Wn-Dn;var Yn=.382683433*((Nn=dn+xt)-(rn=Tt+on)),mr=.5411961*Nn+Yn,os=1.306562965*rn+Yn,Ni=.707106781*(jn=xt+Tt),Mn=on+Ni,xo=on-Ni;ce[Ye+5]=xo+mr,ce[Ye+3]=xo-mr,ce[Ye+1]=Mn+os,ce[Ye+7]=Mn-os,Ye+=8}for(Ye=0,Ft=0;Ft<8;++Ft){Ge=ce[Ye],vt=ce[Ye+8],_t=ce[Ye+16],Je=ce[Ye+24],We=ce[Ye+32],yt=ce[Ye+40],zt=ce[Ye+48];var Us=Ge+(ut=ce[Ye+56]),Ys=Ge-ut,$i=vt+zt,On=vt-zt,xn=_t+yt,Ti=_t-yt,ao=Je+We,lo=Je-We,Es=Us+ao,ti=Us-ao,ai=$i+xn,pi=$i-xn;ce[Ye]=Es+ai,ce[Ye+32]=Es-ai;var Ii=.707106781*(pi+ti);ce[Ye+16]=ti+Ii,ce[Ye+48]=ti-Ii;var Ms=.382683433*((Es=lo+Ti)-(pi=On+Ys)),Qo=.5411961*Es+Ms,La=1.306562965*pi+Ms,zo=.707106781*(ai=Ti+On),Ho=Ys+zo,Il=Ys-zo;ce[Ye+40]=Il+Qo,ce[Ye+24]=Il-Qo,ce[Ye+8]=Ho+La,ce[Ye+56]=Ho-La,Ye++}for(Ft=0;Ft<64;++Ft)Ct=ce[Ft]*ve[Ft],g[Ft]=Ct>0?Ct+.5|0:Ct-.5|0;return g})($,M),rt=0;rt<64;++rt)x[z[rt]]=Ke[rt];var et=x[0]-ee;ee=x[0],et==0?G(re[0]):(G(re[v[De=32767+et]]),G(m[De]));for(var wt=63;wt>0&&x[wt]==0;)wt--;if(wt==0)return G(Ue),ee;for(var nt,Ee=1;Ee<=wt;){for(var at=Ee;x[Ee]==0&&Ee<=wt;)++Ee;var Gt=Ee-at;if(Gt>=16){nt=Gt>>4;for(var Oe=1;Oe<=nt;++Oe)G(Ne);Gt&=15}De=32767+x[Ee],G(me[(Gt<<4)+v[De]]),G(m[De]),Ee++}return wt!=63&&G(Ue),ee}function he($){$=Math.min(Math.max($,1),100),l!=$&&((function(M){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var me=d((ee[re]*M+50)/100);me=Math.min(Math.max(me,1),255),f[z[re]]=me}for(var De=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ue=0;Ue<64;Ue++){var Ne=d((De[Ue]*M+50)/100);Ne=Math.min(Math.max(Ne,1),255),u[z[Ue]]=Ne}for(var Ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],rt=0,et=0;et<8;et++)for(var wt=0;wt<8;wt++)h[rt]=1/(f[z[rt]]*Ke[et]*Ke[wt]*8),a[rt]=1/(u[z[rt]]*Ke[et]*Ke[wt]*8),rt++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),l=$)}this.encode=function($,M){M&&he(M),w=new Array,b=0,S=7,pe(65496),pe(65504),pe(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),pe(1),pe(1),W(0),W(0),(function(){pe(65499),pe(132),W(0);for(var vt=0;vt<64;vt++)W(f[vt]);W(1);for(var _t=0;_t<64;_t++)W(u[_t])})(),(function(vt,_t){pe(65472),pe(17),W(8),pe(_t),pe(vt),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})($.width,$.height),(function(){pe(65476),pe(418),W(0);for(var vt=0;vt<16;vt++)W(k[vt+1]);for(var _t=0;_t<=11;_t++)W(K[_t]);W(16);for(var Je=0;Je<16;Je++)W(se[Je+1]);for(var We=0;We<=161;We++)W(V[We]);W(1);for(var yt=0;yt<16;yt++)W(q[yt+1]);for(var zt=0;zt<=11;zt++)W(le[zt]);W(17);for(var ut=0;ut<16;ut++)W(ae[ut+1]);for(var Ft=0;Ft<=161;Ft++)W(ie[Ft])})(),pe(65498),pe(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ee=0,re=0,me=0;b=0,S=7,this.encode.displayName="_encode_";for(var De,Ue,Ne,Ke,rt,et,wt,nt,Ee,at=$.data,Gt=$.width,Oe=$.height,ce=4*Gt,ve=0;ve<Oe;){for(De=0;De<ce;){for(rt=ce*ve+De,wt=-1,nt=0,Ee=0;Ee<64;Ee++)et=rt+(nt=Ee>>3)*ce+(wt=4*(7&Ee)),ve+nt>=Oe&&(et-=ce*(ve+1+nt-Oe)),De+wt>=ce&&(et-=De+wt-ce+4),Ue=at[et++],Ne=at[et++],Ke=at[et++],C[Ee]=(Q[Ue]+Q[Ne+256|0]+Q[Ke+512|0]>>16)-128,B[Ee]=(Q[Ue+768|0]+Q[Ne+1024|0]+Q[Ke+1280|0]>>16)-128,F[Ee]=(Q[Ue+1280|0]+Q[Ne+1536|0]+Q[Ke+1792|0]>>16)-128;ee=oe(C,h,ee,n,s),re=oe(B,a,re,r,i),me=oe(F,a,me,r,i),De+=32}ve+=8}if(S>=0){var Ge=[];Ge[1]=S+1,Ge[0]=(1<<S+1)-1,G(Ge)}return pe(65497),new Uint8Array(w)},t=t||50,(function(){for(var $=String.fromCharCode,M=0;M<256;M++)N[M]=$(M)})(),n=J(k,K),r=J(q,le),s=J(se,V),i=J(ae,ie),(function(){for(var $=1,M=2,ee=1;ee<=15;ee++){for(var re=$;re<M;re++)v[32767+re]=ee,m[32767+re]=[],m[32767+re][1]=ee,m[32767+re][0]=re;for(var me=-(M-1);me<=-$;me++)v[32767+me]=ee,m[32767+me]=[],m[32767+me][1]=ee,m[32767+me][0]=M-1+me;$<<=1,M<<=1}})(),(function(){for(var $=0;$<256;$++)Q[$]=19595*$,Q[$+256|0]=38470*$,Q[$+512|0]=7471*$+32768,Q[$+768|0]=-11059*$,Q[$+1024|0]=-21709*$,Q[$+1280|0]=32768*$+8421375,Q[$+1536|0]=-27439*$,Q[$+1792|0]=-5329*$})(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function FA(t,n){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function s3(t){function n(K){if(!K)throw Error("assert :P")}function r(K,se,V){for(var q=0;4>q;q++)if(K[se+q]!=V.charCodeAt(q))return!0;return!1}function s(K,se,V,q,le){for(var ae=0;ae<le;ae++)K[se+ae]=V[q+ae]}function i(K,se,V,q){for(var le=0;le<q;le++)K[se+le]=V}function l(K){return new Int32Array(K)}function d(K,se){for(var V=[],q=0;q<K;q++)V.push(new se);return V}function f(K,se){var V=[];return(function q(le,ae,ie){for(var J=ie[ae],G=0;G<J&&(le.push(ie.length>ae+1?[]:new se),!(ie.length<ae+1));G++)q(le[G],ae+1,ie)})(V,0,K),V}var u=function(){var K=this;function se(I,U){for(var ne=1<<U-1>>>0;I&ne;)ne>>>=1;return ne?(I&ne-1)+ne:I}function V(I,U,ne,Ae,ye){n(!(Ae%ne));do I[U+(Ae-=ne)]=ye;while(0<Ae)}function q(I,U,ne,Ae,ye){if(n(2328>=ye),512>=ye)var Ce=l(512);else if((Ce=l(ye))==null)return 0;return(function(_e,Pe,Me,$e,st,Pt){var Ve,dt,ft=Pe,kt=1<<Me,Lt=l(16),Wt=l(16);for(n(st!=0),n($e!=null),n(_e!=null),n(0<Me),dt=0;dt<st;++dt){if(15<$e[dt])return 0;++Lt[$e[dt]]}if(Lt[0]==st)return 0;for(Wt[1]=0,Ve=1;15>Ve;++Ve){if(Lt[Ve]>1<<Ve)return 0;Wt[Ve+1]=Wt[Ve]+Lt[Ve]}for(dt=0;dt<st;++dt)Ve=$e[dt],0<$e[dt]&&(Pt[Wt[Ve]++]=dt);if(Wt[15]==1)return($e=new le).g=0,$e.value=Pt[0],V(_e,ft,1,kt,$e),kt;var Kt,An=-1,tn=kt-1,Ar=0,Xn=1,kr=1,rr=1<<Me;for(dt=0,Ve=1,st=2;Ve<=Me;++Ve,st<<=1){if(Xn+=kr<<=1,0>(kr-=Lt[Ve]))return 0;for(;0<Lt[Ve];--Lt[Ve])($e=new le).g=Ve,$e.value=Pt[dt++],V(_e,ft+Ar,st,rr,$e),Ar=se(Ar,Ve)}for(Ve=Me+1,st=2;15>=Ve;++Ve,st<<=1){if(Xn+=kr<<=1,0>(kr-=Lt[Ve]))return 0;for(;0<Lt[Ve];--Lt[Ve]){if($e=new le,(Ar&tn)!=An){for(ft+=rr,Kt=1<<(An=Ve)-Me;15>An&&!(0>=(Kt-=Lt[An]));)++An,Kt<<=1;kt+=rr=1<<(Kt=An-Me),_e[Pe+(An=Ar&tn)].g=Kt+Me,_e[Pe+An].value=ft-Pe-An}$e.g=Ve-Me,$e.value=Pt[dt++],V(_e,ft+(Ar>>Me),st,rr,$e),Ar=se(Ar,Ve)}}return Xn!=2*Wt[15]-1?0:kt})(I,U,ne,Ae,ye,Ce)}function le(){this.value=this.g=0}function ae(){this.value=this.g=0}function ie(){this.G=d(5,le),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(ja,ae)}function J(I,U,ne,Ae){n(I!=null),n(U!=null),n(2147483648>Ae),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=U,I.pa=ne,I.Jd=U,I.Yc=ne+Ae,I.Zc=4<=Ae?ne+Ae-4+1:ne,Ue(I)}function G(I,U){for(var ne=0;0<U--;)ne|=Ke(I,128)<<U;return ne}function W(I,U){var ne=G(I,U);return Ne(I)?-ne:ne}function pe(I,U,ne,Ae){var ye,Ce=0;for(n(I!=null),n(U!=null),n(4294967288>Ae),I.Sb=Ae,I.Ra=0,I.u=0,I.h=0,4<Ae&&(Ae=4),ye=0;ye<Ae;++ye)Ce+=U[ne+ye]<<8*ye;I.Ra=Ce,I.bb=Ae,I.oa=U,I.pa=ne}function oe(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<pl-8>>>0,++I.bb,I.u-=8;re(I)&&(I.h=1,I.u=0)}function he(I,U){if(n(0<=U),!I.h&&U<=Xi){var ne=ee(I)&Zr[U];return I.u+=U,oe(I),ne}return I.h=1,I.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(I){return I.Ra>>>(I.u&pl-1)>>>0}function re(I){return n(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>pl}function me(I,U){I.u=U,I.h=re(I)}function De(I){I.u>=Hl&&(n(I.u>=Hl),oe(I))}function Ue(I){n(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(n(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function Ne(I){return G(I,1)}function Ke(I,U){var ne=I.Ca;0>I.b&&Ue(I);var Ae=I.b,ye=ne*U>>>8,Ce=(I.I>>>Ae>ye)+0;for(Ce?(ne-=ye,I.I-=ye+1<<Ae>>>0):ne=ye+1,Ae=ne,ye=0;256<=Ae;)ye+=8,Ae>>=8;return Ae=7^ye+Vl[Ae],I.b-=Ae,I.Ca=(ne<<Ae)-1,Ce}function rt(I,U,ne){I[U+0]=ne>>24&255,I[U+1]=ne>>16&255,I[U+2]=ne>>8&255,I[U+3]=255&ne}function et(I,U){return I[U+0]|I[U+1]<<8}function wt(I,U){return et(I,U)|I[U+2]<<16}function nt(I,U){return et(I,U)|et(I,U+2)<<16}function Ee(I,U){var ne=1<<U;return n(I!=null),n(0<U),I.X=l(ne),I.X==null?0:(I.Mb=32-U,I.Xa=U,1)}function at(I,U){n(I!=null),n(U!=null),n(I.Xa==U.Xa),s(U.X,0,I.X,0,1<<U.Xa)}function Gt(){this.X=[],this.Xa=this.Mb=0}function Oe(I,U,ne,Ae){n(ne!=null),n(Ae!=null);var ye=ne[0],Ce=Ae[0];return ye==0&&(ye=(I*Ce+U/2)/U),Ce==0&&(Ce=(U*ye+I/2)/I),0>=ye||0>=Ce?0:(ne[0]=ye,Ae[0]=Ce,1)}function ce(I,U){return I+(1<<U)-1>>>U}function ve(I,U){return((4278255360&I)+(4278255360&U)>>>0&4278255360)+((16711935&I)+(16711935&U)>>>0&16711935)>>>0}function Ge(I,U){K[U]=function(ne,Ae,ye,Ce,_e,Pe,Me){var $e;for($e=0;$e<_e;++$e){var st=K[I](Pe[Me+$e-1],ye,Ce+$e);Pe[Me+$e]=ve(ne[Ae+$e],st)}}}function vt(){this.ud=this.hd=this.jd=0}function _t(I,U){return((4278124286&(I^U))>>>1)+(I&U)>>>0}function Je(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function We(I,U){return Je(I+(I-U+.5>>1))}function yt(I,U,ne){return Math.abs(U-ne)-Math.abs(I-ne)}function zt(I,U,ne,Ae,ye,Ce,_e){for(Ae=Ce[_e-1],ne=0;ne<ye;++ne)Ce[_e+ne]=Ae=ve(I[U+ne],Ae)}function ut(I,U,ne,Ae,ye){var Ce;for(Ce=0;Ce<ne;++Ce){var _e=I[U+Ce],Pe=_e>>8&255,Me=16711935&(Me=(Me=16711935&_e)+((Pe<<16)+Pe));Ae[ye+Ce]=(4278255360&_e)+Me>>>0}}function Ft(I,U){U.jd=255&I,U.hd=I>>8&255,U.ud=I>>16&255}function Ct(I,U,ne,Ae,ye,Ce){var _e;for(_e=0;_e<Ae;++_e){var Pe=U[ne+_e],Me=Pe>>>8,$e=Pe,st=255&(st=(st=Pe>>>16)+((I.jd<<24>>24)*(Me<<24>>24)>>>5));$e=255&($e=($e+=(I.hd<<24>>24)*(Me<<24>>24)>>>5)+((I.ud<<24>>24)*(st<<24>>24)>>>5)),ye[Ce+_e]=(4278255360&Pe)+(st<<16)+$e}}function Ye(I,U,ne,Ae,ye){K[U]=function(Ce,_e,Pe,Me,$e,st,Pt,Ve,dt){for(Me=Pt;Me<Ve;++Me)for(Pt=0;Pt<dt;++Pt)$e[st++]=ye(Pe[Ae(Ce[_e++])])},K[I]=function(Ce,_e,Pe,Me,$e,st,Pt){var Ve=8>>Ce.b,dt=Ce.Ea,ft=Ce.K[0],kt=Ce.w;if(8>Ve)for(Ce=(1<<Ce.b)-1,kt=(1<<Ve)-1;_e<Pe;++_e){var Lt,Wt=0;for(Lt=0;Lt<dt;++Lt)Lt&Ce||(Wt=Ae(Me[$e++])),st[Pt++]=ye(ft[Wt&kt]),Wt>>=Ve}else K["VP8LMapColor"+ne](Me,$e,ft,kt,st,Pt,_e,Pe,dt)}}function Zt(I,U,ne,Ae,ye){for(ne=U+ne;U<ne;){var Ce=I[U++];Ae[ye++]=Ce>>16&255,Ae[ye++]=Ce>>8&255,Ae[ye++]=255&Ce}}function on(I,U,ne,Ae,ye){for(ne=U+ne;U<ne;){var Ce=I[U++];Ae[ye++]=Ce>>16&255,Ae[ye++]=Ce>>8&255,Ae[ye++]=255&Ce,Ae[ye++]=Ce>>24&255}}function pn(I,U,ne,Ae,ye){for(ne=U+ne;U<ne;){var Ce=(_e=I[U++])>>16&240|_e>>12&15,_e=240&_e|_e>>28&15;Ae[ye++]=Ce,Ae[ye++]=_e}}function Tt(I,U,ne,Ae,ye){for(ne=U+ne;U<ne;){var Ce=(_e=I[U++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;Ae[ye++]=Ce,Ae[ye++]=_e}}function nn(I,U,ne,Ae,ye){for(ne=U+ne;U<ne;){var Ce=I[U++];Ae[ye++]=255&Ce,Ae[ye++]=Ce>>8&255,Ae[ye++]=Ce>>16&255}}function xt(I,U,ne,Ae,ye,Ce){if(Ce==0)for(ne=U+ne;U<ne;)rt(Ae,((Ce=I[U++])[0]>>24|Ce[1]>>8&65280|Ce[2]<<8&16711680|Ce[3]<<24)>>>0),ye+=32;else s(Ae,ye,I,U,ne)}function an(I,U){K[U][0]=K[I+"0"],K[U][1]=K[I+"1"],K[U][2]=K[I+"2"],K[U][3]=K[I+"3"],K[U][4]=K[I+"4"],K[U][5]=K[I+"5"],K[U][6]=K[I+"6"],K[U][7]=K[I+"7"],K[U][8]=K[I+"8"],K[U][9]=K[I+"9"],K[U][10]=K[I+"10"],K[U][11]=K[I+"11"],K[U][12]=K[I+"12"],K[U][13]=K[I+"13"],K[U][14]=K[I+"0"],K[U][15]=K[I+"0"]}function dn(I){return I==Du||I==Sc||I==Cc||I==A}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function Wn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new Wn,this.sd=null}function rn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yn(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function mr(I,U){var ne=I.T,Ae=U.ba.f.RGBA,ye=Ae.eb,Ce=Ae.fb+I.ka*Ae.A,_e=ho[U.ba.S],Pe=I.y,Me=I.O,$e=I.f,st=I.N,Pt=I.ea,Ve=I.W,dt=U.cc,ft=U.dc,kt=U.Mc,Lt=U.Nc,Wt=I.ka,Kt=I.ka+I.T,An=I.U,tn=An+1>>1;for(Wt==0?_e(Pe,Me,null,null,$e,st,Pt,Ve,$e,st,Pt,Ve,ye,Ce,null,null,An):(_e(U.ec,U.fc,Pe,Me,dt,ft,kt,Lt,$e,st,Pt,Ve,ye,Ce-Ae.A,ye,Ce,An),++ne);Wt+2<Kt;Wt+=2)dt=$e,ft=st,kt=Pt,Lt=Ve,st+=I.Rc,Ve+=I.Rc,Ce+=2*Ae.A,_e(Pe,(Me+=2*I.fa)-I.fa,Pe,Me,dt,ft,kt,Lt,$e,st,Pt,Ve,ye,Ce-Ae.A,ye,Ce,An);return Me+=I.fa,I.j+Kt<I.o?(s(U.ec,U.fc,Pe,Me,An),s(U.cc,U.dc,$e,st,tn),s(U.Mc,U.Nc,Pt,Ve,tn),ne--):1&Kt||_e(Pe,Me,null,null,$e,st,Pt,Ve,$e,st,Pt,Ve,ye,Ce+Ae.A,null,null,An),ne}function os(I,U,ne){var Ae=I.F,ye=[I.J];if(Ae!=null){var Ce=I.U,_e=U.ba.S,Pe=_e==Vc||_e==Cc;U=U.ba.f.RGBA;var Me=[0],$e=I.ka;Me[0]=I.T,I.Kb&&($e==0?--Me[0]:(--$e,ye[0]-=I.width),I.j+I.ka+I.T==I.o&&(Me[0]=I.o-I.j-$e));var st=U.eb;$e=U.fb+$e*U.A,I=ka(Ae,ye[0],I.width,Ce,Me,st,$e+(Pe?0:3),U.A),n(ne==Me),I&&dn(_e)&&Dl(st,$e,Pe,Ce,Me,U.A)}return 0}function Ni(I){var U=I.ma,ne=U.ba.S,Ae=11>ne,ye=ne==lu||ne==Lu||ne==Vc||ne==xl||ne==12||dn(ne);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!Fi(U.Oa,I,ye?11:12))return 0;if(ye&&dn(ne)&&fl(),I.da)alert("todo:use_scaling");else{if(Ae){if(U.Ib=Yn,I.Kb){if(ne=I.U+1>>1,U.memory=l(I.U+2*ne),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+I.U,U.Mc=U.cc,U.Nc=U.dc+ne,U.Ib=mr,fl()}}else alert("todo:EmitYUV");ye&&(U.Jb=os,Ae&&Lo())}if(Ae&&!em){for(I=0;256>I;++I)Vg[I]=89858*(I-128)+da>>$c,Ld[I]=-22014*(I-128)+da,If[I]=-45773*(I-128),ha[I]=113618*(I-128)+da>>$c;for(I=Tc;I<Th;++I)U=76283*(I-16)+da>>$c,Dd[I-Tc]=br(U,255),_f[I-Tc]=br(U+8>>4,15);em=1}return 1}function Mn(I){var U=I.ma,ne=I.U,Ae=I.T;return n(!(1&I.ka)),0>=ne||0>=Ae?0:(ne=U.Ib(I,U),U.Jb!=null&&U.Jb(I,U,ne),U.Dc+=ne,1)}function xo(I){I.ma.memory=null}function Us(I,U,ne,Ae){return he(I,8)!=47?0:(U[0]=he(I,14)+1,ne[0]=he(I,14)+1,Ae[0]=he(I,1),he(I,3)!=0?0:!I.h)}function Ys(I,U){if(4>I)return I+1;var ne=I-2>>1;return(2+(1&I)<<ne)+he(U,ne)+1}function $i(I,U){return 120<U?U-120:1<=(ne=((ne=Ze[U-1])>>4)*I+(8-(15&ne)))?ne:1;var ne}function On(I,U,ne){var Ae=ee(ne),ye=I[U+=255&Ae].g-8;return 0<ye&&(me(ne,ne.u+8),Ae=ee(ne),U+=I[U].value,U+=Ae&(1<<ye)-1),me(ne,ne.u+I[U].g),I[U].value}function xn(I,U,ne){return ne.g+=I.g,ne.value+=I.value<<U>>>0,n(8>=ne.g),I.g}function Ti(I,U,ne){var Ae=I.xc;return n((U=Ae==0?0:I.vc[I.md*(ne>>Ae)+(U>>Ae)])<I.Wb),I.Ya[U]}function ao(I,U,ne,Ae){var ye=I.ab,Ce=I.c*U,_e=I.C;U=_e+U;var Pe=ne,Me=Ae;for(Ae=I.Ta,ne=I.Ua;0<ye--;){var $e=I.gc[ye],st=_e,Pt=U,Ve=Pe,dt=Me,ft=(Me=Ae,Pe=ne,$e.Ea);switch(n(st<Pt),n(Pt<=$e.nc),$e.hc){case 2:Zi(Ve,dt,(Pt-st)*ft,Me,Pe);break;case 0:var kt=st,Lt=Pt,Wt=Me,Kt=Pe,An=(rr=$e).Ea;kt==0&&(zc(Ve,dt,null,null,1,Wt,Kt),zt(Ve,dt+1,0,0,An-1,Wt,Kt+1),dt+=An,Kt+=An,++kt);for(var tn=1<<rr.b,Ar=tn-1,Xn=ce(An,rr.b),kr=rr.K,rr=rr.w+(kt>>rr.b)*Xn;kt<Lt;){var ys=kr,qo=rr,Lr=1;for(Oa(Ve,dt,Wt,Kt-An,1,Wt,Kt);Lr<An;){var Vt=(Lr&~Ar)+tn;Vt>An&&(Vt=An),(0,rl[ys[qo++]>>8&15])(Ve,dt+ +Lr,Wt,Kt+Lr-An,Vt-Lr,Wt,Kt+Lr),Lr=Vt}dt+=An,Kt+=An,++kt&Ar||(rr+=Xn)}Pt!=$e.nc&&s(Me,Pe-ft,Me,Pe+(Pt-st-1)*ft,ft);break;case 1:for(ft=Ve,Lt=dt,An=(Ve=$e.Ea)-(Kt=Ve&~(Wt=(dt=1<<$e.b)-1)),kt=ce(Ve,$e.b),tn=$e.K,$e=$e.w+(st>>$e.b)*kt;st<Pt;){for(Ar=tn,Xn=$e,kr=new vt,rr=Lt+Kt,ys=Lt+Ve;Lt<rr;)Ft(Ar[Xn++],kr),bc(kr,ft,Lt,dt,Me,Pe),Lt+=dt,Pe+=dt;Lt<ys&&(Ft(Ar[Xn++],kr),bc(kr,ft,Lt,An,Me,Pe),Lt+=An,Pe+=An),++st&Wt||($e+=kt)}break;case 3:if(Ve==Me&&dt==Pe&&0<$e.b){for(Lt=Me,Ve=ft=Pe+(Pt-st)*ft-(Kt=(Pt-st)*ce($e.Ea,$e.b)),dt=Me,Wt=Pe,kt=[],Kt=(An=Kt)-1;0<=Kt;--Kt)kt[Kt]=dt[Wt+Kt];for(Kt=An-1;0<=Kt;--Kt)Lt[Ve+Kt]=kt[Kt];Co($e,st,Pt,Me,ft,Me,Pe)}else Co($e,st,Pt,Ve,dt,Me,Pe)}Pe=Ae,Me=ne}Me!=ne&&s(Ae,ne,Pe,Me,Ce)}function lo(I,U){var ne=I.V,Ae=I.Ba+I.c*I.C,ye=U-I.C;if(n(U<=I.l.o),n(16>=ye),0<ye){var Ce=I.l,_e=I.Ta,Pe=I.Ua,Me=Ce.width;if(ao(I,ye,ne,Ae),ye=Pe=[Pe],n((ne=I.C)<(Ae=U)),n(Ce.v<Ce.va),Ae>Ce.o&&(Ae=Ce.o),ne<Ce.j){var $e=Ce.j-ne;ne=Ce.j,ye[0]+=$e*Me}if(ne>=Ae?ne=0:(ye[0]+=4*Ce.v,Ce.ka=ne-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=Ae-ne,ne=1),ne){if(Pe=Pe[0],11>(ne=I.ca).S){var st=ne.f.RGBA,Pt=(Ae=ne.S,ye=Ce.U,Ce=Ce.T,$e=st.eb,st.A),Ve=Ce;for(st=st.fb+I.Ma*st.A;0<Ve--;){var dt=_e,ft=Pe,kt=ye,Lt=$e,Wt=st;switch(Ae){case wa:tc(dt,ft,kt,Lt,Wt);break;case lu:sl(dt,ft,kt,Lt,Wt);break;case Du:sl(dt,ft,kt,Lt,Wt),Dl(Lt,Wt,0,kt,1,0);break;case Sa:ba(dt,ft,kt,Lt,Wt);break;case Lu:xt(dt,ft,kt,Lt,Wt,1);break;case Sc:xt(dt,ft,kt,Lt,Wt,1),Dl(Lt,Wt,0,kt,1,0);break;case Vc:xt(dt,ft,kt,Lt,Wt,0);break;case Cc:xt(dt,ft,kt,Lt,Wt,0),Dl(Lt,Wt,1,kt,1,0);break;case xl:Ll(dt,ft,kt,Lt,Wt);break;case A:Ll(dt,ft,kt,Lt,Wt),Ma(Lt,Wt,kt,1,0);break;case VA:Zo(dt,ft,kt,Lt,Wt);break;default:n(0)}Pe+=Me,st+=Pt}I.Ma+=Ce}else alert("todo:EmitRescaledRowsYUVA");n(I.Ma<=ne.height)}}I.C=U,n(I.C<=I.i)}function Es(I){var U;if(0<I.ua)return 0;for(U=0;U<I.Wb;++U){var ne=I.Ya[U].G,Ae=I.Ya[U].H;if(0<ne[1][Ae[1]+0].g||0<ne[2][Ae[2]+0].g||0<ne[3][Ae[3]+0].g)return 0}return 1}function ti(I,U,ne,Ae,ye,Ce){if(I.Z!=0){var _e=I.qd,Pe=I.rd;for(n(Vs[I.Z]!=null);U<ne;++U)Vs[I.Z](_e,Pe,Ae,ye,Ae,ye,Ce),_e=Ae,Pe=ye,ye+=Ce;I.qd=_e,I.rd=Pe}}function ai(I,U){var ne=I.l.ma,Ae=ne.Z==0||ne.Z==1?I.l.j:I.C;if(Ae=I.C<Ae?Ae:I.C,n(U<=I.l.o),U>Ae){var ye=I.l.width,Ce=ne.ca,_e=ne.tb+ye*Ae,Pe=I.V,Me=I.Ba+I.c*Ae,$e=I.gc;n(I.ab==1),n($e[0].hc==3),Zs($e[0],Ae,U,Pe,Me,Ce,_e),ti(ne,Ae,U,Ce,_e,ye)}I.C=I.Ma=U}function pi(I,U,ne,Ae,ye,Ce,_e){var Pe=I.$/Ae,Me=I.$%Ae,$e=I.m,st=I.s,Pt=ne+I.$,Ve=Pt;ye=ne+Ae*ye;var dt=ne+Ae*Ce,ft=280+st.ua,kt=I.Pb?Pe:16777216,Lt=0<st.ua?st.Wa:null,Wt=st.wc,Kt=Pt<dt?Ti(st,Me,Pe):null;n(I.C<Ce),n(dt<=ye);var An=!1;e:for(;;){for(;An||Pt<dt;){var tn=0;if(Pe>=kt){var Ar=Pt-ne;n((kt=I).Pb),kt.wd=kt.m,kt.xd=Ar,0<kt.s.ua&&at(kt.s.Wa,kt.s.vb),kt=Pe+Ut}if(Me&Wt||(Kt=Ti(st,Me,Pe)),n(Kt!=null),Kt.Qb&&(U[Pt]=Kt.qb,An=!0),!An)if(De($e),Kt.jc){tn=$e,Ar=U;var Xn=Pt,kr=Kt.pd[ee(tn)&ja-1];n(Kt.jc),256>kr.g?(me(tn,tn.u+kr.g),Ar[Xn]=kr.value,tn=0):(me(tn,tn.u+kr.g-256),n(256<=kr.value),tn=kr.value),tn==0&&(An=!0)}else tn=On(Kt.G[0],Kt.H[0],$e);if($e.h)break;if(An||256>tn){if(!An)if(Kt.nd)U[Pt]=(Kt.qb|tn<<8)>>>0;else{if(De($e),An=On(Kt.G[1],Kt.H[1],$e),De($e),Ar=On(Kt.G[2],Kt.H[2],$e),Xn=On(Kt.G[3],Kt.H[3],$e),$e.h)break;U[Pt]=(Xn<<24|An<<16|tn<<8|Ar)>>>0}if(An=!1,++Pt,++Me>=Ae&&(Me=0,++Pe,_e!=null&&Pe<=Ce&&!(Pe%16)&&_e(I,Pe),Lt!=null))for(;Ve<Pt;)tn=U[Ve++],Lt.X[(506832829*tn&4294967295)>>>Lt.Mb]=tn}else if(280>tn){if(tn=Ys(tn-256,$e),Ar=On(Kt.G[4],Kt.H[4],$e),De($e),Ar=$i(Ae,Ar=Ys(Ar,$e)),$e.h)break;if(Pt-ne<Ar||ye-Pt<tn)break e;for(Xn=0;Xn<tn;++Xn)U[Pt+Xn]=U[Pt+Xn-Ar];for(Pt+=tn,Me+=tn;Me>=Ae;)Me-=Ae,++Pe,_e!=null&&Pe<=Ce&&!(Pe%16)&&_e(I,Pe);if(n(Pt<=ye),Me&Wt&&(Kt=Ti(st,Me,Pe)),Lt!=null)for(;Ve<Pt;)tn=U[Ve++],Lt.X[(506832829*tn&4294967295)>>>Lt.Mb]=tn}else{if(!(tn<ft))break e;for(An=tn-280,n(Lt!=null);Ve<Pt;)tn=U[Ve++],Lt.X[(506832829*tn&4294967295)>>>Lt.Mb]=tn;tn=Pt,n(!(An>>>(Ar=Lt).Xa)),U[tn]=Ar.X[An],An=!0}An||n($e.h==re($e))}if(I.Pb&&$e.h&&Pt<ye)n(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&at(I.s.vb,I.s.Wa);else{if($e.h)break e;_e?.(I,Pe>Ce?Ce:Pe),I.a=0,I.$=Pt-ne}return 1}return I.a=3,0}function Ii(I){n(I!=null),I.vc=null,I.yc=null,I.Ya=null;var U=I.Wa;U!=null&&(U.X=null),I.vb=null,n(I!=null)}function Ms(){var I=new Cr;return I==null?null:(I.a=0,I.xb=cu,an("Predictor","VP8LPredictors"),an("Predictor","VP8LPredictors_C"),an("PredictorAdd","VP8LPredictorsAdd"),an("PredictorAdd","VP8LPredictorsAdd_C"),Zi=ut,bc=Ct,tc=Zt,sl=on,Ll=pn,Zo=Tt,ba=nn,K.VP8LMapColor32b=Xs,K.VP8LMapColor8b=ui,I)}function Qo(I,U,ne,Ae,ye){var Ce=1,_e=[I],Pe=[U],Me=Ae.m,$e=Ae.s,st=null,Pt=0;e:for(;;){if(ne)for(;Ce&&he(Me,1);){var Ve=_e,dt=Pe,ft=Ae,kt=1,Lt=ft.m,Wt=ft.gc[ft.ab],Kt=he(Lt,2);if(ft.Oc&1<<Kt)Ce=0;else{switch(ft.Oc|=1<<Kt,Wt.hc=Kt,Wt.Ea=Ve[0],Wt.nc=dt[0],Wt.K=[null],++ft.ab,n(4>=ft.ab),Kt){case 0:case 1:Wt.b=he(Lt,3)+2,kt=Qo(ce(Wt.Ea,Wt.b),ce(Wt.nc,Wt.b),0,ft,Wt.K),Wt.K=Wt.K[0];break;case 3:var An,tn=he(Lt,8)+1,Ar=16<tn?0:4<tn?1:2<tn?2:3;if(Ve[0]=ce(Wt.Ea,Ar),Wt.b=Ar,An=kt=Qo(tn,1,0,ft,Wt.K)){var Xn,kr=tn,rr=Wt,ys=1<<(8>>rr.b),qo=l(ys);if(qo==null)An=0;else{var Lr=rr.K[0],Vt=rr.w;for(qo[0]=rr.K[0][0],Xn=1;Xn<1*kr;++Xn)qo[Xn]=ve(Lr[Vt+Xn],qo[Xn-1]);for(;Xn<4*ys;++Xn)qo[Xn]=0;rr.K[0]=null,rr.K[0]=qo,An=1}}kt=An;break;case 2:break;default:n(0)}Ce=kt}}if(_e=_e[0],Pe=Pe[0],Ce&&he(Me,1)&&!(Ce=1<=(Pt=he(Me,4))&&11>=Pt)){Ae.a=3;break e}var Cn;if(Cn=Ce)t:{var fo,Dr,Br,sr=Ae,Qr=_e,As=Pe,Ai=Pt,Po=ne,Ro=sr.m,Bo=sr.s,Wr=[null],js=1,to=0,Er=Et[Ai];n:for(;;){if(Po&&he(Ro,1)){var Jo=he(Ro,3)+2,Kl=ce(Qr,Jo),no=ce(As,Jo),jl=Kl*no;if(!Qo(Kl,no,0,sr,Wr))break n;for(Wr=Wr[0],Bo.xc=Jo,fo=0;fo<jl;++fo){var yi=Wr[fo]>>8&65535;Wr[fo]=yi,yi>=js&&(js=yi+1)}}if(Ro.h)break n;for(Dr=0;5>Dr;++Dr){var No=Y[Dr];!Dr&&0<Ai&&(No+=1<<Ai),to<No&&(to=No)}var bl=d(js*Er,le),Ha=js,Li=d(Ha,ie);if(Li==null)var $s=null;else n(65536>=Ha),$s=Li;var il=l(to);if($s==null||il==null||bl==null){sr.a=1;break n}var Ba=bl;for(fo=Br=0;fo<js;++fo){var si=$s[fo],wl=si.G,fa=si.H,Ic=0,_c=1,Eo=0;for(Dr=0;5>Dr;++Dr){No=Y[Dr],wl[Dr]=Ba,fa[Dr]=Br,!Dr&&0<Ai&&(No+=1<<Ai);s:{var Pd,$A=No,lA=sr,cA=il,Lf=Ba,nm=Br,GA=0,Fc=lA.m,Df=he(Fc,1);if(i(cA,0,0,$A),Df){var Pf=he(Fc,1)+1,Rf=he(Fc,1),Ih=he(Fc,Rf==0?1:8);cA[Ih]=1,Pf==2&&(cA[Ih=he(Fc,8)]=1);var uA=1}else{var Rd=l(19),Nf=he(Fc,4)+4;if(19<Nf){lA.a=3;var Nd=0;break s}for(Pd=0;Pd<Nf;++Pd)Rd[Se[Pd]]=he(Fc,3);var _h=void 0,Va=void 0,Fh=lA,rm=Rd,Au=$A,Od=cA,Lh=0,Lc=Fh.m,KA=8,Of=d(128,le);r:for(;q(Of,0,7,rm,19);){if(he(Lc,1)){var sm=2+2*he(Lc,3);if((_h=2+he(Lc,sm))>Au)break r}else _h=Au;for(Va=0;Va<Au&&_h--;){De(Lc);var Uf=Of[0+(127&ee(Lc))];me(Lc,Lc.u+Uf.g);var Nu=Uf.value;if(16>Nu)Od[Va++]=Nu,Nu!=0&&(KA=Nu);else{var im=Nu==16,Ud=Nu-16,Dh=P[Ud],pa=he(Lc,y[Ud])+Dh;if(Va+pa>Au)break r;for(var WA=im?KA:0;0<pa--;)Od[Va++]=WA}}Lh=1;break r}Lh||(Fh.a=3),uA=Lh}(uA=uA&&!Fc.h)&&(GA=q(Lf,nm,8,cA,$A)),uA&&GA!=0?Nd=GA:(lA.a=3,Nd=0)}if(Nd==0)break n;if(_c&&de[Dr]==1&&(_c=Ba[Br].g==0),Ic+=Ba[Br].g,Br+=Nd,3>=Dr){var AA,Ph=il[0];for(AA=1;AA<No;++AA)il[AA]>Ph&&(Ph=il[AA]);Eo+=Ph}}if(si.nd=_c,si.Qb=0,_c&&(si.qb=(wl[3][fa[3]+0].value<<24|wl[1][fa[1]+0].value<<16|wl[2][fa[2]+0].value)>>>0,Ic==0&&256>wl[0][fa[0]+0].value&&(si.Qb=1,si.qb+=wl[0][fa[0]+0].value<<8)),si.jc=!si.Qb&&6>Eo,si.jc){var YA,Dc=si;for(YA=0;YA<ja;++YA){var Gc=YA,du=Dc.pd[Gc],Md=Dc.G[0][Dc.H[0]+Gc];256<=Md.value?(du.g=Md.g+256,du.value=Md.value):(du.g=0,du.value=0,Gc>>=xn(Md,8,du),Gc>>=xn(Dc.G[1][Dc.H[1]+Gc],16,du),Gc>>=xn(Dc.G[2][Dc.H[2]+Gc],0,du),xn(Dc.G[3][Dc.H[3]+Gc],24,du))}}}Bo.vc=Wr,Bo.Wb=js,Bo.Ya=$s,Bo.yc=bl,Cn=1;break t}Cn=0}if(!(Ce=Cn)){Ae.a=3;break e}if(0<Pt){if($e.ua=1<<Pt,!Ee($e.Wa,Pt)){Ae.a=1,Ce=0;break e}}else $e.ua=0;var kd=Ae,Mf=_e,om=Pe,kf=kd.s,Qf=kf.xc;if(kd.c=Mf,kd.i=om,kf.md=ce(Mf,Qf),kf.wc=Qf==0?-1:(1<<Qf)-1,ne){Ae.xb=Bh;break e}if((st=l(_e*Pe))==null){Ae.a=1,Ce=0;break e}Ce=(Ce=pi(Ae,st,0,_e,Pe,Pe,null))&&!Me.h;break e}return Ce?(ye!=null?ye[0]=st:(n(st==null),n(ne)),Ae.$=0,ne||Ii($e)):Ii($e),Ce}function La(I,U){var ne=I.c*I.i,Ae=ne+U+16*U;return n(I.c<=U),I.V=l(Ae),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+ne+U,1)}function zo(I,U){var ne=I.C,Ae=U-ne,ye=I.V,Ce=I.Ba+I.c*ne;for(n(U<=I.l.o);0<Ae;){var _e=16<Ae?16:Ae,Pe=I.l.ma,Me=I.l.width,$e=Me*_e,st=Pe.ca,Pt=Pe.tb+Me*ne,Ve=I.Ta,dt=I.Ua;ao(I,_e,ye,Ce),ou(Ve,dt,st,Pt,$e),ti(Pe,ne,ne+_e,st,Pt,Me),Ae-=_e,ye+=_e*I.c,ne+=_e}n(ne==U),I.C=I.Ma=U}function Ho(){this.ub=this.yd=this.td=this.Rb=0}function Il(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oa(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function fn(){this.Yb=(function(){var I=[];return(function U(ne,Ae,ye){for(var Ce=ye[Ae],_e=0;_e<Ce&&(ne.push(ye.length>Ae+1?[]:0),!(ye.length<Ae+1));_e++)U(ne[_e],Ae+1,ye)})(I,0,[3,11]),I})()}function Qc(){this.jb=l(3),this.Wc=f([4,8],fn),this.Xc=f([4,17],fn)}function Vo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Oi(){this.ld=this.La=this.dd=this.tc=0}function yo(){this.Na=this.la=0}function cl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jo(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Da(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oi),this.Y=0,this.ya=Array(new jo),this.aa=0,this.l=new Ss}function _l(){this.y=l(16),this.f=l(8),this.ea=l(8)}function _o(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new Ho,this.Kc=new Il,this.ed=new Vo,this.Qa=new oa,this.Ic=this.$c=this.Aa=0,this.D=new Da,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,$),this.ia=0,this.pb=d(4,cl),this.Pa=new Qc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _l),this.Hd=0,this.rb=Array(new yo),this.sb=0,this.wa=Array(new Oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jo),this.L=this.aa=0,this.gd=f([4,2],Oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function br(I,U){return 0>I?0:I>U?U:I}function Ss(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ui(){var I=new _o;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,zn||(zn=gr)),I}function ks(I,U,ne){return I.a==0&&(I.a=U,I.sc=ne,I.cb=0),0}function $o(I,U,ne){return 3<=ne&&I[U+0]==157&&I[U+1]==1&&I[U+2]==42}function Mi(I,U){if(I==null)return 0;if(I.a=0,I.sc="OK",U==null)return ks(I,2,"null VP8Io passed to VP8GetHeaders()");var ne=U.data,Ae=U.w,ye=U.ha;if(4>ye)return ks(I,7,"Truncated header.");var Ce=ne[Ae+0]|ne[Ae+1]<<8|ne[Ae+2]<<16,_e=I.Od;if(_e.Rb=!(1&Ce),_e.td=Ce>>1&7,_e.yd=Ce>>4&1,_e.ub=Ce>>5,3<_e.td)return ks(I,3,"Incorrect keyframe parameters.");if(!_e.yd)return ks(I,4,"Frame not displayable.");Ae+=3,ye-=3;var Pe=I.Kc;if(_e.Rb){if(7>ye)return ks(I,7,"cannot parse picture header");if(!$o(ne,Ae,ye))return ks(I,3,"Bad code word");Pe.c=16383&(ne[Ae+4]<<8|ne[Ae+3]),Pe.Td=ne[Ae+4]>>6,Pe.i=16383&(ne[Ae+6]<<8|ne[Ae+5]),Pe.Ud=ne[Ae+6]>>6,Ae+=7,ye-=7,I.za=Pe.c+15>>4,I.Ub=Pe.i+15>>4,U.width=Pe.c,U.height=Pe.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,i((Ce=I.Pa).jb,0,255,Ce.jb.length),n((Ce=I.Qa)!=null),Ce.Cb=0,Ce.Bb=0,Ce.Fb=1,i(Ce.Zb,0,0,Ce.Zb.length),i(Ce.Lb,0,0,Ce.Lb)}if(_e.ub>ye)return ks(I,7,"bad partition length");J(Ce=I.m,ne,Ae,_e.ub),Ae+=_e.ub,ye-=_e.ub,_e.Rb&&(Pe.Ld=Ne(Ce),Pe.Kd=Ne(Ce)),Pe=I.Qa;var Me,$e=I.Pa;if(n(Ce!=null),n(Pe!=null),Pe.Cb=Ne(Ce),Pe.Cb){if(Pe.Bb=Ne(Ce),Ne(Ce)){for(Pe.Fb=Ne(Ce),Me=0;4>Me;++Me)Pe.Zb[Me]=Ne(Ce)?W(Ce,7):0;for(Me=0;4>Me;++Me)Pe.Lb[Me]=Ne(Ce)?W(Ce,6):0}if(Pe.Bb)for(Me=0;3>Me;++Me)$e.jb[Me]=Ne(Ce)?G(Ce,8):255}else Pe.Bb=0;if(Ce.Ka)return ks(I,3,"cannot parse segment header");if((Pe=I.ed).zd=Ne(Ce),Pe.Tb=G(Ce,6),Pe.wb=G(Ce,3),Pe.Pc=Ne(Ce),Pe.Pc&&Ne(Ce)){for($e=0;4>$e;++$e)Ne(Ce)&&(Pe.vd[$e]=W(Ce,6));for($e=0;4>$e;++$e)Ne(Ce)&&(Pe.od[$e]=W(Ce,6))}if(I.L=Pe.Tb==0?0:Pe.zd?1:2,Ce.Ka)return ks(I,3,"cannot parse filter header");var st=ye;if(ye=Me=Ae,Ae=Me+st,Pe=st,I.Xb=(1<<G(I.m,2))-1,st<3*($e=I.Xb))ne=7;else{for(Me+=3*$e,Pe-=3*$e,st=0;st<$e;++st){var Pt=ne[ye+0]|ne[ye+1]<<8|ne[ye+2]<<16;Pt>Pe&&(Pt=Pe),J(I.Jc[+st],ne,Me,Pt),Me+=Pt,Pe-=Pt,ye+=3}J(I.Jc[+$e],ne,Me,Pe),ne=Me<Ae?0:5}if(ne!=0)return ks(I,ne,"cannot parse partitions");for(ne=G(Me=I.m,7),ye=Ne(Me)?W(Me,4):0,Ae=Ne(Me)?W(Me,4):0,Pe=Ne(Me)?W(Me,4):0,$e=Ne(Me)?W(Me,4):0,Me=Ne(Me)?W(Me,4):0,st=I.Qa,Pt=0;4>Pt;++Pt){if(st.Cb){var Ve=st.Zb[Pt];st.Fb||(Ve+=ne)}else{if(0<Pt){I.pb[Pt]=I.pb[0];continue}Ve=ne}var dt=I.pb[Pt];dt.Sc[0]=sn[br(Ve+ye,127)],dt.Sc[1]=Fn[br(Ve+0,127)],dt.Eb[0]=2*sn[br(Ve+Ae,127)],dt.Eb[1]=101581*Fn[br(Ve+Pe,127)]>>16,8>dt.Eb[1]&&(dt.Eb[1]=8),dt.Qc[0]=sn[br(Ve+$e,117)],dt.Qc[1]=Fn[br(Ve+Me,127)],dt.lc=Ve+Me}if(!_e.Rb)return ks(I,4,"Not a key frame.");for(Ne(Ce),_e=I.Pa,ne=0;4>ne;++ne){for(ye=0;8>ye;++ye)for(Ae=0;3>Ae;++Ae)for(Pe=0;11>Pe;++Pe)$e=Ke(Ce,Pl[ne][ye][Ae][Pe])?G(Ce,8):Ao[ne][ye][Ae][Pe],_e.Wc[ne][ye].Yb[Ae][Pe]=$e;for(ye=0;17>ye;++ye)_e.Xc[ne][ye]=_e.Wc[ne][Ch[ye]]}return I.kc=Ne(Ce),I.kc&&(I.Bd=G(Ce,8)),I.cb=1}function gr(I,U,ne,Ae,ye,Ce,_e){var Pe=U[ye].Yb[ne];for(ne=0;16>ye;++ye){if(!Ke(I,Pe[ne+0]))return ye;for(;!Ke(I,Pe[ne+1]);)if(Pe=U[++ye].Yb[0],ne=0,ye==16)return 16;var Me=U[ye+1].Yb;if(Ke(I,Pe[ne+2])){var $e=I,st=0;if(Ke($e,(Ve=Pe)[(Pt=ne)+3]))if(Ke($e,Ve[Pt+6])){for(Pe=0,Pt=2*(st=Ke($e,Ve[Pt+8]))+(Ve=Ke($e,Ve[Pt+9+st])),st=0,Ve=cr[Pt];Ve[Pe];++Pe)st+=st+Ke($e,Ve[Pe]);st+=3+(8<<Pt)}else Ke($e,Ve[Pt+7])?(st=7+2*Ke($e,165),st+=Ke($e,145)):st=5+Ke($e,159);else st=Ke($e,Ve[Pt+4])?3+Ke($e,Ve[Pt+5]):2;Pe=Me[2]}else st=1,Pe=Me[1];Me=_e+Fr[ye],0>($e=I).b&&Ue($e);var Pt,Ve=$e.b,dt=(Pt=$e.Ca>>1)-($e.I>>Ve)>>31;--$e.b,$e.Ca+=dt,$e.Ca|=1,$e.I-=(Pt+1&dt)<<Ve,Ce[Me]=((st^dt)-dt)*Ae[(0<ye)+0]}return 16}function _s(I){var U=I.rb[I.sb-1];U.la=0,U.Na=0,i(I.zc,0,0,I.zc.length),I.ja=0}function hs(I,U,ne,Ae,ye){ye=I[U+ne+32*Ae]+(ye>>3),I[U+ne+32*Ae]=-256&ye?0>ye?0:255:ye}function qr(I,U,ne,Ae,ye,Ce){hs(I,U,0,ne,Ae+ye),hs(I,U,1,ne,Ae+Ce),hs(I,U,2,ne,Ae-Ce),hs(I,U,3,ne,Ae-ye)}function li(I){return(20091*I>>16)+I}function Ql(I,U,ne,Ae){var ye,Ce=0,_e=l(16);for(ye=0;4>ye;++ye){var Pe=I[U+0]+I[U+8],Me=I[U+0]-I[U+8],$e=(35468*I[U+4]>>16)-li(I[U+12]),st=li(I[U+4])+(35468*I[U+12]>>16);_e[Ce+0]=Pe+st,_e[Ce+1]=Me+$e,_e[Ce+2]=Me-$e,_e[Ce+3]=Pe-st,Ce+=4,U++}for(ye=Ce=0;4>ye;++ye)Pe=(I=_e[Ce+0]+4)+_e[Ce+8],Me=I-_e[Ce+8],$e=(35468*_e[Ce+4]>>16)-li(_e[Ce+12]),hs(ne,Ae,0,0,Pe+(st=li(_e[Ce+4])+(35468*_e[Ce+12]>>16))),hs(ne,Ae,1,0,Me+$e),hs(ne,Ae,2,0,Me-$e),hs(ne,Ae,3,0,Pe-st),Ce++,Ae+=32}function ul(I,U,ne,Ae){var ye=I[U+0]+4,Ce=35468*I[U+4]>>16,_e=li(I[U+4]),Pe=35468*I[U+1]>>16;qr(ne,Ae,0,ye+_e,I=li(I[U+1]),Pe),qr(ne,Ae,1,ye+Ce,I,Pe),qr(ne,Ae,2,ye-Ce,I,Pe),qr(ne,Ae,3,ye-_e,I,Pe)}function Go(I,U,ne,Ae,ye){Ql(I,U,ne,Ae),ye&&Ql(I,U+16,ne,Ae+4)}function fs(I,U,ne,Ae){nc(I,U+0,ne,Ae,1),nc(I,U+32,ne,Ae+128,1)}function Ja(I,U,ne,Ae){var ye;for(I=I[U+0]+4,ye=0;4>ye;++ye)for(U=0;4>U;++U)hs(ne,Ae,U,ye,I)}function Ko(I,U,ne,Ae){I[U+0]&&cs(I,U+0,ne,Ae),I[U+16]&&cs(I,U+16,ne,Ae+4),I[U+32]&&cs(I,U+32,ne,Ae+128),I[U+48]&&cs(I,U+48,ne,Ae+128+4)}function aa(I,U,ne,Ae){var ye,Ce=l(16);for(ye=0;4>ye;++ye){var _e=I[U+0+ye]+I[U+12+ye],Pe=I[U+4+ye]+I[U+8+ye],Me=I[U+4+ye]-I[U+8+ye],$e=I[U+0+ye]-I[U+12+ye];Ce[0+ye]=_e+Pe,Ce[8+ye]=_e-Pe,Ce[4+ye]=$e+Me,Ce[12+ye]=$e-Me}for(ye=0;4>ye;++ye)_e=(I=Ce[0+4*ye]+3)+Ce[3+4*ye],Pe=Ce[1+4*ye]+Ce[2+4*ye],Me=Ce[1+4*ye]-Ce[2+4*ye],$e=I-Ce[3+4*ye],ne[Ae+0]=_e+Pe>>3,ne[Ae+16]=$e+Me>>3,ne[Ae+32]=_e-Pe>>3,ne[Ae+48]=$e-Me>>3,Ae+=64}function Mr(I,U,ne){var Ae,ye=U-32,Ce=Do,_e=255-I[ye-1];for(Ae=0;Ae<ne;++Ae){var Pe,Me=Ce,$e=_e+I[U-1];for(Pe=0;Pe<ne;++Pe)I[U+Pe]=Me[$e+I[ye+Pe]];U+=32}}function ki(I,U){Mr(I,U,4)}function Wo(I,U){Mr(I,U,8)}function ec(I,U){Mr(I,U,16)}function Al(I,U){var ne;for(ne=0;16>ne;++ne)s(I,U+32*ne,I,U-32,16)}function xa(I,U){var ne;for(ne=16;0<ne;--ne)i(I,U,I[U-1],16),U+=32}function Qs(I,U,ne){var Ae;for(Ae=0;16>Ae;++Ae)i(U,ne+32*Ae,I,16)}function Pa(I,U){var ne,Ae=16;for(ne=0;16>ne;++ne)Ae+=I[U-1+32*ne]+I[U+ne-32];Qs(Ae>>5,I,U)}function Gi(I,U){var ne,Ae=8;for(ne=0;16>ne;++ne)Ae+=I[U-1+32*ne];Qs(Ae>>4,I,U)}function Yo(I,U){var ne,Ae=8;for(ne=0;16>ne;++ne)Ae+=I[U+ne-32];Qs(Ae>>4,I,U)}function la(I,U){Qs(128,I,U)}function hn(I,U,ne){return I+2*U+ne+2>>2}function Ki(I,U){var ne,Ae=U-32;for(Ae=new Uint8Array([hn(I[Ae-1],I[Ae+0],I[Ae+1]),hn(I[Ae+0],I[Ae+1],I[Ae+2]),hn(I[Ae+1],I[Ae+2],I[Ae+3]),hn(I[Ae+2],I[Ae+3],I[Ae+4])]),ne=0;4>ne;++ne)s(I,U+32*ne,Ae,0,Ae.length)}function as(I,U){var ne=I[U-1],Ae=I[U-1+32],ye=I[U-1+64],Ce=I[U-1+96];rt(I,U+0,16843009*hn(I[U-1-32],ne,Ae)),rt(I,U+32,16843009*hn(ne,Ae,ye)),rt(I,U+64,16843009*hn(Ae,ye,Ce)),rt(I,U+96,16843009*hn(ye,Ce,Ce))}function _i(I,U){var ne,Ae=4;for(ne=0;4>ne;++ne)Ae+=I[U+ne-32]+I[U-1+32*ne];for(Ae>>=3,ne=0;4>ne;++ne)i(I,U+32*ne,Ae,4)}function Wi(I,U){var ne=I[U-1+0],Ae=I[U-1+32],ye=I[U-1+64],Ce=I[U-1-32],_e=I[U+0-32],Pe=I[U+1-32],Me=I[U+2-32],$e=I[U+3-32];I[U+0+96]=hn(Ae,ye,I[U-1+96]),I[U+1+96]=I[U+0+64]=hn(ne,Ae,ye),I[U+2+96]=I[U+1+64]=I[U+0+32]=hn(Ce,ne,Ae),I[U+3+96]=I[U+2+64]=I[U+1+32]=I[U+0+0]=hn(_e,Ce,ne),I[U+3+64]=I[U+2+32]=I[U+1+0]=hn(Pe,_e,Ce),I[U+3+32]=I[U+2+0]=hn(Me,Pe,_e),I[U+3+0]=hn($e,Me,Pe)}function Yi(I,U){var ne=I[U+1-32],Ae=I[U+2-32],ye=I[U+3-32],Ce=I[U+4-32],_e=I[U+5-32],Pe=I[U+6-32],Me=I[U+7-32];I[U+0+0]=hn(I[U+0-32],ne,Ae),I[U+1+0]=I[U+0+32]=hn(ne,Ae,ye),I[U+2+0]=I[U+1+32]=I[U+0+64]=hn(Ae,ye,Ce),I[U+3+0]=I[U+2+32]=I[U+1+64]=I[U+0+96]=hn(ye,Ce,_e),I[U+3+32]=I[U+2+64]=I[U+1+96]=hn(Ce,_e,Pe),I[U+3+64]=I[U+2+96]=hn(_e,Pe,Me),I[U+3+96]=hn(Pe,Me,Me)}function ni(I,U){var ne=I[U-1+0],Ae=I[U-1+32],ye=I[U-1+64],Ce=I[U-1-32],_e=I[U+0-32],Pe=I[U+1-32],Me=I[U+2-32],$e=I[U+3-32];I[U+0+0]=I[U+1+64]=Ce+_e+1>>1,I[U+1+0]=I[U+2+64]=_e+Pe+1>>1,I[U+2+0]=I[U+3+64]=Pe+Me+1>>1,I[U+3+0]=Me+$e+1>>1,I[U+0+96]=hn(ye,Ae,ne),I[U+0+64]=hn(Ae,ne,Ce),I[U+0+32]=I[U+1+96]=hn(ne,Ce,_e),I[U+1+32]=I[U+2+96]=hn(Ce,_e,Pe),I[U+2+32]=I[U+3+96]=hn(_e,Pe,Me),I[U+3+32]=hn(Pe,Me,$e)}function ya(I,U){var ne=I[U+0-32],Ae=I[U+1-32],ye=I[U+2-32],Ce=I[U+3-32],_e=I[U+4-32],Pe=I[U+5-32],Me=I[U+6-32],$e=I[U+7-32];I[U+0+0]=ne+Ae+1>>1,I[U+1+0]=I[U+0+64]=Ae+ye+1>>1,I[U+2+0]=I[U+1+64]=ye+Ce+1>>1,I[U+3+0]=I[U+2+64]=Ce+_e+1>>1,I[U+0+32]=hn(ne,Ae,ye),I[U+1+32]=I[U+0+96]=hn(Ae,ye,Ce),I[U+2+32]=I[U+1+96]=hn(ye,Ce,_e),I[U+3+32]=I[U+2+96]=hn(Ce,_e,Pe),I[U+3+64]=hn(_e,Pe,Me),I[U+3+96]=hn(Pe,Me,$e)}function ca(I,U){var ne=I[U-1+0],Ae=I[U-1+32],ye=I[U-1+64],Ce=I[U-1+96];I[U+0+0]=ne+Ae+1>>1,I[U+2+0]=I[U+0+32]=Ae+ye+1>>1,I[U+2+32]=I[U+0+64]=ye+Ce+1>>1,I[U+1+0]=hn(ne,Ae,ye),I[U+3+0]=I[U+1+32]=hn(Ae,ye,Ce),I[U+3+32]=I[U+1+64]=hn(ye,Ce,Ce),I[U+3+64]=I[U+2+64]=I[U+0+96]=I[U+1+96]=I[U+2+96]=I[U+3+96]=Ce}function el(I,U){var ne=I[U-1+0],Ae=I[U-1+32],ye=I[U-1+64],Ce=I[U-1+96],_e=I[U-1-32],Pe=I[U+0-32],Me=I[U+1-32],$e=I[U+2-32];I[U+0+0]=I[U+2+32]=ne+_e+1>>1,I[U+0+32]=I[U+2+64]=Ae+ne+1>>1,I[U+0+64]=I[U+2+96]=ye+Ae+1>>1,I[U+0+96]=Ce+ye+1>>1,I[U+3+0]=hn(Pe,Me,$e),I[U+2+0]=hn(_e,Pe,Me),I[U+1+0]=I[U+3+32]=hn(ne,_e,Pe),I[U+1+32]=I[U+3+64]=hn(Ae,ne,_e),I[U+1+64]=I[U+3+96]=hn(ye,Ae,ne),I[U+1+96]=hn(Ce,ye,Ae)}function zs(I,U){var ne;for(ne=0;8>ne;++ne)s(I,U+32*ne,I,U-32,8)}function Fo(I,U){var ne;for(ne=0;8>ne;++ne)i(I,U,I[U-1],8),U+=32}function Ra(I,U,ne){var Ae;for(Ae=0;8>Ae;++Ae)i(U,ne+32*Ae,I,8)}function ze(I,U){var ne,Ae=8;for(ne=0;8>ne;++ne)Ae+=I[U+ne-32]+I[U-1+32*ne];Ra(Ae>>4,I,U)}function ot(I,U){var ne,Ae=4;for(ne=0;8>ne;++ne)Ae+=I[U+ne-32];Ra(Ae>>3,I,U)}function Nt(I,U){var ne,Ae=4;for(ne=0;8>ne;++ne)Ae+=I[U-1+32*ne];Ra(Ae>>3,I,U)}function Ln(I,U){Ra(128,I,U)}function un(I,U,ne){var Ae=I[U-ne],ye=I[U+0],Ce=3*(ye-Ae)+Hc[1020+I[U-2*ne]-I[U+ne]],_e=Gl[112+(Ce+4>>3)];I[U-ne]=Do[255+Ae+Gl[112+(Ce+3>>3)]],I[U+0]=Do[255+ye-_e]}function tr(I,U,ne,Ae){var ye=I[U+0],Ce=I[U+ne];return vl[255+I[U-2*ne]-I[U-ne]]>Ae||vl[255+Ce-ye]>Ae}function kn(I,U,ne,Ae){return 4*vl[255+I[U-ne]-I[U+0]]+vl[255+I[U-2*ne]-I[U+ne]]<=Ae}function wr(I,U,ne,Ae,ye){var Ce=I[U-3*ne],_e=I[U-2*ne],Pe=I[U-ne],Me=I[U+0],$e=I[U+ne],st=I[U+2*ne],Pt=I[U+3*ne];return 4*vl[255+Pe-Me]+vl[255+_e-$e]>Ae?0:vl[255+I[U-4*ne]-Ce]<=ye&&vl[255+Ce-_e]<=ye&&vl[255+_e-Pe]<=ye&&vl[255+Pt-st]<=ye&&vl[255+st-$e]<=ye&&vl[255+$e-Me]<=ye}function Sr(I,U,ne,Ae){var ye=2*Ae+1;for(Ae=0;16>Ae;++Ae)kn(I,U+Ae,ne,ye)&&un(I,U+Ae,ne)}function mi(I,U,ne,Ae){var ye=2*Ae+1;for(Ae=0;16>Ae;++Ae)kn(I,U+Ae*ne,1,ye)&&un(I,U+Ae*ne,1)}function co(I,U,ne,Ae){var ye;for(ye=3;0<ye;--ye)Sr(I,U+=4*ne,ne,Ae)}function tl(I,U,ne,Ae){var ye;for(ye=3;0<ye;--ye)mi(I,U+=4,ne,Ae)}function bo(I,U,ne,Ae,ye,Ce,_e,Pe){for(Ce=2*Ce+1;0<ye--;){if(wr(I,U,ne,Ce,_e))if(tr(I,U,ne,Pe))un(I,U,ne);else{var Me=I,$e=U,st=ne,Pt=Me[$e-2*st],Ve=Me[$e-st],dt=Me[$e+0],ft=Me[$e+st],kt=Me[$e+2*st],Lt=27*(Kt=Hc[1020+3*(dt-Ve)+Hc[1020+Pt-ft]])+63>>7,Wt=18*Kt+63>>7,Kt=9*Kt+63>>7;Me[$e-3*st]=Do[255+Me[$e-3*st]+Kt],Me[$e-2*st]=Do[255+Pt+Wt],Me[$e-st]=Do[255+Ve+Lt],Me[$e+0]=Do[255+dt-Lt],Me[$e+st]=Do[255+ft-Wt],Me[$e+2*st]=Do[255+kt-Kt]}U+=Ae}}function wo(I,U,ne,Ae,ye,Ce,_e,Pe){for(Ce=2*Ce+1;0<ye--;){if(wr(I,U,ne,Ce,_e))if(tr(I,U,ne,Pe))un(I,U,ne);else{var Me=I,$e=U,st=ne,Pt=Me[$e-st],Ve=Me[$e+0],dt=Me[$e+st],ft=Gl[112+(4+(kt=3*(Ve-Pt))>>3)],kt=Gl[112+(kt+3>>3)],Lt=ft+1>>1;Me[$e-2*st]=Do[255+Me[$e-2*st]+Lt],Me[$e-st]=Do[255+Pt+kt],Me[$e+0]=Do[255+Ve-ft],Me[$e+st]=Do[255+dt-Lt]}U+=Ae}}function zl(I,U,ne,Ae,ye,Ce){bo(I,U,ne,1,16,Ae,ye,Ce)}function jc(I,U,ne,Ae,ye,Ce){bo(I,U,1,ne,16,Ae,ye,Ce)}function dl(I,U,ne,Ae,ye,Ce){var _e;for(_e=3;0<_e;--_e)wo(I,U+=4*ne,ne,1,16,Ae,ye,Ce)}function X(I,U,ne,Ae,ye,Ce){var _e;for(_e=3;0<_e;--_e)wo(I,U+=4,1,ne,16,Ae,ye,Ce)}function xe(I,U,ne,Ae,ye,Ce,_e,Pe){bo(I,U,ye,1,8,Ce,_e,Pe),bo(ne,Ae,ye,1,8,Ce,_e,Pe)}function He(I,U,ne,Ae,ye,Ce,_e,Pe){bo(I,U,1,ye,8,Ce,_e,Pe),bo(ne,Ae,1,ye,8,Ce,_e,Pe)}function tt(I,U,ne,Ae,ye,Ce,_e,Pe){wo(I,U+4*ye,ye,1,8,Ce,_e,Pe),wo(ne,Ae+4*ye,ye,1,8,Ce,_e,Pe)}function jt(I,U,ne,Ae,ye,Ce,_e,Pe){wo(I,U+4,1,ye,8,Ce,_e,Pe),wo(ne,Ae+4,1,ye,8,Ce,_e,Pe)}function Ht(){this.ba=new jn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function en(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function In(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nr(){this.ua=0,this.Wa=new Gt,this.vb=new Gt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new le}function Cr(){this.xb=this.a=0,this.l=new Ss,this.ca=new jn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nr,this.ab=0,this.gc=d(4,In),this.Oc=0}function Tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ss,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ts(I,U,ne,Ae,ye,Ce,_e){for(I=I==null?0:I[U+0],U=0;U<_e;++U)ye[Ce+U]=I+ne[Ae+U]&255,I=ye[Ce+U]}function gi(I,U,ne,Ae,ye,Ce,_e){var Pe;if(I==null)ts(null,null,ne,Ae,ye,Ce,_e);else for(Pe=0;Pe<_e;++Pe)ye[Ce+Pe]=I[U+Pe]+ne[Ae+Pe]&255}function Qi(I,U,ne,Ae,ye,Ce,_e){if(I==null)ts(null,null,ne,Ae,ye,Ce,_e);else{var Pe,Me=I[U+0],$e=Me,st=Me;for(Pe=0;Pe<_e;++Pe)$e=st+(Me=I[U+Pe])-$e,st=ne[Ae+Pe]+(-256&$e?0>$e?0:255:$e)&255,$e=Me,ye[Ce+Pe]=st}}function Cs(I,U,ne,Ae){var ye=U.width,Ce=U.o;if(n(I!=null&&U!=null),0>ne||0>=Ae||ne+Ae>Ce)return null;if(!I.Cc){if(I.ga==null){var _e;if(I.ga=new Tr,(_e=I.ga==null)||(_e=U.width*U.o,n(I.Gb.length==0),I.Gb=l(_e),I.Uc=0,I.Gb==null?_e=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,_e=1),_e=!_e),!_e){_e=I.ga;var Pe=I.Fa,Me=I.P,$e=I.qc,st=I.mb,Pt=I.nb,Ve=Me+1,dt=$e-1,ft=_e.l;if(n(Pe!=null&&st!=null&&U!=null),Vs[0]=null,Vs[1]=ts,Vs[2]=gi,Vs[3]=Qi,_e.ca=st,_e.tb=Pt,_e.c=U.width,_e.i=U.height,n(0<_e.c&&0<_e.i),1>=$e)U=0;else if(_e.$a=3&Pe[Me+0],_e.Z=Pe[Me+0]>>2&3,_e.Lc=Pe[Me+0]>>4&3,Me=Pe[Me+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||Me)U=0;else if(ft.put=Mn,ft.ac=Ni,ft.bc=xo,ft.ma=_e,ft.width=U.width,ft.height=U.height,ft.Da=U.Da,ft.v=U.v,ft.va=U.va,ft.j=U.j,ft.o=U.o,_e.$a)e:{n(_e.$a==1),U=Ms();t:for(;;){if(U==null){U=0;break e}if(n(_e!=null),_e.mc=U,U.c=_e.c,U.i=_e.i,U.l=_e.l,U.l.ma=_e,U.l.width=_e.c,U.l.height=_e.i,U.a=0,pe(U.m,Pe,Ve,dt),!Qo(_e.c,_e.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&Es(U.s)?(_e.ic=1,Pe=U.c*U.i,U.Ta=null,U.Ua=0,U.V=l(Pe),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(_e.ic=0,U=La(U,_e.c)),!U))break t;U=1;break e}_e.mc=null,U=0}else U=dt>=_e.c*_e.i;_e=!U}if(_e)return null;I.ga.Lc!=1?I.Ga=0:Ae=Ce-ne}n(I.ga!=null),n(ne+Ae<=Ce);e:{if(U=(Pe=I.ga).c,Ce=Pe.l.o,Pe.$a==0){if(Ve=I.rc,dt=I.Vc,ft=I.Fa,Me=I.P+1+ne*U,$e=I.mb,st=I.nb+ne*U,n(Me<=I.P+I.qc),Pe.Z!=0)for(n(Vs[Pe.Z]!=null),_e=0;_e<Ae;++_e)Vs[Pe.Z](Ve,dt,ft,Me,$e,st,U),Ve=$e,dt=st,st+=U,Me+=U;else for(_e=0;_e<Ae;++_e)s($e,st,ft,Me,U),Ve=$e,dt=st,st+=U,Me+=U;I.rc=Ve,I.Vc=dt}else{if(n(Pe.mc!=null),U=ne+Ae,n((_e=Pe.mc)!=null),n(U<=_e.i),_e.C>=U)U=1;else if(Pe.ic||Lo(),Pe.ic){Pe=_e.V,Ve=_e.Ba,dt=_e.c;var kt=_e.i,Lt=(ft=1,Me=_e.$/dt,$e=_e.$%dt,st=_e.m,Pt=_e.s,_e.$),Wt=dt*kt,Kt=dt*U,An=Pt.wc,tn=Lt<Kt?Ti(Pt,$e,Me):null;n(Lt<=Wt),n(U<=kt),n(Es(Pt));t:for(;;){for(;!st.h&&Lt<Kt;){if($e&An||(tn=Ti(Pt,$e,Me)),n(tn!=null),De(st),256>(kt=On(tn.G[0],tn.H[0],st)))Pe[Ve+Lt]=kt,++Lt,++$e>=dt&&($e=0,++Me<=U&&!(Me%16)&&ai(_e,Me));else{if(!(280>kt)){ft=0;break t}kt=Ys(kt-256,st);var Ar,Xn=On(tn.G[4],tn.H[4],st);if(De(st),!(Lt>=(Xn=$i(dt,Xn=Ys(Xn,st)))&&Wt-Lt>=kt)){ft=0;break t}for(Ar=0;Ar<kt;++Ar)Pe[Ve+Lt+Ar]=Pe[Ve+Lt+Ar-Xn];for(Lt+=kt,$e+=kt;$e>=dt;)$e-=dt,++Me<=U&&!(Me%16)&&ai(_e,Me);Lt<Kt&&$e&An&&(tn=Ti(Pt,$e,Me))}n(st.h==re(st))}ai(_e,Me>U?U:Me);break t}!ft||st.h&&Lt<Wt?(ft=0,_e.a=st.h?5:3):_e.$=Lt,U=ft}else U=pi(_e,_e.V,_e.Ba,_e.c,_e.i,U,zo);if(!U){Ae=0;break e}}ne+Ae>=Ce&&(I.Cc=1),Ae=1}if(!Ae)return null;if(I.Cc&&((Ae=I.ga)!=null&&(Ae.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+ne*ye}function ci(I,U,ne,Ae,ye,Ce){for(;0<ye--;){var _e,Pe=I,Me=U+(ne?1:0),$e=I,st=U+(ne?0:3);for(_e=0;_e<Ae;++_e){var Pt=$e[st+4*_e];Pt!=255&&(Pt*=32897,Pe[Me+4*_e+0]=Pe[Me+4*_e+0]*Pt>>23,Pe[Me+4*_e+1]=Pe[Me+4*_e+1]*Pt>>23,Pe[Me+4*_e+2]=Pe[Me+4*_e+2]*Pt>>23)}U+=Ce}}function zi(I,U,ne,Ae,ye){for(;0<Ae--;){var Ce;for(Ce=0;Ce<ne;++Ce){var _e=I[U+2*Ce+0],Pe=15&($e=I[U+2*Ce+1]),Me=4369*Pe,$e=(240&$e|$e>>4)*Me>>16;I[U+2*Ce+0]=(240&_e|_e>>4)*Me>>16&240|(15&_e|_e<<4)*Me>>16>>4&15,I[U+2*Ce+1]=240&$e|Pe}U+=ye}}function So(I,U,ne,Ae,ye,Ce,_e,Pe){var Me,$e,st=255;for($e=0;$e<ye;++$e){for(Me=0;Me<Ae;++Me){var Pt=I[U+Me];Ce[_e+4*Me]=Pt,st&=Pt}U+=ne,_e+=Pe}return st!=255}function nl(I,U,ne,Ae,ye){var Ce;for(Ce=0;Ce<ye;++Ce)ne[Ae+Ce]=I[U+Ce]>>8}function Lo(){Dl=ci,Ma=zi,ka=So,ou=nl}function hl(I,U,ne){K[I]=function(Ae,ye,Ce,_e,Pe,Me,$e,st,Pt,Ve,dt,ft,kt,Lt,Wt,Kt,An){var tn,Ar=An-1>>1,Xn=Pe[Me+0]|$e[st+0]<<16,kr=Pt[Ve+0]|dt[ft+0]<<16;n(Ae!=null);var rr=3*Xn+kr+131074>>2;for(U(Ae[ye+0],255&rr,rr>>16,kt,Lt),Ce!=null&&(rr=3*kr+Xn+131074>>2,U(Ce[_e+0],255&rr,rr>>16,Wt,Kt)),tn=1;tn<=Ar;++tn){var ys=Pe[Me+tn]|$e[st+tn]<<16,qo=Pt[Ve+tn]|dt[ft+tn]<<16,Lr=Xn+ys+kr+qo+524296,Vt=Lr+2*(ys+kr)>>3;rr=Vt+Xn>>1,Xn=(Lr=Lr+2*(Xn+qo)>>3)+ys>>1,U(Ae[ye+2*tn-1],255&rr,rr>>16,kt,Lt+(2*tn-1)*ne),U(Ae[ye+2*tn-0],255&Xn,Xn>>16,kt,Lt+(2*tn-0)*ne),Ce!=null&&(rr=Lr+kr>>1,Xn=Vt+qo>>1,U(Ce[_e+2*tn-1],255&rr,rr>>16,Wt,Kt+(2*tn-1)*ne),U(Ce[_e+2*tn+0],255&Xn,Xn>>16,Wt,Kt+(2*tn+0)*ne)),Xn=ys,kr=qo}1&An||(rr=3*Xn+kr+131074>>2,U(Ae[ye+An-1],255&rr,rr>>16,kt,Lt+(An-1)*ne),Ce!=null&&(rr=3*kr+Xn+131074>>2,U(Ce[_e+An-1],255&rr,rr>>16,Wt,Kt+(An-1)*ne)))}}function fl(){ho[wa]=Ec,ho[lu]=yl,ho[Sa]=ic,ho[Lu]=Pu,ho[Vc]=oA,ho[xl]=Ru,ho[VA]=Eh,ho[Du]=yl,ho[Sc]=Pu,ho[Cc]=oA,ho[A]=Ru}function Hi(I){return I&-16384?0>I?0:255:I>>Hg}function ue(I,U){return Hi((19077*I>>8)+(26149*U>>8)-14234)}function Le(I,U,ne){return Hi((19077*I>>8)-(6419*U>>8)-(13320*ne>>8)+8708)}function qt(I,U){return Hi((19077*I>>8)+(33050*U>>8)-17685)}function _n(I,U,ne,Ae,ye){Ae[ye+0]=ue(I,ne),Ae[ye+1]=Le(I,U,ne),Ae[ye+2]=qt(I,U)}function lr(I,U,ne,Ae,ye){Ae[ye+0]=qt(I,U),Ae[ye+1]=Le(I,U,ne),Ae[ye+2]=ue(I,ne)}function wn(I,U,ne,Ae,ye){var Ce=Le(I,U,ne);U=Ce<<3&224|qt(I,U)>>3,Ae[ye+0]=248&ue(I,ne)|Ce>>5,Ae[ye+1]=U}function ls(I,U,ne,Ae,ye){var Ce=240&qt(I,U)|15;Ae[ye+0]=240&ue(I,ne)|Le(I,U,ne)>>4,Ae[ye+1]=Ce}function Xo(I,U,ne,Ae,ye){Ae[ye+0]=255,_n(I,U,ne,Ae,ye+1)}function uo(I,U,ne,Ae,ye){lr(I,U,ne,Ae,ye),Ae[ye+3]=255}function Jr(I,U,ne,Ae,ye){_n(I,U,ne,Ae,ye),Ae[ye+3]=255}function yr(I,U,ne){K[I]=function(Ae,ye,Ce,_e,Pe,Me,$e,st,Pt){for(var Ve=st+(-2&Pt)*ne;st!=Ve;)U(Ae[ye+0],Ce[_e+0],Pe[Me+0],$e,st),U(Ae[ye+1],Ce[_e+0],Pe[Me+0],$e,st+ne),ye+=2,++_e,++Me,st+=2*ne;1&Pt&&U(Ae[ye+0],Ce[_e+0],Pe[Me+0],$e,st)}}function vi(I,U,ne){return ne==0?I==0?U==0?6:5:U==0?4:0:ne}function ri(I,U,ne,Ae,ye){switch(I>>>30){case 3:nc(U,ne,Ae,ye,0);break;case 2:ml(U,ne,Ae,ye);break;case 1:cs(U,ne,Ae,ye)}}function Xr(I,U){var ne,Ae,ye=U.M,Ce=U.Nb,_e=I.oc,Pe=I.pc+40,Me=I.oc,$e=I.pc+584,st=I.oc,Pt=I.pc+600;for(ne=0;16>ne;++ne)_e[Pe+32*ne-1]=129;for(ne=0;8>ne;++ne)Me[$e+32*ne-1]=129,st[Pt+32*ne-1]=129;for(0<ye?_e[Pe-1-32]=Me[$e-1-32]=st[Pt-1-32]=129:(i(_e,Pe-32-1,127,21),i(Me,$e-32-1,127,9),i(st,Pt-32-1,127,9)),Ae=0;Ae<I.za;++Ae){var Ve=U.ya[U.aa+Ae];if(0<Ae){for(ne=-1;16>ne;++ne)s(_e,Pe+32*ne-4,_e,Pe+32*ne+12,4);for(ne=-1;8>ne;++ne)s(Me,$e+32*ne-4,Me,$e+32*ne+4,4),s(st,Pt+32*ne-4,st,Pt+32*ne+4,4)}var dt=I.Gd,ft=I.Hd+Ae,kt=Ve.ad,Lt=Ve.Hc;if(0<ye&&(s(_e,Pe-32,dt[ft].y,0,16),s(Me,$e-32,dt[ft].f,0,8),s(st,Pt-32,dt[ft].ea,0,8)),Ve.Za){var Wt=_e,Kt=Pe-32+16;for(0<ye&&(Ae>=I.za-1?i(Wt,Kt,dt[ft].y[15],4):s(Wt,Kt,dt[ft+1].y,0,4)),ne=0;4>ne;ne++)Wt[Kt+128+ne]=Wt[Kt+256+ne]=Wt[Kt+384+ne]=Wt[Kt+0+ne];for(ne=0;16>ne;++ne,Lt<<=2)Wt=_e,Kt=Pe+aA[ne],za[Ve.Ob[ne]](Wt,Kt),ri(Lt,kt,16*+ne,Wt,Kt)}else if(Wt=vi(Ae,ye,Ve.Ob[0]),Bc[Wt](_e,Pe),Lt!=0)for(ne=0;16>ne;++ne,Lt<<=2)ri(Lt,kt,16*+ne,_e,Pe+aA[ne]);for(ne=Ve.Gc,Wt=vi(Ae,ye,Ve.Dd),Aa[Wt](Me,$e),Aa[Wt](st,Pt),Lt=kt,Wt=Me,Kt=$e,255&(Ve=0|ne)&&(170&Ve?Ji(Lt,256,Wt,Kt):Hs(Lt,256,Wt,Kt)),Ve=st,Lt=Pt,255&(ne>>=8)&&(170&ne?Ji(kt,320,Ve,Lt):Hs(kt,320,Ve,Lt)),ye<I.Ub-1&&(s(dt[ft].y,0,_e,Pe+480,16),s(dt[ft].f,0,Me,$e+224,8),s(dt[ft].ea,0,st,Pt+224,8)),ne=8*Ce*I.B,dt=I.sa,ft=I.ta+16*Ae+16*Ce*I.R,kt=I.qa,Ve=I.ra+8*Ae+ne,Lt=I.Ha,Wt=I.Ia+8*Ae+ne,ne=0;16>ne;++ne)s(dt,ft+ne*I.R,_e,Pe+32*ne,16);for(ne=0;8>ne;++ne)s(kt,Ve+ne*I.B,Me,$e+32*ne,8),s(Lt,Wt+ne*I.B,st,Pt+32*ne,8)}}function Na(I,U,ne,Ae,ye,Ce,_e,Pe,Me){var $e=[0],st=[0],Pt=0,Ve=Me!=null?Me.kd:0,dt=Me??new en;if(I==null||12>ne)return 7;dt.data=I,dt.w=U,dt.ha=ne,U=[U],ne=[ne],dt.gb=[dt.gb];e:{var ft=U,kt=ne,Lt=dt.gb;if(n(I!=null),n(kt!=null),n(Lt!=null),Lt[0]=0,12<=kt[0]&&!r(I,ft[0],"RIFF")){if(r(I,ft[0]+8,"WEBP")){Lt=3;break e}var Wt=nt(I,ft[0]+4);if(12>Wt||4294967286<Wt){Lt=3;break e}if(Ve&&Wt>kt[0]-8){Lt=7;break e}Lt[0]=Wt,ft[0]+=12,kt[0]-=12}Lt=0}if(Lt!=0)return Lt;for(Wt=0<dt.gb[0],ne=ne[0];;){e:{var Kt=I;kt=U,Lt=ne;var An=$e,tn=st,Ar=ft=[0];if((rr=Pt=[Pt])[0]=0,8>Lt[0])Lt=7;else{if(!r(Kt,kt[0],"VP8X")){if(nt(Kt,kt[0]+4)!=10){Lt=3;break e}if(18>Lt[0]){Lt=7;break e}var Xn=nt(Kt,kt[0]+8),kr=1+wt(Kt,kt[0]+12);if(2147483648<=kr*(Kt=1+wt(Kt,kt[0]+15))){Lt=3;break e}Ar!=null&&(Ar[0]=Xn),An!=null&&(An[0]=kr),tn!=null&&(tn[0]=Kt),kt[0]+=18,Lt[0]-=18,rr[0]=1}Lt=0}}if(Pt=Pt[0],ft=ft[0],Lt!=0)return Lt;if(kt=!!(2&ft),!Wt&&Pt)return 3;if(Ce!=null&&(Ce[0]=!!(16&ft)),_e!=null&&(_e[0]=kt),Pe!=null&&(Pe[0]=0),_e=$e[0],ft=st[0],Pt&&kt&&Me==null){Lt=0;break}if(4>ne){Lt=7;break}if(Wt&&Pt||!Wt&&!Pt&&!r(I,U[0],"ALPH")){ne=[ne],dt.na=[dt.na],dt.P=[dt.P],dt.Sa=[dt.Sa];e:{Xn=I,Lt=U,Wt=ne;var rr=dt.gb;An=dt.na,tn=dt.P,Ar=dt.Sa,kr=22,n(Xn!=null),n(Wt!=null),Kt=Lt[0];var ys=Wt[0];for(n(An!=null),n(Ar!=null),An[0]=null,tn[0]=null,Ar[0]=0;;){if(Lt[0]=Kt,Wt[0]=ys,8>ys){Lt=7;break e}var qo=nt(Xn,Kt+4);if(4294967286<qo){Lt=3;break e}var Lr=8+qo+1&-2;if(kr+=Lr,0<rr&&kr>rr){Lt=3;break e}if(!r(Xn,Kt,"VP8 ")||!r(Xn,Kt,"VP8L")){Lt=0;break e}if(ys[0]<Lr){Lt=7;break e}r(Xn,Kt,"ALPH")||(An[0]=Xn,tn[0]=Kt+8,Ar[0]=qo),Kt+=Lr,ys-=Lr}}if(ne=ne[0],dt.na=dt.na[0],dt.P=dt.P[0],dt.Sa=dt.Sa[0],Lt!=0)break}ne=[ne],dt.Ja=[dt.Ja],dt.xa=[dt.xa];e:if(rr=I,Lt=U,Wt=ne,An=dt.gb[0],tn=dt.Ja,Ar=dt.xa,Xn=Lt[0],Kt=!r(rr,Xn,"VP8 "),kr=!r(rr,Xn,"VP8L"),n(rr!=null),n(Wt!=null),n(tn!=null),n(Ar!=null),8>Wt[0])Lt=7;else{if(Kt||kr){if(rr=nt(rr,Xn+4),12<=An&&rr>An-12){Lt=3;break e}if(Ve&&rr>Wt[0]-8){Lt=7;break e}tn[0]=rr,Lt[0]+=8,Wt[0]-=8,Ar[0]=kr}else Ar[0]=5<=Wt[0]&&rr[Xn+0]==47&&!(rr[Xn+4]>>5),tn[0]=Wt[0];Lt=0}if(ne=ne[0],dt.Ja=dt.Ja[0],dt.xa=dt.xa[0],U=U[0],Lt!=0)break;if(4294967286<dt.Ja)return 3;if(Pe==null||kt||(Pe[0]=dt.xa?2:1),_e=[_e],ft=[ft],dt.xa){if(5>ne){Lt=7;break}Pe=_e,Ve=ft,kt=Ce,I==null||5>ne?I=0:5<=ne&&I[U+0]==47&&!(I[U+4]>>5)?(Wt=[0],rr=[0],An=[0],pe(tn=new M,I,U,ne),Us(tn,Wt,rr,An)?(Pe!=null&&(Pe[0]=Wt[0]),Ve!=null&&(Ve[0]=rr[0]),kt!=null&&(kt[0]=An[0]),I=1):I=0):I=0}else{if(10>ne){Lt=7;break}Pe=ft,I==null||10>ne||!$o(I,U+3,ne-3)?I=0:(Ve=I[U+0]|I[U+1]<<8|I[U+2]<<16,kt=16383&(I[U+7]<<8|I[U+6]),I=16383&(I[U+9]<<8|I[U+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=dt.Ja||!kt||!I?I=0:(_e&&(_e[0]=kt),Pe&&(Pe[0]=I),I=1))}if(!I||(_e=_e[0],ft=ft[0],Pt&&($e[0]!=_e||st[0]!=ft)))return 3;Me!=null&&(Me[0]=dt,Me.offset=U-Me.w,n(4294967286>U-Me.w),n(Me.offset==Me.ha-ne));break}return Lt==0||Lt==7&&Pt&&Me==null?(Ce!=null&&(Ce[0]|=dt.na!=null&&0<dt.na.length),Ae!=null&&(Ae[0]=_e),ye!=null&&(ye[0]=ft),0):Lt}function Fi(I,U,ne){var Ae=U.width,ye=U.height,Ce=0,_e=0,Pe=Ae,Me=ye;if(U.Da=I!=null&&0<I.Da,U.Da&&(Pe=I.cd,Me=I.bd,Ce=I.v,_e=I.j,11>ne||(Ce&=-2,_e&=-2),0>Ce||0>_e||0>=Pe||0>=Me||Ce+Pe>Ae||_e+Me>ye))return 0;if(U.v=Ce,U.j=_e,U.va=Ce+Pe,U.o=_e+Me,U.U=Pe,U.T=Me,U.da=I!=null&&0<I.da,U.da){if(!Oe(Pe,Me,ne=[I.ib],Ce=[I.hb]))return 0;U.ib=ne[0],U.hb=Ce[0]}return U.ob=I!=null&&I.ob,U.Kb=I==null||!I.Sd,U.da&&(U.ob=U.ib<3*Ae/4&&U.hb<3*ye/4,U.Kb=0),1}function Fl(I){if(I==null)return 2;if(11>I.S){var U=I.f.RGBA;U.fb+=(I.height-1)*U.A,U.A=-U.A}else U=I.f.kb,I=I.height,U.O+=(I-1)*U.fa,U.fa=-U.fa,U.N+=(I-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(I-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(I-1)*U.lb,U.lb=-U.lb);return 0}function ua(I,U,ne,Ae){if(Ae==null||0>=I||0>=U)return 2;if(ne!=null){if(ne.Da){var ye=ne.cd,Ce=ne.bd,_e=-2&ne.v,Pe=-2&ne.j;if(0>_e||0>Pe||0>=ye||0>=Ce||_e+ye>I||Pe+Ce>U)return 2;I=ye,U=Ce}if(ne.da){if(!Oe(I,U,ye=[ne.ib],Ce=[ne.hb]))return 2;I=ye[0],U=Ce[0]}}Ae.width=I,Ae.height=U;e:{var Me=Ae.width,$e=Ae.height;if(I=Ae.S,0>=Me||0>=$e||!(I>=wa&&13>I))I=2;else{if(0>=Ae.Rd&&Ae.sd==null){_e=Ce=ye=U=0;var st=(Pe=Me*tm[I])*$e;if(11>I||(Ce=($e+1)/2*(U=(Me+1)/2),I==12&&(_e=(ye=Me)*$e)),($e=l(st+2*Ce+_e))==null){I=1;break e}Ae.sd=$e,11>I?((Me=Ae.f.RGBA).eb=$e,Me.fb=0,Me.A=Pe,Me.size=st):((Me=Ae.f.kb).y=$e,Me.O=0,Me.fa=Pe,Me.Fd=st,Me.f=$e,Me.N=0+st,Me.Ab=U,Me.Cd=Ce,Me.ea=$e,Me.W=0+st+Ce,Me.Db=U,Me.Ed=Ce,I==12&&(Me.F=$e,Me.J=0+st+2*Ce),Me.Tc=_e,Me.lb=ye)}if(U=1,ye=Ae.S,Ce=Ae.width,_e=Ae.height,ye>=wa&&13>ye)if(11>ye)I=Ae.f.RGBA,U&=(Pe=Math.abs(I.A))*(_e-1)+Ce<=I.size,U&=Pe>=Ce*tm[ye],U&=I.eb!=null;else{I=Ae.f.kb,Pe=(Ce+1)/2,st=(_e+1)/2,Me=Math.abs(I.fa),$e=Math.abs(I.Ab);var Pt=Math.abs(I.Db),Ve=Math.abs(I.lb),dt=Ve*(_e-1)+Ce;U&=Me*(_e-1)+Ce<=I.Fd,U&=$e*(st-1)+Pe<=I.Cd,U=(U&=Pt*(st-1)+Pe<=I.Ed)&Me>=Ce&$e>=Pe&Pt>=Pe,U&=I.y!=null,U&=I.f!=null,U&=I.ea!=null,ye==12&&(U&=Ve>=Ce,U&=dt<=I.Tc,U&=I.F!=null)}else U=0;I=U?0:2}}return I!=0||ne!=null&&ne.fd&&(I=Fl(Ae)),I}var ja=64,Zr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xi=24,pl=32,Hl=8,Vl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(I){return I},K.Predictor2=function(I,U,ne){return U[ne+0]},K.Predictor3=function(I,U,ne){return U[ne+1]},K.Predictor4=function(I,U,ne){return U[ne-1]},K.Predictor5=function(I,U,ne){return _t(_t(I,U[ne+1]),U[ne+0])},K.Predictor6=function(I,U,ne){return _t(I,U[ne-1])},K.Predictor7=function(I,U,ne){return _t(I,U[ne+0])},K.Predictor8=function(I,U,ne){return _t(U[ne-1],U[ne+0])},K.Predictor9=function(I,U,ne){return _t(U[ne+0],U[ne+1])},K.Predictor10=function(I,U,ne){return _t(_t(I,U[ne-1]),_t(U[ne+0],U[ne+1]))},K.Predictor11=function(I,U,ne){var Ae=U[ne+0];return 0>=yt(Ae>>24&255,I>>24&255,(U=U[ne-1])>>24&255)+yt(Ae>>16&255,I>>16&255,U>>16&255)+yt(Ae>>8&255,I>>8&255,U>>8&255)+yt(255&Ae,255&I,255&U)?Ae:I},K.Predictor12=function(I,U,ne){var Ae=U[ne+0];return(Je((I>>24&255)+(Ae>>24&255)-((U=U[ne-1])>>24&255))<<24|Je((I>>16&255)+(Ae>>16&255)-(U>>16&255))<<16|Je((I>>8&255)+(Ae>>8&255)-(U>>8&255))<<8|Je((255&I)+(255&Ae)-(255&U)))>>>0},K.Predictor13=function(I,U,ne){var Ae=U[ne-1];return(We((I=_t(I,U[ne+0]))>>24&255,Ae>>24&255)<<24|We(I>>16&255,Ae>>16&255)<<16|We(I>>8&255,Ae>>8&255)<<8|We(255&I,255&Ae))>>>0};var zc=K.PredictorAdd0;K.PredictorAdd1=zt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Oa=K.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var Zi,Co=K.ColorIndexInverseTransform,Xs=K.MapARGB,Zs=K.VP8LColorIndexInverseTransformAlpha,ui=K.MapAlpha,rl=K.VP8LPredictorsAdd=[];rl.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var bc,tc,sl,Ll,Zo,ba,qi,nc,ml,Ji,cs,Hs,eo,us,$l,Ua,rc,iu,sA,Fd,iA,HA,wc,gl,Dl,Ma,ka,ou,Qa=l(511),_u=l(2041),Fu=l(225),sc=l(767),au=0,Hc=_u,Gl=Fu,Do=sc,vl=Qa,wa=0,lu=1,Sa=2,Lu=3,Vc=4,xl=5,VA=6,Du=7,Sc=8,Cc=9,A=10,y=[2,3,7],P=[3,3,11],Y=[280,256,256,256,40],de=[0,1,1,1,0],Se=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ze=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Et=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ut=8,sn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fn=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zn=null,cr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ao=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ca=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ch=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bc=[],za=[],Aa=[],Bh=1,cu=2,Vs=[],ho=[];hl("UpsampleRgbLinePair",_n,3),hl("UpsampleBgrLinePair",lr,3),hl("UpsampleRgbaLinePair",Jr,4),hl("UpsampleBgraLinePair",uo,4),hl("UpsampleArgbLinePair",Xo,4),hl("UpsampleRgba4444LinePair",ls,2),hl("UpsampleRgb565LinePair",wn,2);var Ec=K.UpsampleRgbLinePair,ic=K.UpsampleBgrLinePair,yl=K.UpsampleRgbaLinePair,Pu=K.UpsampleBgraLinePair,oA=K.UpsampleArgbLinePair,Ru=K.UpsampleRgba4444LinePair,Eh=K.UpsampleRgb565LinePair,$c=16,da=1<<$c-1,Tc=-227,Th=482,Hg=6,em=0,Vg=l(256),ha=l(256),If=l(256),Ld=l(256),Dd=l(Th-Tc),_f=l(Th-Tc);yr("YuvToRgbRow",_n,3),yr("YuvToBgrRow",lr,3),yr("YuvToRgbaRow",Jr,4),yr("YuvToBgraRow",uo,4),yr("YuvToArgbRow",Xo,4),yr("YuvToRgba4444Row",ls,2),yr("YuvToRgb565Row",wn,2);var aA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],uu=[0,2,8],$g=[8,7,6,4,4,2,2,2,1,1,1,1],Ff=1;this.WebPDecodeRGBA=function(I,U,ne,Ae,ye){var Ce=lu,_e=new Ht,Pe=new jn;_e.ba=Pe,Pe.S=Ce,Pe.width=[Pe.width],Pe.height=[Pe.height];var Me=Pe.width,$e=Pe.height,st=new rn;if(st==null||I==null)var Pt=2;else n(st!=null),Pt=Na(I,U,ne,st.width,st.height,st.Pd,st.Qd,st.format,null);if(Pt!=0?Me=0:(Me!=null&&(Me[0]=st.width[0]),$e!=null&&($e[0]=st.height[0]),Me=1),Me){Pe.width=Pe.width[0],Pe.height=Pe.height[0],Ae!=null&&(Ae[0]=Pe.width),ye!=null&&(ye[0]=Pe.height);e:{if(Ae=new Ss,(ye=new en).data=I,ye.w=U,ye.ha=ne,ye.kd=1,U=[0],n(ye!=null),((I=Na(ye.data,ye.w,ye.ha,null,null,null,U,null,ye))==0||I==7)&&U[0]&&(I=4),(U=I)==0){if(n(_e!=null),Ae.data=ye.data,Ae.w=ye.w+ye.offset,Ae.ha=ye.ha-ye.offset,Ae.put=Mn,Ae.ac=Ni,Ae.bc=xo,Ae.ma=_e,ye.xa){if((I=Ms())==null){_e=1;break e}if((function(Ve,dt){var ft=[0],kt=[0],Lt=[0];t:for(;;){if(Ve==null)return 0;if(dt==null)return Ve.a=2,0;if(Ve.l=dt,Ve.a=0,pe(Ve.m,dt.data,dt.w,dt.ha),!Us(Ve.m,ft,kt,Lt)){Ve.a=3;break t}if(Ve.xb=cu,dt.width=ft[0],dt.height=kt[0],!Qo(ft[0],kt[0],1,Ve,null))break t;return 1}return n(Ve.a!=0),0})(I,Ae)){if(Ae=(U=ua(Ae.width,Ae.height,_e.Oa,_e.ba))==0){t:{Ae=I;n:for(;;){if(Ae==null){Ae=0;break t}if(n(Ae.s.yc!=null),n(Ae.s.Ya!=null),n(0<Ae.s.Wb),n((ne=Ae.l)!=null),n((ye=ne.ma)!=null),Ae.xb!=0){if(Ae.ca=ye.ba,Ae.tb=ye.tb,n(Ae.ca!=null),!Fi(ye.Oa,ne,Lu)){Ae.a=2;break n}if(!La(Ae,ne.width)||ne.da)break n;if((ne.da||dn(Ae.ca.S))&&Lo(),11>Ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Ae.ca.f.kb.F!=null&&Lo()),Ae.Pb&&0<Ae.s.ua&&Ae.s.vb.X==null&&!Ee(Ae.s.vb,Ae.s.Wa.Xa)){Ae.a=1;break n}Ae.xb=0}if(!pi(Ae,Ae.V,Ae.Ba,Ae.c,Ae.i,ne.o,lo))break n;ye.Dc=Ae.Ma,Ae=1;break t}n(Ae.a!=0),Ae=0}Ae=!Ae}Ae&&(U=I.a)}else U=I.a}else{if((I=new Ui)==null){_e=1;break e}if(I.Fa=ye.na,I.P=ye.P,I.qc=ye.Sa,Mi(I,Ae)){if((U=ua(Ae.width,Ae.height,_e.Oa,_e.ba))==0){if(I.Aa=0,ne=_e.Oa,n((ye=I)!=null),ne!=null){if(0<(Me=0>(Me=ne.Md)?0:100<Me?255:255*Me/100)){for($e=st=0;4>$e;++$e)12>(Pt=ye.pb[$e]).lc&&(Pt.ia=Me*$g[0>Pt.lc?0:Pt.lc]>>3),st|=Pt.ia;st&&(alert("todo:VP8InitRandom"),ye.ia=1)}ye.Ga=ne.Id,100<ye.Ga?ye.Ga=100:0>ye.Ga&&(ye.Ga=0)}(function(Ve,dt){if(Ve==null)return 0;if(dt==null)return ks(Ve,2,"NULL VP8Io parameter in VP8Decode().");if(!Ve.cb&&!Mi(Ve,dt))return 0;if(n(Ve.cb),dt.ac==null||dt.ac(dt)){dt.ob&&(Ve.L=0);var ft=uu[Ve.L];if(Ve.L==2?(Ve.yb=0,Ve.zb=0):(Ve.yb=dt.v-ft>>4,Ve.zb=dt.j-ft>>4,0>Ve.yb&&(Ve.yb=0),0>Ve.zb&&(Ve.zb=0)),Ve.Va=dt.o+15+ft>>4,Ve.Hb=dt.va+15+ft>>4,Ve.Hb>Ve.za&&(Ve.Hb=Ve.za),Ve.Va>Ve.Ub&&(Ve.Va=Ve.Ub),0<Ve.L){var kt=Ve.ed;for(ft=0;4>ft;++ft){var Lt;if(Ve.Qa.Cb){var Wt=Ve.Qa.Lb[ft];Ve.Qa.Fb||(Wt+=kt.Tb)}else Wt=kt.Tb;for(Lt=0;1>=Lt;++Lt){var Kt=Ve.gd[ft][Lt],An=Wt;if(kt.Pc&&(An+=kt.vd[0],Lt&&(An+=kt.od[0])),0<(An=0>An?0:63<An?63:An)){var tn=An;0<kt.wb&&(tn=4<kt.wb?tn>>2:tn>>1)>9-kt.wb&&(tn=9-kt.wb),1>tn&&(tn=1),Kt.dd=tn,Kt.tc=2*An+tn,Kt.ld=40<=An?2:15<=An?1:0}else Kt.tc=0;Kt.La=Lt}}}ft=0}else ks(Ve,6,"Frame setup failed"),ft=Ve.a;if(ft=ft==0){if(ft){Ve.$c=0,0<Ve.Aa||(Ve.Ic=Ff);t:{ft=Ve.Ic,kt=4*(tn=Ve.za);var Ar=32*tn,Xn=tn+1,kr=0<Ve.L?tn*(0<Ve.Aa?2:1):0,rr=(Ve.Aa==2?2:1)*tn;if((Kt=kt+832+(Lt=3*(16*ft+uu[Ve.L])/2*Ar)+(Wt=Ve.Fa!=null&&0<Ve.Fa.length?Ve.Kc.c*Ve.Kc.i:0))!=Kt)ft=0;else{if(Kt>Ve.Vb){if(Ve.Vb=0,Ve.Ec=l(Kt),Ve.Fc=0,Ve.Ec==null){ft=ks(Ve,1,"no memory during frame initialization.");break t}Ve.Vb=Kt}Kt=Ve.Ec,An=Ve.Fc,Ve.Ac=Kt,Ve.Bc=An,An+=kt,Ve.Gd=d(Ar,_l),Ve.Hd=0,Ve.rb=d(Xn+1,yo),Ve.sb=1,Ve.wa=kr?d(kr,Oi):null,Ve.Y=0,Ve.D.Nb=0,Ve.D.wa=Ve.wa,Ve.D.Y=Ve.Y,0<Ve.Aa&&(Ve.D.Y+=tn),n(!0),Ve.oc=Kt,Ve.pc=An,An+=832,Ve.ya=d(rr,jo),Ve.aa=0,Ve.D.ya=Ve.ya,Ve.D.aa=Ve.aa,Ve.Aa==2&&(Ve.D.aa+=tn),Ve.R=16*tn,Ve.B=8*tn,tn=(Ar=uu[Ve.L])*Ve.R,Ar=Ar/2*Ve.B,Ve.sa=Kt,Ve.ta=An+tn,Ve.qa=Ve.sa,Ve.ra=Ve.ta+16*ft*Ve.R+Ar,Ve.Ha=Ve.qa,Ve.Ia=Ve.ra+8*ft*Ve.B+Ar,Ve.$c=0,An+=Lt,Ve.mb=Wt?Kt:null,Ve.nb=Wt?An:null,n(An+Wt<=Ve.Fc+Ve.Vb),_s(Ve),i(Ve.Ac,Ve.Bc,0,kt),ft=1}}if(ft){if(dt.ka=0,dt.y=Ve.sa,dt.O=Ve.ta,dt.f=Ve.qa,dt.N=Ve.ra,dt.ea=Ve.Ha,dt.Vd=Ve.Ia,dt.fa=Ve.R,dt.Rc=Ve.B,dt.F=null,dt.J=0,!au){for(ft=-255;255>=ft;++ft)Qa[255+ft]=0>ft?-ft:ft;for(ft=-1020;1020>=ft;++ft)_u[1020+ft]=-128>ft?-128:127<ft?127:ft;for(ft=-112;112>=ft;++ft)Fu[112+ft]=-16>ft?-16:15<ft?15:ft;for(ft=-255;510>=ft;++ft)sc[255+ft]=0>ft?0:255<ft?255:ft;au=1}qi=aa,nc=Go,Ji=fs,cs=Ja,Hs=Ko,ml=ul,eo=zl,us=jc,$l=xe,Ua=He,rc=dl,iu=X,sA=tt,Fd=jt,iA=Sr,HA=mi,wc=co,gl=tl,za[0]=_i,za[1]=ki,za[2]=Ki,za[3]=as,za[4]=Wi,za[5]=ni,za[6]=Yi,za[7]=ya,za[8]=el,za[9]=ca,Bc[0]=Pa,Bc[1]=ec,Bc[2]=Al,Bc[3]=xa,Bc[4]=Gi,Bc[5]=Yo,Bc[6]=la,Aa[0]=ze,Aa[1]=Wo,Aa[2]=zs,Aa[3]=Fo,Aa[4]=Nt,Aa[5]=ot,Aa[6]=Ln,ft=1}else ft=0}ft&&(ft=(function(ys,qo){for(ys.M=0;ys.M<ys.Va;++ys.M){var Lr,Vt=ys.Jc[ys.M&ys.Xb],Cn=ys.m,fo=ys;for(Lr=0;Lr<fo.za;++Lr){var Dr=Cn,Br=fo,sr=Br.Ac,Qr=Br.Bc+4*Lr,As=Br.zc,Ai=Br.ya[Br.aa+Lr];if(Br.Qa.Bb?Ai.$b=Ke(Dr,Br.Pa.jb[0])?2+Ke(Dr,Br.Pa.jb[2]):Ke(Dr,Br.Pa.jb[1]):Ai.$b=0,Br.kc&&(Ai.Ad=Ke(Dr,Br.Bd)),Ai.Za=!Ke(Dr,145)+0,Ai.Za){var Po=Ai.Ob,Ro=0;for(Br=0;4>Br;++Br){var Bo,Wr=As[0+Br];for(Bo=0;4>Bo;++Bo){Wr=Ca[sr[Qr+Bo]][Wr];for(var js=xi[Ke(Dr,Wr[0])];0<js;)js=xi[2*js+Ke(Dr,Wr[js])];Wr=-js,sr[Qr+Bo]=Wr}s(Po,Ro,sr,Qr,4),Ro+=4,As[0+Br]=Wr}}else Wr=Ke(Dr,156)?Ke(Dr,128)?1:3:Ke(Dr,163)?2:0,Ai.Ob[0]=Wr,i(sr,Qr,Wr,4),i(As,0,Wr,4);Ai.Dd=Ke(Dr,142)?Ke(Dr,114)?Ke(Dr,183)?1:3:2:0}if(fo.m.Ka)return ks(ys,7,"Premature end-of-partition0 encountered.");for(;ys.ja<ys.za;++ys.ja){if(fo=Vt,Dr=(Cn=ys).rb[Cn.sb-1],sr=Cn.rb[Cn.sb+Cn.ja],Lr=Cn.ya[Cn.aa+Cn.ja],Qr=Cn.kc?Lr.Ad:0)Dr.la=sr.la=0,Lr.Za||(Dr.Na=sr.Na=0),Lr.Hc=0,Lr.Gc=0,Lr.ia=0;else{var to,Er;if(Dr=sr,sr=fo,Qr=Cn.Pa.Xc,As=Cn.ya[Cn.aa+Cn.ja],Ai=Cn.pb[As.$b],Br=As.ad,Po=0,Ro=Cn.rb[Cn.sb-1],Wr=Bo=0,i(Br,Po,0,384),As.Za)var Jo=0,Kl=Qr[3];else{js=l(16);var no=Dr.Na+Ro.Na;if(no=zn(sr,Qr[1],no,Ai.Eb,0,js,0),Dr.Na=Ro.Na=(0<no)+0,1<no)qi(js,0,Br,Po);else{var jl=js[0]+3>>3;for(js=0;256>js;js+=16)Br[Po+js]=jl}Jo=1,Kl=Qr[0]}var yi=15&Dr.la,No=15&Ro.la;for(js=0;4>js;++js){var bl=1&No;for(jl=Er=0;4>jl;++jl)yi=yi>>1|(bl=(no=zn(sr,Kl,no=bl+(1&yi),Ai.Sc,Jo,Br,Po))>Jo)<<7,Er=Er<<2|(3<no?3:1<no?2:Br[Po+0]!=0),Po+=16;yi>>=4,No=No>>1|bl<<7,Bo=(Bo<<8|Er)>>>0}for(Kl=yi,Jo=No>>4,to=0;4>to;to+=2){for(Er=0,yi=Dr.la>>4+to,No=Ro.la>>4+to,js=0;2>js;++js){for(bl=1&No,jl=0;2>jl;++jl)no=bl+(1&yi),yi=yi>>1|(bl=0<(no=zn(sr,Qr[2],no,Ai.Qc,0,Br,Po)))<<3,Er=Er<<2|(3<no?3:1<no?2:Br[Po+0]!=0),Po+=16;yi>>=2,No=No>>1|bl<<5}Wr|=Er<<4*to,Kl|=yi<<4<<to,Jo|=(240&No)<<to}Dr.la=Kl,Ro.la=Jo,As.Hc=Bo,As.Gc=Wr,As.ia=43690&Wr?0:Ai.ia,Qr=!(Bo|Wr)}if(0<Cn.L&&(Cn.wa[Cn.Y+Cn.ja]=Cn.gd[Lr.$b][Lr.Za],Cn.wa[Cn.Y+Cn.ja].La|=!Qr),fo.Ka)return ks(ys,7,"Premature end-of-file encountered.")}if(_s(ys),Cn=qo,fo=1,Lr=(Vt=ys).D,Dr=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(Lr.M=Vt.M,Lr.uc=Dr,Xr(Vt,Lr),fo=1,Lr=(Er=Vt.D).Nb,Dr=(Wr=uu[Vt.L])*Vt.R,sr=Wr/2*Vt.B,js=16*Lr*Vt.R,jl=8*Lr*Vt.B,Qr=Vt.sa,As=Vt.ta-Dr+js,Ai=Vt.qa,Br=Vt.ra-sr+jl,Po=Vt.Ha,Ro=Vt.Ia-sr+jl,No=(yi=Er.M)==0,Bo=yi>=Vt.Va-1,Vt.Aa==2&&Xr(Vt,Er),Er.uc)for(bl=(no=Vt).D.M,n(no.D.uc),Er=no.yb;Er<no.Hb;++Er){Jo=Er,Kl=bl;var Ha=(Li=(Eo=no).D).Nb;to=Eo.R;var Li=Li.wa[Li.Y+Jo],$s=Eo.sa,il=Eo.ta+16*Ha*to+16*Jo,Ba=Li.dd,si=Li.tc;if(si!=0)if(n(3<=si),Eo.L==1)0<Jo&&HA($s,il,to,si+4),Li.La&&gl($s,il,to,si),0<Kl&&iA($s,il,to,si+4),Li.La&&wc($s,il,to,si);else{var wl=Eo.B,fa=Eo.qa,Ic=Eo.ra+8*Ha*wl+8*Jo,_c=Eo.Ha,Eo=Eo.Ia+8*Ha*wl+8*Jo;Ha=Li.ld,0<Jo&&(us($s,il,to,si+4,Ba,Ha),Ua(fa,Ic,_c,Eo,wl,si+4,Ba,Ha)),Li.La&&(iu($s,il,to,si,Ba,Ha),Fd(fa,Ic,_c,Eo,wl,si,Ba,Ha)),0<Kl&&(eo($s,il,to,si+4,Ba,Ha),$l(fa,Ic,_c,Eo,wl,si+4,Ba,Ha)),Li.La&&(rc($s,il,to,si,Ba,Ha),sA(fa,Ic,_c,Eo,wl,si,Ba,Ha))}}if(Vt.ia&&alert("todo:DitherRow"),Cn.put!=null){if(Er=16*yi,yi=16*(yi+1),No?(Cn.y=Vt.sa,Cn.O=Vt.ta+js,Cn.f=Vt.qa,Cn.N=Vt.ra+jl,Cn.ea=Vt.Ha,Cn.W=Vt.Ia+jl):(Er-=Wr,Cn.y=Qr,Cn.O=As,Cn.f=Ai,Cn.N=Br,Cn.ea=Po,Cn.W=Ro),Bo||(yi-=Wr),yi>Cn.o&&(yi=Cn.o),Cn.F=null,Cn.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&Er<yi&&(Cn.J=Cs(Vt,Cn,Er,yi-Er),Cn.F=Vt.mb,Cn.F==null&&Cn.F.length==0)){fo=ks(Vt,3,"Could not decode alpha data.");break t}Er<Cn.j&&(Wr=Cn.j-Er,Er=Cn.j,n(!(1&Wr)),Cn.O+=Vt.R*Wr,Cn.N+=Vt.B*(Wr>>1),Cn.W+=Vt.B*(Wr>>1),Cn.F!=null&&(Cn.J+=Cn.width*Wr)),Er<yi&&(Cn.O+=Cn.v,Cn.N+=Cn.v>>1,Cn.W+=Cn.v>>1,Cn.F!=null&&(Cn.J+=Cn.v),Cn.ka=Er-Cn.j,Cn.U=Cn.va-Cn.v,Cn.T=yi-Er,fo=Cn.put(Cn))}Lr+1!=Vt.Ic||Bo||(s(Vt.sa,Vt.ta-Dr,Qr,As+16*Vt.R,Dr),s(Vt.qa,Vt.ra-sr,Ai,Br+8*Vt.B,sr),s(Vt.Ha,Vt.Ia-sr,Po,Ro+8*Vt.B,sr))}if(!fo)return ks(ys,6,"Output aborted.")}return 1})(Ve,dt)),dt.bc!=null&&dt.bc(dt),ft&=1}return ft?(Ve.cb=0,ft):0})(I,Ae)||(U=I.a)}}else U=I.a}U==0&&_e.Oa!=null&&_e.Oa.fd&&(U=Fl(_e.ba))}_e=U}Ce=_e!=0?null:11>Ce?Pe.f.RGBA.eb:Pe.f.kb.y}else Ce=null;return Ce};var tm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(K,se){for(var V="",q=0;q<4;q++)V+=String.fromCharCode(K[se++]);return V}function a(K,se){return K[se+0]|K[se+1]<<8}function m(K,se){return(K[se+0]|K[se+1]<<8|K[se+2]<<16)>>>0}function v(K,se){return(K[se+0]|K[se+1]<<8|K[se+2]<<16|K[se+3]<<24)>>>0}new u;var g=[0],x=[0],w=[],b=new u,S=t,C=(function(K,se){var V={},q=0,le=!1,ae=0,ie=0;if(V.frames=[],!(function($,M){for(var ee=0;ee<4;ee++)if($[M+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(K,se)){for(v(K,se+=4),se+=8;se<K.length;){var J=h(K,se),G=v(K,se+=4);se+=4;var W=G+(1&G);switch(J){case"VP8 ":case"VP8L":V.frames[q]===void 0&&(V.frames[q]={}),(he=V.frames[q]).src_off=le?ie:se-8,he.src_size=ae+G+8,q++,le&&(le=!1,ae=0,ie=0);break;case"VP8X":(he=V.header={}).feature_flags=K[se];var pe=se+4;he.canvas_width=1+m(K,pe),pe+=3,he.canvas_height=1+m(K,pe),pe+=3;break;case"ALPH":le=!0,ae=W+8,ie=se-8;break;case"ANIM":(he=V.header).bgcolor=v(K,se),pe=se+4,he.loop_count=a(K,pe),pe+=2;break;case"ANMF":var oe,he;(he=V.frames[q]={}).offset_x=2*m(K,se),se+=3,he.offset_y=2*m(K,se),se+=3,he.width=1+m(K,se),se+=3,he.height=1+m(K,se),se+=3,he.duration=m(K,se),se+=3,oe=K[se++],he.dispose=1&oe,he.blend=oe>>1&1}J!="ANMF"&&(se+=W)}return V}})(S,0);C.response=S,C.rgbaoutput=!0,C.dataurl=!1;var B=C.header?C.header:null,F=C.frames?C.frames:null;if(B){B.loop_counter=B.loop_count,g=[B.canvas_height],x=[B.canvas_width];for(var N=0;N<F.length&&F[N].blend!=0;N++);}var Q=F[0],z=b.WebPDecodeRGBA(S,Q.src_off,Q.src_size,x,g);Q.rgba=z,Q.imgwidth=x[0],Q.imgheight=g[0];for(var k=0;k<x[0]*g[0]*4;k++)w[k]=z[k];return this.width=x,this.height=g,this.data=w,this}(function(t){var n,r,s,i,l,d,f,u,h,a=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new u,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new d,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new d,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),n=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,f=this.internal.Rectangle,u=this.internal.Matrix,h=new a}]);var m=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=$;Object.defineProperty(this,"pdf",{get:function(){return M}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Ee){ee=!!Ee}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Ee){re=!!Ee}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(Ee){isNaN(Ee)||(me=Ee)}});var De=0;Object.defineProperty(this,"posY",{get:function(){return De},set:function(Ee){isNaN(Ee)||(De=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ee){var at;typeof Ee=="number"?at=[Ee,Ee,Ee,Ee]:((at=new Array(4))[0]=Ee[0],at[1]=Ee.length>=2?Ee[1]:at[0],at[2]=Ee.length>=3?Ee[2]:at[0],at[3]=Ee.length>=4?Ee[3]:at[1]),h.margin=at}});var Ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ue},set:function(Ee){Ue=Ee}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Ee){Ne=Ee}});var Ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ke},set:function(Ee){Ke=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ee){Ee instanceof a&&(h=Ee)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ee){h.path=Ee}});var rt=[];Object.defineProperty(this,"ctxStack",{get:function(){return rt},set:function(Ee){rt=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var at;at=v(Ee),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var at=v(Ee);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var et=null,wt=null,nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(Ee){et=null,wt=null,nt=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var at;if(this.ctx.font=Ee,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Ee))!==null){var Gt=at[1];at[2];var Oe=at[3],ce=at[4];at[5];var ve=at[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(Ge==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var vt=(function(Ye){var Zt,on,pn=[],Tt=Ye.trim();if(Tt==="")return Uw;if(Tt in HI)return[HI[Tt]];for(;Tt!=="";){switch(on=null,Zt=(Tt=$I(Tt)).charAt(0)){case'"':case"'":on=Koe(Tt.substring(1),Zt);break;default:on=Woe(Tt)}if(on===null||(pn.push(on[0]),(Tt=$I(on[1]))!==""&&Tt.charAt(0)!==","))return Uw;Tt=Tt.replace(/^,/,"")}return pn})(ve);if(this.fontFaces){var _t=(function(Ye,Zt){var on=Ye.getFontList(),pn=JSON.stringify(on);if(et===null||wt!==pn){var Tt=(function(nn){var xt=[];return Object.keys(nn).forEach(function(an){nn[an].forEach(function(dn){var Nn=null;switch(dn){case"bold":Nn={family:an,weight:"bold"};break;case"italic":Nn={family:an,style:"italic"};break;case"bolditalic":Nn={family:an,weight:"bold",style:"italic"};break;case"":case"normal":Nn={family:an}}Nn!==null&&(Nn.ref={name:an,style:dn},xt.push(Nn))})}),xt})(on);et=(function(nn){for(var xt={},an=0;an<nn.length;++an){var dn=Ow(nn[an]),Nn=dn.family,Wn=dn.stretch,jn=dn.style,rn=dn.weight;xt[Nn]=xt[Nn]||{},xt[Nn][Wn]=xt[Nn][Wn]||{},xt[Nn][Wn][jn]=xt[Nn][Wn][jn]||{},xt[Nn][Wn][jn][rn]=dn}return xt})(Tt.concat(Zt)),wt=pn}return et})(this.pdf,this.fontFaces),Je=vt.map(function(Ye){return{family:Ye,stretch:"normal",weight:Oe,style:Gt}}),We=(function(Ye,Zt,on){for(var pn=(on=on||{}).defaultFontFamily||"times",Tt=Object.assign({},Goe,on.genericFontFamilies||{}),nn=null,xt=null,an=0;an<Zt.length;++an)if(Tt[(nn=Ow(Zt[an])).family]&&(nn.family=Tt[nn.family]),Ye.hasOwnProperty(nn.family)){xt=Ye[nn.family];break}if(!(xt=xt||Ye[pn]))throw new Error("Could not find a font-family for the rule '"+VI(nn)+"' and default family '"+pn+"'.");if(xt=(function(dn,Nn){if(Nn[dn])return Nn[dn];var Wn=CS[dn],jn=Wn<=CS.normal?-1:1,rn=zI(Nn,RR,Wn,jn);if(!rn)throw new Error("Could not find a matching font-stretch value for "+dn);return rn})(nn.stretch,xt),xt=(function(dn,Nn){if(Nn[dn])return Nn[dn];for(var Wn=PR[dn],jn=0;jn<Wn.length;++jn)if(Nn[Wn[jn]])return Nn[Wn[jn]];throw new Error("Could not find a matching font-style for "+dn)})(nn.style,xt),!(xt=(function(dn,Nn){if(Nn[dn])return Nn[dn];if(dn===400&&Nn[500])return Nn[500];if(dn===500&&Nn[400])return Nn[400];var Wn=$oe[dn],jn=zI(Nn,NR,Wn,dn<400?-1:1);if(!jn)throw new Error("Could not find a matching font-weight for value "+dn);return jn})(nn.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+VI(nn)+"'.");return xt})(_t,Je);this.pdf.setFont(We.ref.name,We.ref.style)}else{var yt="";(Oe==="bold"||parseInt(Oe,10)>=700||Gt==="bold")&&(yt="bold"),Gt==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var zt="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<vt.length;Ft++){if(this.pdf.internal.getFont(vt[Ft],yt,{noFallback:!0,disableWarning:!0})!==void 0){zt=vt[Ft];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(vt[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zt=vt[Ft],yt="bold";else if(this.pdf.internal.getFont(vt[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zt=vt[Ft],yt="normal";break}}if(zt===""){for(var Ct=0;Ct<vt.length;Ct++)if(ut[vt[Ct]]){zt=ut[vt[Ct]];break}}zt=zt===""?"Times":zt,this.pdf.setFont(zt,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};m.prototype.setLineDash=function($){this.lineDash=$},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function($,M){if(isNaN($)||isNaN(M))throw go.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new d($,M));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new d($,M)},m.prototype.closePath=function(){var $=new d(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&fi(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){$=new d(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d($.x,$.y)},m.prototype.lineTo=function($,M){if(isNaN($)||isNaN(M))throw go.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new d($,M));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new d(ee.x,ee.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function($,M,ee,re){if(isNaN(ee)||isNaN(re)||isNaN($)||isNaN(M))throw go.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new d(ee,re)),De=this.ctx.transform.applyToPoint(new d($,M));this.path.push({type:"qct",x1:De.x,y1:De.y,x:me.x,y:me.y}),this.ctx.lastPoint=new d(me.x,me.y)},m.prototype.bezierCurveTo=function($,M,ee,re,me,De){if(isNaN(me)||isNaN(De)||isNaN($)||isNaN(M)||isNaN(ee)||isNaN(re))throw go.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ue=this.ctx.transform.applyToPoint(new d(me,De)),Ne=this.ctx.transform.applyToPoint(new d($,M)),Ke=this.ctx.transform.applyToPoint(new d(ee,re));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Ke.x,y2:Ke.y,x:Ue.x,y:Ue.y}),this.ctx.lastPoint=new d(Ue.x,Ue.y)},m.prototype.arc=function($,M,ee,re,me,De){if(isNaN($)||isNaN(M)||isNaN(ee)||isNaN(re)||isNaN(me))throw go.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(De=!!De,!this.ctx.transform.isIdentity){var Ue=this.ctx.transform.applyToPoint(new d($,M));$=Ue.x,M=Ue.y;var Ne=this.ctx.transform.applyToPoint(new d(0,ee)),Ke=this.ctx.transform.applyToPoint(new d(0,0));ee=Math.sqrt(Math.pow(Ne.x-Ke.x,2)+Math.pow(Ne.y-Ke.y,2))}Math.abs(me-re)>=2*Math.PI&&(re=0,me=2*Math.PI),this.path.push({type:"arc",x:$,y:M,radius:ee,startAngle:re,endAngle:me,counterclockwise:De})},m.prototype.arcTo=function($,M,ee,re,me){throw new Error("arcTo not implemented.")},m.prototype.rect=function($,M,ee,re){if(isNaN($)||isNaN(M)||isNaN(ee)||isNaN(re))throw go.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,M),this.lineTo($+ee,M),this.lineTo($+ee,M+re),this.lineTo($,M+re),this.lineTo($,M),this.lineTo($+ee,M),this.lineTo($,M)},m.prototype.fillRect=function($,M,ee,re){if(isNaN($)||isNaN(M)||isNaN(ee)||isNaN(re))throw go.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,M,ee,re),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},m.prototype.strokeRect=function($,M,ee,re){if(isNaN($)||isNaN(M)||isNaN(ee)||isNaN(re))throw go.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect($,M,ee,re),this.stroke())},m.prototype.clearRect=function($,M,ee,re){if(isNaN($)||isNaN(M)||isNaN(ee)||isNaN(re))throw go.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,M,ee,re))},m.prototype.save=function($){$=typeof $!="boolean"||$;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new a(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},m.prototype.restore=function($){$=typeof $!="boolean"||$;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(M),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function($){var M,ee,re,me;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))M=0,ee=0,re=0,me=0;else{var De=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(De!==null)M=parseInt(De[1]),ee=parseInt(De[2]),re=parseInt(De[3]),me=1;else if((De=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)M=parseInt(De[1]),ee=parseInt(De[2]),re=parseInt(De[3]),me=parseFloat(De[4]);else{if(me=1,typeof $=="string"&&$.charAt(0)!=="#"){var Ue=new ER($);$=Ue.ok?Ue.toHex():"#000000"}$.length===4?(M=$.substring(1,2),M+=M,ee=$.substring(2,3),ee+=ee,re=$.substring(3,4),re+=re):(M=$.substring(1,3),ee=$.substring(3,5),re=$.substring(5,7)),M=parseInt(M,16),ee=parseInt(ee,16),re=parseInt(re,16)}}return{r:M,g:ee,b:re,a:me,style:$}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function($,M,ee,re){if(isNaN(M)||isNaN(ee)||typeof $!="string")throw go.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!g.call(this)){var me=W(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;q.call(this,{text:$,x:M,y:ee,scale:De,angle:me,align:this.textAlign,maxWidth:re})}},m.prototype.strokeText=function($,M,ee,re){if(isNaN(M)||isNaN(ee)||typeof $!="string")throw go.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){re=isNaN(re)?void 0:re;var me=W(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;q.call(this,{text:$,x:M,y:ee,scale:De,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:re})}},m.prototype.measureText=function($){if(typeof $!="string")throw go.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,ee=this.pdf.internal.scaleFactor,re=M.internal.getFontSize(),me=M.getStringUnitWidth($)*re/M.internal.scaleFactor;return new function(De){var Ue=(De=De||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ue}}),this}({width:me*=Math.round(96*ee/72*1e4)/1e4})},m.prototype.scale=function($,M){if(isNaN($)||isNaN(M))throw go.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new u($,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.rotate=function($){if(isNaN($))throw go.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new u(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},m.prototype.translate=function($,M){if(isNaN($)||isNaN(M))throw go.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new u(1,0,0,1,$,M);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.transform=function($,M,ee,re,me,De){if(isNaN($)||isNaN(M)||isNaN(ee)||isNaN(re)||isNaN(me)||isNaN(De))throw go.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ue=new u($,M,ee,re,me,De);this.ctx.transform=this.ctx.transform.multiply(Ue)},m.prototype.setTransform=function($,M,ee,re,me,De){$=isNaN($)?1:$,M=isNaN(M)?0:M,ee=isNaN(ee)?0:ee,re=isNaN(re)?1:re,me=isNaN(me)?0:me,De=isNaN(De)?0:De,this.ctx.transform=new u($,M,ee,re,me,De)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function($,M,ee,re,me,De,Ue,Ne,Ke){var rt=this.pdf.getImageProperties($),et=1,wt=1,nt=1,Ee=1;re!==void 0&&Ne!==void 0&&(nt=Ne/re,Ee=Ke/me,et=rt.width/re*Ne/re,wt=rt.height/me*Ke/me),De===void 0&&(De=M,Ue=ee,M=0,ee=0),re!==void 0&&Ne===void 0&&(Ne=re,Ke=me),re===void 0&&Ne===void 0&&(Ne=rt.width,Ke=rt.height);var at=this.ctx.transform.decompose(),Gt=W(at.rotate.shx),Oe=new u,ce=(Oe=(Oe=(Oe=Oe.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new f(De-M*nt,Ue-ee*Ee,re*et,me*wt));if(this.autoPaging){for(var ve,Ge=b.call(this,ce),vt=[],_t=0;_t<Ge.length;_t+=1)vt.indexOf(Ge[_t])===-1&&vt.push(Ge[_t]);B(vt);for(var Je=vt[0],We=vt[vt.length-1],yt=Je;yt<We+1;yt++){this.pdf.setPage(yt);var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=yt===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=yt===1?0:Ft+(yt-2)*Ct;if(this.ctx.clip_path.length!==0){var Zt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ve,this.posX+this.margin[3],-Ye+ut+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Zt}var on=JSON.parse(JSON.stringify(ce));on=C([on],this.posX+this.margin[3],-Ye+ut+this.ctx.prevPageLastElemOffset)[0];var pn=(yt>Je||yt<We)&&w.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Ct,null).clip().discardPath()),this.pdf.addImage($,"JPEG",on.x,on.y,on.w,on.h,null,null,Gt),pn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,Gt)};var b=function($,M,ee){var re=[];M=M||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":re.push(Math.floor(($.y+me)/ee)+1);break;case"arc":re.push(Math.floor(($.y+me-$.radius)/ee)+1),re.push(Math.floor(($.y+me+$.radius)/ee)+1);break;case"qct":var De=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);re.push(Math.floor((De.y+me)/ee)+1),re.push(Math.floor((De.y+De.h+me)/ee)+1);break;case"bct":var Ue=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);re.push(Math.floor((Ue.y+me)/ee)+1),re.push(Math.floor((Ue.y+Ue.h+me)/ee)+1);break;case"rect":re.push(Math.floor(($.y+me)/ee)+1),re.push(Math.floor(($.y+$.h+me)/ee)+1)}for(var Ne=0;Ne<re.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<re[Ne];)S.call(this);return re},S=function(){var $=this.fillStyle,M=this.strokeStyle,ee=this.font,re=this.lineCap,me=this.lineWidth,De=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=M,this.font=ee,this.lineCap=re,this.lineWidth=me,this.lineJoin=De},C=function($,M,ee){for(var re=0;re<$.length;re++)switch($[re].type){case"bct":$[re].x2+=M,$[re].y2+=ee;case"qct":$[re].x1+=M,$[re].y1+=ee;default:$[re].x+=M,$[re].y+=ee}return $},B=function($){return $.sort(function(M,ee){return M-ee})},F=function($,M){var ee=this.fillStyle,re=this.strokeStyle,me=this.lineCap,De=this.lineWidth,Ue=Math.abs(De*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var Ke,rt,et=JSON.parse(JSON.stringify(this.path)),wt=JSON.parse(JSON.stringify(this.path)),nt=[],Ee=0;Ee<wt.length;Ee++)if(wt[Ee].x!==void 0)for(var at=b.call(this,wt[Ee]),Gt=0;Gt<at.length;Gt+=1)nt.indexOf(at[Gt])===-1&&nt.push(at[Gt]);for(var Oe=0;Oe<nt.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<nt[Oe];)S.call(this);B(nt);for(var ce=nt[0],ve=nt[nt.length-1],Ge=ce;Ge<ve+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=ee,this.strokeStyle=re,this.lineCap=me,this.lineWidth=Ue,this.lineJoin=Ne;var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=Ge===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Ge===1?0:Je+(Ge-2)*We;if(this.ctx.clip_path.length!==0){var zt=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ke,this.posX+this.margin[3],-yt+_t+this.ctx.prevPageLastElemOffset),N.call(this,$,!0),this.path=zt}if(rt=JSON.parse(JSON.stringify(et)),this.path=C(rt,this.posX+this.margin[3],-yt+_t+this.ctx.prevPageLastElemOffset),M===!1||Ge===0){var ut=(Ge>ce||Ge<ve)&&w.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,We,null).clip().discardPath()),N.call(this,$,M),ut&&this.pdf.restoreGraphicsState()}this.lineWidth=De}this.path=et}else this.lineWidth=Ue,N.call(this,$,M),this.lineWidth=De},N=function($,M){if(($!=="stroke"||M||!x.call(this))&&($==="stroke"||M||!g.call(this))){for(var ee,re,me=[],De=this.path,Ue=0;Ue<De.length;Ue++){var Ne=De[Ue];switch(Ne.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Ke=me.length;if(De[Ue-1]&&!isNaN(De[Ue-1].x)&&(ee=[Ne.x-De[Ue-1].x,Ne.y-De[Ue-1].y],Ke>0)){for(;Ke>=0;Ke--)if(me[Ke-1].close!==!0&&me[Ke-1].begin!==!0){me[Ke-1].deltas.push(ee),me[Ke-1].abs.push(Ne);break}}break;case"bct":ee=[Ne.x1-De[Ue-1].x,Ne.y1-De[Ue-1].y,Ne.x2-De[Ue-1].x,Ne.y2-De[Ue-1].y,Ne.x-De[Ue-1].x,Ne.y-De[Ue-1].y],me[me.length-1].deltas.push(ee);break;case"qct":var rt=De[Ue-1].x+2/3*(Ne.x1-De[Ue-1].x),et=De[Ue-1].y+2/3*(Ne.y1-De[Ue-1].y),wt=Ne.x+2/3*(Ne.x1-Ne.x),nt=Ne.y+2/3*(Ne.y1-Ne.y),Ee=Ne.x,at=Ne.y;ee=[rt-De[Ue-1].x,et-De[Ue-1].y,wt-De[Ue-1].x,nt-De[Ue-1].y,Ee-De[Ue-1].x,at-De[Ue-1].y],me[me.length-1].deltas.push(ee);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(Ne)}}re=M?null:$==="stroke"?"stroke":"fill";for(var Gt=!1,Oe=0;Oe<me.length;Oe++)if(me[Oe].arc)for(var ce=me[Oe].abs,ve=0;ve<ce.length;ve++){var Ge=ce[ve];Ge.type==="arc"?k.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,M,!Gt):le.call(this,Ge.x,Ge.y),Gt=!0}else if(me[Oe].close===!0)this.pdf.internal.out("h"),Gt=!1;else if(me[Oe].begin!==!0){var vt=me[Oe].start.x,_t=me[Oe].start.y;ae.call(this,me[Oe].deltas,vt,_t),Gt=!0}re&&K.call(this,re),M&&se.call(this)}},Q=function($){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-ee;case"top":return $+M-ee;case"hanging":return $+M-2*ee;case"middle":return $+M/2-ee;default:return $}},z=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(M,ee){this.colorStops.push([M,ee])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function($,M,ee,re,me,De,Ue,Ne,Ke){for(var rt=J.call(this,ee,re,me,De),et=0;et<rt.length;et++){var wt=rt[et];et===0&&(Ke?V.call(this,wt.x1+$,wt.y1+M):le.call(this,wt.x1+$,wt.y1+M)),ie.call(this,$,M,wt.x2,wt.y2,wt.x3,wt.y3,wt.x4,wt.y4)}Ne?se.call(this):K.call(this,Ue)},K=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},V=function($,M){this.pdf.internal.out(r($)+" "+s(M)+" m")},q=function($){var M;switch($.align){case"right":case"end":M="right";break;case"center":M="center";break;default:M="left"}var ee,re,me,De=this.pdf.getTextDimensions($.text),Ue=Q.call(this,$.y),Ne=z.call(this,Ue)-De.h,Ke=this.ctx.transform.applyToPoint(new d($.x,Ue));if(this.autoPaging){var rt=this.ctx.transform.decompose(),et=new u;et=(et=(et=et.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale);for(var wt=this.ctx.transform.applyToRectangle(new f($.x,Ue,De.w,De.h)),nt=et.applyToRectangle(new f($.x,Ne,De.w,De.h)),Ee=b.call(this,nt),at=[],Gt=0;Gt<Ee.length;Gt+=1)at.indexOf(Ee[Gt])===-1&&at.push(Ee[Gt]);B(at);for(var Oe=at[0],ce=at[at.length-1],ve=Oe;ve<ce+1;ve++){this.pdf.setPage(ve);var Ge=ve===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Je=_t-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],yt=We-this.margin[3],zt=ve===1?0:vt+(ve-2)*Je;if(this.ctx.clip_path.length!==0){var ut=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ee,this.posX+this.margin[3],-1*zt+Ge),N.call(this,"fill",!0),this.path=ut}var Ft=C([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-zt+Ge+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale);var Ct=this.autoPaging!=="text";if(Ct||Ft.y+Ft.h<=_t){if(Ct||Ft.y>=Ge&&Ft.x<=We){var Ye=Ct?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||We-Ft.x)[0],Zt=C([JSON.parse(JSON.stringify(wt))],this.posX+this.margin[3],-zt+Ge+this.ctx.prevPageLastElemOffset)[0],on=Ct&&(ve>Oe||ve<ce)&&w.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Je,null).clip().discardPath()),this.pdf.text(Ye,Zt.x,Zt.y,{angle:$.angle,align:M,renderingMode:$.renderingMode}),on&&this.pdf.restoreGraphicsState()}}else Ft.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-Ft.y);$.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=me)}}else $.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale),this.pdf.text($.text,Ke.x+this.posX,Ke.y+this.posY,{angle:$.angle,align:M,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=me)},le=function($,M,ee,re){ee=ee||0,re=re||0,this.pdf.internal.out(r($+ee)+" "+s(M+re)+" l")},ae=function($,M,ee){return this.pdf.lines($,M,ee,null,null)},ie=function($,M,ee,re,me,De,Ue,Ne){this.pdf.internal.out([n(i(ee+$)),n(l(re+M)),n(i(me+$)),n(l(De+M)),n(i(Ue+$)),n(l(Ne+M)),"c"].join(" "))},J=function($,M,ee,re){for(var me=2*Math.PI,De=Math.PI/2;M>ee;)M-=me;var Ue=Math.abs(ee-M);Ue<me&&re&&(Ue=me-Ue);for(var Ne=[],Ke=re?-1:1,rt=M;Ue>1e-5;){var et=rt+Ke*Math.min(Ue,De);Ne.push(G.call(this,$,rt,et)),Ue-=Math.abs(et-rt),rt=et}return Ne},G=function($,M,ee){var re=(ee-M)/2,me=$*Math.cos(re),De=$*Math.sin(re),Ue=me,Ne=-De,Ke=Ue*Ue+Ne*Ne,rt=Ke+Ue*me+Ne*De,et=4/3*(Math.sqrt(2*Ke*rt)-rt)/(Ue*De-Ne*me),wt=Ue-et*Ne,nt=Ne+et*Ue,Ee=wt,at=-nt,Gt=re+M,Oe=Math.cos(Gt),ce=Math.sin(Gt);return{x1:$*Math.cos(M),y1:$*Math.sin(M),x2:wt*Oe-nt*ce,y2:wt*ce+nt*Oe,x3:Ee*Oe-at*ce,y3:Ee*ce+at*Oe,x4:$*Math.cos(ee),y4:$*Math.sin(ee)}},W=function($){return 180*$/Math.PI},pe=function($,M,ee,re,me,De){var Ue=$+.5*(ee-$),Ne=M+.5*(re-M),Ke=me+.5*(ee-me),rt=De+.5*(re-De),et=Math.min($,me,Ue,Ke),wt=Math.max($,me,Ue,Ke),nt=Math.min(M,De,Ne,rt),Ee=Math.max(M,De,Ne,rt);return new f(et,nt,wt-et,Ee-nt)},oe=function($,M,ee,re,me,De,Ue,Ne){var Ke,rt,et,wt,nt,Ee,at,Gt,Oe,ce,ve,Ge,vt,_t,Je=ee-$,We=re-M,yt=me-ee,zt=De-re,ut=Ue-me,Ft=Ne-De;for(rt=0;rt<41;rt++)Oe=(at=(et=$+(Ke=rt/40)*Je)+Ke*((nt=ee+Ke*yt)-et))+Ke*(nt+Ke*(me+Ke*ut-nt)-at),ce=(Gt=(wt=M+Ke*We)+Ke*((Ee=re+Ke*zt)-wt))+Ke*(Ee+Ke*(De+Ke*Ft-Ee)-Gt),rt==0?(ve=Oe,Ge=ce,vt=Oe,_t=ce):(ve=Math.min(ve,Oe),Ge=Math.min(Ge,ce),vt=Math.max(vt,Oe),_t=Math.max(_t,ce));return new f(Math.round(ve),Math.round(Ge),Math.round(vt-ve),Math.round(_t-Ge))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,M,ee=($=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:M}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(vr.API),(function(t){var n=function(d){var f,u,h,a,m,v,g,x,w,b;for(u=[],h=0,a=(d+=f="\0\0\0\0".slice(d.length%4||4)).length;a>h;h+=4)(m=(d.charCodeAt(h)<<24)+(d.charCodeAt(h+1)<<16)+(d.charCodeAt(h+2)<<8)+d.charCodeAt(h+3))!==0?(v=(m=((m=((m=((m=(m-(b=m%85))/85)-(w=m%85))/85)-(x=m%85))/85)-(g=m%85))/85)%85,u.push(v+33,g+33,x+33,w+33,b+33)):u.push(122);return(function(S,C){for(var B=C;B>0;B--)S.pop()})(u,f.length),String.fromCharCode.apply(String,u)+"~>"},r=function(d){var f,u,h,a,m,v=String,g="length",x=255,w="charCodeAt",b="slice",S="replace";for(d[b](-2),d=d[b](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),h=[],a=0,m=(d+=f="uuuuu"[b](d[g]%5||5))[g];m>a;a+=5)u=52200625*(d[w](a)-33)+614125*(d[w](a+1)-33)+7225*(d[w](a+2)-33)+85*(d[w](a+3)-33)+(d[w](a+4)-33),h.push(x&u>>24,x&u>>16,x&u>>8,x&u);return(function(C,B){for(var F=B;F>0;F--)C.pop()})(h,f[g]),v.fromCharCode.apply(v,h)},s=function(d){return d.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(d){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),f.test(d)===!1)return"";for(var u="",h=0;h<d.length;h+=2)u+=String.fromCharCode("0x"+(d[h]+d[h+1]));return u},l=function(d){for(var f=new Uint8Array(d.length),u=d.length;u--;)f[u]=d.charCodeAt(u);return(f=vS(f)).reduce(function(h,a){return h+String.fromCharCode(a)},"")};t.processDataByFilters=function(d,f){var u=0,h=d||"",a=[];for(typeof(f=f||[])=="string"&&(f=[f]),u=0;u<f.length;u+=1)switch(f[u]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),a.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=n(h),a.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),a.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=s(h),a.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=l(h),a.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[u]+'" is not implemented')}return{data:h,reverseChain:a.reverse().join(" ")}}})(vr.API),(function(t){t.loadFile=function(n,r,s){return(function(i,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var f=void 0;try{f=(function(u,h,a){var m=new XMLHttpRequest,v=0,g=function(x){var w=x.length,b=[],S=String.fromCharCode;for(v=0;v<w;v+=1)b.push(S(255&x.charCodeAt(v)));return b.join("")};if(m.open("GET",u,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?a(g(this.responseText)):a(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)})(i,l,d)}catch{}return f})(n,r,s)},t.loadImageFile=t.loadFile})(vr.API),(function(t){function n(){return(Yr.html2canvas?Promise.resolve(Yr.html2canvas):xw(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function r(){return(Yr.DOMPurify?Promise.resolve(Yr.DOMPurify):xw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var s=function(f){var u=fi(f);return u==="undefined"?"undefined":u==="string"||f instanceof String?"string":u==="number"||f instanceof Number?"number":u==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(f,u){var h=document.createElement(f);for(var a in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[a]=u.style[a];return h},l=function f(u,h){for(var a=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)h!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||a.appendChild(f(m,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(a.width=u.width,a.height=u.height,a.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(a.value=u.value),a.addEventListener("load",function(){a.scrollTop=u.scrollTop,a.scrollLeft=u.scrollLeft},!0)),a},d=function f(u){var h=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),a=f.convert(Promise.resolve(),h);return(a=a.setProgress(1,f,1,[f])).set(u)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(f,u){return f.__proto__=u||d.prototype,f},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(f,u){return this.then(function(){switch(u=u||(function(h){switch(s(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(f),u){case"string":return this.then(r).then(function(h){return this.set({src:i("div",{innerHTML:f,dompurify:h})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},d.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(n).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(n).then(function(u){var h=this.opt.jsPDF,a=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=a,a)for(var g=0;g<a.length;++g){var x=a[g],w=x.src.find(function(b){return b.format==="truetype"});w&&h.addFont(w.url,x.ref.name,x.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,h.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(f,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(f,u):this.outputPdf(f,u)},d.prototype.outputPdf=function(f,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,u)})},d.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},d.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(f){if(s(f)!=="object")return this;var u=Object.keys(f||{}).map(function(h){if(h in d.template.prop)return function(){this.prop[h]=f[h]};switch(h){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[h]=f[h]}}},this);return this.then(function(){return this.thenList(u)})},d.prototype.get=function(f,u){return this.then(function(){var h=f in d.template.prop?this.prop[f]:this.opt[f];return u?u(h):h})},d.prototype.setMargin=function(f){return this.then(function(){switch(s(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},d.prototype.setPageSize=function(f){function u(h,a){return Math.floor(h*a/72*96)}return this.then(function(){(f=f||vr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:u(f.inner.width,f.k),height:u(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},d.prototype.setProgress=function(f,u,h,a){return f!=null&&(this.progress.val=f),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),a!=null&&(this.progress.stack=a),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(f,u,h,a){return this.setProgress(f?this.progress.val+f:null,u||null,h?this.progress.n+h:null,a?this.progress.stack.concat(a):null)},d.prototype.then=function(f,u){var h=this;return this.thenCore(f,u,function(a,m){return h.updateProgress(null,null,1,[a]),Promise.prototype.then.call(this,function(v){return h.updateProgress(null,a),v}).then(a,m).then(function(v){return h.updateProgress(1),v})})},d.prototype.thenCore=function(f,u,h){h=h||Promise.prototype.then;var a=this;f&&(f=f.bind(a)),u&&(u=u.bind(a));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?a:d.convert(Object.assign({},a),Promise.prototype),v=h.call(m,f,u);return d.convert(v,a.__proto__)},d.prototype.thenExternal=function(f,u){return Promise.prototype.then.call(this,f,u)},d.prototype.thenList=function(f){var u=this;return f.forEach(function(h){u=u.thenCore(h)}),u},d.prototype.catch=function(f){f&&(f=f.bind(this));var u=Promise.prototype.catch.call(this,f);return d.convert(u,this)},d.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},d.prototype.error=function(f){return this.then(function(){throw new Error(f)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,vr.getPageSize=function(f,u,h){if(fi(f)==="object"){var a=f;f=a.orientation,u=a.unit||u,h=a.format||h}u=u||"mm",h=h||"a4",f=(""+(f||"P")).toLowerCase();var m,v=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var x,w=0,b=0;if(g.hasOwnProperty(v))w=g[v][1]/m,b=g[v][0]/m;else try{w=h[1],b=h[0]}catch{throw new Error("Invalid format: "+h)}if(f==="p"||f==="portrait")f="p",b>w&&(x=b,b=w,w=x);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",w>b&&(x=b,b=w,w=x)}return{width:b,height:w,unit:u,k:m,orientation:f}},t.html=function(f,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Ow):null;var h=new d(u);return u.worker?h:h.from(f).doCallback()}})(vr.API),vr.API.addJS=function(t){return KI=t,this.internal.events.subscribe("postPutResources",function(){Ly=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ly+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),GI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+KI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ly!==void 0&&GI!==void 0&&this.internal.out("/Names <</JavaScript "+Ly+" 0 R>>")}),this},(function(t){var n;t.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),l=0;l<i.length;l++){var d=i[l],f=s.exec(d);if(f!=null){var u=f[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(d)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,a=[];for(l=0;l<h;l++){var m=r.internal.newObject();a.push(m);var v=r.internal.getPageInfo(l+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),l=0;l<a.length;l++)r.internal.write("(page_"+(l+1)+")"+a[l]+" 0 R");r.internal.write(" ] >>","endobj"),n=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+n+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,i,l){var d={title:i,options:l,children:[]};return s==null&&(s=this.root),s.children.push(d),d},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var i=0;i<s.children.length;i++)this.genIds_r(s.children[i])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<s.children.length;l++){var d=s.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(s)),l>0&&this.line("/Prev "+this.makeRef(s.children[l-1])),l<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var f=this.count=this.count_r({count:0},d);if(f>0&&this.line("/Count "+f),d.options&&d.options.pageNumber){var u=r.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<s.children.length;h++)this.renderItems(s.children[h])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,i){for(var l=0;l<i.children.length;l++)s.count++,this.count_r(s,i.children[l]);return s.count}}])})(vr.API),(function(t){var n=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,s,i,l,d,f){var u,h=this.decode.DCT_DECODE,a=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=d||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var v,g=256*m.charCodeAt(4)+m.charCodeAt(5),x=m.length,w={width:0,height:0,numcomponents:1},b=4;b<x;b+=2){if(b+=g,n.indexOf(m.charCodeAt(b+1))!==-1){v=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),w={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:v,numcomponents:m.charCodeAt(b+9)};break}g=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}a={data:r,width:u.width,height:u.height,colorSpace:f,bitsPerComponent:8,filter:h,index:s,alias:i}}return a}})(vr.API),vr.API.processPNG=function(t,n,r,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,l=_oe(t,{checkCrc:!0}),d=l.width,f=l.height,u=l.channels,h=l.palette,a=l.depth;i=h&&u===1?(function(k){for(var K=k.width,se=k.height,V=k.data,q=k.palette,le=k.depth,ae=!1,ie=[],J=[],G=void 0,W=!1,pe=0,oe=0;oe<q.length;oe++){var he=ZT(q[oe],4),$=he[0],M=he[1],ee=he[2],re=he[3];ie.push($,M,ee),re!=null&&(re===0?(pe++,J.length<1&&J.push(oe)):re<255&&(W=!0))}if(W||pe>1){ae=!0,J=void 0;var me=K*se;G=new Uint8Array(me);for(var De=new DataView(V.buffer),Ue=0;Ue<me;Ue++){var Ne=Mw(De,Ue,le),Ke=ZT(q[Ne],4)[3];G[Ue]=Ke}}else pe===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:V,alphaBytes:G,needSMask:ae,palette:ie,mask:J}})(l):u===2||u===4?(function(k){for(var K=k.data,se=k.width,V=k.height,q=k.channels,le=k.depth,ae=q===2?"DeviceGray":"DeviceRGB",ie=q-1,J=se*V,G=ie,W=J*G,pe=1*J,oe=Math.ceil(W*le/8),he=Math.ceil(pe*le/8),$=new Uint8Array(oe),M=new Uint8Array(he),ee=new DataView(K.buffer),re=new DataView($.buffer),me=new DataView(M.buffer),De=!1,Ue=0;Ue<J;Ue++){for(var Ne=Ue*q,Ke=0;Ke<G;Ke++)n3(re,Mw(ee,Ne+Ke,le),Ue*G+Ke,le);var rt=Mw(ee,Ne+G,le);rt<(1<<le)-1&&(De=!0),n3(me,rt,1*Ue,le)}return{colorSpace:ae,colorsPerPixel:ie,sMaskBitsPerComponent:De?le:void 0,colorBytes:$,alphaBytes:M,needSMask:De}})(l):(function(k){var K=k.data,se=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:se,colorsPerPixel:se==="DeviceGray"?1:3,colorBytes:K instanceof Uint16Array?(function(V){for(var q=V.length,le=new Uint8Array(2*q),ae=new DataView(le.buffer,le.byteOffset,le.byteLength),ie=0;ie<q;ie++)ae.setUint16(2*ie,V[ie],!1);return le})(K):K,needSMask:!1}})(l);var m,v,g,x=i,w=x.colorSpace,b=x.colorsPerPixel,S=x.sMaskBitsPerComponent,C=x.colorBytes,B=x.alphaBytes,F=x.needSMask,N=x.palette,Q=x.mask,z=null;return s!==vr.API.image_compression.NONE&&typeof vS=="function"?(z=(function(k){var K;switch(k){case vr.API.image_compression.FAST:K=11;break;case vr.API.image_compression.MEDIUM:K=13;break;case vr.API.image_compression.SLOW:K=14;break;default:K=12}return K})(s),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(z," /Colors ").concat(b," /BitsPerComponent ").concat(a," /Columns ").concat(d),t=ZI(C,Math.ceil(d*b*a/8),b,a,s),F&&(g=ZI(B,Math.ceil(d*S/8),1,S,s))):(m=void 0,v=void 0,t=C,F&&(g=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:t,index:n,filter:m,decodeParameters:v,transparency:Q,palette:N,sMask:g,predictor:z,width:d,height:f,bitsPerComponent:a,sMaskBitsPerComponent:S,colorSpace:w}}},(function(t){t.processGIF89A=function(n,r,s,i){var l=new qoe(n),d=l.width,f=l.height,u=[];l.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:d,height:f},a=new kw(100).encode(h,100);return t.processJPEG.call(this,a,r,s,i)},t.processGIF87A=t.processGIF89A})(vr.API),FA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var n=0;n<t;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:s,blue:r,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},FA.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[t]()}catch(r){go.log("bit decode error:"+r)}},FA.prototype.bit1=function(){var t,n=Math.ceil(this.width/8),r=n%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<n;i++)for(var l=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+8*i*4,f=0;f<8&&8*i+f<this.width;f++){var u=this.palette[l>>7-f&1];this.data[d+4*f]=u.blue,this.data[d+4*f+1]=u.green,this.data[d+4*f+2]=u.red,this.data[d+4*f+3]=255}r!==0&&(this.pos+=4-r)}},FA.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),n=t%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var l=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+2*i*4,f=l>>4,u=15&l,h=this.palette[f];if(this.data[d]=h.blue,this.data[d+1]=h.green,this.data[d+2]=h.red,this.data[d+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[d+4]=h.blue,this.data[d+4+1]=h.green,this.data[d+4+2]=h.red,this.data[d+4+3]=255}n!==0&&(this.pos+=4-n)}},FA.prototype.bit8=function(){for(var t=this.width%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*s;if(i<this.palette.length){var d=this.palette[i];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},FA.prototype.bit15=function(){for(var t=this.width%3,n=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&n)/n*255|0,f=(l>>5&n)/n*255|0,u=(l>>10&n)/n*255|0,h=l>>15?255:0,a=s*this.width*4+4*i;this.data[a]=u,this.data[a+1]=f,this.data[a+2]=d,this.data[a+3]=h}this.pos+=t}},FA.prototype.bit16=function(){for(var t=this.width%3,n=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(d&n)/n*255|0,u=(d>>5&r)/r*255|0,h=(d>>11)/n*255|0,a=i*this.width*4+4*l;this.data[a]=h,this.data[a+1]=u,this.data[a+2]=f,this.data[a+3]=255}this.pos+=t}},FA.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=n*this.width*4+4*r;this.data[d]=l,this.data[d+1]=i,this.data[d+2]=s,this.data[d+3]=255}this.pos+=this.width%4}},FA.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+4*r;this.data[f]=l,this.data[f+1]=i,this.data[f+2]=s,this.data[f+3]=d}},FA.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(n,r,s,i){var l=new FA(n,!1),d=l.width,f=l.height,u={data:l.getData(),width:d,height:f},h=new kw(100).encode(u,100);return t.processJPEG.call(this,h,r,s,i)}})(vr.API),s3.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(n,r,s,i){var l=new s3(n),d=l.width,f=l.height,u={data:l.getData(),width:d,height:f},h=new kw(100).encode(u,100);return t.processJPEG.call(this,h,r,s,i)}})(vr.API),vr.API.processRGBA=function(t,n,r){for(var s=t.data,i=s.length,l=new Uint8Array(i/4*3),d=new Uint8Array(i/4),f=0,u=0,h=0;h<i;h+=4){var a=s[h],m=s[h+1],v=s[h+2],g=s[h+3];l[f++]=a,l[f++]=m,l[f++]=v,d[u++]=g}var x=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:x,index:n,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Nm=vr.API,Dy=Nm.getCharWidthsArray=function(t,n){var r,s,i=(n=n||{}).font||this.internal.getFont(),l=n.fontSize||this.internal.getFontSize(),d=n.charSpace||this.internal.getCharSpace(),f=n.widths?n.widths:i.metadata.Unicode.widths,u=f.fof?f.fof:1,h=n.kerning?n.kerning:i.metadata.Unicode.kerning,a=h.fof?h.fof:1,m=n.doKerning!==!1,v=0,g=t.length,x=0,w=f[0]||u,b=[];for(r=0;r<g;r++)s=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(s))+d*(1e3/l)||0)/1e3):(v=m&&fi(h[s])==="object"&&!isNaN(parseInt(h[s][x],10))?h[s][x]/a:0,b.push((f[s]||w)/u+v)),x=s;return b},WI=Nm.getStringUnitWidth=function(t,n){var r=(n=n||{}).fontSize||this.internal.getFontSize(),s=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return Nm.processArabic&&(t=Nm.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,r,i)/r:Dy.apply(this,arguments).reduce(function(l,d){return l+d},0)},YI=function(t,n,r,s){for(var i=[],l=0,d=t.length,f=0;l!==d&&f+n[l]<r;)f+=n[l],l++;i.push(t.slice(0,l));var u=l;for(f=0;l!==d;)f+n[l]>s&&(i.push(t.slice(u,l)),f=0,u=l),f+=n[l],l++;return u!==l&&i.push(t.slice(u,l)),i},XI=function(t,n,r){r||(r={});var s,i,l,d,f,u,h,a=[],m=[a],v=r.textIndent||0,g=0,x=0,w=t.split(" "),b=Dy.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var S=Array(u).join(" "),C=[];w.map(function(F){(F=F.split(/\s*\n/)).length>1?C=C.concat(F.map(function(N,Q){return(Q&&N.length?`
`:"")+N})):C.push(F[0])}),w=C,u=WI.apply(this,[S,r])}for(l=0,d=w.length;l<d;l++){var B=0;if(s=w[l],u&&s[0]==`
`&&(s=s.substr(1),B=1),v+g+(x=(i=Dy.apply(this,[s,r])).reduce(function(F,N){return F+N},0))>n||B){if(x>n){for(f=YI.apply(this,[s,i,n-(v+g),n]),a.push(f.shift()),a=[f.pop()];f.length;)m.push([f.shift()]);x=i.slice(s.length-(a[0]?a[0].length:0)).reduce(function(F,N){return F+N},0)}else a=[s];m.push(a),v=x+u,g=b}else a.push(s),v+=g+x,g=b}return h=u?function(F,N){return(N?S:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(h)},Nm.splitTextToSize=function(t,n,r){var s,i=(r=r||{}).fontSize||this.internal.getFontSize(),l=(function(a){if(a.widths&&a.kerning)return{widths:a.widths,kerning:a.kerning};var m=this.internal.getFont(a.fontName,a.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*n/i;l.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=r.lineIndent;var f,u,h=[];for(f=0,u=s.length;f<u;f++)h=h.concat(XI.apply(this,[s[f],d,l]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var n="0123456789abcdef",r="klmnopqrstuvwxyz",s={},i={},l=0;l<16;l++)s[r[l]]=n[l],i[n[l]]=r[l];var d=function(v){return"0x"+parseInt(v,10).toString(16)},f=t.__fontmetrics__.compress=function(v){var g,x,w,b,S=["{"];for(var C in v){if(g=v[C],isNaN(parseInt(C,10))?x="'"+C+"'":(C=parseInt(C,10),x=(x=d(C).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof g=="number")g<0?(w=d(g).slice(3),b="-"):(w=d(g).slice(2),b=""),w=b+w.slice(0,-1)+i[w.slice(-1)];else{if(fi(g)!=="object")throw new Error("Don't know what to do with value type "+fi(g)+".");w=f(g)}S.push(x+w)}return S.push("}"),S.join("")},u=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,x,w,b,S={},C=1,B=S,F=[],N="",Q="",z=v.length-1,k=1;k<z;k+=1)(b=v[k])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(F.push([B,w]),B={},w=void 0):b=="}"?((x=F.pop())[0][x[1]]=B,w=void 0,B=x[0]):b=="-"?C=-1:w===void 0?s.hasOwnProperty(b)?(N+=s[b],w=parseInt(N,16)*C,C=1,N=""):N+=b:s.hasOwnProperty(b)?(Q+=s[b],B[w]=parseInt(Q,16)*C,C=1,w=void 0,Q=""):Q+=b;return S},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},a={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var g=v.font,x=m.Unicode[g.postScriptName];x&&(g.metadata.Unicode={},g.metadata.Unicode.widths=x.widths,g.metadata.Unicode.kerning=x.kerning);var w=a.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])})(vr.API),(function(t){var n=function(r){for(var s=r.length,i=new Uint8Array(s),l=0;l<s;l++)i[l]=r.charCodeAt(l);return i};t.API.events.push(["addFont",function(r){var s=void 0,i=r.font,l=r.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(s=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(d,f){f=/^\x00\x01\x00\x00/.test(f)?n(f):n(uj(f)),d.metadata=t.API.TTFFont.open(f),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(i,s)}}])})(vr),vr.API.addSvgAsImage=function(t,n,r,s,i,l,d,f){if(isNaN(n)||isNaN(r))throw go.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw go.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var a={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Yr.canvg?Promise.resolve(Yr.canvg):xw(()=>import("./index.es-C6cscEp1.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(h,t,a)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(a)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),n,r,s,i,d,f)})},vr.API.putTotalPages=function(t){var n,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var i=0;i<this.internal.pages[s].length;i++)this.internal.pages[s][i]=this.internal.pages[s][i].replace(n,r);return this},vr.API.viewerPreferences=function(t,n){var r;t=t||{},n=n||!1;var s,i,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(d),u=[],h=0,a=0,m=0;function v(x,w){var b,S=!1;for(b=0;b<x.length;b+=1)x[b]===w&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||n===!0){var g=f.length;for(m=0;m<g;m+=1)r[f[m]].value=r[f[m]].defaultValue,r[f[m]].explicitSet=!1}if(fi(t)==="object"){for(i in t)if(l=t[i],v(f,i)&&l!==void 0){if(r[i].type==="boolean"&&typeof l=="boolean")r[i].value=l;else if(r[i].type==="name"&&v(r[i].valueSet,l))r[i].value=l;else if(r[i].type==="integer"&&Number.isInteger(l))r[i].value=l;else if(r[i].type==="array"){for(h=0;h<l.length;h+=1)if(s=!0,l[h].length===1&&typeof l[h][0]=="number")u.push(String(l[h]-1));else if(l[h].length>1){for(a=0;a<l[h].length;a+=1)typeof l[h][a]!="number"&&(s=!1);s===!0&&u.push([l[h][0]-1,l[h][1]-1].join(" "))}r[i].value="["+u.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,w=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?w.push("/"+x+" /"+r[x].value):w.push("/"+x+" "+r[x].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var n=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(s)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=l.length+d.length+f.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+l+d+f+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",n)),this}})(vr.API),(function(t){var n=t.API,r=n.pdfEscape16=function(l,d){for(var f,u=d.metadata.Unicode.widths,h=["","0","00","000","0000"],a=[""],m=0,v=l.length;m<v;++m){if(f=d.metadata.characterToGlyph(l.charCodeAt(m)),d.metadata.glyIdsUsed.push(f),d.metadata.toUnicode[f]=l.charCodeAt(m),u.indexOf(f)==-1&&(u.push(f),u.push([parseInt(d.metadata.widthOfGlyph(f),10)])),f=="0")return a.join("");f=f.toString(16),a.push(h[4-f.length],f)}return a.join("")},s=function(l){var d,f,u,h,a,m,v;for(a=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,v=(f=Object.keys(l).sort(function(g,x){return g-x})).length;m<v;m++)d=f[m],u.length>=100&&(a+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(h=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),u.push("<"+d+"><"+h+">"));return u.length&&(a+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),a+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(l){(function(d){var f=d.font,u=d.out,h=d.newObject,a=d.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="Identity-H"){for(var m=f.metadata.Unicode.widths,v=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),g="",x=0;x<v.length;x++)g+=String.fromCharCode(v[x]);var w=h();a({data:g,addLength1:!0,objectId:w}),u("endobj");var b=h();a({data:s(f.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var S=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Mm(f.fontName)),u("/FontFile2 "+w+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),u("/Flags "+f.metadata.flags),u("/StemV "+f.metadata.stemV),u("/ItalicAngle "+f.metadata.italicAngle),u("/Ascent "+f.metadata.ascender),u("/Descent "+f.metadata.decender),u("/CapHeight "+f.metadata.capHeight),u(">>"),u("endobj");var C=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+Mm(f.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+t.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+f.encoding+")"),u(">>"),u(">>"),u("endobj"),f.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+b+" 0 R"),u("/BaseFont /"+Mm(f.fontName)),u("/Encoding /"+f.encoding),u("/DescendantFonts ["+C+" 0 R]"),u(">>"),u("endobj"),f.isAlreadyPutted=!0}})(l)}]),n.events.push(["putFont",function(l){(function(d){var f=d.font,u=d.out,h=d.newObject,a=d.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var m=f.metadata.rawData,v="",g=0;g<m.length;g++)v+=String.fromCharCode(m[g]);var x=h();a({data:v,addLength1:!0,objectId:x}),u("endobj");var w=h();a({data:s(f.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var b=h();u("<<"),u("/Descent "+f.metadata.decender),u("/CapHeight "+f.metadata.capHeight),u("/StemV "+f.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),u("/FontName /"+Mm(f.fontName)),u("/ItalicAngle "+f.metadata.italicAngle),u("/Ascent "+f.metadata.ascender),u(">>"),u("endobj"),f.objectNumber=h();for(var S=0;S<f.metadata.hmtx.widths.length;S++)f.metadata.hmtx.widths[S]=parseInt(f.metadata.hmtx.widths[S]*(1e3/f.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Mm(f.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),u("endobj"),f.isAlreadyPutted=!0}})(l)}]);var i=function(l){var d,f=l.text||"",u=l.x,h=l.y,a=l.options||{},m=l.mutex||{},v=m.pdfEscape,g=m.activeFontKey,x=m.fonts,w=g,b="",S=0,C="",B=x[w].encoding;if(x[w].encoding!=="Identity-H")return{text:f,x:u,y:h,options:a,mutex:m};for(C=f,w=g,Array.isArray(f)&&(C=f[0]),S=0;S<C.length;S+=1)x[w].metadata.hasOwnProperty("cmap")&&(d=x[w].metadata.cmap.unicode.codeMap[C[S].charCodeAt(0)]),d||C[S].charCodeAt(0)<256&&x[w].metadata.hasOwnProperty("Unicode")?b+=C[S]:b+="";var F="";return parseInt(w.slice(1))<14||B==="WinAnsiEncoding"?F=v(b,w).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(F=r(b,x[w])),m.isHex=!0,{text:F,x:u,y:h,options:a,mutex:m}};n.events.push(["postProcessText",function(l){var d=l.text||"",f=[],u={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var h=0;for(h=0;h<d.length;h+=1)Array.isArray(d[h])&&d[h].length===3?f.push([i(Object.assign({},u,{text:d[h][0]})).text,d[h][1],d[h][2]]):f.push(i(Object.assign({},u,{text:d[h]})).text);l.text=f}else l.text=i(Object.assign({},u,{text:d})).text}])})(vr),(function(t){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return n.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,s){return n.call(this),this.internal.vFS[r]=s,this},t.getFileFromVFS=function(r){return n.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(vr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var i,l,d,f,u,h,a,m=n,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,B=0;this.__bidiEngine__={};var F=function(V){var q=V.charCodeAt(),le=q>>8,ae=w[le];return ae!==void 0?m[256*ae+(255&q)]:le===252||le===253?"AL":S.test(le)?"L":le===8?"R":"N"},N=function(V){for(var q,le=0;le<V.length;le++){if((q=F(V.charAt(le)))==="L")return!1;if(q==="R")return!0}return!1},Q=function(V,q,le,ae){var ie,J,G,W,pe=q[ae];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(pe="AN");break;case"AL":C=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":ae<1||ae+1>=q.length||(ie=le[ae-1])!=="EN"&&ie!=="AN"||(J=q[ae+1])!=="EN"&&J!=="AN"?pe="N":C&&(J="AN"),pe=J===ie?J:"N";break;case"ES":pe=(ie=ae>0?le[ae-1]:"B")==="EN"&&ae+1<q.length&&q[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&le[ae-1]==="EN"){pe="EN";break}if(C){pe="N";break}for(G=ae+1,W=q.length;G<W&&q[G]==="ET";)G++;pe=G<W&&q[G]==="EN"?"EN":"N";break;case"NSM":if(d&&!f){for(W=q.length,G=ae+1;G<W&&q[G]==="NSM";)G++;if(G<W){var oe=V[ae],he=oe>=1425&&oe<=2303||oe===64286;if(ie=q[G],he&&(ie==="R"||ie==="AL")){pe="R";break}}}pe=ae<1||(ie=q[ae-1])==="B"?"N":le[ae-1];break;case"B":C=!1,i=!0,pe=B;break;case"S":l=!0,pe="N"}return pe},z=function(V,q,le){var ae=V.split("");return le&&k(ae,le,{hiLevel:B}),ae.reverse(),q&&q.reverse(),ae.join("")},k=function(V,q,le){var ae,ie,J,G,W,pe=-1,oe=V.length,he=0,$=[],M=B?g:v,ee=[];for(C=!1,i=!1,l=!1,ie=0;ie<oe;ie++)ee[ie]=F(V[ie]);for(J=0;J<oe;J++){if(W=he,$[J]=Q(V,ee,$,J),ae=240&(he=M[W][x[$[J]]]),he&=15,q[J]=G=M[he][5],ae>0)if(ae===16){for(ie=pe;ie<J;ie++)q[ie]=1;pe=-1}else pe=-1;if(M[he][6])pe===-1&&(pe=J);else if(pe>-1){for(ie=pe;ie<J;ie++)q[ie]=G;pe=-1}ee[J]==="B"&&(q[J]=0),le.hiLevel|=G}l&&(function(re,me,De){for(var Ue=0;Ue<De;Ue++)if(re[Ue]==="S"){me[Ue]=B;for(var Ne=Ue-1;Ne>=0&&re[Ne]==="WS";Ne--)me[Ne]=B}})(ee,q,oe)},K=function(V,q,le,ae,ie){if(!(ie.hiLevel<V)){if(V===1&&B===1&&!i)return q.reverse(),void(le&&le.reverse());for(var J,G,W,pe,oe=q.length,he=0;he<oe;){if(ae[he]>=V){for(W=he+1;W<oe&&ae[W]>=V;)W++;for(pe=he,G=W-1;pe<G;pe++,G--)J=q[pe],q[pe]=q[G],q[G]=J,le&&(J=le[pe],le[pe]=le[G],le[G]=J);he=W}he++}}},se=function(V,q,le){var ae=V.split(""),ie={hiLevel:B};return le||(le=[]),k(ae,le,ie),(function(J,G,W){if(W.hiLevel!==0&&a)for(var pe,oe=0;oe<J.length;oe++)G[oe]===1&&(pe=b.indexOf(J[oe]))>=0&&(J[oe]=b[pe+1])})(ae,le,ie),K(2,ae,q,le,ie),K(1,ae,q,le,ie),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(V,q,le){if((function(ie,J){if(J)for(var G=0;G<ie.length;G++)J[G]=G;f===void 0&&(f=N(ie)),h===void 0&&(h=N(ie))})(V,q),d||!u||h)if(d&&u&&f^h)B=f?1:0,V=z(V,q,le);else if(!d&&u&&h)B=f?1:0,V=se(V,q,le),V=z(V,q);else if(!d||f||u||h){if(d&&!u&&f^h)V=z(V,q),f?(B=0,V=se(V,q,le)):(B=1,V=se(V,q,le),V=z(V,q));else if(d&&f&&!u&&h)B=1,V=se(V,q,le),V=z(V,q);else if(!d&&!u&&f^h){var ae=a;f?(B=1,V=se(V,q,le),B=0,a=!1,V=se(V,q,le),a=ae):(B=0,V=se(V,q,le),V=z(V,q),B=1,a=!1,V=se(V,q,le),a=ae,V=z(V,q))}}else B=0,V=se(V,q,le);else B=f?1:0,V=se(V,q,le);return V},this.__bidiEngine__.setOptions=function(V){V&&(d=V.isInputVisual,u=V.isOutputVisual,f=V.isInputRtl,h=V.isOutputRtl,a=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var i=s.text;s.x,s.y;var l=s.options||{};s.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,r.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var f=0;for(d=[],f=0;f<i.length;f+=1)Object.prototype.toString.call(i[f])==="[object Array]"?d.push([r.doBidiReorder(i[f][0]),i[f][1],i[f][2]]):d.push([r.doBidiReorder(i[f])]);s.text=d}else s.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(vr),vr.API.TTFFont=(function(){function t(n){var r;if(this.rawData=n,r=this.contents=new jf(n),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new hae(this),this.registerTTF()}return t.open=function(n){return new t(n)},t.prototype.parse=function(){return this.directory=new Joe(this.contents),this.head=new tae(this),this.name=new oae(this),this.cmap=new UR(this),this.toUnicode={},this.hhea=new nae(this),this.maxp=new aae(this),this.hmtx=new lae(this),this.post=new sae(this),this.os2=new rae(this),this.loca=new dae(this),this.glyf=new cae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var n,r,s,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,f,u,h;for(h=[],d=0,f=(u=this.bbox).length;d<f;d++)n=u[d],h.push(Math.round(n*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(s=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(n){var r;return((r=this.cmap.unicode)!=null?r.codeMap[n]:void 0)||0},t.prototype.widthOfGlyph=function(n){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*r},t.prototype.widthOfString=function(n,r,s){var i,l,d,f;for(d=0,l=0,f=(n=""+n).length;0<=f?l<f:l>f;l=0<=f?++l:--l)i=n.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(i))+s*(1e3/r)||0;return d*(r/1e3)},t.prototype.lineHeight=function(n,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*n},t})();var zA,jf=(function(){function t(n){this.data=n??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(n){return this.data[this.pos++]=n},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},t.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},t.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},t.prototype.readString=function(n){var r,s;for(s=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(n){var r,s,i;for(i=[],r=0,s=n.length;0<=s?r<s:r>s;r=0<=s?++r:--r)i.push(this.writeByte(n.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(n){return this.writeInt16(n)},t.prototype.readLongLong=function(){var n,r,s,i,l,d,f,u;return n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),d=this.readByte(),f=this.readByte(),u=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^i)+16777216*(255^l)+65536*(255^d)+256*(255^f)+(255^u)+1):72057594037927940*n+281474976710656*r+1099511627776*s+4294967296*i+16777216*l+65536*d+256*f+u},t.prototype.writeLongLong=function(n){var r,s;return r=Math.floor(n/4294967296),s=4294967295&n,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(n){return this.writeInt32(n)},t.prototype.read=function(n){var r,s;for(r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push(this.readByte());return r},t.prototype.write=function(n){var r,s,i,l;for(l=[],s=0,i=n.length;s<i;s++)r=n[s],l.push(this.writeByte(r));return l},t})(),Joe=(function(){var t;function n(r){var s,i,l;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return n.prototype.encode=function(r){var s,i,l,d,f,u,h,a,m,v,g,x,w;for(w in g=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),d=Math.floor(m/u),a=16*g-m,(i=new jf).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(d),i.writeShort(a),l=16*g,h=i.pos+l,f=null,x=[],r)for(v=r[w],i.writeString(w),i.writeInt(t(v)),i.writeInt(h),i.writeInt(v.length),x=x.concat(v),w==="head"&&(f=h),h+=v.length;h%4;)x.push(0),h++;return i.write(x),s=2981146554-t(i.data),i.pos=f+8,i.writeUInt32(s),i.data},t=function(r){var s,i,l,d;for(r=MR.call(r);r.length%4;)r.push(0);for(l=new jf(r),i=0,s=0,d=r.length;s<d;s=s+=4)i+=l.readUInt32();return 4294967295&i},n})(),eae={}.hasOwnProperty,_d=function(t,n){for(var r in n)eae.call(n,r)&&(t[r]=n[r]);function s(){this.constructor=t}return s.prototype=n.prototype,t.prototype=new s,t.__super__=n.prototype,t};zA=(function(){function t(n){var r;this.file=n,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var tae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new jf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t})(),i3=(function(){function t(n,r){var s,i,l,d,f,u,h,a,m,v,g,x,w,b,S,C,B;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=r+n.readInt(),m=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=n.readByte();break;case 4:for(g=n.readUInt16(),v=g/2,n.pos+=6,l=(function(){var F,N;for(N=[],u=F=0;0<=v?F<v:F>v;u=0<=v?++F:--F)N.push(n.readUInt16());return N})(),n.pos+=2,w=(function(){var F,N;for(N=[],u=F=0;0<=v?F<v:F>v;u=0<=v?++F:--F)N.push(n.readUInt16());return N})(),h=(function(){var F,N;for(N=[],u=F=0;0<=v?F<v:F>v;u=0<=v?++F:--F)N.push(n.readUInt16());return N})(),a=(function(){var F,N;for(N=[],u=F=0;0<=v?F<v:F>v;u=0<=v?++F:--F)N.push(n.readUInt16());return N})(),i=(this.length-n.pos+this.offset)/2,f=(function(){var F,N;for(N=[],u=F=0;0<=i?F<i:F>i;u=0<=i?++F:--F)N.push(n.readUInt16());return N})(),u=S=0,B=l.length;S<B;u=++S)for(b=l[u],s=C=x=w[u];x<=b?C<=b:C>=b;s=x<=b?++C:--C)a[u]===0?d=s+h[u]:(d=f[a[u]/2+(s-x)-(v-u)]||0)!==0&&(d+=h[u]),this.codeMap[s]=65535&d}n.pos=m}return t.encode=function(n,r){var s,i,l,d,f,u,h,a,m,v,g,x,w,b,S,C,B,F,N,Q,z,k,K,se,V,q,le,ae,ie,J,G,W,pe,oe,he,$,M,ee,re,me,De,Ue,Ne,Ke,rt,et;switch(ae=new jf,d=Object.keys(n).sort(function(wt,nt){return wt-nt}),r){case"macroman":for(w=0,b=(function(){var wt=[];for(x=0;x<256;++x)wt.push(0);return wt})(),C={0:0},l={},ie=0,pe=d.length;ie<pe;ie++)C[Ne=n[i=d[ie]]]==null&&(C[Ne]=++w),l[i]={old:n[i],new:C[n[i]]},b[i]=C[n[i]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(b),{charMap:l,subtable:ae.data,maxGlyphID:w+1};case"unicode":for(q=[],m=[],B=0,C={},s={},S=h=null,J=0,oe=d.length;J<oe;J++)C[N=n[i=d[J]]]==null&&(C[N]=++B),s[i]={old:N,new:C[N]},f=C[N]-i,S!=null&&f===h||(S&&m.push(S),q.push(i),h=f),S=i;for(S&&m.push(S),m.push(65535),q.push(65535),se=2*(K=q.length),k=2*Math.pow(Math.log(K)/Math.LN2,2),v=Math.log(k/2)/Math.LN2,z=2*K-k,u=[],Q=[],g=[],x=G=0,he=q.length;G<he;x=++G){if(V=q[x],a=m[x],V===65535){u.push(0),Q.push(0);break}if(V-(le=s[V].new)>=32768)for(u.push(0),Q.push(2*(g.length+K-x)),i=W=V;V<=a?W<=a:W>=a;i=V<=a?++W:--W)g.push(s[i].new);else u.push(le-V),Q.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*K+2*g.length),ae.writeUInt16(0),ae.writeUInt16(se),ae.writeUInt16(k),ae.writeUInt16(v),ae.writeUInt16(z),De=0,$=m.length;De<$;De++)i=m[De],ae.writeUInt16(i);for(ae.writeUInt16(0),Ue=0,M=q.length;Ue<M;Ue++)i=q[Ue],ae.writeUInt16(i);for(Ke=0,ee=u.length;Ke<ee;Ke++)f=u[Ke],ae.writeUInt16(f);for(rt=0,re=Q.length;rt<re;rt++)F=Q[rt],ae.writeUInt16(F);for(et=0,me=g.length;et<me;et++)w=g[et],ae.writeUInt16(w);return{charMap:s,subtable:ae.data,maxGlyphID:B+1}}},t})(),UR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new i3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,i;return r==null&&(r="macroman"),s=i3.encode(n,r),(i=new jf).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t})(),nae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t})(),rae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t})(),sae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(s=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 262144:return this.map=(function(){var d,f,u;for(u=[],l=d=0,f=this.file.maxp.numGlyphs;0<=f?d<f:d>f;l=0<=f?++d:--d)u.push(n.readUInt32());return u}).call(this)}},t})(),iae=function(t,n){this.raw=t,this.length=t.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},oae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,i,l,d,f,u,h,a,m,v;for(n.pos=this.offset,n.readShort(),r=n.readShort(),f=n.readShort(),s=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+f+n.readShort()});for(u={},l=a=0,m=s.length;a<m;l=++a)i=s[l],n.pos=i.offset,h=n.readString(i.length),d=new iae(h,i),u[v=i.nameID]==null&&(u[v]=[]),u[i.nameID].push(d);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),aae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t})(),lae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,i,l,d,f,u;for(n.pos=this.offset,this.metrics=[],r=0,f=this.file.hhea.numberOfMetrics;0<=f?r<f:r>f;r=0<=f?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,a;for(a=[],r=h=0;0<=i?h<i:h>i;r=0<=i?++h:--h)a.push(n.readInt16());return a})(),this.widths=(function(){var h,a,m,v;for(v=[],h=0,a=(m=this.metrics).length;h<a;h++)l=m[h],v.push(l.advance);return v}).call(this),s=this.widths[this.widths.length-1],u=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t})(),MR=[].slice,cae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,i,l,d,f,u,h,a,m;return n in this.cache?this.cache[n]:(l=this.file.loca,r=this.file.contents,s=l.indexOf(n),(i=l.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,d=(f=new jf(r.read(i))).readShort(),h=f.readShort(),m=f.readShort(),u=f.readShort(),a=f.readShort(),this.cache[n]=d===-1?new Aae(f,h,m,u,a):new uae(f,d,h,m,u,a),this.cache[n]))},t.prototype.encode=function(n,r,s){var i,l,d,f,u;for(d=[],l=[],f=0,u=r.length;f<u;f++)i=n[r[f]],l.push(d.length),i&&(d=d.concat(i.encode(s)));return l.push(d.length),{table:d,offsets:l}},t})(),uae=(function(){function t(n,r,s,i,l,d){this.raw=n,this.numberOfContours=r,this.xMin=s,this.yMin=i,this.xMax=l,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Aae=(function(){function t(n,r,s,i,l){var d,f;for(this.raw=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;f=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&f;)d.pos+=1&f?4:2,128&f?d.pos+=8:64&f?d.pos+=4:8&f&&(d.pos+=2)}return t.prototype.encode=function(){var n,r,s;for(r=new jf(MR.call(this.raw.data)),n=0,s=this.glyphIDs.length;n<s;++n)r.pos=this.glyphOffsets[n];return r.data},t})(),dae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,zA),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,l;for(l=[],s=0,i=this.length;s<i;s+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],s=0,i=this.length;s<i;s+=4)l.push(n.readUInt32());return l}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),i=0,l=0,d=0;d<s.length;++d)if(s[d]=i,l<r.length&&r[l]==d){++l,s[d]=i;var f=this.offsets[d],u=this.offsets[d+1]-f;u>0&&(i+=u)}for(var h=new Array(4*s.length),a=0;a<s.length;++a)h[4*a+3]=255&s[a],h[4*a+2]=(65280&s[a])>>8,h[4*a+1]=(16711680&s[a])>>16,h[4*a]=(4278190080&s[a])>>24;return h},t})(),hae=(function(){function t(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var n,r,s,i,l;for(r in i=this.font.cmap.tables[0].codeMap,n={},l=this.subset)s=l[r],n[r]=i[s];return n},t.prototype.glyphsFor=function(n){var r,s,i,l,d,f,u;for(i={},d=0,f=n.length;d<f;d++)i[l=n[d]]=this.font.glyf.glyphFor(l);for(l in r=[],i)(s=i[l])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(l in u=this.glyphsFor(r))s=u[l],i[l]=s;return i},t.prototype.encode=function(n,r){var s,i,l,d,f,u,h,a,m,v,g,x,w,b,S;for(i in s=UR.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(n),g={0:0},S=s.charMap)g[(u=S[i]).old]=u.new;for(x in v=s.maxGlyphID,d)x in g||(g[x]=v++);return a=(function(C){var B,F;for(B in F={},C)F[C[B]]=B;return F})(g),m=Object.keys(a).sort(function(C,B){return C-B}),w=(function(){var C,B,F;for(F=[],C=0,B=m.length;C<B;C++)f=m[C],F.push(a[f]);return F})(),l=this.font.glyf.encode(d,w,g),h=this.font.loca.encode(l.offsets,w),b={cmap:this.font.cmap.raw(),glyf:l.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t})();vr.API.PDFObject=(function(){var t;function n(){}return t=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},n.convert=function(r){var s,i,l,d;if(Array.isArray(r))return"["+(function(){var f,u,h;for(h=[],f=0,u=r.length;f<u;f++)s=r[f],h.push(n.convert(s));return h})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in l=["<<"],r)d=r[i],l.push("/"+i+" "+n.convert(d));return l.push(">>"),l.join(`
`)}return""+r},n})();const fae=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Voe,AcroFormAppearance:ur,AcroFormButton:Bl,AcroFormCheckBox:Tv,AcroFormChoiceField:Ip,AcroFormComboBox:Fp,AcroFormEditBox:Bv,AcroFormListBox:_p,AcroFormPasswordField:Iv,AcroFormPushButton:Ev,AcroFormRadioButton:Lp,AcroFormTextField:ff,GState:Zv,ShadingPattern:cf,TilingPattern:vp,default:vr,jsPDF:vr},Symbol.toStringTag,{value:"Module"})),pae=RN(fae);var Aj={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var mae=Aj.exports,o3;function gae(){return o3||(o3=1,(function(t,n){(function(r,s){t.exports=s()})(mae,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(_,E){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,D){R.__proto__=D}||function(R,D){for(var te in D)Object.prototype.hasOwnProperty.call(D,te)&&(R[te]=D[te])},r(_,E)};function s(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");r(_,E);function R(){this.constructor=_}_.prototype=E===null?Object.create(E):(R.prototype=E.prototype,new R)}var i=function(){return i=Object.assign||function(E){for(var R,D=1,te=arguments.length;D<te;D++){R=arguments[D];for(var fe in R)Object.prototype.hasOwnProperty.call(R,fe)&&(E[fe]=R[fe])}return E},i.apply(this,arguments)};function l(_,E,R,D){function te(fe){return fe instanceof R?fe:new R(function(we){we(fe)})}return new(R||(R=Promise))(function(fe,we){function ke(pt){try{it(D.next(pt))}catch(It){we(It)}}function Qe(pt){try{it(D.throw(pt))}catch(It){we(It)}}function it(pt){pt.done?fe(pt.value):te(pt.value).then(ke,Qe)}it((D=D.apply(_,[])).next())})}function d(_,E){var R={label:0,sent:function(){if(fe[0]&1)throw fe[1];return fe[1]},trys:[],ops:[]},D,te,fe,we;return we={next:ke(0),throw:ke(1),return:ke(2)},typeof Symbol=="function"&&(we[Symbol.iterator]=function(){return this}),we;function ke(it){return function(pt){return Qe([it,pt])}}function Qe(it){if(D)throw new TypeError("Generator is already executing.");for(;R;)try{if(D=1,te&&(fe=it[0]&2?te.return:it[0]?te.throw||((fe=te.return)&&fe.call(te),0):te.next)&&!(fe=fe.call(te,it[1])).done)return fe;switch(te=0,fe&&(it=[it[0]&2,fe.value]),it[0]){case 0:case 1:fe=it;break;case 4:return R.label++,{value:it[1],done:!1};case 5:R.label++,te=it[1],it=[0];continue;case 7:it=R.ops.pop(),R.trys.pop();continue;default:if(fe=R.trys,!(fe=fe.length>0&&fe[fe.length-1])&&(it[0]===6||it[0]===2)){R=0;continue}if(it[0]===3&&(!fe||it[1]>fe[0]&&it[1]<fe[3])){R.label=it[1];break}if(it[0]===6&&R.label<fe[1]){R.label=fe[1],fe=it;break}if(fe&&R.label<fe[2]){R.label=fe[2],R.ops.push(it);break}fe[2]&&R.ops.pop(),R.trys.pop();continue}it=E.call(_,R)}catch(pt){it=[6,pt],te=0}finally{D=fe=0}if(it[0]&5)throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}}function f(_,E,R){if(arguments.length===2)for(var D=0,te=E.length,fe;D<te;D++)(fe||!(D in E))&&(fe||(fe=Array.prototype.slice.call(E,0,D)),fe[D]=E[D]);return _.concat(fe||E)}for(var u=(function(){function _(E,R,D,te){this.left=E,this.top=R,this.width=D,this.height=te}return _.prototype.add=function(E,R,D,te){return new _(this.left+E,this.top+R,this.width+D,this.height+te)},_.fromClientRect=function(E,R){return new _(R.left+E.windowBounds.left,R.top+E.windowBounds.top,R.width,R.height)},_.fromDOMRectList=function(E,R){var D=Array.from(R).find(function(te){return te.width!==0});return D?new _(D.left+E.windowBounds.left,D.top+E.windowBounds.top,D.width,D.height):_.EMPTY},_.EMPTY=new _(0,0,0,0),_})(),h=function(_,E){return u.fromClientRect(_,E.getBoundingClientRect())},a=function(_){var E=_.body,R=_.documentElement;if(!E||!R)throw new Error("Unable to get document size");var D=Math.max(Math.max(E.scrollWidth,R.scrollWidth),Math.max(E.offsetWidth,R.offsetWidth),Math.max(E.clientWidth,R.clientWidth)),te=Math.max(Math.max(E.scrollHeight,R.scrollHeight),Math.max(E.offsetHeight,R.offsetHeight),Math.max(E.clientHeight,R.clientHeight));return new u(0,0,D,te)},m=function(_){for(var E=[],R=0,D=_.length;R<D;){var te=_.charCodeAt(R++);if(te>=55296&&te<=56319&&R<D){var fe=_.charCodeAt(R++);(fe&64512)===56320?E.push(((te&1023)<<10)+(fe&1023)+65536):(E.push(te),R--)}else E.push(te)}return E},v=function(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,_);var R=_.length;if(!R)return"";for(var D=[],te=-1,fe="";++te<R;){var we=_[te];we<=65535?D.push(we):(we-=65536,D.push((we>>10)+55296,we%1024+56320)),(te+1===R||D.length>16384)&&(fe+=String.fromCharCode.apply(String,D),D.length=0)}return fe},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=typeof Uint8Array>"u"?[]:new Uint8Array(256),w=0;w<g.length;w++)x[g.charCodeAt(w)]=w;for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=typeof Uint8Array>"u"?[]:new Uint8Array(256),C=0;C<b.length;C++)S[b.charCodeAt(C)]=C;for(var B=function(_){var E=_.length*.75,R=_.length,D,te=0,fe,we,ke,Qe;_[_.length-1]==="="&&(E--,_[_.length-2]==="="&&E--);var it=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),pt=Array.isArray(it)?it:new Uint8Array(it);for(D=0;D<R;D+=4)fe=S[_.charCodeAt(D)],we=S[_.charCodeAt(D+1)],ke=S[_.charCodeAt(D+2)],Qe=S[_.charCodeAt(D+3)],pt[te++]=fe<<2|we>>4,pt[te++]=(we&15)<<4|ke>>2,pt[te++]=(ke&3)<<6|Qe&63;return it},F=function(_){for(var E=_.length,R=[],D=0;D<E;D+=2)R.push(_[D+1]<<8|_[D]);return R},N=function(_){for(var E=_.length,R=[],D=0;D<E;D+=4)R.push(_[D+3]<<24|_[D+2]<<16|_[D+1]<<8|_[D]);return R},Q=5,z=11,k=2,K=z-Q,se=65536>>Q,V=1<<Q,q=V-1,le=1024>>Q,ae=se+le,ie=ae,J=32,G=ie+J,W=65536>>z,pe=1<<K,oe=pe-1,he=function(_,E,R){return _.slice?_.slice(E,R):new Uint16Array(Array.prototype.slice.call(_,E,R))},$=function(_,E,R){return _.slice?_.slice(E,R):new Uint32Array(Array.prototype.slice.call(_,E,R))},M=function(_,E){var R=B(_),D=Array.isArray(R)?N(R):new Uint32Array(R),te=Array.isArray(R)?F(R):new Uint16Array(R),fe=24,we=he(te,fe/2,D[4]/2),ke=D[5]===2?he(te,(fe+D[4])/2):$(D,Math.ceil((fe+D[4])/4));return new ee(D[0],D[1],D[2],D[3],we,ke)},ee=(function(){function _(E,R,D,te,fe,we){this.initialValue=E,this.errorValue=R,this.highStart=D,this.highValueIndex=te,this.index=fe,this.data=we}return _.prototype.get=function(E){var R;if(E>=0){if(E<55296||E>56319&&E<=65535)return R=this.index[E>>Q],R=(R<<k)+(E&q),this.data[R];if(E<=65535)return R=this.index[se+(E-55296>>Q)],R=(R<<k)+(E&q),this.data[R];if(E<this.highStart)return R=G-W+(E>>z),R=this.index[R],R+=E>>Q&oe,R=this.index[R],R=(R<<k)+(E&q),this.data[R];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},_})(),re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",me=typeof Uint8Array>"u"?[]:new Uint8Array(256),De=0;De<re.length;De++)me[re.charCodeAt(De)]=De;var Ue="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ne=50,Ke=1,rt=2,et=3,wt=4,nt=5,Ee=7,at=8,Gt=9,Oe=10,ce=11,ve=12,Ge=13,vt=14,_t=15,Je=16,We=17,yt=18,zt=19,ut=20,Ft=21,Ct=22,Ye=23,Zt=24,on=25,pn=26,Tt=27,nn=28,xt=29,an=30,dn=31,Nn=32,Wn=33,jn=34,rn=35,Dn=36,Yn=37,mr=38,os=39,Ni=40,Mn=41,xo=42,Us=43,Ys=[9001,65288],$i="!",On="",xn="",Ti=M(Ue),ao=[an,Dn],lo=[Ke,rt,et,nt],Es=[Oe,at],ti=[Tt,pn],ai=lo.concat(Es),pi=[mr,os,Ni,jn,rn],Ii=[_t,Ge],Ms=function(_,E){E===void 0&&(E="strict");var R=[],D=[],te=[];return _.forEach(function(fe,we){var ke=Ti.get(fe);if(ke>Ne?(te.push(!0),ke-=Ne):te.push(!1),["normal","auto","loose"].indexOf(E)!==-1&&[8208,8211,12316,12448].indexOf(fe)!==-1)return D.push(we),R.push(Je);if(ke===wt||ke===ce){if(we===0)return D.push(we),R.push(an);var Qe=R[we-1];return ai.indexOf(Qe)===-1?(D.push(D[we-1]),R.push(Qe)):(D.push(we),R.push(an))}if(D.push(we),ke===dn)return R.push(E==="strict"?Ft:Yn);if(ke===xo||ke===xt)return R.push(an);if(ke===Us)return fe>=131072&&fe<=196605||fe>=196608&&fe<=262141?R.push(Yn):R.push(an);R.push(ke)}),[D,R,te]},Qo=function(_,E,R,D){var te=D[R];if(Array.isArray(_)?_.indexOf(te)!==-1:_===te)for(var fe=R;fe<=D.length;){fe++;var we=D[fe];if(we===E)return!0;if(we!==Oe)break}if(te===Oe)for(var fe=R;fe>0;){fe--;var ke=D[fe];if(Array.isArray(_)?_.indexOf(ke)!==-1:_===ke)for(var Qe=R;Qe<=D.length;){Qe++;var we=D[Qe];if(we===E)return!0;if(we!==Oe)break}if(ke!==Oe)break}return!1},La=function(_,E){for(var R=_;R>=0;){var D=E[R];if(D===Oe)R--;else return D}return 0},zo=function(_,E,R,D,te){if(R[D]===0)return On;var fe=D-1;if(Array.isArray(te)&&te[fe]===!0)return On;var we=fe-1,ke=fe+1,Qe=E[fe],it=we>=0?E[we]:0,pt=E[ke];if(Qe===rt&&pt===et)return On;if(lo.indexOf(Qe)!==-1)return $i;if(lo.indexOf(pt)!==-1||Es.indexOf(pt)!==-1)return On;if(La(fe,E)===at)return xn;if(Ti.get(_[fe])===ce||(Qe===Nn||Qe===Wn)&&Ti.get(_[ke])===ce||Qe===Ee||pt===Ee||Qe===Gt||[Oe,Ge,_t].indexOf(Qe)===-1&&pt===Gt||[We,yt,zt,Zt,nn].indexOf(pt)!==-1||La(fe,E)===Ct||Qo(Ye,Ct,fe,E)||Qo([We,yt],Ft,fe,E)||Qo(ve,ve,fe,E))return On;if(Qe===Oe)return xn;if(Qe===Ye||pt===Ye)return On;if(pt===Je||Qe===Je)return xn;if([Ge,_t,Ft].indexOf(pt)!==-1||Qe===vt||it===Dn&&Ii.indexOf(Qe)!==-1||Qe===nn&&pt===Dn||pt===ut||ao.indexOf(pt)!==-1&&Qe===on||ao.indexOf(Qe)!==-1&&pt===on||Qe===Tt&&[Yn,Nn,Wn].indexOf(pt)!==-1||[Yn,Nn,Wn].indexOf(Qe)!==-1&&pt===pn||ao.indexOf(Qe)!==-1&&ti.indexOf(pt)!==-1||ti.indexOf(Qe)!==-1&&ao.indexOf(pt)!==-1||[Tt,pn].indexOf(Qe)!==-1&&(pt===on||[Ct,_t].indexOf(pt)!==-1&&E[ke+1]===on)||[Ct,_t].indexOf(Qe)!==-1&&pt===on||Qe===on&&[on,nn,Zt].indexOf(pt)!==-1)return On;if([on,nn,Zt,We,yt].indexOf(pt)!==-1)for(var It=fe;It>=0;){var $t=E[It];if($t===on)return On;if([nn,Zt].indexOf($t)!==-1)It--;else break}if([Tt,pn].indexOf(pt)!==-1)for(var It=[We,yt].indexOf(Qe)!==-1?we:fe;It>=0;){var $t=E[It];if($t===on)return On;if([nn,Zt].indexOf($t)!==-1)It--;else break}if(mr===Qe&&[mr,os,jn,rn].indexOf(pt)!==-1||[os,jn].indexOf(Qe)!==-1&&[os,Ni].indexOf(pt)!==-1||[Ni,rn].indexOf(Qe)!==-1&&pt===Ni||pi.indexOf(Qe)!==-1&&[ut,pn].indexOf(pt)!==-1||pi.indexOf(pt)!==-1&&Qe===Tt||ao.indexOf(Qe)!==-1&&ao.indexOf(pt)!==-1||Qe===Zt&&ao.indexOf(pt)!==-1||ao.concat(on).indexOf(Qe)!==-1&&pt===Ct&&Ys.indexOf(_[ke])===-1||ao.concat(on).indexOf(pt)!==-1&&Qe===yt)return On;if(Qe===Mn&&pt===Mn){for(var Bn=R[fe],yn=1;Bn>0&&(Bn--,E[Bn]===Mn);)yn++;if(yn%2!==0)return On}return Qe===Nn&&pt===Wn?On:xn},Ho=function(_,E){E||(E={lineBreak:"normal",wordBreak:"normal"});var R=Ms(_,E.lineBreak),D=R[0],te=R[1],fe=R[2];(E.wordBreak==="break-all"||E.wordBreak==="break-word")&&(te=te.map(function(ke){return[on,an,xo].indexOf(ke)!==-1?Yn:ke}));var we=E.wordBreak==="keep-all"?fe.map(function(ke,Qe){return ke&&_[Qe]>=19968&&_[Qe]<=40959}):void 0;return[D,te,we]},Il=(function(){function _(E,R,D,te){this.codePoints=E,this.required=R===$i,this.start=D,this.end=te}return _.prototype.slice=function(){return v.apply(void 0,this.codePoints.slice(this.start,this.end))},_})(),oa=function(_,E){var R=m(_),D=Ho(R,E),te=D[0],fe=D[1],we=D[2],ke=R.length,Qe=0,it=0;return{next:function(){if(it>=ke)return{done:!0,value:null};for(var pt=On;it<ke&&(pt=zo(R,fe,te,++it,we))===On;);if(pt!==On||it===ke){var It=new Il(R,pt,Qe,it);return Qe=it,{value:It,done:!1}}return{done:!0,value:null}}}},fn=1,Qc=2,Vo=4,Oi=8,yo=10,cl=47,jo=92,Da=9,_l=32,_o=34,br=61,Ss=35,Ui=36,ks=37,$o=39,Mi=40,gr=41,_s=95,hs=45,qr=33,li=60,Ql=62,ul=64,Go=91,fs=93,Ja=61,Ko=123,aa=63,Mr=125,ki=124,Wo=126,ec=128,Al=65533,xa=42,Qs=43,Pa=44,Gi=58,Yo=59,la=46,hn=0,Ki=8,as=11,_i=14,Wi=31,Yi=127,ni=-1,ya=48,ca=97,el=101,zs=102,Fo=117,Ra=122,ze=65,ot=69,Nt=70,Ln=85,un=90,tr=function(_){return _>=ya&&_<=57},kn=function(_){return _>=55296&&_<=57343},wr=function(_){return tr(_)||_>=ze&&_<=Nt||_>=ca&&_<=zs},Sr=function(_){return _>=ca&&_<=Ra},mi=function(_){return _>=ze&&_<=un},co=function(_){return Sr(_)||mi(_)},tl=function(_){return _>=ec},bo=function(_){return _===yo||_===Da||_===_l},wo=function(_){return co(_)||tl(_)||_===_s},zl=function(_){return wo(_)||tr(_)||_===hs},jc=function(_){return _>=hn&&_<=Ki||_===as||_>=_i&&_<=Wi||_===Yi},dl=function(_,E){return _!==jo?!1:E!==yo},X=function(_,E,R){return _===hs?wo(E)||dl(E,R):wo(_)?!0:!!(_===jo&&dl(_,E))},xe=function(_,E,R){return _===Qs||_===hs?tr(E)?!0:E===la&&tr(R):tr(_===la?E:_)},He=function(_){var E=0,R=1;(_[E]===Qs||_[E]===hs)&&(_[E]===hs&&(R=-1),E++);for(var D=[];tr(_[E]);)D.push(_[E++]);var te=D.length?parseInt(v.apply(void 0,D),10):0;_[E]===la&&E++;for(var fe=[];tr(_[E]);)fe.push(_[E++]);var we=fe.length,ke=we?parseInt(v.apply(void 0,fe),10):0;(_[E]===ot||_[E]===el)&&E++;var Qe=1;(_[E]===Qs||_[E]===hs)&&(_[E]===hs&&(Qe=-1),E++);for(var it=[];tr(_[E]);)it.push(_[E++]);var pt=it.length?parseInt(v.apply(void 0,it),10):0;return R*(te+ke*Math.pow(10,-we))*Math.pow(10,Qe*pt)},tt={type:2},jt={type:3},Ht={type:4},en={type:13},In={type:8},nr={type:21},Cr={type:9},Tr={type:10},ts={type:11},gi={type:12},Qi={type:14},Cs={type:23},ci={type:1},zi={type:25},So={type:24},nl={type:26},Lo={type:27},hl={type:28},fl={type:29},Hi={type:31},ue={type:32},Le=(function(){function _(){this._value=[]}return _.prototype.write=function(E){this._value=this._value.concat(m(E))},_.prototype.read=function(){for(var E=[],R=this.consumeToken();R!==ue;)E.push(R),R=this.consumeToken();return E},_.prototype.consumeToken=function(){var E=this.consumeCodePoint();switch(E){case _o:return this.consumeStringToken(_o);case Ss:var R=this.peekCodePoint(0),D=this.peekCodePoint(1),te=this.peekCodePoint(2);if(zl(R)||dl(D,te)){var fe=X(R,D,te)?Qc:fn,we=this.consumeName();return{type:5,value:we,flags:fe}}break;case Ui:if(this.peekCodePoint(0)===br)return this.consumeCodePoint(),en;break;case $o:return this.consumeStringToken($o);case Mi:return tt;case gr:return jt;case xa:if(this.peekCodePoint(0)===br)return this.consumeCodePoint(),Qi;break;case Qs:if(xe(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case Pa:return Ht;case hs:var ke=E,Qe=this.peekCodePoint(0),it=this.peekCodePoint(1);if(xe(ke,Qe,it))return this.reconsumeCodePoint(E),this.consumeNumericToken();if(X(ke,Qe,it))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();if(Qe===hs&&it===Ql)return this.consumeCodePoint(),this.consumeCodePoint(),So;break;case la:if(xe(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case cl:if(this.peekCodePoint(0)===xa)for(this.consumeCodePoint();;){var pt=this.consumeCodePoint();if(pt===xa&&(pt=this.consumeCodePoint(),pt===cl))return this.consumeToken();if(pt===ni)return this.consumeToken()}break;case Gi:return nl;case Yo:return Lo;case li:if(this.peekCodePoint(0)===qr&&this.peekCodePoint(1)===hs&&this.peekCodePoint(2)===hs)return this.consumeCodePoint(),this.consumeCodePoint(),zi;break;case ul:var It=this.peekCodePoint(0),$t=this.peekCodePoint(1),Bn=this.peekCodePoint(2);if(X(It,$t,Bn)){var we=this.consumeName();return{type:7,value:we}}break;case Go:return hl;case jo:if(dl(E,this.peekCodePoint(0)))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();break;case fs:return fl;case Ja:if(this.peekCodePoint(0)===br)return this.consumeCodePoint(),In;break;case Ko:return ts;case Mr:return gi;case Fo:case Ln:var yn=this.peekCodePoint(0),bn=this.peekCodePoint(1);return yn===Qs&&(wr(bn)||bn===aa)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(E),this.consumeIdentLikeToken();case ki:if(this.peekCodePoint(0)===br)return this.consumeCodePoint(),Cr;if(this.peekCodePoint(0)===ki)return this.consumeCodePoint(),nr;break;case Wo:if(this.peekCodePoint(0)===br)return this.consumeCodePoint(),Tr;break;case ni:return ue}return bo(E)?(this.consumeWhiteSpace(),Hi):tr(E)?(this.reconsumeCodePoint(E),this.consumeNumericToken()):wo(E)?(this.reconsumeCodePoint(E),this.consumeIdentLikeToken()):{type:6,value:v(E)}},_.prototype.consumeCodePoint=function(){var E=this._value.shift();return typeof E>"u"?-1:E},_.prototype.reconsumeCodePoint=function(E){this._value.unshift(E)},_.prototype.peekCodePoint=function(E){return E>=this._value.length?-1:this._value[E]},_.prototype.consumeUnicodeRangeToken=function(){for(var E=[],R=this.consumeCodePoint();wr(R)&&E.length<6;)E.push(R),R=this.consumeCodePoint();for(var D=!1;R===aa&&E.length<6;)E.push(R),R=this.consumeCodePoint(),D=!0;if(D){var te=parseInt(v.apply(void 0,E.map(function(Qe){return Qe===aa?ya:Qe})),16),fe=parseInt(v.apply(void 0,E.map(function(Qe){return Qe===aa?Nt:Qe})),16);return{type:30,start:te,end:fe}}var we=parseInt(v.apply(void 0,E),16);if(this.peekCodePoint(0)===hs&&wr(this.peekCodePoint(1))){this.consumeCodePoint(),R=this.consumeCodePoint();for(var ke=[];wr(R)&&ke.length<6;)ke.push(R),R=this.consumeCodePoint();var fe=parseInt(v.apply(void 0,ke),16);return{type:30,start:we,end:fe}}else return{type:30,start:we,end:we}},_.prototype.consumeIdentLikeToken=function(){var E=this.consumeName();return E.toLowerCase()==="url"&&this.peekCodePoint(0)===Mi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Mi?(this.consumeCodePoint(),{type:19,value:E}):{type:20,value:E}},_.prototype.consumeUrlToken=function(){var E=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ni)return{type:22,value:""};var R=this.peekCodePoint(0);if(R===$o||R===_o){var D=this.consumeStringToken(this.consumeCodePoint());return D.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ni||this.peekCodePoint(0)===gr)?(this.consumeCodePoint(),{type:22,value:D.value}):(this.consumeBadUrlRemnants(),Cs)}for(;;){var te=this.consumeCodePoint();if(te===ni||te===gr)return{type:22,value:v.apply(void 0,E)};if(bo(te))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ni||this.peekCodePoint(0)===gr?(this.consumeCodePoint(),{type:22,value:v.apply(void 0,E)}):(this.consumeBadUrlRemnants(),Cs);if(te===_o||te===$o||te===Mi||jc(te))return this.consumeBadUrlRemnants(),Cs;if(te===jo)if(dl(te,this.peekCodePoint(0)))E.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Cs;else E.push(te)}},_.prototype.consumeWhiteSpace=function(){for(;bo(this.peekCodePoint(0));)this.consumeCodePoint()},_.prototype.consumeBadUrlRemnants=function(){for(;;){var E=this.consumeCodePoint();if(E===gr||E===ni)return;dl(E,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},_.prototype.consumeStringSlice=function(E){for(var R=5e4,D="";E>0;){var te=Math.min(R,E);D+=v.apply(void 0,this._value.splice(0,te)),E-=te}return this._value.shift(),D},_.prototype.consumeStringToken=function(E){var R="",D=0;do{var te=this._value[D];if(te===ni||te===void 0||te===E)return R+=this.consumeStringSlice(D),{type:0,value:R};if(te===yo)return this._value.splice(0,D),ci;if(te===jo){var fe=this._value[D+1];fe!==ni&&fe!==void 0&&(fe===yo?(R+=this.consumeStringSlice(D),D=-1,this._value.shift()):dl(te,fe)&&(R+=this.consumeStringSlice(D),R+=v(this.consumeEscapedCodePoint()),D=-1))}D++}while(!0)},_.prototype.consumeNumber=function(){var E=[],R=Vo,D=this.peekCodePoint(0);for((D===Qs||D===hs)&&E.push(this.consumeCodePoint());tr(this.peekCodePoint(0));)E.push(this.consumeCodePoint());D=this.peekCodePoint(0);var te=this.peekCodePoint(1);if(D===la&&tr(te))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),R=Oi;tr(this.peekCodePoint(0));)E.push(this.consumeCodePoint());D=this.peekCodePoint(0),te=this.peekCodePoint(1);var fe=this.peekCodePoint(2);if((D===ot||D===el)&&((te===Qs||te===hs)&&tr(fe)||tr(te)))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),R=Oi;tr(this.peekCodePoint(0));)E.push(this.consumeCodePoint());return[He(E),R]},_.prototype.consumeNumericToken=function(){var E=this.consumeNumber(),R=E[0],D=E[1],te=this.peekCodePoint(0),fe=this.peekCodePoint(1),we=this.peekCodePoint(2);if(X(te,fe,we)){var ke=this.consumeName();return{type:15,number:R,flags:D,unit:ke}}return te===ks?(this.consumeCodePoint(),{type:16,number:R,flags:D}):{type:17,number:R,flags:D}},_.prototype.consumeEscapedCodePoint=function(){var E=this.consumeCodePoint();if(wr(E)){for(var R=v(E);wr(this.peekCodePoint(0))&&R.length<6;)R+=v(this.consumeCodePoint());bo(this.peekCodePoint(0))&&this.consumeCodePoint();var D=parseInt(R,16);return D===0||kn(D)||D>1114111?Al:D}return E===ni?Al:E},_.prototype.consumeName=function(){for(var E="";;){var R=this.consumeCodePoint();if(zl(R))E+=v(R);else if(dl(R,this.peekCodePoint(0)))E+=v(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(R),E}},_})(),qt=(function(){function _(E){this._tokens=E}return _.create=function(E){var R=new Le;return R.write(E),new _(R.read())},_.parseValue=function(E){return _.create(E).parseComponentValue()},_.parseValues=function(E){return _.create(E).parseComponentValues()},_.prototype.parseComponentValue=function(){for(var E=this.consumeToken();E.type===31;)E=this.consumeToken();if(E.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(E);var R=this.consumeComponentValue();do E=this.consumeToken();while(E.type===31);if(E.type===32)return R;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},_.prototype.parseComponentValues=function(){for(var E=[];;){var R=this.consumeComponentValue();if(R.type===32)return E;E.push(R),E.push()}},_.prototype.consumeComponentValue=function(){var E=this.consumeToken();switch(E.type){case 11:case 28:case 2:return this.consumeSimpleBlock(E.type);case 19:return this.consumeFunction(E)}return E},_.prototype.consumeSimpleBlock=function(E){for(var R={type:E,values:[]},D=this.consumeToken();;){if(D.type===32||vi(D,E))return R;this.reconsumeToken(D),R.values.push(this.consumeComponentValue()),D=this.consumeToken()}},_.prototype.consumeFunction=function(E){for(var R={name:E.value,values:[],type:18};;){var D=this.consumeToken();if(D.type===32||D.type===3)return R;this.reconsumeToken(D),R.values.push(this.consumeComponentValue())}},_.prototype.consumeToken=function(){var E=this._tokens.shift();return typeof E>"u"?ue:E},_.prototype.reconsumeToken=function(E){this._tokens.unshift(E)},_})(),_n=function(_){return _.type===15},lr=function(_){return _.type===17},wn=function(_){return _.type===20},ls=function(_){return _.type===0},Xo=function(_,E){return wn(_)&&_.value===E},uo=function(_){return _.type!==31},Jr=function(_){return _.type!==31&&_.type!==4},yr=function(_){var E=[],R=[];return _.forEach(function(D){if(D.type===4){if(R.length===0)throw new Error("Error parsing function args, zero tokens for arg");E.push(R),R=[];return}D.type!==31&&R.push(D)}),R.length&&E.push(R),E},vi=function(_,E){return E===11&&_.type===12||E===28&&_.type===29?!0:E===2&&_.type===3},ri=function(_){return _.type===17||_.type===15},Xr=function(_){return _.type===16||ri(_)},Na=function(_){return _.length>1?[_[0],_[1]]:[_[0]]},Fi={type:17,number:0,flags:Vo},Fl={type:16,number:50,flags:Vo},ua={type:16,number:100,flags:Vo},ja=function(_,E,R){var D=_[0],te=_[1];return[Zr(D,E),Zr(typeof te<"u"?te:D,R)]},Zr=function(_,E){if(_.type===16)return _.number/100*E;if(_n(_))switch(_.unit){case"rem":case"em":return 16*_.number;case"px":default:return _.number}return _.number},Xi="deg",pl="grad",Hl="rad",Vl="turn",zc={name:"angle",parse:function(_,E){if(E.type===15)switch(E.unit){case Xi:return Math.PI*E.number/180;case pl:return Math.PI/200*E.number;case Hl:return E.number;case Vl:return Math.PI*2*E.number}throw new Error("Unsupported angle type")}},Oa=function(_){return _.type===15&&(_.unit===Xi||_.unit===pl||_.unit===Hl||_.unit===Vl)},Zi=function(_){var E=_.filter(wn).map(function(R){return R.value}).join(" ");switch(E){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Fi,Fi];case"to top":case"bottom":return Co(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Fi,ua];case"to right":case"left":return Co(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ua,ua];case"to bottom":case"top":return Co(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ua,Fi];case"to left":case"right":return Co(270)}return 0},Co=function(_){return Math.PI*_/180},Xs={name:"color",parse:function(_,E){if(E.type===18){var R=Zo[E.name];if(typeof R>"u")throw new Error('Attempting to parse an unsupported color function "'+E.name+'"');return R(_,E.values)}if(E.type===5){if(E.value.length===3){var D=E.value.substring(0,1),te=E.value.substring(1,2),fe=E.value.substring(2,3);return rl(parseInt(D+D,16),parseInt(te+te,16),parseInt(fe+fe,16),1)}if(E.value.length===4){var D=E.value.substring(0,1),te=E.value.substring(1,2),fe=E.value.substring(2,3),we=E.value.substring(3,4);return rl(parseInt(D+D,16),parseInt(te+te,16),parseInt(fe+fe,16),parseInt(we+we,16)/255)}if(E.value.length===6){var D=E.value.substring(0,2),te=E.value.substring(2,4),fe=E.value.substring(4,6);return rl(parseInt(D,16),parseInt(te,16),parseInt(fe,16),1)}if(E.value.length===8){var D=E.value.substring(0,2),te=E.value.substring(2,4),fe=E.value.substring(4,6),we=E.value.substring(6,8);return rl(parseInt(D,16),parseInt(te,16),parseInt(fe,16),parseInt(we,16)/255)}}if(E.type===20){var ke=qi[E.value.toUpperCase()];if(typeof ke<"u")return ke}return qi.TRANSPARENT}},Zs=function(_){return(255&_)===0},ui=function(_){var E=255&_,R=255&_>>8,D=255&_>>16,te=255&_>>24;return E<255?"rgba("+te+","+D+","+R+","+E/255+")":"rgb("+te+","+D+","+R+")"},rl=function(_,E,R,D){return(_<<24|E<<16|R<<8|Math.round(D*255)<<0)>>>0},bc=function(_,E){if(_.type===17)return _.number;if(_.type===16){var R=E===3?1:255;return E===3?_.number/100*R:Math.round(_.number/100*R)}return 0},tc=function(_,E){var R=E.filter(Jr);if(R.length===3){var D=R.map(bc),te=D[0],fe=D[1],we=D[2];return rl(te,fe,we,1)}if(R.length===4){var ke=R.map(bc),te=ke[0],fe=ke[1],we=ke[2],Qe=ke[3];return rl(te,fe,we,Qe)}return 0};function sl(_,E,R){return R<0&&(R+=1),R>=1&&(R-=1),R<1/6?(E-_)*R*6+_:R<1/2?E:R<2/3?(E-_)*6*(2/3-R)+_:_}var Ll=function(_,E){var R=E.filter(Jr),D=R[0],te=R[1],fe=R[2],we=R[3],ke=(D.type===17?Co(D.number):zc.parse(_,D))/(Math.PI*2),Qe=Xr(te)?te.number/100:0,it=Xr(fe)?fe.number/100:0,pt=typeof we<"u"&&Xr(we)?Zr(we,1):1;if(Qe===0)return rl(it*255,it*255,it*255,1);var It=it<=.5?it*(Qe+1):it+Qe-it*Qe,$t=it*2-It,Bn=sl($t,It,ke+1/3),yn=sl($t,It,ke),bn=sl($t,It,ke-1/3);return rl(Bn*255,yn*255,bn*255,pt)},Zo={hsl:Ll,hsla:Ll,rgb:tc,rgba:tc},ba=function(_,E){return Xs.parse(_,qt.create(E).parseComponentValue())},qi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},nc={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(_,E){return E.map(function(R){if(wn(R))switch(R.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ml={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ji=function(_,E){var R=Xs.parse(_,E[0]),D=E[1];return D&&Xr(D)?{color:R,stop:D}:{color:R,stop:null}},cs=function(_,E){var R=_[0],D=_[_.length-1];R.stop===null&&(R.stop=Fi),D.stop===null&&(D.stop=ua);for(var te=[],fe=0,we=0;we<_.length;we++){var ke=_[we].stop;if(ke!==null){var Qe=Zr(ke,E);Qe>fe?te.push(Qe):te.push(fe),fe=Qe}else te.push(null)}for(var it=null,we=0;we<te.length;we++){var pt=te[we];if(pt===null)it===null&&(it=we);else if(it!==null){for(var It=we-it,$t=te[it-1],Bn=(pt-$t)/(It+1),yn=1;yn<=It;yn++)te[it+yn-1]=Bn*yn;it=null}}return _.map(function(bn,ns){var dr=bn.color;return{color:dr,stop:Math.max(Math.min(1,te[ns]/E),0)}})},Hs=function(_,E,R){var D=E/2,te=R/2,fe=Zr(_[0],E)-D,we=te-Zr(_[1],R);return(Math.atan2(we,fe)+Math.PI*2)%(Math.PI*2)},eo=function(_,E,R){var D=typeof _=="number"?_:Hs(_,E,R),te=Math.abs(E*Math.sin(D))+Math.abs(R*Math.cos(D)),fe=E/2,we=R/2,ke=te/2,Qe=Math.sin(D-Math.PI/2)*ke,it=Math.cos(D-Math.PI/2)*ke;return[te,fe-it,fe+it,we-Qe,we+Qe]},us=function(_,E){return Math.sqrt(_*_+E*E)},$l=function(_,E,R,D,te){var fe=[[0,0],[0,E],[_,0],[_,E]];return fe.reduce(function(we,ke){var Qe=ke[0],it=ke[1],pt=us(R-Qe,D-it);return(te?pt<we.optimumDistance:pt>we.optimumDistance)?{optimumCorner:ke,optimumDistance:pt}:we},{optimumDistance:te?1/0:-1/0,optimumCorner:null}).optimumCorner},Ua=function(_,E,R,D,te){var fe=0,we=0;switch(_.size){case 0:_.shape===0?fe=we=Math.min(Math.abs(E),Math.abs(E-D),Math.abs(R),Math.abs(R-te)):_.shape===1&&(fe=Math.min(Math.abs(E),Math.abs(E-D)),we=Math.min(Math.abs(R),Math.abs(R-te)));break;case 2:if(_.shape===0)fe=we=Math.min(us(E,R),us(E,R-te),us(E-D,R),us(E-D,R-te));else if(_.shape===1){var ke=Math.min(Math.abs(R),Math.abs(R-te))/Math.min(Math.abs(E),Math.abs(E-D)),Qe=$l(D,te,E,R,!0),it=Qe[0],pt=Qe[1];fe=us(it-E,(pt-R)/ke),we=ke*fe}break;case 1:_.shape===0?fe=we=Math.max(Math.abs(E),Math.abs(E-D),Math.abs(R),Math.abs(R-te)):_.shape===1&&(fe=Math.max(Math.abs(E),Math.abs(E-D)),we=Math.max(Math.abs(R),Math.abs(R-te)));break;case 3:if(_.shape===0)fe=we=Math.max(us(E,R),us(E,R-te),us(E-D,R),us(E-D,R-te));else if(_.shape===1){var ke=Math.max(Math.abs(R),Math.abs(R-te))/Math.max(Math.abs(E),Math.abs(E-D)),It=$l(D,te,E,R,!1),it=It[0],pt=It[1];fe=us(it-E,(pt-R)/ke),we=ke*fe}break}return Array.isArray(_.size)&&(fe=Zr(_.size[0],D),we=_.size.length===2?Zr(_.size[1],te):fe),[fe,we]},rc=function(_,E){var R=Co(180),D=[];return yr(E).forEach(function(te,fe){if(fe===0){var we=te[0];if(we.type===20&&we.value==="to"){R=Zi(te);return}else if(Oa(we)){R=zc.parse(_,we);return}}var ke=Ji(_,te);D.push(ke)}),{angle:R,stops:D,type:1}},iu=function(_,E){var R=Co(180),D=[];return yr(E).forEach(function(te,fe){if(fe===0){var we=te[0];if(we.type===20&&["top","left","right","bottom"].indexOf(we.value)!==-1){R=Zi(te);return}else if(Oa(we)){R=(zc.parse(_,we)+Co(270))%Co(360);return}}var ke=Ji(_,te);D.push(ke)}),{angle:R,stops:D,type:1}},sA=function(_,E){var R=Co(180),D=[],te=1,fe=0,we=3,ke=[];return yr(E).forEach(function(Qe,it){var pt=Qe[0];if(it===0){if(wn(pt)&&pt.value==="linear"){te=1;return}else if(wn(pt)&&pt.value==="radial"){te=2;return}}if(pt.type===18){if(pt.name==="from"){var It=Xs.parse(_,pt.values[0]);D.push({stop:Fi,color:It})}else if(pt.name==="to"){var It=Xs.parse(_,pt.values[0]);D.push({stop:ua,color:It})}else if(pt.name==="color-stop"){var $t=pt.values.filter(Jr);if($t.length===2){var It=Xs.parse(_,$t[1]),Bn=$t[0];lr(Bn)&&D.push({stop:{type:16,number:Bn.number*100,flags:Bn.flags},color:It})}}}}),te===1?{angle:(R+Co(180))%Co(360),stops:D,type:te}:{size:we,shape:fe,stops:D,position:ke,type:te}},Fd="closest-side",iA="farthest-side",HA="closest-corner",wc="farthest-corner",gl="circle",Dl="ellipse",Ma="cover",ka="contain",ou=function(_,E){var R=0,D=3,te=[],fe=[];return yr(E).forEach(function(we,ke){var Qe=!0;if(ke===0){var it=!1;Qe=we.reduce(function(It,$t){if(it)if(wn($t))switch($t.value){case"center":return fe.push(Fl),It;case"top":case"left":return fe.push(Fi),It;case"right":case"bottom":return fe.push(ua),It}else(Xr($t)||ri($t))&&fe.push($t);else if(wn($t))switch($t.value){case gl:return R=0,!1;case Dl:return R=1,!1;case"at":return it=!0,!1;case Fd:return D=0,!1;case Ma:case iA:return D=1,!1;case ka:case HA:return D=2,!1;case wc:return D=3,!1}else if(ri($t)||Xr($t))return Array.isArray(D)||(D=[]),D.push($t),!1;return It},Qe)}if(Qe){var pt=Ji(_,we);te.push(pt)}}),{size:D,shape:R,stops:te,position:fe,type:2}},Qa=function(_,E){var R=0,D=3,te=[],fe=[];return yr(E).forEach(function(we,ke){var Qe=!0;if(ke===0?Qe=we.reduce(function(pt,It){if(wn(It))switch(It.value){case"center":return fe.push(Fl),!1;case"top":case"left":return fe.push(Fi),!1;case"right":case"bottom":return fe.push(ua),!1}else if(Xr(It)||ri(It))return fe.push(It),!1;return pt},Qe):ke===1&&(Qe=we.reduce(function(pt,It){if(wn(It))switch(It.value){case gl:return R=0,!1;case Dl:return R=1,!1;case ka:case Fd:return D=0,!1;case iA:return D=1,!1;case HA:return D=2,!1;case Ma:case wc:return D=3,!1}else if(ri(It)||Xr(It))return Array.isArray(D)||(D=[]),D.push(It),!1;return pt},Qe)),Qe){var it=Ji(_,we);te.push(it)}}),{size:D,shape:R,stops:te,position:fe,type:2}},_u=function(_){return _.type===1},Fu=function(_){return _.type===2},sc={name:"image",parse:function(_,E){if(E.type===22){var R={url:E.value,type:0};return _.cache.addImage(E.value),R}if(E.type===18){var D=Hc[E.name];if(typeof D>"u")throw new Error('Attempting to parse an unsupported image function "'+E.name+'"');return D(_,E.values)}throw new Error("Unsupported image type "+E.type)}};function au(_){return!(_.type===20&&_.value==="none")&&(_.type!==18||!!Hc[_.name])}var Hc={"linear-gradient":rc,"-moz-linear-gradient":iu,"-ms-linear-gradient":iu,"-o-linear-gradient":iu,"-webkit-linear-gradient":iu,"radial-gradient":ou,"-moz-radial-gradient":Qa,"-ms-radial-gradient":Qa,"-o-radial-gradient":Qa,"-webkit-radial-gradient":Qa,"-webkit-gradient":sA},Gl={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(_,E){if(E.length===0)return[];var R=E[0];return R.type===20&&R.value==="none"?[]:E.filter(function(D){return Jr(D)&&au(D)}).map(function(D){return sc.parse(_,D)})}},Do={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(_,E){return E.map(function(R){if(wn(R))switch(R.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},vl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(_,E){return yr(E).map(function(R){return R.filter(Xr)}).map(Na)}},wa={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(_,E){return yr(E).map(function(R){return R.filter(wn).map(function(D){return D.value}).join(" ")}).map(lu)}},lu=function(_){switch(_){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Sa;(function(_){_.AUTO="auto",_.CONTAIN="contain",_.COVER="cover"})(Sa||(Sa={}));var Lu={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(_,E){return yr(E).map(function(R){return R.filter(Vc)})}},Vc=function(_){return wn(_)||Xr(_)},xl=function(_){return{name:"border-"+_+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},VA=xl("top"),Du=xl("right"),Sc=xl("bottom"),Cc=xl("left"),A=function(_){return{name:"border-radius-"+_,initialValue:"0 0",prefix:!1,type:1,parse:function(E,R){return Na(R.filter(Xr))}}},y=A("top-left"),P=A("top-right"),Y=A("bottom-right"),de=A("bottom-left"),Se=function(_){return{name:"border-"+_+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(E,R){switch(R){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ze=Se("top"),Et=Se("right"),Ut=Se("bottom"),sn=Se("left"),Fn=function(_){return{name:"border-"+_+"-width",initialValue:"0",type:0,prefix:!1,parse:function(E,R){return _n(R)?R.number:0}}},zn=Fn("top"),cr=Fn("right"),Fr=Fn("bottom"),xi=Fn("left"),Ao={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ca={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(_,E){switch(E){case"rtl":return 1;case"ltr":default:return 0}}},Pl={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(_,E){return E.filter(wn).reduce(function(R,D){return R|Ch(D.value)},0)}},Ch=function(_){switch(_){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Bc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(_,E){switch(E){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},za={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(_,E){return E.type===20&&E.value==="normal"?0:E.type===17||E.type===15?E.number:0}},Aa;(function(_){_.NORMAL="normal",_.STRICT="strict"})(Aa||(Aa={}));var Bh={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(_,E){switch(E){case"strict":return Aa.STRICT;case"normal":default:return Aa.NORMAL}}},cu={name:"line-height",initialValue:"normal",prefix:!1,type:4},Vs=function(_,E){return wn(_)&&_.value==="normal"?1.2*E:_.type===17?E*_.number:Xr(_)?Zr(_,E):E},ho={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(_,E){return E.type===20&&E.value==="none"?null:sc.parse(_,E)}},Ec={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(_,E){switch(E){case"inside":return 0;case"outside":default:return 1}}},ic={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(_,E){switch(E){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},yl=function(_){return{name:"margin-"+_,initialValue:"0",prefix:!1,type:4}},Pu=yl("top"),oA=yl("right"),Ru=yl("bottom"),Eh=yl("left"),$c={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(_,E){return E.filter(wn).map(function(R){switch(R.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},da={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(_,E){switch(E){case"break-word":return"break-word";case"normal":default:return"normal"}}},Tc=function(_){return{name:"padding-"+_,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Th=Tc("top"),Hg=Tc("right"),em=Tc("bottom"),Vg=Tc("left"),ha={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(_,E){switch(E){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},If={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(_,E){switch(E){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ld={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(_,E){return E.length===1&&Xo(E[0],"none")?[]:yr(E).map(function(R){for(var D={color:qi.TRANSPARENT,offsetX:Fi,offsetY:Fi,blur:Fi},te=0,fe=0;fe<R.length;fe++){var we=R[fe];ri(we)?(te===0?D.offsetX=we:te===1?D.offsetY=we:D.blur=we,te++):D.color=Xs.parse(_,we)}return D})}},Dd={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(_,E){switch(E){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_f={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(_,E){if(E.type===20&&E.value==="none")return null;if(E.type===18){var R=$g[E.name];if(typeof R>"u")throw new Error('Attempting to parse an unsupported transform function "'+E.name+'"');return R(E.values)}return null}},aA=function(_){var E=_.filter(function(R){return R.type===17}).map(function(R){return R.number});return E.length===6?E:null},uu=function(_){var E=_.filter(function(Qe){return Qe.type===17}).map(function(Qe){return Qe.number}),R=E[0],D=E[1];E[2],E[3];var te=E[4],fe=E[5];E[6],E[7],E[8],E[9],E[10],E[11];var we=E[12],ke=E[13];return E[14],E[15],E.length===16?[R,D,te,fe,we,ke]:null},$g={matrix:aA,matrix3d:uu},Ff={type:16,number:50,flags:Vo},tm=[Ff,Ff],I={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(_,E){var R=E.filter(Xr);return R.length!==2?tm:[R[0],R[1]]}},U={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(_,E){switch(E){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ne;(function(_){_.NORMAL="normal",_.BREAK_ALL="break-all",_.KEEP_ALL="keep-all"})(ne||(ne={}));for(var Ae={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(_,E){switch(E){case"break-all":return ne.BREAK_ALL;case"keep-all":return ne.KEEP_ALL;case"normal":default:return ne.NORMAL}}},ye={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(_,E){if(E.type===20)return{auto:!0,order:0};if(lr(E))return{auto:!1,order:E.number};throw new Error("Invalid z-index number parsed")}},Ce={name:"time",parse:function(_,E){if(E.type===15)switch(E.unit.toLowerCase()){case"s":return 1e3*E.number;case"ms":return E.number}throw new Error("Unsupported time type")}},_e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(_,E){return lr(E)?E.number:1}},Pe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Me={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(_,E){return E.filter(wn).map(function(R){switch(R.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(R){return R!==0})}},$e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(_,E){var R=[],D=[];return E.forEach(function(te){switch(te.type){case 20:case 0:R.push(te.value);break;case 17:R.push(te.number.toString());break;case 4:D.push(R.join(" ")),R.length=0;break}}),R.length&&D.push(R.join(" ")),D.map(function(te){return te.indexOf(" ")===-1?te:"'"+te+"'"})}},st={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Pt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(_,E){if(lr(E))return E.number;if(wn(E))switch(E.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(_,E){return E.filter(wn).map(function(R){return R.value})}},dt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(_,E){switch(E){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ft=function(_,E){return(_&E)!==0},kt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(_,E){if(E.length===0)return[];var R=E[0];return R.type===20&&R.value==="none"?[]:E}},Lt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(_,E){if(E.length===0)return null;var R=E[0];if(R.type===20&&R.value==="none")return null;for(var D=[],te=E.filter(uo),fe=0;fe<te.length;fe++){var we=te[fe],ke=te[fe+1];if(we.type===20){var Qe=ke&&lr(ke)?ke.number:1;D.push({counter:we.value,increment:Qe})}}return D}},Wt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(_,E){if(E.length===0)return[];for(var R=[],D=E.filter(uo),te=0;te<D.length;te++){var fe=D[te],we=D[te+1];if(wn(fe)&&fe.value!=="none"){var ke=we&&lr(we)?we.number:0;R.push({counter:fe.value,reset:ke})}}return R}},Kt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(_,E){return E.filter(_n).map(function(R){return Ce.parse(_,R)})}},An={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(_,E){if(E.length===0)return null;var R=E[0];if(R.type===20&&R.value==="none")return null;var D=[],te=E.filter(ls);if(te.length%2!==0)return null;for(var fe=0;fe<te.length;fe+=2){var we=te[fe].value,ke=te[fe+1].value;D.push({open:we,close:ke})}return D}},tn=function(_,E,R){if(!_)return"";var D=_[Math.min(E,_.length-1)];return D?R?D.open:D.close:""},Ar={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(_,E){return E.length===1&&Xo(E[0],"none")?[]:yr(E).map(function(R){for(var D={color:255,offsetX:Fi,offsetY:Fi,blur:Fi,spread:Fi,inset:!1},te=0,fe=0;fe<R.length;fe++){var we=R[fe];Xo(we,"inset")?D.inset=!0:ri(we)?(te===0?D.offsetX=we:te===1?D.offsetY=we:te===2?D.blur=we:D.spread=we,te++):D.color=Xs.parse(_,we)}return D})}},Xn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(_,E){var R=[0,1,2],D=[];return E.filter(wn).forEach(function(te){switch(te.value){case"stroke":D.push(1);break;case"fill":D.push(0);break;case"markers":D.push(2);break}}),R.forEach(function(te){D.indexOf(te)===-1&&D.push(te)}),D}},kr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},rr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(_,E){return _n(E)?E.number:0}},ys=(function(){function _(E,R){var D,te;this.animationDuration=Vt(E,Kt,R.animationDuration),this.backgroundClip=Vt(E,nc,R.backgroundClip),this.backgroundColor=Vt(E,ml,R.backgroundColor),this.backgroundImage=Vt(E,Gl,R.backgroundImage),this.backgroundOrigin=Vt(E,Do,R.backgroundOrigin),this.backgroundPosition=Vt(E,vl,R.backgroundPosition),this.backgroundRepeat=Vt(E,wa,R.backgroundRepeat),this.backgroundSize=Vt(E,Lu,R.backgroundSize),this.borderTopColor=Vt(E,VA,R.borderTopColor),this.borderRightColor=Vt(E,Du,R.borderRightColor),this.borderBottomColor=Vt(E,Sc,R.borderBottomColor),this.borderLeftColor=Vt(E,Cc,R.borderLeftColor),this.borderTopLeftRadius=Vt(E,y,R.borderTopLeftRadius),this.borderTopRightRadius=Vt(E,P,R.borderTopRightRadius),this.borderBottomRightRadius=Vt(E,Y,R.borderBottomRightRadius),this.borderBottomLeftRadius=Vt(E,de,R.borderBottomLeftRadius),this.borderTopStyle=Vt(E,Ze,R.borderTopStyle),this.borderRightStyle=Vt(E,Et,R.borderRightStyle),this.borderBottomStyle=Vt(E,Ut,R.borderBottomStyle),this.borderLeftStyle=Vt(E,sn,R.borderLeftStyle),this.borderTopWidth=Vt(E,zn,R.borderTopWidth),this.borderRightWidth=Vt(E,cr,R.borderRightWidth),this.borderBottomWidth=Vt(E,Fr,R.borderBottomWidth),this.borderLeftWidth=Vt(E,xi,R.borderLeftWidth),this.boxShadow=Vt(E,Ar,R.boxShadow),this.color=Vt(E,Ao,R.color),this.direction=Vt(E,Ca,R.direction),this.display=Vt(E,Pl,R.display),this.float=Vt(E,Bc,R.cssFloat),this.fontFamily=Vt(E,$e,R.fontFamily),this.fontSize=Vt(E,st,R.fontSize),this.fontStyle=Vt(E,dt,R.fontStyle),this.fontVariant=Vt(E,Ve,R.fontVariant),this.fontWeight=Vt(E,Pt,R.fontWeight),this.letterSpacing=Vt(E,za,R.letterSpacing),this.lineBreak=Vt(E,Bh,R.lineBreak),this.lineHeight=Vt(E,cu,R.lineHeight),this.listStyleImage=Vt(E,ho,R.listStyleImage),this.listStylePosition=Vt(E,Ec,R.listStylePosition),this.listStyleType=Vt(E,ic,R.listStyleType),this.marginTop=Vt(E,Pu,R.marginTop),this.marginRight=Vt(E,oA,R.marginRight),this.marginBottom=Vt(E,Ru,R.marginBottom),this.marginLeft=Vt(E,Eh,R.marginLeft),this.opacity=Vt(E,_e,R.opacity);var fe=Vt(E,$c,R.overflow);this.overflowX=fe[0],this.overflowY=fe[fe.length>1?1:0],this.overflowWrap=Vt(E,da,R.overflowWrap),this.paddingTop=Vt(E,Th,R.paddingTop),this.paddingRight=Vt(E,Hg,R.paddingRight),this.paddingBottom=Vt(E,em,R.paddingBottom),this.paddingLeft=Vt(E,Vg,R.paddingLeft),this.paintOrder=Vt(E,Xn,R.paintOrder),this.position=Vt(E,If,R.position),this.textAlign=Vt(E,ha,R.textAlign),this.textDecorationColor=Vt(E,Pe,(D=R.textDecorationColor)!==null&&D!==void 0?D:R.color),this.textDecorationLine=Vt(E,Me,(te=R.textDecorationLine)!==null&&te!==void 0?te:R.textDecoration),this.textShadow=Vt(E,Ld,R.textShadow),this.textTransform=Vt(E,Dd,R.textTransform),this.transform=Vt(E,_f,R.transform),this.transformOrigin=Vt(E,I,R.transformOrigin),this.visibility=Vt(E,U,R.visibility),this.webkitTextStrokeColor=Vt(E,kr,R.webkitTextStrokeColor),this.webkitTextStrokeWidth=Vt(E,rr,R.webkitTextStrokeWidth),this.wordBreak=Vt(E,Ae,R.wordBreak),this.zIndex=Vt(E,ye,R.zIndex)}return _.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},_.prototype.isTransparent=function(){return Zs(this.backgroundColor)},_.prototype.isTransformed=function(){return this.transform!==null},_.prototype.isPositioned=function(){return this.position!==0},_.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},_.prototype.isFloating=function(){return this.float!==0},_.prototype.isInlineLevel=function(){return ft(this.display,4)||ft(this.display,33554432)||ft(this.display,268435456)||ft(this.display,536870912)||ft(this.display,67108864)||ft(this.display,134217728)},_})(),qo=(function(){function _(E,R){this.content=Vt(E,kt,R.content),this.quotes=Vt(E,An,R.quotes)}return _})(),Lr=(function(){function _(E,R){this.counterIncrement=Vt(E,Lt,R.counterIncrement),this.counterReset=Vt(E,Wt,R.counterReset)}return _})(),Vt=function(_,E,R){var D=new Le,te=R!==null&&typeof R<"u"?R.toString():E.initialValue;D.write(te);var fe=new qt(D.read());switch(E.type){case 2:var we=fe.parseComponentValue();return E.parse(_,wn(we)?we.value:E.initialValue);case 0:return E.parse(_,fe.parseComponentValue());case 1:return E.parse(_,fe.parseComponentValues());case 4:return fe.parseComponentValue();case 3:switch(E.format){case"angle":return zc.parse(_,fe.parseComponentValue());case"color":return Xs.parse(_,fe.parseComponentValue());case"image":return sc.parse(_,fe.parseComponentValue());case"length":var ke=fe.parseComponentValue();return ri(ke)?ke:Fi;case"length-percentage":var Qe=fe.parseComponentValue();return Xr(Qe)?Qe:Fi;case"time":return Ce.parse(_,fe.parseComponentValue())}break}},Cn="data-html2canvas-debug",fo=function(_){var E=_.getAttribute(Cn);switch(E){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Dr=function(_,E){var R=fo(_);return R===1||E===R},Br=(function(){function _(E,R){if(this.context=E,this.textNodes=[],this.elements=[],this.flags=0,Dr(R,3))debugger;this.styles=new ys(E,window.getComputedStyle(R,null)),ma(R)&&(this.styles.animationDuration.some(function(D){return D>0})&&(R.style.animationDuration="0s"),this.styles.transform!==null&&(R.style.transform="none")),this.bounds=h(this.context,R),Dr(R,4)&&(this.flags|=16)}return _})(),sr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",As=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ai=0;Ai<Qr.length;Ai++)As[Qr.charCodeAt(Ai)]=Ai;for(var Po=function(_){var E=_.length*.75,R=_.length,D,te=0,fe,we,ke,Qe;_[_.length-1]==="="&&(E--,_[_.length-2]==="="&&E--);var it=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),pt=Array.isArray(it)?it:new Uint8Array(it);for(D=0;D<R;D+=4)fe=As[_.charCodeAt(D)],we=As[_.charCodeAt(D+1)],ke=As[_.charCodeAt(D+2)],Qe=As[_.charCodeAt(D+3)],pt[te++]=fe<<2|we>>4,pt[te++]=(we&15)<<4|ke>>2,pt[te++]=(ke&3)<<6|Qe&63;return it},Ro=function(_){for(var E=_.length,R=[],D=0;D<E;D+=2)R.push(_[D+1]<<8|_[D]);return R},Bo=function(_){for(var E=_.length,R=[],D=0;D<E;D+=4)R.push(_[D+3]<<24|_[D+2]<<16|_[D+1]<<8|_[D]);return R},Wr=5,js=11,to=2,Er=js-Wr,Jo=65536>>Wr,Kl=1<<Wr,no=Kl-1,jl=1024>>Wr,yi=Jo+jl,No=yi,bl=32,Ha=No+bl,Li=65536>>js,$s=1<<Er,il=$s-1,Ba=function(_,E,R){return _.slice?_.slice(E,R):new Uint16Array(Array.prototype.slice.call(_,E,R))},si=function(_,E,R){return _.slice?_.slice(E,R):new Uint32Array(Array.prototype.slice.call(_,E,R))},wl=function(_,E){var R=Po(_),D=Array.isArray(R)?Bo(R):new Uint32Array(R),te=Array.isArray(R)?Ro(R):new Uint16Array(R),fe=24,we=Ba(te,fe/2,D[4]/2),ke=D[5]===2?Ba(te,(fe+D[4])/2):si(D,Math.ceil((fe+D[4])/4));return new fa(D[0],D[1],D[2],D[3],we,ke)},fa=(function(){function _(E,R,D,te,fe,we){this.initialValue=E,this.errorValue=R,this.highStart=D,this.highValueIndex=te,this.index=fe,this.data=we}return _.prototype.get=function(E){var R;if(E>=0){if(E<55296||E>56319&&E<=65535)return R=this.index[E>>Wr],R=(R<<to)+(E&no),this.data[R];if(E<=65535)return R=this.index[Jo+(E-55296>>Wr)],R=(R<<to)+(E&no),this.data[R];if(E<this.highStart)return R=Ha-Li+(E>>js),R=this.index[R],R+=E>>Wr&il,R=this.index[R],R=(R<<to)+(E&no),this.data[R];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},_})(),Ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_c=typeof Uint8Array>"u"?[]:new Uint8Array(256),Eo=0;Eo<Ic.length;Eo++)_c[Ic.charCodeAt(Eo)]=Eo;var Pd=1,$A=2,lA=3,cA=4,Lf=5,nm=7,GA=8,Fc=9,Df=10,Pf=11,Rf=12,Ih=13,uA=14,Rd=15,Nf=function(_){for(var E=[],R=0,D=_.length;R<D;){var te=_.charCodeAt(R++);if(te>=55296&&te<=56319&&R<D){var fe=_.charCodeAt(R++);(fe&64512)===56320?E.push(((te&1023)<<10)+(fe&1023)+65536):(E.push(te),R--)}else E.push(te)}return E},Nd=function(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,_);var R=_.length;if(!R)return"";for(var D=[],te=-1,fe="";++te<R;){var we=_[te];we<=65535?D.push(we):(we-=65536,D.push((we>>10)+55296,we%1024+56320)),(te+1===R||D.length>16384)&&(fe+=String.fromCharCode.apply(String,D),D.length=0)}return fe},_h=wl(sr),Va="",Fh="",rm=function(_){return _h.get(_)},Au=function(_,E,R){var D=R-2,te=E[D],fe=E[R-1],we=E[R];if(fe===$A&&we===lA)return Va;if(fe===$A||fe===lA||fe===cA||we===$A||we===lA||we===cA)return Fh;if(fe===GA&&[GA,Fc,Pf,Rf].indexOf(we)!==-1||(fe===Pf||fe===Fc)&&(we===Fc||we===Df)||(fe===Rf||fe===Df)&&we===Df||we===Ih||we===Lf||we===nm||fe===Pd)return Va;if(fe===Ih&&we===uA){for(;te===Lf;)te=E[--D];if(te===uA)return Va}if(fe===Rd&&we===Rd){for(var ke=0;te===Rd;)ke++,te=E[--D];if(ke%2===0)return Va}return Fh},Od=function(_){var E=Nf(_),R=E.length,D=0,te=0,fe=E.map(rm);return{next:function(){if(D>=R)return{done:!0,value:null};for(var we=Va;D<R&&(we=Au(E,fe,++D))===Va;);if(we!==Va||D===R){var ke=Nd.apply(null,E.slice(te,D));return te=D,{value:ke,done:!1}}return{done:!0,value:null}}}},Lh=function(_){for(var E=Od(_),R=[],D;!(D=E.next()).done;)D.value&&R.push(D.value.slice());return R},Lc=function(_){var E=123;if(_.createRange){var R=_.createRange();if(R.getBoundingClientRect){var D=_.createElement("boundtest");D.style.height=E+"px",D.style.display="block",_.body.appendChild(D),R.selectNode(D);var te=R.getBoundingClientRect(),fe=Math.round(te.height);if(_.body.removeChild(D),fe===E)return!0}}return!1},KA=function(_){var E=_.createElement("boundtest");E.style.width="50px",E.style.display="block",E.style.fontSize="12px",E.style.letterSpacing="0px",E.style.wordSpacing="0px",_.body.appendChild(E);var R=_.createRange();E.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var D=E.firstChild,te=m(D.data).map(function(Qe){return v(Qe)}),fe=0,we={},ke=te.every(function(Qe,it){R.setStart(D,fe),R.setEnd(D,fe+Qe.length);var pt=R.getBoundingClientRect();fe+=Qe.length;var It=pt.x>we.x||pt.y>we.y;return we=pt,it===0?!0:It});return _.body.removeChild(E),ke},Of=function(){return typeof new Image().crossOrigin<"u"},sm=function(){return typeof new XMLHttpRequest().responseType=="string"},Uf=function(_){var E=new Image,R=_.createElement("canvas"),D=R.getContext("2d");if(!D)return!1;E.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{D.drawImage(E,0,0),R.toDataURL()}catch{return!1}return!0},Nu=function(_){return _[0]===0&&_[1]===255&&_[2]===0&&_[3]===255},im=function(_){var E=_.createElement("canvas"),R=100;E.width=R,E.height=R;var D=E.getContext("2d");if(!D)return Promise.reject(!1);D.fillStyle="rgb(0, 255, 0)",D.fillRect(0,0,R,R);var te=new Image,fe=E.toDataURL();te.src=fe;var we=Ud(R,R,0,0,te);return D.fillStyle="red",D.fillRect(0,0,R,R),Dh(we).then(function(ke){D.drawImage(ke,0,0);var Qe=D.getImageData(0,0,R,R).data;D.fillStyle="red",D.fillRect(0,0,R,R);var it=_.createElement("div");return it.style.backgroundImage="url("+fe+")",it.style.height=R+"px",Nu(Qe)?Dh(Ud(R,R,0,0,it)):Promise.reject(!1)}).then(function(ke){return D.drawImage(ke,0,0),Nu(D.getImageData(0,0,R,R).data)}).catch(function(){return!1})},Ud=function(_,E,R,D,te){var fe="http://www.w3.org/2000/svg",we=document.createElementNS(fe,"svg"),ke=document.createElementNS(fe,"foreignObject");return we.setAttributeNS(null,"width",_.toString()),we.setAttributeNS(null,"height",E.toString()),ke.setAttributeNS(null,"width","100%"),ke.setAttributeNS(null,"height","100%"),ke.setAttributeNS(null,"x",R.toString()),ke.setAttributeNS(null,"y",D.toString()),ke.setAttributeNS(null,"externalResourcesRequired","true"),we.appendChild(ke),ke.appendChild(te),we},Dh=function(_){return new Promise(function(E,R){var D=new Image;D.onload=function(){return E(D)},D.onerror=R,D.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(_))})},pa={get SUPPORT_RANGE_BOUNDS(){var _=Lc(document);return Object.defineProperty(pa,"SUPPORT_RANGE_BOUNDS",{value:_}),_},get SUPPORT_WORD_BREAKING(){var _=pa.SUPPORT_RANGE_BOUNDS&&KA(document);return Object.defineProperty(pa,"SUPPORT_WORD_BREAKING",{value:_}),_},get SUPPORT_SVG_DRAWING(){var _=Uf(document);return Object.defineProperty(pa,"SUPPORT_SVG_DRAWING",{value:_}),_},get SUPPORT_FOREIGNOBJECT_DRAWING(){var _=typeof Array.from=="function"&&typeof window.fetch=="function"?im(document):Promise.resolve(!1);return Object.defineProperty(pa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:_}),_},get SUPPORT_CORS_IMAGES(){var _=Of();return Object.defineProperty(pa,"SUPPORT_CORS_IMAGES",{value:_}),_},get SUPPORT_RESPONSE_TYPE(){var _=sm();return Object.defineProperty(pa,"SUPPORT_RESPONSE_TYPE",{value:_}),_},get SUPPORT_CORS_XHR(){var _="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pa,"SUPPORT_CORS_XHR",{value:_}),_},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var _=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:_}),_}},WA=(function(){function _(E,R){this.text=E,this.bounds=R}return _})(),AA=function(_,E,R,D){var te=du(E,R),fe=[],we=0;return te.forEach(function(ke){if(R.textDecorationLine.length||ke.trim().length>0)if(pa.SUPPORT_RANGE_BOUNDS){var Qe=YA(D,we,ke.length).getClientRects();if(Qe.length>1){var it=Dc(ke),pt=0;it.forEach(function($t){fe.push(new WA($t,u.fromDOMRectList(_,YA(D,pt+we,$t.length).getClientRects()))),pt+=$t.length})}else fe.push(new WA(ke,u.fromDOMRectList(_,Qe)))}else{var It=D.splitText(ke.length);fe.push(new WA(ke,Ph(_,D))),D=It}else pa.SUPPORT_RANGE_BOUNDS||(D=D.splitText(ke.length));we+=ke.length}),fe},Ph=function(_,E){var R=E.ownerDocument;if(R){var D=R.createElement("html2canvaswrapper");D.appendChild(E.cloneNode(!0));var te=E.parentNode;if(te){te.replaceChild(D,E);var fe=h(_,D);return D.firstChild&&te.replaceChild(D.firstChild,D),fe}}return u.EMPTY},YA=function(_,E,R){var D=_.ownerDocument;if(!D)throw new Error("Node has no owner document");var te=D.createRange();return te.setStart(_,E),te.setEnd(_,E+R),te},Dc=function(_){if(pa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var E=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(E.segment(_)).map(function(R){return R.segment})}return Lh(_)},Gc=function(_,E){if(pa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var R=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(R.segment(_)).map(function(D){return D.segment})}return kd(_,E)},du=function(_,E){return E.letterSpacing!==0?Dc(_):Gc(_,E)},Md=[32,160,4961,65792,65793,4153,4241],kd=function(_,E){for(var R=oa(_,{lineBreak:E.lineBreak,wordBreak:E.overflowWrap==="break-word"?"break-word":E.wordBreak}),D=[],te,fe=function(){if(te.value){var we=te.value.slice(),ke=m(we),Qe="";ke.forEach(function(it){Md.indexOf(it)===-1?Qe+=v(it):(Qe.length&&D.push(Qe),D.push(v(it)),Qe="")}),Qe.length&&D.push(Qe)}};!(te=R.next()).done;)fe();return D},Mf=(function(){function _(E,R,D){this.text=om(R.data,D.textTransform),this.textBounds=AA(E,this.text,D,R)}return _})(),om=function(_,E){switch(E){case 1:return _.toLowerCase();case 3:return _.replace(kf,Qf);case 2:return _.toUpperCase();default:return _}},kf=/(^|\s|:|-|\(|\))([a-z])/g,Qf=function(_,E,R){return _.length>0?E+R.toUpperCase():_},Gg=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;return te.src=D.currentSrc||D.src,te.intrinsicWidth=D.naturalWidth,te.intrinsicHeight=D.naturalHeight,te.context.cache.addImage(te.src),te}return E})(Br),Rh=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;return te.canvas=D,te.intrinsicWidth=D.width,te.intrinsicHeight=D.height,te}return E})(Br),am=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this,fe=new XMLSerializer,we=h(R,D);return D.setAttribute("width",we.width+"px"),D.setAttribute("height",we.height+"px"),te.svg="data:image/svg+xml,"+encodeURIComponent(fe.serializeToString(D)),te.intrinsicWidth=D.width.baseVal.value,te.intrinsicHeight=D.height.baseVal.value,te.context.cache.addImage(te.svg),te}return E})(Br),zf=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;return te.value=D.value,te}return E})(Br),lm=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;return te.start=D.start,te.reversed=typeof D.reversed=="boolean"&&D.reversed===!0,te}return E})(Br),yx=[{type:15,flags:0,unit:"px",number:3}],cm=[{type:16,flags:0,number:50}],jx=function(_){return _.width>_.height?new u(_.left+(_.width-_.height)/2,_.top,_.height,_.height):_.width<_.height?new u(_.left,_.top+(_.height-_.width)/2,_.width,_.width):_},bx=function(_){var E=_.type===Hf?new Array(_.value.length+1).join(""):_.value;return E.length===0?_.placeholder||"":E},um="checkbox",dA="radio",Hf="password",Vf=707406591,Qd=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;switch(te.type=D.type.toLowerCase(),te.checked=D.checked,te.value=bx(D),(te.type===um||te.type===dA)&&(te.styles.backgroundColor=3739148031,te.styles.borderTopColor=te.styles.borderRightColor=te.styles.borderBottomColor=te.styles.borderLeftColor=2779096575,te.styles.borderTopWidth=te.styles.borderRightWidth=te.styles.borderBottomWidth=te.styles.borderLeftWidth=1,te.styles.borderTopStyle=te.styles.borderRightStyle=te.styles.borderBottomStyle=te.styles.borderLeftStyle=1,te.styles.backgroundClip=[0],te.styles.backgroundOrigin=[0],te.bounds=jx(te.bounds)),te.type){case um:te.styles.borderTopRightRadius=te.styles.borderTopLeftRadius=te.styles.borderBottomRightRadius=te.styles.borderBottomLeftRadius=yx;break;case dA:te.styles.borderTopRightRadius=te.styles.borderTopLeftRadius=te.styles.borderBottomRightRadius=te.styles.borderBottomLeftRadius=cm;break}return te}return E})(Br),$f=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this,fe=D.options[D.selectedIndex||0];return te.value=fe&&fe.text||"",te}return E})(Br),Kg=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;return te.value=D.value,te}return E})(Br),Wg=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;te.src=D.src,te.width=parseInt(D.width,10)||0,te.height=parseInt(D.height,10)||0,te.backgroundColor=te.styles.backgroundColor;try{if(D.contentWindow&&D.contentWindow.document&&D.contentWindow.document.documentElement){te.tree=hu(R,D.contentWindow.document.documentElement);var fe=D.contentWindow.document.documentElement?ba(R,getComputedStyle(D.contentWindow.document.documentElement).backgroundColor):qi.TRANSPARENT,we=D.contentWindow.document.body?ba(R,getComputedStyle(D.contentWindow.document.body).backgroundColor):qi.TRANSPARENT;te.backgroundColor=Zs(fe)?Zs(we)?te.styles.backgroundColor:we:fe}}catch{}return te}return E})(Br),Nh=["OL","UL","MENU"],Gf=function(_,E,R,D){for(var te=E.firstChild,fe=void 0;te;te=fe)if(fe=te.nextSibling,hA(te)&&te.data.trim().length>0)R.textNodes.push(new Mf(_,te,R.styles));else if(oc(te))if(Bx(te)&&te.assignedNodes)te.assignedNodes().forEach(function(ke){return Gf(_,ke,R,D)});else{var we=Pc(_,te);we.styles.isVisible()&&(XA(te,we,D)?we.flags|=4:wx(we.styles)&&(we.flags|=2),Nh.indexOf(te.tagName)!==-1&&(we.flags|=8),R.elements.push(we),te.slot,te.shadowRoot?Gf(_,te.shadowRoot,we,D):!Wf(te)&&!ZA(te)&&!Yf(te)&&Gf(_,te,we,D))}},Pc=function(_,E){return Am(E)?new Gg(_,E):Zg(E)?new Rh(_,E):ZA(E)?new am(_,E):Yg(E)?new zf(_,E):Xg(E)?new lm(_,E):Sx(E)?new Qd(_,E):Yf(E)?new $f(_,E):Wf(E)?new Kg(_,E):Kf(E)?new Wg(_,E):new Br(_,E)},hu=function(_,E){var R=Pc(_,E);return R.flags|=4,Gf(_,E,R,R),R},XA=function(_,E,R){return E.styles.isPositionedWithZIndex()||E.styles.opacity<1||E.styles.isTransformed()||Oh(_)&&R.styles.isTransparent()},wx=function(_){return _.isPositioned()||_.isFloating()},hA=function(_){return _.nodeType===Node.TEXT_NODE},oc=function(_){return _.nodeType===Node.ELEMENT_NODE},ma=function(_){return oc(_)&&typeof _.style<"u"&&!zd(_)},zd=function(_){return typeof _.className=="object"},Yg=function(_){return _.tagName==="LI"},Xg=function(_){return _.tagName==="OL"},Sx=function(_){return _.tagName==="INPUT"},Cx=function(_){return _.tagName==="HTML"},ZA=function(_){return _.tagName==="svg"},Oh=function(_){return _.tagName==="BODY"},Zg=function(_){return _.tagName==="CANVAS"},qg=function(_){return _.tagName==="VIDEO"},Am=function(_){return _.tagName==="IMG"},Kf=function(_){return _.tagName==="IFRAME"},Jg=function(_){return _.tagName==="STYLE"},e0=function(_){return _.tagName==="SCRIPT"},Wf=function(_){return _.tagName==="TEXTAREA"},Yf=function(_){return _.tagName==="SELECT"},Bx=function(_){return _.tagName==="SLOT"},t0=function(_){return _.tagName.indexOf("-")>0},ol=(function(){function _(){this.counters={}}return _.prototype.getCounterValue=function(E){var R=this.counters[E];return R&&R.length?R[R.length-1]:1},_.prototype.getCounterValues=function(E){var R=this.counters[E];return R||[]},_.prototype.pop=function(E){var R=this;E.forEach(function(D){return R.counters[D].pop()})},_.prototype.parse=function(E){var R=this,D=E.counterIncrement,te=E.counterReset,fe=!0;D!==null&&D.forEach(function(ke){var Qe=R.counters[ke.counter];Qe&&ke.increment!==0&&(fe=!1,Qe.length||Qe.push(1),Qe[Math.max(0,Qe.length-1)]+=ke.increment)});var we=[];return fe&&te.forEach(function(ke){var Qe=R.counters[ke.counter];we.push(ke.counter),Qe||(Qe=R.counters[ke.counter]=[]),Qe.push(ke.reset)}),we},_})(),al={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},n0={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ex={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Tx={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hd=function(_,E,R,D,te,fe){return _<E||_>R?Gd(_,te,fe.length>0):D.integers.reduce(function(we,ke,Qe){for(;_>=ke;)_-=ke,we+=D.values[Qe];return we},"")+fe},r0=function(_,E,R,D){var te="";do R||_--,te=D(_)+te,_/=E;while(_*E>=E);return te},To=function(_,E,R,D,te){var fe=R-E+1;return(_<0?"-":"")+(r0(Math.abs(_),fe,D,function(we){return v(Math.floor(we%fe)+E)})+te)},fA=function(_,E,R){R===void 0&&(R=". ");var D=E.length;return r0(Math.abs(_),D,!1,function(te){return E[Math.floor(te%D)]})+R},Vd=1,pA=2,mA=4,$d=8,fu=function(_,E,R,D,te,fe){if(_<-9999||_>9999)return Gd(_,4,te.length>0);var we=Math.abs(_),ke=te;if(we===0)return E[0]+ke;for(var Qe=0;we>0&&Qe<=4;Qe++){var it=we%10;it===0&&ft(fe,Vd)&&ke!==""?ke=E[it]+ke:it>1||it===1&&Qe===0||it===1&&Qe===1&&ft(fe,pA)||it===1&&Qe===1&&ft(fe,mA)&&_>100||it===1&&Qe>1&&ft(fe,$d)?ke=E[it]+(Qe>0?R[Qe-1]:"")+ke:it===1&&Qe>0&&(ke=R[Qe-1]+ke),we=Math.floor(we/10)}return(_<0?D:"")+ke},dm="",s0="",hm="",Uh="",Gd=function(_,E,R){var D=R?". ":"",te=R?"":"",fe=R?", ":"",we=R?" ":"";switch(E){case 0:return""+we;case 1:return""+we;case 2:return""+we;case 5:var ke=To(_,48,57,!0,D);return ke.length<4?"0"+ke:ke;case 4:return fA(_,"",te);case 6:return Hd(_,1,3999,al,3,D).toLowerCase();case 7:return Hd(_,1,3999,al,3,D);case 8:return To(_,945,969,!1,D);case 9:return To(_,97,122,!1,D);case 10:return To(_,65,90,!1,D);case 11:return To(_,1632,1641,!0,D);case 12:case 49:return Hd(_,1,9999,n0,3,D);case 35:return Hd(_,1,9999,n0,3,D).toLowerCase();case 13:return To(_,2534,2543,!0,D);case 14:case 30:return To(_,6112,6121,!0,D);case 15:return fA(_,"",te);case 16:return fA(_,"",te);case 17:case 48:return fu(_,"",dm,"",te,pA|mA|$d);case 47:return fu(_,"",s0,"",te,Vd|pA|mA|$d);case 42:return fu(_,"",dm,"",te,pA|mA|$d);case 41:return fu(_,"",s0,"",te,Vd|pA|mA|$d);case 26:return fu(_,"","",hm,te,0);case 25:return fu(_,"","",hm,te,Vd|pA|mA);case 31:return fu(_,"","",Uh,fe,Vd|pA|mA);case 33:return fu(_,"","",Uh,fe,0);case 32:return fu(_,"","",Uh,fe,Vd|pA|mA);case 18:return To(_,2406,2415,!0,D);case 20:return Hd(_,1,19999,Tx,3,D);case 21:return To(_,2790,2799,!0,D);case 22:return To(_,2662,2671,!0,D);case 22:return Hd(_,1,10999,Ex,3,D);case 23:return fA(_,"");case 24:return fA(_,"");case 27:return To(_,3302,3311,!0,D);case 28:return fA(_,"",te);case 29:return fA(_,"",te);case 34:return To(_,3792,3801,!0,D);case 37:return To(_,6160,6169,!0,D);case 38:return To(_,4160,4169,!0,D);case 39:return To(_,2918,2927,!0,D);case 40:return To(_,1776,1785,!0,D);case 43:return To(_,3046,3055,!0,D);case 44:return To(_,3174,3183,!0,D);case 45:return To(_,3664,3673,!0,D);case 46:return To(_,3872,3881,!0,D);case 3:default:return To(_,48,57,!0,D)}},i0="data-html2canvas-ignore",fm=(function(){function _(E,R,D){if(this.context=E,this.options=D,this.scrolledElements=[],this.referenceElement=R,this.counters=new ol,this.quoteDepth=0,!R.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(R.ownerDocument.documentElement,!1)}return _.prototype.toIFrame=function(E,R){var D=this,te=gA(E,R);if(!te.contentWindow)return Promise.reject("Unable to find iframe window");var fe=E.defaultView.pageXOffset,we=E.defaultView.pageYOffset,ke=te.contentWindow,Qe=ke.document,it=Ix(te).then(function(){return l(D,void 0,void 0,function(){var pt,It;return d(this,function($t){switch($t.label){case 0:return this.scrolledElements.forEach(Oo),ke&&(ke.scrollTo(R.left,R.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ke.scrollY!==R.top||ke.scrollX!==R.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ke.scrollX-R.left,ke.scrollY-R.top,0,0))),pt=this.options.onclone,It=this.clonedReferenceElement,typeof It>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Qe.fonts&&Qe.fonts.ready?[4,Qe.fonts.ready]:[3,2];case 1:$t.sent(),$t.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_1(Qe)]:[3,4];case 3:$t.sent(),$t.label=4;case 4:return typeof pt=="function"?[2,Promise.resolve().then(function(){return pt(Qe,It)}).then(function(){return te})]:[2,te]}})})});return Qe.open(),Qe.write(mm(document.doctype)+"<html></html>"),Xf(this.referenceElement.ownerDocument,fe,we),Qe.replaceChild(Qe.adoptNode(this.documentElement),Qe.documentElement),Qe.close(),it},_.prototype.createElementClone=function(E){if(Dr(E,2))debugger;if(Zg(E))return this.createCanvasClone(E);if(qg(E))return this.createVideoClone(E);if(Jg(E))return this.createStyleClone(E);var R=E.cloneNode(!1);return Am(R)&&(Am(E)&&E.currentSrc&&E.currentSrc!==E.src&&(R.src=E.currentSrc,R.srcset=""),R.loading==="lazy"&&(R.loading="eager")),t0(R)?this.createCustomElementClone(R):R},_.prototype.createCustomElementClone=function(E){var R=document.createElement("html2canvascustomelement");return pm(E.style,R),R},_.prototype.createStyleClone=function(E){try{var R=E.sheet;if(R&&R.cssRules){var D=[].slice.call(R.cssRules,0).reduce(function(fe,we){return we&&typeof we.cssText=="string"?fe+we.cssText:fe},""),te=E.cloneNode(!1);return te.textContent=D,te}}catch(fe){if(this.context.logger.error("Unable to access cssRules property",fe),fe.name!=="SecurityError")throw fe}return E.cloneNode(!1)},_.prototype.createCanvasClone=function(E){var R;if(this.options.inlineImages&&E.ownerDocument){var D=E.ownerDocument.createElement("img");try{return D.src=E.toDataURL(),D}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",E)}}var te=E.cloneNode(!1);try{te.width=E.width,te.height=E.height;var fe=E.getContext("2d"),we=te.getContext("2d");if(we)if(!this.options.allowTaint&&fe)we.putImageData(fe.getImageData(0,0,E.width,E.height),0,0);else{var ke=(R=E.getContext("webgl2"))!==null&&R!==void 0?R:E.getContext("webgl");if(ke){var Qe=ke.getContextAttributes();Qe?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",E)}we.drawImage(E,0,0)}return te}catch{this.context.logger.info("Unable to clone canvas as it is tainted",E)}return te},_.prototype.createVideoClone=function(E){var R=E.ownerDocument.createElement("canvas");R.width=E.offsetWidth,R.height=E.offsetHeight;var D=R.getContext("2d");try{return D&&(D.drawImage(E,0,0,R.width,R.height),this.options.allowTaint||D.getImageData(0,0,R.width,R.height)),R}catch{this.context.logger.info("Unable to clone video as it is tainted",E)}var te=E.ownerDocument.createElement("canvas");return te.width=E.offsetWidth,te.height=E.offsetHeight,te},_.prototype.appendChildNode=function(E,R,D){(!oc(R)||!e0(R)&&!R.hasAttribute(i0)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(R)))&&(!this.options.copyStyles||!oc(R)||!Jg(R))&&E.appendChild(this.cloneNode(R,D))},_.prototype.cloneChildNodes=function(E,R,D){for(var te=this,fe=E.shadowRoot?E.shadowRoot.firstChild:E.firstChild;fe;fe=fe.nextSibling)if(oc(fe)&&Bx(fe)&&typeof fe.assignedNodes=="function"){var we=fe.assignedNodes();we.length&&we.forEach(function(ke){return te.appendChildNode(R,ke,D)})}else this.appendChildNode(R,fe,D)},_.prototype.cloneNode=function(E,R){if(hA(E))return document.createTextNode(E.data);if(!E.ownerDocument)return E.cloneNode(!1);var D=E.ownerDocument.defaultView;if(D&&oc(E)&&(ma(E)||zd(E))){var te=this.createElementClone(E);te.style.transitionProperty="none";var fe=D.getComputedStyle(E),we=D.getComputedStyle(E,":before"),ke=D.getComputedStyle(E,":after");this.referenceElement===E&&ma(te)&&(this.clonedReferenceElement=te),Oh(te)&&_x(te);var Qe=this.counters.parse(new Lr(this.context,fe)),it=this.resolvePseudoContent(E,te,we,Mh.BEFORE);t0(E)&&(R=!0),qg(E)||this.cloneChildNodes(E,te,R),it&&te.insertBefore(it,te.firstChild);var pt=this.resolvePseudoContent(E,te,ke,Mh.AFTER);return pt&&te.appendChild(pt),this.counters.pop(Qe),(fe&&(this.options.copyStyles||zd(E))&&!Kf(E)||R)&&pm(fe,te),(E.scrollTop!==0||E.scrollLeft!==0)&&this.scrolledElements.push([te,E.scrollLeft,E.scrollTop]),(Wf(E)||Yf(E))&&(Wf(te)||Yf(te))&&(te.value=E.value),te}return E.cloneNode(!1)},_.prototype.resolvePseudoContent=function(E,R,D,te){var fe=this;if(D){var we=D.content,ke=R.ownerDocument;if(!(!ke||!we||we==="none"||we==="-moz-alt-content"||D.display==="none")){this.counters.parse(new Lr(this.context,D));var Qe=new qo(this.context,D),it=ke.createElement("html2canvaspseudoelement");pm(D,it),Qe.content.forEach(function(It){if(It.type===0)it.appendChild(ke.createTextNode(It.value));else if(It.type===22){var $t=ke.createElement("img");$t.src=It.value,$t.style.opacity="1",it.appendChild($t)}else if(It.type===18){if(It.name==="attr"){var Bn=It.values.filter(wn);Bn.length&&it.appendChild(ke.createTextNode(E.getAttribute(Bn[0].value)||""))}else if(It.name==="counter"){var yn=It.values.filter(Jr),bn=yn[0],ns=yn[1];if(bn&&wn(bn)){var dr=fe.counters.getCounterValue(bn.value),ar=ns&&wn(ns)?ic.parse(fe.context,ns.value):3;it.appendChild(ke.createTextNode(Gd(dr,ar,!1)))}}else if(It.name==="counters"){var ps=It.values.filter(Jr),bn=ps[0],es=ps[1],ns=ps[2];if(bn&&wn(bn)){var Pr=fe.counters.getCounterValues(bn.value),Un=ns&&wn(ns)?ic.parse(fe.context,ns.value):3,Fs=es&&es.type===0?es.value:"",Ls=Pr.map(function(Nl){return Gd(Nl,Un,!1)}).join(Fs);it.appendChild(ke.createTextNode(Ls))}}}else if(It.type===20)switch(It.value){case"open-quote":it.appendChild(ke.createTextNode(tn(Qe.quotes,fe.quoteDepth++,!0)));break;case"close-quote":it.appendChild(ke.createTextNode(tn(Qe.quotes,--fe.quoteDepth,!1)));break;default:it.appendChild(ke.createTextNode(It.value))}}),it.className=gm+" "+Kd;var pt=te===Mh.BEFORE?" "+gm:" "+Kd;return zd(R)?R.className.baseValue+=pt:R.className+=pt,it}}},_.destroy=function(E){return E.parentNode?(E.parentNode.removeChild(E),!0):!1},_})(),Mh;(function(_){_[_.BEFORE=0]="BEFORE",_[_.AFTER=1]="AFTER"})(Mh||(Mh={}));var gA=function(_,E){var R=_.createElement("iframe");return R.className="html2canvas-container",R.style.visibility="hidden",R.style.position="fixed",R.style.left="-10000px",R.style.top="0px",R.style.border="0",R.width=E.width.toString(),R.height=E.height.toString(),R.scrolling="no",R.setAttribute(i0,"true"),_.body.appendChild(R),R},o0=function(_){return new Promise(function(E){if(_.complete){E();return}if(!_.src){E();return}_.onload=E,_.onerror=E})},_1=function(_){return Promise.all([].slice.call(_.images,0).map(o0))},Ix=function(_){return new Promise(function(E,R){var D=_.contentWindow;if(!D)return R("No window assigned for iframe");var te=D.document;D.onload=_.onload=function(){D.onload=_.onload=null;var fe=setInterval(function(){te.body.childNodes.length>0&&te.readyState==="complete"&&(clearInterval(fe),E(_))},50)}})},vA=["all","d","content"],pm=function(_,E){for(var R=_.length-1;R>=0;R--){var D=_.item(R);vA.indexOf(D)===-1&&E.style.setProperty(D,_.getPropertyValue(D))}return E},mm=function(_){var E="";return _&&(E+="<!DOCTYPE ",_.name&&(E+=_.name),_.internalSubset&&(E+=_.internalSubset),_.publicId&&(E+='"'+_.publicId+'"'),_.systemId&&(E+='"'+_.systemId+'"'),E+=">"),E},Xf=function(_,E,R){_&&_.defaultView&&(E!==_.defaultView.pageXOffset||R!==_.defaultView.pageYOffset)&&_.defaultView.scrollTo(E,R)},Oo=function(_){var E=_[0],R=_[1],D=_[2];E.scrollLeft=R,E.scrollTop=D},F1=":before",L1=":after",gm="___html2canvas___pseudoelement_before",Kd="___html2canvas___pseudoelement_after",xA=`{
    content: "" !important;
    display: none !important;
}`,_x=function(_){Fx(_,"."+gm+F1+xA+`
         .`+Kd+L1+xA)},Fx=function(_,E){var R=_.ownerDocument;if(R){var D=R.createElement("style");D.textContent=E,_.appendChild(D)}},kh=(function(){function _(){}return _.getOrigin=function(E){var R=_._link;return R?(R.href=E,R.href=R.href,R.protocol+R.hostname+R.port):"about:blank"},_.isSameOrigin=function(E){return _.getOrigin(E)===_._origin},_.setContext=function(E){_._link=E.document.createElement("a"),_._origin=_.getOrigin(E.location.href)},_._origin="about:blank",_})(),Ou=(function(){function _(E,R){this.context=E,this._options=R,this._cache={}}return _.prototype.addImage=function(E){var R=Promise.resolve();return this.has(E)||(xm(E)||l0(E))&&(this._cache[E]=this.loadImage(E)).catch(function(){}),R},_.prototype.match=function(E){return this._cache[E]},_.prototype.loadImage=function(E){return l(this,void 0,void 0,function(){var R,D,te,fe,we=this;return d(this,function(ke){switch(ke.label){case 0:return R=kh.isSameOrigin(E),D=!Zf(E)&&this._options.useCORS===!0&&pa.SUPPORT_CORS_IMAGES&&!R,te=!Zf(E)&&!R&&!xm(E)&&typeof this._options.proxy=="string"&&pa.SUPPORT_CORS_XHR&&!D,!R&&this._options.allowTaint===!1&&!Zf(E)&&!xm(E)&&!te&&!D?[2]:(fe=E,te?[4,this.proxy(fe)]:[3,2]);case 1:fe=ke.sent(),ke.label=2;case 2:return this.context.logger.debug("Added image "+E.substring(0,256)),[4,new Promise(function(Qe,it){var pt=new Image;pt.onload=function(){return Qe(pt)},pt.onerror=it,(vm(fe)||D)&&(pt.crossOrigin="anonymous"),pt.src=fe,pt.complete===!0&&setTimeout(function(){return Qe(pt)},500),we._options.imageTimeout>0&&setTimeout(function(){return it("Timed out ("+we._options.imageTimeout+"ms) loading image")},we._options.imageTimeout)})];case 3:return[2,ke.sent()]}})})},_.prototype.has=function(E){return typeof this._cache[E]<"u"},_.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},_.prototype.proxy=function(E){var R=this,D=this._options.proxy;if(!D)throw new Error("No proxy defined");var te=E.substring(0,256);return new Promise(function(fe,we){var ke=pa.SUPPORT_RESPONSE_TYPE?"blob":"text",Qe=new XMLHttpRequest;Qe.onload=function(){if(Qe.status===200)if(ke==="text")fe(Qe.response);else{var It=new FileReader;It.addEventListener("load",function(){return fe(It.result)},!1),It.addEventListener("error",function($t){return we($t)},!1),It.readAsDataURL(Qe.response)}else we("Failed to proxy resource "+te+" with status code "+Qe.status)},Qe.onerror=we;var it=D.indexOf("?")>-1?"&":"?";if(Qe.open("GET",""+D+it+"url="+encodeURIComponent(E)+"&responseType="+ke),ke!=="text"&&Qe instanceof XMLHttpRequest&&(Qe.responseType=ke),R._options.imageTimeout){var pt=R._options.imageTimeout;Qe.timeout=pt,Qe.ontimeout=function(){return we("Timed out ("+pt+"ms) proxying "+te)}}Qe.send()})},_})(),Lx=/^data:image\/svg\+xml/i,a0=/^data:image\/.*;base64,/i,Dx=/^data:image\/.*/i,l0=function(_){return pa.SUPPORT_SVG_DRAWING||!yA(_)},Zf=function(_){return Dx.test(_)},vm=function(_){return a0.test(_)},xm=function(_){return _.substr(0,4)==="blob"},yA=function(_){return _.substr(-3).toLowerCase()==="svg"||Lx.test(_)},vn=(function(){function _(E,R){this.type=0,this.x=E,this.y=R}return _.prototype.add=function(E,R){return new _(this.x+E,this.y+R)},_})(),qA=function(_,E,R){return new vn(_.x+(E.x-_.x)*R,_.y+(E.y-_.y)*R)},qf=(function(){function _(E,R,D,te){this.type=1,this.start=E,this.startControl=R,this.endControl=D,this.end=te}return _.prototype.subdivide=function(E,R){var D=qA(this.start,this.startControl,E),te=qA(this.startControl,this.endControl,E),fe=qA(this.endControl,this.end,E),we=qA(D,te,E),ke=qA(te,fe,E),Qe=qA(we,ke,E);return R?new _(this.start,D,we,Qe):new _(Qe,ke,fe,this.end)},_.prototype.add=function(E,R){return new _(this.start.add(E,R),this.startControl.add(E,R),this.endControl.add(E,R),this.end.add(E,R))},_.prototype.reverse=function(){return new _(this.end,this.endControl,this.startControl,this.start)},_})(),ji=function(_){return _.type===1},D1=(function(){function _(E){var R=E.styles,D=E.bounds,te=ja(R.borderTopLeftRadius,D.width,D.height),fe=te[0],we=te[1],ke=ja(R.borderTopRightRadius,D.width,D.height),Qe=ke[0],it=ke[1],pt=ja(R.borderBottomRightRadius,D.width,D.height),It=pt[0],$t=pt[1],Bn=ja(R.borderBottomLeftRadius,D.width,D.height),yn=Bn[0],bn=Bn[1],ns=[];ns.push((fe+Qe)/D.width),ns.push((yn+It)/D.width),ns.push((we+bn)/D.height),ns.push((it+$t)/D.height);var dr=Math.max.apply(Math,ns);dr>1&&(fe/=dr,we/=dr,Qe/=dr,it/=dr,It/=dr,$t/=dr,yn/=dr,bn/=dr);var ar=D.width-Qe,ps=D.height-$t,es=D.width-It,Pr=D.height-bn,Un=R.borderTopWidth,Fs=R.borderRightWidth,Ls=R.borderBottomWidth,zr=R.borderLeftWidth,ta=Zr(R.paddingTop,E.bounds.width),Nl=Zr(R.paddingRight,E.bounds.width),Oc=Zr(R.paddingBottom,E.bounds.width),Di=Zr(R.paddingLeft,E.bounds.width);this.topLeftBorderDoubleOuterBox=fe>0||we>0?po(D.left+zr/3,D.top+Un/3,fe-zr/3,we-Un/3,ii.TOP_LEFT):new vn(D.left+zr/3,D.top+Un/3),this.topRightBorderDoubleOuterBox=fe>0||we>0?po(D.left+ar,D.top+Un/3,Qe-Fs/3,it-Un/3,ii.TOP_RIGHT):new vn(D.left+D.width-Fs/3,D.top+Un/3),this.bottomRightBorderDoubleOuterBox=It>0||$t>0?po(D.left+es,D.top+ps,It-Fs/3,$t-Ls/3,ii.BOTTOM_RIGHT):new vn(D.left+D.width-Fs/3,D.top+D.height-Ls/3),this.bottomLeftBorderDoubleOuterBox=yn>0||bn>0?po(D.left+zr/3,D.top+Pr,yn-zr/3,bn-Ls/3,ii.BOTTOM_LEFT):new vn(D.left+zr/3,D.top+D.height-Ls/3),this.topLeftBorderDoubleInnerBox=fe>0||we>0?po(D.left+zr*2/3,D.top+Un*2/3,fe-zr*2/3,we-Un*2/3,ii.TOP_LEFT):new vn(D.left+zr*2/3,D.top+Un*2/3),this.topRightBorderDoubleInnerBox=fe>0||we>0?po(D.left+ar,D.top+Un*2/3,Qe-Fs*2/3,it-Un*2/3,ii.TOP_RIGHT):new vn(D.left+D.width-Fs*2/3,D.top+Un*2/3),this.bottomRightBorderDoubleInnerBox=It>0||$t>0?po(D.left+es,D.top+ps,It-Fs*2/3,$t-Ls*2/3,ii.BOTTOM_RIGHT):new vn(D.left+D.width-Fs*2/3,D.top+D.height-Ls*2/3),this.bottomLeftBorderDoubleInnerBox=yn>0||bn>0?po(D.left+zr*2/3,D.top+Pr,yn-zr*2/3,bn-Ls*2/3,ii.BOTTOM_LEFT):new vn(D.left+zr*2/3,D.top+D.height-Ls*2/3),this.topLeftBorderStroke=fe>0||we>0?po(D.left+zr/2,D.top+Un/2,fe-zr/2,we-Un/2,ii.TOP_LEFT):new vn(D.left+zr/2,D.top+Un/2),this.topRightBorderStroke=fe>0||we>0?po(D.left+ar,D.top+Un/2,Qe-Fs/2,it-Un/2,ii.TOP_RIGHT):new vn(D.left+D.width-Fs/2,D.top+Un/2),this.bottomRightBorderStroke=It>0||$t>0?po(D.left+es,D.top+ps,It-Fs/2,$t-Ls/2,ii.BOTTOM_RIGHT):new vn(D.left+D.width-Fs/2,D.top+D.height-Ls/2),this.bottomLeftBorderStroke=yn>0||bn>0?po(D.left+zr/2,D.top+Pr,yn-zr/2,bn-Ls/2,ii.BOTTOM_LEFT):new vn(D.left+zr/2,D.top+D.height-Ls/2),this.topLeftBorderBox=fe>0||we>0?po(D.left,D.top,fe,we,ii.TOP_LEFT):new vn(D.left,D.top),this.topRightBorderBox=Qe>0||it>0?po(D.left+ar,D.top,Qe,it,ii.TOP_RIGHT):new vn(D.left+D.width,D.top),this.bottomRightBorderBox=It>0||$t>0?po(D.left+es,D.top+ps,It,$t,ii.BOTTOM_RIGHT):new vn(D.left+D.width,D.top+D.height),this.bottomLeftBorderBox=yn>0||bn>0?po(D.left,D.top+Pr,yn,bn,ii.BOTTOM_LEFT):new vn(D.left,D.top+D.height),this.topLeftPaddingBox=fe>0||we>0?po(D.left+zr,D.top+Un,Math.max(0,fe-zr),Math.max(0,we-Un),ii.TOP_LEFT):new vn(D.left+zr,D.top+Un),this.topRightPaddingBox=Qe>0||it>0?po(D.left+Math.min(ar,D.width-Fs),D.top+Un,ar>D.width+Fs?0:Math.max(0,Qe-Fs),Math.max(0,it-Un),ii.TOP_RIGHT):new vn(D.left+D.width-Fs,D.top+Un),this.bottomRightPaddingBox=It>0||$t>0?po(D.left+Math.min(es,D.width-zr),D.top+Math.min(ps,D.height-Ls),Math.max(0,It-Fs),Math.max(0,$t-Ls),ii.BOTTOM_RIGHT):new vn(D.left+D.width-Fs,D.top+D.height-Ls),this.bottomLeftPaddingBox=yn>0||bn>0?po(D.left+zr,D.top+Math.min(Pr,D.height-Ls),Math.max(0,yn-zr),Math.max(0,bn-Ls),ii.BOTTOM_LEFT):new vn(D.left+zr,D.top+D.height-Ls),this.topLeftContentBox=fe>0||we>0?po(D.left+zr+Di,D.top+Un+ta,Math.max(0,fe-(zr+Di)),Math.max(0,we-(Un+ta)),ii.TOP_LEFT):new vn(D.left+zr+Di,D.top+Un+ta),this.topRightContentBox=Qe>0||it>0?po(D.left+Math.min(ar,D.width+zr+Di),D.top+Un+ta,ar>D.width+zr+Di?0:Qe-zr+Di,it-(Un+ta),ii.TOP_RIGHT):new vn(D.left+D.width-(Fs+Nl),D.top+Un+ta),this.bottomRightContentBox=It>0||$t>0?po(D.left+Math.min(es,D.width-(zr+Di)),D.top+Math.min(ps,D.height+Un+ta),Math.max(0,It-(Fs+Nl)),$t-(Ls+Oc),ii.BOTTOM_RIGHT):new vn(D.left+D.width-(Fs+Nl),D.top+D.height-(Ls+Oc)),this.bottomLeftContentBox=yn>0||bn>0?po(D.left+zr+Di,D.top+Pr,Math.max(0,yn-(zr+Di)),bn-(Ls+Oc),ii.BOTTOM_LEFT):new vn(D.left+zr+Di,D.top+D.height-(Ls+Oc))}return _})(),ii;(function(_){_[_.TOP_LEFT=0]="TOP_LEFT",_[_.TOP_RIGHT=1]="TOP_RIGHT",_[_.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",_[_.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ii||(ii={}));var po=function(_,E,R,D,te){var fe=4*((Math.sqrt(2)-1)/3),we=R*fe,ke=D*fe,Qe=_+R,it=E+D;switch(te){case ii.TOP_LEFT:return new qf(new vn(_,it),new vn(_,it-ke),new vn(Qe-we,E),new vn(Qe,E));case ii.TOP_RIGHT:return new qf(new vn(_,E),new vn(_+we,E),new vn(Qe,it-ke),new vn(Qe,it));case ii.BOTTOM_RIGHT:return new qf(new vn(Qe,E),new vn(Qe,E+ke),new vn(_+we,it),new vn(_,it));case ii.BOTTOM_LEFT:default:return new qf(new vn(Qe,it),new vn(Qe-we,it),new vn(_,E+ke),new vn(_,E))}},Vi=function(_){return[_.topLeftBorderBox,_.topRightBorderBox,_.bottomRightBorderBox,_.bottomLeftBorderBox]},ac=function(_){return[_.topLeftContentBox,_.topRightContentBox,_.bottomRightContentBox,_.bottomLeftContentBox]},Kc=function(_){return[_.topLeftPaddingBox,_.topRightPaddingBox,_.bottomRightPaddingBox,_.bottomLeftPaddingBox]},Px=(function(){function _(E,R,D){this.offsetX=E,this.offsetY=R,this.matrix=D,this.type=0,this.target=6}return _})(),Jf=(function(){function _(E,R){this.path=E,this.target=R,this.type=1}return _})(),P1=(function(){function _(E){this.opacity=E,this.type=2,this.target=6}return _})(),c0=function(_){return _.type===0},lc=function(_){return _.type===1},pu=function(_){return _.type===2},u0=function(_,E){return _.length===E.length?_.some(function(R,D){return R===E[D]}):!1},Rc=function(_,E,R,D,te){return _.map(function(fe,we){switch(we){case 0:return fe.add(E,R);case 1:return fe.add(E+D,R);case 2:return fe.add(E+D,R+te);case 3:return fe.add(E,R+te)}return fe})},A0=(function(){function _(E){this.element=E,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return _})(),jA=(function(){function _(E,R){if(this.container=E,this.parent=R,this.effects=[],this.curves=new D1(this.container),this.container.styles.opacity<1&&this.effects.push(new P1(this.container.styles.opacity)),this.container.styles.transform!==null){var D=this.container.bounds.left+this.container.styles.transformOrigin[0].number,te=this.container.bounds.top+this.container.styles.transformOrigin[1].number,fe=this.container.styles.transform;this.effects.push(new Px(D,te,fe))}if(this.container.styles.overflowX!==0){var we=Vi(this.curves),ke=Kc(this.curves);u0(we,ke)?this.effects.push(new Jf(we,6)):(this.effects.push(new Jf(we,2)),this.effects.push(new Jf(ke,4)))}}return _.prototype.getEffects=function(E){for(var R=[2,3].indexOf(this.container.styles.position)===-1,D=this.parent,te=this.effects.slice(0);D;){var fe=D.effects.filter(function(Qe){return!lc(Qe)});if(R||D.container.styles.position!==0||!D.parent){if(te.unshift.apply(te,fe),R=[2,3].indexOf(D.container.styles.position)===-1,D.container.styles.overflowX!==0){var we=Vi(D.curves),ke=Kc(D.curves);u0(we,ke)||te.unshift(new Jf(ke,6))}}else te.unshift.apply(te,fe);D=D.parent}return te.filter(function(Qe){return ft(Qe.target,E)})},_})(),bA=function(_,E,R,D){_.container.elements.forEach(function(te){var fe=ft(te.flags,4),we=ft(te.flags,2),ke=new jA(te,_);ft(te.styles.display,2048)&&D.push(ke);var Qe=ft(te.flags,8)?[]:D;if(fe||we){var it=fe||te.styles.isPositioned()?R:E,pt=new A0(ke);if(te.styles.isPositioned()||te.styles.opacity<1||te.styles.isTransformed()){var It=te.styles.zIndex.order;if(It<0){var $t=0;it.negativeZIndex.some(function(yn,bn){return It>yn.element.container.styles.zIndex.order?($t=bn,!1):$t>0}),it.negativeZIndex.splice($t,0,pt)}else if(It>0){var Bn=0;it.positiveZIndex.some(function(yn,bn){return It>=yn.element.container.styles.zIndex.order?(Bn=bn+1,!1):Bn>0}),it.positiveZIndex.splice(Bn,0,pt)}else it.zeroOrAutoZIndexOrTransformedOrOpacity.push(pt)}else te.styles.isFloating()?it.nonPositionedFloats.push(pt):it.nonPositionedInlineLevel.push(pt);bA(ke,pt,fe?pt:R,Qe)}else te.styles.isInlineLevel()?E.inlineLevel.push(ke):E.nonInlineLevel.push(ke),bA(ke,E,R,Qe);ft(te.flags,8)&&wA(te,Qe)})},wA=function(_,E){for(var R=_ instanceof lm?_.start:1,D=_ instanceof lm?_.reversed:!1,te=0;te<E.length;te++){var fe=E[te];fe.container instanceof zf&&typeof fe.container.value=="number"&&fe.container.value!==0&&(R=fe.container.value),fe.listValue=Gd(R,fe.container.styles.listStyleType,!0),R+=D?-1:1}},d0=function(_){var E=new jA(_,null),R=new A0(E),D=[];return bA(E,R,R,D),wA(E.container,D),R},ym=function(_,E){switch(E){case 0:return Rl(_.topLeftBorderBox,_.topLeftPaddingBox,_.topRightBorderBox,_.topRightPaddingBox);case 1:return Rl(_.topRightBorderBox,_.topRightPaddingBox,_.bottomRightBorderBox,_.bottomRightPaddingBox);case 2:return Rl(_.bottomRightBorderBox,_.bottomRightPaddingBox,_.bottomLeftBorderBox,_.bottomLeftPaddingBox);case 3:default:return Rl(_.bottomLeftBorderBox,_.bottomLeftPaddingBox,_.topLeftBorderBox,_.topLeftPaddingBox)}},Uu=function(_,E){switch(E){case 0:return Rl(_.topLeftBorderBox,_.topLeftBorderDoubleOuterBox,_.topRightBorderBox,_.topRightBorderDoubleOuterBox);case 1:return Rl(_.topRightBorderBox,_.topRightBorderDoubleOuterBox,_.bottomRightBorderBox,_.bottomRightBorderDoubleOuterBox);case 2:return Rl(_.bottomRightBorderBox,_.bottomRightBorderDoubleOuterBox,_.bottomLeftBorderBox,_.bottomLeftBorderDoubleOuterBox);case 3:default:return Rl(_.bottomLeftBorderBox,_.bottomLeftBorderDoubleOuterBox,_.topLeftBorderBox,_.topLeftBorderDoubleOuterBox)}},Rx=function(_,E){switch(E){case 0:return Rl(_.topLeftBorderDoubleInnerBox,_.topLeftPaddingBox,_.topRightBorderDoubleInnerBox,_.topRightPaddingBox);case 1:return Rl(_.topRightBorderDoubleInnerBox,_.topRightPaddingBox,_.bottomRightBorderDoubleInnerBox,_.bottomRightPaddingBox);case 2:return Rl(_.bottomRightBorderDoubleInnerBox,_.bottomRightPaddingBox,_.bottomLeftBorderDoubleInnerBox,_.bottomLeftPaddingBox);case 3:default:return Rl(_.bottomLeftBorderDoubleInnerBox,_.bottomLeftPaddingBox,_.topLeftBorderDoubleInnerBox,_.topLeftPaddingBox)}},Qh=function(_,E){switch(E){case 0:return JA(_.topLeftBorderStroke,_.topRightBorderStroke);case 1:return JA(_.topRightBorderStroke,_.bottomRightBorderStroke);case 2:return JA(_.bottomRightBorderStroke,_.bottomLeftBorderStroke);case 3:default:return JA(_.bottomLeftBorderStroke,_.topLeftBorderStroke)}},JA=function(_,E){var R=[];return ji(_)?R.push(_.subdivide(.5,!1)):R.push(_),ji(E)?R.push(E.subdivide(.5,!0)):R.push(E),R},Rl=function(_,E,R,D){var te=[];return ji(_)?te.push(_.subdivide(.5,!1)):te.push(_),ji(R)?te.push(R.subdivide(.5,!0)):te.push(R),ji(D)?te.push(D.subdivide(.5,!0).reverse()):te.push(D),ji(E)?te.push(E.subdivide(.5,!1).reverse()):te.push(E),te},Wd=function(_){var E=_.bounds,R=_.styles;return E.add(R.borderLeftWidth,R.borderTopWidth,-(R.borderRightWidth+R.borderLeftWidth),-(R.borderTopWidth+R.borderBottomWidth))},ep=function(_){var E=_.styles,R=_.bounds,D=Zr(E.paddingLeft,R.width),te=Zr(E.paddingRight,R.width),fe=Zr(E.paddingTop,R.width),we=Zr(E.paddingBottom,R.width);return R.add(D+E.borderLeftWidth,fe+E.borderTopWidth,-(E.borderRightWidth+E.borderLeftWidth+D+te),-(E.borderTopWidth+E.borderBottomWidth+fe+we))},Nx=function(_,E){return _===0?E.bounds:_===2?ep(E):Wd(E)},tp=function(_,E){return _===0?E.bounds:_===2?ep(E):Wd(E)},jm=function(_,E,R){var D=Nx(zh(_.styles.backgroundOrigin,E),_),te=tp(zh(_.styles.backgroundClip,E),_),fe=R1(zh(_.styles.backgroundSize,E),R,D),we=fe[0],ke=fe[1],Qe=ja(zh(_.styles.backgroundPosition,E),D.width-we,D.height-ke),it=bi(zh(_.styles.backgroundRepeat,E),Qe,fe,D,te),pt=Math.round(D.left+Qe[0]),It=Math.round(D.top+Qe[1]);return[it,pt,It,we,ke]},SA=function(_){return wn(_)&&_.value===Sa.AUTO},np=function(_){return typeof _=="number"},R1=function(_,E,R){var D=E[0],te=E[1],fe=E[2],we=_[0],ke=_[1];if(!we)return[0,0];if(Xr(we)&&ke&&Xr(ke))return[Zr(we,R.width),Zr(ke,R.height)];var Qe=np(fe);if(wn(we)&&(we.value===Sa.CONTAIN||we.value===Sa.COVER)){if(np(fe)){var it=R.width/R.height;return it<fe!=(we.value===Sa.COVER)?[R.width,R.width/fe]:[R.height*fe,R.height]}return[R.width,R.height]}var pt=np(D),It=np(te),$t=pt||It;if(SA(we)&&(!ke||SA(ke))){if(pt&&It)return[D,te];if(!Qe&&!$t)return[R.width,R.height];if($t&&Qe){var Bn=pt?D:te*fe,yn=It?te:D/fe;return[Bn,yn]}var bn=pt?D:R.width,ns=It?te:R.height;return[bn,ns]}if(Qe){var dr=0,ar=0;return Xr(we)?dr=Zr(we,R.width):Xr(ke)&&(ar=Zr(ke,R.height)),SA(we)?dr=ar*fe:(!ke||SA(ke))&&(ar=dr/fe),[dr,ar]}var ps=null,es=null;if(Xr(we)?ps=Zr(we,R.width):ke&&Xr(ke)&&(es=Zr(ke,R.height)),ps!==null&&(!ke||SA(ke))&&(es=pt&&It?ps/D*te:R.height),es!==null&&SA(we)&&(ps=pt&&It?es/te*D:R.width),ps!==null&&es!==null)return[ps,es];throw new Error("Unable to calculate background-size for element")},zh=function(_,E){var R=_[E];return typeof R>"u"?_[0]:R},bi=function(_,E,R,D,te){var fe=E[0],we=E[1],ke=R[0],Qe=R[1];switch(_){case 2:return[new vn(Math.round(D.left),Math.round(D.top+we)),new vn(Math.round(D.left+D.width),Math.round(D.top+we)),new vn(Math.round(D.left+D.width),Math.round(Qe+D.top+we)),new vn(Math.round(D.left),Math.round(Qe+D.top+we))];case 3:return[new vn(Math.round(D.left+fe),Math.round(D.top)),new vn(Math.round(D.left+fe+ke),Math.round(D.top)),new vn(Math.round(D.left+fe+ke),Math.round(D.height+D.top)),new vn(Math.round(D.left+fe),Math.round(D.height+D.top))];case 1:return[new vn(Math.round(D.left+fe),Math.round(D.top+we)),new vn(Math.round(D.left+fe+ke),Math.round(D.top+we)),new vn(Math.round(D.left+fe+ke),Math.round(D.top+we+Qe)),new vn(Math.round(D.left+fe),Math.round(D.top+we+Qe))];default:return[new vn(Math.round(te.left),Math.round(te.top)),new vn(Math.round(te.left+te.width),Math.round(te.top)),new vn(Math.round(te.left+te.width),Math.round(te.height+te.top)),new vn(Math.round(te.left),Math.round(te.height+te.top))]}},ro="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bs="Hidden Text",Gs=(function(){function _(E){this._data={},this._document=E}return _.prototype.parseMetrics=function(E,R){var D=this._document.createElement("div"),te=this._document.createElement("img"),fe=this._document.createElement("span"),we=this._document.body;D.style.visibility="hidden",D.style.fontFamily=E,D.style.fontSize=R,D.style.margin="0",D.style.padding="0",D.style.whiteSpace="nowrap",we.appendChild(D),te.src=ro,te.width=1,te.height=1,te.style.margin="0",te.style.padding="0",te.style.verticalAlign="baseline",fe.style.fontFamily=E,fe.style.fontSize=R,fe.style.margin="0",fe.style.padding="0",fe.appendChild(this._document.createTextNode(bs)),D.appendChild(fe),D.appendChild(te);var ke=te.offsetTop-fe.offsetTop+2;D.removeChild(fe),D.appendChild(this._document.createTextNode(bs)),D.style.lineHeight="normal",te.style.verticalAlign="super";var Qe=te.offsetTop-D.offsetTop+2;return we.removeChild(D),{baseline:ke,middle:Qe}},_.prototype.getMetrics=function(E,R){var D=E+" "+R;return typeof this._data[D]>"u"&&(this._data[D]=this.parseMetrics(E,R)),this._data[D]},_})(),di=(function(){function _(E,R){this.context=E,this.options=R}return _})(),Nc=1e4,ed=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;return te._activeEffects=[],te.canvas=D.canvas?D.canvas:document.createElement("canvas"),te.ctx=te.canvas.getContext("2d"),D.canvas||(te.canvas.width=Math.floor(D.width*D.scale),te.canvas.height=Math.floor(D.height*D.scale),te.canvas.style.width=D.width+"px",te.canvas.style.height=D.height+"px"),te.fontMetrics=new Gs(document),te.ctx.scale(te.options.scale,te.options.scale),te.ctx.translate(-D.x,-D.y),te.ctx.textBaseline="bottom",te._activeEffects=[],te.context.logger.debug("Canvas renderer initialized ("+D.width+"x"+D.height+") with scale "+D.scale),te}return E.prototype.applyEffects=function(R){for(var D=this;this._activeEffects.length;)this.popEffect();R.forEach(function(te){return D.applyEffect(te)})},E.prototype.applyEffect=function(R){this.ctx.save(),pu(R)&&(this.ctx.globalAlpha=R.opacity),c0(R)&&(this.ctx.translate(R.offsetX,R.offsetY),this.ctx.transform(R.matrix[0],R.matrix[1],R.matrix[2],R.matrix[3],R.matrix[4],R.matrix[5]),this.ctx.translate(-R.offsetX,-R.offsetY)),lc(R)&&(this.path(R.path),this.ctx.clip()),this._activeEffects.push(R)},E.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},E.prototype.renderStack=function(R){return l(this,void 0,void 0,function(){var D;return d(this,function(te){switch(te.label){case 0:return D=R.element.container.styles,D.isVisible()?[4,this.renderStackContent(R)]:[3,2];case 1:te.sent(),te.label=2;case 2:return[2]}})})},E.prototype.renderNode=function(R){return l(this,void 0,void 0,function(){return d(this,function(D){switch(D.label){case 0:if(ft(R.container.flags,16))debugger;return R.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(R)]:[3,3];case 1:return D.sent(),[4,this.renderNodeContent(R)];case 2:D.sent(),D.label=3;case 3:return[2]}})})},E.prototype.renderTextWithLetterSpacing=function(R,D,te){var fe=this;if(D===0)this.ctx.fillText(R.text,R.bounds.left,R.bounds.top+te);else{var we=Dc(R.text);we.reduce(function(ke,Qe){return fe.ctx.fillText(Qe,ke,R.bounds.top+te),ke+fe.ctx.measureText(Qe).width},R.bounds.left)}},E.prototype.createFontStyle=function(R){var D=R.fontVariant.filter(function(we){return we==="normal"||we==="small-caps"}).join(""),te=td(R.fontFamily).join(", "),fe=_n(R.fontSize)?""+R.fontSize.number+R.fontSize.unit:R.fontSize.number+"px";return[[R.fontStyle,D,R.fontWeight,fe,te].join(" "),te,fe]},E.prototype.renderTextNode=function(R,D){return l(this,void 0,void 0,function(){var te,fe,we,ke,Qe,it,pt,It,$t=this;return d(this,function(Bn){return te=this.createFontStyle(D),fe=te[0],we=te[1],ke=te[2],this.ctx.font=fe,this.ctx.direction=D.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Qe=this.fontMetrics.getMetrics(we,ke),it=Qe.baseline,pt=Qe.middle,It=D.paintOrder,R.textBounds.forEach(function(yn){It.forEach(function(bn){switch(bn){case 0:$t.ctx.fillStyle=ui(D.color),$t.renderTextWithLetterSpacing(yn,D.letterSpacing,it);var ns=D.textShadow;ns.length&&yn.text.trim().length&&(ns.slice(0).reverse().forEach(function(dr){$t.ctx.shadowColor=ui(dr.color),$t.ctx.shadowOffsetX=dr.offsetX.number*$t.options.scale,$t.ctx.shadowOffsetY=dr.offsetY.number*$t.options.scale,$t.ctx.shadowBlur=dr.blur.number,$t.renderTextWithLetterSpacing(yn,D.letterSpacing,it)}),$t.ctx.shadowColor="",$t.ctx.shadowOffsetX=0,$t.ctx.shadowOffsetY=0,$t.ctx.shadowBlur=0),D.textDecorationLine.length&&($t.ctx.fillStyle=ui(D.textDecorationColor||D.color),D.textDecorationLine.forEach(function(dr){switch(dr){case 1:$t.ctx.fillRect(yn.bounds.left,Math.round(yn.bounds.top+it),yn.bounds.width,1);break;case 2:$t.ctx.fillRect(yn.bounds.left,Math.round(yn.bounds.top),yn.bounds.width,1);break;case 3:$t.ctx.fillRect(yn.bounds.left,Math.ceil(yn.bounds.top+pt),yn.bounds.width,1);break}}));break;case 1:D.webkitTextStrokeWidth&&yn.text.trim().length&&($t.ctx.strokeStyle=ui(D.webkitTextStrokeColor),$t.ctx.lineWidth=D.webkitTextStrokeWidth,$t.ctx.lineJoin=window.chrome?"miter":"round",$t.ctx.strokeText(yn.text,yn.bounds.left,yn.bounds.top+it)),$t.ctx.strokeStyle="",$t.ctx.lineWidth=0,$t.ctx.lineJoin="miter";break}})}),[2]})})},E.prototype.renderReplacedElement=function(R,D,te){if(te&&R.intrinsicWidth>0&&R.intrinsicHeight>0){var fe=ep(R),we=Kc(D);this.path(we),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(te,0,0,R.intrinsicWidth,R.intrinsicHeight,fe.left,fe.top,fe.width,fe.height),this.ctx.restore()}},E.prototype.renderNodeContent=function(R){return l(this,void 0,void 0,function(){var D,te,fe,we,ke,Qe,ar,ar,it,pt,It,$t,es,Bn,yn,Pr,bn,ns,dr,ar,ps,es,Pr;return d(this,function(Un){switch(Un.label){case 0:this.applyEffects(R.getEffects(4)),D=R.container,te=R.curves,fe=D.styles,we=0,ke=D.textNodes,Un.label=1;case 1:return we<ke.length?(Qe=ke[we],[4,this.renderTextNode(Qe,fe)]):[3,4];case 2:Un.sent(),Un.label=3;case 3:return we++,[3,1];case 4:if(!(D instanceof Gg))return[3,8];Un.label=5;case 5:return Un.trys.push([5,7,,8]),[4,this.context.cache.match(D.src)];case 6:return ar=Un.sent(),this.renderReplacedElement(D,te,ar),[3,8];case 7:return Un.sent(),this.context.logger.error("Error loading image "+D.src),[3,8];case 8:if(D instanceof Rh&&this.renderReplacedElement(D,te,D.canvas),!(D instanceof am))return[3,12];Un.label=9;case 9:return Un.trys.push([9,11,,12]),[4,this.context.cache.match(D.svg)];case 10:return ar=Un.sent(),this.renderReplacedElement(D,te,ar),[3,12];case 11:return Un.sent(),this.context.logger.error("Error loading svg "+D.svg.substring(0,255)),[3,12];case 12:return D instanceof Wg&&D.tree?(it=new E(this.context,{scale:this.options.scale,backgroundColor:D.backgroundColor,x:0,y:0,width:D.width,height:D.height}),[4,it.render(D.tree)]):[3,14];case 13:pt=Un.sent(),D.width&&D.height&&this.ctx.drawImage(pt,0,0,D.width,D.height,D.bounds.left,D.bounds.top,D.bounds.width,D.bounds.height),Un.label=14;case 14:if(D instanceof Qd&&(It=Math.min(D.bounds.width,D.bounds.height),D.type===um?D.checked&&(this.ctx.save(),this.path([new vn(D.bounds.left+It*.39363,D.bounds.top+It*.79),new vn(D.bounds.left+It*.16,D.bounds.top+It*.5549),new vn(D.bounds.left+It*.27347,D.bounds.top+It*.44071),new vn(D.bounds.left+It*.39694,D.bounds.top+It*.5649),new vn(D.bounds.left+It*.72983,D.bounds.top+It*.23),new vn(D.bounds.left+It*.84,D.bounds.top+It*.34085),new vn(D.bounds.left+It*.39363,D.bounds.top+It*.79)]),this.ctx.fillStyle=ui(Vf),this.ctx.fill(),this.ctx.restore()):D.type===dA&&D.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(D.bounds.left+It/2,D.bounds.top+It/2,It/4,0,Math.PI*2,!0),this.ctx.fillStyle=ui(Vf),this.ctx.fill(),this.ctx.restore())),Hh(D)&&D.value.length){switch($t=this.createFontStyle(fe),es=$t[0],Bn=$t[1],yn=this.fontMetrics.getMetrics(es,Bn).baseline,this.ctx.font=es,this.ctx.fillStyle=ui(fe.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=CA(D.styles.textAlign),Pr=ep(D),bn=0,D.styles.textAlign){case 1:bn+=Pr.width/2;break;case 2:bn+=Pr.width;break}ns=Pr.add(bn,0,0,-Pr.height/2+1),this.ctx.save(),this.path([new vn(Pr.left,Pr.top),new vn(Pr.left+Pr.width,Pr.top),new vn(Pr.left+Pr.width,Pr.top+Pr.height),new vn(Pr.left,Pr.top+Pr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new WA(D.value,ns),fe.letterSpacing,yn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ft(D.styles.display,2048))return[3,20];if(D.styles.listStyleImage===null)return[3,19];if(dr=D.styles.listStyleImage,dr.type!==0)return[3,18];ar=void 0,ps=dr.url,Un.label=15;case 15:return Un.trys.push([15,17,,18]),[4,this.context.cache.match(ps)];case 16:return ar=Un.sent(),this.ctx.drawImage(ar,D.bounds.left-(ar.width+10),D.bounds.top),[3,18];case 17:return Un.sent(),this.context.logger.error("Error loading list-style-image "+ps),[3,18];case 18:return[3,20];case 19:R.listValue&&D.styles.listStyleType!==-1&&(es=this.createFontStyle(fe)[0],this.ctx.font=es,this.ctx.fillStyle=ui(fe.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Pr=new u(D.bounds.left,D.bounds.top+Zr(D.styles.paddingTop,D.bounds.width),D.bounds.width,Vs(fe.lineHeight,fe.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new WA(R.listValue,Pr),fe.letterSpacing,Vs(fe.lineHeight,fe.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Un.label=20;case 20:return[2]}})})},E.prototype.renderStackContent=function(R){return l(this,void 0,void 0,function(){var D,te,dr,fe,we,dr,ke,Qe,dr,it,pt,dr,It,$t,dr,Bn,yn,dr,bn,ns,dr;return d(this,function(ar){switch(ar.label){case 0:if(ft(R.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(R.element)];case 1:ar.sent(),D=0,te=R.negativeZIndex,ar.label=2;case 2:return D<te.length?(dr=te[D],[4,this.renderStack(dr)]):[3,5];case 3:ar.sent(),ar.label=4;case 4:return D++,[3,2];case 5:return[4,this.renderNodeContent(R.element)];case 6:ar.sent(),fe=0,we=R.nonInlineLevel,ar.label=7;case 7:return fe<we.length?(dr=we[fe],[4,this.renderNode(dr)]):[3,10];case 8:ar.sent(),ar.label=9;case 9:return fe++,[3,7];case 10:ke=0,Qe=R.nonPositionedFloats,ar.label=11;case 11:return ke<Qe.length?(dr=Qe[ke],[4,this.renderStack(dr)]):[3,14];case 12:ar.sent(),ar.label=13;case 13:return ke++,[3,11];case 14:it=0,pt=R.nonPositionedInlineLevel,ar.label=15;case 15:return it<pt.length?(dr=pt[it],[4,this.renderStack(dr)]):[3,18];case 16:ar.sent(),ar.label=17;case 17:return it++,[3,15];case 18:It=0,$t=R.inlineLevel,ar.label=19;case 19:return It<$t.length?(dr=$t[It],[4,this.renderNode(dr)]):[3,22];case 20:ar.sent(),ar.label=21;case 21:return It++,[3,19];case 22:Bn=0,yn=R.zeroOrAutoZIndexOrTransformedOrOpacity,ar.label=23;case 23:return Bn<yn.length?(dr=yn[Bn],[4,this.renderStack(dr)]):[3,26];case 24:ar.sent(),ar.label=25;case 25:return Bn++,[3,23];case 26:bn=0,ns=R.positiveZIndex,ar.label=27;case 27:return bn<ns.length?(dr=ns[bn],[4,this.renderStack(dr)]):[3,30];case 28:ar.sent(),ar.label=29;case 29:return bn++,[3,27];case 30:return[2]}})})},E.prototype.mask=function(R){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(R.slice(0).reverse()),this.ctx.closePath()},E.prototype.path=function(R){this.ctx.beginPath(),this.formatPath(R),this.ctx.closePath()},E.prototype.formatPath=function(R){var D=this;R.forEach(function(te,fe){var we=ji(te)?te.start:te;fe===0?D.ctx.moveTo(we.x,we.y):D.ctx.lineTo(we.x,we.y),ji(te)&&D.ctx.bezierCurveTo(te.startControl.x,te.startControl.y,te.endControl.x,te.endControl.y,te.end.x,te.end.y)})},E.prototype.renderRepeat=function(R,D,te,fe){this.path(R),this.ctx.fillStyle=D,this.ctx.translate(te,fe),this.ctx.fill(),this.ctx.translate(-te,-fe)},E.prototype.resizeImage=function(R,D,te){var fe;if(R.width===D&&R.height===te)return R;var we=(fe=this.canvas.ownerDocument)!==null&&fe!==void 0?fe:document,ke=we.createElement("canvas");ke.width=Math.max(1,D),ke.height=Math.max(1,te);var Qe=ke.getContext("2d");return Qe.drawImage(R,0,0,R.width,R.height,0,0,D,te),ke},E.prototype.renderBackgroundImage=function(R){return l(this,void 0,void 0,function(){var D,te,fe,we,ke,Qe;return d(this,function(it){switch(it.label){case 0:D=R.styles.backgroundImage.length-1,te=function(pt){var It,$t,Bn,ta,Wl,$a,Di,Sl,Ls,yn,ta,Wl,$a,Di,Sl,bn,ns,dr,ar,ps,es,Pr,Un,Fs,Ls,zr,ta,Nl,Oc,Di,Sl,BA,Wl,$a,Mu,mu,EA,nd,rd,ku,sd,Yc;return d(this,function(Xd){switch(Xd.label){case 0:if(pt.type!==0)return[3,5];It=void 0,$t=pt.url,Xd.label=1;case 1:return Xd.trys.push([1,3,,4]),[4,fe.context.cache.match($t)];case 2:return It=Xd.sent(),[3,4];case 3:return Xd.sent(),fe.context.logger.error("Error loading background-image "+$t),[3,4];case 4:return It&&(Bn=jm(R,D,[It.width,It.height,It.width/It.height]),ta=Bn[0],Wl=Bn[1],$a=Bn[2],Di=Bn[3],Sl=Bn[4],Ls=fe.ctx.createPattern(fe.resizeImage(It,Di,Sl),"repeat"),fe.renderRepeat(ta,Ls,Wl,$a)),[3,6];case 5:_u(pt)?(yn=jm(R,D,[null,null,null]),ta=yn[0],Wl=yn[1],$a=yn[2],Di=yn[3],Sl=yn[4],bn=eo(pt.angle,Di,Sl),ns=bn[0],dr=bn[1],ar=bn[2],ps=bn[3],es=bn[4],Pr=document.createElement("canvas"),Pr.width=Di,Pr.height=Sl,Un=Pr.getContext("2d"),Fs=Un.createLinearGradient(dr,ps,ar,es),cs(pt.stops,ns).forEach(function($h){return Fs.addColorStop($h.stop,ui($h.color))}),Un.fillStyle=Fs,Un.fillRect(0,0,Di,Sl),Di>0&&Sl>0&&(Ls=fe.ctx.createPattern(Pr,"repeat"),fe.renderRepeat(ta,Ls,Wl,$a))):Fu(pt)&&(zr=jm(R,D,[null,null,null]),ta=zr[0],Nl=zr[1],Oc=zr[2],Di=zr[3],Sl=zr[4],BA=pt.position.length===0?[Fl]:pt.position,Wl=Zr(BA[0],Di),$a=Zr(BA[BA.length-1],Sl),Mu=Ua(pt,Wl,$a,Di,Sl),mu=Mu[0],EA=Mu[1],mu>0&&EA>0&&(nd=fe.ctx.createRadialGradient(Nl+Wl,Oc+$a,0,Nl+Wl,Oc+$a,mu),cs(pt.stops,mu*2).forEach(function($h){return nd.addColorStop($h.stop,ui($h.color))}),fe.path(ta),fe.ctx.fillStyle=nd,mu!==EA?(rd=R.bounds.left+.5*R.bounds.width,ku=R.bounds.top+.5*R.bounds.height,sd=EA/mu,Yc=1/sd,fe.ctx.save(),fe.ctx.translate(rd,ku),fe.ctx.transform(1,0,0,sd,0,0),fe.ctx.translate(-rd,-ku),fe.ctx.fillRect(Nl,Yc*(Oc-ku)+ku,Di,Sl*Yc),fe.ctx.restore()):fe.ctx.fill())),Xd.label=6;case 6:return D--,[2]}})},fe=this,we=0,ke=R.styles.backgroundImage.slice(0).reverse(),it.label=1;case 1:return we<ke.length?(Qe=ke[we],[5,te(Qe)]):[3,4];case 2:it.sent(),it.label=3;case 3:return we++,[3,1];case 4:return[2]}})})},E.prototype.renderSolidBorder=function(R,D,te){return l(this,void 0,void 0,function(){return d(this,function(fe){return this.path(ym(te,D)),this.ctx.fillStyle=ui(R),this.ctx.fill(),[2]})})},E.prototype.renderDoubleBorder=function(R,D,te,fe){return l(this,void 0,void 0,function(){var we,ke;return d(this,function(Qe){switch(Qe.label){case 0:return D<3?[4,this.renderSolidBorder(R,te,fe)]:[3,2];case 1:return Qe.sent(),[2];case 2:return we=Uu(fe,te),this.path(we),this.ctx.fillStyle=ui(R),this.ctx.fill(),ke=Rx(fe,te),this.path(ke),this.ctx.fill(),[2]}})})},E.prototype.renderNodeBackgroundAndBorders=function(R){return l(this,void 0,void 0,function(){var D,te,fe,we,ke,Qe,it,pt,It=this;return d(this,function($t){switch($t.label){case 0:return this.applyEffects(R.getEffects(2)),D=R.container.styles,te=!Zs(D.backgroundColor)||D.backgroundImage.length,fe=[{style:D.borderTopStyle,color:D.borderTopColor,width:D.borderTopWidth},{style:D.borderRightStyle,color:D.borderRightColor,width:D.borderRightWidth},{style:D.borderBottomStyle,color:D.borderBottomColor,width:D.borderBottomWidth},{style:D.borderLeftStyle,color:D.borderLeftColor,width:D.borderLeftWidth}],we=h0(zh(D.backgroundClip,0),R.curves),te||D.boxShadow.length?(this.ctx.save(),this.path(we),this.ctx.clip(),Zs(D.backgroundColor)||(this.ctx.fillStyle=ui(D.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(R.container)]):[3,2];case 1:$t.sent(),this.ctx.restore(),D.boxShadow.slice(0).reverse().forEach(function(Bn){It.ctx.save();var yn=Vi(R.curves),bn=Bn.inset?0:Nc,ns=Rc(yn,-bn+(Bn.inset?1:-1)*Bn.spread.number,(Bn.inset?1:-1)*Bn.spread.number,Bn.spread.number*(Bn.inset?-2:2),Bn.spread.number*(Bn.inset?-2:2));Bn.inset?(It.path(yn),It.ctx.clip(),It.mask(ns)):(It.mask(yn),It.ctx.clip(),It.path(ns)),It.ctx.shadowOffsetX=Bn.offsetX.number+bn,It.ctx.shadowOffsetY=Bn.offsetY.number,It.ctx.shadowColor=ui(Bn.color),It.ctx.shadowBlur=Bn.blur.number,It.ctx.fillStyle=Bn.inset?ui(Bn.color):"rgba(0,0,0,1)",It.ctx.fill(),It.ctx.restore()}),$t.label=2;case 2:ke=0,Qe=0,it=fe,$t.label=3;case 3:return Qe<it.length?(pt=it[Qe],pt.style!==0&&!Zs(pt.color)&&pt.width>0?pt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(pt.color,pt.width,ke,R.curves,2)]:[3,11]):[3,13];case 4:return $t.sent(),[3,11];case 5:return pt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(pt.color,pt.width,ke,R.curves,3)];case 6:return $t.sent(),[3,11];case 7:return pt.style!==4?[3,9]:[4,this.renderDoubleBorder(pt.color,pt.width,ke,R.curves)];case 8:return $t.sent(),[3,11];case 9:return[4,this.renderSolidBorder(pt.color,ke,R.curves)];case 10:$t.sent(),$t.label=11;case 11:ke++,$t.label=12;case 12:return Qe++,[3,3];case 13:return[2]}})})},E.prototype.renderDashedDottedBorder=function(R,D,te,fe,we){return l(this,void 0,void 0,function(){var ke,Qe,it,pt,It,$t,Bn,yn,bn,ns,dr,ar,ps,es,Pr,Un,Pr,Un;return d(this,function(Fs){return this.ctx.save(),ke=Qh(fe,te),Qe=ym(fe,te),we===2&&(this.path(Qe),this.ctx.clip()),ji(Qe[0])?(it=Qe[0].start.x,pt=Qe[0].start.y):(it=Qe[0].x,pt=Qe[0].y),ji(Qe[1])?(It=Qe[1].end.x,$t=Qe[1].end.y):(It=Qe[1].x,$t=Qe[1].y),te===0||te===2?Bn=Math.abs(it-It):Bn=Math.abs(pt-$t),this.ctx.beginPath(),we===3?this.formatPath(ke):this.formatPath(Qe.slice(0,2)),yn=D<3?D*3:D*2,bn=D<3?D*2:D,we===3&&(yn=D,bn=D),ns=!0,Bn<=yn*2?ns=!1:Bn<=yn*2+bn?(dr=Bn/(2*yn+bn),yn*=dr,bn*=dr):(ar=Math.floor((Bn+bn)/(yn+bn)),ps=(Bn-ar*yn)/(ar-1),es=(Bn-(ar+1)*yn)/ar,bn=es<=0||Math.abs(bn-ps)<Math.abs(bn-es)?ps:es),ns&&(we===3?this.ctx.setLineDash([0,yn+bn]):this.ctx.setLineDash([yn,bn])),we===3?(this.ctx.lineCap="round",this.ctx.lineWidth=D):this.ctx.lineWidth=D*2+1.1,this.ctx.strokeStyle=ui(R),this.ctx.stroke(),this.ctx.setLineDash([]),we===2&&(ji(Qe[0])&&(Pr=Qe[3],Un=Qe[0],this.ctx.beginPath(),this.formatPath([new vn(Pr.end.x,Pr.end.y),new vn(Un.start.x,Un.start.y)]),this.ctx.stroke()),ji(Qe[1])&&(Pr=Qe[1],Un=Qe[2],this.ctx.beginPath(),this.formatPath([new vn(Pr.end.x,Pr.end.y),new vn(Un.start.x,Un.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},E.prototype.render=function(R){return l(this,void 0,void 0,function(){var D;return d(this,function(te){switch(te.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ui(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),D=d0(R),[4,this.renderStack(D)];case 1:return te.sent(),this.applyEffects([]),[2,this.canvas]}})})},E})(di),Hh=function(_){return _ instanceof Kg||_ instanceof $f?!0:_ instanceof Qd&&_.type!==dA&&_.type!==um},h0=function(_,E){switch(_){case 0:return Vi(E);case 2:return ac(E);case 1:default:return Kc(E)}},CA=function(_){switch(_){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ea=["-apple-system","system-ui"],td=function(_){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?_.filter(function(E){return ea.indexOf(E)===-1}):_},Yd=(function(_){s(E,_);function E(R,D){var te=_.call(this,R,D)||this;return te.canvas=D.canvas?D.canvas:document.createElement("canvas"),te.ctx=te.canvas.getContext("2d"),te.options=D,te.canvas.width=Math.floor(D.width*D.scale),te.canvas.height=Math.floor(D.height*D.scale),te.canvas.style.width=D.width+"px",te.canvas.style.height=D.height+"px",te.ctx.scale(te.options.scale,te.options.scale),te.ctx.translate(-D.x,-D.y),te.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+D.width+"x"+D.height+" at "+D.x+","+D.y+") with scale "+D.scale),te}return E.prototype.render=function(R){return l(this,void 0,void 0,function(){var D,te;return d(this,function(fe){switch(fe.label){case 0:return D=Ud(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,R),[4,f0(D)];case 1:return te=fe.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ui(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(te,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},E})(di),f0=function(_){return new Promise(function(E,R){var D=new Image;D.onload=function(){E(D)},D.onerror=R,D.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(_))})},Wc=(function(){function _(E){var R=E.id,D=E.enabled;this.id=R,this.enabled=D,this.start=Date.now()}return _.prototype.debug=function(){for(var E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,f([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},_.prototype.getTime=function(){return Date.now()-this.start},_.prototype.info=function(){for(var E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,f([this.id,this.getTime()+"ms"],E))},_.prototype.warn=function(){for(var E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,f([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},_.prototype.error=function(){for(var E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,f([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},_.instances={},_})(),Vh=(function(){function _(E,R){var D;this.windowBounds=R,this.instanceName="#"+_.instanceCount++,this.logger=new Wc({id:this.instanceName,enabled:E.logging}),this.cache=(D=E.cache)!==null&&D!==void 0?D:new Ou(this,E)}return _.instanceCount=1,_})(),rp=function(_,E){return E===void 0&&(E={}),cc(_,E)};typeof window<"u"&&kh.setContext(window);var cc=function(_,E){return l(void 0,void 0,void 0,function(){var R,D,te,fe,we,ke,Qe,it,pt,It,$t,Bn,yn,bn,ns,dr,ar,ps,es,Pr,Fs,Un,Fs,Ls,zr,ta,Nl,Oc,Di,Sl,BA,Wl,$a,Mu,mu,EA,nd,rd,ku,sd;return d(this,function(Yc){switch(Yc.label){case 0:if(!_||typeof _!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(R=_.ownerDocument,!R)throw new Error("Element is not attached to a Document");if(D=R.defaultView,!D)throw new Error("Document is not attached to a Window");return te={allowTaint:(Ls=E.allowTaint)!==null&&Ls!==void 0?Ls:!1,imageTimeout:(zr=E.imageTimeout)!==null&&zr!==void 0?zr:15e3,proxy:E.proxy,useCORS:(ta=E.useCORS)!==null&&ta!==void 0?ta:!1},fe=i({logging:(Nl=E.logging)!==null&&Nl!==void 0?Nl:!0,cache:E.cache},te),we={windowWidth:(Oc=E.windowWidth)!==null&&Oc!==void 0?Oc:D.innerWidth,windowHeight:(Di=E.windowHeight)!==null&&Di!==void 0?Di:D.innerHeight,scrollX:(Sl=E.scrollX)!==null&&Sl!==void 0?Sl:D.pageXOffset,scrollY:(BA=E.scrollY)!==null&&BA!==void 0?BA:D.pageYOffset},ke=new u(we.scrollX,we.scrollY,we.windowWidth,we.windowHeight),Qe=new Vh(fe,ke),it=(Wl=E.foreignObjectRendering)!==null&&Wl!==void 0?Wl:!1,pt={allowTaint:($a=E.allowTaint)!==null&&$a!==void 0?$a:!1,onclone:E.onclone,ignoreElements:E.ignoreElements,inlineImages:it,copyStyles:it},Qe.logger.debug("Starting document clone with size "+ke.width+"x"+ke.height+" scrolled to "+-ke.left+","+-ke.top),It=new fm(Qe,_,pt),$t=It.clonedReferenceElement,$t?[4,It.toIFrame(R,ke)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Bn=Yc.sent(),yn=Oh($t)||Cx($t)?a($t.ownerDocument):h(Qe,$t),bn=yn.width,ns=yn.height,dr=yn.left,ar=yn.top,ps=p0(Qe,$t,E.backgroundColor),es={canvas:E.canvas,backgroundColor:ps,scale:(mu=(Mu=E.scale)!==null&&Mu!==void 0?Mu:D.devicePixelRatio)!==null&&mu!==void 0?mu:1,x:((EA=E.x)!==null&&EA!==void 0?EA:0)+dr,y:((nd=E.y)!==null&&nd!==void 0?nd:0)+ar,width:(rd=E.width)!==null&&rd!==void 0?rd:Math.ceil(bn),height:(ku=E.height)!==null&&ku!==void 0?ku:Math.ceil(ns)},it?(Qe.logger.debug("Document cloned, using foreign object rendering"),Fs=new Yd(Qe,es),[4,Fs.render($t)]):[3,3];case 2:return Pr=Yc.sent(),[3,5];case 3:return Qe.logger.debug("Document cloned, element located at "+dr+","+ar+" with size "+bn+"x"+ns+" using computed rendering"),Qe.logger.debug("Starting DOM parsing"),Un=hu(Qe,$t),ps===Un.styles.backgroundColor&&(Un.styles.backgroundColor=qi.TRANSPARENT),Qe.logger.debug("Starting renderer for element at "+es.x+","+es.y+" with size "+es.width+"x"+es.height),Fs=new ed(Qe,es),[4,Fs.render(Un)];case 4:Pr=Yc.sent(),Yc.label=5;case 5:return(!((sd=E.removeContainer)!==null&&sd!==void 0)||sd)&&(fm.destroy(Bn)||Qe.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Qe.logger.debug("Finished rendering"),[2,Pr]}})})},p0=function(_,E,R){var D=E.ownerDocument,te=D.documentElement?ba(_,getComputedStyle(D.documentElement).backgroundColor):qi.TRANSPARENT,fe=D.body?ba(_,getComputedStyle(D.body).backgroundColor):qi.TRANSPARENT,we=typeof R=="string"?ba(_,R):R===null?qi.TRANSPARENT:4294967295;return E===D.documentElement?Zs(te)?Zs(fe)?we:fe:te:we};return rp}))})(Aj)),Aj.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var a3;function vae(){return a3||(a3=1,(function(t,n){(function(s,i){t.exports=i(pae,gae())})(self,function(r,s){return(function(){var i={"./node_modules/core-js/internals/a-callable.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-callable.js"),v=a("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(x){if(m(x))return x;throw new g(v(x)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-constructor.js"),v=a("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(x){if(m(x))return x;throw new g(v(x)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-possible-prototype.js"),v=String,g=TypeError;u.exports=function(x){if(m(x))return x;throw new g("Can't set "+v(x)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/set-helpers.js").has;u.exports=function(v){return m(v),v}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/well-known-symbol.js"),v=a("./node_modules/core-js/internals/object-create.js"),g=a("./node_modules/core-js/internals/object-define-property.js").f,x=m("unscopables"),w=Array.prototype;w[x]===void 0&&g(w,x,{configurable:!0,value:v(null)}),u.exports=function(b){w[x][b]=!0}}),"./node_modules/core-js/internals/an-instance.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/object-is-prototype-of.js"),v=TypeError;u.exports=function(g,x){if(m(x,g))return g;throw new v("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-object.js"),v=String,g=TypeError;u.exports=function(x){if(m(x))return x;throw new g(v(x)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js");u.exports=m(function(){if(typeof ArrayBuffer=="function"){var v=new ArrayBuffer(8);Object.isExtensible(v)&&Object.defineProperty(v,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/array-iteration.js").forEach,v=a("./node_modules/core-js/internals/array-method-is-strict.js"),g=v("forEach");u.exports=g?[].forEach:function(w){return m(this,w,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-bind-context.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-object.js"),x=a("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),w=a("./node_modules/core-js/internals/is-array-iterator-method.js"),b=a("./node_modules/core-js/internals/is-constructor.js"),S=a("./node_modules/core-js/internals/length-of-array-like.js"),C=a("./node_modules/core-js/internals/create-property.js"),B=a("./node_modules/core-js/internals/get-iterator.js"),F=a("./node_modules/core-js/internals/get-iterator-method.js"),N=Array;u.exports=function(z){var k=g(z),K=b(this),se=arguments.length,V=se>1?arguments[1]:void 0,q=V!==void 0;q&&(V=m(V,se>2?arguments[2]:void 0));var le=F(k),ae=0,ie,J,G,W,pe,oe;if(le&&!(this===N&&w(le)))for(J=K?new this:[],W=B(k,le),pe=W.next;!(G=v(pe,W)).done;ae++)oe=q?x(W,V,[G.value,ae],!0):G.value,C(J,ae,oe);else for(ie=S(k),J=K?new this(ie):N(ie);ie>ae;ae++)oe=q?V(k[ae],ae):k[ae],C(J,ae,oe);return J.length=ae,J}}),"./node_modules/core-js/internals/array-includes.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-indexed-object.js"),v=a("./node_modules/core-js/internals/to-absolute-index.js"),g=a("./node_modules/core-js/internals/length-of-array-like.js"),x=function(w){return function(b,S,C){var B=m(b),F=g(B);if(F===0)return!w&&-1;var N=v(C,F),Q;if(w&&S!==S){for(;F>N;)if(Q=B[N++],Q!==Q)return!0}else for(;F>N;N++)if((w||N in B)&&B[N]===S)return w||N||0;return!w&&-1}};u.exports={includes:x(!0),indexOf:x(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-bind-context.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js"),g=a("./node_modules/core-js/internals/indexed-object.js"),x=a("./node_modules/core-js/internals/to-object.js"),w=a("./node_modules/core-js/internals/length-of-array-like.js"),b=a("./node_modules/core-js/internals/array-species-create.js"),S=v([].push),C=function(B){var F=B===1,N=B===2,Q=B===3,z=B===4,k=B===6,K=B===7,se=B===5||k;return function(V,q,le,ae){for(var ie=x(V),J=g(ie),G=w(J),W=m(q,le),pe=0,oe=ae||b,he=F?oe(V,G):N||K?oe(V,0):void 0,$,M;G>pe;pe++)if((se||pe in J)&&($=J[pe],M=W($,pe,ie),B))if(F)he[pe]=M;else if(M)switch(B){case 3:return!0;case 5:return $;case 6:return pe;case 2:S(he,$)}else switch(B){case 4:return!1;case 7:S(he,$)}return k?-1:Q||z?z:he}};u.exports={forEach:C(0),map:C(1),filter:C(2),some:C(3),every:C(4),find:C(5),findIndex:C(6),filterReject:C(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js"),v=a("./node_modules/core-js/internals/well-known-symbol.js"),g=a("./node_modules/core-js/internals/environment-v8-version.js"),x=v("species");u.exports=function(w){return g>=51||!m(function(){var b=[],S=b.constructor={};return S[x]=function(){return{foo:1}},b[w](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js");u.exports=function(v,g){var x=[][v];return!!x&&m(function(){x.call(null,g||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-slice.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-array.js"),v=a("./node_modules/core-js/internals/is-constructor.js"),g=a("./node_modules/core-js/internals/is-object.js"),x=a("./node_modules/core-js/internals/well-known-symbol.js"),w=x("species"),b=Array;u.exports=function(S){var C;return m(S)&&(C=S.constructor,v(C)&&(C===b||m(C.prototype))?C=void 0:g(C)&&(C=C[w],C===null&&(C=void 0))),C===void 0?b:C}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(v,g){return new(m(v))(g===0?0:g)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/an-object.js"),v=a("./node_modules/core-js/internals/iterator-close.js");u.exports=function(g,x,w,b){try{return b?x(m(w)[0],w[1]):x(w)}catch(S){v(g,"throw",S)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/well-known-symbol.js"),v=m("iterator"),g=!1;try{var x=0,w={next:function(){return{done:!!x++}},return:function(){g=!0}};w[v]=function(){return this},Array.from(w,function(){throw 2})}catch{}u.exports=function(b,S){try{if(!S&&!g)return!1}catch{return!1}var C=!1;try{var B={};B[v]=function(){return{next:function(){return{done:C=!0}}}},b(B)}catch{}return C}}),"./node_modules/core-js/internals/classof-raw.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=m({}.toString),g=m("".slice);u.exports=function(x){return g(v(x),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-string-tag-support.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=a("./node_modules/core-js/internals/classof-raw.js"),x=a("./node_modules/core-js/internals/well-known-symbol.js"),w=x("toStringTag"),b=Object,S=g((function(){return arguments})())==="Arguments",C=function(B,F){try{return B[F]}catch{}};u.exports=m?g:function(B){var F,N,Q;return B===void 0?"Undefined":B===null?"Null":typeof(N=C(F=b(B),w))=="string"?N:S?g(F):(Q=g(F))==="Object"&&v(F.callee)?"Arguments":Q}}),"./node_modules/core-js/internals/collection-strong.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/object-create.js"),v=a("./node_modules/core-js/internals/define-built-in-accessor.js"),g=a("./node_modules/core-js/internals/define-built-ins.js"),x=a("./node_modules/core-js/internals/function-bind-context.js"),w=a("./node_modules/core-js/internals/an-instance.js"),b=a("./node_modules/core-js/internals/is-null-or-undefined.js"),S=a("./node_modules/core-js/internals/iterate.js"),C=a("./node_modules/core-js/internals/iterator-define.js"),B=a("./node_modules/core-js/internals/create-iter-result-object.js"),F=a("./node_modules/core-js/internals/set-species.js"),N=a("./node_modules/core-js/internals/descriptors.js"),Q=a("./node_modules/core-js/internals/internal-metadata.js").fastKey,z=a("./node_modules/core-js/internals/internal-state.js"),k=z.set,K=z.getterFor;u.exports={getConstructor:function(se,V,q,le){var ae=se(function(pe,oe){w(pe,ie),k(pe,{type:V,index:m(null),first:null,last:null,size:0}),N||(pe.size=0),b(oe)||S(oe,pe[le],{that:pe,AS_ENTRIES:q})}),ie=ae.prototype,J=K(V),G=function(pe,oe,he){var $=J(pe),M=W(pe,oe),ee,re;return M?M.value=he:($.last=M={index:re=Q(oe,!0),key:oe,value:he,previous:ee=$.last,next:null,removed:!1},$.first||($.first=M),ee&&(ee.next=M),N?$.size++:pe.size++,re!=="F"&&($.index[re]=M)),pe},W=function(pe,oe){var he=J(pe),$=Q(oe),M;if($!=="F")return he.index[$];for(M=he.first;M;M=M.next)if(M.key===oe)return M};return g(ie,{clear:function(){for(var oe=this,he=J(oe),$=he.first;$;)$.removed=!0,$.previous&&($.previous=$.previous.next=null),$=$.next;he.first=he.last=null,he.index=m(null),N?he.size=0:oe.size=0},delete:function(pe){var oe=this,he=J(oe),$=W(oe,pe);if($){var M=$.next,ee=$.previous;delete he.index[$.index],$.removed=!0,ee&&(ee.next=M),M&&(M.previous=ee),he.first===$&&(he.first=M),he.last===$&&(he.last=ee),N?he.size--:oe.size--}return!!$},forEach:function(oe){for(var he=J(this),$=x(oe,arguments.length>1?arguments[1]:void 0),M;M=M?M.next:he.first;)for($(M.value,M.key,this);M&&M.removed;)M=M.previous},has:function(oe){return!!W(this,oe)}}),g(ie,q?{get:function(oe){var he=W(this,oe);return he&&he.value},set:function(oe,he){return G(this,oe===0?0:oe,he)}}:{add:function(oe){return G(this,oe=oe===0?0:oe,oe)}}),N&&v(ie,"size",{configurable:!0,get:function(){return J(this).size}}),ae},setStrong:function(se,V,q){var le=V+" Iterator",ae=K(V),ie=K(le);C(se,V,function(J,G){k(this,{type:le,target:J,state:ae(J),kind:G,last:null})},function(){for(var J=ie(this),G=J.kind,W=J.last;W&&W.removed;)W=W.previous;return!J.target||!(J.last=W=W?W.next:J.state.first)?(J.target=null,B(void 0,!0)):B(G==="keys"?W.key:G==="values"?W.value:[W.key,W.value],!1)},q?"entries":"values",!q,!0),F(V)}}}),"./node_modules/core-js/internals/collection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=a("./node_modules/core-js/internals/function-uncurry-this.js"),x=a("./node_modules/core-js/internals/is-forced.js"),w=a("./node_modules/core-js/internals/define-built-in.js"),b=a("./node_modules/core-js/internals/internal-metadata.js"),S=a("./node_modules/core-js/internals/iterate.js"),C=a("./node_modules/core-js/internals/an-instance.js"),B=a("./node_modules/core-js/internals/is-callable.js"),F=a("./node_modules/core-js/internals/is-null-or-undefined.js"),N=a("./node_modules/core-js/internals/is-object.js"),Q=a("./node_modules/core-js/internals/fails.js"),z=a("./node_modules/core-js/internals/check-correctness-of-iteration.js"),k=a("./node_modules/core-js/internals/set-to-string-tag.js"),K=a("./node_modules/core-js/internals/inherit-if-required.js");u.exports=function(se,V,q){var le=se.indexOf("Map")!==-1,ae=se.indexOf("Weak")!==-1,ie=le?"set":"add",J=v[se],G=J&&J.prototype,W=J,pe={},oe=function(De){var Ue=g(G[De]);w(G,De,De==="add"?function(Ke){return Ue(this,Ke===0?0:Ke),this}:De==="delete"?function(Ne){return ae&&!N(Ne)?!1:Ue(this,Ne===0?0:Ne)}:De==="get"?function(Ke){return ae&&!N(Ke)?void 0:Ue(this,Ke===0?0:Ke)}:De==="has"?function(Ke){return ae&&!N(Ke)?!1:Ue(this,Ke===0?0:Ke)}:function(Ke,rt){return Ue(this,Ke===0?0:Ke,rt),this})},he=x(se,!B(J)||!(ae||G.forEach&&!Q(function(){new J().entries().next()})));if(he)W=q.getConstructor(V,se,le,ie),b.enable();else if(x(se,!0)){var $=new W,M=$[ie](ae?{}:-0,1)!==$,ee=Q(function(){$.has(1)}),re=z(function(De){new J(De)}),me=!ae&&Q(function(){for(var De=new J,Ue=5;Ue--;)De[ie](Ue,Ue);return!De.has(-0)});re||(W=V(function(De,Ue){C(De,G);var Ne=K(new J,De,W);return F(Ue)||S(Ue,Ne[ie],{that:Ne,AS_ENTRIES:le}),Ne}),W.prototype=G,G.constructor=W),(ee||me)&&(oe("delete"),oe("has"),le&&oe("get")),(me||M)&&oe(ie),ae&&G.clear&&delete G.clear}return pe[se]=W,m({global:!0,constructor:!0,forced:W!==J},pe),k(W,se),ae||q.setStrong(W,se,le),W}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/has-own-property.js"),v=a("./node_modules/core-js/internals/own-keys.js"),g=a("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),x=a("./node_modules/core-js/internals/object-define-property.js");u.exports=function(w,b,S){for(var C=v(b),B=x.f,F=g.f,N=0;N<C.length;N++){var Q=C[N];!m(w,Q)&&!(S&&m(S,Q))&&B(w,Q,F(b,Q))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/require-object-coercible.js"),g=a("./node_modules/core-js/internals/to-string.js"),x=/"/g,w=m("".replace);u.exports=function(b,S,C,B){var F=g(v(b)),N="<"+S;return C!==""&&(N+=" "+C+'="'+w(g(B),x,"&quot;")+'"'),N+">"+F+"</"+S+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(u){u.exports=function(h,a){return{value:h,done:a}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/object-define-property.js"),g=a("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(x,w,b){return v.f(x,w,g(1,b))}:function(x,w,b){return x[w]=b,x}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(h,a){return{enumerable:!(h&1),configurable:!(h&2),writable:!(h&4),value:a}}}),"./node_modules/core-js/internals/create-property.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/object-define-property.js"),g=a("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(x,w,b){m?v.f(x,w,g(0,b)):x[w]=b}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/make-built-in.js"),v=a("./node_modules/core-js/internals/object-define-property.js");u.exports=function(g,x,w){return w.get&&m(w.get,x,{getter:!0}),w.set&&m(w.set,x,{setter:!0}),v.f(g,x,w)}}),"./node_modules/core-js/internals/define-built-in.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-callable.js"),v=a("./node_modules/core-js/internals/object-define-property.js"),g=a("./node_modules/core-js/internals/make-built-in.js"),x=a("./node_modules/core-js/internals/define-global-property.js");u.exports=function(w,b,S,C){C||(C={});var B=C.enumerable,F=C.name!==void 0?C.name:b;if(m(S)&&g(S,F,C),C.global)B?w[b]=S:x(b,S);else{try{C.unsafe?w[b]&&(B=!0):delete w[b]}catch{}B?w[b]=S:v.f(w,b,{value:S,enumerable:!1,configurable:!C.nonConfigurable,writable:!C.nonWritable})}return w}}),"./node_modules/core-js/internals/define-built-ins.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/define-built-in.js");u.exports=function(v,g,x){for(var w in g)m(v,w,g[w],x);return v}}),"./node_modules/core-js/internals/define-global-property.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=Object.defineProperty;u.exports=function(g,x){try{v(m,g,{value:x,configurable:!0,writable:!0})}catch{m[g]=x}return x}}),"./node_modules/core-js/internals/descriptors.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/is-object.js"),g=m.document,x=v(g)&&v(g.createElement);u.exports=function(w){return x?g.createElement(w):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(u){var h=TypeError,a=9007199254740991;u.exports=function(m){if(m>a)throw h("Maximum allowed index exceeded");return m}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/document-create-element.js"),v=m("span").classList,g=v&&v.constructor&&v.constructor.prototype;u.exports=g===Object.prototype?void 0:g}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)}),"./node_modules/core-js/internals/environment-is-node.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/environment.js");u.exports=m==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/web0s(?!.*chrome)/i.test(m)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=m.navigator,g=v&&v.userAgent;u.exports=g?String(g):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/environment-user-agent.js"),g=m.process,x=m.Deno,w=g&&g.versions||x&&x.version,b=w&&w.v8,S,C;b&&(S=b.split("."),C=S[0]>0&&S[0]<4?1:+(S[0]+S[1])),!C&&v&&(S=v.match(/Edge\/(\d+)/),(!S||S[1]>=74)&&(S=v.match(/Chrome\/(\d+)/),S&&(C=+S[1]))),u.exports=C}),"./node_modules/core-js/internals/environment.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/environment-user-agent.js"),g=a("./node_modules/core-js/internals/classof-raw.js"),x=function(w){return v.slice(0,w.length)===w};u.exports=(function(){return x("Bun/")?"BUN":x("Cloudflare-Workers")?"CLOUDFLARE":x("Deno/")?"DENO":x("Node.js/")?"NODE":m.Bun&&typeof Bun.version=="string"?"BUN":m.Deno&&typeof Deno.version=="object"?"DENO":g(m.process)==="process"?"NODE":m.window&&m.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=a("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=a("./node_modules/core-js/internals/define-built-in.js"),w=a("./node_modules/core-js/internals/define-global-property.js"),b=a("./node_modules/core-js/internals/copy-constructor-properties.js"),S=a("./node_modules/core-js/internals/is-forced.js");u.exports=function(C,B){var F=C.target,N=C.global,Q=C.stat,z,k,K,se,V,q;if(N?k=m:Q?k=m[F]||w(F,{}):k=m[F]&&m[F].prototype,k)for(K in B){if(V=B[K],C.dontCallGetSet?(q=v(k,K),se=q&&q.value):se=k[K],z=S(N?K:F+(Q?".":"#")+K,C.forced),!z&&se!==void 0){if(typeof V==typeof se)continue;b(V,se)}(C.sham||se&&se.sham)&&g(V,"sham",!0),x(k,K,V,C)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(h){try{return!!h()}catch{return!0}}}),"./node_modules/core-js/internals/freezing.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.apply,x=v.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?x.bind(g):function(){return x.apply(g,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this-clause.js"),v=a("./node_modules/core-js/internals/a-callable.js"),g=a("./node_modules/core-js/internals/function-bind-native.js"),x=m(m.bind);u.exports=function(w,b){return v(w),b===void 0?w:g?x(w,b):function(){return w.apply(b,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){var v=(function(){}).bind();return typeof v!="function"||v.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype.call;u.exports=m?v.bind(v):function(){return v.apply(v,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/has-own-property.js"),g=Function.prototype,x=m&&Object.getOwnPropertyDescriptor,w=v(g,"name"),b=w&&(function(){}).name==="something",S=w&&(!m||m&&x(g,"name").configurable);u.exports={EXISTS:w,PROPER:b,CONFIGURABLE:S}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/a-callable.js");u.exports=function(g,x,w){try{return m(v(Object.getOwnPropertyDescriptor(g,x)[w]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/classof-raw.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=function(g){if(m(g)==="Function")return v(g)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.call,x=m&&v.bind.bind(g,g);u.exports=m?x:function(w){return function(){return g.apply(w,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=function(x){return v(x)?x:void 0};u.exports=function(x,w){return arguments.length<2?g(m[x]):m[x]&&m[x][w]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(u){u.exports=function(h){return{iterator:h,next:h.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/classof.js"),v=a("./node_modules/core-js/internals/get-method.js"),g=a("./node_modules/core-js/internals/is-null-or-undefined.js"),x=a("./node_modules/core-js/internals/iterators.js"),w=a("./node_modules/core-js/internals/well-known-symbol.js"),b=w("iterator");u.exports=function(S){if(!g(S))return v(S,b)||v(S,"@@iterator")||x[m(S)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/a-callable.js"),g=a("./node_modules/core-js/internals/an-object.js"),x=a("./node_modules/core-js/internals/try-to-string.js"),w=a("./node_modules/core-js/internals/get-iterator-method.js"),b=TypeError;u.exports=function(S,C){var B=arguments.length<2?w(S):C;if(v(B))return g(m(B,S));throw new b(x(S)+" is not iterable")}}),"./node_modules/core-js/internals/get-json-replacer-function.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/is-array.js"),g=a("./node_modules/core-js/internals/is-callable.js"),x=a("./node_modules/core-js/internals/classof-raw.js"),w=a("./node_modules/core-js/internals/to-string.js"),b=m([].push);u.exports=function(S){if(g(S))return S;if(v(S)){for(var C=S.length,B=[],F=0;F<C;F++){var N=S[F];typeof N=="string"?b(B,N):(typeof N=="number"||x(N)==="Number"||x(N)==="String")&&b(B,w(N))}var Q=B.length,z=!0;return function(k,K){if(z)return z=!1,K;if(v(this))return K;for(var se=0;se<Q;se++)if(B[se]===k)return K}}}}),"./node_modules/core-js/internals/get-method.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-callable.js"),v=a("./node_modules/core-js/internals/is-null-or-undefined.js");u.exports=function(g,x){var w=g[x];return v(w)?void 0:m(w)}}),"./node_modules/core-js/internals/get-set-record.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-callable.js"),v=a("./node_modules/core-js/internals/an-object.js"),g=a("./node_modules/core-js/internals/function-call.js"),x=a("./node_modules/core-js/internals/to-integer-or-infinity.js"),w=a("./node_modules/core-js/internals/get-iterator-direct.js"),b="Invalid size",S=RangeError,C=TypeError,B=Math.max,F=function(N,Q){this.set=N,this.size=B(Q,0),this.has=m(N.has),this.keys=m(N.keys)};F.prototype={getIterator:function(){return w(v(g(this.keys,this.set)))},includes:function(N){return g(this.has,this.set,N)}},u.exports=function(N){v(N);var Q=+N.size;if(Q!==Q)throw new C(b);var z=x(Q);if(z<0)throw new S(b);return new F(N,z)}}),"./node_modules/core-js/internals/global-this.js":(function(u){var h=function(a){return a&&a.Math===Math&&a};u.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof km=="object"&&km)||h(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/to-object.js"),g=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(w,b){return g(v(w),b)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(u){u.exports=function(h,a){try{arguments.length===1?console.error(h):console.error(h,a)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/fails.js"),g=a("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!v(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/fails.js"),g=a("./node_modules/core-js/internals/classof-raw.js"),x=Object,w=m("".split);u.exports=v(function(){return!x("z").propertyIsEnumerable(0)})?function(b){return g(b)==="String"?w(b,""):x(b)}:x}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-callable.js"),v=a("./node_modules/core-js/internals/is-object.js"),g=a("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(x,w,b){var S,C;return g&&m(S=w.constructor)&&S!==b&&v(C=S.prototype)&&C!==b.prototype&&g(x,C),x}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=a("./node_modules/core-js/internals/shared-store.js"),x=m(Function.toString);v(g.inspectSource)||(g.inspectSource=function(w){return x(w)}),u.exports=g.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js"),g=a("./node_modules/core-js/internals/hidden-keys.js"),x=a("./node_modules/core-js/internals/is-object.js"),w=a("./node_modules/core-js/internals/has-own-property.js"),b=a("./node_modules/core-js/internals/object-define-property.js").f,S=a("./node_modules/core-js/internals/object-get-own-property-names.js"),C=a("./node_modules/core-js/internals/object-get-own-property-names-external.js"),B=a("./node_modules/core-js/internals/object-is-extensible.js"),F=a("./node_modules/core-js/internals/uid.js"),N=a("./node_modules/core-js/internals/freezing.js"),Q=!1,z=F("meta"),k=0,K=function(ie){b(ie,z,{value:{objectID:"O"+k++,weakData:{}}})},se=function(ie,J){if(!x(ie))return typeof ie=="symbol"?ie:(typeof ie=="string"?"S":"P")+ie;if(!w(ie,z)){if(!B(ie))return"F";if(!J)return"E";K(ie)}return ie[z].objectID},V=function(ie,J){if(!w(ie,z)){if(!B(ie))return!0;if(!J)return!1;K(ie)}return ie[z].weakData},q=function(ie){return N&&Q&&B(ie)&&!w(ie,z)&&K(ie),ie},le=function(){ae.enable=function(){},Q=!0;var ie=S.f,J=v([].splice),G={};G[z]=1,ie(G).length&&(S.f=function(W){for(var pe=ie(W),oe=0,he=pe.length;oe<he;oe++)if(pe[oe]===z){J(pe,oe,1);break}return pe},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:C.f}))},ae=u.exports={enable:le,fastKey:se,getWeakData:V,onFreeze:q};g[z]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/weak-map-basic-detection.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=a("./node_modules/core-js/internals/is-object.js"),x=a("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=a("./node_modules/core-js/internals/has-own-property.js"),b=a("./node_modules/core-js/internals/shared-store.js"),S=a("./node_modules/core-js/internals/shared-key.js"),C=a("./node_modules/core-js/internals/hidden-keys.js"),B="Object already initialized",F=v.TypeError,N=v.WeakMap,Q,z,k,K=function(le){return k(le)?z(le):Q(le,{})},se=function(le){return function(ae){var ie;if(!g(ae)||(ie=z(ae)).type!==le)throw new F("Incompatible receiver, "+le+" required");return ie}};if(m||b.state){var V=b.state||(b.state=new N);V.get=V.get,V.has=V.has,V.set=V.set,Q=function(le,ae){if(V.has(le))throw new F(B);return ae.facade=le,V.set(le,ae),ae},z=function(le){return V.get(le)||{}},k=function(le){return V.has(le)}}else{var q=S("state");C[q]=!0,Q=function(le,ae){if(w(le,q))throw new F(B);return ae.facade=le,x(le,q,ae),ae},z=function(le){return w(le,q)?le[q]:{}},k=function(le){return w(le,q)}}u.exports={set:Q,get:z,has:k,enforce:K,getterFor:se}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/well-known-symbol.js"),v=a("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),x=Array.prototype;u.exports=function(w){return w!==void 0&&(v.Array===w||x[g]===w)}}),"./node_modules/core-js/internals/is-array.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(u){var h=typeof document=="object"&&document.all;u.exports=typeof h>"u"&&h!==void 0?function(a){return typeof a=="function"||a===h}:function(a){return typeof a=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/fails.js"),g=a("./node_modules/core-js/internals/is-callable.js"),x=a("./node_modules/core-js/internals/classof.js"),w=a("./node_modules/core-js/internals/get-built-in.js"),b=a("./node_modules/core-js/internals/inspect-source.js"),S=function(){},C=w("Reflect","construct"),B=/^\s*(?:class|function)\b/,F=m(B.exec),N=!B.test(S),Q=function(K){if(!g(K))return!1;try{return C(S,[],K),!0}catch{return!1}},z=function(K){if(!g(K))return!1;switch(x(K)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return N||!!F(B,b(K))}catch{return!0}};z.sham=!0,u.exports=!C||v(function(){var k;return Q(Q.call)||!Q(Object)||!Q(function(){k=!0})||k})?z:Q}),"./node_modules/core-js/internals/is-forced.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=/#|\.prototype\./,x=function(B,F){var N=b[w(B)];return N===C?!0:N===S?!1:v(F)?m(F):!!F},w=x.normalize=function(B){return String(B).replace(g,".").toLowerCase()},b=x.data={},S=x.NATIVE="N",C=x.POLYFILL="P";u.exports=x}),"./node_modules/core-js/internals/is-iterable.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/classof.js"),v=a("./node_modules/core-js/internals/has-own-property.js"),g=a("./node_modules/core-js/internals/is-null-or-undefined.js"),x=a("./node_modules/core-js/internals/well-known-symbol.js"),w=a("./node_modules/core-js/internals/iterators.js"),b=x("iterator"),S=Object;u.exports=function(C){if(g(C))return!1;var B=S(C);return B[b]!==void 0||"@@iterator"in B||v(w,m(B))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(u){u.exports=function(h){return h==null}}),"./node_modules/core-js/internals/is-object.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-callable.js");u.exports=function(v){return typeof v=="object"?v!==null:m(v)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-object.js");u.exports=function(v){return m(v)||v===null}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/get-built-in.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=a("./node_modules/core-js/internals/object-is-prototype-of.js"),x=a("./node_modules/core-js/internals/use-symbol-as-uid.js"),w=Object;u.exports=x?function(b){return typeof b=="symbol"}:function(b){var S=m("Symbol");return v(S)&&g(S.prototype,w(b))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js");u.exports=function(v,g,x){for(var w=x?v:v.iterator,b=v.next,S,C;!(S=m(b,w)).done;)if(C=g(S.value),C!==void 0)return C}}),"./node_modules/core-js/internals/iterate.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-bind-context.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/an-object.js"),x=a("./node_modules/core-js/internals/try-to-string.js"),w=a("./node_modules/core-js/internals/is-array-iterator-method.js"),b=a("./node_modules/core-js/internals/length-of-array-like.js"),S=a("./node_modules/core-js/internals/object-is-prototype-of.js"),C=a("./node_modules/core-js/internals/get-iterator.js"),B=a("./node_modules/core-js/internals/get-iterator-method.js"),F=a("./node_modules/core-js/internals/iterator-close.js"),N=TypeError,Q=function(k,K){this.stopped=k,this.result=K},z=Q.prototype;u.exports=function(k,K,se){var V=se&&se.that,q=!!(se&&se.AS_ENTRIES),le=!!(se&&se.IS_RECORD),ae=!!(se&&se.IS_ITERATOR),ie=!!(se&&se.INTERRUPTED),J=m(K,V),G,W,pe,oe,he,$,M,ee=function(me){return G&&F(G,"normal"),new Q(!0,me)},re=function(me){return q?(g(me),ie?J(me[0],me[1],ee):J(me[0],me[1])):ie?J(me,ee):J(me)};if(le)G=k.iterator;else if(ae)G=k;else{if(W=B(k),!W)throw new N(x(k)+" is not iterable");if(w(W)){for(pe=0,oe=b(k);oe>pe;pe++)if(he=re(k[pe]),he&&S(z,he))return he;return new Q(!1)}G=C(k,W)}for($=le?k.next:G.next;!(M=v($,G)).done;){try{he=re(M.value)}catch(me){F(G,"throw",me)}if(typeof he=="object"&&he&&S(z,he))return he}return new Q(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/iterator-close.js");u.exports=function(v,g,x){for(var w=v.length-1;w>=0;w--)if(v[w]!==void 0)try{x=m(v[w].iterator,g,x)}catch(b){g="throw",x=b}if(g==="throw")throw x;return x}}),"./node_modules/core-js/internals/iterator-close.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/an-object.js"),g=a("./node_modules/core-js/internals/get-method.js");u.exports=function(x,w,b){var S,C;v(x);try{if(S=g(x,"return"),!S){if(w==="throw")throw b;return b}S=m(S,x)}catch(B){C=!0,S=B}if(w==="throw")throw b;if(C)throw S;return v(S),b}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,v=a("./node_modules/core-js/internals/object-create.js"),g=a("./node_modules/core-js/internals/create-property-descriptor.js"),x=a("./node_modules/core-js/internals/set-to-string-tag.js"),w=a("./node_modules/core-js/internals/iterators.js"),b=function(){return this};u.exports=function(S,C,B,F){var N=C+" Iterator";return S.prototype=v(m,{next:g(+!F,B)}),x(S,N,!1,!0),w[N]=b,S}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/object-create.js"),g=a("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=a("./node_modules/core-js/internals/define-built-ins.js"),w=a("./node_modules/core-js/internals/well-known-symbol.js"),b=a("./node_modules/core-js/internals/internal-state.js"),S=a("./node_modules/core-js/internals/get-method.js"),C=a("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,B=a("./node_modules/core-js/internals/create-iter-result-object.js"),F=a("./node_modules/core-js/internals/iterator-close.js"),N=a("./node_modules/core-js/internals/iterator-close-all.js"),Q=w("toStringTag"),z="IteratorHelper",k="WrapForValidIterator",K="normal",se="throw",V=b.set,q=function(ie){var J=b.getterFor(ie?k:z);return x(v(C),{next:function(){var W=J(this);if(ie)return W.nextHandler();if(W.done)return B(void 0,!0);try{var pe=W.nextHandler();return W.returnHandlerResult?pe:B(pe,W.done)}catch(oe){throw W.done=!0,oe}},return:function(){var G=J(this),W=G.iterator;if(G.done=!0,ie){var pe=S(W,"return");return pe?m(pe,W):B(void 0,!0)}if(G.inner)try{F(G.inner.iterator,K)}catch(oe){return F(W,se,oe)}if(G.openIters)try{N(G.openIters,K)}catch(oe){return F(W,se,oe)}return W&&F(W,K),B(void 0,!0)}})},le=q(!0),ae=q(!1);g(ae,Q,"Iterator Helper"),u.exports=function(ie,J,G){var W=function(oe,he){he?(he.iterator=oe.iterator,he.next=oe.next):he=oe,he.type=J?k:z,he.returnHandlerResult=!!G,he.nextHandler=ie,he.counter=0,he.done=!1,V(this,he)};return W.prototype=J?le:ae,W}}),"./node_modules/core-js/internals/iterator-define.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/is-pure.js"),x=a("./node_modules/core-js/internals/function-name.js"),w=a("./node_modules/core-js/internals/is-callable.js"),b=a("./node_modules/core-js/internals/iterator-create-constructor.js"),S=a("./node_modules/core-js/internals/object-get-prototype-of.js"),C=a("./node_modules/core-js/internals/object-set-prototype-of.js"),B=a("./node_modules/core-js/internals/set-to-string-tag.js"),F=a("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=a("./node_modules/core-js/internals/define-built-in.js"),Q=a("./node_modules/core-js/internals/well-known-symbol.js"),z=a("./node_modules/core-js/internals/iterators.js"),k=a("./node_modules/core-js/internals/iterators-core.js"),K=x.PROPER,se=x.CONFIGURABLE,V=k.IteratorPrototype,q=k.BUGGY_SAFARI_ITERATORS,le=Q("iterator"),ae="keys",ie="values",J="entries",G=function(){return this};u.exports=function(W,pe,oe,he,$,M,ee){b(oe,pe,he);var re=function(Ee){if(Ee===$&&Ke)return Ke;if(!q&&Ee&&Ee in Ue)return Ue[Ee];switch(Ee){case ae:return function(){return new oe(this,Ee)};case ie:return function(){return new oe(this,Ee)};case J:return function(){return new oe(this,Ee)}}return function(){return new oe(this)}},me=pe+" Iterator",De=!1,Ue=W.prototype,Ne=Ue[le]||Ue["@@iterator"]||$&&Ue[$],Ke=!q&&Ne||re($),rt=pe==="Array"&&Ue.entries||Ne,et,wt,nt;if(rt&&(et=S(rt.call(new W)),et!==Object.prototype&&et.next&&(!g&&S(et)!==V&&(C?C(et,V):w(et[le])||N(et,le,G)),B(et,me,!0,!0),g&&(z[me]=G))),K&&$===ie&&Ne&&Ne.name!==ie&&(!g&&se?F(Ue,"name",ie):(De=!0,Ke=function(){return v(Ne,this)})),$)if(wt={values:re(ie),keys:M?Ke:re(ae),entries:re(J)},ee)for(nt in wt)(q||De||!(nt in Ue))&&N(Ue,nt,wt[nt]);else m({target:pe,proto:!0,forced:q||De},wt);return(!g||ee)&&Ue[le]!==Ke&&N(Ue,le,Ke,{name:$}),z[pe]=Ke,wt}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(u){u.exports=function(h,a){var m=typeof Iterator=="function"&&Iterator.prototype[h];if(m)try{m.call({next:null},a).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js");u.exports=function(v,g){var x=m.Iterator,w=x&&x.prototype,b=w&&w[v],S=!1;if(b)try{b.call({next:function(){return{done:!0}},return:function(){S=!0}},-1)}catch(C){C instanceof g||(S=!1)}if(!S)return b}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=a("./node_modules/core-js/internals/is-object.js"),x=a("./node_modules/core-js/internals/object-create.js"),w=a("./node_modules/core-js/internals/object-get-prototype-of.js"),b=a("./node_modules/core-js/internals/define-built-in.js"),S=a("./node_modules/core-js/internals/well-known-symbol.js"),C=a("./node_modules/core-js/internals/is-pure.js"),B=S("iterator"),F=!1,N,Q,z;[].keys&&(z=[].keys(),"next"in z?(Q=w(w(z)),Q!==Object.prototype&&(N=Q)):F=!0);var k=!g(N)||m(function(){var K={};return N[B].call(K)!==K});k?N={}:C&&(N=x(N)),v(N[B])||b(N,B,function(){return this}),u.exports={IteratorPrototype:N,BUGGY_SAFARI_ITERATORS:F}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-length.js");u.exports=function(v){return m(v.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/fails.js"),g=a("./node_modules/core-js/internals/is-callable.js"),x=a("./node_modules/core-js/internals/has-own-property.js"),w=a("./node_modules/core-js/internals/descriptors.js"),b=a("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,S=a("./node_modules/core-js/internals/inspect-source.js"),C=a("./node_modules/core-js/internals/internal-state.js"),B=C.enforce,F=C.get,N=String,Q=Object.defineProperty,z=m("".slice),k=m("".replace),K=m([].join),se=w&&!v(function(){return Q(function(){},"length",{value:8}).length!==8}),V=String(String).split("String"),q=u.exports=function(le,ae,ie){z(N(ae),0,7)==="Symbol("&&(ae="["+k(N(ae),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ie&&ie.getter&&(ae="get "+ae),ie&&ie.setter&&(ae="set "+ae),(!x(le,"name")||b&&le.name!==ae)&&(w?Q(le,"name",{value:ae,configurable:!0}):le.name=ae),se&&ie&&x(ie,"arity")&&le.length!==ie.arity&&Q(le,"length",{value:ie.arity});try{ie&&x(ie,"constructor")&&ie.constructor?w&&Q(le,"prototype",{writable:!1}):le.prototype&&(le.prototype=void 0)}catch{}var J=B(le);return x(J,"source")||(J.source=K(V,typeof ae=="string"?ae:"")),le};Function.prototype.toString=q(function(){return g(this)&&F(this).source||S(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(u){var h=Math.ceil,a=Math.floor;u.exports=Math.trunc||function(v){var g=+v;return(g>0?a:h)(g)}}),"./node_modules/core-js/internals/microtask.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/safe-get-built-in.js"),g=a("./node_modules/core-js/internals/function-bind-context.js"),x=a("./node_modules/core-js/internals/task.js").set,w=a("./node_modules/core-js/internals/queue.js"),b=a("./node_modules/core-js/internals/environment-is-ios.js"),S=a("./node_modules/core-js/internals/environment-is-ios-pebble.js"),C=a("./node_modules/core-js/internals/environment-is-webos-webkit.js"),B=a("./node_modules/core-js/internals/environment-is-node.js"),F=m.MutationObserver||m.WebKitMutationObserver,N=m.document,Q=m.process,z=m.Promise,k=v("queueMicrotask"),K,se,V,q,le;if(!k){var ae=new w,ie=function(){var J,G;for(B&&(J=Q.domain)&&J.exit();G=ae.get();)try{G()}catch(W){throw ae.head&&K(),W}J&&J.enter()};!b&&!B&&!C&&F&&N?(se=!0,V=N.createTextNode(""),new F(ie).observe(V,{characterData:!0}),K=function(){V.data=se=!se}):!S&&z&&z.resolve?(q=z.resolve(void 0),q.constructor=z,le=g(q.then,q),K=function(){le(ie)}):B?K=function(){Q.nextTick(ie)}:(x=g(x,m),K=function(){x(ie)}),k=function(J){ae.head||K(),ae.add(J)}}u.exports=k}),"./node_modules/core-js/internals/new-promise-capability.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-callable.js"),v=TypeError,g=function(x){var w,b;this.promise=new x(function(S,C){if(w!==void 0||b!==void 0)throw new v("Bad Promise constructor");w=S,b=C}),this.resolve=m(w),this.reject=m(b)};u.exports.f=function(x){return new g(x)}}),"./node_modules/core-js/internals/object-assign.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js"),g=a("./node_modules/core-js/internals/function-call.js"),x=a("./node_modules/core-js/internals/fails.js"),w=a("./node_modules/core-js/internals/object-keys.js"),b=a("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=a("./node_modules/core-js/internals/object-property-is-enumerable.js"),C=a("./node_modules/core-js/internals/to-object.js"),B=a("./node_modules/core-js/internals/indexed-object.js"),F=Object.assign,N=Object.defineProperty,Q=v([].concat);u.exports=!F||x(function(){if(m&&F({b:1},F(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},k={},K=Symbol("assign detection"),se="abcdefghijklmnopqrst";return z[K]=7,se.split("").forEach(function(V){k[V]=V}),F({},z)[K]!==7||w(F({},k)).join("")!==se})?function(k,K){for(var se=C(k),V=arguments.length,q=1,le=b.f,ae=S.f;V>q;)for(var ie=B(arguments[q++]),J=le?Q(w(ie),le(ie)):w(ie),G=J.length,W=0,pe;G>W;)pe=J[W++],(!m||g(ae,ie,pe))&&(se[pe]=ie[pe]);return se}:F}),"./node_modules/core-js/internals/object-create.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/an-object.js"),v=a("./node_modules/core-js/internals/object-define-properties.js"),g=a("./node_modules/core-js/internals/enum-bug-keys.js"),x=a("./node_modules/core-js/internals/hidden-keys.js"),w=a("./node_modules/core-js/internals/html.js"),b=a("./node_modules/core-js/internals/document-create-element.js"),S=a("./node_modules/core-js/internals/shared-key.js"),C=">",B="<",F="prototype",N="script",Q=S("IE_PROTO"),z=function(){},k=function(le){return B+N+C+le+B+"/"+N+C},K=function(le){le.write(k("")),le.close();var ae=le.parentWindow.Object;return le=null,ae},se=function(){var le=b("iframe"),ae="java"+N+":",ie;return le.style.display="none",w.appendChild(le),le.src=String(ae),ie=le.contentWindow.document,ie.open(),ie.write(k("document.F=Object")),ie.close(),ie.F},V,q=function(){try{V=new ActiveXObject("htmlfile")}catch{}q=typeof document<"u"?document.domain&&V?K(V):se():K(V);for(var le=g.length;le--;)delete q[F][g[le]];return q()};x[Q]=!0,u.exports=Object.create||function(ae,ie){var J;return ae!==null?(z[F]=m(ae),J=new z,z[F]=null,J[Q]=ae):J=q(),ie===void 0?J:v.f(J,ie)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=a("./node_modules/core-js/internals/object-define-property.js"),x=a("./node_modules/core-js/internals/an-object.js"),w=a("./node_modules/core-js/internals/to-indexed-object.js"),b=a("./node_modules/core-js/internals/object-keys.js");h.f=m&&!v?Object.defineProperties:function(C,B){x(C);for(var F=w(B),N=b(B),Q=N.length,z=0,k;Q>z;)g.f(C,k=N[z++],F[k]);return C}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/ie8-dom-define.js"),g=a("./node_modules/core-js/internals/v8-prototype-define-bug.js"),x=a("./node_modules/core-js/internals/an-object.js"),w=a("./node_modules/core-js/internals/to-property-key.js"),b=TypeError,S=Object.defineProperty,C=Object.getOwnPropertyDescriptor,B="enumerable",F="configurable",N="writable";h.f=m?g?function(z,k,K){if(x(z),k=w(k),x(K),typeof z=="function"&&k==="prototype"&&"value"in K&&N in K&&!K[N]){var se=C(z,k);se&&se[N]&&(z[k]=K.value,K={configurable:F in K?K[F]:se[F],enumerable:B in K?K[B]:se[B],writable:!1})}return S(z,k,K)}:S:function(z,k,K){if(x(z),k=w(k),x(K),v)try{return S(z,k,K)}catch{}if("get"in K||"set"in K)throw new b("Accessors not supported");return"value"in K&&(z[k]=K.value),z}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/object-property-is-enumerable.js"),x=a("./node_modules/core-js/internals/create-property-descriptor.js"),w=a("./node_modules/core-js/internals/to-indexed-object.js"),b=a("./node_modules/core-js/internals/to-property-key.js"),S=a("./node_modules/core-js/internals/has-own-property.js"),C=a("./node_modules/core-js/internals/ie8-dom-define.js"),B=Object.getOwnPropertyDescriptor;h.f=m?B:function(N,Q){if(N=w(N),Q=b(Q),C)try{return B(N,Q)}catch{}if(S(N,Q))return x(!v(g.f,N,Q),N[Q])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/classof-raw.js"),v=a("./node_modules/core-js/internals/to-indexed-object.js"),g=a("./node_modules/core-js/internals/object-get-own-property-names.js").f,x=a("./node_modules/core-js/internals/array-slice.js"),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],b=function(S){try{return g(S)}catch{return x(w)}};u.exports.f=function(C){return w&&m(C)==="Window"?b(C):g(v(C))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/object-keys-internal.js"),v=a("./node_modules/core-js/internals/enum-bug-keys.js"),g=v.concat("length","prototype");h.f=Object.getOwnPropertyNames||function(w){return m(w,g)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,h){h.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/has-own-property.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=a("./node_modules/core-js/internals/to-object.js"),x=a("./node_modules/core-js/internals/shared-key.js"),w=a("./node_modules/core-js/internals/correct-prototype-getter.js"),b=x("IE_PROTO"),S=Object,C=S.prototype;u.exports=w?S.getPrototypeOf:function(B){var F=g(B);if(m(F,b))return F[b];var N=F.constructor;return v(N)&&F instanceof N?N.prototype:F instanceof S?C:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js"),v=a("./node_modules/core-js/internals/is-object.js"),g=a("./node_modules/core-js/internals/classof-raw.js"),x=a("./node_modules/core-js/internals/array-buffer-non-extensible.js"),w=Object.isExtensible,b=m(function(){});u.exports=b||x?function(C){return!v(C)||x&&g(C)==="ArrayBuffer"?!1:w?w(C):!0}:w}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/has-own-property.js"),g=a("./node_modules/core-js/internals/to-indexed-object.js"),x=a("./node_modules/core-js/internals/array-includes.js").indexOf,w=a("./node_modules/core-js/internals/hidden-keys.js"),b=m([].push);u.exports=function(S,C){var B=g(S),F=0,N=[],Q;for(Q in B)!v(w,Q)&&v(B,Q)&&b(N,Q);for(;C.length>F;)v(B,Q=C[F++])&&(~x(N,Q)||b(N,Q));return N}}),"./node_modules/core-js/internals/object-keys.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/object-keys-internal.js"),v=a("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(x){return m(x,v)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,h){var a={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,v=m&&!a.call({1:2},1);h.f=v?function(x){var w=m(this,x);return!!w&&w.enumerable}:a}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=a("./node_modules/core-js/internals/is-object.js"),g=a("./node_modules/core-js/internals/require-object-coercible.js"),x=a("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var w=!1,b={},S;try{S=m(Object.prototype,"__proto__","set"),S(b,[]),w=b instanceof Array}catch{}return function(B,F){return g(B),x(F),v(B)&&(w?S(B,F):B.__proto__=F),B}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-string-tag-support.js"),v=a("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+v(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=a("./node_modules/core-js/internals/is-object.js"),x=TypeError;u.exports=function(w,b){var S,C;if(b==="string"&&v(S=w.toString)&&!g(C=m(S,w))||v(S=w.valueOf)&&!g(C=m(S,w))||b!=="string"&&v(S=w.toString)&&!g(C=m(S,w)))return C;throw new x("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/get-built-in.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js"),g=a("./node_modules/core-js/internals/object-get-own-property-names.js"),x=a("./node_modules/core-js/internals/object-get-own-property-symbols.js"),w=a("./node_modules/core-js/internals/an-object.js"),b=v([].concat);u.exports=m("Reflect","ownKeys")||function(C){var B=g.f(w(C)),F=x.f;return F?b(B,F(C)):B}}),"./node_modules/core-js/internals/path.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js");u.exports=m}),"./node_modules/core-js/internals/perform.js":(function(u){u.exports=function(h){try{return{error:!1,value:h()}}catch(a){return{error:!0,value:a}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/promise-native-constructor.js"),g=a("./node_modules/core-js/internals/is-callable.js"),x=a("./node_modules/core-js/internals/is-forced.js"),w=a("./node_modules/core-js/internals/inspect-source.js"),b=a("./node_modules/core-js/internals/well-known-symbol.js"),S=a("./node_modules/core-js/internals/environment.js"),C=a("./node_modules/core-js/internals/is-pure.js"),B=a("./node_modules/core-js/internals/environment-v8-version.js"),F=v&&v.prototype,N=b("species"),Q=!1,z=g(m.PromiseRejectionEvent),k=x("Promise",function(){var K=w(v),se=K!==String(v);if(!se&&B===66||C&&!(F.catch&&F.finally))return!0;if(!B||B<51||!/native code/.test(K)){var V=new v(function(ae){ae(1)}),q=function(ae){ae(function(){},function(){})},le=V.constructor={};if(le[N]=q,Q=V.then(function(){})instanceof q,!Q)return!0}return!se&&(S==="BROWSER"||S==="DENO")&&!z});u.exports={CONSTRUCTOR:k,REJECTION_EVENT:z,SUBCLASSING:Q}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js");u.exports=m.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/an-object.js"),v=a("./node_modules/core-js/internals/is-object.js"),g=a("./node_modules/core-js/internals/new-promise-capability.js");u.exports=function(x,w){if(m(x),v(w)&&w.constructor===x)return w;var b=g.f(x),S=b.resolve;return S(w),b.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/promise-native-constructor.js"),v=a("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=a("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u.exports=g||!v(function(x){m.all(x).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(u){var h=function(){this.head=null,this.tail=null};h.prototype={add:function(a){var m={item:a,next:null},v=this.tail;v?v.next=m:this.head=m,this.tail=m},get:function(){var a=this.head;if(a){var m=this.head=a.next;return m===null&&(this.tail=null),a.item}}},u.exports=h}),"./node_modules/core-js/internals/regexp-exec.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js"),g=a("./node_modules/core-js/internals/to-string.js"),x=a("./node_modules/core-js/internals/regexp-flags.js"),w=a("./node_modules/core-js/internals/regexp-sticky-helpers.js"),b=a("./node_modules/core-js/internals/shared.js"),S=a("./node_modules/core-js/internals/object-create.js"),C=a("./node_modules/core-js/internals/internal-state.js").get,B=a("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),F=a("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),N=b("native-string-replace",String.prototype.replace),Q=RegExp.prototype.exec,z=Q,k=v("".charAt),K=v("".indexOf),se=v("".replace),V=v("".slice),q=(function(){var J=/a/,G=/b*/g;return m(Q,J,"a"),m(Q,G,"a"),J.lastIndex!==0||G.lastIndex!==0})(),le=w.BROKEN_CARET,ae=/()??/.exec("")[1]!==void 0,ie=q||ae||le||B||F;ie&&(z=function(G){var W=this,pe=C(W),oe=g(G),he=pe.raw,$,M,ee,re,me,De,Ue;if(he)return he.lastIndex=W.lastIndex,$=m(z,he,oe),W.lastIndex=he.lastIndex,$;var Ne=pe.groups,Ke=le&&W.sticky,rt=m(x,W),et=W.source,wt=0,nt=oe;if(Ke&&(rt=se(rt,"y",""),K(rt,"g")===-1&&(rt+="g"),nt=V(oe,W.lastIndex),W.lastIndex>0&&(!W.multiline||W.multiline&&k(oe,W.lastIndex-1)!==`
`)&&(et="(?: "+et+")",nt=" "+nt,wt++),M=new RegExp("^(?:"+et+")",rt)),ae&&(M=new RegExp("^"+et+"$(?!\\s)",rt)),q&&(ee=W.lastIndex),re=m(Q,Ke?M:W,nt),Ke?re?(re.input=V(re.input,wt),re[0]=V(re[0],wt),re.index=W.lastIndex,W.lastIndex+=re[0].length):W.lastIndex=0:q&&re&&(W.lastIndex=W.global?re.index+re[0].length:ee),ae&&re&&re.length>1&&m(N,re[0],M,function(){for(me=1;me<arguments.length-2;me++)arguments[me]===void 0&&(re[me]=void 0)}),re&&Ne)for(re.groups=De=S(null),me=0;me<Ne.length;me++)Ue=Ne[me],De[Ue[0]]=re[Ue[1]];return re}),u.exports=z}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/fails.js"),g=m.RegExp,x=!v(function(){var w=!0;try{g(".","d")}catch{w=!1}var b={},S="",C=w?"dgimsy":"gimsy",B=function(z,k){Object.defineProperty(b,z,{get:function(){return S+=k,!0}})},F={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};w&&(F.hasIndices="d");for(var N in F)B(N,F[N]);var Q=Object.getOwnPropertyDescriptor(g.prototype,"flags").get.call(b);return Q!==C||S!==C});u.exports={correct:x}}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/an-object.js");u.exports=function(){var v=m(this),g="";return v.hasIndices&&(g+="d"),v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),v.dotAll&&(g+="s"),v.unicode&&(g+="u"),v.unicodeSets&&(g+="v"),v.sticky&&(g+="y"),g}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/has-own-property.js"),g=a("./node_modules/core-js/internals/object-is-prototype-of.js"),x=a("./node_modules/core-js/internals/regexp-flags-detection.js"),w=a("./node_modules/core-js/internals/regexp-flags.js"),b=RegExp.prototype;u.exports=x.correct?function(S){return S.flags}:function(S){return!x.correct&&g(b,S)&&!v(S,"flags")?m(w,S):S.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=v.RegExp,x=m(function(){var S=g("a","y");return S.lastIndex=2,S.exec("abcd")!==null}),w=x||m(function(){return!g("a","y").sticky}),b=x||m(function(){var S=g("^r","gy");return S.lastIndex=2,S.exec("str")!==null});u.exports={BROKEN_CARET:b,MISSED_STICKY:w,UNSUPPORTED_Y:x}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var x=g(".","s");return!(x.dotAll&&x.test(`
`)&&x.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var x=g("(?<a>b)","g");return x.exec("b").groups.a!=="b"||"b".replace(x,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-null-or-undefined.js"),v=TypeError;u.exports=function(g){if(m(g))throw new v("Can't call method on "+g);return g}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/descriptors.js"),g=Object.getOwnPropertyDescriptor;u.exports=function(x){if(!v)return m[x];var w=g(m,x);return w&&w.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/function-apply.js"),g=a("./node_modules/core-js/internals/is-callable.js"),x=a("./node_modules/core-js/internals/environment.js"),w=a("./node_modules/core-js/internals/environment-user-agent.js"),b=a("./node_modules/core-js/internals/array-slice.js"),S=a("./node_modules/core-js/internals/validate-arguments-length.js"),C=m.Function,B=/MSIE .\./.test(w)||x==="BUN"&&(function(){var F=m.Bun.version.split(".");return F.length<3||F[0]==="0"&&(F[1]<3||F[1]==="3"&&F[2]==="0")})();u.exports=function(F,N){var Q=N?2:1;return B?function(z,k){var K=S(arguments.length,1)>Q,se=g(z)?z:C(z),V=K?b(arguments,Q):[],q=K?function(){v(se,this,V)}:se;return N?F(q,k):F(q)}:F}}),"./node_modules/core-js/internals/set-clone.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/set-helpers.js"),v=a("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,x=m.add;u.exports=function(w){var b=new g;return v(w,function(S){x(b,S)}),b}}),"./node_modules/core-js/internals/set-difference.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-set.js"),v=a("./node_modules/core-js/internals/set-helpers.js"),g=a("./node_modules/core-js/internals/set-clone.js"),x=a("./node_modules/core-js/internals/set-size.js"),w=a("./node_modules/core-js/internals/get-set-record.js"),b=a("./node_modules/core-js/internals/set-iterate.js"),S=a("./node_modules/core-js/internals/iterate-simple.js"),C=v.has,B=v.remove;u.exports=function(N){var Q=m(this),z=w(N),k=g(Q);return x(Q)<=z.size?b(Q,function(K){z.includes(K)&&B(k,K)}):S(z.getIterator(),function(K){C(k,K)&&B(k,K)}),k}}),"./node_modules/core-js/internals/set-helpers.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=Set.prototype;u.exports={Set,add:m(v.add),has:m(v.has),remove:m(v.delete),proto:v}}),"./node_modules/core-js/internals/set-intersection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-set.js"),v=a("./node_modules/core-js/internals/set-helpers.js"),g=a("./node_modules/core-js/internals/set-size.js"),x=a("./node_modules/core-js/internals/get-set-record.js"),w=a("./node_modules/core-js/internals/set-iterate.js"),b=a("./node_modules/core-js/internals/iterate-simple.js"),S=v.Set,C=v.add,B=v.has;u.exports=function(N){var Q=m(this),z=x(N),k=new S;return g(Q)>z.size?b(z.getIterator(),function(K){B(Q,K)&&C(k,K)}):w(Q,function(K){z.includes(K)&&C(k,K)}),k}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-set.js"),v=a("./node_modules/core-js/internals/set-helpers.js").has,g=a("./node_modules/core-js/internals/set-size.js"),x=a("./node_modules/core-js/internals/get-set-record.js"),w=a("./node_modules/core-js/internals/set-iterate.js"),b=a("./node_modules/core-js/internals/iterate-simple.js"),S=a("./node_modules/core-js/internals/iterator-close.js");u.exports=function(B){var F=m(this),N=x(B);if(g(F)<=N.size)return w(F,function(z){if(N.includes(z))return!1},!0)!==!1;var Q=N.getIterator();return b(Q,function(z){if(v(F,z))return S(Q,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-set.js"),v=a("./node_modules/core-js/internals/set-size.js"),g=a("./node_modules/core-js/internals/set-iterate.js"),x=a("./node_modules/core-js/internals/get-set-record.js");u.exports=function(b){var S=m(this),C=x(b);return v(S)>C.size?!1:g(S,function(B){if(!C.includes(B))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-set.js"),v=a("./node_modules/core-js/internals/set-helpers.js").has,g=a("./node_modules/core-js/internals/set-size.js"),x=a("./node_modules/core-js/internals/get-set-record.js"),w=a("./node_modules/core-js/internals/iterate-simple.js"),b=a("./node_modules/core-js/internals/iterator-close.js");u.exports=function(C){var B=m(this),F=x(C);if(g(B)<F.size)return!1;var N=F.getIterator();return w(N,function(Q){if(!v(B,Q))return b(N,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/iterate-simple.js"),g=a("./node_modules/core-js/internals/set-helpers.js"),x=g.Set,w=g.proto,b=m(w.forEach),S=m(w.keys),C=S(new x).next;u.exports=function(B,F,N){return N?v({iterator:S(B),next:C},F):b(B,F)}}),"./node_modules/core-js/internals/set-size.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=a("./node_modules/core-js/internals/set-helpers.js");u.exports=m(v.proto,"size","get")||function(g){return g.size}}),"./node_modules/core-js/internals/set-species.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/get-built-in.js"),v=a("./node_modules/core-js/internals/define-built-in-accessor.js"),g=a("./node_modules/core-js/internals/well-known-symbol.js"),x=a("./node_modules/core-js/internals/descriptors.js"),w=g("species");u.exports=function(b){var S=m(b);x&&S&&!S[w]&&v(S,w,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-set.js"),v=a("./node_modules/core-js/internals/set-helpers.js"),g=a("./node_modules/core-js/internals/set-clone.js"),x=a("./node_modules/core-js/internals/get-set-record.js"),w=a("./node_modules/core-js/internals/iterate-simple.js"),b=v.add,S=v.has,C=v.remove;u.exports=function(F){var N=m(this),Q=x(F).getIterator(),z=g(N);return w(Q,function(k){S(N,k)?C(z,k):b(z,k)}),z}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/object-define-property.js").f,v=a("./node_modules/core-js/internals/has-own-property.js"),g=a("./node_modules/core-js/internals/well-known-symbol.js"),x=g("toStringTag");u.exports=function(w,b,S){w&&!S&&(w=w.prototype),w&&!v(w,x)&&m(w,x,{configurable:!0,value:b})}}),"./node_modules/core-js/internals/set-union.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/a-set.js"),v=a("./node_modules/core-js/internals/set-helpers.js").add,g=a("./node_modules/core-js/internals/set-clone.js"),x=a("./node_modules/core-js/internals/get-set-record.js"),w=a("./node_modules/core-js/internals/iterate-simple.js");u.exports=function(S){var C=m(this),B=x(S).getIterator(),F=g(C);return w(B,function(N){v(F,N)}),F}}),"./node_modules/core-js/internals/shared-key.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/shared.js"),v=a("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(x){return g[x]||(g[x]=v(x))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/is-pure.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=a("./node_modules/core-js/internals/define-global-property.js"),x="__core-js_shared__",w=u.exports=v[x]||g(x,{});(w.versions||(w.versions=[])).push({version:"3.45.1",mode:m?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/shared-store.js");u.exports=function(v,g){return m[v]||(m[v]=g||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/an-object.js"),v=a("./node_modules/core-js/internals/a-constructor.js"),g=a("./node_modules/core-js/internals/is-null-or-undefined.js"),x=a("./node_modules/core-js/internals/well-known-symbol.js"),w=x("species");u.exports=function(b,S){var C=m(b).constructor,B;return C===void 0||g(B=m(C)[w])?S:v(B)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/fails.js");u.exports=function(v){return m(function(){var g=""[v]('"');return g!==g.toLowerCase()||g.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=a("./node_modules/core-js/internals/to-string.js"),x=a("./node_modules/core-js/internals/require-object-coercible.js"),w=m("".charAt),b=m("".charCodeAt),S=m("".slice),C=function(B){return function(F,N){var Q=g(x(F)),z=v(N),k=Q.length,K,se;return z<0||z>=k?B?"":void 0:(K=b(Q,z),K<55296||K>56319||z+1===k||(se=b(Q,z+1))<56320||se>57343?B?w(Q,z):K:B?S(Q,z,z+2):(K-55296<<10)+(se-56320)+65536)}};u.exports={codeAt:C(!1),charAt:C(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=a("./node_modules/core-js/internals/require-object-coercible.js"),g=a("./node_modules/core-js/internals/to-string.js"),x=a("./node_modules/core-js/internals/whitespaces.js"),w=m("".replace),b=RegExp("^["+x+"]+"),S=RegExp("(^|[^"+x+"])["+x+"]+$"),C=function(B){return function(F){var N=g(v(F));return B&1&&(N=w(N,b,"")),B&2&&(N=w(N,S,"$1")),N}};u.exports={start:C(1),end:C(2),trim:C(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/environment-v8-version.js"),v=a("./node_modules/core-js/internals/fails.js"),g=a("./node_modules/core-js/internals/global-this.js"),x=g.String;u.exports=!!Object.getOwnPropertySymbols&&!v(function(){var w=Symbol("symbol detection");return!x(w)||!(Object(w)instanceof Symbol)||!Symbol.sham&&m&&m<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/get-built-in.js"),g=a("./node_modules/core-js/internals/well-known-symbol.js"),x=a("./node_modules/core-js/internals/define-built-in.js");u.exports=function(){var w=v("Symbol"),b=w&&w.prototype,S=b&&b.valueOf,C=g("toPrimitive");b&&!b[C]&&x(b,C,function(B){return m(S,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/function-apply.js"),g=a("./node_modules/core-js/internals/function-bind-context.js"),x=a("./node_modules/core-js/internals/is-callable.js"),w=a("./node_modules/core-js/internals/has-own-property.js"),b=a("./node_modules/core-js/internals/fails.js"),S=a("./node_modules/core-js/internals/html.js"),C=a("./node_modules/core-js/internals/array-slice.js"),B=a("./node_modules/core-js/internals/document-create-element.js"),F=a("./node_modules/core-js/internals/validate-arguments-length.js"),N=a("./node_modules/core-js/internals/environment-is-ios.js"),Q=a("./node_modules/core-js/internals/environment-is-node.js"),z=m.setImmediate,k=m.clearImmediate,K=m.process,se=m.Dispatch,V=m.Function,q=m.MessageChannel,le=m.String,ae=0,ie={},J="onreadystatechange",G,W,pe,oe;b(function(){G=m.location});var he=function(re){if(w(ie,re)){var me=ie[re];delete ie[re],me()}},$=function(re){return function(){he(re)}},M=function(re){he(re.data)},ee=function(re){m.postMessage(le(re),G.protocol+"//"+G.host)};(!z||!k)&&(z=function(me){F(arguments.length,1);var De=x(me)?me:V(me),Ue=C(arguments,1);return ie[++ae]=function(){v(De,void 0,Ue)},W(ae),ae},k=function(me){delete ie[me]},Q?W=function(re){K.nextTick($(re))}:se&&se.now?W=function(re){se.now($(re))}:q&&!N?(pe=new q,oe=pe.port2,pe.port1.onmessage=M,W=g(oe.postMessage,oe)):m.addEventListener&&x(m.postMessage)&&!m.importScripts&&G&&G.protocol!=="file:"&&!b(ee)?(W=ee,m.addEventListener("message",M,!1)):J in B("script")?W=function(re){S.appendChild(B("script"))[J]=function(){S.removeChild(this),he(re)}}:W=function(re){setTimeout($(re),0)}),u.exports={set:z,clear:k}}),"./node_modules/core-js/internals/this-number-value.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.max,g=Math.min;u.exports=function(x,w){var b=m(x);return b<0?v(b+w,0):g(b,w)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/indexed-object.js"),v=a("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(v(g))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/math-trunc.js");u.exports=function(v){var g=+v;return g!==g||g===0?0:m(g)}}),"./node_modules/core-js/internals/to-length.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.min;u.exports=function(g){var x=m(g);return x>0?v(x,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/require-object-coercible.js"),v=Object;u.exports=function(g){return v(m(g))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-call.js"),v=a("./node_modules/core-js/internals/is-object.js"),g=a("./node_modules/core-js/internals/is-symbol.js"),x=a("./node_modules/core-js/internals/get-method.js"),w=a("./node_modules/core-js/internals/ordinary-to-primitive.js"),b=a("./node_modules/core-js/internals/well-known-symbol.js"),S=TypeError,C=b("toPrimitive");u.exports=function(B,F){if(!v(B)||g(B))return B;var N=x(B,C),Q;if(N){if(F===void 0&&(F="default"),Q=m(N,B,F),!v(Q)||g(Q))return Q;throw new S("Can't convert object to primitive value")}return F===void 0&&(F="number"),w(B,F)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-primitive.js"),v=a("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var x=m(g,"string");return v(x)?x:x+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/get-built-in.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=a("./node_modules/core-js/internals/is-iterable.js"),x=a("./node_modules/core-js/internals/is-object.js"),w=m("Set"),b=function(S){return x(S)&&typeof S.size=="number"&&v(S.has)&&v(S.keys)};u.exports=function(S){return b(S)?S:g(S)?new w(S):S}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/well-known-symbol.js"),v=m("toStringTag"),g={};g[v]="z",u.exports=String(g)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/classof.js"),v=String;u.exports=function(g){if(m(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v(g)}}),"./node_modules/core-js/internals/try-to-string.js":(function(u){var h=String;u.exports=function(a){try{return h(a)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-uncurry-this.js"),v=0,g=Math.random(),x=m(1.1.toString);u.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+x(++v+g,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/fails.js");u.exports=m&&v(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(u){var h=TypeError;u.exports=function(a,m){if(a<m)throw new h("Not enough arguments");return a}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/is-callable.js"),g=m.WeakMap;u.exports=v(g)&&/native code/.test(String(g))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/path.js"),v=a("./node_modules/core-js/internals/has-own-property.js"),g=a("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),x=a("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(w){var b=m.Symbol||(m.Symbol={});v(b,w)||x(b,w,{value:g.f(w)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/well-known-symbol.js");h.f=m}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/shared.js"),g=a("./node_modules/core-js/internals/has-own-property.js"),x=a("./node_modules/core-js/internals/uid.js"),w=a("./node_modules/core-js/internals/symbol-constructor-detection.js"),b=a("./node_modules/core-js/internals/use-symbol-as-uid.js"),S=m.Symbol,C=v("wks"),B=b?S.for||S:S&&S.withoutSetter||x;u.exports=function(F){return g(C,F)||(C[F]=w&&g(S,F)?S[F]:B("Symbol."+F)),C[F]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/fails.js"),g=a("./node_modules/core-js/internals/is-array.js"),x=a("./node_modules/core-js/internals/is-object.js"),w=a("./node_modules/core-js/internals/to-object.js"),b=a("./node_modules/core-js/internals/length-of-array-like.js"),S=a("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),C=a("./node_modules/core-js/internals/create-property.js"),B=a("./node_modules/core-js/internals/array-species-create.js"),F=a("./node_modules/core-js/internals/array-method-has-species-support.js"),N=a("./node_modules/core-js/internals/well-known-symbol.js"),Q=a("./node_modules/core-js/internals/environment-v8-version.js"),z=N("isConcatSpreadable"),k=Q>=51||!v(function(){var V=[];return V[z]=!1,V.concat()[0]!==V}),K=function(V){if(!x(V))return!1;var q=V[z];return q!==void 0?!!q:g(V)},se=!k||!F("concat");m({target:"Array",proto:!0,arity:1,forced:se},{concat:function(q){var le=w(this),ae=B(le,0),ie=0,J,G,W,pe,oe;for(J=-1,W=arguments.length;J<W;J++)if(oe=J===-1?le:arguments[J],K(oe))for(pe=b(oe),S(ie+pe),G=0;G<pe;G++,ie++)G in oe&&C(ae,ie,oe[G]);else S(ie+1),C(ae,ie++,oe);return ae.length=ie,ae}})}),"./node_modules/core-js/modules/es.array.from.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/array-from.js"),g=a("./node_modules/core-js/internals/check-correctness-of-iteration.js"),x=!g(function(w){Array.from(w)});m({target:"Array",stat:!0,forced:x},{from:v})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-indexed-object.js"),v=a("./node_modules/core-js/internals/add-to-unscopables.js"),g=a("./node_modules/core-js/internals/iterators.js"),x=a("./node_modules/core-js/internals/internal-state.js"),w=a("./node_modules/core-js/internals/object-define-property.js").f,b=a("./node_modules/core-js/internals/iterator-define.js"),S=a("./node_modules/core-js/internals/create-iter-result-object.js"),C=a("./node_modules/core-js/internals/is-pure.js"),B=a("./node_modules/core-js/internals/descriptors.js"),F="Array Iterator",N=x.set,Q=x.getterFor(F);u.exports=b(Array,"Array",function(k,K){N(this,{type:F,target:m(k),index:0,kind:K})},function(){var k=Q(this),K=k.target,se=k.index++;if(!K||se>=K.length)return k.target=null,S(void 0,!0);switch(k.kind){case"keys":return S(se,!1);case"values":return S(K[se],!1)}return S([se,K[se]],!1)},"values");var z=g.Arguments=g.Array;if(v("keys"),v("values"),v("entries"),!C&&B&&z.name!=="values")try{w(z,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js"),g=a("./node_modules/core-js/internals/indexed-object.js"),x=a("./node_modules/core-js/internals/to-indexed-object.js"),w=a("./node_modules/core-js/internals/array-method-is-strict.js"),b=v([].join),S=g!==Object,C=S||!w("join",",");m({target:"Array",proto:!0,forced:C},{join:function(F){return b(x(this),F===void 0?",":F)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/array-iteration.js").map,g=a("./node_modules/core-js/internals/array-method-has-species-support.js"),x=g("map");m({target:"Array",proto:!0,forced:!x},{map:function(b){return v(this,b,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/is-array.js"),g=a("./node_modules/core-js/internals/is-constructor.js"),x=a("./node_modules/core-js/internals/is-object.js"),w=a("./node_modules/core-js/internals/to-absolute-index.js"),b=a("./node_modules/core-js/internals/length-of-array-like.js"),S=a("./node_modules/core-js/internals/to-indexed-object.js"),C=a("./node_modules/core-js/internals/create-property.js"),B=a("./node_modules/core-js/internals/well-known-symbol.js"),F=a("./node_modules/core-js/internals/array-method-has-species-support.js"),N=a("./node_modules/core-js/internals/array-slice.js"),Q=F("slice"),z=B("species"),k=Array,K=Math.max;m({target:"Array",proto:!0,forced:!Q},{slice:function(V,q){var le=S(this),ae=b(le),ie=w(V,ae),J=w(q===void 0?ae:q,ae),G,W,pe;if(v(le)&&(G=le.constructor,g(G)&&(G===k||v(G.prototype))?G=void 0:x(G)&&(G=G[z],G===null&&(G=void 0)),G===k||G===void 0))return N(le,ie,J);for(W=new(G===void 0?k:G)(K(J-ie,0)),pe=0;ie<J;ie++,pe++)ie in le&&C(W,pe,le[ie]);return W.length=pe,W}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/descriptors.js"),v=a("./node_modules/core-js/internals/function-name.js").EXISTS,g=a("./node_modules/core-js/internals/function-uncurry-this.js"),x=a("./node_modules/core-js/internals/define-built-in-accessor.js"),w=Function.prototype,b=g(w.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,C=g(S.exec),B="name";m&&!v&&x(w,B,{configurable:!0,get:function(){try{return C(S,b(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=a("./node_modules/core-js/internals/an-instance.js"),x=a("./node_modules/core-js/internals/an-object.js"),w=a("./node_modules/core-js/internals/is-callable.js"),b=a("./node_modules/core-js/internals/object-get-prototype-of.js"),S=a("./node_modules/core-js/internals/define-built-in-accessor.js"),C=a("./node_modules/core-js/internals/create-property.js"),B=a("./node_modules/core-js/internals/fails.js"),F=a("./node_modules/core-js/internals/has-own-property.js"),N=a("./node_modules/core-js/internals/well-known-symbol.js"),Q=a("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,z=a("./node_modules/core-js/internals/descriptors.js"),k=a("./node_modules/core-js/internals/is-pure.js"),K="constructor",se="Iterator",V=N("toStringTag"),q=TypeError,le=v[se],ae=k||!w(le)||le.prototype!==Q||!B(function(){le({})}),ie=function(){if(g(this,Q),b(this)===Q)throw new q("Abstract class Iterator not directly constructable")},J=function(G,W){z?S(Q,G,{configurable:!0,get:function(){return W},set:function(pe){if(x(this),this===Q)throw new q("You can't redefine this property");F(this,G)?this[G]=pe:C(this,G,pe)}}):Q[G]=W};F(Q,V)||J(V,se),(ae||!F(Q,K)||Q[K]===Object)&&J(K,ie),ie.prototype=Q,m({global:!0,constructor:!0,forced:ae},{Iterator:ie})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/iterate.js"),x=a("./node_modules/core-js/internals/a-callable.js"),w=a("./node_modules/core-js/internals/an-object.js"),b=a("./node_modules/core-js/internals/get-iterator-direct.js"),S=a("./node_modules/core-js/internals/iterator-close.js"),C=a("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),B=C("forEach",TypeError);m({target:"Iterator",proto:!0,real:!0,forced:B},{forEach:function(N){w(this);try{x(N)}catch(k){S(this,"throw",k)}if(B)return v(B,this,N);var Q=b(this),z=0;g(Q,function(k){N(k,z++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/a-callable.js"),x=a("./node_modules/core-js/internals/an-object.js"),w=a("./node_modules/core-js/internals/get-iterator-direct.js"),b=a("./node_modules/core-js/internals/iterator-create-proxy.js"),S=a("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),C=a("./node_modules/core-js/internals/iterator-close.js"),B=a("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),F=a("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),N=a("./node_modules/core-js/internals/is-pure.js"),Q=!N&&!B("map",function(){}),z=!N&&!Q&&F("map",TypeError),k=N||Q||z,K=b(function(){var se=this.iterator,V=x(v(this.next,se)),q=this.done=!!V.done;if(!q)return S(se,this.mapper,[V.value,this.counter++],!0)});m({target:"Iterator",proto:!0,real:!0,forced:k},{map:function(V){x(this);try{g(V)}catch(q){C(this,"throw",q)}return z?v(z,this,V):new K(w(this),{mapper:V})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/get-built-in.js"),g=a("./node_modules/core-js/internals/function-apply.js"),x=a("./node_modules/core-js/internals/function-call.js"),w=a("./node_modules/core-js/internals/function-uncurry-this.js"),b=a("./node_modules/core-js/internals/fails.js"),S=a("./node_modules/core-js/internals/is-callable.js"),C=a("./node_modules/core-js/internals/is-symbol.js"),B=a("./node_modules/core-js/internals/array-slice.js"),F=a("./node_modules/core-js/internals/get-json-replacer-function.js"),N=a("./node_modules/core-js/internals/symbol-constructor-detection.js"),Q=String,z=v("JSON","stringify"),k=w(/./.exec),K=w("".charAt),se=w("".charCodeAt),V=w("".replace),q=w(1.1.toString),le=/[\uD800-\uDFFF]/g,ae=/^[\uD800-\uDBFF]$/,ie=/^[\uDC00-\uDFFF]$/,J=!N||b(function(){var oe=v("Symbol")("stringify detection");return z([oe])!=="[null]"||z({a:oe})!=="{}"||z(Object(oe))!=="{}"}),G=b(function(){return z("\uDF06\uD834")!=='"\\udf06\\ud834"'||z("\uDEAD")!=='"\\udead"'}),W=function(oe,he){var $=B(arguments),M=F(he);if(!(!S(M)&&(oe===void 0||C(oe))))return $[1]=function(ee,re){if(S(M)&&(re=x(M,this,Q(ee),re)),!C(re))return re},g(z,null,$)},pe=function(oe,he,$){var M=K($,he-1),ee=K($,he+1);return k(ae,oe)&&!k(ie,ee)||k(ie,oe)&&!k(ae,M)?"\\u"+q(se(oe,0),16):oe};z&&m({target:"JSON",stat:!0,arity:3,forced:J||G},{stringify:function(he,$,M){var ee=B(arguments),re=g(J?W:z,null,ee);return G&&typeof re=="string"?V(re,le,pe):re}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/is-pure.js"),g=a("./node_modules/core-js/internals/descriptors.js"),x=a("./node_modules/core-js/internals/global-this.js"),w=a("./node_modules/core-js/internals/path.js"),b=a("./node_modules/core-js/internals/function-uncurry-this.js"),S=a("./node_modules/core-js/internals/is-forced.js"),C=a("./node_modules/core-js/internals/has-own-property.js"),B=a("./node_modules/core-js/internals/inherit-if-required.js"),F=a("./node_modules/core-js/internals/object-is-prototype-of.js"),N=a("./node_modules/core-js/internals/is-symbol.js"),Q=a("./node_modules/core-js/internals/to-primitive.js"),z=a("./node_modules/core-js/internals/fails.js"),k=a("./node_modules/core-js/internals/object-get-own-property-names.js").f,K=a("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,se=a("./node_modules/core-js/internals/object-define-property.js").f,V=a("./node_modules/core-js/internals/this-number-value.js"),q=a("./node_modules/core-js/internals/string-trim.js").trim,le="Number",ae=x[le],ie=w[le],J=ae.prototype,G=x.TypeError,W=b("".slice),pe=b("".charCodeAt),oe=function(me){var De=Q(me,"number");return typeof De=="bigint"?De:he(De)},he=function(me){var De=Q(me,"number"),Ue,Ne,Ke,rt,et,wt,nt,Ee;if(N(De))throw new G("Cannot convert a Symbol value to a number");if(typeof De=="string"&&De.length>2){if(De=q(De),Ue=pe(De,0),Ue===43||Ue===45){if(Ne=pe(De,2),Ne===88||Ne===120)return NaN}else if(Ue===48){switch(pe(De,1)){case 66:case 98:Ke=2,rt=49;break;case 79:case 111:Ke=8,rt=55;break;default:return+De}for(et=W(De,2),wt=et.length,nt=0;nt<wt;nt++)if(Ee=pe(et,nt),Ee<48||Ee>rt)return NaN;return parseInt(et,Ke)}}return+De},$=S(le,!ae(" 0o1")||!ae("0b1")||ae("+0x1")),M=function(me){return F(J,me)&&z(function(){V(me)})},ee=function(De){var Ue=arguments.length<1?0:ae(oe(De));return M(this)?B(Object(Ue),this,ee):Ue};ee.prototype=J,$&&!v&&(J.constructor=ee),m({global:!0,constructor:!0,wrap:!0,forced:$},{Number:ee});var re=function(me,De){for(var Ue=g?k(De):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ne=0,Ke;Ue.length>Ne;Ne++)C(De,Ke=Ue[Ne])&&!C(me,Ke)&&se(me,Ke,K(De,Ke))};v&&ie&&re(w[le],ie),($||v)&&re(w[le],ae)}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==v},{assign:v})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=a("./node_modules/core-js/internals/fails.js"),x=a("./node_modules/core-js/internals/object-get-own-property-symbols.js"),w=a("./node_modules/core-js/internals/to-object.js"),b=!v||g(function(){x.f(1)});m({target:"Object",stat:!0,forced:b},{getOwnPropertySymbols:function(C){var B=x.f;return B?B(w(C)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/to-object.js"),g=a("./node_modules/core-js/internals/object-keys.js"),x=a("./node_modules/core-js/internals/fails.js"),w=x(function(){g(1)});m({target:"Object",stat:!0,forced:w},{keys:function(S){return g(v(S))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/to-string-tag-support.js"),v=a("./node_modules/core-js/internals/define-built-in.js"),g=a("./node_modules/core-js/internals/object-to-string.js");m||v(Object.prototype,"toString",g,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/a-callable.js"),x=a("./node_modules/core-js/internals/new-promise-capability.js"),w=a("./node_modules/core-js/internals/perform.js"),b=a("./node_modules/core-js/internals/iterate.js"),S=a("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{all:function(B){var F=this,N=x.f(F),Q=N.resolve,z=N.reject,k=w(function(){var K=g(F.resolve),se=[],V=0,q=1;b(B,function(le){var ae=V++,ie=!1;q++,v(K,F,le).then(function(J){ie||(ie=!0,se[ae]=J,--q||Q(se))},z)}),--q||Q(se)});return k.error&&z(k.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/is-pure.js"),g=a("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,x=a("./node_modules/core-js/internals/promise-native-constructor.js"),w=a("./node_modules/core-js/internals/get-built-in.js"),b=a("./node_modules/core-js/internals/is-callable.js"),S=a("./node_modules/core-js/internals/define-built-in.js"),C=x&&x.prototype;if(m({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(F){return this.then(void 0,F)}}),!v&&b(x)){var B=w("Promise").prototype.catch;C.catch!==B&&S(C,"catch",B,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/is-pure.js"),g=a("./node_modules/core-js/internals/environment-is-node.js"),x=a("./node_modules/core-js/internals/global-this.js"),w=a("./node_modules/core-js/internals/path.js"),b=a("./node_modules/core-js/internals/function-call.js"),S=a("./node_modules/core-js/internals/define-built-in.js"),C=a("./node_modules/core-js/internals/object-set-prototype-of.js"),B=a("./node_modules/core-js/internals/set-to-string-tag.js"),F=a("./node_modules/core-js/internals/set-species.js"),N=a("./node_modules/core-js/internals/a-callable.js"),Q=a("./node_modules/core-js/internals/is-callable.js"),z=a("./node_modules/core-js/internals/is-object.js"),k=a("./node_modules/core-js/internals/an-instance.js"),K=a("./node_modules/core-js/internals/species-constructor.js"),se=a("./node_modules/core-js/internals/task.js").set,V=a("./node_modules/core-js/internals/microtask.js"),q=a("./node_modules/core-js/internals/host-report-errors.js"),le=a("./node_modules/core-js/internals/perform.js"),ae=a("./node_modules/core-js/internals/queue.js"),ie=a("./node_modules/core-js/internals/internal-state.js"),J=a("./node_modules/core-js/internals/promise-native-constructor.js"),G=a("./node_modules/core-js/internals/promise-constructor-detection.js"),W=a("./node_modules/core-js/internals/new-promise-capability.js"),pe="Promise",oe=G.CONSTRUCTOR,he=G.REJECTION_EVENT,$=G.SUBCLASSING,M=ie.getterFor(pe),ee=ie.set,re=J&&J.prototype,me=J,De=re,Ue=x.TypeError,Ne=x.document,Ke=x.process,rt=W.f,et=rt,wt=!!(Ne&&Ne.createEvent&&x.dispatchEvent),nt="unhandledrejection",Ee="rejectionhandled",at=0,Gt=1,Oe=2,ce=1,ve=2,Ge,vt,_t,Je,We=function(Tt){var nn;return z(Tt)&&Q(nn=Tt.then)?nn:!1},yt=function(Tt,nn){var xt=nn.value,an=nn.state===Gt,dn=an?Tt.ok:Tt.fail,Nn=Tt.resolve,Wn=Tt.reject,jn=Tt.domain,rn,Dn,Yn;try{dn?(an||(nn.rejection===ve&&Ye(nn),nn.rejection=ce),dn===!0?rn=xt:(jn&&jn.enter(),rn=dn(xt),jn&&(jn.exit(),Yn=!0)),rn===Tt.promise?Wn(new Ue("Promise-chain cycle")):(Dn=We(rn))?b(Dn,rn,Nn,Wn):Nn(rn)):Wn(xt)}catch(mr){jn&&!Yn&&jn.exit(),Wn(mr)}},zt=function(Tt,nn){Tt.notified||(Tt.notified=!0,V(function(){for(var xt=Tt.reactions,an;an=xt.get();)yt(an,Tt);Tt.notified=!1,nn&&!Tt.rejection&&Ft(Tt)}))},ut=function(Tt,nn,xt){var an,dn;wt?(an=Ne.createEvent("Event"),an.promise=nn,an.reason=xt,an.initEvent(Tt,!1,!0),x.dispatchEvent(an)):an={promise:nn,reason:xt},!he&&(dn=x["on"+Tt])?dn(an):Tt===nt&&q("Unhandled promise rejection",xt)},Ft=function(Tt){b(se,x,function(){var nn=Tt.facade,xt=Tt.value,an=Ct(Tt),dn;if(an&&(dn=le(function(){g?Ke.emit("unhandledRejection",xt,nn):ut(nt,nn,xt)}),Tt.rejection=g||Ct(Tt)?ve:ce,dn.error))throw dn.value})},Ct=function(Tt){return Tt.rejection!==ce&&!Tt.parent},Ye=function(Tt){b(se,x,function(){var nn=Tt.facade;g?Ke.emit("rejectionHandled",nn):ut(Ee,nn,Tt.value)})},Zt=function(Tt,nn,xt){return function(an){Tt(nn,an,xt)}},on=function(Tt,nn,xt){Tt.done||(Tt.done=!0,xt&&(Tt=xt),Tt.value=nn,Tt.state=Oe,zt(Tt,!0))},pn=function(Tt,nn,xt){if(!Tt.done){Tt.done=!0,xt&&(Tt=xt);try{if(Tt.facade===nn)throw new Ue("Promise can't be resolved itself");var an=We(nn);an?V(function(){var dn={done:!1};try{b(an,nn,Zt(pn,dn,Tt),Zt(on,dn,Tt))}catch(Nn){on(dn,Nn,Tt)}}):(Tt.value=nn,Tt.state=Gt,zt(Tt,!1))}catch(dn){on({done:!1},dn,Tt)}}};if(oe&&(me=function(nn){k(this,De),N(nn),b(Ge,this);var xt=M(this);try{nn(Zt(pn,xt),Zt(on,xt))}catch(an){on(xt,an)}},De=me.prototype,Ge=function(nn){ee(this,{type:pe,done:!1,notified:!1,parent:!1,reactions:new ae,rejection:!1,state:at,value:null})},Ge.prototype=S(De,"then",function(nn,xt){var an=M(this),dn=rt(K(this,me));return an.parent=!0,dn.ok=Q(nn)?nn:!0,dn.fail=Q(xt)&&xt,dn.domain=g?Ke.domain:void 0,an.state===at?an.reactions.add(dn):V(function(){yt(dn,an)}),dn.promise}),vt=function(){var Tt=new Ge,nn=M(Tt);this.promise=Tt,this.resolve=Zt(pn,nn),this.reject=Zt(on,nn)},W.f=rt=function(Tt){return Tt===me||Tt===_t?new vt(Tt):et(Tt)},!v&&Q(J)&&re!==Object.prototype)){Je=re.then,$||S(re,"then",function(nn,xt){var an=this;return new me(function(dn,Nn){b(Je,an,dn,Nn)}).then(nn,xt)},{unsafe:!0});try{delete re.constructor}catch{}C&&C(re,De)}m({global:!0,constructor:!0,wrap:!0,forced:oe},{Promise:me}),_t=w.Promise,B(me,pe,!1,!0),F(pe)}),"./node_modules/core-js/modules/es.promise.js":(function(u,h,a){a("./node_modules/core-js/modules/es.promise.constructor.js"),a("./node_modules/core-js/modules/es.promise.all.js"),a("./node_modules/core-js/modules/es.promise.catch.js"),a("./node_modules/core-js/modules/es.promise.race.js"),a("./node_modules/core-js/modules/es.promise.reject.js"),a("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/a-callable.js"),x=a("./node_modules/core-js/internals/new-promise-capability.js"),w=a("./node_modules/core-js/internals/perform.js"),b=a("./node_modules/core-js/internals/iterate.js"),S=a("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{race:function(B){var F=this,N=x.f(F),Q=N.reject,z=w(function(){var k=g(F.resolve);b(B,function(K){v(k,F,K).then(N.resolve,Q)})});return z.error&&Q(z.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/new-promise-capability.js"),g=a("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;m({target:"Promise",stat:!0,forced:g},{reject:function(w){var b=v.f(this),S=b.reject;return S(w),b.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/get-built-in.js"),g=a("./node_modules/core-js/internals/is-pure.js"),x=a("./node_modules/core-js/internals/promise-native-constructor.js"),w=a("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,b=a("./node_modules/core-js/internals/promise-resolve.js"),S=v("Promise"),C=g&&!w;m({target:"Promise",stat:!0,forced:g||w},{resolve:function(F){return b(C&&this===S?x:this,F)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/regexp-exec.js");m({target:"RegExp",proto:!0,forced:/./.exec!==v},{exec:v})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(u,h,a){a("./node_modules/core-js/modules/es.regexp.exec.js");var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/is-callable.js"),x=a("./node_modules/core-js/internals/an-object.js"),w=a("./node_modules/core-js/internals/to-string.js"),b=(function(){var C=!1,B=/[ac]/;return B.exec=function(){return C=!0,/./.exec.apply(this,arguments)},B.test("abc")===!0&&C})(),S=/./.test;m({target:"RegExp",proto:!0,forced:!b},{test:function(C){var B=x(this),F=w(C),N=B.exec;if(!g(N))return v(S,B,F);var Q=v(N,B,F);return Q===null?!1:(x(Q),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/function-name.js").PROPER,v=a("./node_modules/core-js/internals/define-built-in.js"),g=a("./node_modules/core-js/internals/an-object.js"),x=a("./node_modules/core-js/internals/to-string.js"),w=a("./node_modules/core-js/internals/fails.js"),b=a("./node_modules/core-js/internals/regexp-get-flags.js"),S="toString",C=RegExp.prototype,B=C[S],F=w(function(){return B.call({source:"a",flags:"b"})!=="/a/b"}),N=m&&B.name!==S;(F||N)&&v(C,S,function(){var z=g(this),k=x(z.source),K=x(b(z));return"/"+k+"/"+K},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/collection.js"),v=a("./node_modules/core-js/internals/collection-strong.js");m("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},v)}),"./node_modules/core-js/modules/es.set.js":(function(u,h,a){a("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/string-multibyte.js").charAt,v=a("./node_modules/core-js/internals/to-string.js"),g=a("./node_modules/core-js/internals/internal-state.js"),x=a("./node_modules/core-js/internals/iterator-define.js"),w=a("./node_modules/core-js/internals/create-iter-result-object.js"),b="String Iterator",S=g.set,C=g.getterFor(b);x(String,"String",function(B){S(this,{type:b,string:v(B),index:0})},function(){var F=C(this),N=F.string,Q=F.index,z;return Q>=N.length?w(void 0,!0):(z=m(N,Q),F.index+=z.length,w(z,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/create-html.js"),g=a("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(w){return v(this,"a","href",w)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=a("./node_modules/core-js/internals/function-call.js"),x=a("./node_modules/core-js/internals/function-uncurry-this.js"),w=a("./node_modules/core-js/internals/is-pure.js"),b=a("./node_modules/core-js/internals/descriptors.js"),S=a("./node_modules/core-js/internals/symbol-constructor-detection.js"),C=a("./node_modules/core-js/internals/fails.js"),B=a("./node_modules/core-js/internals/has-own-property.js"),F=a("./node_modules/core-js/internals/object-is-prototype-of.js"),N=a("./node_modules/core-js/internals/an-object.js"),Q=a("./node_modules/core-js/internals/to-indexed-object.js"),z=a("./node_modules/core-js/internals/to-property-key.js"),k=a("./node_modules/core-js/internals/to-string.js"),K=a("./node_modules/core-js/internals/create-property-descriptor.js"),se=a("./node_modules/core-js/internals/object-create.js"),V=a("./node_modules/core-js/internals/object-keys.js"),q=a("./node_modules/core-js/internals/object-get-own-property-names.js"),le=a("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ae=a("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ie=a("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),J=a("./node_modules/core-js/internals/object-define-property.js"),G=a("./node_modules/core-js/internals/object-define-properties.js"),W=a("./node_modules/core-js/internals/object-property-is-enumerable.js"),pe=a("./node_modules/core-js/internals/define-built-in.js"),oe=a("./node_modules/core-js/internals/define-built-in-accessor.js"),he=a("./node_modules/core-js/internals/shared.js"),$=a("./node_modules/core-js/internals/shared-key.js"),M=a("./node_modules/core-js/internals/hidden-keys.js"),ee=a("./node_modules/core-js/internals/uid.js"),re=a("./node_modules/core-js/internals/well-known-symbol.js"),me=a("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),De=a("./node_modules/core-js/internals/well-known-symbol-define.js"),Ue=a("./node_modules/core-js/internals/symbol-define-to-primitive.js"),Ne=a("./node_modules/core-js/internals/set-to-string-tag.js"),Ke=a("./node_modules/core-js/internals/internal-state.js"),rt=a("./node_modules/core-js/internals/array-iteration.js").forEach,et=$("hidden"),wt="Symbol",nt="prototype",Ee=Ke.set,at=Ke.getterFor(wt),Gt=Object[nt],Oe=v.Symbol,ce=Oe&&Oe[nt],ve=v.RangeError,Ge=v.TypeError,vt=v.QObject,_t=ie.f,Je=J.f,We=le.f,yt=W.f,zt=x([].push),ut=he("symbols"),Ft=he("op-symbols"),Ct=he("wks"),Ye=!vt||!vt[nt]||!vt[nt].findChild,Zt=function(jn,rn,Dn){var Yn=_t(Gt,rn);Yn&&delete Gt[rn],Je(jn,rn,Dn),Yn&&jn!==Gt&&Je(Gt,rn,Yn)},on=b&&C(function(){return se(Je({},"a",{get:function(){return Je(this,"a",{value:7}).a}})).a!==7})?Zt:Je,pn=function(jn,rn){var Dn=ut[jn]=se(ce);return Ee(Dn,{type:wt,tag:jn,description:rn}),b||(Dn.description=rn),Dn},Tt=function(rn,Dn,Yn){rn===Gt&&Tt(Ft,Dn,Yn),N(rn);var mr=z(Dn);return N(Yn),B(ut,mr)?(Yn.enumerable?(B(rn,et)&&rn[et][mr]&&(rn[et][mr]=!1),Yn=se(Yn,{enumerable:K(0,!1)})):(B(rn,et)||Je(rn,et,K(1,se(null))),rn[et][mr]=!0),on(rn,mr,Yn)):Je(rn,mr,Yn)},nn=function(rn,Dn){N(rn);var Yn=Q(Dn),mr=V(Yn).concat(Wn(Yn));return rt(mr,function(os){(!b||g(an,Yn,os))&&Tt(rn,os,Yn[os])}),rn},xt=function(rn,Dn){return Dn===void 0?se(rn):nn(se(rn),Dn)},an=function(rn){var Dn=z(rn),Yn=g(yt,this,Dn);return this===Gt&&B(ut,Dn)&&!B(Ft,Dn)?!1:Yn||!B(this,Dn)||!B(ut,Dn)||B(this,et)&&this[et][Dn]?Yn:!0},dn=function(rn,Dn){var Yn=Q(rn),mr=z(Dn);if(!(Yn===Gt&&B(ut,mr)&&!B(Ft,mr))){var os=_t(Yn,mr);return os&&B(ut,mr)&&!(B(Yn,et)&&Yn[et][mr])&&(os.enumerable=!0),os}},Nn=function(rn){var Dn=We(Q(rn)),Yn=[];return rt(Dn,function(mr){!B(ut,mr)&&!B(M,mr)&&zt(Yn,mr)}),Yn},Wn=function(jn){var rn=jn===Gt,Dn=We(rn?Ft:Q(jn)),Yn=[];return rt(Dn,function(mr){B(ut,mr)&&(!rn||B(Gt,mr))&&zt(Yn,ut[mr])}),Yn};S||(Oe=function(){if(F(ce,this))throw new Ge("Symbol is not a constructor");var rn=!arguments.length||arguments[0]===void 0?void 0:k(arguments[0]),Dn=ee(rn),Yn=function(mr){var os=this===void 0?v:this;os===Gt&&g(Yn,Ft,mr),B(os,et)&&B(os[et],Dn)&&(os[et][Dn]=!1);var Ni=K(1,mr);try{on(os,Dn,Ni)}catch(Mn){if(!(Mn instanceof ve))throw Mn;Zt(os,Dn,Ni)}};return b&&Ye&&on(Gt,Dn,{configurable:!0,set:Yn}),pn(Dn,rn)},ce=Oe[nt],pe(ce,"toString",function(){return at(this).tag}),pe(Oe,"withoutSetter",function(jn){return pn(ee(jn),jn)}),W.f=an,J.f=Tt,G.f=nn,ie.f=dn,q.f=le.f=Nn,ae.f=Wn,me.f=function(jn){return pn(re(jn),jn)},b&&(oe(ce,"description",{configurable:!0,get:function(){return at(this).description}}),w||pe(Gt,"propertyIsEnumerable",an,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!S,sham:!S},{Symbol:Oe}),rt(V(Ct),function(jn){De(jn)}),m({target:wt,stat:!0,forced:!S},{useSetter:function(){Ye=!0},useSimple:function(){Ye=!1}}),m({target:"Object",stat:!0,forced:!S,sham:!b},{create:xt,defineProperty:Tt,defineProperties:nn,getOwnPropertyDescriptor:dn}),m({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:Nn}),Ue(),Ne(Oe,wt),M[et]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/descriptors.js"),g=a("./node_modules/core-js/internals/global-this.js"),x=a("./node_modules/core-js/internals/function-uncurry-this.js"),w=a("./node_modules/core-js/internals/has-own-property.js"),b=a("./node_modules/core-js/internals/is-callable.js"),S=a("./node_modules/core-js/internals/object-is-prototype-of.js"),C=a("./node_modules/core-js/internals/to-string.js"),B=a("./node_modules/core-js/internals/define-built-in-accessor.js"),F=a("./node_modules/core-js/internals/copy-constructor-properties.js"),N=g.Symbol,Q=N&&N.prototype;if(v&&b(N)&&(!("description"in Q)||N().description!==void 0)){var z={},k=function(){var J=arguments.length<1||arguments[0]===void 0?void 0:C(arguments[0]),G=S(Q,this)?new N(J):J===void 0?N():N(J);return J===""&&(z[G]=!0),G};F(k,N),k.prototype=Q,Q.constructor=k;var K=String(N("description detection"))==="Symbol(description detection)",se=x(Q.valueOf),V=x(Q.toString),q=/^Symbol\((.*)\)[^)]+$/,le=x("".replace),ae=x("".slice);B(Q,"description",{configurable:!0,get:function(){var J=se(this);if(w(z,J))return"";var G=V(J),W=K?ae(G,7,-1):le(G,q,"$1");return W===""?void 0:W}}),m({global:!0,constructor:!0,forced:!0},{Symbol:k})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/get-built-in.js"),g=a("./node_modules/core-js/internals/has-own-property.js"),x=a("./node_modules/core-js/internals/to-string.js"),w=a("./node_modules/core-js/internals/shared.js"),b=a("./node_modules/core-js/internals/symbol-registry-detection.js"),S=w("string-to-symbol-registry"),C=w("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!b},{for:function(B){var F=x(B);if(g(S,F))return S[F];var N=v("Symbol")(F);return S[F]=N,C[N]=F,N}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/well-known-symbol-define.js");m("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,h,a){a("./node_modules/core-js/modules/es.symbol.constructor.js"),a("./node_modules/core-js/modules/es.symbol.for.js"),a("./node_modules/core-js/modules/es.symbol.key-for.js"),a("./node_modules/core-js/modules/es.json.stringify.js"),a("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/has-own-property.js"),g=a("./node_modules/core-js/internals/is-symbol.js"),x=a("./node_modules/core-js/internals/try-to-string.js"),w=a("./node_modules/core-js/internals/shared.js"),b=a("./node_modules/core-js/internals/symbol-registry-detection.js"),S=w("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!b},{keyFor:function(B){if(!g(B))throw new TypeError(x(B)+" is not a symbol");if(v(S,B))return S[B]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(u,h,a){a("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(u,h,a){a("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(u,h,a){a("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/a-set.js"),g=a("./node_modules/core-js/internals/set-helpers.js").add;m({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var w=v(this),b=0,S=arguments.length;b<S;b++)g(w,arguments[b]);return w}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/a-set.js"),g=a("./node_modules/core-js/internals/set-helpers.js").remove;m({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var w=v(this),b=!0,S,C=0,B=arguments.length;C<B;C++)S=g(w,arguments[C]),b=b&&S;return!!b}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-set-like.js"),x=a("./node_modules/core-js/internals/set-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(b){return v(x,this,g(b))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-bind-context.js"),g=a("./node_modules/core-js/internals/a-set.js"),x=a("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{every:function(b){var S=g(this),C=v(b,arguments.length>1?arguments[1]:void 0);return x(S,function(B){if(!C(B,B,S))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-bind-context.js"),g=a("./node_modules/core-js/internals/a-set.js"),x=a("./node_modules/core-js/internals/set-helpers.js"),w=a("./node_modules/core-js/internals/set-iterate.js"),b=x.Set,S=x.add;m({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(B){var F=g(this),N=v(B,arguments.length>1?arguments[1]:void 0),Q=new b;return w(F,function(z){N(z,z,F)&&S(Q,z)}),Q}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-bind-context.js"),g=a("./node_modules/core-js/internals/a-set.js"),x=a("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{find:function(b){var S=g(this),C=v(b,arguments.length>1?arguments[1]:void 0),B=x(S,function(F){if(C(F,F,S))return{value:F}},!0);return B&&B.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-set-like.js"),x=a("./node_modules/core-js/internals/set-intersection.js");m({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(b){return v(x,this,g(b))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-set-like.js"),x=a("./node_modules/core-js/internals/set-is-disjoint-from.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(b){return v(x,this,g(b))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-set-like.js"),x=a("./node_modules/core-js/internals/set-is-subset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(b){return v(x,this,g(b))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-set-like.js"),x=a("./node_modules/core-js/internals/set-is-superset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(b){return v(x,this,g(b))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-uncurry-this.js"),g=a("./node_modules/core-js/internals/a-set.js"),x=a("./node_modules/core-js/internals/set-iterate.js"),w=a("./node_modules/core-js/internals/to-string.js"),b=v([].join),S=v([].push);m({target:"Set",proto:!0,real:!0,forced:!0},{join:function(B){var F=g(this),N=B===void 0?",":w(B),Q=[];return x(F,function(z){S(Q,z)}),b(Q,N)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-bind-context.js"),g=a("./node_modules/core-js/internals/a-set.js"),x=a("./node_modules/core-js/internals/set-helpers.js"),w=a("./node_modules/core-js/internals/set-iterate.js"),b=x.Set,S=x.add;m({target:"Set",proto:!0,real:!0,forced:!0},{map:function(B){var F=g(this),N=v(B,arguments.length>1?arguments[1]:void 0),Q=new b;return w(F,function(z){S(Q,N(z,z,F))}),Q}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/a-callable.js"),g=a("./node_modules/core-js/internals/a-set.js"),x=a("./node_modules/core-js/internals/set-iterate.js"),w=TypeError;m({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(S){var C=g(this),B=arguments.length<2,F=B?void 0:arguments[1];if(v(S),x(C,function(N){B?(B=!1,F=N):F=S(F,N,N,C)}),B)throw new w("Reduce of empty set with no initial value");return F}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-bind-context.js"),g=a("./node_modules/core-js/internals/a-set.js"),x=a("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{some:function(b){var S=g(this),C=v(b,arguments.length>1?arguments[1]:void 0);return x(S,function(B){if(C(B,B,S))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-set-like.js"),x=a("./node_modules/core-js/internals/set-symmetric-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(b){return v(x,this,g(b))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/function-call.js"),g=a("./node_modules/core-js/internals/to-set-like.js"),x=a("./node_modules/core-js/internals/set-union.js");m({target:"Set",proto:!0,real:!0,forced:!0},{union:function(b){return v(x,this,g(b))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/dom-iterables.js"),g=a("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=a("./node_modules/core-js/internals/array-for-each.js"),w=a("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=function(C){if(C&&C.forEach!==x)try{w(C,"forEach",x)}catch{C.forEach=x}};for(var S in v)v[S]&&b(m[S]&&m[S].prototype);b(g)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/global-this.js"),v=a("./node_modules/core-js/internals/dom-iterables.js"),g=a("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=a("./node_modules/core-js/modules/es.array.iterator.js"),w=a("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=a("./node_modules/core-js/internals/set-to-string-tag.js"),S=a("./node_modules/core-js/internals/well-known-symbol.js"),C=S("iterator"),B=x.values,F=function(Q,z){if(Q){if(Q[C]!==B)try{w(Q,C,B)}catch{Q[C]=B}if(b(Q,z,!0),v[z]){for(var k in x)if(Q[k]!==x[k])try{w(Q,k,x[k])}catch{Q[k]=x[k]}}}};for(var N in v)F(m[N]&&m[N].prototype,N);F(g,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=a("./node_modules/core-js/internals/schedulers-fix.js"),x=g(v.setInterval,!0);m({global:!0,bind:!0,forced:v.setInterval!==x},{setInterval:x})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(u,h,a){var m=a("./node_modules/core-js/internals/export.js"),v=a("./node_modules/core-js/internals/global-this.js"),g=a("./node_modules/core-js/internals/schedulers-fix.js"),x=g(v.setTimeout,!0);m({global:!0,bind:!0,forced:v.setTimeout!==x},{setTimeout:x})}),"./node_modules/core-js/modules/web.timers.js":(function(u,h,a){a("./node_modules/core-js/modules/web.set-interval.js"),a("./node_modules/core-js/modules/web.set-timeout.js")}),"./src/plugin/hyperlinks.js":(function(u,h,a){a.r(h),a("./node_modules/core-js/modules/es.object.to-string.js"),a("./node_modules/core-js/modules/es.string.link.js"),a("./node_modules/core-js/modules/esnext.iterator.constructor.js"),a("./node_modules/core-js/modules/esnext.iterator.for-each.js"),a("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=a("./src/worker.js"),v=a("./src/utils.js"),g=[],x={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return x.toContainer.call(this).then(function(){if(this.opt.enableLinks){var S=this.prop.container,C=S.querySelectorAll("a"),B=(0,v.unitConvert)(S.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(C,function(F){for(var N=F.getClientRects(),Q=0;Q<N.length;Q++){var z=(0,v.unitConvert)(N[Q],this.prop.pageSize.k);z.left-=B.left,z.top-=B.top;var k=Math.floor(z.top/this.prop.pageSize.inner.height)+1,K=this.opt.margin[0]+z.top%this.prop.pageSize.inner.height,se=this.opt.margin[1]+z.left;g.push({page:k,top:K,left:se,clientRect:z,link:F})}},this)}})},m.default.prototype.toPdf=function(){return x.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(C){this.prop.pdf.setPage(C.page),this.prop.pdf.link(C.left,C.top,C.clientRect.width,C.clientRect.height,{url:C.link.href})},this);var S=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(S)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,h,a){a.r(h),a("./node_modules/core-js/modules/es.symbol.js"),a("./node_modules/core-js/modules/es.symbol.description.js"),a("./node_modules/core-js/modules/es.symbol.iterator.js"),a("./node_modules/core-js/modules/es.array.iterator.js"),a("./node_modules/core-js/modules/es.object.to-string.js"),a("./node_modules/core-js/modules/es.string.iterator.js"),a("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=a("jspdf");function v(g){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},v(g)}m.jsPDF.getPageSize=function(g,x,w){if(v(g)==="object"){var b=g;g=b.orientation,x=b.unit||x,w=b.format||w}x=x||"mm",w=w||"a4",g=(""+(g||"P")).toLowerCase();var S=(""+w).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":var B=1;break;case"mm":var B=72/25.4;break;case"cm":var B=72/2.54;break;case"in":var B=72;break;case"px":var B=72/96;break;case"pc":var B=12;break;case"em":var B=12;break;case"ex":var B=6;break;default:throw"Invalid unit: "+x}if(C.hasOwnProperty(S))var F=C[S][1]/B,N=C[S][0]/B;else try{var F=w[1],N=w[0]}catch{throw new Error("Invalid format: "+w)}if(g==="p"||g==="portrait"){if(g="p",N>F){var Q=N;N=F,F=Q}}else if(g==="l"||g==="landscape"){if(g="l",F>N){var Q=N;N=F,F=Q}}else throw"Invalid orientation: "+g;var z={width:N,height:F,unit:x,k:B};return z},h.default=m.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,h,a){a.r(h),a("./node_modules/core-js/modules/es.array.concat.js"),a("./node_modules/core-js/modules/es.array.join.js"),a("./node_modules/core-js/modules/es.array.slice.js"),a("./node_modules/core-js/modules/es.object.keys.js"),a("./node_modules/core-js/modules/es.object.to-string.js"),a("./node_modules/core-js/modules/esnext.iterator.constructor.js"),a("./node_modules/core-js/modules/esnext.iterator.for-each.js"),a("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=a("./src/worker.js"),v=a("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var b=this.prop.container,S=this.prop.pageSize.inner.px.height,C=[].concat(this.opt.pagebreak.mode),B={avoidAll:C.indexOf("avoid-all")!==-1,css:C.indexOf("css")!==-1,legacy:C.indexOf("legacy")!==-1},F={},N=this;["before","after","avoid"].forEach(function(k){var K=B.avoidAll&&k==="avoid";F[k]=K?[]:[].concat(N.opt.pagebreak[k]||[]),F[k].length>0&&(F[k]=Array.prototype.slice.call(b.querySelectorAll(F[k].join(", "))))});var Q=b.querySelectorAll(".html2pdf__page-break");Q=Array.prototype.slice.call(Q);var z=b.querySelectorAll("*");Array.prototype.forEach.call(z,function(K){var se={before:!1,after:B.legacy&&Q.indexOf(K)!==-1,avoid:B.avoidAll};if(B.css){var V=window.getComputedStyle(K),q=["always","page","left","right"],le=["avoid","avoid-page"];se={before:se.before||q.indexOf(V.breakBefore||V.pageBreakBefore)!==-1,after:se.after||q.indexOf(V.breakAfter||V.pageBreakAfter)!==-1,avoid:se.avoid||le.indexOf(V.breakInside||V.pageBreakInside)!==-1}}Object.keys(se).forEach(function(pe){se[pe]=se[pe]||F[pe].indexOf(K)!==-1});var ae=K.getBoundingClientRect();if(se.avoid&&!se.before){var ie=Math.floor(ae.top/S),J=Math.floor(ae.bottom/S),G=Math.abs(ae.bottom-ae.top)/S;J!==ie&&G<=1&&(se.before=!0)}if(se.before){var W=(0,v.createElement)("div",{style:{display:"block",height:S-ae.top%S+"px"}});K.parentNode.insertBefore(W,K)}if(se.after){var W=(0,v.createElement)("div",{style:{display:"block",height:S-ae.bottom%S+"px"}});K.parentNode.insertBefore(W,K.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(u,h,a){a.r(h),a.d(h,{deepCloneBasic:function(){return w}}),a("./node_modules/core-js/modules/es.symbol.js"),a("./node_modules/core-js/modules/es.symbol.description.js"),a("./node_modules/core-js/modules/es.symbol.iterator.js"),a("./node_modules/core-js/modules/es.array.concat.js"),a("./node_modules/core-js/modules/es.array.from.js"),a("./node_modules/core-js/modules/es.array.iterator.js"),a("./node_modules/core-js/modules/es.array.slice.js"),a("./node_modules/core-js/modules/es.function.name.js"),a("./node_modules/core-js/modules/es.object.to-string.js"),a("./node_modules/core-js/modules/es.regexp.exec.js"),a("./node_modules/core-js/modules/es.regexp.test.js"),a("./node_modules/core-js/modules/es.regexp.to-string.js"),a("./node_modules/core-js/modules/es.set.js"),a("./node_modules/core-js/modules/es.string.iterator.js"),a("./node_modules/core-js/modules/esnext.set.add-all.js"),a("./node_modules/core-js/modules/esnext.set.delete-all.js"),a("./node_modules/core-js/modules/esnext.set.difference.js"),a("./node_modules/core-js/modules/esnext.set.every.js"),a("./node_modules/core-js/modules/esnext.set.filter.js"),a("./node_modules/core-js/modules/esnext.set.find.js"),a("./node_modules/core-js/modules/esnext.set.intersection.js"),a("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),a("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),a("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),a("./node_modules/core-js/modules/esnext.set.join.js"),a("./node_modules/core-js/modules/esnext.set.map.js"),a("./node_modules/core-js/modules/esnext.set.reduce.js"),a("./node_modules/core-js/modules/esnext.set.some.js"),a("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),a("./node_modules/core-js/modules/esnext.set.union.js"),a("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(b,S){var C=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!C){if(Array.isArray(b)||(C=v(b))||S){C&&(b=C);var B=0,F=function(){};return{s:F,n:function(){return B>=b.length?{done:!0}:{done:!1,value:b[B++]}},e:function(K){throw K},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,Q=!0,z=!1;return{s:function(){C=C.call(b)},n:function(){var K=C.next();return Q=K.done,K},e:function(K){z=!0,N=K},f:function(){try{Q||C.return==null||C.return()}finally{if(z)throw N}}}}function v(b,S){if(b){if(typeof b=="string")return g(b,S);var C={}.toString.call(b).slice(8,-1);return C==="Object"&&b.constructor&&(C=b.constructor.name),C==="Map"||C==="Set"?Array.from(b):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?g(b,S):void 0}}function g(b,S){(S==null||S>b.length)&&(S=b.length);for(var C=0,B=Array(S);C<S;C++)B[C]=b[C];return B}function x(b,S){try{var C=b.currentSrc||b.src||"";if(!C)return;S.setAttribute("src",C),S.removeAttribute("srcset"),S.removeAttribute("sizes"),S.loading="eager",S.decoding="sync"}catch{}}function w(b){if(!b)throw new Error("Invalid node");var S=new Set,C=null;if(b.nodeType===Node.TEXT_NODE||b.nodeType!==Node.ELEMENT_NODE)return b.cloneNode(!0);if(b.tagName==="IFRAME"){var B=document.createElement("div");return B.style.cssText="width:".concat(b.offsetWidth,"px;height:").concat(b.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),B}if(b.tagName==="CANVAS"){var F=b.toDataURL(),N=document.createElement("img");return N.src=F,N.width=b.width,N.height=b.height,N}var Q;try{Q=b.cloneNode(!1),b.tagName==="IMG"&&x(b,Q)}catch(wt){throw console.error("[Snapdom] Failed to clone node:",b,wt),wt}if(b instanceof HTMLTextAreaElement){Q.textContent=b.value,Q.value=b.value;var z=b.getBoundingClientRect();return Q.style.boxSizing="border-box",Q.style.width="".concat(z.width,"px"),Q.style.height="".concat(z.height,"px"),Q}if(b instanceof HTMLInputElement&&(b.hasAttribute("value")&&(Q.value=b.value,Q.setAttribute("value",b.value)),b.checked!==void 0&&(Q.checked=b.checked,b.checked&&Q.setAttribute("checked",""),b.indeterminate&&(Q.indeterminate=b.indeterminate))),b instanceof HTMLSelectElement&&(C=b.value),b.shadowRoot){var k=Array.from(b.shadowRoot.querySelectorAll("slot")).length>0;if(!k){var K=document.createDocumentFragment(),se=m(b.shadowRoot.childNodes),V;try{for(se.s();!(V=se.n()).done;){var q=V.value;if(!(q.nodeType===Node.ELEMENT_NODE&&q.tagName==="STYLE")){var le=w(q);le&&K.appendChild(le)}}}catch(wt){se.e(wt)}finally{se.f()}Q.appendChild(K)}}if(b.tagName==="SLOT"){var ae,ie=((ae=b.assignedNodes)===null||ae===void 0?void 0:ae.call(b,{flatten:!0}))||[],J=ie.length>0?ie:Array.from(b.childNodes),G=document.createDocumentFragment(),W=m(J),pe;try{for(W.s();!(pe=W.n()).done;){var oe=pe.value,he=w(oe);he&&G.appendChild(he)}}catch(wt){W.e(wt)}finally{W.f()}return G}var $=m(b.childNodes),M;try{for($.s();!(M=$.n()).done;){var ee=M.value;if(!S.has(ee)){var re=w(ee);re&&Q.appendChild(re)}}}catch(wt){$.e(wt)}finally{$.f()}if(C!==null&&Q instanceof HTMLSelectElement){Q.value=C;var me=m(Q.options),De;try{for(me.s();!(De=me.n()).done;){var Ue=De.value;Ue.value===C?Ue.setAttribute("selected",""):Ue.removeAttribute("selected")}}catch(wt){me.e(wt)}finally{me.f()}}var Ne=b.scrollLeft,Ke=b.scrollTop,rt=Ne||Ke;if(rt&&Q instanceof HTMLElement){Q.style.overflow="hidden",Q.style.scrollbarWidth="none",Q.style.msOverflowStyle="none";var et=document.createElement("div");for(et.style.transform="translate(".concat(-Ne,"px, ").concat(-Ke,"px)"),et.style.willChange="transform",et.style.display="inline-block",et.style.width="100%";Q.firstChild;)et.appendChild(Q.firstChild);Q.appendChild(et)}return Q}}),"./src/utils.js":(function(u,h,a){a.r(h),a.d(h,{createElement:function(){return g},objType:function(){return v},toPx:function(){return w},unitConvert:function(){return x}}),a("./node_modules/core-js/modules/es.symbol.js"),a("./node_modules/core-js/modules/es.symbol.description.js"),a("./node_modules/core-js/modules/es.symbol.iterator.js"),a("./node_modules/core-js/modules/es.array.iterator.js"),a("./node_modules/core-js/modules/es.number.constructor.js"),a("./node_modules/core-js/modules/es.object.to-string.js"),a("./node_modules/core-js/modules/es.string.iterator.js"),a("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(b){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},m(b)}var v=function(S){var C=m(S);return C==="undefined"?"undefined":C==="string"||S instanceof String?"string":C==="number"||S instanceof Number?"number":C==="function"||S instanceof Function?"function":S&&S.constructor===Array?"array":S&&S.nodeType===1?"element":C==="object"?"object":"unknown"},g=function(S,C){var B=document.createElement(S);if(C.className&&(B.className=C.className),C.innerHTML){B.innerHTML=C.innerHTML;for(var F=B.getElementsByTagName("script"),N=F.length;N-- >0;null)F[N].parentNode.removeChild(F[N])}for(var Q in C.style)B.style[Q]=C.style[Q];return B},x=function(S,C){if(v(S)==="number")return S*72/96/C;var B={};for(var F in S)B[F]=S[F]*72/96/C;return B},w=function(S,C){return Math.floor(S*C/72*96)}}),"./src/worker.js":(function(u,h,a){a.r(h),a("./node_modules/core-js/modules/es.array.concat.js"),a("./node_modules/core-js/modules/es.array.map.js"),a("./node_modules/core-js/modules/es.function.name.js"),a("./node_modules/core-js/modules/es.json.stringify.js"),a("./node_modules/core-js/modules/es.object.assign.js"),a("./node_modules/core-js/modules/es.object.keys.js"),a("./node_modules/core-js/modules/es.object.to-string.js"),a("./node_modules/core-js/modules/es.promise.js"),a("./node_modules/core-js/modules/es.regexp.to-string.js"),a("./node_modules/core-js/modules/esnext.iterator.constructor.js"),a("./node_modules/core-js/modules/esnext.iterator.for-each.js"),a("./node_modules/core-js/modules/esnext.iterator.map.js"),a("./node_modules/core-js/modules/web.dom-collections.for-each.js"),a("./node_modules/core-js/modules/web.timers.js");var m=a("jspdf"),v=a("html2canvas"),g=a.n(v),x=a("./src/snapdom/clone.js"),w=a("./src/utils.js"),b=function S(C){var B=Object.assign(S.convert(Promise.resolve()),JSON.parse(JSON.stringify(S.template))),F=S.convert(Promise.resolve(),B);return F=F.setProgress(1,S,1,[S]),F=F.set(C),F};b.prototype=Object.create(Promise.prototype),b.prototype.constructor=b,b.convert=function(C,B){return C.__proto__=B||b.prototype,C},b.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},b.prototype.from=function(C,B){function F(N){switch((0,w.objType)(N)){case"string":return"string";case"element":return N.nodeName.toLowerCase&&N.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(B=B||F(C),B){case"string":return this.set({src:(0,w.createElement)("div",{innerHTML:C})});case"element":return this.set({src:C});case"canvas":return this.set({canvas:C});case"img":return this.set({img:C});default:return this.error("Unknown source type.")}})},b.prototype.to=function(C){switch(C){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},b.prototype.toContainer=function(){var C=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(C).then(function(){var F={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},N={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};F.opacity=0;var Q=(0,x.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,w.createElement)("div",{className:"html2pdf__overlay",style:F}),this.prop.container=(0,w.createElement)("div",{className:"html2pdf__container",style:N}),this.prop.container.appendChild(Q),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(z){return setTimeout(z,10)})})},b.prototype.toCanvas=function(){var C=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(C).then(function(){var F=Object.assign({},this.opt.html2canvas);return delete F.onrendered,g()(this.prop.container,F)}).then(function(F){var N=this.opt.html2canvas.onrendered||function(){};N(F),this.prop.canvas=F,document.body.removeChild(this.prop.overlay)})},b.prototype.toImg=function(){var C=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(C).then(function(){var F=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=F})},b.prototype.toPdf=function(){var C=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(C).then(function(){var F=this.prop.canvas,N=this.opt,Q=F.height,z=Math.floor(F.width*this.prop.pageSize.inner.ratio),k=Math.ceil(Q/z),K=this.prop.pageSize.inner.height,se=document.createElement("canvas"),V=se.getContext("2d");se.width=F.width,se.height=z,this.prop.pdf=this.prop.pdf||new m.jsPDF(N.jsPDF);for(var q=0;q<k;q++){q===k-1&&Q%z!==0&&(se.height=Q%z,K=se.height*this.prop.pageSize.inner.width/se.width);var le=se.width,ae=se.height;V.fillStyle="white",V.fillRect(0,0,le,ae),V.drawImage(F,0,q*z,le,ae,0,0,le,ae),q&&this.prop.pdf.addPage();var ie=se.toDataURL("image/"+N.image.type,N.image.quality);this.prop.pdf.addImage(ie,N.image.type,N.margin[1],N.margin[0],this.prop.pageSize.inner.width,K)}})},b.prototype.output=function(C,B,F){return F=F||"pdf",F.toLowerCase()==="img"||F.toLowerCase()==="image"?this.outputImg(C,B):this.outputPdf(C,B)},b.prototype.outputPdf=function(C,B){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).then(function(){return this.prop.pdf.output(C,B)})},b.prototype.outputImg=function(C,B){var F=[function(){return this.prop.img||this.toImg()}];return this.thenList(F).then(function(){switch(C){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+C+'" is not supported.'}})},b.prototype.save=function(C){var B=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(B).set(C?{filename:C}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},b.prototype.set=function(C){if((0,w.objType)(C)!=="object")return this;var B=Object.keys(C||{}).map(function(F){switch(F){case"margin":return this.setMargin.bind(this,C.margin);case"jsPDF":return function(){return this.opt.jsPDF=C.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,C.pageSize);default:return F in b.template.prop?function(){this.prop[F]=C[F]}:function(){this.opt[F]=C[F]}}},this);return this.then(function(){return this.thenList(B)})},b.prototype.get=function(C,B){return this.then(function(){var N=C in b.template.prop?this.prop[C]:this.opt[C];return B?B(N):N})},b.prototype.setMargin=function(C){return this.then(function(){switch((0,w.objType)(C)){case"number":C=[C,C,C,C];case"array":if(C.length===2&&(C=[C[0],C[1],C[0],C[1]]),C.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=C}).then(this.setPageSize)},b.prototype.setPageSize=function(C){return this.then(function(){C=C||m.jsPDF.getPageSize(this.opt.jsPDF),C.hasOwnProperty("inner")||(C.inner={width:C.width-this.opt.margin[1]-this.opt.margin[3],height:C.height-this.opt.margin[0]-this.opt.margin[2]},C.inner.px={width:(0,w.toPx)(C.inner.width,C.k),height:(0,w.toPx)(C.inner.height,C.k)},C.inner.ratio=C.inner.height/C.inner.width),this.prop.pageSize=C})},b.prototype.setProgress=function(C,B,F,N){return C!=null&&(this.progress.val=C),B!=null&&(this.progress.state=B),F!=null&&(this.progress.n=F),N!=null&&(this.progress.stack=N),this.progress.ratio=this.progress.val/this.progress.state,this},b.prototype.updateProgress=function(C,B,F,N){return this.setProgress(C?this.progress.val+C:null,B||null,F?this.progress.n+F:null,N?this.progress.stack.concat(N):null)},b.prototype.then=function(C,B){var F=this;return this.thenCore(C,B,function(Q,z){return F.updateProgress(null,null,1,[Q]),Promise.prototype.then.call(this,function(K){return F.updateProgress(null,Q),K}).then(Q,z).then(function(K){return F.updateProgress(1),K})})},b.prototype.thenCore=function(C,B,F){F=F||Promise.prototype.then;var N=this;C&&(C=C.bind(N)),B&&(B=B.bind(N));var Q=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",z=Q?N:b.convert(Object.assign({},N),Promise.prototype),k=F.call(z,C,B);return b.convert(k,N.__proto__)},b.prototype.thenExternal=function(C,B){return Promise.prototype.then.call(this,C,B)},b.prototype.thenList=function(C){var B=this;return C.forEach(function(N){B=B.thenCore(N)}),B},b.prototype.catch=function(S){S&&(S=S.bind(this));var C=Promise.prototype.catch.call(this,S);return b.convert(C,this)},b.prototype.catchExternal=function(C){return Promise.prototype.catch.call(this,C)},b.prototype.error=function(C){return this.then(function(){throw new Error(C)})},b.prototype.using=b.prototype.set,b.prototype.saveAs=b.prototype.save,b.prototype.export=b.prototype.output,b.prototype.run=b.prototype.then,h.default=b}),html2canvas:(function(u){u.exports=s}),jspdf:(function(u){u.exports=r})},l={};function d(u){var h=l[u];if(h!==void 0)return h.exports;var a=l[u]={exports:{}};return i[u].call(a.exports,a,a.exports,d),a.exports}(function(){d.n=function(u){var h=u&&u.__esModule?function(){return u.default}:function(){return u};return d.d(h,{a:h}),h}})(),(function(){d.d=function(u,h){for(var a in h)d.o(h,a)&&!d.o(u,a)&&Object.defineProperty(u,a,{enumerable:!0,get:h[a]})}})(),(function(){d.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)}})(),(function(){d.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var f={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/d.r(f);var u=d("./src/worker.js");d("./src/plugin/jspdf-plugin.js"),d("./src/plugin/pagebreaks.js"),d("./src/plugin/hyperlinks.js");var h=function a(m,v){var g=new a.Worker(v);return m?g.from(m).save():g};h.Worker=u.default,f.default=h})(),f=f.default,f})()})})(vw)),vw.exports}vae();const xae=()=>{const[t,n]=T.useState([]),[r,s]=T.useState(!1),[i,l]=T.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[d,f]=T.useState(null),[u,h]=T.useState(""),[a,m]=T.useState(new Date().toISOString().split("T")[0]),[v,g]=T.useState([]),x=Hr(),{isOpen:w,onOpen:b,onClose:S}=er(),{isOpen:C,onOpen:B,onClose:F}=er(),{isOpen:N,onOpen:Q,onClose:z}=er();T.useEffect(()=>{k()},[]);const k=async()=>{s(!0);try{const G=await fetch("http://localhost:3001/api/finance/scheduled-operations",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(G.ok){const W=await G.json();n(Array.isArray(W)?W:W.scheduledOperations||[])}}catch(G){console.error("Erreur chargement chanciers:",G),x({status:"error",title:"Erreur",description:"Impossible de charger les chanciers"})}s(!1)},K=async()=>{if(!i.amount||!i.description){x({status:"error",title:"Erreur",description:"Remplissez les champs obligatoires"});return}s(!0);try{(await fetch("http://localhost:3001/api/finance/scheduled-operations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(i)})).ok?(x({status:"success",title:"Cr",description:"chancier cr avec succs"}),l({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),k(),S()):x({status:"error",title:"Erreur",description:"Impossible de crer l'chancier"})}catch(G){console.error("Erreur cration chancier:",G),x({status:"error",title:"Erreur",description:G.message})}s(!1)},se=async G=>{if(window.confirm("Supprimer cet chancier?")){s(!0);try{(await fetch(`http://localhost:3001/api/finance/scheduled-operations/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&(x({status:"success",title:"Supprim"}),k())}catch(W){console.error("Erreur suppression:",W)}s(!1)}},V=async G=>{f(G),h(G.amount||""),m(new Date().toISOString().split("T")[0]),B()},q=async()=>{if(!u){x({status:"error",title:"Erreur",description:"Entrez un montant"});return}s(!0);try{(await fetch(`http://localhost:3001/api/finance/scheduled-operations/${d.id}/payments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({amount:parseFloat(u),date:a})})).ok&&(x({status:"success",title:"Paiement dclar"}),k(),F())}catch(G){console.error("Erreur dclaration paiement:",G),x({status:"error",title:"Erreur",description:G.message})}s(!1)},le=async G=>{f(G);try{const W=await fetch(`http://localhost:3001/api/finance/scheduled-operations/${G.id}/payments`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(W.ok){const pe=await W.json();g(Array.isArray(pe)?pe:pe.payments||[]),Q()}}catch(W){console.error("Erreur chargement paiements:",W)}},ae=G=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(G),ie=G=>G?new Date(G).toLocaleDateString("fr-FR"):"",J=t.filter(G=>G.type==="SCHEDULED_PAYMENT"&&G.frequency==="MONTHLY");return e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:" chanciers (Mensualits)"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"purple",size:"sm",onClick:b,children:"Nouvel chancier"})]}),r&&!J.length?e.jsxs(Re,{textAlign:"center",p:8,children:[e.jsx(Kr,{size:"lg"}),e.jsx(Z,{mt:2,children:"Chargement..."})]}):J.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun chancier (mensualits) enregistr"]}):e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:4,children:J.map(G=>e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"sm",noOfLines:2,children:G.description}),e.jsxs(Te,{children:[e.jsx(Xt,{variant:"outline",children:"Mensuel"}),e.jsx(Xt,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(bt,{children:e.jsx(Be,{align:"start",spacing:3,children:e.jsxs(Re,{width:"100%",children:[e.jsxs(Te,{justify:"space-between",mb:2,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(Z,{fontWeight:"medium",children:ie(G.nextDate)})]}),e.jsxs(Te,{justify:"space-between",mb:2,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(Z,{fontWeight:"bold",color:"red.600",children:["-",ae(Math.abs(G.amount))]})]}),e.jsxs(Te,{spacing:2,wrap:"wrap",children:[e.jsxs(Xt,{variant:"subtle",colorScheme:"blue",children:["Payes: ",G.paymentsCount??0]}),G.totalAmount&&e.jsxs(Xt,{variant:"subtle",children:["Restant: ",ae(G.remainingTotalAmount||0)]})]}),G.monthsRemainingTotal&&e.jsxs(Z,{fontSize:"xs",color:"gray.600",mt:2,children:["Mensualits restantes: ",G.monthsRemainingTotal]}),G.estimatedEndDate&&e.jsxs(Z,{fontSize:"xs",color:"gray.600",children:["Fin estime: ",ie(G.estimatedEndDate)]})]})})}),e.jsx(bt,{pt:0,children:e.jsxs(Te,{spacing:2,children:[e.jsxs(Ie,{size:"sm",onClick:()=>V(G),children:[e.jsx(Ig,{})," Dclarer pay"]}),e.jsxs(Ie,{size:"sm",variant:"outline",onClick:()=>le(G),children:[e.jsx(xf,{})," Paiements"]}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>se(G.id)})]})})]},G.id))}),e.jsxs(Hn,{isOpen:w,onClose:S,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Nouvel chancier"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:'Description (ex: "Loyer")'}),e.jsx(Xe,{value:i.description,onChange:G=>l(W=>({...W,description:G.target.value})),placeholder:"Description de la dpense"})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Mensualit ( / mois)"}),e.jsxs(gs,{value:i.amount,onChange:G=>l(W=>({...W,amount:G})),precision:2,step:.01,children:[e.jsx(vs,{placeholder:"Ex: 500.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prochaine excution"}),e.jsx(Xe,{type:"date",value:i.nextDate,onChange:G=>l(W=>({...W,nextDate:G.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Montant total  amortir (optionnel)"}),e.jsxs(gs,{value:i.totalAmount,onChange:G=>l(W=>({...W,totalAmount:G})),precision:2,step:.01,children:[e.jsx(vs,{placeholder:"Ex: 4000.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:S,children:"Annuler"}),e.jsx(Ie,{colorScheme:"purple",onClick:K,isLoading:r,children:"Crer l'chancier"})]})]})]}),e.jsxs(Hn,{isOpen:C,onClose:F,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Dclarer un paiement"}),e.jsx(fr,{}),e.jsx(Vn,{children:d&&e.jsxs(Be,{spacing:4,children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Z,{fontSize:"sm",children:["Paiement pour: ",d.description]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Montant pay"}),e.jsx(gs,{value:u,onChange:G=>h(G),precision:2,children:e.jsx(vs,{placeholder:"Montant"})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date du paiement"}),e.jsx(Xe,{type:"date",value:a,onChange:G=>m(G.target.value)})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:F,children:"Annuler"}),e.jsx(Ie,{colorScheme:"green",onClick:q,isLoading:r,children:"Dclarer"})]})]})]}),e.jsxs(Hn,{isOpen:N,onClose:z,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Historique des paiements"}),e.jsx(fr,{}),e.jsx(Vn,{children:v.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun paiement dclar"]}):e.jsx(Be,{align:"stretch",spacing:2,children:v.map((G,W)=>e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontWeight:"bold",children:ie(G.date)}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:G.description})]}),e.jsxs(Z,{fontWeight:"bold",color:"green.600",children:["+",ae(G.amount)]})]})})},W))})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:z,children:"Fermer"})})]})]})]})},yae=()=>{const{documents:t,addDocument:n,deleteDocument:r,updateDocumentStatus:s,loading:i,loadFinanceData:l}=Zp(),[d,f]=T.useState(!1),[u,h]=T.useState(null),[a,m]=T.useState([]),[v,g]=T.useState(null),[x,w]=T.useState(null),[b,S]=T.useState([]),[C,B]=T.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:0,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",destinataireSociete:"",destinataireContacts:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:"",htmlContent:""}),[F,N]=T.useState({amountPaid:"",paymentMethod:"",paymentDate:""}),[Q,z]=T.useState({}),k=Hr(),{isOpen:K,onOpen:se,onClose:V}=er(),{isOpen:q,onOpen:le,onClose:ae}=er(),{isOpen:ie,onOpen:J,onClose:G}=er();T.useEffect(()=>{W()},[]);const W=async()=>{try{const Oe=await fetch("http://localhost:3001/api/quote-templates",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Oe.ok){const ce=await Oe.json(),ve=Array.isArray(ce)?ce:ce?.templates||[];m(ve)}}catch(Oe){console.warn(" Impossible de charger les templates:",Oe),m([])}},pe=()=>{h(null),B({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:0,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",destinataireSociete:"",destinataireContacts:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:"",htmlContent:""}),se()},oe=Oe=>{h(Oe),B({type:Oe.type||"QUOTE",number:Oe.number||"",title:Oe.title||"",description:Oe.description||"",date:(Oe.date||new Date().toISOString()).slice(0,10),dueDate:Oe.dueDate?Oe.dueDate.slice(0,10):"",amountExcludingTax:String(Oe.amountExcludingTax??""),taxRate:Oe.taxRate??0,taxAmount:Oe.taxAmount??0,amount:String(Oe.amount||""),status:Oe.status||"DRAFT",eventId:Oe.eventId||"",memberId:Oe.memberId||"",destinataireName:Oe.destinataireName||"",destinataireAdresse:Oe.destinataireAdresse||"",destinataireSociete:Oe.destinataireSociete||"",destinataireContacts:Oe.destinataireContacts||"",notes:Oe.notes||"",paymentMethod:Oe.paymentMethod||"",paymentDate:Oe.paymentDate?Oe.paymentDate.slice(0,10):"",amountPaid:String(Oe.amountPaid||""),htmlContent:Oe.htmlContent||""}),se()},he=async Oe=>{if(!F.amountPaid||parseFloat(F.amountPaid)<=0){k({title:"Erreur",description:"Veuillez entrer un montant valide",status:"error"});return}if(!F.paymentMethod){k({title:"Erreur",description:"Veuillez slectionner un mode de paiement",status:"error"});return}if(!F.paymentDate){k({title:"Erreur",description:"Veuillez slectionner une date",status:"error"});return}try{const ce=parseFloat(Oe.amountPaid||0),ve=parseFloat(F.amountPaid),Ge=ce+ve;console.log(" Enregistrement du paiement:",{docId:Oe.id,newPaymentAmount:ve,currentAmountPaid:ce,totalAmountPaid:Ge,paymentMethod:F.paymentMethod,paymentDate:F.paymentDate});const _t=await fetch(`http://localhost:3001/api/finance/documents/${Oe.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...Oe,amountPaid:Ge,paymentMethod:F.paymentMethod,paymentDate:F.paymentDate})});if(!_t.ok)throw new Error(`Erreur: ${_t.status}`);const Je=await _t.json();console.log(" Paiement enregistr - Document retourn du backend:",{id:Je.id,amountPaid:Je.amountPaid,paymentHistory:Je.paymentHistory,paymentMethod:Je.paymentMethod,paymentDate:Je.paymentDate}),k({title:"Succs",description:`Paiement de ${ve}  enregistr (Total: ${Je.amountPaid})`,status:"success"}),N({amountPaid:"",paymentMethod:"",paymentDate:""}),console.log(" Rechargement des donnes en cours..."),await l(),console.log(" Donnes recharges, table mise  jour")}catch(ce){console.error(" Erreur lors de l'enregistrement du paiement:",ce),k({title:"Erreur",description:ce.message||"Impossible d'enregistrer le paiement",status:"error"})}},$=async()=>{if(!C.number){k({title:"Erreur",description:"Le numro du document est obligatoire",status:"error"});return}if(!C.title){k({title:"Erreur",description:"Le titre est obligatoire",status:"error"});return}if(!C.amount){k({title:"Erreur",description:"Le montant est obligatoire",status:"error"});return}f(!0);try{let Oe;if(x){const vt=new FileReader;Oe=await new Promise((_t,Je)=>{vt.onload=()=>{_t(vt.result)},vt.onerror=Je,vt.readAsDataURL(x)})}const ce={...C,...u&&{id:u.id},...Oe&&{documentUrl:Oe}};console.log(" Donnes  sauvegarder:",{...ce,documentUrl:Oe?" PDF base64":" Pas de PDF"});const ve=await n(ce);console.log(" Rsultat addDocument:",ve);let Ge=u?.id;if(!Ge&&ve&&(Ge=ve.id||ve?.document?.id),console.log(` Document ID rcupr: ${Ge}`),v?.htmlContent&&Ge&&!u)try{console.log(" Gnration automatique du PDF aprs cration du document..."),console.log(` Document ID: ${Ge}`),console.log(` Template slectionn: ${v.name}`);const vt=[];let _t="";Array.isArray(vt)&&vt.length>0&&(_t=vt.map(Ye=>`
              <tr>
                <td>${Ye.description||""}</td>
                <td class="qte">${Ye.quantity||1}</td>
                <td class="pu">${parseFloat(Ye.unitPrice||0).toFixed(2)}</td>
                <td class="total">${(parseFloat(Ye.quantity||1)*parseFloat(Ye.unitPrice||0)).toFixed(2)}</td>
              </tr>
            `).join(""));const Je={NUM_DEVIS:C.number||"N/A",TITRE:C.title||"Document",DESCRIPTION:C.description||"",MONTANT:parseFloat(C.amount||0).toFixed(2),PRIX_NET:parseFloat(C.amount||0).toFixed(2),DATE:new Date(C.date).toLocaleDateString("fr-FR"),DESTINATAIRE_NOM:C.destinataireName||"Destinataire",DESTINATAIRE_ADRESSE:C.destinataireAdresse||"",DESTINATAIRE_SOCIETE:C.destinataireSociete||"",DESTINATAIRE_CONTACTS:C.destinataireContacts||"",NOTES:C.notes||"",LOGO_BIG:v.logoBig||"",LOGO_SMALL:v.logoSmall||"",DEVIS_LINES_TR:_t};let We=v.htmlContent;Object.entries(Je).forEach(([Ye,Zt])=>{const on=new RegExp(`{{${Ye}}}`,"g");We=We.replace(on,String(Zt||""))}),console.log(" Envoi au serveur pour gnration PDF avec Puppeteer..."),console.log(` Taille HTML: ${(We.length/1024).toFixed(2)} KB`);const yt=localStorage.getItem("token"),ut=`${"http://localhost:3001".replace(/\/$/,"")}/api/finance/documents/${Ge}/generate-pdf`;console.log(` POST ${ut}`);const Ft=await fetch(ut,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${yt}`},body:JSON.stringify({htmlContent:We})});console.log(` Rponse status: ${Ft.status}`);const Ct=await Ft.json();console.log(" Rponse serveur:",Ct),Ft.ok?(console.log(" PDF gnr automatiquement!"),k({title:" PDF Gnr",description:"Le document PDF a t gnr automatiquement",status:"success",duration:2e3})):(console.error(" Gnration PDF choue:",Ct.error||Ct),k({title:" Gnration PDF",description:Ct.error||"Impossible de gnrer le PDF",status:"warning",duration:3e3}))}catch(vt){console.error(" Erreur gnration PDF:",vt.message),console.error(" Stack trace:",vt),k({title:" Erreur",description:`Erreur lors de la gnration du PDF: ${vt.message}`,status:"error",duration:3e3})}else Ge||console.warn(" Impossible de rcuprer l'ID du document cr"),v?.htmlContent||console.log(" Pas de template HTML slectionn, pas de gnration auto"),u&&console.log(" dition d'un document existant, pas de gnration auto");k({title:"Succs",description:u?"Document modifi":"Document cr",status:"success"}),B({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:0,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",destinataireName:"",destinataireAdresse:"",destinataireSociete:"",destinataireContacts:"",notes:"",paymentMethod:"",htmlContent:"",paymentDate:"",amountPaid:""}),w(null),h(null),V()}catch{k({title:"Erreur",description:"Impossible de sauvegarder le document",status:"error"})}finally{f(!1)}},M=async Oe=>{if(window.confirm("Cette action est irrversible. Confirmer la suppression ?"))try{await r(Oe),k({title:"Succs",description:"Document supprim",status:"success"})}catch{k({title:"Erreur",description:"Impossible de supprimer le document",status:"error"})}},ee=async(Oe,ce)=>{try{const ve=t.find(Ge=>Ge.id===Oe);await s(Oe,ce),ve?.type==="QUOTE"&&ce==="ACCEPTED"?(k({title:"Succs",description:"Statut mis  jour",status:"success"}),setTimeout(()=>{window.confirm(` Devis ${ve.number} accept !

Voulez-vous crer une facture base sur ce devis pour gagner du temps ?`)&&(B({type:"INVOICE",number:`FACT-${ve.number.split("-")[1]||ve.number}`,title:ve.title,description:ve.description||"",date:new Date().toISOString().split("T")[0],dueDate:new Date(new Date().getTime()+720*60*60*1e3).toISOString().split("T")[0],amountExcludingTax:ve.amountExcludingTax||"",taxRate:ve.taxRate||0,taxAmount:ve.taxAmount||0,amount:ve.amount||"",status:"DRAFT",eventId:ve.eventId||"",memberId:ve.memberId||"",destinataireName:ve.destinataireName||"",destinataireAdresse:ve.destinataireAdresse||"",destinataireSociete:ve.destinataireSociete||"",destinataireContacts:ve.destinataireContacts||"",notes:`Facture cre  partir du devis ${ve.number}`,paymentMethod:"",paymentDate:"",amountPaid:""}),h(null),w(null),g(null),se())},500)):k({title:"Succs",description:"Statut mis  jour",status:"success"})}catch{k({title:"Erreur",description:"Impossible de modifier le statut",status:"error"})}},re=async Oe=>{console.log(` Ouverture du PDF pour: ${Oe.number}`);try{if(!Oe.htmlContent&&(!v||!a.length)){k({title:"Attention",description:"Aucun contenu HTML pour ce document. Gnrez-le d'abord.",status:"warning"});return}await me(Oe)}catch(ce){console.error(" Erreur ouverture PDF:",ce),k({title:"Erreur",description:"Impossible d'ouvrir le PDF",status:"error"})}},me=async Oe=>{try{k({title:"Gnration en cours...",description:"Gnration du PDF...",status:"info"});let ce=Oe.htmlContent;if(!ce&&a.length>0){console.log(" htmlContent manque, gnration depuis template...");const yt=Oe.type==="QUOTE"?"DEVIS - RtroBus":"FACTURE - RtroBus",zt=a.find(Ct=>Ct.name===yt);if(!zt||!zt.htmlContent)throw new Error(`Template "${yt}" non trouv ou sans contenu HTML`);console.log(` Template trouv: ${zt.name}`);let ut="";try{const Ct=await fetch(`http://localhost:3001/api/devis-lines/${Oe.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ct.ok){const Ye=await Ct.json();Array.isArray(Ye)&&Ye.length>0&&(ut=Ye.map(Zt=>`
                <tr>
                  <td class="num">${Zt.quantity}</td>
                  <td class="desc">${Zt.description}</td>
                  <td class="num">${Zt.unitPrice.toFixed(2)} </td>
                  <td class="num">${Zt.totalPrice.toFixed(2)} </td>
                </tr>
              `).join(""))}}catch(Ct){console.warn(" Impossible de charger les lignes:",Ct.message)}const Ft={NUM_DEVIS:Oe.number||"N/A",NUM_FACTURE:Oe.number||"N/A",TITRE:Oe.title||"Document",OBJET:Oe.title||"Document",DESCRIPTION:Oe.description||"",MONTANT:parseFloat(Oe.amount||0).toFixed(2),PRIX_NET:parseFloat(Oe.amount||0).toFixed(2),DATE:new Date(Oe.date).toLocaleDateString("fr-FR"),DESTINATAIRE_NOM:Oe.destinataireName||"Destinataire",DESTINATAIRE_ADRESSE:Oe.destinataireAdresse||"",DESTINATAIRE_SOCIETE:Oe.destinataireSociete||"",DESTINATAIRE_CONTACTS:Oe.destinataireContacts||"",NOTES:Oe.notes||"",LOGO_BIG:zt.logoBig||"",LOGO_SMALL:zt.logoSmall||"",DEVIS_LINES_TR:ut};ce=zt.htmlContent,Object.entries(Ft).forEach(([Ct,Ye])=>{const Zt=new RegExp(`{{${Ct}}}`,"g");ce=ce.replace(Zt,String(Ye||""))}),console.log(` HTML gnr depuis template: ${(ce.length/1024).toFixed(2)} KB`)}if(!ce)throw new Error("Impossible de gnrer l'HTML - aucun template ou htmlContent");const ve=localStorage.getItem("token"),vt=`${"http://localhost:3001".replace(/\/$/,"")}/api/finance/documents/${Oe.id}/generate-pdf`;console.log(` POST ${vt}`);const _t=await fetch(vt,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ve}`},body:JSON.stringify({htmlContent:ce})});if(console.log(` Rponse status: ${_t.status}`),!_t.ok){const yt=await _t.json();throw new Error(yt.error||"Erreur lors de la gnration du PDF")}const Je=await _t.json();console.log(" Rponse serveur:",Je);const We=Je.pdfDataUri;if(!We)throw new Error("Impossible de gnrer le PDF - rsultat vide du serveur");console.log(` PDF reu du serveur: ${We.length} caractres`),De(We,Je.filename),k({title:"Succs",description:"PDF gnr!",status:"success"})}catch(ce){console.error(" Erreur gnration PDF:",ce),k({title:"Erreur",description:"Impossible de gnrer le PDF: "+ce.message,status:"error"})}},De=(Oe,ce)=>{try{if(console.log(` Conversion de ${ce}...`),console.log(` DataURI type: ${typeof Oe}`),console.log(` DataURI longueur: ${Oe?.length||"undefined"}`),console.log(` DataURI dbut (100 chars): ${Oe?.substring(0,100)||"N/A"}`),!Oe)throw console.error(" dataUri est vide/null"),new Error("Pas de contenu PDF");if(typeof Oe!="string")throw console.error(" dataUri n'est pas une string:",typeof Oe),new Error("Format PDF invalide (pas une string)");if(!Oe.startsWith("data:application/pdf"))throw console.error(" dataUri n'a pas le bon prefix:",Oe.substring(0,50)),new Error("Format PDF invalide (pas data:application/pdf)");const ve=Oe.split(",");if(ve.length!==2)throw console.error(" Format data URI invalide - pas de virgule correcte:",ve),new Error(`Format data URI invalide - expected 2 parts, got ${ve.length}`);const Ge=ve[1];if(console.log(` Base64 data longueur: ${Ge.length}`),!Ge||Ge.length===0)throw console.error(" Base64 data est vide"),new Error("Contenu PDF vide");try{const vt=atob(Ge);console.log(` Base64 dcod: ${vt.length} bytes`);const _t=new Array(vt.length);for(let ut=0;ut<vt.length;ut++)_t[ut]=vt.charCodeAt(ut);const Je=new Uint8Array(_t),We=new Blob([Je],{type:"application/pdf"});console.log(` Blob cr: ${(We.size/1024/1024).toFixed(2)} MB`);const yt=URL.createObjectURL(We);if(console.log(` Blob URL: ${yt}`),!window.open(yt,"_blank")){console.warn(" Impossible d'ouvrir une nouvelle fentre"),k({title:"Attention",description:"Vrifiez que les popups ne sont pas bloques par votre navigateur",status:"warning"}),URL.revokeObjectURL(yt);return}console.log(` PDF ouvert pour aperu: ${ce}`),setTimeout(()=>{URL.revokeObjectURL(yt),console.log(" Blob URL nettoye")},100)}catch(vt){throw console.error(" Erreur dcodage base64:",vt.message),new Error(`Impossible de dcoder le PDF: ${vt.message}`)}}catch(ve){console.error(" Erreur ouverture PDF:",ve.message),console.error(" Stack:",ve),k({title:"Erreur",description:"Impossible d'ouvrir le PDF. "+ve.message,status:"error"})}},Ue=(Oe,ce)=>{try{if(!Oe||typeof Oe!="string")throw new Error("DataURI invalide");if(!Oe.startsWith("data:application/pdf"))throw new Error("Format PDF invalide");const ve=Oe.split(",");if(ve.length!==2)throw new Error("Format data URI invalide");const Ge=ve[1],vt=atob(Ge),_t=new Array(vt.length);for(let ut=0;ut<vt.length;ut++)_t[ut]=vt.charCodeAt(ut);const Je=new Uint8Array(_t),We=new Blob([Je],{type:"application/pdf"}),yt=URL.createObjectURL(We),zt=document.createElement("a");zt.href=yt,zt.download=ce,document.body.appendChild(zt),zt.click(),document.body.removeChild(zt),setTimeout(()=>URL.revokeObjectURL(yt),100),console.log(` PDF tlcharg: ${ce}`),k({title:"Succs",description:"PDF tlcharg dans votre dossier Tlchargements",status:"success"})}catch(ve){console.error(" Erreur tlchargement PDF:",ve),k({title:"Erreur",description:"Impossible de tlcharger le PDF. Ressayez.",status:"error"})}},Ne=async Oe=>{try{k({title:"Tlchargement en cours...",description:"Gnration du PDF...",status:"info"});const ce=localStorage.getItem("token"),Ge=`${"http://localhost:3001".replace(/\/$/,"")}/api/finance/documents/${Oe.id}/generate-pdf`;console.log(` POST ${Ge}`);const vt=await fetch(Ge,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ce}`},body:JSON.stringify({htmlContent:Oe.htmlContent||""})});if(!vt.ok){const We=await vt.json();throw new Error(We.error||"Erreur lors de la gnration du PDF")}const Je=(await vt.json()).pdfDataUri;if(!Je)throw new Error("Impossible de gnrer le PDF");Ue(Je,`${Oe.type==="QUOTE"?"Devis":"Facture"}_${Oe.number}.pdf`),k({title:"Succs",description:"PDF tlcharg avec succs",status:"success"})}catch(ce){console.error(" Erreur tlchargement:",ce),k({title:"Erreur",description:"Impossible de tlcharger le PDF: "+ce.message,status:"error"})}},Ke=async()=>{if(!v){k({title:"Erreur",description:"Slectionnez un template",status:"warning"});return}if(!u?.id&&!C.number){k({title:"Erreur",description:"Enregistrez d'abord le document",status:"warning"});return}try{const Oe=u?.id||"temp-"+Date.now();let ce="";try{const ut=await fetch(`http://localhost:3001/api/devis-lines/${Oe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ut.ok){const Ft=await ut.json();Array.isArray(Ft)&&Ft.length>0&&(ce=Ft.map(Ct=>`
              <tr>
                <td class="num">${Ct.quantity}</td>
                <td class="desc">${Ct.description}</td>
                <td class="num">${Ct.unitPrice.toFixed(2)} </td>
                <td class="num">${Ct.totalPrice.toFixed(2)} </td>
              </tr>
            `).join(""))}}catch(ut){console.warn(" Impossible de charger les lignes:",ut.message)}const ve={NUM_DEVIS:C.number,TITRE:C.title,OBJET:C.title,DESCRIPTION:C.description||"",MONTANT:parseFloat(C.amount||0).toFixed(2),PRIX_NET:parseFloat(C.amount||0).toFixed(2),DATE:new Date(C.date).toLocaleDateString("fr-FR"),DESTINATAIRE_NOM:C.destinataireName||"Destinataire",DESTINATAIRE_ADRESSE:C.destinataireAdresse||"",DESTINATAIRE_SOCIETE:C.destinataireSociete||"",DESTINATAIRE_CONTACTS:C.destinataireContacts||"",NOTES:C.notes||"",LOGO_BIG:v.logoBig||"",LOGO_SMALL:v.logoSmall||"",DEVIS_LINES_TR:ce};console.log(" Donnes de remplacement:"),console.log("  - Numro:",ve.NUM_DEVIS),console.log("  - Titre:",ve.TITRE),console.log("  - Montant:",ve.MONTANT),console.log("  - Logo Big size:",ve.LOGO_BIG.length,"chars"),console.log("  - Logo Small size:",ve.LOGO_SMALL.length,"chars"),console.log("  - Lignes devis:",ce.length,"chars");let Ge=v.htmlContent;Object.entries(ve).forEach(([ut,Ft])=>{const Ct=new RegExp(`{{${ut}}}`,"g");Ge=Ge.replace(Ct,String(Ft||""))}),B(ut=>({...ut,htmlContent:Ge})),console.log(" Envoi au serveur pour gnration PDF avec Puppeteer..."),console.log(` Taille HTML  envoyer: ${(Ge.length/1024).toFixed(2)} KB`),console.log(" Premiers 500 chars du HTML:",Ge.substring(0,500)),console.log(" Derniers 200 chars du HTML:",Ge.substring(Ge.length-200));const vt=document.createElement("div");vt.innerHTML=Ge;const _t=vt.innerText||"";console.log(` Contenu texte du HTML: ${_t.length} caractres`),_t.length<10&&console.warn(" ATTENTION: HTML gnr presque vide!");const Je=localStorage.getItem("token"),We=await fetch(`http://localhost:3001/api/finance/documents/${u.id}/generate-pdf`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Je}`},body:JSON.stringify({htmlContent:Ge})});if(!We.ok){const ut=await We.json();throw new Error(ut.error||"Erreur lors de la gnration du PDF")}const zt=(await We.json()).pdfDataUri;if(!zt)throw new Error("Impossible de gnrer le PDF - rsultat vide du serveur");console.log(" PDF gnr avec succs par Puppeteer!"),De(zt,`${C.type==="QUOTE"?"Devis":"Facture"}_${C.number}.pdf`),k({title:"Succs",description:"PDF gnr et tlcharg!",status:"success"})}catch(Oe){console.error(" Erreur gnration PDF:",Oe),k({title:"Erreur",description:"Impossible de gnrer le PDF: "+Oe.message,status:"error"})}},rt=async Oe=>{const ce=Oe.target.files?.[0];if(ce){if(ce.type!=="application/pdf"){k({title:"Erreur",description:"Veuillez slectionner un fichier PDF",status:"warning"});return}w(ce),k({title:"PDF slectionn",description:`${ce.name} sera attach au document`,status:"info"})}},et={DRAFT:"gray",SENT:"blue",ACCEPTED:"green",REJECTED:"red",INVOICED:"purple",PENDING_PAYMENT:"orange",PAID:"green",DEPOSIT_PAID:"cyan",REEDITED:"yellow"},wt={DRAFT:" Brouillon",SENT:" Envoy",ACCEPTED:" Accept",REJECTED:" Refus",INVOICED:" Factur",PENDING_PAYMENT:" En attente",PAID:" Pay",DEPOSIT_PAID:" Accompte pay",REEDITED:" Rdit"},nt=["DRAFT","SENT","ACCEPTED","REJECTED","REEDITED"],Ee=["DRAFT","SENT","PENDING_PAYMENT","DEPOSIT_PAID","PAID"],at=t.filter(Oe=>Oe.type==="QUOTE"),Gt=t.filter(Oe=>Oe.type==="INVOICE");return e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Te,{justify:"space-between",wrap:"wrap",spacing:4,children:[e.jsxs(Re,{children:[e.jsx(ht,{size:{base:"md",md:"lg"},children:" Devis & Facturation"}),e.jsx(Z,{color:"gray.500",fontSize:{base:"xs",md:"sm"},children:"Gestion complte des documents commerciaux"})]}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:pe,isLoading:i,size:{base:"sm",md:"md"},children:"Nouveau"})]}),e.jsxs(Eu,{colorScheme:"blue",variant:"enclosed",children:[e.jsxs(Tu,{children:[e.jsxs($r,{children:[" Devis (",at.length,")"]}),e.jsxs($r,{children:[" Factures (",Gt.length,")"]}),e.jsx($r,{children:" chanciers"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:at.length===0?e.jsx(St,{children:e.jsx(bt,{textAlign:"center",py:12,children:e.jsx(Z,{color:"gray.500",children:"Aucun devis. Crez-en un pour commencer."})})}):e.jsx(Re,{overflowX:{base:"auto",md:"visible"},children:e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Is,{size:{base:"sm",md:"md"},variant:"striped",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"N"}),e.jsx(At,{children:"Titre"}),e.jsx(At,{display:{base:"none",md:"table-cell"},children:"Date"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{display:{base:"none",sm:"table-cell"},children:"Statut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:at.map(Oe=>e.jsxs(Rn,{children:[e.jsx(lt,{fontWeight:"bold",fontSize:{base:"xs",md:"md"},children:Oe.number}),e.jsx(lt,{fontSize:{base:"xs",md:"md"},children:Oe.title.substring(0,20)}),e.jsx(lt,{display:{base:"none",md:"table-cell"},fontSize:"sm",children:new Date(Oe.date).toLocaleDateString("fr-FR")}),e.jsxs(lt,{isNumeric:!0,fontWeight:"bold",fontSize:{base:"xs",md:"md"},children:[parseFloat(Oe.amount||0).toFixed(2)," "]}),e.jsx(lt,{display:{base:"none",sm:"table-cell"},children:e.jsx(Xt,{colorScheme:et[Oe.status],fontSize:"xs",children:wt[Oe.status]})}),e.jsx(lt,{children:e.jsxs(Te,{spacing:1,children:[e.jsx(Pn,{size:{base:"xs",md:"sm"},icon:e.jsx(xf,{}),variant:"ghost",colorScheme:"blue",onClick:()=>re(Oe),title:"Visualiser PDF"}),e.jsx(Pn,{size:{base:"xs",md:"sm"},icon:e.jsx(vc,{}),variant:"ghost",colorScheme:"green",onClick:()=>Ne(Oe),title:"Tlcharger PDF"}),e.jsx(gn,{size:"xs",width:"auto",value:Oe.status,onChange:ce=>ee(Oe.id,ce.target.value),cursor:"pointer",display:{base:"none",sm:"block"},children:nt.map(ce=>e.jsx("option",{value:ce,children:wt[ce]},ce))}),e.jsx(Pn,{size:{base:"xs",md:"sm"},icon:e.jsx(aS,{}),variant:"ghost",colorScheme:"blue",onClick:()=>oe(Oe),title:"Modifier",display:{base:"none",sm:"block"}}),e.jsx(Pn,{size:{base:"xs",md:"sm"},icon:e.jsx(oi,{}),variant:"ghost",colorScheme:"red",onClick:()=>M(Oe.id),title:"Supprimer",display:{base:"none",md:"block"}})]})})]},Oe.id))})]})})})})}),e.jsx(Gr,{children:Gt.length===0?e.jsx(St,{children:e.jsx(bt,{textAlign:"center",py:12,children:e.jsx(Z,{color:"gray.500",children:"Aucune facture. Crez-en une pour commencer."})})}):e.jsx(Re,{overflowX:{base:"auto",md:"visible"},children:e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Is,{size:{base:"sm",md:"md"},variant:"striped",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{w:"10",children:""}),e.jsx(At,{children:"N"}),e.jsx(At,{children:"Titre"}),e.jsx(At,{isNumeric:!0,children:"Montant"}),e.jsx(At,{isNumeric:!0,children:"Pay"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:Gt.map(Oe=>{const ce=parseFloat(Oe.amount||0),ve=parseFloat(Oe.amountPaid||0),Ge=Math.max(0,ce-ve),vt=Q[Oe.id];return e.jsxs(xs.Fragment,{children:[e.jsxs(Rn,{children:[e.jsx(lt,{cursor:"pointer",p:1,children:e.jsx(Pn,{size:"xs",icon:e.jsx(b1,{style:{transform:vt?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}}),variant:"ghost",onClick:()=>z(_t=>({..._t,[Oe.id]:!_t[Oe.id]}))})}),e.jsx(lt,{fontWeight:"bold",children:Oe.number}),e.jsx(lt,{children:Oe.title.substring(0,25)}),e.jsxs(lt,{isNumeric:!0,fontWeight:"bold",children:[ce.toFixed(2)," "]}),e.jsxs(lt,{isNumeric:!0,fontWeight:"bold",color:ve>0?"green.600":"gray.500",children:[ve.toFixed(2)," "]}),e.jsx(lt,{children:e.jsx(gn,{size:"sm",width:"100%",value:Oe.status,onChange:_t=>ee(Oe.id,_t.target.value),cursor:"pointer",children:Ee.map(_t=>e.jsx("option",{value:_t,children:wt[_t]},_t))})}),e.jsx(lt,{children:e.jsxs(Te,{spacing:1,children:[e.jsx(Pn,{size:"xs",icon:e.jsx(xf,{}),variant:"ghost",colorScheme:"blue",onClick:()=>re(Oe),title:"Visualiser PDF"}),e.jsx(Pn,{size:"xs",icon:e.jsx(vc,{}),variant:"ghost",colorScheme:"green",onClick:()=>Ne(Oe),title:"Tlcharger PDF"}),e.jsx(Pn,{size:"xs",icon:e.jsx(aS,{}),variant:"ghost",colorScheme:"blue",onClick:()=>oe(Oe),title:"Modifier"}),e.jsx(Pn,{size:"xs",icon:e.jsx(oi,{}),variant:"ghost",colorScheme:"red",onClick:()=>M(Oe.id),title:"Supprimer"})]})})]}),vt&&e.jsx(Rn,{bg:"purple.50",children:e.jsx(lt,{colSpan:10,py:3,children:e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",mb:2,children:" Statut de paiement:"}),e.jsxs(Te,{spacing:4,children:[e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Total:"}),e.jsxs(Z,{fontSize:"lg",fontWeight:"bold",color:"blue.600",children:[ce.toFixed(2)," "]})]}),e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Pay:"}),e.jsxs(Z,{fontSize:"lg",fontWeight:"bold",color:"green.600",children:[ve.toFixed(2)," "]})]}),e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Reste:"}),e.jsxs(Z,{fontSize:"lg",fontWeight:"bold",color:Ge>0?"red.600":"green.600",children:[Ge.toFixed(2)," "]})]}),e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Statut:"}),e.jsx(Xt,{colorScheme:et[Oe.status],children:wt[Oe.status]})]})]})]}),e.jsxs(Re,{borderTop:"1px solid",borderColor:"purple.200",pt:2,children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",mb:2,children:" Historique des paiements:"}),(()=>{try{const _t=typeof Oe.paymentHistory=="string"?JSON.parse(Oe.paymentHistory):Oe.paymentHistory||[];return _t.length>0?e.jsx(Be,{align:"stretch",spacing:1,children:_t.map((Je,We)=>e.jsxs(Te,{justify:"space-between",fontSize:"sm",p:2,bg:"white",borderRadius:"md",borderLeft:"3px solid",borderColor:"purple.400",children:[e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontWeight:"bold",children:Je.method}),e.jsx(Z,{fontSize:"xs",color:"gray.600",children:new Date(Je.date).toLocaleDateString("fr-FR")})]}),e.jsxs(Z,{fontWeight:"bold",color:"green.700",fontSize:"md",children:["+",parseFloat(Je.amount).toFixed(2)," "]})]},We))}):e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Aucun paiement enregistr"})}catch{return e.jsx(Z,{fontSize:"sm",color:"red.500",children:"Erreur affichage historique"})}})()]}),e.jsxs(Re,{borderTop:"1px solid",borderColor:"purple.200",pt:2,bg:"blue.50",p:2,borderRadius:"md",children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",mb:2,children:" Ajouter un paiement:"}),e.jsxs(Te,{spacing:2,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Mode"}),e.jsx(Xe,{size:"sm",placeholder:"Virement...",value:F.paymentMethod||"",onChange:_t=>N(Je=>({...Je,paymentMethod:_t.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Date"}),e.jsx(Xe,{size:"sm",type:"date",value:F.paymentDate||"",onChange:_t=>N(Je=>({...Je,paymentDate:_t.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Montant ()"}),e.jsx(gs,{size:"sm",value:F.amountPaid||"",onChange:_t=>N(Je=>({...Je,amountPaid:_t})),min:0,max:Ge,children:e.jsx(vs,{})})]}),e.jsx(Ie,{size:"sm",colorScheme:"green",onClick:()=>he(Oe),mt:6,children:"Enregistrer"})]})]})]})})})]},Oe.id)})})]})})})})}),e.jsx(Gr,{children:e.jsx(xae,{})})]})]}),e.jsxs(Hn,{isOpen:K,onClose:V,size:{base:"full",md:"xl"},children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsxs($n,{children:[u?"Modifier le document":"Nouveau document","          "]}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(yc,{templateColumns:{base:"1fr",md:"1fr 1fr 1fr"},gap:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",fontSize:"sm",children:"Type"}),e.jsxs(gn,{value:C.type,size:"sm",onChange:Oe=>B(ce=>({...ce,type:Oe.target.value})),children:[e.jsx("option",{value:"QUOTE",children:" Devis"}),e.jsx("option",{value:"INVOICE",children:" Facture"})]})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",fontSize:"sm",children:"Template"}),e.jsxs(gn,{value:v?.id||"",size:"sm",onChange:Oe=>{const ce=a.find(ve=>ve.id===Oe.target.value);g(ce||null)},children:[e.jsx("option",{value:"",children:"-- Slectionner un template --"}),a.map(Oe=>e.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))]})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",fontSize:"sm",children:"Date"}),e.jsx(Xe,{type:"date",size:"sm",value:C.date,onChange:Oe=>B(ce=>({...ce,date:Oe.target.value}))})]})]}),e.jsxs(yc,{templateColumns:{base:"1fr",md:"1fr 1fr"},gap:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",fontSize:"sm",children:"Numro"}),e.jsx(Xe,{size:"sm",value:C.number,onChange:Oe=>B(ce=>({...ce,number:Oe.target.value})),placeholder:C.type==="QUOTE"?"ex: DV-2025-001":"ex: FA-2025-001"})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",fontSize:"sm",children:"Titre"}),e.jsx(Xe,{size:"sm",value:C.title,onChange:Oe=>B(ce=>({...ce,title:Oe.target.value})),placeholder:"Objet du document"})]})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",fontSize:"sm",children:"Description"}),e.jsx(xr,{value:C.description||"",onChange:Oe=>B(ce=>({...ce,description:Oe.target.value})),placeholder:"Dtails du document",rows:2,size:"sm"})]}),e.jsx(Re,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"sm",children:" Montant"}),e.jsx(Z,{fontSize:"xs",color:"gray.600",children:"Association (exempte TVA)"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Montant TTC"}),e.jsxs(gs,{value:C.amount||"",onChange:Oe=>{B(ce=>({...ce,amount:Oe,amountExcludingTax:Oe,taxRate:0,taxAmount:0}))},precision:2,step:10,children:[e.jsx(vs,{placeholder:"0.00"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]})]}),e.jsx(Re,{p:3,bg:"green.100",borderRadius:"md",border:"1px solid",borderColor:"green.400",children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",color:"green.700",fontWeight:"bold",children:"Total TTC:"}),e.jsxs(Z,{fontSize:"lg",color:"green.700",fontWeight:"bold",children:[parseFloat(C.amount||0).toFixed(2)," "]})]})})]})}),C.type==="QUOTE"&&e.jsxs(e.Fragment,{children:[e.jsx(ds,{}),u?.id?e.jsxs(e.Fragment,{children:[e.jsxs(Be,{spacing:3,align:"stretch",bg:"blue.50",p:4,borderRadius:"md",children:[e.jsx(Te,{justify:"space-between",align:"center",children:e.jsx(ht,{size:"sm",children:" Gnration de Document"})}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:"Template HTML"}),e.jsxs(gn,{size:"sm",value:v?.id||"",onChange:Oe=>{const ce=a.find(ve=>ve.id===Oe.target.value);g(ce)},children:[e.jsx("option",{value:"",children:"Slectionnez un template..."}),a.map(Oe=>e.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))]})]}),e.jsxs(Te,{spacing:2,width:"100%",children:[v&&e.jsx(Ie,{size:"sm",colorScheme:"blue",leftIcon:e.jsx(pre,{}),onClick:Ke,flex:1,children:"Gnrer depuis template"}),e.jsx(Ie,{size:"sm",colorScheme:"gray",leftIcon:e.jsx(FP,{}),onClick:()=>document.getElementById("pdf-upload")?.click(),flex:1,children:"Uploader un PDF"}),e.jsx("input",{id:"pdf-upload",type:"file",accept:".pdf",onChange:rt,style:{display:"none"}})]}),x&&e.jsxs(Z,{fontSize:"xs",color:"green.600",fontWeight:"bold",children:[" PDF slectionn: ",x.name]})]}),e.jsx(ds,{}),e.jsx(Re,{bg:"orange.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"orange.500",children:e.jsx(WP,{devisId:u.id,onTotalChange:Oe=>{B(ce=>({...ce,amount:Oe.toFixed(2)}))}})})]}):e.jsx(Re,{bg:"yellow.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"yellow.500",children:e.jsxs(Be,{spacing:2,align:"flex-start",children:[e.jsxs(Te,{children:[e.jsx(ws,{as:EP,color:"yellow.600"}),e.jsx(Z,{fontSize:"sm",color:"yellow.700",fontWeight:"bold",children:" Crez d'abord le devis pour grer les lignes"})]}),e.jsx(Z,{fontSize:"xs",color:"yellow.600",children:'Remplissez le formulaire ci-dessus et cliquez sur "Crer" pour accder au gestionnaire de lignes.'})]})})]}),e.jsxs(be,{children:[e.jsx(je,{fontWeight:"bold",children:"Statut"}),e.jsx(gn,{value:C.status,onChange:Oe=>B(ce=>({...ce,status:Oe.target.value})),children:C.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"REJECTED",children:" Refus"}),e.jsx("option",{value:"REEDITED",children:" Rdit"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"PENDING_PAYMENT",children:" En attente de paiement"}),e.jsx("option",{value:"DEPOSIT_PAID",children:" Accompte pay"}),e.jsx("option",{value:"PAID",children:" Pay"})]})})]}),C.type==="INVOICE"&&e.jsx(Re,{bg:"purple.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"purple.500",children:e.jsxs(Be,{spacing:2,align:"stretch",children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:" Infos de paiement"}),e.jsxs(Te,{spacing:2,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Mode de paiement"}),e.jsx(Xe,{size:"sm",value:C.paymentMethod||"",onChange:Oe=>B(ce=>({...ce,paymentMethod:Oe.target.value})),placeholder:"ex: Virement, Espces, Chque"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Date de paiement"}),e.jsx(Xe,{size:"sm",type:"date",value:C.paymentDate||"",onChange:Oe=>B(ce=>({...ce,paymentDate:Oe.target.value}))})]})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Montant pay"}),e.jsx(gs,{value:C.amountPaid||"",onChange:Oe=>B(ce=>({...ce,amountPaid:Oe})),precision:2,children:e.jsx(vs,{})})]}),u&&e.jsxs(Be,{spacing:2,align:"stretch",borderTop:"1px solid",borderColor:"purple.200",pt:2,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",children:"Montant total:"}),e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:[parseFloat(C.amount||0).toFixed(2)," "]})]}),e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",children:"Pay:"}),e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:[parseFloat(C.amountPaid||0).toFixed(2)," "]})]}),e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"bold",children:"Reste  payer:"}),e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:parseFloat(C.amount||0)-parseFloat(C.amountPaid||0)>0?"red.600":"green.600",children:[(parseFloat(C.amount||0)-parseFloat(C.amountPaid||0)).toFixed(2)," "]})]}),u?.paymentHistory&&e.jsxs(Re,{borderTop:"1px solid",borderColor:"purple.200",pt:2,children:[e.jsx(Z,{fontSize:"xs",fontWeight:"bold",mb:2,children:" Historique des paiements:"}),e.jsx(Be,{spacing:1,align:"stretch",children:(()=>{try{const Oe=typeof u.paymentHistory=="string"?JSON.parse(u.paymentHistory):u.paymentHistory;return Oe.length>0?Oe.map((ce,ve)=>e.jsxs(Te,{justify:"space-between",fontSize:"xs",p:1,bg:"purple.100",borderRadius:"md",children:[e.jsxs(Z,{children:[new Date(ce.date).toLocaleDateString("fr-FR")," - ",ce.method]}),e.jsxs(Z,{fontWeight:"bold",color:"green.700",children:["+",parseFloat(ce.amount).toFixed(2)," "]})]},ve)):e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"Aucun paiement enregistr"})}catch{return e.jsx(Z,{fontSize:"xs",color:"red.500",children:"Erreur affichage historique"})}})()})]})]})]})}),e.jsx(Re,{bg:"orange.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"orange.500",children:e.jsxs(Be,{spacing:2,align:"stretch",children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:" Destinataire (pour le template)"}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Nom"}),e.jsx(Xe,{size:"sm",value:C.destinataireName||"",onChange:Oe=>B(ce=>({...ce,destinataireName:Oe.target.value})),placeholder:"Nom du destinataire"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Socit"}),e.jsx(Xe,{size:"sm",value:C.destinataireSociete||"",onChange:Oe=>B(ce=>({...ce,destinataireSociete:Oe.target.value})),placeholder:"Nom de la socit"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Adresse"}),e.jsx(Xe,{size:"sm",value:C.destinataireAdresse||"",onChange:Oe=>B(ce=>({...ce,destinataireAdresse:Oe.target.value})),placeholder:"Adresse complte"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Contacts (tlphone, email, etc)"}),e.jsx(Xe,{size:"sm",value:C.destinataireContacts||"",onChange:Oe=>B(ce=>({...ce,destinataireContacts:Oe.target.value})),placeholder:"Coordonnes de contact"})]})]})}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:" Notes internes"}),e.jsx(xr,{size:"sm",value:C.notes||"",onChange:Oe=>B(ce=>({...ce,notes:Oe.target.value})),placeholder:"Notes internes (non visibles sur le document)",rows:2})]}),e.jsx(ds,{}),e.jsx(ht,{size:"sm",children:" Gnration & Import du Document"}),e.jsx(Re,{bg:"blue.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:" Gnrer depuis un Template"}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Template HTML"}),e.jsxs(gn,{size:"sm",value:v?.id||"",onChange:Oe=>{const ce=a.find(ve=>ve.id===Oe.target.value);g(ce||null)},children:[e.jsx("option",{value:"",children:"-- Slectionner un template --"}),a.map(Oe=>e.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))]})]}),v&&e.jsx(Ie,{colorScheme:"orange",size:"sm",onClick:Ke,leftIcon:e.jsx(vc,{}),width:"100%",children:" Gnrer l'aperu & PDF"}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:" Remplissez tous les champs ci-dessus (Destinataire, Montant, etc.) avant de gnrer"})]})}),e.jsx(Re,{bg:"green.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"green.500",children:e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsx(je,{fontSize:"sm",fontWeight:"bold",children:" Importer un PDF"}),e.jsx(be,{children:e.jsx(Xe,{type:"file",accept:".pdf",size:"sm",onChange:rt})}),x&&e.jsxs(Z,{fontSize:"xs",color:"green.600",children:[" ",x.name," slectionn"]})]})}),e.jsxs(Te,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"ID vnement (optionnel)"}),e.jsx(Xe,{size:"sm",value:C.eventId||"",onChange:Oe=>B(ce=>({...ce,eventId:Oe.target.value})),placeholder:"ID d'vnement"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"ID Membre (optionnel)"}),e.jsx(Xe,{size:"sm",value:C.memberId||"",onChange:Oe=>B(ce=>({...ce,memberId:Oe.target.value})),placeholder:"ID de membre"})]})]})]})}),e.jsx(pr,{children:e.jsxs(Te,{spacing:3,children:[e.jsx(Ie,{variant:"ghost",onClick:V,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:$,isLoading:d,children:u?"Modifier":"Crer"})]})})]})]})]})},jae=()=>{const{transactions:t,reportYear:n,setReportYear:r}=Zp(),[s,i]=T.useState(new Date().getMonth()),{isOpen:l,onOpen:d,onClose:f}=er(),u=Hr(),h=new Date().getFullYear(),a=Array.from({length:5},(b,S)=>h-S),m=()=>{const b={};return(t||[]).forEach(S=>{b[S.category]||(b[S.category]={credits:0,debits:0}),S.type==="CREDIT"?b[S.category].credits+=S.amount||0:b[S.category].debits+=S.amount||0}),b},v=()=>{const b=Array(12).fill(null).map((S,C)=>({month:new Date(n,C,1).toLocaleDateString("fr-FR",{month:"long"}),credits:0,debits:0,balance:0}));return(t||[]).forEach(S=>{const C=new Date(S.date);if(C.getFullYear()===n){const B=C.getMonth();S.type==="CREDIT"?b[B].credits+=S.amount||0:b[B].debits+=S.amount||0}}),b.forEach((S,C)=>{S.balance=S.credits-S.debits}),b},g=m(),x=v(),w=()=>{u({title:"Rapport gnr",description:`Rapport ${n} tlcharg`,status:"success",duration:3e3})};return e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",children:"Rapports Financiers"}),e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Rapports d'analyse et exports"})]}),e.jsxs(Te,{children:[e.jsx(gn,{w:"150px",value:n,onChange:b=>r(parseInt(b.target.value)),children:a.map(b=>e.jsx("option",{value:b,children:b},b))}),e.jsx(Ie,{leftIcon:e.jsx(vc,{}),colorScheme:"blue",onClick:w,children:"Tlcharger"})]})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(ht,{size:"md",children:["Rsum ",n]})}),e.jsx(bt,{children:e.jsxs(Sn,{columns:[1,2,4],spacing:4,children:[e.jsx(Re,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Total crdits"}),e.jsxs(Jn,{color:"green.500",children:["+",Object.values(g).reduce((b,S)=>b+S.credits,0).toFixed(2)," "]})]})}),e.jsx(Re,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Total dbits"}),e.jsxs(Jn,{color:"red.500",children:["-",Object.values(g).reduce((b,S)=>b+S.debits,0).toFixed(2)," "]})]})}),e.jsx(Re,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Transactions"}),e.jsx(Jn,{children:(t||[]).length})]})}),e.jsx(Re,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Catgories"}),e.jsx(Jn,{children:Object.keys(g).length})]})})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Par catgorie"})}),e.jsx(bt,{overflowX:"auto",children:e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"Catgorie"}),e.jsx(At,{isNumeric:!0,children:"Crdits"}),e.jsx(At,{isNumeric:!0,children:"Dbits"}),e.jsx(At,{isNumeric:!0,children:"Bilan"})]})}),e.jsx(Rs,{children:Object.entries(g).map(([b,S])=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontWeight:"500",children:b}),e.jsxs(lt,{isNumeric:!0,color:"green.500",children:["+",S.credits.toFixed(2)," "]}),e.jsxs(lt,{isNumeric:!0,color:"red.500",children:["-",S.debits.toFixed(2)," "]}),e.jsx(lt,{isNumeric:!0,fontWeight:"600",children:e.jsxs(Z,{color:S.credits-S.debits>=0?"green.500":"red.500",children:[S.credits-S.debits>=0?"+":"",(S.credits-S.debits).toFixed(2)," "]})})]},b))})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(ht,{size:"md",children:["volution mensuelle ",n]})}),e.jsx(bt,{overflowX:"auto",children:e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"Mois"}),e.jsx(At,{isNumeric:!0,children:"Crdits"}),e.jsx(At,{isNumeric:!0,children:"Dbits"}),e.jsx(At,{isNumeric:!0,children:"Balance"})]})}),e.jsx(Rs,{children:x.map((b,S)=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontWeight:"500",children:b.month}),e.jsxs(lt,{isNumeric:!0,color:"green.500",children:["+",b.credits.toFixed(2)," "]}),e.jsxs(lt,{isNumeric:!0,color:"red.500",children:["-",b.debits.toFixed(2)," "]}),e.jsx(lt,{isNumeric:!0,fontWeight:"600",children:e.jsxs(Z,{color:b.balance>=0?"green.500":"red.500",children:[b.balance>=0?"+":"",b.balance.toFixed(2)," "]})})]},S))})]})})]})]})},bae=()=>{const{balance:t,updateBalance:n,isBalanceLocked:r,setIsBalanceLocked:s,loading:i}=Zp(),[l,d]=T.useState(t),[f,u]=T.useState(""),[h,a]=T.useState(!1),[m,v]=T.useState([]),g=Hr();T.useEffect(()=>{const b=localStorage.getItem("financeAuditLog");if(b)try{v(JSON.parse(b))}catch{console.warn("Erreur lecture audit log")}},[]),T.useEffect(()=>{d(t)},[t]);const x=async()=>{if(l===t&&!f){g({title:"Aucune modification",status:"info"});return}if(r){g({title:"Erreur",description:"Le solde est verrouill",status:"error"});return}a(!0);try{if(await n(parseFloat(l),f)){const C=[{id:Date.now(),timestamp:new Date().toLocaleString("fr-FR"),user:localStorage.getItem("userName")||"Utilisateur",action:"Modification solde",oldValue:t.toFixed(2),newValue:l,reason:f||"Mise  jour manuelle"},...m];v(C),localStorage.setItem("financeAuditLog",JSON.stringify(C)),u(""),g({title:"Succs",description:"Solde mis  jour",status:"success"})}}catch(b){g({title:"Erreur",description:b.message,status:"error"}),d(t)}finally{a(!1)}},w=()=>{s(!r),g({title:r?"Dverrouill":"Verrouill",description:`Le solde est ${r?"":"maintenant "}verrouill`,status:"success"})};return e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",children:"Paramtres Finances"}),e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Configuration et gestion du solde"})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Gestion du Solde"}),e.jsx(Ie,{leftIcon:e.jsx(Ed,{}),size:"sm",variant:r?"solid":"outline",colorScheme:r?"red":"gray",onClick:w,children:r?"Verrouill":"Dverrouill"})]})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsxs(ir,{status:"info",borderRadius:"md",children:[e.jsx(or,{}),e.jsx(Re,{children:e.jsxs(Z,{fontSize:"sm",children:["Le solde est ",e.jsx("strong",{children:r?"verrouill":"dverrouill"}),". Les modifications ",r?"ne ":"","seront enregistres dans l'historique d'audit."]})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Solde actuel"}),e.jsx(Xe,{type:"number",step:"0.01",value:l,onChange:b=>d(b.target.value),isDisabled:r,fontSize:"lg",fontWeight:"bold",color:"blue.500"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Raison de la modification (optionnel)"}),e.jsx(xr,{placeholder:"Ex: Correction suite audit, Synchronisation manuelle...",isDisabled:r,value:f,onChange:b=>u(b.target.value)})]}),e.jsx(Ie,{leftIcon:e.jsx(yh,{}),colorScheme:"blue",onClick:x,isLoading:h||i,isDisabled:r,w:"100%",children:"Enregistrer le solde"})]})})]}),e.jsx(ds,{}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Historique d'Audit du Solde"})}),e.jsx(bt,{overflowX:"auto",children:m.length>0?e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"Date/Heure"}),e.jsx(At,{children:"Utilisateur"}),e.jsx(At,{children:"Action"}),e.jsx(At,{children:"Ancien solde"}),e.jsx(At,{children:"Nouveau solde"}),e.jsx(At,{children:"Raison"})]})}),e.jsx(Rs,{children:m.map(b=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontSize:"xs",children:b.timestamp}),e.jsx(lt,{fontWeight:"500",children:b.user}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:"blue",children:b.action})}),e.jsxs(lt,{isNumeric:!0,fontSize:"sm",children:[b.oldValue," "]}),e.jsxs(lt,{isNumeric:!0,fontSize:"sm",fontWeight:"600",children:[b.newValue," "]}),e.jsx(lt,{fontSize:"sm",color:"gray.600",children:b.reason})]},b.id))})]}):e.jsx(Z,{color:"gray.500",textAlign:"center",py:8,children:"Aucune modification du solde enregistre"})})]}),e.jsx(ds,{}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Informations Systme"})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Te,{justify:"space-between",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(Z,{fontWeight:"500",children:"Version API"}),e.jsx(Xt,{colorScheme:"blue",children:"v2.0"})]}),e.jsxs(Te,{justify:"space-between",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(Z,{fontWeight:"500",children:"Dernire synchronisation"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:new Date().toLocaleString("fr-FR")})]}),e.jsxs(Te,{justify:"space-between",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(Z,{fontWeight:"500",children:"tat du systme"}),e.jsx(Xt,{colorScheme:"green",children:"En ligne"})]})]})})]})]})},wae=()=>{const{loadFinanceData:t}=Zp();T.useEffect(()=>{t()},[t]);const n=[{id:"dashboard",label:"Tableau de bord",icon:j1,render:()=>e.jsx(yse,{})},{id:"transactions",label:"Transactions",icon:Dj,render:()=>e.jsx(jse,{})},{id:"scheduled",label:"Oprations programmes",icon:xc,render:()=>e.jsx(bse,{})},{id:"invoicing",label:"Facturation",icon:dg,render:()=>e.jsx(yae,{})},{id:"reports",label:"Rapports & KPI",icon:_P,render:()=>e.jsx(jae,{})},{id:"settings",label:"Paramtres",icon:Mg,render:()=>e.jsx(bae,{})}];return e.jsx(Xp,{title:"Gestion financire",subtitle:"Recettes, dpenses, devis et factures",sections:n,defaultSectionId:"dashboard",sidebarTitle:"Finances",sidebarSubtitle:"Pilotage budgtaire",sidebarTitleIcon:Qp,versionLabel:"Finance v2"})},Qw={public_open_access:{name:"Ouvert au Public",icon:Ep,color:"green",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"vnement ouvert au public, accs libre sans inscription"},public_with_registration:{name:"Public avec Inscription",icon:tA,color:"blue",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:15,childPrice:8,maxParticipants:100,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"vnement public avec inscription ouverte directement au public"},private_outing:{name:"vnement Priv",icon:lS,color:"yellow",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Sortie visible publiquement mais rserve (pas d'inscription possible)"},public_contact_required:{name:"Contact Association Requis",icon:lS,color:"orange",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:30,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Visible par tous mais inscription uniquement en contactant l'association"},members_only:{name:"Adhrents Seulement",icon:Ed,color:"purple",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:50,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"Rserv aux adhrents, non visible sur le site public"},private_internal:{name:"vnement Interne",icon:Ed,color:"red",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"DRAFT"},description:"vnement interne, compltement priv"},public_pdf_form:{name:"Formulaire PDF Public",icon:vc,color:"teal",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:null,registrationDeadline:"",registrationMethod:"pdf",status:"PUBLISHED"},description:"vnement public avec formulaire PDF  tlcharger"},parade_classic_vehicles:{name:" Dfil Anciennes",icon:zp,color:"red",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED",registrationType:"parade_vehicles"},description:"Dfil de vhicules anciens - Inscription avec nom, vhicule et club"}},Sae=()=>{const[t,n]=T.useState([]),[r,s]=T.useState([]),[i,l]=T.useState(!1),[d,f]=T.useState(!1),[u,h]=T.useState("cards"),[a,m]=T.useState(""),v=Hr(),{isOpen:g,onOpen:x,onClose:w}=er(),[b,S]=T.useState(null),[C,B]=T.useState(null),[F,N]=T.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),Q=T.useCallback(async()=>{try{l(!0);const M=await Wu.getAll(),ee=M.events||M||[];n(Array.isArray(ee)?ee:[])}catch(M){if(console.error("Erreur events API:",M),M.message.includes("401")){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}M.message.includes("400")?v({status:"error",title:"Erreur 400 - Bad Request",description:"Problme avec la requte. Cliquez sur 'Tester API' pour diagnostiquer."}):v({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements."}),n([])}finally{l(!1)}},[v]),z=T.useCallback(async()=>{try{const M=await wv.getAll(),ee=M.vehicles||M||[];s(Array.isArray(ee)?ee:[])}catch(M){console.error(M),s([])}},[]);T.useEffect(()=>{Q(),z()},[Q,z]);const k=()=>{N({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),m("")},K=M=>{const ee=Qw[M];ee&&(N(re=>({...re,...ee.defaults,eventType:M,title:re.title,date:re.date,time:re.time,location:re.location,description:re.description,vehicleId:re.vehicleId})),m(M),v({status:"info",title:"Template appliqu",description:ee.description}))},se=()=>{S(null),k(),x()},V=M=>{S(M);let ee={};try{ee=M.extras?JSON.parse(M.extras):{}}catch(re){console.log("Impossible de parser extras:",re)}N({title:M.title||"",date:M.date||"",time:M.time||"",location:M.location||"",description:M.description||"",adultPrice:M.adultPrice||"",childPrice:M.childPrice||"",helloAssoUrl:M.helloAssoUrl||"",vehicleId:M.vehicleId||"",status:M.status||"DRAFT",isVisible:ee.isVisible!==!1,allowPublicRegistration:ee.allowPublicRegistration||!1,requiresRegistration:ee.requiresRegistration||!!M.helloAssoUrl,isFree:ee.isFree!==!1,maxParticipants:ee.maxParticipants||"",registrationDeadline:ee.registrationDeadline||"",registrationMethod:ee.registrationMethod||(M.helloAssoUrl?"helloasso":"none"),pdfUrl:ee.pdfUrl||"",eventType:ee.eventType||"public_info_only"}),m(ee.eventType||""),x()},q=(M,ee)=>{const re=M.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,30),me=ee.replace(/-/g,""),De=Math.random().toString(36).substring(2,6);return`${re}-${me}-${De}`},le=async()=>{if(!F.title.trim()){v({status:"warning",title:"Le titre est requis"});return}if(!F.date){v({status:"warning",title:"La date est requise"});return}try{f(!0);const M={title:F.title.trim(),date:F.date,time:F.time||null,location:F.location.trim()||null,description:F.description.trim()||null,adultPrice:F.adultPrice?parseFloat(F.adultPrice):null,childPrice:F.childPrice?parseFloat(F.childPrice):null,helloAssoUrl:F.helloAssoUrl.trim()||null,vehicleId:F.vehicleId||null,status:F.status,extras:{isVisible:F.isVisible,allowPublicRegistration:F.allowPublicRegistration,requiresRegistration:F.requiresRegistration,isFree:F.isFree,maxParticipants:F.maxParticipants?parseInt(F.maxParticipants):null,registrationDeadline:F.registrationDeadline||null,registrationMethod:F.registrationMethod,pdfUrl:F.pdfUrl||null,eventType:F.eventType}};b||(M.id=q(F.title,F.date),console.log(" Generated ID:",M.id)),console.log(" Saving event data:",M),b?(await Wu.update(b.id,M),v({status:"success",title:"vnement modifi avec succs"})):(await Wu.create(M),v({status:"success",title:"vnement cr avec succs"})),await Q(),w(),k()}catch(M){console.error("Save error:",M),M.message.includes("409")||M.message.includes("ID dj utilis")?v({status:"error",title:"ID dj utilis",description:"Un vnement avec ce nom et cette date existe dj. Modifiez le titre ou la date."}):M.message.includes("400")?(console.log("Dtails erreur 400 - Data envoye:",eventData),v({status:"error",title:"Erreur 400 - Donnes invalides",description:"Vrifiez la console pour voir les donnes envoyes."})):v({status:"error",title:"Erreur lors de la sauvegarde",description:M.message})}finally{f(!1)}},ae=async M=>{if(confirm(`tes-vous sr de vouloir supprimer l'vnement "${M.title}" ?`))try{await Wu.delete(M.id),v({status:"success",title:"vnement supprim"}),await Q()}catch(ee){v({status:"error",title:"Erreur lors de la suppression",description:ee.message})}},ie=async M=>{const ee=M.status==="PUBLISHED"?"DRAFT":"PUBLISHED";try{console.log(" Toggling status from",M.status,"to",ee),await Wu.update(M.id,{status:ee}),v({status:"success",title:`vnement ${ee==="PUBLISHED"?"publi":"dpubli"}`}),await Q()}catch(re){console.error("Erreur toggle publish:",re),v({status:"error",title:"Erreur lors de la publication",description:re.message})}},J=M=>M==="PUBLISHED"?e.jsx(Xt,{colorScheme:"green",children:"Publi"}):e.jsx(Xt,{colorScheme:"gray",children:"Brouillon"}),G=M=>{try{const re=(M.extras?JSON.parse(M.extras):{}).eventType||"public_info_only",me=Qw[re];if(me)return e.jsxs(Xt,{colorScheme:me.color,variant:"subtle",children:[e.jsx(ws,{as:me.icon,mr:1}),me.name]})}catch(ee){console.log("Error parsing event extras:",ee)}return e.jsx(Xt,{colorScheme:"gray",children:"Standard"})},W=M=>{try{const ee=M.extras?JSON.parse(M.extras):{};return console.log(` Internal - Event "${M.title}" extras:`,ee),ee.isVisible?ee.requiresRegistration?ee.requiresRegistration&&!ee.allowPublicRegistration?e.jsx(Ie,{size:"sm",leftIcon:e.jsx(lS,{}),colorScheme:"orange",variant:"outline",isDisabled:!0,children:"Contact requis"}):ee.requiresRegistration&&ee.allowPublicRegistration?e.jsx(Ie,{size:"sm",leftIcon:e.jsx(tA,{}),colorScheme:"blue",variant:"solid",isDisabled:!0,children:"Inscription publique"}):e.jsx(Ie,{size:"sm",leftIcon:e.jsx(Ep,{}),colorScheme:"gray",variant:"outline",isDisabled:!0,children:"Indtermin"}):e.jsx(Ie,{size:"sm",leftIcon:e.jsx(Ep,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Ouvert au public"}):e.jsx(Ie,{size:"sm",leftIcon:e.jsx(Ed,{}),colorScheme:"red",variant:"solid",isDisabled:!0,children:"Priv/Interne"})}catch(ee){return console.log(`Error parsing extras for ${M.title}:`,ee),e.jsx(Ie,{size:"sm",leftIcon:e.jsx(Ep,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Legacy (ouvert)"})}},pe=M=>{const ee=r.find(re=>re.parc===M);return ee?`${ee.parc} - ${ee.modele}`:"Aucun vhicule"},oe=t.find(M=>M.id===C);oe&&r.find(M=>M.parc===oe.vehicleId);const he=()=>e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(M=>e.jsxs(St,{shadow:"md",position:"relative",children:[e.jsx(Qn,{pb:2,children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsxs(Te,{justify:"space-between",w:"100%",children:[e.jsx(ht,{size:"md",noOfLines:2,flex:1,children:M.title}),W(M)]}),e.jsxs(Te,{spacing:2,wrap:"wrap",children:[J(M.status),G(M)]})]})}),e.jsx(bt,{pt:0,children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsxs(Te,{children:[e.jsx(xc,{}),e.jsxs(Z,{fontSize:"sm",children:[M.date," ",M.time&&` ${M.time}`]})]}),M.location&&e.jsxs(Te,{children:[e.jsx(hf,{}),e.jsx(Z,{fontSize:"sm",children:M.location})]}),M.vehicleId&&e.jsxs(Z,{fontSize:"sm",children:[" ",pe(M.vehicleId)]}),M.description&&e.jsx(Z,{fontSize:"sm",color:"gray.600",noOfLines:3,children:M.description}),(M.adultPrice||M.childPrice)&&e.jsxs(Te,{spacing:4,children:[M.adultPrice&&e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Adulte: ",M.adultPrice,""]}),M.childPrice&&e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Enfant: ",M.childPrice,""]})]}),e.jsxs(Te,{spacing:2,pt:4,w:"100%",wrap:"wrap",children:[e.jsx(Ie,{leftIcon:e.jsx(ru,{}),size:"sm",onClick:()=>V(M),children:"Modifier"}),e.jsx(Ie,{leftIcon:e.jsx(xf,{}),size:"sm",colorScheme:M.status==="PUBLISHED"?"red":"green",onClick:()=>ie(M),children:M.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(Ie,{leftIcon:e.jsx(oi,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>ae(M),children:"Supprimer"})]})]})})]},M.id))}),$=()=>e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Titre"}),e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:t.map(M=>e.jsxs(Rn,{bg:M.id===C?"blue.50":void 0,cursor:"pointer",onClick:()=>B(M.id===C?null:M.id),_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontWeight:"semibold",children:M.title}),e.jsxs(lt,{children:[M.date," ",M.time&&` ${M.time}`]}),e.jsx(lt,{children:G(M)}),e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:1,children:[J(M.status),W(M)]})}),e.jsx(lt,{children:e.jsxs(Te,{spacing:1,children:[e.jsx(Ie,{size:"sm",onClick:ee=>{ee.stopPropagation(),V(M)},children:"diter"}),e.jsx(Ie,{size:"sm",colorScheme:M.status==="PUBLISHED"?"red":"green",onClick:ee=>{ee.stopPropagation(),ie(M)},children:M.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(Ie,{size:"sm",colorScheme:"red",variant:"outline",onClick:ee=>{ee.stopPropagation(),ae(M)},children:"Supprimer"})]})})]},M.id))})]})});return e.jsxs(Re,{p:6,children:[e.jsxs(Ri,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{children:" Cration des vnements"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(Te,{spacing:3,children:[e.jsx(Ie,{leftIcon:u==="cards"?e.jsx(TP,{}):e.jsx(wB,{}),size:"sm",variant:"outline",onClick:()=>h(u==="cards"?"table":"cards"),children:u==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:se,children:"Nouvel vnement"})]})]}),i?e.jsx(is,{py:20,children:e.jsx(Kr,{size:"xl"})}):t.length===0?e.jsx(is,{py:20,children:e.jsxs(Be,{spacing:4,children:[e.jsx(Z,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:se,children:"Crer le premier vnement"})]})}):u==="cards"?e.jsx(he,{}):e.jsx($,{}),e.jsxs(Hn,{isOpen:g,onClose:w,size:"6xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsx($n,{children:b?"Modifier l'vnement":"Nouvel vnement"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Eu,{children:[e.jsxs(Tu,{children:[e.jsx($r,{children:" Informations de base"}),e.jsx($r,{children:" Configuration"}),e.jsx($r,{children:" Templates"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Titre"}),e.jsx(Xe,{value:F.title,onChange:M=>N(ee=>({...ee,title:M.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(Te,{w:"100%",spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Date"}),e.jsx(Xe,{type:"date",value:F.date,onChange:M=>N(ee=>({...ee,date:M.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure"}),e.jsx(Xe,{type:"time",value:F.time,onChange:M=>N(ee=>({...ee,time:M.target.value}))})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Lieu"}),e.jsx(Xe,{value:F.location,onChange:M=>N(ee=>({...ee,location:M.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Vhicule participant"}),e.jsx(gn,{value:F.vehicleId,onChange:M=>N(ee=>({...ee,vehicleId:M.target.value})),placeholder:"Slectionner un vhicule (optionnel)",children:r.map(M=>e.jsxs("option",{value:M.parc,children:[M.parc," - ",M.modele," (",M.marque,")"]},M.parc))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:F.description,onChange:M=>N(ee=>({...ee,description:M.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:6,children:[e.jsxs(Re,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(ht,{size:"sm",mb:3,children:" Visibilit"}),e.jsxs(be,{children:[e.jsxs(Te,{children:[e.jsx(vo,{isChecked:F.isVisible,onChange:M=>N(ee=>({...ee,isVisible:M.target.checked}))}),e.jsx(je,{mb:0,children:"Visible sur le site public"})]}),e.jsxs(ir,{status:F.isVisible?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(or,{}),e.jsx(Z,{fontSize:"sm",children:F.isVisible?" L'vnement apparatra sur la page Events du site externe":" vnement priv, visible seulement dans l'interface interne"})]})]})]}),e.jsxs(Re,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(ht,{size:"sm",mb:3,children:" Gestion des inscriptions"}),e.jsxs(Be,{spacing:4,align:"start",children:[e.jsxs(be,{children:[e.jsxs(Te,{children:[e.jsx(vo,{isChecked:F.requiresRegistration,onChange:M=>N(ee=>({...ee,requiresRegistration:M.target.checked}))}),e.jsx(je,{mb:0,children:"Inscription requise pour participer"})]}),e.jsxs(ir,{status:F.requiresRegistration?"info":"success",mt:2,borderRadius:"md",children:[e.jsx(or,{}),e.jsx(Z,{fontSize:"sm",children:F.requiresRegistration?" Une inscription sera ncessaire pour participer  cet vnement":" Bouton 'Ouvert au public' - Aucune inscription ncessaire"})]})]}),F.requiresRegistration&&e.jsxs(be,{children:[e.jsxs(Te,{children:[e.jsx(vo,{isChecked:F.allowPublicRegistration,onChange:M=>N(ee=>({...ee,allowPublicRegistration:M.target.checked}))}),e.jsx(je,{mb:0,children:"Le public peut s'inscrire directement"})]}),e.jsxs(ir,{status:F.allowPublicRegistration?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(or,{}),e.jsx(Z,{fontSize:"sm",children:F.allowPublicRegistration?" Bouton d'inscription disponible sur le site externe":" Bouton 'Contacter l'association' - Inscription via contact uniquement"})]})]})]})]}),e.jsxs(Re,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(ht,{size:"sm",mb:3,children:" Tarification"}),e.jsxs(Be,{spacing:3,align:"start",children:[e.jsx(be,{children:e.jsxs(Te,{children:[e.jsx(vo,{isChecked:F.isFree,onChange:M=>N(ee=>({...ee,isFree:M.target.checked,adultPrice:M.target.checked?"":ee.adultPrice,childPrice:M.target.checked?"":ee.childPrice}))}),e.jsx(je,{mb:0,children:"vnement gratuit"})]})}),!F.isFree&&e.jsxs(Te,{w:"100%",spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Prix adulte ()"}),e.jsx(Xe,{type:"number",step:"0.01",value:F.adultPrice,onChange:M=>N(ee=>({...ee,adultPrice:M.target.value})),placeholder:"15.00"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prix enfant ()"}),e.jsx(Xe,{type:"number",step:"0.01",value:F.childPrice,onChange:M=>N(ee=>({...ee,childPrice:M.target.value})),placeholder:"8.00"})]})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Statut de publication"}),e.jsxs(gn,{value:F.status,onChange:M=>N(ee=>({...ee,status:M.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"})]})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,children:[e.jsx(Z,{fontSize:"lg",fontWeight:"bold",mb:4,children:" Choisissez un template pour configurer rapidement votre vnement"}),e.jsx(Sn,{columns:{base:1,md:2},spacing:4,w:"100%",children:Object.entries(Qw).map(([M,ee])=>e.jsx(St,{cursor:"pointer",onClick:()=>K(M),bg:a===M?`${ee.color}.50`:"white",borderColor:a===M?`${ee.color}.200`:"gray.200",borderWidth:"2px",_hover:{borderColor:`${ee.color}.300`},children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsxs(Te,{children:[e.jsx(ws,{as:ee.icon,color:`${ee.color}.500`}),e.jsx(Z,{fontWeight:"bold",color:`${ee.color}.700`,children:ee.name})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:ee.description}),a===M&&e.jsx(Xt,{colorScheme:ee.color,children:"Slectionn"})]})})},M))}),a&&e.jsxs(ir,{status:"info",borderRadius:"md",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"bold",children:"Template appliqu"}),e.jsx(Z,{fontSize:"sm",children:`Vous pouvez maintenant personnaliser les paramtres dans l'onglet "Configuration"`})]})]})]})})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:()=>{w(),k()},children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:le,isLoading:d,children:b?"Modifier":"Crer"})]})]})]})]})},Cae=t=>{const n={DRAFT:{cs:"gray",label:"Brouillon"},PUBLISHED:{cs:"green",label:"Publi"},ARCHIVED:{cs:"orange",label:"Archiv"}},r=n[t]??n.DRAFT;return e.jsx(Xt,{colorScheme:r.cs,children:r.label})},Bae=t=>{if(!t)return"Date non dfinie";try{return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}};function Eae(){const t=Hr(),[n,r]=T.useState([]),[s,i]=T.useState(!0),[l,d]=T.useState(""),[f,u]=T.useState("ALL"),[h,a]=T.useState(null),[m,v]=T.useState([]),[g,x]=T.useState([]),[w,b]=T.useState({revenue:0,expenses:0,profit:0,capacity:0,occupancy:0,rate:0,breakdown:null}),[S,C]=T.useState({url:"",org:"",event:""}),{isOpen:B,onOpen:F,onClose:N}=er(),[Q,z]=T.useState(!1);T.useEffect(()=>{(async()=>{i(!0);try{const re=await Wu.getAll();r(Array.isArray(re)?re:[])}catch{t({status:"error",title:"Erreur",description:"Impossible de charger les vnements"})}finally{i(!1)}})()},[t]);const k=T.useMemo(()=>{const re=l.trim().toLowerCase();return(n||[]).filter(me=>{const De=me.title?.toLowerCase().includes(re)||me.location?.toLowerCase().includes(re),Ue=f==="ALL"||me.status===f;return De&&Ue})},[n,l,f]),K=T.useMemo(()=>{const re=n.length,me=n.filter(Ue=>Ue.status==="PUBLISHED").length,De=n.filter(Ue=>Ue.status==="PUBLISHED"&&new Date(Ue.date)>new Date).length;return{total:re,published:me,upcoming:De,totalParticipants:0,totalRevenue:0}},[n]),se=re=>{a(re),v([]),x([{id:1,name:"Trajet principal",vehicle:re.vehicleId||"Bus",capacity:45,stops:[{name:"Dpart",time:"09:00",address:""},{name:re.location||"Arrive",time:"10:00",address:re.location||""}]}]),C({url:re.helloAssoUrl||"",org:re.helloAssoOrg||"",event:re.helloAssoEvent||""}),F()},V=re=>{if(!re?.name||!re?.email){t({status:"warning",title:"Nom et email requis"});return}const me=g.reduce((Ue,Ne)=>Ue+(Ne.capacity||0),0),De=m.filter(Ue=>Ue.status==="confirmed").length;if(re.status==="confirmed"&&De>=me){t({status:"error",title:"Capacit atteinte"});return}v(Ue=>[...Ue,{id:Date.now(),type:"adult",status:"pending",...re}])},q=(re,me)=>{v(De=>De.map(Ue=>Ue.id===re?{...Ue,...me}:Ue))},le=re=>v(me=>me.filter(De=>De.id!==re)),ae=()=>{x(re=>[...re,{id:Date.now(),name:"Nouveau trajet",vehicle:"",capacity:0,stops:[]}])},ie=(re,me)=>{const De=parseInt(me||0,10);x(Ue=>Ue.map(Ne=>Ne.id===re?{...Ne,capacity:De}:Ne))},J=T.useMemo(()=>{if(!h)return null;const re=parseFloat(h.adultPrice||0),me=parseFloat(h.childPrice||0),De=m.filter(at=>at.status==="confirmed"),Ue=De.filter(at=>at.type==="adult").length,Ne=De.filter(at=>at.type==="child").length,Ke=Math.round(Ue*re+Ne*me),rt=g.reduce((at,Gt)=>at+(Gt.capacity||0),0),et=De.length,wt=rt>0?Math.round(et/rt*100):0,nt=Math.round(Ke*.25+rt*2+et*3),Ee=Ke-nt;return{revenue:Ke,expenses:nt,profit:Ee,capacity:rt,occupancy:et,rate:wt,breakdown:{adult:{price:re,count:Ue,total:re*Ue},child:{price:me,count:Ne,total:me*Ne},expenseLines:[{label:"Base (25%)",amount:Math.round(Ke*.25)},{label:`Capacit (${rt})`,amount:Math.round(rt*2)},{label:`Participants (${et})`,amount:Math.round(et*3)}]}}},[h,m,g]);T.useEffect(()=>{J&&b(J)},[J]);const G=async()=>{z(!0);try{t({status:"success",title:"Modifications sauvegardes"})}catch{t({status:"error",title:"Erreur de sauvegarde"})}finally{z(!1)}},[W,pe]=T.useState({type:"recette",description:"",amount:0,category:""}),[oe,he]=T.useState(!1),[$,M]=T.useState([]),ee=async()=>{if(h){he(!0);try{const re={id:Date.now(),...W,date:new Date};M(me=>[...me,re]),pe({type:"recette",description:"",amount:0,category:""}),t({status:"success",title:"Transaction ajoute"})}catch{t({status:"error",title:"Erreur d'ajout de transaction"})}finally{he(!1)}}};return e.jsxs(Jc,{maxW:"7xl",py:6,children:[e.jsxs(Be,{align:"start",spacing:6,mb:8,children:[e.jsxs(Te,{w:"100%",justify:"space-between",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"lg",children:" Gestion des vnements"}),e.jsx(Z,{color:"gray.600",children:"Administration des vnements, participants et finances"})]}),e.jsxs(Te,{children:[e.jsx(Ie,{as:oo,to:"/dashboard/evenements",leftIcon:e.jsx(Bs,{}),colorScheme:"blue",variant:"outline",children:"Crer un vnement"}),e.jsx(Ie,{leftIcon:e.jsx(RA,{}),onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})]}),e.jsxs(Sn,{columns:{base:2,md:5},spacing:4,w:"100%",children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Total"}),e.jsx(Jn,{color:"blue.500",children:K.total})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Publis"}),e.jsx(Jn,{color:"green.500",children:K.published})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:" venir"}),e.jsx(Jn,{color:"orange.500",children:K.upcoming})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Participants"}),e.jsx(Jn,{color:"purple.500",children:K.totalParticipants})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Revenus"}),e.jsxs(Jn,{color:"green.600",children:[K.totalRevenue,""]})]})})})]})]}),e.jsx(St,{mb:6,children:e.jsx(bt,{children:e.jsxs(Te,{spacing:4,children:[e.jsxs(Up,{maxW:"320px",children:[e.jsx(Mp,{pointerEvents:"none",children:e.jsx(w1,{})}),e.jsx(Xe,{placeholder:"Rechercher un vnement...",value:l,onChange:re=>d(re.target.value)})]}),e.jsxs(gn,{maxW:"220px",value:f,onChange:re=>u(re.target.value),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),e.jsx("option",{value:"PUBLISHED",children:"Publis"}),e.jsx("option",{value:"DRAFT",children:"Brouillons"}),e.jsx("option",{value:"ARCHIVED",children:"Archivs"})]})]})})}),s?e.jsx(is,{py:20,children:e.jsx(Kr,{size:"xl"})}):k.length===0?e.jsx(St,{children:e.jsx(bt,{children:e.jsx(is,{py:16,children:e.jsxs(Be,{spacing:4,children:[e.jsx(Z,{color:"gray.500",children:"Aucun vnement trouv"}),e.jsx(Ie,{as:oo,to:"/dashboard/evenements",leftIcon:e.jsx(Bs,{}),colorScheme:"blue",children:"Crer le premier"})]})})})}):e.jsx(St,{children:e.jsx(bt,{p:0,children:e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"vnement"}),e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:k.map(re=>e.jsxs(Rn,{children:[e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"semibold",children:re.title}),re.location&&e.jsxs(Te,{fontSize:"sm",color:"gray.600",children:[e.jsx(hf,{}),e.jsx(Z,{children:re.location})]}),re.vehicleId&&e.jsxs(Te,{fontSize:"sm",color:"blue.600",children:[e.jsx(zp,{}),e.jsx(Z,{children:re.vehicleId})]})]})}),e.jsxs(lt,{children:[Bae(re.date),re.time?e.jsx(Z,{fontSize:"sm",color:"gray.600",children:re.time}):null]}),e.jsx(lt,{children:Cae(re.status)}),e.jsx(lt,{children:e.jsxs(Te,{spacing:1,children:[e.jsx(Jl,{label:"Gestion complte",children:e.jsx(Pn,{"aria-label":"Grer",icon:e.jsx(xf,{}),size:"sm",variant:"ghost",onClick:()=>se(re)})}),e.jsx(Jl,{label:"Modifier l'vnement",children:e.jsx(Pn,{as:oo,to:"/dashboard/evenements","aria-label":"Modifier",icon:e.jsx(ru,{}),size:"sm",variant:"ghost"})}),e.jsx(Jl,{label:"Exporter ( venir)",children:e.jsx(Pn,{"aria-label":"Exporter",icon:e.jsx(vc,{}),size:"sm",variant:"ghost",onClick:()=>t({status:"info",title:"Bientt disponible"})})})]})})]},re.id))})]})})}),e.jsxs(Hn,{isOpen:B,onClose:N,size:"6xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",children:[e.jsx($n,{children:e.jsxs(Te,{children:[e.jsx(xf,{}),e.jsxs(Z,{ml:2,children:["Gestion : ",h?.title]})]})}),e.jsx(fr,{}),e.jsx(Vn,{overflow:"auto",children:e.jsxs(Eu,{children:[e.jsxs(Tu,{children:[e.jsx($r,{children:" Participants"}),e.jsx($r,{children:" Trajets"}),e.jsx($r,{children:" Finances"}),e.jsx($r,{children:" HelloAsso"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(ht,{size:"md",children:["Participants (",m.length,")"]}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",size:"sm",onClick:()=>V({name:"Nouveau participant",email:`user${Date.now()}@mail.com`,type:"adult",status:"pending"}),children:"Ajouter vite (dmo)"})]}),m.length===0?e.jsx(is,{py:8,children:e.jsx(Z,{color:"gray.500",children:"Aucun participant"})}):e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Nom"}),e.jsx(At,{children:"Email"}),e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{})]})}),e.jsx(Rs,{children:m.map(re=>e.jsxs(Rn,{children:[e.jsx(lt,{fontWeight:"bold",children:re.name}),e.jsx(lt,{children:re.email}),e.jsx(lt,{children:e.jsxs(gn,{size:"sm",value:re.type,onChange:me=>q(re.id,{type:me.target.value}),children:[e.jsx("option",{value:"adult",children:"Adulte"}),e.jsx("option",{value:"child",children:"Enfant"})]})}),e.jsx(lt,{children:e.jsxs(gn,{size:"sm",value:re.status,onChange:me=>q(re.id,{status:me.target.value}),children:[e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"confirmed",children:"Confirm"}),e.jsx("option",{value:"cancelled",children:"Annul"})]})}),e.jsx(lt,{isNumeric:!0,children:e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>le(re.id)})})]},re.id))})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Trajets"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),size:"sm",colorScheme:"blue",onClick:ae,children:"Ajouter un trajet"})]}),e.jsx(St,{bg:"blue.50",borderLeft:"4px solid",borderLeftColor:"blue.400",children:e.jsx(bt,{children:e.jsxs(Te,{spacing:8,children:[e.jsxs(Zn,{children:[e.jsx(qn,{children:"Capacit totale"}),e.jsxs(Jn,{color:"blue.600",children:[w.capacity," places"]})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Confirms"}),e.jsx(Jn,{color:"green.600",children:w.occupancy})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Taux d'occupation"}),e.jsxs(Jn,{color:"purple.600",children:[w.rate,"%"]})]})]})})}),e.jsx(Sn,{columns:{base:1,lg:2},spacing:4,children:g.map(re=>e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"sm",children:re.name}),re.vehicle&&e.jsx(Xt,{colorScheme:"blue",children:re.vehicle})]})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Te,{children:[e.jsx(tA,{}),e.jsx(Z,{fontSize:"sm",children:"Capacit:"}),e.jsxs(gs,{size:"sm",min:0,max:200,value:re.capacity||0,onChange:me=>ie(re.id,me),w:"90px",children:[e.jsx(vs,{}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"places"})]}),e.jsxs(Te,{spacing:3,children:[e.jsxs(Z,{fontSize:"sm",fontWeight:"bold",children:[w.occupancy," / ",re.capacity||0]}),e.jsx(df,{value:(re.capacity||0)>0?Math.min(100,Math.round(w.occupancy/re.capacity*100)):0,size:"sm",colorScheme:(re.capacity||0)>0&&w.occupancy/(re.capacity||1)>.9?"red":(re.capacity||0)>0&&w.occupancy/(re.capacity||1)>.75?"orange":"green",flex:1})]}),e.jsx(Re,{fontSize:"sm",color:"gray.600",children:re.stops?.length?e.jsx("ul",{style:{marginLeft:"1rem"},children:re.stops.map((me,De)=>e.jsxs("li",{children:[me.time?`${me.time}  `:"",me.name]},De))}):e.jsx(Z,{children:"Aucun arrt"})})]})})]},re.id))})]})}),e.jsx(Gr,{children:e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsx(ht,{size:"md",children:"Finances"}),e.jsxs(Sn,{columns:{base:1,md:4},spacing:4,children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Revenus"}),e.jsxs(Jn,{color:"green.500",children:[w.revenue,""]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Dpenses"}),e.jsxs(Jn,{color:"red.500",children:[w.expenses,""]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Bnfice"}),e.jsxs(Jn,{color:w.profit>=0?"green.500":"red.500",children:[w.profit,""]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Taux d'occupation"}),e.jsxs(Jn,{color:"blue.500",children:[w.rate,"%"]}),e.jsxs(Z,{fontSize:"xs",color:"gray.600",children:[w.occupancy," / ",w.capacity," places"]})]})})})]}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Revenus"})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Z,{children:["Adulte (",w.breakdown?.adult.count,")"]}),e.jsxs(Z,{fontWeight:"bold",children:[Math.round(w.breakdown?.adult.total||0),""]})]}),e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Z,{children:["Enfant (",w.breakdown?.child.count,")"]}),e.jsxs(Z,{fontWeight:"bold",children:[Math.round(w.breakdown?.child.total||0),""]})]}),e.jsx(ds,{}),e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontWeight:"bold",children:"Total"}),e.jsxs(Z,{fontWeight:"bold",color:"green.500",children:[w.revenue,""]})]})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Dpenses"})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[w.breakdown?.expenseLines?.map((re,me)=>e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontSize:"sm",children:re.label}),e.jsxs(Z,{fontWeight:"bold",children:[re.amount,""]})]},me)),e.jsx(ds,{}),e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{fontWeight:"bold",children:"Total"}),e.jsxs(Z,{fontWeight:"bold",color:"red.500",children:[w.expenses,""]})]})]})})]})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:"Configuration HelloAsso"}),e.jsxs(be,{children:[e.jsx(je,{children:"URL de l'vnement"}),e.jsx(Xe,{placeholder:"https://www.helloasso.com/associations/.../evenements/...",value:S.url,onChange:re=>C(me=>({...me,url:re.target.value}))}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:1,children:"Optionnel : on peut parser plus tard"})]}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Organisation"}),e.jsx(Xe,{value:S.org,onChange:re=>C(me=>({...me,org:re.target.value})),placeholder:"nom-organisation"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"vnement"}),e.jsx(Xe,{value:S.event,onChange:re=>C(me=>({...me,event:re.target.value})),placeholder:"nom-evenement"})]})]}),e.jsx(Ie,{leftIcon:e.jsx(yh,{}),onClick:()=>t({status:"success",title:"Paramtres enregistrs"}),colorScheme:"blue",children:"Sauvegarder"}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"sm",children:"Participants HelloAsso"}),e.jsx(Xt,{colorScheme:"gray",children:"Non synchronis"})]})}),e.jsxs(bt,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"La synchronisation sera ajoute ultrieurement."}),e.jsxs(Re,{mt:3,children:[e.jsxs(bg,{fontSize:"xs",children:["org: ",S.org||"-"]}),"  ",e.jsxs(bg,{fontSize:"xs",children:["event: ",S.event||"-"]})]})]})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(ht,{size:"md",children:"Transactions lies  lvnement"}),e.jsxs(Te,{children:[e.jsxs(gn,{maxW:"160px",value:W.type,onChange:re=>pe(me=>({...me,type:re.target.value})),children:[e.jsx("option",{value:"recette",children:"Recette"}),e.jsx("option",{value:"depense",children:"Dpense"})]}),e.jsx(Xe,{placeholder:"Description",value:W.description,onChange:re=>pe(me=>({...me,description:re.target.value}))}),e.jsxs(gs,{maxW:"160px",value:W.amount,min:0,precision:2,step:1,onChange:(re,me)=>pe(De=>({...De,amount:Number.isFinite(me)?me:0})),children:[e.jsx(vs,{placeholder:"Montant"}),e.jsxs(Ul,{children:[e.jsx(kl,{}),e.jsx(Ml,{})]})]}),e.jsxs(gn,{maxW:"220px",placeholder:"Catgorie",value:W.category,onChange:re=>pe(me=>({...me,category:re.target.value})),children:[e.jsx("option",{value:"evenements",children:"vnements"}),e.jsx("option",{value:"carburant",children:"Carburant"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"materiel",children:"Matriel"}),e.jsx("option",{value:"autres",children:"Autres"})]}),e.jsx(Ie,{leftIcon:e.jsx(yh,{}),colorScheme:"blue",onClick:ee,children:"Ajouter"})]}),e.jsx(St,{children:e.jsx(bt,{p:0,children:oe?e.jsx(is,{py:8,children:e.jsx(Kr,{})}):$.length===0?e.jsx(is,{py:10,children:e.jsx(Z,{color:"gray.500",children:"Aucune transaction lie"})}):e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Catgorie"}),e.jsx(At,{isNumeric:!0,children:"Montant"})]})}),e.jsx(Rs,{children:$.map(re=>e.jsxs(Rn,{children:[e.jsx(lt,{children:re.date?new Date(re.date).toLocaleDateString("fr-FR"):"-"}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:re.type==="recette"?"green":"red",children:re.type==="recette"?"Recette":"Dpense"})}),e.jsx(lt,{children:re.description}),e.jsx(lt,{children:e.jsx(Xt,{variant:"subtle",children:re.category||"-"})}),e.jsx(lt,{isNumeric:!0,children:e.jsx(Z,{fontWeight:"bold",color:re.type==="recette"?"green.500":"red.500",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(re.amount||0)})})]},re.id))})]})})})]})})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:N,children:"Fermer"}),e.jsx(Ie,{colorScheme:"blue",leftIcon:e.jsx(yh,{}),onClick:G,isLoading:Q,children:"Sauvegarder"})]})]})]})]})}function kR(t,n){const r=T.useRef(n);T.useEffect(function(){n!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),n!=null&&t.attributionControl.addAttribution(n)),r.current=n},[t,n])}const Tae=1;function Iae(t){return Object.freeze({__version:Tae,map:t})}function QR(t,n){return Object.freeze({...t,...n})}const IB=T.createContext(null);function B1(){const t=T.use(IB);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function zR(t){function n(r,s){const{instance:i,context:l}=t(r).current;T.useImperativeHandle(s,()=>i);const{children:d}=r;return d==null?null:xs.createElement(IB,{value:l},d)}return T.forwardRef(n)}function _ae(t){function n(r,s){const[i,l]=T.useState(!1),{instance:d}=t(r,l).current;T.useImperativeHandle(s,()=>d),T.useEffect(function(){i&&d.update()},[d,i,r.children]);const f=d._contentNode;return f?OS.createPortal(r.children,f):null}return T.forwardRef(n)}function Fae(t){function n(r,s){const{instance:i}=t(r).current;return T.useImperativeHandle(s,()=>i),null}return T.forwardRef(n)}function _B(t,n){const r=T.useRef(void 0);T.useEffect(function(){return n!=null&&t.instance.on(n),r.current=n,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,n])}function E1(t,n){const r=t.pane??n.pane;return r?{...t,pane:r}:t}function Lae(t,n){return function(s,i){const l=B1(),d=t(E1(s,l),l);return kR(l.map,s.attribution),_B(d.current,s.eventHandlers),n(d.current,l,s,i),d}}var ov={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Dae=ov.exports,l3;function Pae(){return l3||(l3=1,(function(t,n){(function(r,s){s(n)})(Dae,(function(r){var s="1.9.4";function i(A){var y,P,Y,de;for(P=1,Y=arguments.length;P<Y;P++){de=arguments[P];for(y in de)A[y]=de[y]}return A}var l=Object.create||(function(){function A(){}return function(y){return A.prototype=y,new A}})();function d(A,y){var P=Array.prototype.slice;if(A.bind)return A.bind.apply(A,P.call(arguments,1));var Y=P.call(arguments,2);return function(){return A.apply(y,Y.length?Y.concat(P.call(arguments)):arguments)}}var f=0;function u(A){return"_leaflet_id"in A||(A._leaflet_id=++f),A._leaflet_id}function h(A,y,P){var Y,de,Se,Ze;return Ze=function(){Y=!1,de&&(Se.apply(P,de),de=!1)},Se=function(){Y?de=arguments:(A.apply(P,arguments),setTimeout(Ze,y),Y=!0)},Se}function a(A,y,P){var Y=y[1],de=y[0],Se=Y-de;return A===Y&&P?A:((A-de)%Se+Se)%Se+de}function m(){return!1}function v(A,y){if(y===!1)return A;var P=Math.pow(10,y===void 0?6:y);return Math.round(A*P)/P}function g(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}function x(A){return g(A).split(/\s+/)}function w(A,y){Object.prototype.hasOwnProperty.call(A,"options")||(A.options=A.options?l(A.options):{});for(var P in y)A.options[P]=y[P];return A.options}function b(A,y,P){var Y=[];for(var de in A)Y.push(encodeURIComponent(P?de.toUpperCase():de)+"="+encodeURIComponent(A[de]));return(!y||y.indexOf("?")===-1?"?":"&")+Y.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function C(A,y){return A.replace(S,function(P,Y){var de=y[Y];if(de===void 0)throw new Error("No value provided for variable "+P);return typeof de=="function"&&(de=de(y)),de})}var B=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"};function F(A,y){for(var P=0;P<A.length;P++)if(A[P]===y)return P;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(A){return window["webkit"+A]||window["moz"+A]||window["ms"+A]}var z=0;function k(A){var y=+new Date,P=Math.max(0,16-(y-z));return z=y+P,window.setTimeout(A,P)}var K=window.requestAnimationFrame||Q("RequestAnimationFrame")||k,se=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(A){window.clearTimeout(A)};function V(A,y,P){if(P&&K===k)A.call(y);else return K.call(window,d(A,y))}function q(A){A&&se.call(window,A)}var le={__proto__:null,extend:i,create:l,bind:d,get lastId(){return f},stamp:u,throttle:h,wrapNum:a,falseFn:m,formatNum:v,trim:g,splitWords:x,setOptions:w,getParamString:b,template:C,isArray:B,indexOf:F,emptyImageUrl:N,requestFn:K,cancelFn:se,requestAnimFrame:V,cancelAnimFrame:q};function ae(){}ae.extend=function(A){var y=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},P=y.__super__=this.prototype,Y=l(P);Y.constructor=y,y.prototype=Y;for(var de in this)Object.prototype.hasOwnProperty.call(this,de)&&de!=="prototype"&&de!=="__super__"&&(y[de]=this[de]);return A.statics&&i(y,A.statics),A.includes&&(ie(A.includes),i.apply(null,[Y].concat(A.includes))),i(Y,A),delete Y.statics,delete Y.includes,Y.options&&(Y.options=P.options?l(P.options):{},i(Y.options,A.options)),Y._initHooks=[],Y.callInitHooks=function(){if(!this._initHooksCalled){P.callInitHooks&&P.callInitHooks.call(this),this._initHooksCalled=!0;for(var Se=0,Ze=Y._initHooks.length;Se<Ze;Se++)Y._initHooks[Se].call(this)}},y},ae.include=function(A){var y=this.prototype.options;return i(this.prototype,A),A.options&&(this.prototype.options=y,this.mergeOptions(A.options)),this},ae.mergeOptions=function(A){return i(this.prototype.options,A),this},ae.addInitHook=function(A){var y=Array.prototype.slice.call(arguments,1),P=typeof A=="function"?A:function(){this[A].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(P),this};function ie(A){if(!(typeof L>"u"||!L||!L.Mixin)){A=B(A)?A:[A];for(var y=0;y<A.length;y++)A[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(A,y,P){if(typeof A=="object")for(var Y in A)this._on(Y,A[Y],y);else{A=x(A);for(var de=0,Se=A.length;de<Se;de++)this._on(A[de],y,P)}return this},off:function(A,y,P){if(!arguments.length)delete this._events;else if(typeof A=="object")for(var Y in A)this._off(Y,A[Y],y);else{A=x(A);for(var de=arguments.length===1,Se=0,Ze=A.length;Se<Ze;Se++)de?this._off(A[Se]):this._off(A[Se],y,P)}return this},_on:function(A,y,P,Y){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(A,y,P)===!1){P===this&&(P=void 0);var de={fn:y,ctx:P};Y&&(de.once=!0),this._events=this._events||{},this._events[A]=this._events[A]||[],this._events[A].push(de)}},_off:function(A,y,P){var Y,de,Se;if(this._events&&(Y=this._events[A],!!Y)){if(arguments.length===1){if(this._firingCount)for(de=0,Se=Y.length;de<Se;de++)Y[de].fn=m;delete this._events[A];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var Ze=this._listens(A,y,P);if(Ze!==!1){var Et=Y[Ze];this._firingCount&&(Et.fn=m,this._events[A]=Y=Y.slice()),Y.splice(Ze,1)}}},fire:function(A,y,P){if(!this.listens(A,P))return this;var Y=i({},y,{type:A,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var de=this._events[A];if(de){this._firingCount=this._firingCount+1||1;for(var Se=0,Ze=de.length;Se<Ze;Se++){var Et=de[Se],Ut=Et.fn;Et.once&&this.off(A,Ut,Et.ctx),Ut.call(Et.ctx||this,Y)}this._firingCount--}}return P&&this._propagateEvent(Y),this},listens:function(A,y,P,Y){typeof A!="string"&&console.warn('"string" type argument expected');var de=y;typeof y!="function"&&(Y=!!y,de=void 0,P=void 0);var Se=this._events&&this._events[A];if(Se&&Se.length&&this._listens(A,de,P)!==!1)return!0;if(Y){for(var Ze in this._eventParents)if(this._eventParents[Ze].listens(A,y,P,Y))return!0}return!1},_listens:function(A,y,P){if(!this._events)return!1;var Y=this._events[A]||[];if(!y)return!!Y.length;P===this&&(P=void 0);for(var de=0,Se=Y.length;de<Se;de++)if(Y[de].fn===y&&Y[de].ctx===P)return de;return!1},once:function(A,y,P){if(typeof A=="object")for(var Y in A)this._on(Y,A[Y],y,!0);else{A=x(A);for(var de=0,Se=A.length;de<Se;de++)this._on(A[de],y,P,!0)}return this},addEventParent:function(A){return this._eventParents=this._eventParents||{},this._eventParents[u(A)]=A,this},removeEventParent:function(A){return this._eventParents&&delete this._eventParents[u(A)],this},_propagateEvent:function(A){for(var y in this._eventParents)this._eventParents[y].fire(A.type,i({layer:A.target,propagatedFrom:A.target},A),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var G=ae.extend(J);function W(A,y,P){this.x=P?Math.round(A):A,this.y=P?Math.round(y):y}var pe=Math.trunc||function(A){return A>0?Math.floor(A):Math.ceil(A)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(A){return this.clone()._add(oe(A))},_add:function(A){return this.x+=A.x,this.y+=A.y,this},subtract:function(A){return this.clone()._subtract(oe(A))},_subtract:function(A){return this.x-=A.x,this.y-=A.y,this},divideBy:function(A){return this.clone()._divideBy(A)},_divideBy:function(A){return this.x/=A,this.y/=A,this},multiplyBy:function(A){return this.clone()._multiplyBy(A)},_multiplyBy:function(A){return this.x*=A,this.y*=A,this},scaleBy:function(A){return new W(this.x*A.x,this.y*A.y)},unscaleBy:function(A){return new W(this.x/A.x,this.y/A.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(A){A=oe(A);var y=A.x-this.x,P=A.y-this.y;return Math.sqrt(y*y+P*P)},equals:function(A){return A=oe(A),A.x===this.x&&A.y===this.y},contains:function(A){return A=oe(A),Math.abs(A.x)<=Math.abs(this.x)&&Math.abs(A.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function oe(A,y,P){return A instanceof W?A:B(A)?new W(A[0],A[1]):A==null?A:typeof A=="object"&&"x"in A&&"y"in A?new W(A.x,A.y):new W(A,y,P)}function he(A,y){if(A)for(var P=y?[A,y]:A,Y=0,de=P.length;Y<de;Y++)this.extend(P[Y])}he.prototype={extend:function(A){var y,P;if(!A)return this;if(A instanceof W||typeof A[0]=="number"||"x"in A)y=P=oe(A);else if(A=$(A),y=A.min,P=A.max,!y||!P)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=P.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(P.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(P.y,this.max.y)),this},getCenter:function(A){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,A)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(A){var y,P;return typeof A[0]=="number"||A instanceof W?A=oe(A):A=$(A),A instanceof he?(y=A.min,P=A.max):y=P=A,y.x>=this.min.x&&P.x<=this.max.x&&y.y>=this.min.y&&P.y<=this.max.y},intersects:function(A){A=$(A);var y=this.min,P=this.max,Y=A.min,de=A.max,Se=de.x>=y.x&&Y.x<=P.x,Ze=de.y>=y.y&&Y.y<=P.y;return Se&&Ze},overlaps:function(A){A=$(A);var y=this.min,P=this.max,Y=A.min,de=A.max,Se=de.x>y.x&&Y.x<P.x,Ze=de.y>y.y&&Y.y<P.y;return Se&&Ze},isValid:function(){return!!(this.min&&this.max)},pad:function(A){var y=this.min,P=this.max,Y=Math.abs(y.x-P.x)*A,de=Math.abs(y.y-P.y)*A;return $(oe(y.x-Y,y.y-de),oe(P.x+Y,P.y+de))},equals:function(A){return A?(A=$(A),this.min.equals(A.getTopLeft())&&this.max.equals(A.getBottomRight())):!1}};function $(A,y){return!A||A instanceof he?A:new he(A,y)}function M(A,y){if(A)for(var P=y?[A,y]:A,Y=0,de=P.length;Y<de;Y++)this.extend(P[Y])}M.prototype={extend:function(A){var y=this._southWest,P=this._northEast,Y,de;if(A instanceof re)Y=A,de=A;else if(A instanceof M){if(Y=A._southWest,de=A._northEast,!Y||!de)return this}else return A?this.extend(me(A)||ee(A)):this;return!y&&!P?(this._southWest=new re(Y.lat,Y.lng),this._northEast=new re(de.lat,de.lng)):(y.lat=Math.min(Y.lat,y.lat),y.lng=Math.min(Y.lng,y.lng),P.lat=Math.max(de.lat,P.lat),P.lng=Math.max(de.lng,P.lng)),this},pad:function(A){var y=this._southWest,P=this._northEast,Y=Math.abs(y.lat-P.lat)*A,de=Math.abs(y.lng-P.lng)*A;return new M(new re(y.lat-Y,y.lng-de),new re(P.lat+Y,P.lng+de))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(A){typeof A[0]=="number"||A instanceof re||"lat"in A?A=me(A):A=ee(A);var y=this._southWest,P=this._northEast,Y,de;return A instanceof M?(Y=A.getSouthWest(),de=A.getNorthEast()):Y=de=A,Y.lat>=y.lat&&de.lat<=P.lat&&Y.lng>=y.lng&&de.lng<=P.lng},intersects:function(A){A=ee(A);var y=this._southWest,P=this._northEast,Y=A.getSouthWest(),de=A.getNorthEast(),Se=de.lat>=y.lat&&Y.lat<=P.lat,Ze=de.lng>=y.lng&&Y.lng<=P.lng;return Se&&Ze},overlaps:function(A){A=ee(A);var y=this._southWest,P=this._northEast,Y=A.getSouthWest(),de=A.getNorthEast(),Se=de.lat>y.lat&&Y.lat<P.lat,Ze=de.lng>y.lng&&Y.lng<P.lng;return Se&&Ze},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(A,y){return A?(A=ee(A),this._southWest.equals(A.getSouthWest(),y)&&this._northEast.equals(A.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(A,y){return A instanceof M?A:new M(A,y)}function re(A,y,P){if(isNaN(A)||isNaN(y))throw new Error("Invalid LatLng object: ("+A+", "+y+")");this.lat=+A,this.lng=+y,P!==void 0&&(this.alt=+P)}re.prototype={equals:function(A,y){if(!A)return!1;A=me(A);var P=Math.max(Math.abs(this.lat-A.lat),Math.abs(this.lng-A.lng));return P<=(y===void 0?1e-9:y)},toString:function(A){return"LatLng("+v(this.lat,A)+", "+v(this.lng,A)+")"},distanceTo:function(A){return Ue.distance(this,me(A))},wrap:function(){return Ue.wrapLatLng(this)},toBounds:function(A){var y=180*A/40075017,P=y/Math.cos(Math.PI/180*this.lat);return ee([this.lat-y,this.lng-P],[this.lat+y,this.lng+P])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function me(A,y,P){return A instanceof re?A:B(A)&&typeof A[0]!="object"?A.length===3?new re(A[0],A[1],A[2]):A.length===2?new re(A[0],A[1]):null:A==null?A:typeof A=="object"&&"lat"in A?new re(A.lat,"lng"in A?A.lng:A.lon,A.alt):y===void 0?null:new re(A,y,P)}var De={latLngToPoint:function(A,y){var P=this.projection.project(A),Y=this.scale(y);return this.transformation._transform(P,Y)},pointToLatLng:function(A,y){var P=this.scale(y),Y=this.transformation.untransform(A,P);return this.projection.unproject(Y)},project:function(A){return this.projection.project(A)},unproject:function(A){return this.projection.unproject(A)},scale:function(A){return 256*Math.pow(2,A)},zoom:function(A){return Math.log(A/256)/Math.LN2},getProjectedBounds:function(A){if(this.infinite)return null;var y=this.projection.bounds,P=this.scale(A),Y=this.transformation.transform(y.min,P),de=this.transformation.transform(y.max,P);return new he(Y,de)},infinite:!1,wrapLatLng:function(A){var y=this.wrapLng?a(A.lng,this.wrapLng,!0):A.lng,P=this.wrapLat?a(A.lat,this.wrapLat,!0):A.lat,Y=A.alt;return new re(P,y,Y)},wrapLatLngBounds:function(A){var y=A.getCenter(),P=this.wrapLatLng(y),Y=y.lat-P.lat,de=y.lng-P.lng;if(Y===0&&de===0)return A;var Se=A.getSouthWest(),Ze=A.getNorthEast(),Et=new re(Se.lat-Y,Se.lng-de),Ut=new re(Ze.lat-Y,Ze.lng-de);return new M(Et,Ut)}},Ue=i({},De,{wrapLng:[-180,180],R:6371e3,distance:function(A,y){var P=Math.PI/180,Y=A.lat*P,de=y.lat*P,Se=Math.sin((y.lat-A.lat)*P/2),Ze=Math.sin((y.lng-A.lng)*P/2),Et=Se*Se+Math.cos(Y)*Math.cos(de)*Ze*Ze,Ut=2*Math.atan2(Math.sqrt(Et),Math.sqrt(1-Et));return this.R*Ut}}),Ne=6378137,Ke={R:Ne,MAX_LATITUDE:85.0511287798,project:function(A){var y=Math.PI/180,P=this.MAX_LATITUDE,Y=Math.max(Math.min(P,A.lat),-P),de=Math.sin(Y*y);return new W(this.R*A.lng*y,this.R*Math.log((1+de)/(1-de))/2)},unproject:function(A){var y=180/Math.PI;return new re((2*Math.atan(Math.exp(A.y/this.R))-Math.PI/2)*y,A.x*y/this.R)},bounds:(function(){var A=Ne*Math.PI;return new he([-A,-A],[A,A])})()};function rt(A,y,P,Y){if(B(A)){this._a=A[0],this._b=A[1],this._c=A[2],this._d=A[3];return}this._a=A,this._b=y,this._c=P,this._d=Y}rt.prototype={transform:function(A,y){return this._transform(A.clone(),y)},_transform:function(A,y){return y=y||1,A.x=y*(this._a*A.x+this._b),A.y=y*(this._c*A.y+this._d),A},untransform:function(A,y){return y=y||1,new W((A.x/y-this._b)/this._a,(A.y/y-this._d)/this._c)}};function et(A,y,P,Y){return new rt(A,y,P,Y)}var wt=i({},Ue,{code:"EPSG:3857",projection:Ke,transformation:(function(){var A=.5/(Math.PI*Ke.R);return et(A,.5,-A,.5)})()}),nt=i({},wt,{code:"EPSG:900913"});function Ee(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function at(A,y){var P="",Y,de,Se,Ze,Et,Ut;for(Y=0,Se=A.length;Y<Se;Y++){for(Et=A[Y],de=0,Ze=Et.length;de<Ze;de++)Ut=Et[de],P+=(de?"L":"M")+Ut.x+" "+Ut.y;P+=y?xn.svg?"z":"x":""}return P||"M0 0"}var Gt=document.documentElement.style,Oe="ActiveXObject"in window,ce=Oe&&!document.addEventListener,ve="msLaunchUri"in navigator&&!("documentMode"in document),Ge=On("webkit"),vt=On("android"),_t=On("android 2")||On("android 3"),Je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),We=vt&&On("Google")&&Je<537&&!("AudioNode"in window),yt=!!window.opera,zt=!ve&&On("chrome"),ut=On("gecko")&&!Ge&&!yt&&!Oe,Ft=!zt&&On("safari"),Ct=On("phantom"),Ye="OTransition"in Gt,Zt=navigator.platform.indexOf("Win")===0,on=Oe&&"transition"in Gt,pn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,Tt="MozPerspective"in Gt,nn=!window.L_DISABLE_3D&&(on||pn||Tt)&&!Ye&&!Ct,xt=typeof orientation<"u"||On("mobile"),an=xt&&Ge,dn=xt&&pn,Nn=!window.PointerEvent&&window.MSPointerEvent,Wn=!!(window.PointerEvent||Nn),jn="ontouchstart"in window||!!window.TouchEvent,rn=!window.L_NO_TOUCH&&(jn||Wn),Dn=xt&&yt,Yn=xt&&ut,mr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,os=(function(){var A=!1;try{var y=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("testPassiveEventSupport",m,y),window.removeEventListener("testPassiveEventSupport",m,y)}catch{}return A})(),Ni=(function(){return!!document.createElement("canvas").getContext})(),Mn=!!(document.createElementNS&&Ee("svg").createSVGRect),xo=!!Mn&&(function(){var A=document.createElement("div");return A.innerHTML="<svg/>",(A.firstChild&&A.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Us=!Mn&&(function(){try{var A=document.createElement("div");A.innerHTML='<v:shape adj="1"/>';var y=A.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Ys=navigator.platform.indexOf("Mac")===0,$i=navigator.platform.indexOf("Linux")===0;function On(A){return navigator.userAgent.toLowerCase().indexOf(A)>=0}var xn={ie:Oe,ielt9:ce,edge:ve,webkit:Ge,android:vt,android23:_t,androidStock:We,opera:yt,chrome:zt,gecko:ut,safari:Ft,phantom:Ct,opera12:Ye,win:Zt,ie3d:on,webkit3d:pn,gecko3d:Tt,any3d:nn,mobile:xt,mobileWebkit:an,mobileWebkit3d:dn,msPointer:Nn,pointer:Wn,touch:rn,touchNative:jn,mobileOpera:Dn,mobileGecko:Yn,retina:mr,passiveEvents:os,canvas:Ni,svg:Mn,vml:Us,inlineSvg:xo,mac:Ys,linux:$i},Ti=xn.msPointer?"MSPointerDown":"pointerdown",ao=xn.msPointer?"MSPointerMove":"pointermove",lo=xn.msPointer?"MSPointerUp":"pointerup",Es=xn.msPointer?"MSPointerCancel":"pointercancel",ti={touchstart:Ti,touchmove:ao,touchend:lo,touchcancel:Es},ai={touchstart:fn,touchmove:oa,touchend:oa,touchcancel:oa},pi={},Ii=!1;function Ms(A,y,P){return y==="touchstart"&&Il(),ai[y]?(P=ai[y].bind(this,P),A.addEventListener(ti[y],P,!1),P):(console.warn("wrong event specified:",y),m)}function Qo(A,y,P){if(!ti[y]){console.warn("wrong event specified:",y);return}A.removeEventListener(ti[y],P,!1)}function La(A){pi[A.pointerId]=A}function zo(A){pi[A.pointerId]&&(pi[A.pointerId]=A)}function Ho(A){delete pi[A.pointerId]}function Il(){Ii||(document.addEventListener(Ti,La,!0),document.addEventListener(ao,zo,!0),document.addEventListener(lo,Ho,!0),document.addEventListener(Es,Ho,!0),Ii=!0)}function oa(A,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var P in pi)y.touches.push(pi[P]);y.changedTouches=[y],A(y)}}function fn(A,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&zs(y),oa(A,y)}function Qc(A){var y={},P,Y;for(Y in A)P=A[Y],y[Y]=P&&P.bind?P.bind(A):P;return A=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Vo=200;function Oi(A,y){A.addEventListener("dblclick",y);var P=0,Y;function de(Se){if(Se.detail!==1){Y=Se.detail;return}if(!(Se.pointerType==="mouse"||Se.sourceCapabilities&&!Se.sourceCapabilities.firesTouchEvents)){var Ze=Ra(Se);if(!(Ze.some(function(Ut){return Ut instanceof HTMLLabelElement&&Ut.attributes.for})&&!Ze.some(function(Ut){return Ut instanceof HTMLInputElement||Ut instanceof HTMLSelectElement}))){var Et=Date.now();Et-P<=Vo?(Y++,Y===2&&y(Qc(Se))):Y=1,P=Et}}}return A.addEventListener("click",de),{dblclick:y,simDblclick:de}}function yo(A,y){A.removeEventListener("dblclick",y.dblclick),A.removeEventListener("click",y.simDblclick)}var cl=ul(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jo=ul(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Da=jo==="webkitTransition"||jo==="OTransition"?jo+"End":"transitionend";function _l(A){return typeof A=="string"?document.getElementById(A):A}function _o(A,y){var P=A.style[y]||A.currentStyle&&A.currentStyle[y];if((!P||P==="auto")&&document.defaultView){var Y=document.defaultView.getComputedStyle(A,null);P=Y?Y[y]:null}return P==="auto"?null:P}function br(A,y,P){var Y=document.createElement(A);return Y.className=y||"",P&&P.appendChild(Y),Y}function Ss(A){var y=A.parentNode;y&&y.removeChild(A)}function Ui(A){for(;A.firstChild;)A.removeChild(A.firstChild)}function ks(A){var y=A.parentNode;y&&y.lastChild!==A&&y.appendChild(A)}function $o(A){var y=A.parentNode;y&&y.firstChild!==A&&y.insertBefore(A,y.firstChild)}function Mi(A,y){if(A.classList!==void 0)return A.classList.contains(y);var P=qr(A);return P.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(P)}function gr(A,y){if(A.classList!==void 0)for(var P=x(y),Y=0,de=P.length;Y<de;Y++)A.classList.add(P[Y]);else if(!Mi(A,y)){var Se=qr(A);hs(A,(Se?Se+" ":"")+y)}}function _s(A,y){A.classList!==void 0?A.classList.remove(y):hs(A,g((" "+qr(A)+" ").replace(" "+y+" "," ")))}function hs(A,y){A.className.baseVal===void 0?A.className=y:A.className.baseVal=y}function qr(A){return A.correspondingElement&&(A=A.correspondingElement),A.className.baseVal===void 0?A.className:A.className.baseVal}function li(A,y){"opacity"in A.style?A.style.opacity=y:"filter"in A.style&&Ql(A,y)}function Ql(A,y){var P=!1,Y="DXImageTransform.Microsoft.Alpha";try{P=A.filters.item(Y)}catch{if(y===1)return}y=Math.round(y*100),P?(P.Enabled=y!==100,P.Opacity=y):A.style.filter+=" progid:"+Y+"(opacity="+y+")"}function ul(A){for(var y=document.documentElement.style,P=0;P<A.length;P++)if(A[P]in y)return A[P];return!1}function Go(A,y,P){var Y=y||new W(0,0);A.style[cl]=(xn.ie3d?"translate("+Y.x+"px,"+Y.y+"px)":"translate3d("+Y.x+"px,"+Y.y+"px,0)")+(P?" scale("+P+")":"")}function fs(A,y){A._leaflet_pos=y,xn.any3d?Go(A,y):(A.style.left=y.x+"px",A.style.top=y.y+"px")}function Ja(A){return A._leaflet_pos||new W(0,0)}var Ko,aa,Mr;if("onselectstart"in document)Ko=function(){hn(window,"selectstart",zs)},aa=function(){as(window,"selectstart",zs)};else{var ki=ul(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ko=function(){if(ki){var A=document.documentElement.style;Mr=A[ki],A[ki]="none"}},aa=function(){ki&&(document.documentElement.style[ki]=Mr,Mr=void 0)}}function Wo(){hn(window,"dragstart",zs)}function ec(){as(window,"dragstart",zs)}var Al,xa;function Qs(A){for(;A.tabIndex===-1;)A=A.parentNode;A.style&&(Pa(),Al=A,xa=A.style.outlineStyle,A.style.outlineStyle="none",hn(window,"keydown",Pa))}function Pa(){Al&&(Al.style.outlineStyle=xa,Al=void 0,xa=void 0,as(window,"keydown",Pa))}function Gi(A){do A=A.parentNode;while((!A.offsetWidth||!A.offsetHeight)&&A!==document.body);return A}function Yo(A){var y=A.getBoundingClientRect();return{x:y.width/A.offsetWidth||1,y:y.height/A.offsetHeight||1,boundingClientRect:y}}var la={__proto__:null,TRANSFORM:cl,TRANSITION:jo,TRANSITION_END:Da,get:_l,getStyle:_o,create:br,remove:Ss,empty:Ui,toFront:ks,toBack:$o,hasClass:Mi,addClass:gr,removeClass:_s,setClass:hs,getClass:qr,setOpacity:li,testProp:ul,setTransform:Go,setPosition:fs,getPosition:Ja,get disableTextSelection(){return Ko},get enableTextSelection(){return aa},disableImageDrag:Wo,enableImageDrag:ec,preventOutline:Qs,restoreOutline:Pa,getSizedParentNode:Gi,getScale:Yo};function hn(A,y,P,Y){if(y&&typeof y=="object")for(var de in y)Yi(A,de,y[de],P);else{y=x(y);for(var Se=0,Ze=y.length;Se<Ze;Se++)Yi(A,y[Se],P,Y)}return this}var Ki="_leaflet_events";function as(A,y,P,Y){if(arguments.length===1)_i(A),delete A[Ki];else if(y&&typeof y=="object")for(var de in y)ni(A,de,y[de],P);else if(y=x(y),arguments.length===2)_i(A,function(Et){return F(y,Et)!==-1});else for(var Se=0,Ze=y.length;Se<Ze;Se++)ni(A,y[Se],P,Y);return this}function _i(A,y){for(var P in A[Ki]){var Y=P.split(/\d/)[0];(!y||y(Y))&&ni(A,Y,null,null,P)}}var Wi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yi(A,y,P,Y){var de=y+u(P)+(Y?"_"+u(Y):"");if(A[Ki]&&A[Ki][de])return this;var Se=function(Et){return P.call(Y||A,Et||window.event)},Ze=Se;!xn.touchNative&&xn.pointer&&y.indexOf("touch")===0?Se=Ms(A,y,Se):xn.touch&&y==="dblclick"?Se=Oi(A,Se):"addEventListener"in A?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?A.addEventListener(Wi[y]||y,Se,xn.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(Se=function(Et){Et=Et||window.event,Ln(A,Et)&&Ze(Et)},A.addEventListener(Wi[y],Se,!1)):A.addEventListener(y,Ze,!1):A.attachEvent("on"+y,Se),A[Ki]=A[Ki]||{},A[Ki][de]=Se}function ni(A,y,P,Y,de){de=de||y+u(P)+(Y?"_"+u(Y):"");var Se=A[Ki]&&A[Ki][de];if(!Se)return this;!xn.touchNative&&xn.pointer&&y.indexOf("touch")===0?Qo(A,y,Se):xn.touch&&y==="dblclick"?yo(A,Se):"removeEventListener"in A?A.removeEventListener(Wi[y]||y,Se,!1):A.detachEvent("on"+y,Se),A[Ki][de]=null}function ya(A){return A.stopPropagation?A.stopPropagation():A.originalEvent?A.originalEvent._stopped=!0:A.cancelBubble=!0,this}function ca(A){return Yi(A,"wheel",ya),this}function el(A){return hn(A,"mousedown touchstart dblclick contextmenu",ya),A._leaflet_disable_click=!0,this}function zs(A){return A.preventDefault?A.preventDefault():A.returnValue=!1,this}function Fo(A){return zs(A),ya(A),this}function Ra(A){if(A.composedPath)return A.composedPath();for(var y=[],P=A.target;P;)y.push(P),P=P.parentNode;return y}function ze(A,y){if(!y)return new W(A.clientX,A.clientY);var P=Yo(y),Y=P.boundingClientRect;return new W((A.clientX-Y.left)/P.x-y.clientLeft,(A.clientY-Y.top)/P.y-y.clientTop)}var ot=xn.linux&&xn.chrome?window.devicePixelRatio:xn.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nt(A){return xn.edge?A.wheelDeltaY/2:A.deltaY&&A.deltaMode===0?-A.deltaY/ot:A.deltaY&&A.deltaMode===1?-A.deltaY*20:A.deltaY&&A.deltaMode===2?-A.deltaY*60:A.deltaX||A.deltaZ?0:A.wheelDelta?(A.wheelDeltaY||A.wheelDelta)/2:A.detail&&Math.abs(A.detail)<32765?-A.detail*20:A.detail?A.detail/-32765*60:0}function Ln(A,y){var P=y.relatedTarget;if(!P)return!0;try{for(;P&&P!==A;)P=P.parentNode}catch{return!1}return P!==A}var un={__proto__:null,on:hn,off:as,stopPropagation:ya,disableScrollPropagation:ca,disableClickPropagation:el,preventDefault:zs,stop:Fo,getPropagationPath:Ra,getMousePosition:ze,getWheelDelta:Nt,isExternalTarget:Ln,addListener:hn,removeListener:as},tr=G.extend({run:function(A,y,P,Y){this.stop(),this._el=A,this._inProgress=!0,this._duration=P||.25,this._easeOutPower=1/Math.max(Y||.5,.2),this._startPos=Ja(A),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(A){var y=+new Date-this._startTime,P=this._duration*1e3;y<P?this._runFrame(this._easeOut(y/P),A):(this._runFrame(1),this._complete())},_runFrame:function(A,y){var P=this._startPos.add(this._offset.multiplyBy(A));y&&P._round(),fs(this._el,P),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(A){return 1-Math.pow(1-A,this._easeOutPower)}}),kn=G.extend({options:{crs:wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(A,y){y=w(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(A),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(me(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jo&&xn.any3d&&!xn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),hn(this._proxy,Da,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(A,y,P){if(y=y===void 0?this._zoom:this._limitZoom(y),A=this._limitCenter(me(A),y,this.options.maxBounds),P=P||{},this._stop(),this._loaded&&!P.reset&&P!==!0){P.animate!==void 0&&(P.zoom=i({animate:P.animate},P.zoom),P.pan=i({animate:P.animate,duration:P.duration},P.pan));var Y=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(A,y,P.zoom):this._tryAnimatedPan(A,P.pan);if(Y)return clearTimeout(this._sizeTimer),this}return this._resetView(A,y,P.pan&&P.pan.noMoveStart),this},setZoom:function(A,y){return this._loaded?this.setView(this.getCenter(),A,{zoom:y}):(this._zoom=A,this)},zoomIn:function(A,y){return A=A||(xn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+A,y)},zoomOut:function(A,y){return A=A||(xn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-A,y)},setZoomAround:function(A,y,P){var Y=this.getZoomScale(y),de=this.getSize().divideBy(2),Se=A instanceof W?A:this.latLngToContainerPoint(A),Ze=Se.subtract(de).multiplyBy(1-1/Y),Et=this.containerPointToLatLng(de.add(Ze));return this.setView(Et,y,{zoom:P})},_getBoundsCenterZoom:function(A,y){y=y||{},A=A.getBounds?A.getBounds():ee(A);var P=oe(y.paddingTopLeft||y.padding||[0,0]),Y=oe(y.paddingBottomRight||y.padding||[0,0]),de=this.getBoundsZoom(A,!1,P.add(Y));if(de=typeof y.maxZoom=="number"?Math.min(y.maxZoom,de):de,de===1/0)return{center:A.getCenter(),zoom:de};var Se=Y.subtract(P).divideBy(2),Ze=this.project(A.getSouthWest(),de),Et=this.project(A.getNorthEast(),de),Ut=this.unproject(Ze.add(Et).divideBy(2).add(Se),de);return{center:Ut,zoom:de}},fitBounds:function(A,y){if(A=ee(A),!A.isValid())throw new Error("Bounds are not valid.");var P=this._getBoundsCenterZoom(A,y);return this.setView(P.center,P.zoom,y)},fitWorld:function(A){return this.fitBounds([[-90,-180],[90,180]],A)},panTo:function(A,y){return this.setView(A,this._zoom,{pan:y})},panBy:function(A,y){if(A=oe(A).round(),y=y||{},!A.x&&!A.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(A))return this._resetView(this.unproject(this.project(this.getCenter()).add(A)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){gr(this._mapPane,"leaflet-pan-anim");var P=this._getMapPanePos().subtract(A).round();this._panAnim.run(this._mapPane,P,y.duration||.25,y.easeLinearity)}else this._rawPanBy(A),this.fire("move").fire("moveend");return this},flyTo:function(A,y,P){if(P=P||{},P.animate===!1||!xn.any3d)return this.setView(A,y,P);this._stop();var Y=this.project(this.getCenter()),de=this.project(A),Se=this.getSize(),Ze=this._zoom;A=me(A),y=y===void 0?Ze:y;var Et=Math.max(Se.x,Se.y),Ut=Et*this.getZoomScale(Ze,y),sn=de.distanceTo(Y)||1,Fn=1.42,zn=Fn*Fn;function cr(Vs){var ho=Vs?-1:1,Ec=Vs?Ut:Et,ic=Ut*Ut-Et*Et+ho*zn*zn*sn*sn,yl=2*Ec*zn*sn,Pu=ic/yl,oA=Math.sqrt(Pu*Pu+1)-Pu,Ru=oA<1e-9?-18:Math.log(oA);return Ru}function Fr(Vs){return(Math.exp(Vs)-Math.exp(-Vs))/2}function xi(Vs){return(Math.exp(Vs)+Math.exp(-Vs))/2}function Ao(Vs){return Fr(Vs)/xi(Vs)}var Ca=cr(0);function Pl(Vs){return Et*(xi(Ca)/xi(Ca+Fn*Vs))}function Ch(Vs){return Et*(xi(Ca)*Ao(Ca+Fn*Vs)-Fr(Ca))/zn}function Bc(Vs){return 1-Math.pow(1-Vs,1.5)}var za=Date.now(),Aa=(cr(1)-Ca)/Fn,Bh=P.duration?1e3*P.duration:1e3*Aa*.8;function cu(){var Vs=(Date.now()-za)/Bh,ho=Bc(Vs)*Aa;Vs<=1?(this._flyToFrame=V(cu,this),this._move(this.unproject(Y.add(de.subtract(Y).multiplyBy(Ch(ho)/sn)),Ze),this.getScaleZoom(Et/Pl(ho),Ze),{flyTo:!0})):this._move(A,y)._moveEnd(!0)}return this._moveStart(!0,P.noMoveStart),cu.call(this),this},flyToBounds:function(A,y){var P=this._getBoundsCenterZoom(A,y);return this.flyTo(P.center,P.zoom,y)},setMaxBounds:function(A){return A=ee(A),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),A.isValid()?(this.options.maxBounds=A,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(A){var y=this.options.minZoom;return this.options.minZoom=A,this._loaded&&y!==A&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(A):this},setMaxZoom:function(A){var y=this.options.maxZoom;return this.options.maxZoom=A,this._loaded&&y!==A&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(A):this},panInsideBounds:function(A,y){this._enforcingBounds=!0;var P=this.getCenter(),Y=this._limitCenter(P,this._zoom,ee(A));return P.equals(Y)||this.panTo(Y,y),this._enforcingBounds=!1,this},panInside:function(A,y){y=y||{};var P=oe(y.paddingTopLeft||y.padding||[0,0]),Y=oe(y.paddingBottomRight||y.padding||[0,0]),de=this.project(this.getCenter()),Se=this.project(A),Ze=this.getPixelBounds(),Et=$([Ze.min.add(P),Ze.max.subtract(Y)]),Ut=Et.getSize();if(!Et.contains(Se)){this._enforcingBounds=!0;var sn=Se.subtract(Et.getCenter()),Fn=Et.extend(Se).getSize().subtract(Ut);de.x+=sn.x<0?-Fn.x:Fn.x,de.y+=sn.y<0?-Fn.y:Fn.y,this.panTo(this.unproject(de),y),this._enforcingBounds=!1}return this},invalidateSize:function(A){if(!this._loaded)return this;A=i({animate:!1,pan:!0},A===!0?{animate:!0}:A);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var P=this.getSize(),Y=y.divideBy(2).round(),de=P.divideBy(2).round(),Se=Y.subtract(de);return!Se.x&&!Se.y?this:(A.animate&&A.pan?this.panBy(Se):(A.pan&&this._rawPanBy(Se),this.fire("move"),A.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:P}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(A){if(A=this._locateOptions=i({timeout:1e4,watch:!1},A),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=d(this._handleGeolocationResponse,this),P=d(this._handleGeolocationError,this);return A.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,P,A):navigator.geolocation.getCurrentPosition(y,P,A),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(A){if(this._container._leaflet_id){var y=A.code,P=A.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+P+"."})}},_handleGeolocationResponse:function(A){if(this._container._leaflet_id){var y=A.coords.latitude,P=A.coords.longitude,Y=new re(y,P),de=Y.toBounds(A.coords.accuracy*2),Se=this._locateOptions;if(Se.setView){var Ze=this.getBoundsZoom(de);this.setView(Y,Se.maxZoom?Math.min(Ze,Se.maxZoom):Ze)}var Et={latlng:Y,bounds:de,timestamp:A.timestamp};for(var Ut in A.coords)typeof A.coords[Ut]=="number"&&(Et[Ut]=A.coords[Ut]);this.fire("locationfound",Et)}},addHandler:function(A,y){if(!y)return this;var P=this[A]=new y(this);return this._handlers.push(P),this.options[A]&&P.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ss(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var A;for(A in this._layers)this._layers[A].remove();for(A in this._panes)Ss(this._panes[A]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(A,y){var P="leaflet-pane"+(A?" leaflet-"+A.replace("Pane","")+"-pane":""),Y=br("div",P,y||this._mapPane);return A&&(this._panes[A]=Y),Y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var A=this.getPixelBounds(),y=this.unproject(A.getBottomLeft()),P=this.unproject(A.getTopRight());return new M(y,P)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(A,y,P){A=ee(A),P=oe(P||[0,0]);var Y=this.getZoom()||0,de=this.getMinZoom(),Se=this.getMaxZoom(),Ze=A.getNorthWest(),Et=A.getSouthEast(),Ut=this.getSize().subtract(P),sn=$(this.project(Et,Y),this.project(Ze,Y)).getSize(),Fn=xn.any3d?this.options.zoomSnap:1,zn=Ut.x/sn.x,cr=Ut.y/sn.y,Fr=y?Math.max(zn,cr):Math.min(zn,cr);return Y=this.getScaleZoom(Fr,Y),Fn&&(Y=Math.round(Y/(Fn/100))*(Fn/100),Y=y?Math.ceil(Y/Fn)*Fn:Math.floor(Y/Fn)*Fn),Math.max(de,Math.min(Se,Y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(A,y){var P=this._getTopLeftPoint(A,y);return new he(P,P.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(A){return this.options.crs.getProjectedBounds(A===void 0?this.getZoom():A)},getPane:function(A){return typeof A=="string"?this._panes[A]:A},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(A,y){var P=this.options.crs;return y=y===void 0?this._zoom:y,P.scale(A)/P.scale(y)},getScaleZoom:function(A,y){var P=this.options.crs;y=y===void 0?this._zoom:y;var Y=P.zoom(A*P.scale(y));return isNaN(Y)?1/0:Y},project:function(A,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(me(A),y)},unproject:function(A,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(oe(A),y)},layerPointToLatLng:function(A){var y=oe(A).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(A){var y=this.project(me(A))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(A){return this.options.crs.wrapLatLng(me(A))},wrapLatLngBounds:function(A){return this.options.crs.wrapLatLngBounds(ee(A))},distance:function(A,y){return this.options.crs.distance(me(A),me(y))},containerPointToLayerPoint:function(A){return oe(A).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(A){return oe(A).add(this._getMapPanePos())},containerPointToLatLng:function(A){var y=this.containerPointToLayerPoint(oe(A));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(A){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(A)))},mouseEventToContainerPoint:function(A){return ze(A,this._container)},mouseEventToLayerPoint:function(A){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(A))},mouseEventToLatLng:function(A){return this.layerPointToLatLng(this.mouseEventToLayerPoint(A))},_initContainer:function(A){var y=this._container=_l(A);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");hn(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var A=this._container;this._fadeAnimated=this.options.fadeAnimation&&xn.any3d,gr(A,"leaflet-container"+(xn.touch?" leaflet-touch":"")+(xn.retina?" leaflet-retina":"")+(xn.ielt9?" leaflet-oldie":"")+(xn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=_o(A,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(A.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var A=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),fs(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gr(A.markerPane,"leaflet-zoom-hide"),gr(A.shadowPane,"leaflet-zoom-hide"))},_resetView:function(A,y,P){fs(this._mapPane,new W(0,0));var Y=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var de=this._zoom!==y;this._moveStart(de,P)._move(A,y)._moveEnd(de),this.fire("viewreset"),Y&&this.fire("load")},_moveStart:function(A,y){return A&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(A,y,P,Y){y===void 0&&(y=this._zoom);var de=this._zoom!==y;return this._zoom=y,this._lastCenter=A,this._pixelOrigin=this._getNewPixelOrigin(A),Y?P&&P.pinch&&this.fire("zoom",P):((de||P&&P.pinch)&&this.fire("zoom",P),this.fire("move",P)),this},_moveEnd:function(A){return A&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(A){fs(this._mapPane,this._getMapPanePos().subtract(A))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(A){this._targets={},this._targets[u(this._container)]=this;var y=A?as:hn;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),xn.any3d&&this.options.transform3DLimit&&(A?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var A=this._getMapPanePos();Math.max(Math.abs(A.x),Math.abs(A.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(A,y){for(var P=[],Y,de=y==="mouseout"||y==="mouseover",Se=A.target||A.srcElement,Ze=!1;Se;){if(Y=this._targets[u(Se)],Y&&(y==="click"||y==="preclick")&&this._draggableMoved(Y)){Ze=!0;break}if(Y&&Y.listens(y,!0)&&(de&&!Ln(Se,A)||(P.push(Y),de))||Se===this._container)break;Se=Se.parentNode}return!P.length&&!Ze&&!de&&this.listens(y,!0)&&(P=[this]),P},_isClickDisabled:function(A){for(;A&&A!==this._container;){if(A._leaflet_disable_click)return!0;A=A.parentNode}},_handleDOMEvent:function(A){var y=A.target||A.srcElement;if(!(!this._loaded||y._leaflet_disable_events||A.type==="click"&&this._isClickDisabled(y))){var P=A.type;P==="mousedown"&&Qs(y),this._fireDOMEvent(A,P)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(A,y,P){if(A.type==="click"){var Y=i({},A);Y.type="preclick",this._fireDOMEvent(Y,Y.type,P)}var de=this._findEventTargets(A,y);if(P){for(var Se=[],Ze=0;Ze<P.length;Ze++)P[Ze].listens(y,!0)&&Se.push(P[Ze]);de=Se.concat(de)}if(de.length){y==="contextmenu"&&zs(A);var Et=de[0],Ut={originalEvent:A};if(A.type!=="keypress"&&A.type!=="keydown"&&A.type!=="keyup"){var sn=Et.getLatLng&&(!Et._radius||Et._radius<=10);Ut.containerPoint=sn?this.latLngToContainerPoint(Et.getLatLng()):this.mouseEventToContainerPoint(A),Ut.layerPoint=this.containerPointToLayerPoint(Ut.containerPoint),Ut.latlng=sn?Et.getLatLng():this.layerPointToLatLng(Ut.layerPoint)}for(Ze=0;Ze<de.length;Ze++)if(de[Ze].fire(y,Ut,!0),Ut.originalEvent._stopped||de[Ze].options.bubblingMouseEvents===!1&&F(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(A){return A=A.dragging&&A.dragging.enabled()?A:this,A.dragging&&A.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var A=0,y=this._handlers.length;A<y;A++)this._handlers[A].disable()},whenReady:function(A,y){return this._loaded?A.call(y||this,{target:this}):this.on("load",A,y),this},_getMapPanePos:function(){return Ja(this._mapPane)||new W(0,0)},_moved:function(){var A=this._getMapPanePos();return A&&!A.equals([0,0])},_getTopLeftPoint:function(A,y){var P=A&&y!==void 0?this._getNewPixelOrigin(A,y):this.getPixelOrigin();return P.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(A,y){var P=this.getSize()._divideBy(2);return this.project(A,y)._subtract(P)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(A,y,P){var Y=this._getNewPixelOrigin(P,y);return this.project(A,y)._subtract(Y)},_latLngBoundsToNewLayerBounds:function(A,y,P){var Y=this._getNewPixelOrigin(P,y);return $([this.project(A.getSouthWest(),y)._subtract(Y),this.project(A.getNorthWest(),y)._subtract(Y),this.project(A.getSouthEast(),y)._subtract(Y),this.project(A.getNorthEast(),y)._subtract(Y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(A){return this.latLngToLayerPoint(A).subtract(this._getCenterLayerPoint())},_limitCenter:function(A,y,P){if(!P)return A;var Y=this.project(A,y),de=this.getSize().divideBy(2),Se=new he(Y.subtract(de),Y.add(de)),Ze=this._getBoundsOffset(Se,P,y);return Math.abs(Ze.x)<=1&&Math.abs(Ze.y)<=1?A:this.unproject(Y.add(Ze),y)},_limitOffset:function(A,y){if(!y)return A;var P=this.getPixelBounds(),Y=new he(P.min.add(A),P.max.add(A));return A.add(this._getBoundsOffset(Y,y))},_getBoundsOffset:function(A,y,P){var Y=$(this.project(y.getNorthEast(),P),this.project(y.getSouthWest(),P)),de=Y.min.subtract(A.min),Se=Y.max.subtract(A.max),Ze=this._rebound(de.x,-Se.x),Et=this._rebound(de.y,-Se.y);return new W(Ze,Et)},_rebound:function(A,y){return A+y>0?Math.round(A-y)/2:Math.max(0,Math.ceil(A))-Math.max(0,Math.floor(y))},_limitZoom:function(A){var y=this.getMinZoom(),P=this.getMaxZoom(),Y=xn.any3d?this.options.zoomSnap:1;return Y&&(A=Math.round(A/Y)*Y),Math.max(y,Math.min(P,A))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_s(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(A,y){var P=this._getCenterOffset(A)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(P)?!1:(this.panBy(P,y),!0)},_createAnimProxy:function(){var A=this._proxy=br("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(A),this.on("zoomanim",function(y){var P=cl,Y=this._proxy.style[P];Go(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),Y===this._proxy.style[P]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ss(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var A=this.getCenter(),y=this.getZoom();Go(this._proxy,this.project(A,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(A){this._animatingZoom&&A.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(A,y,P){if(this._animatingZoom)return!0;if(P=P||{},!this._zoomAnimated||P.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Y=this.getZoomScale(y),de=this._getCenterOffset(A)._divideBy(1-1/Y);return P.animate!==!0&&!this.getSize().contains(de)?!1:(V(function(){this._moveStart(!0,P.noMoveStart||!1)._animateZoom(A,y,!0)},this),!0)},_animateZoom:function(A,y,P,Y){this._mapPane&&(P&&(this._animatingZoom=!0,this._animateToCenter=A,this._animateToZoom=y,gr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:A,zoom:y,noUpdate:Y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_s(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function wr(A,y){return new kn(A,y)}var Sr=ae.extend({options:{position:"topright"},initialize:function(A){w(this,A)},getPosition:function(){return this.options.position},setPosition:function(A){var y=this._map;return y&&y.removeControl(this),this.options.position=A,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(A){this.remove(),this._map=A;var y=this._container=this.onAdd(A),P=this.getPosition(),Y=A._controlCorners[P];return gr(y,"leaflet-control"),P.indexOf("bottom")!==-1?Y.insertBefore(y,Y.firstChild):Y.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ss(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(A){this._map&&A&&A.screenX>0&&A.screenY>0&&this._map.getContainer().focus()}}),mi=function(A){return new Sr(A)};kn.include({addControl:function(A){return A.addTo(this),this},removeControl:function(A){return A.remove(),this},_initControlPos:function(){var A=this._controlCorners={},y="leaflet-",P=this._controlContainer=br("div",y+"control-container",this._container);function Y(de,Se){var Ze=y+de+" "+y+Se;A[de+Se]=br("div",Ze,P)}Y("top","left"),Y("top","right"),Y("bottom","left"),Y("bottom","right")},_clearControlPos:function(){for(var A in this._controlCorners)Ss(this._controlCorners[A]);Ss(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var co=Sr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(A,y,P,Y){return P<Y?-1:Y<P?1:0}},initialize:function(A,y,P){w(this,P),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Y in A)this._addLayer(A[Y],Y);for(Y in y)this._addLayer(y[Y],Y,!0)},onAdd:function(A){this._initLayout(),this._update(),this._map=A,A.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(A){return Sr.prototype.addTo.call(this,A),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(A,y){return this._addLayer(A,y),this._map?this._update():this},addOverlay:function(A,y){return this._addLayer(A,y,!0),this._map?this._update():this},removeLayer:function(A){A.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(A));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){gr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var A=this._map.getSize().y-(this._container.offsetTop+50);return A<this._section.clientHeight?(gr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=A+"px"):_s(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _s(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var A="leaflet-control-layers",y=this._container=br("div",A),P=this.options.collapsed;y.setAttribute("aria-haspopup",!0),el(y),ca(y);var Y=this._section=br("section",A+"-list");P&&(this._map.on("click",this.collapse,this),hn(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var de=this._layersLink=br("a",A+"-toggle",y);de.href="#",de.title="Layers",de.setAttribute("role","button"),hn(de,{keydown:function(Se){Se.keyCode===13&&this._expandSafely()},click:function(Se){zs(Se),this._expandSafely()}},this),P||this.expand(),this._baseLayersList=br("div",A+"-base",Y),this._separator=br("div",A+"-separator",Y),this._overlaysList=br("div",A+"-overlays",Y),y.appendChild(Y)},_getLayer:function(A){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===A)return this._layers[y]},_addLayer:function(A,y,P){this._map&&A.on("add remove",this._onLayerChange,this),this._layers.push({layer:A,name:y,overlay:P}),this.options.sortLayers&&this._layers.sort(d(function(Y,de){return this.options.sortFunction(Y.layer,de.layer,Y.name,de.name)},this)),this.options.autoZIndex&&A.setZIndex&&(this._lastZIndex++,A.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ui(this._baseLayersList),Ui(this._overlaysList),this._layerControlInputs=[];var A,y,P,Y,de=0;for(P=0;P<this._layers.length;P++)Y=this._layers[P],this._addItem(Y),y=y||Y.overlay,A=A||!Y.overlay,de+=Y.overlay?0:1;return this.options.hideSingleBase&&(A=A&&de>1,this._baseLayersList.style.display=A?"":"none"),this._separator.style.display=y&&A?"":"none",this},_onLayerChange:function(A){this._handlingClick||this._update();var y=this._getLayer(u(A.target)),P=y.overlay?A.type==="add"?"overlayadd":"overlayremove":A.type==="add"?"baselayerchange":null;P&&this._map.fire(P,y)},_createRadioElement:function(A,y){var P='<input type="radio" class="leaflet-control-layers-selector" name="'+A+'"'+(y?' checked="checked"':"")+"/>",Y=document.createElement("div");return Y.innerHTML=P,Y.firstChild},_addItem:function(A){var y=document.createElement("label"),P=this._map.hasLayer(A.layer),Y;A.overlay?(Y=document.createElement("input"),Y.type="checkbox",Y.className="leaflet-control-layers-selector",Y.defaultChecked=P):Y=this._createRadioElement("leaflet-base-layers_"+u(this),P),this._layerControlInputs.push(Y),Y.layerId=u(A.layer),hn(Y,"click",this._onInputClick,this);var de=document.createElement("span");de.innerHTML=" "+A.name;var Se=document.createElement("span");y.appendChild(Se),Se.appendChild(Y),Se.appendChild(de);var Ze=A.overlay?this._overlaysList:this._baseLayersList;return Ze.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var A=this._layerControlInputs,y,P,Y=[],de=[];this._handlingClick=!0;for(var Se=A.length-1;Se>=0;Se--)y=A[Se],P=this._getLayer(y.layerId).layer,y.checked?Y.push(P):y.checked||de.push(P);for(Se=0;Se<de.length;Se++)this._map.hasLayer(de[Se])&&this._map.removeLayer(de[Se]);for(Se=0;Se<Y.length;Se++)this._map.hasLayer(Y[Se])||this._map.addLayer(Y[Se]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var A=this._layerControlInputs,y,P,Y=this._map.getZoom(),de=A.length-1;de>=0;de--)y=A[de],P=this._getLayer(y.layerId).layer,y.disabled=P.options.minZoom!==void 0&&Y<P.options.minZoom||P.options.maxZoom!==void 0&&Y>P.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var A=this._section;this._preventClick=!0,hn(A,"click",zs),this.expand();var y=this;setTimeout(function(){as(A,"click",zs),y._preventClick=!1})}}),tl=function(A,y,P){return new co(A,y,P)},bo=Sr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(A){var y="leaflet-control-zoom",P=br("div",y+" leaflet-bar"),Y=this.options;return this._zoomInButton=this._createButton(Y.zoomInText,Y.zoomInTitle,y+"-in",P,this._zoomIn),this._zoomOutButton=this._createButton(Y.zoomOutText,Y.zoomOutTitle,y+"-out",P,this._zoomOut),this._updateDisabled(),A.on("zoomend zoomlevelschange",this._updateDisabled,this),P},onRemove:function(A){A.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(A){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(A.shiftKey?3:1))},_zoomOut:function(A){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(A.shiftKey?3:1))},_createButton:function(A,y,P,Y,de){var Se=br("a",P,Y);return Se.innerHTML=A,Se.href="#",Se.title=y,Se.setAttribute("role","button"),Se.setAttribute("aria-label",y),el(Se),hn(Se,"click",Fo),hn(Se,"click",de,this),hn(Se,"click",this._refocusOnMap,this),Se},_updateDisabled:function(){var A=this._map,y="leaflet-disabled";_s(this._zoomInButton,y),_s(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||A._zoom===A.getMinZoom())&&(gr(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||A._zoom===A.getMaxZoom())&&(gr(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});kn.mergeOptions({zoomControl:!0}),kn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bo,this.addControl(this.zoomControl))});var wo=function(A){return new bo(A)},zl=Sr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(A){var y="leaflet-control-scale",P=br("div",y),Y=this.options;return this._addScales(Y,y+"-line",P),A.on(Y.updateWhenIdle?"moveend":"move",this._update,this),A.whenReady(this._update,this),P},onRemove:function(A){A.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(A,y,P){A.metric&&(this._mScale=br("div",y,P)),A.imperial&&(this._iScale=br("div",y,P))},_update:function(){var A=this._map,y=A.getSize().y/2,P=A.distance(A.containerPointToLatLng([0,y]),A.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(P)},_updateScales:function(A){this.options.metric&&A&&this._updateMetric(A),this.options.imperial&&A&&this._updateImperial(A)},_updateMetric:function(A){var y=this._getRoundNum(A),P=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,P,y/A)},_updateImperial:function(A){var y=A*3.2808399,P,Y,de;y>5280?(P=y/5280,Y=this._getRoundNum(P),this._updateScale(this._iScale,Y+" mi",Y/P)):(de=this._getRoundNum(y),this._updateScale(this._iScale,de+" ft",de/y))},_updateScale:function(A,y,P){A.style.width=Math.round(this.options.maxWidth*P)+"px",A.innerHTML=y},_getRoundNum:function(A){var y=Math.pow(10,(Math.floor(A)+"").length-1),P=A/y;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:1,y*P}}),jc=function(A){return new zl(A)},dl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',X=Sr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xn.inlineSvg?dl+" ":"")+"Leaflet</a>"},initialize:function(A){w(this,A),this._attributions={}},onAdd:function(A){A.attributionControl=this,this._container=br("div","leaflet-control-attribution"),el(this._container);for(var y in A._layers)A._layers[y].getAttribution&&this.addAttribution(A._layers[y].getAttribution());return this._update(),A.on("layeradd",this._addAttribution,this),this._container},onRemove:function(A){A.off("layeradd",this._addAttribution,this)},_addAttribution:function(A){A.layer.getAttribution&&(this.addAttribution(A.layer.getAttribution()),A.layer.once("remove",function(){this.removeAttribution(A.layer.getAttribution())},this))},setPrefix:function(A){return this.options.prefix=A,this._update(),this},addAttribution:function(A){return A?(this._attributions[A]||(this._attributions[A]=0),this._attributions[A]++,this._update(),this):this},removeAttribution:function(A){return A?(this._attributions[A]&&(this._attributions[A]--,this._update()),this):this},_update:function(){if(this._map){var A=[];for(var y in this._attributions)this._attributions[y]&&A.push(y);var P=[];this.options.prefix&&P.push(this.options.prefix),A.length&&P.push(A.join(", ")),this._container.innerHTML=P.join(' <span aria-hidden="true">|</span> ')}}});kn.mergeOptions({attributionControl:!0}),kn.addInitHook(function(){this.options.attributionControl&&new X().addTo(this)});var xe=function(A){return new X(A)};Sr.Layers=co,Sr.Zoom=bo,Sr.Scale=zl,Sr.Attribution=X,mi.layers=tl,mi.zoom=wo,mi.scale=jc,mi.attribution=xe;var He=ae.extend({initialize:function(A){this._map=A},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});He.addTo=function(A,y){return A.addHandler(y,this),this};var tt={Events:J},jt=xn.touch?"touchstart mousedown":"mousedown",Ht=G.extend({options:{clickTolerance:3},initialize:function(A,y,P,Y){w(this,Y),this._element=A,this._dragStartTarget=y||A,this._preventOutline=P},enable:function(){this._enabled||(hn(this._dragStartTarget,jt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ht._dragging===this&&this.finishDrag(!0),as(this._dragStartTarget,jt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(A){if(this._enabled&&(this._moved=!1,!Mi(this._element,"leaflet-zoom-anim"))){if(A.touches&&A.touches.length!==1){Ht._dragging===this&&this.finishDrag();return}if(!(Ht._dragging||A.shiftKey||A.which!==1&&A.button!==1&&!A.touches)&&(Ht._dragging=this,this._preventOutline&&Qs(this._element),Wo(),Ko(),!this._moving)){this.fire("down");var y=A.touches?A.touches[0]:A,P=Gi(this._element);this._startPoint=new W(y.clientX,y.clientY),this._startPos=Ja(this._element),this._parentScale=Yo(P);var Y=A.type==="mousedown";hn(document,Y?"mousemove":"touchmove",this._onMove,this),hn(document,Y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(A){if(this._enabled){if(A.touches&&A.touches.length>1){this._moved=!0;return}var y=A.touches&&A.touches.length===1?A.touches[0]:A,P=new W(y.clientX,y.clientY)._subtract(this._startPoint);!P.x&&!P.y||Math.abs(P.x)+Math.abs(P.y)<this.options.clickTolerance||(P.x/=this._parentScale.x,P.y/=this._parentScale.y,zs(A),this._moved||(this.fire("dragstart"),this._moved=!0,gr(document.body,"leaflet-dragging"),this._lastTarget=A.target||A.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(P),this._moving=!0,this._lastEvent=A,this._updatePosition())}},_updatePosition:function(){var A={originalEvent:this._lastEvent};this.fire("predrag",A),fs(this._element,this._newPos),this.fire("drag",A)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(A){_s(document.body,"leaflet-dragging"),this._lastTarget&&(_s(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),as(document,"mousemove touchmove",this._onMove,this),as(document,"mouseup touchend touchcancel",this._onUp,this),ec(),aa();var y=this._moved&&this._moving;this._moving=!1,Ht._dragging=!1,y&&this.fire("dragend",{noInertia:A,distance:this._newPos.distanceTo(this._startPos)})}});function en(A,y,P){var Y,de=[1,4,2,8],Se,Ze,Et,Ut,sn,Fn,zn,cr;for(Se=0,Fn=A.length;Se<Fn;Se++)A[Se]._code=Lo(A[Se],y);for(Et=0;Et<4;Et++){for(zn=de[Et],Y=[],Se=0,Fn=A.length,Ze=Fn-1;Se<Fn;Ze=Se++)Ut=A[Se],sn=A[Ze],Ut._code&zn?sn._code&zn||(cr=nl(sn,Ut,zn,y,P),cr._code=Lo(cr,y),Y.push(cr)):(sn._code&zn&&(cr=nl(sn,Ut,zn,y,P),cr._code=Lo(cr,y),Y.push(cr)),Y.push(Ut));A=Y}return A}function In(A,y){var P,Y,de,Se,Ze,Et,Ut,sn,Fn;if(!A||A.length===0)throw new Error("latlngs not passed");Hi(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var zn=me([0,0]),cr=ee(A),Fr=cr.getNorthWest().distanceTo(cr.getSouthWest())*cr.getNorthEast().distanceTo(cr.getNorthWest());Fr<1700&&(zn=nr(A));var xi=A.length,Ao=[];for(P=0;P<xi;P++){var Ca=me(A[P]);Ao.push(y.project(me([Ca.lat-zn.lat,Ca.lng-zn.lng])))}for(Et=Ut=sn=0,P=0,Y=xi-1;P<xi;Y=P++)de=Ao[P],Se=Ao[Y],Ze=de.y*Se.x-Se.y*de.x,Ut+=(de.x+Se.x)*Ze,sn+=(de.y+Se.y)*Ze,Et+=Ze*3;Et===0?Fn=Ao[0]:Fn=[Ut/Et,sn/Et];var Pl=y.unproject(oe(Fn));return me([Pl.lat+zn.lat,Pl.lng+zn.lng])}function nr(A){for(var y=0,P=0,Y=0,de=0;de<A.length;de++){var Se=me(A[de]);y+=Se.lat,P+=Se.lng,Y++}return me([y/Y,P/Y])}var Cr={__proto__:null,clipPolygon:en,polygonCenter:In,centroid:nr};function Tr(A,y){if(!y||!A.length)return A.slice();var P=y*y;return A=ci(A,P),A=Qi(A,P),A}function ts(A,y,P){return Math.sqrt(fl(A,y,P,!0))}function gi(A,y,P){return fl(A,y,P)}function Qi(A,y){var P=A.length,Y=typeof Uint8Array<"u"?Uint8Array:Array,de=new Y(P);de[0]=de[P-1]=1,Cs(A,de,y,0,P-1);var Se,Ze=[];for(Se=0;Se<P;Se++)de[Se]&&Ze.push(A[Se]);return Ze}function Cs(A,y,P,Y,de){var Se=0,Ze,Et,Ut;for(Et=Y+1;Et<=de-1;Et++)Ut=fl(A[Et],A[Y],A[de],!0),Ut>Se&&(Ze=Et,Se=Ut);Se>P&&(y[Ze]=1,Cs(A,y,P,Y,Ze),Cs(A,y,P,Ze,de))}function ci(A,y){for(var P=[A[0]],Y=1,de=0,Se=A.length;Y<Se;Y++)hl(A[Y],A[de])>y&&(P.push(A[Y]),de=Y);return de<Se-1&&P.push(A[Se-1]),P}var zi;function So(A,y,P,Y,de){var Se=Y?zi:Lo(A,P),Ze=Lo(y,P),Et,Ut,sn;for(zi=Ze;;){if(!(Se|Ze))return[A,y];if(Se&Ze)return!1;Et=Se||Ze,Ut=nl(A,y,Et,P,de),sn=Lo(Ut,P),Et===Se?(A=Ut,Se=sn):(y=Ut,Ze=sn)}}function nl(A,y,P,Y,de){var Se=y.x-A.x,Ze=y.y-A.y,Et=Y.min,Ut=Y.max,sn,Fn;return P&8?(sn=A.x+Se*(Ut.y-A.y)/Ze,Fn=Ut.y):P&4?(sn=A.x+Se*(Et.y-A.y)/Ze,Fn=Et.y):P&2?(sn=Ut.x,Fn=A.y+Ze*(Ut.x-A.x)/Se):P&1&&(sn=Et.x,Fn=A.y+Ze*(Et.x-A.x)/Se),new W(sn,Fn,de)}function Lo(A,y){var P=0;return A.x<y.min.x?P|=1:A.x>y.max.x&&(P|=2),A.y<y.min.y?P|=4:A.y>y.max.y&&(P|=8),P}function hl(A,y){var P=y.x-A.x,Y=y.y-A.y;return P*P+Y*Y}function fl(A,y,P,Y){var de=y.x,Se=y.y,Ze=P.x-de,Et=P.y-Se,Ut=Ze*Ze+Et*Et,sn;return Ut>0&&(sn=((A.x-de)*Ze+(A.y-Se)*Et)/Ut,sn>1?(de=P.x,Se=P.y):sn>0&&(de+=Ze*sn,Se+=Et*sn)),Ze=A.x-de,Et=A.y-Se,Y?Ze*Ze+Et*Et:new W(de,Se)}function Hi(A){return!B(A[0])||typeof A[0][0]!="object"&&typeof A[0][0]<"u"}function ue(A){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Hi(A)}function Le(A,y){var P,Y,de,Se,Ze,Et,Ut,sn;if(!A||A.length===0)throw new Error("latlngs not passed");Hi(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var Fn=me([0,0]),zn=ee(A),cr=zn.getNorthWest().distanceTo(zn.getSouthWest())*zn.getNorthEast().distanceTo(zn.getNorthWest());cr<1700&&(Fn=nr(A));var Fr=A.length,xi=[];for(P=0;P<Fr;P++){var Ao=me(A[P]);xi.push(y.project(me([Ao.lat-Fn.lat,Ao.lng-Fn.lng])))}for(P=0,Y=0;P<Fr-1;P++)Y+=xi[P].distanceTo(xi[P+1])/2;if(Y===0)sn=xi[0];else for(P=0,Se=0;P<Fr-1;P++)if(Ze=xi[P],Et=xi[P+1],de=Ze.distanceTo(Et),Se+=de,Se>Y){Ut=(Se-Y)/de,sn=[Et.x-Ut*(Et.x-Ze.x),Et.y-Ut*(Et.y-Ze.y)];break}var Ca=y.unproject(oe(sn));return me([Ca.lat+Fn.lat,Ca.lng+Fn.lng])}var qt={__proto__:null,simplify:Tr,pointToSegmentDistance:ts,closestPointOnSegment:gi,clipSegment:So,_getEdgeIntersection:nl,_getBitCode:Lo,_sqClosestPointOnSegment:fl,isFlat:Hi,_flat:ue,polylineCenter:Le},_n={project:function(A){return new W(A.lng,A.lat)},unproject:function(A){return new re(A.y,A.x)},bounds:new he([-180,-90],[180,90])},lr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new he([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(A){var y=Math.PI/180,P=this.R,Y=A.lat*y,de=this.R_MINOR/P,Se=Math.sqrt(1-de*de),Ze=Se*Math.sin(Y),Et=Math.tan(Math.PI/4-Y/2)/Math.pow((1-Ze)/(1+Ze),Se/2);return Y=-P*Math.log(Math.max(Et,1e-10)),new W(A.lng*y*P,Y)},unproject:function(A){for(var y=180/Math.PI,P=this.R,Y=this.R_MINOR/P,de=Math.sqrt(1-Y*Y),Se=Math.exp(-A.y/P),Ze=Math.PI/2-2*Math.atan(Se),Et=0,Ut=.1,sn;Et<15&&Math.abs(Ut)>1e-7;Et++)sn=de*Math.sin(Ze),sn=Math.pow((1-sn)/(1+sn),de/2),Ut=Math.PI/2-2*Math.atan(Se*sn)-Ze,Ze+=Ut;return new re(Ze*y,A.x*y/P)}},wn={__proto__:null,LonLat:_n,Mercator:lr,SphericalMercator:Ke},ls=i({},Ue,{code:"EPSG:3395",projection:lr,transformation:(function(){var A=.5/(Math.PI*lr.R);return et(A,.5,-A,.5)})()}),Xo=i({},Ue,{code:"EPSG:4326",projection:_n,transformation:et(1/180,1,-1/180,.5)}),uo=i({},De,{projection:_n,transformation:et(1,0,-1,0),scale:function(A){return Math.pow(2,A)},zoom:function(A){return Math.log(A)/Math.LN2},distance:function(A,y){var P=y.lng-A.lng,Y=y.lat-A.lat;return Math.sqrt(P*P+Y*Y)},infinite:!0});De.Earth=Ue,De.EPSG3395=ls,De.EPSG3857=wt,De.EPSG900913=nt,De.EPSG4326=Xo,De.Simple=uo;var Jr=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(A){return A.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(A){return A&&A.removeLayer(this),this},getPane:function(A){return this._map.getPane(A?this.options[A]||A:this.options.pane)},addInteractiveTarget:function(A){return this._map._targets[u(A)]=this,this},removeInteractiveTarget:function(A){return delete this._map._targets[u(A)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(A){var y=A.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var P=this.getEvents();y.on(P,this),this.once("remove",function(){y.off(P,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});kn.include({addLayer:function(A){if(!A._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(A);return this._layers[y]?this:(this._layers[y]=A,A._mapToAdd=this,A.beforeAdd&&A.beforeAdd(this),this.whenReady(A._layerAdd,A),this)},removeLayer:function(A){var y=u(A);return this._layers[y]?(this._loaded&&A.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:A}),A.fire("remove")),A._map=A._mapToAdd=null,this):this},hasLayer:function(A){return u(A)in this._layers},eachLayer:function(A,y){for(var P in this._layers)A.call(y,this._layers[P]);return this},_addLayers:function(A){A=A?B(A)?A:[A]:[];for(var y=0,P=A.length;y<P;y++)this.addLayer(A[y])},_addZoomLimit:function(A){(!isNaN(A.options.maxZoom)||!isNaN(A.options.minZoom))&&(this._zoomBoundLayers[u(A)]=A,this._updateZoomLevels())},_removeZoomLimit:function(A){var y=u(A);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var A=1/0,y=-1/0,P=this._getZoomSpan();for(var Y in this._zoomBoundLayers){var de=this._zoomBoundLayers[Y].options;A=de.minZoom===void 0?A:Math.min(A,de.minZoom),y=de.maxZoom===void 0?y:Math.max(y,de.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=A===1/0?void 0:A,P!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yr=Jr.extend({initialize:function(A,y){w(this,y),this._layers={};var P,Y;if(A)for(P=0,Y=A.length;P<Y;P++)this.addLayer(A[P])},addLayer:function(A){var y=this.getLayerId(A);return this._layers[y]=A,this._map&&this._map.addLayer(A),this},removeLayer:function(A){var y=A in this._layers?A:this.getLayerId(A);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(A){var y=typeof A=="number"?A:this.getLayerId(A);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(A){var y=Array.prototype.slice.call(arguments,1),P,Y;for(P in this._layers)Y=this._layers[P],Y[A]&&Y[A].apply(Y,y);return this},onAdd:function(A){this.eachLayer(A.addLayer,A)},onRemove:function(A){this.eachLayer(A.removeLayer,A)},eachLayer:function(A,y){for(var P in this._layers)A.call(y,this._layers[P]);return this},getLayer:function(A){return this._layers[A]},getLayers:function(){var A=[];return this.eachLayer(A.push,A),A},setZIndex:function(A){return this.invoke("setZIndex",A)},getLayerId:function(A){return u(A)}}),vi=function(A,y){return new yr(A,y)},ri=yr.extend({addLayer:function(A){return this.hasLayer(A)?this:(A.addEventParent(this),yr.prototype.addLayer.call(this,A),this.fire("layeradd",{layer:A}))},removeLayer:function(A){return this.hasLayer(A)?(A in this._layers&&(A=this._layers[A]),A.removeEventParent(this),yr.prototype.removeLayer.call(this,A),this.fire("layerremove",{layer:A})):this},setStyle:function(A){return this.invoke("setStyle",A)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var A=new M;for(var y in this._layers){var P=this._layers[y];A.extend(P.getBounds?P.getBounds():P.getLatLng())}return A}}),Xr=function(A,y){return new ri(A,y)},Na=ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(A){w(this,A)},createIcon:function(A){return this._createIcon("icon",A)},createShadow:function(A){return this._createIcon("shadow",A)},_createIcon:function(A,y){var P=this._getIconUrl(A);if(!P){if(A==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Y=this._createImg(P,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(Y,A),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Y},_setIconStyles:function(A,y){var P=this.options,Y=P[y+"Size"];typeof Y=="number"&&(Y=[Y,Y]);var de=oe(Y),Se=oe(y==="shadow"&&P.shadowAnchor||P.iconAnchor||de&&de.divideBy(2,!0));A.className="leaflet-marker-"+y+" "+(P.className||""),Se&&(A.style.marginLeft=-Se.x+"px",A.style.marginTop=-Se.y+"px"),de&&(A.style.width=de.x+"px",A.style.height=de.y+"px")},_createImg:function(A,y){return y=y||document.createElement("img"),y.src=A,y},_getIconUrl:function(A){return xn.retina&&this.options[A+"RetinaUrl"]||this.options[A+"Url"]}});function Fi(A){return new Na(A)}var Fl=Na.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(A){return typeof Fl.imagePath!="string"&&(Fl.imagePath=this._detectIconPath()),(this.options.imagePath||Fl.imagePath)+Na.prototype._getIconUrl.call(this,A)},_stripUrl:function(A){var y=function(P,Y,de){var Se=Y.exec(P);return Se&&Se[de]};return A=y(A,/^url\((['"])?(.+)\1\)$/,2),A&&y(A,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var A=br("div","leaflet-default-icon-path",document.body),y=_o(A,"background-image")||_o(A,"backgroundImage");if(document.body.removeChild(A),y=this._stripUrl(y),y)return y;var P=document.querySelector('link[href$="leaflet.css"]');return P?P.href.substring(0,P.href.length-11-1):""}}),ua=He.extend({initialize:function(A){this._marker=A},addHooks:function(){var A=this._marker._icon;this._draggable||(this._draggable=new Ht(A,A,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gr(A,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_s(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(A){var y=this._marker,P=y._map,Y=this._marker.options.autoPanSpeed,de=this._marker.options.autoPanPadding,Se=Ja(y._icon),Ze=P.getPixelBounds(),Et=P.getPixelOrigin(),Ut=$(Ze.min._subtract(Et).add(de),Ze.max._subtract(Et).subtract(de));if(!Ut.contains(Se)){var sn=oe((Math.max(Ut.max.x,Se.x)-Ut.max.x)/(Ze.max.x-Ut.max.x)-(Math.min(Ut.min.x,Se.x)-Ut.min.x)/(Ze.min.x-Ut.min.x),(Math.max(Ut.max.y,Se.y)-Ut.max.y)/(Ze.max.y-Ut.max.y)-(Math.min(Ut.min.y,Se.y)-Ut.min.y)/(Ze.min.y-Ut.min.y)).multiplyBy(Y);P.panBy(sn,{animate:!1}),this._draggable._newPos._add(sn),this._draggable._startPos._add(sn),fs(y._icon,this._draggable._newPos),this._onDrag(A),this._panRequest=V(this._adjustPan.bind(this,A))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(A){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,A)))},_onDrag:function(A){var y=this._marker,P=y._shadow,Y=Ja(y._icon),de=y._map.layerPointToLatLng(Y);P&&fs(P,Y),y._latlng=de,A.latlng=de,A.oldLatLng=this._oldLatLng,y.fire("move",A).fire("drag",A)},_onDragEnd:function(A){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",A)}}),ja=Jr.extend({options:{icon:new Fl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(A,y){w(this,y),this._latlng=me(A)},onAdd:function(A){this._zoomAnimated=this._zoomAnimated&&A.options.markerZoomAnimation,this._zoomAnimated&&A.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(A){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&A.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(A){var y=this._latlng;return this._latlng=me(A),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(A){return this.options.zIndexOffset=A,this.update()},getIcon:function(){return this.options.icon},setIcon:function(A){return this.options.icon=A,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var A=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(A)}return this},_initIcon:function(){var A=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),P=A.icon.createIcon(this._icon),Y=!1;P!==this._icon&&(this._icon&&this._removeIcon(),Y=!0,A.title&&(P.title=A.title),P.tagName==="IMG"&&(P.alt=A.alt||"")),gr(P,y),A.keyboard&&(P.tabIndex="0",P.setAttribute("role","button")),this._icon=P,A.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hn(P,"focus",this._panOnFocus,this);var de=A.icon.createShadow(this._shadow),Se=!1;de!==this._shadow&&(this._removeShadow(),Se=!0),de&&(gr(de,y),de.alt=""),this._shadow=de,A.opacity<1&&this._updateOpacity(),Y&&this.getPane().appendChild(this._icon),this._initInteraction(),de&&Se&&this.getPane(A.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&as(this._icon,"focus",this._panOnFocus,this),Ss(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ss(this._shadow),this._shadow=null},_setPos:function(A){this._icon&&fs(this._icon,A),this._shadow&&fs(this._shadow,A),this._zIndex=A.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(A){this._icon&&(this._icon.style.zIndex=this._zIndex+A)},_animateZoom:function(A){var y=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(gr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ua)){var A=this.options.draggable;this.dragging&&(A=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ua(this),A&&this.dragging.enable()}},setOpacity:function(A){return this.options.opacity=A,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var A=this.options.opacity;this._icon&&li(this._icon,A),this._shadow&&li(this._shadow,A)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var A=this._map;if(A){var y=this.options.icon.options,P=y.iconSize?oe(y.iconSize):oe(0,0),Y=y.iconAnchor?oe(y.iconAnchor):oe(0,0);A.panInside(this._latlng,{paddingTopLeft:Y,paddingBottomRight:P.subtract(Y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zr(A,y){return new ja(A,y)}var Xi=Jr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(A){this._renderer=A.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(A){return w(this,A),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&A&&Object.prototype.hasOwnProperty.call(A,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pl=Xi.extend({options:{fill:!0,radius:10},initialize:function(A,y){w(this,y),this._latlng=me(A),this._radius=this.options.radius},setLatLng:function(A){var y=this._latlng;return this._latlng=me(A),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(A){return this.options.radius=this._radius=A,this.redraw()},getRadius:function(){return this._radius},setStyle:function(A){var y=A&&A.radius||this._radius;return Xi.prototype.setStyle.call(this,A),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var A=this._radius,y=this._radiusY||A,P=this._clickTolerance(),Y=[A+P,y+P];this._pxBounds=new he(this._point.subtract(Y),this._point.add(Y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(A){return A.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Hl(A,y){return new pl(A,y)}var Vl=pl.extend({initialize:function(A,y,P){if(typeof y=="number"&&(y=i({},P,{radius:y})),w(this,y),this._latlng=me(A),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(A){return this._mRadius=A,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var A=[this._radius,this._radiusY||this._radius];return new M(this._map.layerPointToLatLng(this._point.subtract(A)),this._map.layerPointToLatLng(this._point.add(A)))},setStyle:Xi.prototype.setStyle,_project:function(){var A=this._latlng.lng,y=this._latlng.lat,P=this._map,Y=P.options.crs;if(Y.distance===Ue.distance){var de=Math.PI/180,Se=this._mRadius/Ue.R/de,Ze=P.project([y+Se,A]),Et=P.project([y-Se,A]),Ut=Ze.add(Et).divideBy(2),sn=P.unproject(Ut).lat,Fn=Math.acos((Math.cos(Se*de)-Math.sin(y*de)*Math.sin(sn*de))/(Math.cos(y*de)*Math.cos(sn*de)))/de;(isNaN(Fn)||Fn===0)&&(Fn=Se/Math.cos(Math.PI/180*y)),this._point=Ut.subtract(P.getPixelOrigin()),this._radius=isNaN(Fn)?0:Ut.x-P.project([sn,A-Fn]).x,this._radiusY=Ut.y-Ze.y}else{var zn=Y.unproject(Y.project(this._latlng).subtract([this._mRadius,0]));this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(zn).x}this._updateBounds()}});function zc(A,y,P){return new Vl(A,y,P)}var Oa=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(A,y){w(this,y),this._setLatLngs(A)},getLatLngs:function(){return this._latlngs},setLatLngs:function(A){return this._setLatLngs(A),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(A){for(var y=1/0,P=null,Y=fl,de,Se,Ze=0,Et=this._parts.length;Ze<Et;Ze++)for(var Ut=this._parts[Ze],sn=1,Fn=Ut.length;sn<Fn;sn++){de=Ut[sn-1],Se=Ut[sn];var zn=Y(A,de,Se,!0);zn<y&&(y=zn,P=Y(A,de,Se))}return P&&(P.distance=Math.sqrt(y)),P},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Le(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(A,y){return y=y||this._defaultShape(),A=me(A),y.push(A),this._bounds.extend(A),this.redraw()},_setLatLngs:function(A){this._bounds=new M,this._latlngs=this._convertLatLngs(A)},_defaultShape:function(){return Hi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(A){for(var y=[],P=Hi(A),Y=0,de=A.length;Y<de;Y++)P?(y[Y]=me(A[Y]),this._bounds.extend(y[Y])):y[Y]=this._convertLatLngs(A[Y]);return y},_project:function(){var A=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,A),this._bounds.isValid()&&A.isValid()&&(this._rawPxBounds=A,this._updateBounds())},_updateBounds:function(){var A=this._clickTolerance(),y=new W(A,A);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(A,y,P){var Y=A[0]instanceof re,de=A.length,Se,Ze;if(Y){for(Ze=[],Se=0;Se<de;Se++)Ze[Se]=this._map.latLngToLayerPoint(A[Se]),P.extend(Ze[Se]);y.push(Ze)}else for(Se=0;Se<de;Se++)this._projectLatlngs(A[Se],y,P)},_clipPoints:function(){var A=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,P,Y,de,Se,Ze,Et,Ut;for(P=0,de=0,Se=this._rings.length;P<Se;P++)for(Ut=this._rings[P],Y=0,Ze=Ut.length;Y<Ze-1;Y++)Et=So(Ut[Y],Ut[Y+1],A,Y,!0),Et&&(y[de]=y[de]||[],y[de].push(Et[0]),(Et[1]!==Ut[Y+1]||Y===Ze-2)&&(y[de].push(Et[1]),de++))}},_simplifyPoints:function(){for(var A=this._parts,y=this.options.smoothFactor,P=0,Y=A.length;P<Y;P++)A[P]=Tr(A[P],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(A,y){var P,Y,de,Se,Ze,Et,Ut=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(P=0,Se=this._parts.length;P<Se;P++)for(Et=this._parts[P],Y=0,Ze=Et.length,de=Ze-1;Y<Ze;de=Y++)if(!(!y&&Y===0)&&ts(A,Et[de],Et[Y])<=Ut)return!0;return!1}});function Zi(A,y){return new Oa(A,y)}Oa._flat=ue;var Co=Oa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return In(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(A){var y=Oa.prototype._convertLatLngs.call(this,A),P=y.length;return P>=2&&y[0]instanceof re&&y[0].equals(y[P-1])&&y.pop(),y},_setLatLngs:function(A){Oa.prototype._setLatLngs.call(this,A),Hi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Hi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var A=this._renderer._bounds,y=this.options.weight,P=new W(y,y);if(A=new he(A.min.subtract(P),A.max.add(P)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}for(var Y=0,de=this._rings.length,Se;Y<de;Y++)Se=en(this._rings[Y],A,!0),Se.length&&this._parts.push(Se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(A){var y=!1,P,Y,de,Se,Ze,Et,Ut,sn;if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(Se=0,Ut=this._parts.length;Se<Ut;Se++)for(P=this._parts[Se],Ze=0,sn=P.length,Et=sn-1;Ze<sn;Et=Ze++)Y=P[Ze],de=P[Et],Y.y>A.y!=de.y>A.y&&A.x<(de.x-Y.x)*(A.y-Y.y)/(de.y-Y.y)+Y.x&&(y=!y);return y||Oa.prototype._containsPoint.call(this,A,!0)}});function Xs(A,y){return new Co(A,y)}var Zs=ri.extend({initialize:function(A,y){w(this,y),this._layers={},A&&this.addData(A)},addData:function(A){var y=B(A)?A:A.features,P,Y,de;if(y){for(P=0,Y=y.length;P<Y;P++)de=y[P],(de.geometries||de.geometry||de.features||de.coordinates)&&this.addData(de);return this}var Se=this.options;if(Se.filter&&!Se.filter(A))return this;var Ze=ui(A,Se);return Ze?(Ze.feature=ba(A),Ze.defaultOptions=Ze.options,this.resetStyle(Ze),Se.onEachFeature&&Se.onEachFeature(A,Ze),this.addLayer(Ze)):this},resetStyle:function(A){return A===void 0?this.eachLayer(this.resetStyle,this):(A.options=i({},A.defaultOptions),this._setLayerStyle(A,this.options.style),this)},setStyle:function(A){return this.eachLayer(function(y){this._setLayerStyle(y,A)},this)},_setLayerStyle:function(A,y){A.setStyle&&(typeof y=="function"&&(y=y(A.feature)),A.setStyle(y))}});function ui(A,y){var P=A.type==="Feature"?A.geometry:A,Y=P?P.coordinates:null,de=[],Se=y&&y.pointToLayer,Ze=y&&y.coordsToLatLng||bc,Et,Ut,sn,Fn;if(!Y&&!P)return null;switch(P.type){case"Point":return Et=Ze(Y),rl(Se,A,Et,y);case"MultiPoint":for(sn=0,Fn=Y.length;sn<Fn;sn++)Et=Ze(Y[sn]),de.push(rl(Se,A,Et,y));return new ri(de);case"LineString":case"MultiLineString":return Ut=tc(Y,P.type==="LineString"?0:1,Ze),new Oa(Ut,y);case"Polygon":case"MultiPolygon":return Ut=tc(Y,P.type==="Polygon"?1:2,Ze),new Co(Ut,y);case"GeometryCollection":for(sn=0,Fn=P.geometries.length;sn<Fn;sn++){var zn=ui({geometry:P.geometries[sn],type:"Feature",properties:A.properties},y);zn&&de.push(zn)}return new ri(de);case"FeatureCollection":for(sn=0,Fn=P.features.length;sn<Fn;sn++){var cr=ui(P.features[sn],y);cr&&de.push(cr)}return new ri(de);default:throw new Error("Invalid GeoJSON object.")}}function rl(A,y,P,Y){return A?A(y,P):new ja(P,Y&&Y.markersInheritOptions&&Y)}function bc(A){return new re(A[1],A[0],A[2])}function tc(A,y,P){for(var Y=[],de=0,Se=A.length,Ze;de<Se;de++)Ze=y?tc(A[de],y-1,P):(P||bc)(A[de]),Y.push(Ze);return Y}function sl(A,y){return A=me(A),A.alt!==void 0?[v(A.lng,y),v(A.lat,y),v(A.alt,y)]:[v(A.lng,y),v(A.lat,y)]}function Ll(A,y,P,Y){for(var de=[],Se=0,Ze=A.length;Se<Ze;Se++)de.push(y?Ll(A[Se],Hi(A[Se])?0:y-1,P,Y):sl(A[Se],Y));return!y&&P&&de.length>0&&de.push(de[0].slice()),de}function Zo(A,y){return A.feature?i({},A.feature,{geometry:y}):ba(y)}function ba(A){return A.type==="Feature"||A.type==="FeatureCollection"?A:{type:"Feature",properties:{},geometry:A}}var qi={toGeoJSON:function(A){return Zo(this,{type:"Point",coordinates:sl(this.getLatLng(),A)})}};ja.include(qi),Vl.include(qi),pl.include(qi),Oa.include({toGeoJSON:function(A){var y=!Hi(this._latlngs),P=Ll(this._latlngs,y?1:0,!1,A);return Zo(this,{type:(y?"Multi":"")+"LineString",coordinates:P})}}),Co.include({toGeoJSON:function(A){var y=!Hi(this._latlngs),P=y&&!Hi(this._latlngs[0]),Y=Ll(this._latlngs,P?2:y?1:0,!0,A);return y||(Y=[Y]),Zo(this,{type:(P?"Multi":"")+"Polygon",coordinates:Y})}}),yr.include({toMultiPoint:function(A){var y=[];return this.eachLayer(function(P){y.push(P.toGeoJSON(A).geometry.coordinates)}),Zo(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(A){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(A);var P=y==="GeometryCollection",Y=[];return this.eachLayer(function(de){if(de.toGeoJSON){var Se=de.toGeoJSON(A);if(P)Y.push(Se.geometry);else{var Ze=ba(Se);Ze.type==="FeatureCollection"?Y.push.apply(Y,Ze.features):Y.push(Ze)}}}),P?Zo(this,{geometries:Y,type:"GeometryCollection"}):{type:"FeatureCollection",features:Y}}});function nc(A,y){return new Zs(A,y)}var ml=nc,Ji=Jr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(A,y,P){this._url=A,this._bounds=ee(y),w(this,P)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ss(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(A){return this.options.opacity=A,this._image&&this._updateOpacity(),this},setStyle:function(A){return A.opacity&&this.setOpacity(A.opacity),this},bringToFront:function(){return this._map&&ks(this._image),this},bringToBack:function(){return this._map&&$o(this._image),this},setUrl:function(A){return this._url=A,this._image&&(this._image.src=A),this},setBounds:function(A){return this._bounds=ee(A),this._map&&this._reset(),this},getEvents:function(){var A={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var A=this._url.tagName==="IMG",y=this._image=A?this._url:br("img");if(gr(y,"leaflet-image-layer"),this._zoomAnimated&&gr(y,"leaflet-zoom-animated"),this.options.className&&gr(y,this.options.className),y.onselectstart=m,y.onmousemove=m,y.onload=d(this.fire,this,"load"),y.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),A){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(A){var y=this._map.getZoomScale(A.zoom),P=this._map._latLngBoundsToNewLayerBounds(this._bounds,A.zoom,A.center).min;Go(this._image,P,y)},_reset:function(){var A=this._image,y=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),P=y.getSize();fs(A,y.min),A.style.width=P.x+"px",A.style.height=P.y+"px"},_updateOpacity:function(){li(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var A=this.options.errorOverlayUrl;A&&this._url!==A&&(this._url=A,this._image.src=A)},getCenter:function(){return this._bounds.getCenter()}}),cs=function(A,y,P){return new Ji(A,y,P)},Hs=Ji.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var A=this._url.tagName==="VIDEO",y=this._image=A?this._url:br("video");if(gr(y,"leaflet-image-layer"),this._zoomAnimated&&gr(y,"leaflet-zoom-animated"),this.options.className&&gr(y,this.options.className),y.onselectstart=m,y.onmousemove=m,y.onloadeddata=d(this.fire,this,"load"),A){for(var P=y.getElementsByTagName("source"),Y=[],de=0;de<P.length;de++)Y.push(P[de].src);this._url=P.length>0?Y:[y.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var Se=0;Se<this._url.length;Se++){var Ze=br("source");Ze.src=this._url[Se],y.appendChild(Ze)}}});function eo(A,y,P){return new Hs(A,y,P)}var us=Ji.extend({_initImage:function(){var A=this._image=this._url;gr(A,"leaflet-image-layer"),this._zoomAnimated&&gr(A,"leaflet-zoom-animated"),this.options.className&&gr(A,this.options.className),A.onselectstart=m,A.onmousemove=m}});function $l(A,y,P){return new us(A,y,P)}var Ua=Jr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(A,y){A&&(A instanceof re||B(A))?(this._latlng=me(A),w(this,y)):(w(this,A),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(A){return A=arguments.length?A:this._source._map,A.hasLayer(this)||A.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(A){return this._map?this.close():(arguments.length?this._source=A:A=this._source,this._prepareOpen(),this.openOn(A._map)),this},onAdd:function(A){this._zoomAnimated=A._zoomAnimated,this._container||this._initLayout(),A._fadeAnimated&&li(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),A._fadeAnimated&&li(this._container,1),this.bringToFront(),this.options.interactive&&(gr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(A){A._fadeAnimated?(li(this._container,0),this._removeTimeout=setTimeout(d(Ss,void 0,this._container),200)):Ss(this._container),this.options.interactive&&(_s(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(A){return this._latlng=me(A),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(A){return this._content=A,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var A={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ks(this._container),this},bringToBack:function(){return this._map&&$o(this._container),this},_prepareOpen:function(A){var y=this._source;if(!y._map)return!1;if(y instanceof ri){y=null;var P=this._source._layers;for(var Y in P)if(P[Y]._map){y=P[Y];break}if(!y)return!1;this._source=y}if(!A)if(y.getCenter)A=y.getCenter();else if(y.getLatLng)A=y.getLatLng();else if(y.getBounds)A=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(A),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var A=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")A.innerHTML=y;else{for(;A.hasChildNodes();)A.removeChild(A.firstChild);A.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var A=this._map.latLngToLayerPoint(this._latlng),y=oe(this.options.offset),P=this._getAnchor();this._zoomAnimated?fs(this._container,A.add(P)):y=y.add(A).add(P);var Y=this._containerBottom=-y.y,de=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=Y+"px",this._container.style.left=de+"px"}},_getAnchor:function(){return[0,0]}});kn.include({_initOverlay:function(A,y,P,Y){var de=y;return de instanceof A||(de=new A(Y).setContent(y)),P&&de.setLatLng(P),de}}),Jr.include({_initOverlay:function(A,y,P,Y){var de=P;return de instanceof A?(w(de,Y),de._source=this):(de=y&&!Y?y:new A(Y,this),de.setContent(P)),de}});var rc=Ua.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(A){return A=arguments.length?A:this._source._map,!A.hasLayer(this)&&A._popup&&A._popup.options.autoClose&&A.removeLayer(A._popup),A._popup=this,Ua.prototype.openOn.call(this,A)},onAdd:function(A){Ua.prototype.onAdd.call(this,A),A.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",ya))},onRemove:function(A){Ua.prototype.onRemove.call(this,A),A.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",ya))},getEvents:function(){var A=Ua.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(A.preclick=this.close),this.options.keepInView&&(A.moveend=this._adjustPan),A},_initLayout:function(){var A="leaflet-popup",y=this._container=br("div",A+" "+(this.options.className||"")+" leaflet-zoom-animated"),P=this._wrapper=br("div",A+"-content-wrapper",y);if(this._contentNode=br("div",A+"-content",P),el(y),ca(this._contentNode),hn(y,"contextmenu",ya),this._tipContainer=br("div",A+"-tip-container",y),this._tip=br("div",A+"-tip",this._tipContainer),this.options.closeButton){var Y=this._closeButton=br("a",A+"-close-button",y);Y.setAttribute("role","button"),Y.setAttribute("aria-label","Close popup"),Y.href="#close",Y.innerHTML='<span aria-hidden="true">&#215;</span>',hn(Y,"click",function(de){zs(de),this.close()},this)}},_updateLayout:function(){var A=this._contentNode,y=A.style;y.width="",y.whiteSpace="nowrap";var P=A.offsetWidth;P=Math.min(P,this.options.maxWidth),P=Math.max(P,this.options.minWidth),y.width=P+1+"px",y.whiteSpace="",y.height="";var Y=A.offsetHeight,de=this.options.maxHeight,Se="leaflet-popup-scrolled";de&&Y>de?(y.height=de+"px",gr(A,Se)):_s(A,Se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(A){var y=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center),P=this._getAnchor();fs(this._container,y.add(P))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var A=this._map,y=parseInt(_o(this._container,"marginBottom"),10)||0,P=this._container.offsetHeight+y,Y=this._containerWidth,de=new W(this._containerLeft,-P-this._containerBottom);de._add(Ja(this._container));var Se=A.layerPointToContainerPoint(de),Ze=oe(this.options.autoPanPadding),Et=oe(this.options.autoPanPaddingTopLeft||Ze),Ut=oe(this.options.autoPanPaddingBottomRight||Ze),sn=A.getSize(),Fn=0,zn=0;Se.x+Y+Ut.x>sn.x&&(Fn=Se.x+Y-sn.x+Ut.x),Se.x-Fn-Et.x<0&&(Fn=Se.x-Et.x),Se.y+P+Ut.y>sn.y&&(zn=Se.y+P-sn.y+Ut.y),Se.y-zn-Et.y<0&&(zn=Se.y-Et.y),(Fn||zn)&&(this.options.keepInView&&(this._autopanning=!0),A.fire("autopanstart").panBy([Fn,zn]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),iu=function(A,y){return new rc(A,y)};kn.mergeOptions({closePopupOnClick:!0}),kn.include({openPopup:function(A,y,P){return this._initOverlay(rc,A,y,P).openOn(this),this},closePopup:function(A){return A=arguments.length?A:this._popup,A&&A.close(),this}}),Jr.include({bindPopup:function(A,y){return this._popup=this._initOverlay(rc,this._popup,A,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(A){return this._popup&&(this instanceof ri||(this._popup._source=this),this._popup._prepareOpen(A||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(A){return this._popup&&this._popup.setContent(A),this},getPopup:function(){return this._popup},_openPopup:function(A){if(!(!this._popup||!this._map)){Fo(A);var y=A.layer||A.target;if(this._popup._source===y&&!(y instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(A.latlng);return}this._popup._source=y,this.openPopup(A.latlng)}},_movePopup:function(A){this._popup.setLatLng(A.latlng)},_onKeyPress:function(A){A.originalEvent.keyCode===13&&this._openPopup(A)}});var sA=Ua.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(A){Ua.prototype.onAdd.call(this,A),this.setOpacity(this.options.opacity),A.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(A){Ua.prototype.onRemove.call(this,A),A.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var A=Ua.prototype.getEvents.call(this);return this.options.permanent||(A.preclick=this.close),A},_initLayout:function(){var A="leaflet-tooltip",y=A+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=br("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(A){var y,P,Y=this._map,de=this._container,Se=Y.latLngToContainerPoint(Y.getCenter()),Ze=Y.layerPointToContainerPoint(A),Et=this.options.direction,Ut=de.offsetWidth,sn=de.offsetHeight,Fn=oe(this.options.offset),zn=this._getAnchor();Et==="top"?(y=Ut/2,P=sn):Et==="bottom"?(y=Ut/2,P=0):Et==="center"?(y=Ut/2,P=sn/2):Et==="right"?(y=0,P=sn/2):Et==="left"?(y=Ut,P=sn/2):Ze.x<Se.x?(Et="right",y=0,P=sn/2):(Et="left",y=Ut+(Fn.x+zn.x)*2,P=sn/2),A=A.subtract(oe(y,P,!0)).add(Fn).add(zn),_s(de,"leaflet-tooltip-right"),_s(de,"leaflet-tooltip-left"),_s(de,"leaflet-tooltip-top"),_s(de,"leaflet-tooltip-bottom"),gr(de,"leaflet-tooltip-"+Et),fs(de,A)},_updatePosition:function(){var A=this._map.latLngToLayerPoint(this._latlng);this._setPosition(A)},setOpacity:function(A){this.options.opacity=A,this._container&&li(this._container,A)},_animateZoom:function(A){var y=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center);this._setPosition(y)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fd=function(A,y){return new sA(A,y)};kn.include({openTooltip:function(A,y,P){return this._initOverlay(sA,A,y,P).openOn(this),this},closeTooltip:function(A){return A.close(),this}}),Jr.include({bindTooltip:function(A,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sA,this._tooltip,A,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(A){if(!(!A&&this._tooltipHandlersAdded)){var y=A?"off":"on",P={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?P.add=this._openTooltip:(P.mouseover=this._openTooltip,P.mouseout=this.closeTooltip,P.click=this._openTooltip,this._map?this._addFocusListeners():P.add=this._addFocusListeners),this._tooltip.options.sticky&&(P.mousemove=this._moveTooltip),this[y](P),this._tooltipHandlersAdded=!A}},openTooltip:function(A){return this._tooltip&&(this instanceof ri||(this._tooltip._source=this),this._tooltip._prepareOpen(A)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(A){return this._tooltip&&this._tooltip.setContent(A),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(A){var y=typeof A.getElement=="function"&&A.getElement();y&&(hn(y,"focus",function(){this._tooltip._source=A,this.openTooltip()},this),hn(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(A){var y=typeof A.getElement=="function"&&A.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(A){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(A)});return}this._tooltip._source=A.layer||A.target,this.openTooltip(this._tooltip.options.sticky?A.latlng:void 0)}},_moveTooltip:function(A){var y=A.latlng,P,Y;this._tooltip.options.sticky&&A.originalEvent&&(P=this._map.mouseEventToContainerPoint(A.originalEvent),Y=this._map.containerPointToLayerPoint(P),y=this._map.layerPointToLatLng(Y)),this._tooltip.setLatLng(y)}});var iA=Na.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(A){var y=A&&A.tagName==="DIV"?A:document.createElement("div"),P=this.options;if(P.html instanceof Element?(Ui(y),y.appendChild(P.html)):y.innerHTML=P.html!==!1?P.html:"",P.bgPos){var Y=oe(P.bgPos);y.style.backgroundPosition=-Y.x+"px "+-Y.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function HA(A){return new iA(A)}Na.Default=Fl;var wc=Jr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(A){w(this,A)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(A){A._addZoomLimit(this)},onRemove:function(A){this._removeAllTiles(),Ss(this._container),A._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ks(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($o(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(A){return this.options.opacity=A,this._updateOpacity(),this},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var A=this._clampZoom(this._map.getZoom());A!==this._tileZoom&&(this._tileZoom=A,this._updateLevels()),this._update()}return this},getEvents:function(){var A={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),A.move=this._onMove),this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},createTile:function(){return document.createElement("div")},getTileSize:function(){var A=this.options.tileSize;return A instanceof W?A:new W(A,A)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(A){for(var y=this.getPane().children,P=-A(-1/0,1/0),Y=0,de=y.length,Se;Y<de;Y++)Se=y[Y].style.zIndex,y[Y]!==this._container&&Se&&(P=A(P,+Se));isFinite(P)&&(this.options.zIndex=P+A(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xn.ielt9){li(this._container,this.options.opacity);var A=+new Date,y=!1,P=!1;for(var Y in this._tiles){var de=this._tiles[Y];if(!(!de.current||!de.loaded)){var Se=Math.min(1,(A-de.loaded)/200);li(de.el,Se),Se<1?y=!0:(de.active?P=!0:this._onOpaqueTile(de),de.active=!0)}}P&&!this._noPrune&&this._pruneTiles(),y&&(q(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=br("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var A=this._tileZoom,y=this.options.maxZoom;if(A!==void 0){for(var P in this._levels)P=Number(P),this._levels[P].el.children.length||P===A?(this._levels[P].el.style.zIndex=y-Math.abs(A-P),this._onUpdateLevel(P)):(Ss(this._levels[P].el),this._removeTilesAtZoom(P),this._onRemoveLevel(P),delete this._levels[P]);var Y=this._levels[A],de=this._map;return Y||(Y=this._levels[A]={},Y.el=br("div","leaflet-tile-container leaflet-zoom-animated",this._container),Y.el.style.zIndex=y,Y.origin=de.project(de.unproject(de.getPixelOrigin()),A).round(),Y.zoom=A,this._setZoomTransform(Y,de.getCenter(),de.getZoom()),m(Y.el.offsetWidth),this._onCreateLevel(Y)),this._level=Y,Y}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var A,y,P=this._map.getZoom();if(P>this.options.maxZoom||P<this.options.minZoom){this._removeAllTiles();return}for(A in this._tiles)y=this._tiles[A],y.retain=y.current;for(A in this._tiles)if(y=this._tiles[A],y.current&&!y.active){var Y=y.coords;this._retainParent(Y.x,Y.y,Y.z,Y.z-5)||this._retainChildren(Y.x,Y.y,Y.z,Y.z+2)}for(A in this._tiles)this._tiles[A].retain||this._removeTile(A)}},_removeTilesAtZoom:function(A){for(var y in this._tiles)this._tiles[y].coords.z===A&&this._removeTile(y)},_removeAllTiles:function(){for(var A in this._tiles)this._removeTile(A)},_invalidateAll:function(){for(var A in this._levels)Ss(this._levels[A].el),this._onRemoveLevel(Number(A)),delete this._levels[A];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(A,y,P,Y){var de=Math.floor(A/2),Se=Math.floor(y/2),Ze=P-1,Et=new W(+de,+Se);Et.z=+Ze;var Ut=this._tileCoordsToKey(Et),sn=this._tiles[Ut];return sn&&sn.active?(sn.retain=!0,!0):(sn&&sn.loaded&&(sn.retain=!0),Ze>Y?this._retainParent(de,Se,Ze,Y):!1)},_retainChildren:function(A,y,P,Y){for(var de=2*A;de<2*A+2;de++)for(var Se=2*y;Se<2*y+2;Se++){var Ze=new W(de,Se);Ze.z=P+1;var Et=this._tileCoordsToKey(Ze),Ut=this._tiles[Et];if(Ut&&Ut.active){Ut.retain=!0;continue}else Ut&&Ut.loaded&&(Ut.retain=!0);P+1<Y&&this._retainChildren(de,Se,P+1,Y)}},_resetView:function(A){var y=A&&(A.pinch||A.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(A){this._setView(A.center,A.zoom,!0,A.noUpdate)},_clampZoom:function(A){var y=this.options;return y.minNativeZoom!==void 0&&A<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<A?y.maxNativeZoom:A},_setView:function(A,y,P,Y){var de=Math.round(y);this.options.maxZoom!==void 0&&de>this.options.maxZoom||this.options.minZoom!==void 0&&de<this.options.minZoom?de=void 0:de=this._clampZoom(de);var Se=this.options.updateWhenZooming&&de!==this._tileZoom;(!Y||Se)&&(this._tileZoom=de,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),de!==void 0&&this._update(A),P||this._pruneTiles(),this._noPrune=!!P),this._setZoomTransforms(A,y)},_setZoomTransforms:function(A,y){for(var P in this._levels)this._setZoomTransform(this._levels[P],A,y)},_setZoomTransform:function(A,y,P){var Y=this._map.getZoomScale(P,A.zoom),de=A.origin.multiplyBy(Y).subtract(this._map._getNewPixelOrigin(y,P)).round();xn.any3d?Go(A.el,de,Y):fs(A.el,de)},_resetGrid:function(){var A=this._map,y=A.options.crs,P=this._tileSize=this.getTileSize(),Y=this._tileZoom,de=this._map.getPixelWorldBounds(this._tileZoom);de&&(this._globalTileRange=this._pxBoundsToTileRange(de)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(A.project([0,y.wrapLng[0]],Y).x/P.x),Math.ceil(A.project([0,y.wrapLng[1]],Y).x/P.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(A.project([y.wrapLat[0],0],Y).y/P.x),Math.ceil(A.project([y.wrapLat[1],0],Y).y/P.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(A){var y=this._map,P=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),Y=y.getZoomScale(P,this._tileZoom),de=y.project(A,this._tileZoom).floor(),Se=y.getSize().divideBy(Y*2);return new he(de.subtract(Se),de.add(Se))},_update:function(A){var y=this._map;if(y){var P=this._clampZoom(y.getZoom());if(A===void 0&&(A=y.getCenter()),this._tileZoom!==void 0){var Y=this._getTiledPixelBounds(A),de=this._pxBoundsToTileRange(Y),Se=de.getCenter(),Ze=[],Et=this.options.keepBuffer,Ut=new he(de.getBottomLeft().subtract([Et,-Et]),de.getTopRight().add([Et,-Et]));if(!(isFinite(de.min.x)&&isFinite(de.min.y)&&isFinite(de.max.x)&&isFinite(de.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var sn in this._tiles){var Fn=this._tiles[sn].coords;(Fn.z!==this._tileZoom||!Ut.contains(new W(Fn.x,Fn.y)))&&(this._tiles[sn].current=!1)}if(Math.abs(P-this._tileZoom)>1){this._setView(A,P);return}for(var zn=de.min.y;zn<=de.max.y;zn++)for(var cr=de.min.x;cr<=de.max.x;cr++){var Fr=new W(cr,zn);if(Fr.z=this._tileZoom,!!this._isValidTile(Fr)){var xi=this._tiles[this._tileCoordsToKey(Fr)];xi?xi.current=!0:Ze.push(Fr)}}if(Ze.sort(function(Ca,Pl){return Ca.distanceTo(Se)-Pl.distanceTo(Se)}),Ze.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ao=document.createDocumentFragment();for(cr=0;cr<Ze.length;cr++)this._addTile(Ze[cr],Ao);this._level.el.appendChild(Ao)}}}},_isValidTile:function(A){var y=this._map.options.crs;if(!y.infinite){var P=this._globalTileRange;if(!y.wrapLng&&(A.x<P.min.x||A.x>P.max.x)||!y.wrapLat&&(A.y<P.min.y||A.y>P.max.y))return!1}if(!this.options.bounds)return!0;var Y=this._tileCoordsToBounds(A);return ee(this.options.bounds).overlaps(Y)},_keyToBounds:function(A){return this._tileCoordsToBounds(this._keyToTileCoords(A))},_tileCoordsToNwSe:function(A){var y=this._map,P=this.getTileSize(),Y=A.scaleBy(P),de=Y.add(P),Se=y.unproject(Y,A.z),Ze=y.unproject(de,A.z);return[Se,Ze]},_tileCoordsToBounds:function(A){var y=this._tileCoordsToNwSe(A),P=new M(y[0],y[1]);return this.options.noWrap||(P=this._map.wrapLatLngBounds(P)),P},_tileCoordsToKey:function(A){return A.x+":"+A.y+":"+A.z},_keyToTileCoords:function(A){var y=A.split(":"),P=new W(+y[0],+y[1]);return P.z=+y[2],P},_removeTile:function(A){var y=this._tiles[A];y&&(Ss(y.el),delete this._tiles[A],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(A)}))},_initTile:function(A){gr(A,"leaflet-tile");var y=this.getTileSize();A.style.width=y.x+"px",A.style.height=y.y+"px",A.onselectstart=m,A.onmousemove=m,xn.ielt9&&this.options.opacity<1&&li(A,this.options.opacity)},_addTile:function(A,y){var P=this._getTilePos(A),Y=this._tileCoordsToKey(A),de=this.createTile(this._wrapCoords(A),d(this._tileReady,this,A));this._initTile(de),this.createTile.length<2&&V(d(this._tileReady,this,A,null,de)),fs(de,P),this._tiles[Y]={el:de,coords:A,current:!0},y.appendChild(de),this.fire("tileloadstart",{tile:de,coords:A})},_tileReady:function(A,y,P){y&&this.fire("tileerror",{error:y,tile:P,coords:A});var Y=this._tileCoordsToKey(A);P=this._tiles[Y],P&&(P.loaded=+new Date,this._map._fadeAnimated?(li(P.el,0),q(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(P.active=!0,this._pruneTiles()),y||(gr(P.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:P.el,coords:A})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xn.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(A){return A.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(A){var y=new W(this._wrapX?a(A.x,this._wrapX):A.x,this._wrapY?a(A.y,this._wrapY):A.y);return y.z=A.z,y},_pxBoundsToTileRange:function(A){var y=this.getTileSize();return new he(A.min.unscaleBy(y).floor(),A.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var A in this._tiles)if(!this._tiles[A].loaded)return!1;return!0}});function gl(A){return new wc(A)}var Dl=wc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(A,y){this._url=A,y=w(this,y),y.detectRetina&&xn.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(A,y){return this._url===A&&y===void 0&&(y=!0),this._url=A,y||this.redraw(),this},createTile:function(A,y){var P=document.createElement("img");return hn(P,"load",d(this._tileOnLoad,this,y,P)),hn(P,"error",d(this._tileOnError,this,y,P)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(P.referrerPolicy=this.options.referrerPolicy),P.alt="",P.src=this.getTileUrl(A),P},getTileUrl:function(A){var y={r:xn.retina?"@2x":"",s:this._getSubdomain(A),x:A.x,y:A.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var P=this._globalTileRange.max.y-A.y;this.options.tms&&(y.y=P),y["-y"]=P}return C(this._url,i(y,this.options))},_tileOnLoad:function(A,y){xn.ielt9?setTimeout(d(A,this,null,y),0):A(null,y)},_tileOnError:function(A,y,P){var Y=this.options.errorTileUrl;Y&&y.getAttribute("src")!==Y&&(y.src=Y),A(P,y)},_onTileRemove:function(A){A.tile.onload=null},_getZoomForUrl:function(){var A=this._tileZoom,y=this.options.maxZoom,P=this.options.zoomReverse,Y=this.options.zoomOffset;return P&&(A=y-A),A+Y},_getSubdomain:function(A){var y=Math.abs(A.x+A.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var A,y;for(A in this._tiles)if(this._tiles[A].coords.z!==this._tileZoom&&(y=this._tiles[A].el,y.onload=m,y.onerror=m,!y.complete)){y.src=N;var P=this._tiles[A].coords;Ss(y),delete this._tiles[A],this.fire("tileabort",{tile:y,coords:P})}},_removeTile:function(A){var y=this._tiles[A];if(y)return y.el.setAttribute("src",N),wc.prototype._removeTile.call(this,A)},_tileReady:function(A,y,P){if(!(!this._map||P&&P.getAttribute("src")===N))return wc.prototype._tileReady.call(this,A,y,P)}});function Ma(A,y){return new Dl(A,y)}var ka=Dl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(A,y){this._url=A;var P=i({},this.defaultWmsParams);for(var Y in y)Y in this.options||(P[Y]=y[Y]);y=w(this,y);var de=y.detectRetina&&xn.retina?2:1,Se=this.getTileSize();P.width=Se.x*de,P.height=Se.y*de,this.wmsParams=P},onAdd:function(A){this._crs=this.options.crs||A.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,Dl.prototype.onAdd.call(this,A)},getTileUrl:function(A){var y=this._tileCoordsToNwSe(A),P=this._crs,Y=$(P.project(y[0]),P.project(y[1])),de=Y.min,Se=Y.max,Ze=(this._wmsVersion>=1.3&&this._crs===Xo?[de.y,de.x,Se.y,Se.x]:[de.x,de.y,Se.x,Se.y]).join(","),Et=Dl.prototype.getTileUrl.call(this,A);return Et+b(this.wmsParams,Et,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ze},setParams:function(A,y){return i(this.wmsParams,A),y||this.redraw(),this}});function ou(A,y){return new ka(A,y)}Dl.WMS=ka,Ma.wms=ou;var Qa=Jr.extend({options:{padding:.1},initialize:function(A){w(this,A),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),gr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var A={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(A.zoomanim=this._onAnimZoom),A},_onAnimZoom:function(A){this._updateTransform(A.center,A.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(A,y){var P=this._map.getZoomScale(y,this._zoom),Y=this._map.getSize().multiplyBy(.5+this.options.padding),de=this._map.project(this._center,y),Se=Y.multiplyBy(-P).add(de).subtract(this._map._getNewPixelOrigin(A,y));xn.any3d?Go(this._container,Se,P):fs(this._container,Se)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var A in this._layers)this._layers[A]._reset()},_onZoomEnd:function(){for(var A in this._layers)this._layers[A]._project()},_updatePaths:function(){for(var A in this._layers)this._layers[A]._update()},_update:function(){var A=this.options.padding,y=this._map.getSize(),P=this._map.containerPointToLayerPoint(y.multiplyBy(-A)).round();this._bounds=new he(P,P.add(y.multiplyBy(1+A*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_u=Qa.extend({options:{tolerance:0},getEvents:function(){var A=Qa.prototype.getEvents.call(this);return A.viewprereset=this._onViewPreReset,A},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var A=this._container=document.createElement("canvas");hn(A,"mousemove",this._onMouseMove,this),hn(A,"click dblclick mousedown mouseup contextmenu",this._onClick,this),hn(A,"mouseout",this._handleMouseOut,this),A._leaflet_disable_events=!0,this._ctx=A.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Ss(this._container),as(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var A;this._redrawBounds=null;for(var y in this._layers)A=this._layers[y],A._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qa.prototype._update.call(this);var A=this._bounds,y=this._container,P=A.getSize(),Y=xn.retina?2:1;fs(y,A.min),y.width=Y*P.x,y.height=Y*P.y,y.style.width=P.x+"px",y.style.height=P.y+"px",xn.retina&&this._ctx.scale(2,2),this._ctx.translate(-A.min.x,-A.min.y),this.fire("update")}},_reset:function(){Qa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(A){this._updateDashArray(A),this._layers[u(A)]=A;var y=A._order={layer:A,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(A){this._requestRedraw(A)},_removePath:function(A){var y=A._order,P=y.next,Y=y.prev;P?P.prev=Y:this._drawLast=Y,Y?Y.next=P:this._drawFirst=P,delete A._order,delete this._layers[u(A)],this._requestRedraw(A)},_updatePath:function(A){this._extendRedrawBounds(A),A._project(),A._update(),this._requestRedraw(A)},_updateStyle:function(A){this._updateDashArray(A),this._requestRedraw(A)},_updateDashArray:function(A){if(typeof A.options.dashArray=="string"){var y=A.options.dashArray.split(/[, ]+/),P=[],Y,de;for(de=0;de<y.length;de++){if(Y=Number(y[de]),isNaN(Y))return;P.push(Y)}A.options._dashArray=P}else A.options._dashArray=A.options.dashArray},_requestRedraw:function(A){this._map&&(this._extendRedrawBounds(A),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(A){if(A._pxBounds){var y=(A.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(A._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(A._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var A=this._redrawBounds;if(A){var y=A.getSize();this._ctx.clearRect(A.min.x,A.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var A,y=this._redrawBounds;if(this._ctx.save(),y){var P=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,P.x,P.y),this._ctx.clip()}this._drawing=!0;for(var Y=this._drawFirst;Y;Y=Y.next)A=Y.layer,(!y||A._pxBounds&&A._pxBounds.intersects(y))&&A._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(A,y){if(this._drawing){var P,Y,de,Se,Ze=A._parts,Et=Ze.length,Ut=this._ctx;if(Et){for(Ut.beginPath(),P=0;P<Et;P++){for(Y=0,de=Ze[P].length;Y<de;Y++)Se=Ze[P][Y],Ut[Y?"lineTo":"moveTo"](Se.x,Se.y);y&&Ut.closePath()}this._fillStroke(Ut,A)}}},_updateCircle:function(A){if(!(!this._drawing||A._empty())){var y=A._point,P=this._ctx,Y=Math.max(Math.round(A._radius),1),de=(Math.max(Math.round(A._radiusY),1)||Y)/Y;de!==1&&(P.save(),P.scale(1,de)),P.beginPath(),P.arc(y.x,y.y/de,Y,0,Math.PI*2,!1),de!==1&&P.restore(),this._fillStroke(P,A)}},_fillStroke:function(A,y){var P=y.options;P.fill&&(A.globalAlpha=P.fillOpacity,A.fillStyle=P.fillColor||P.color,A.fill(P.fillRule||"evenodd")),P.stroke&&P.weight!==0&&(A.setLineDash&&A.setLineDash(y.options&&y.options._dashArray||[]),A.globalAlpha=P.opacity,A.lineWidth=P.weight,A.strokeStyle=P.color,A.lineCap=P.lineCap,A.lineJoin=P.lineJoin,A.stroke())},_onClick:function(A){for(var y=this._map.mouseEventToLayerPoint(A),P,Y,de=this._drawFirst;de;de=de.next)P=de.layer,P.options.interactive&&P._containsPoint(y)&&(!(A.type==="click"||A.type==="preclick")||!this._map._draggableMoved(P))&&(Y=P);this._fireEvent(Y?[Y]:!1,A)},_onMouseMove:function(A){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(A);this._handleMouseHover(A,y)}},_handleMouseOut:function(A){var y=this._hoveredLayer;y&&(_s(this._container,"leaflet-interactive"),this._fireEvent([y],A,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(A,y){if(!this._mouseHoverThrottled){for(var P,Y,de=this._drawFirst;de;de=de.next)P=de.layer,P.options.interactive&&P._containsPoint(y)&&(Y=P);Y!==this._hoveredLayer&&(this._handleMouseOut(A),Y&&(gr(this._container,"leaflet-interactive"),this._fireEvent([Y],A,"mouseover"),this._hoveredLayer=Y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,A),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(A,y,P){this._map._fireDOMEvent(y,P||y.type,A)},_bringToFront:function(A){var y=A._order;if(y){var P=y.next,Y=y.prev;if(P)P.prev=Y;else return;Y?Y.next=P:P&&(this._drawFirst=P),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(A)}},_bringToBack:function(A){var y=A._order;if(y){var P=y.next,Y=y.prev;if(Y)Y.next=P;else return;P?P.prev=Y:Y&&(this._drawLast=Y),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(A)}}});function Fu(A){return xn.canvas?new _u(A):null}var sc=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(A){return document.createElement("<lvml:"+A+' class="lvml">')}}catch{}return function(A){return document.createElement("<"+A+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),au={_initContainer:function(){this._container=br("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qa.prototype._update.call(this),this.fire("update"))},_initPath:function(A){var y=A._container=sc("shape");gr(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",A._path=sc("path"),y.appendChild(A._path),this._updateStyle(A),this._layers[u(A)]=A},_addPath:function(A){var y=A._container;this._container.appendChild(y),A.options.interactive&&A.addInteractiveTarget(y)},_removePath:function(A){var y=A._container;Ss(y),A.removeInteractiveTarget(y),delete this._layers[u(A)]},_updateStyle:function(A){var y=A._stroke,P=A._fill,Y=A.options,de=A._container;de.stroked=!!Y.stroke,de.filled=!!Y.fill,Y.stroke?(y||(y=A._stroke=sc("stroke")),de.appendChild(y),y.weight=Y.weight+"px",y.color=Y.color,y.opacity=Y.opacity,Y.dashArray?y.dashStyle=B(Y.dashArray)?Y.dashArray.join(" "):Y.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=Y.lineCap.replace("butt","flat"),y.joinstyle=Y.lineJoin):y&&(de.removeChild(y),A._stroke=null),Y.fill?(P||(P=A._fill=sc("fill")),de.appendChild(P),P.color=Y.fillColor||Y.color,P.opacity=Y.fillOpacity):P&&(de.removeChild(P),A._fill=null)},_updateCircle:function(A){var y=A._point.round(),P=Math.round(A._radius),Y=Math.round(A._radiusY||P);this._setPath(A,A._empty()?"M0 0":"AL "+y.x+","+y.y+" "+P+","+Y+" 0,"+65535*360)},_setPath:function(A,y){A._path.v=y},_bringToFront:function(A){ks(A._container)},_bringToBack:function(A){$o(A._container)}},Hc=xn.vml?sc:Ee,Gl=Qa.extend({_initContainer:function(){this._container=Hc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ss(this._container),as(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qa.prototype._update.call(this);var A=this._bounds,y=A.getSize(),P=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,P.setAttribute("width",y.x),P.setAttribute("height",y.y)),fs(P,A.min),P.setAttribute("viewBox",[A.min.x,A.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(A){var y=A._path=Hc("path");A.options.className&&gr(y,A.options.className),A.options.interactive&&gr(y,"leaflet-interactive"),this._updateStyle(A),this._layers[u(A)]=A},_addPath:function(A){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(A._path),A.addInteractiveTarget(A._path)},_removePath:function(A){Ss(A._path),A.removeInteractiveTarget(A._path),delete this._layers[u(A)]},_updatePath:function(A){A._project(),A._update()},_updateStyle:function(A){var y=A._path,P=A.options;y&&(P.stroke?(y.setAttribute("stroke",P.color),y.setAttribute("stroke-opacity",P.opacity),y.setAttribute("stroke-width",P.weight),y.setAttribute("stroke-linecap",P.lineCap),y.setAttribute("stroke-linejoin",P.lineJoin),P.dashArray?y.setAttribute("stroke-dasharray",P.dashArray):y.removeAttribute("stroke-dasharray"),P.dashOffset?y.setAttribute("stroke-dashoffset",P.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),P.fill?(y.setAttribute("fill",P.fillColor||P.color),y.setAttribute("fill-opacity",P.fillOpacity),y.setAttribute("fill-rule",P.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(A,y){this._setPath(A,at(A._parts,y))},_updateCircle:function(A){var y=A._point,P=Math.max(Math.round(A._radius),1),Y=Math.max(Math.round(A._radiusY),1)||P,de="a"+P+","+Y+" 0 1,0 ",Se=A._empty()?"M0 0":"M"+(y.x-P)+","+y.y+de+P*2+",0 "+de+-P*2+",0 ";this._setPath(A,Se)},_setPath:function(A,y){A._path.setAttribute("d",y)},_bringToFront:function(A){ks(A._path)},_bringToBack:function(A){$o(A._path)}});xn.vml&&Gl.include(au);function Do(A){return xn.svg||xn.vml?new Gl(A):null}kn.include({getRenderer:function(A){var y=A.options.renderer||this._getPaneRenderer(A.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(A){if(A==="overlayPane"||A===void 0)return!1;var y=this._paneRenderers[A];return y===void 0&&(y=this._createRenderer({pane:A}),this._paneRenderers[A]=y),y},_createRenderer:function(A){return this.options.preferCanvas&&Fu(A)||Do(A)}});var vl=Co.extend({initialize:function(A,y){Co.prototype.initialize.call(this,this._boundsToLatLngs(A),y)},setBounds:function(A){return this.setLatLngs(this._boundsToLatLngs(A))},_boundsToLatLngs:function(A){return A=ee(A),[A.getSouthWest(),A.getNorthWest(),A.getNorthEast(),A.getSouthEast()]}});function wa(A,y){return new vl(A,y)}Gl.create=Hc,Gl.pointsToPath=at,Zs.geometryToLayer=ui,Zs.coordsToLatLng=bc,Zs.coordsToLatLngs=tc,Zs.latLngToCoords=sl,Zs.latLngsToCoords=Ll,Zs.getFeature=Zo,Zs.asFeature=ba,kn.mergeOptions({boxZoom:!0});var lu=He.extend({initialize:function(A){this._map=A,this._container=A._container,this._pane=A._panes.overlayPane,this._resetStateTimeout=0,A.on("unload",this._destroy,this)},addHooks:function(){hn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){as(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ss(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(A){if(!A.shiftKey||A.which!==1&&A.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ko(),Wo(),this._startPoint=this._map.mouseEventToContainerPoint(A),hn(document,{contextmenu:Fo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(A){this._moved||(this._moved=!0,this._box=br("div","leaflet-zoom-box",this._container),gr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(A);var y=new he(this._point,this._startPoint),P=y.getSize();fs(this._box,y.min),this._box.style.width=P.x+"px",this._box.style.height=P.y+"px"},_finish:function(){this._moved&&(Ss(this._box),_s(this._container,"leaflet-crosshair")),aa(),ec(),as(document,{contextmenu:Fo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(A){if(!(A.which!==1&&A.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var y=new M(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(A){A.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});kn.addInitHook("addHandler","boxZoom",lu),kn.mergeOptions({doubleClickZoom:!0});var Sa=He.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(A){var y=this._map,P=y.getZoom(),Y=y.options.zoomDelta,de=A.originalEvent.shiftKey?P-Y:P+Y;y.options.doubleClickZoom==="center"?y.setZoom(de):y.setZoomAround(A.containerPoint,de)}});kn.addInitHook("addHandler","doubleClickZoom",Sa),kn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Lu=He.extend({addHooks:function(){if(!this._draggable){var A=this._map;this._draggable=new Ht(A._mapPane,A._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),A.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),A.on("zoomend",this._onZoomEnd,this),A.whenReady(this._onZoomEnd,this))}gr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_s(this._map._container,"leaflet-grab"),_s(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var A=this._map;if(A._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=ee(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;A.fire("movestart").fire("dragstart"),A.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(A){if(this._map.options.inertia){var y=this._lastTime=+new Date,P=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(P),this._times.push(y),this._prunePositions(y)}this._map.fire("move",A).fire("drag",A)},_prunePositions:function(A){for(;this._positions.length>1&&A-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var A=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(A).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(A,y){return A-(A-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var A=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;A.x<y.min.x&&(A.x=this._viscousLimit(A.x,y.min.x)),A.y<y.min.y&&(A.y=this._viscousLimit(A.y,y.min.y)),A.x>y.max.x&&(A.x=this._viscousLimit(A.x,y.max.x)),A.y>y.max.y&&(A.y=this._viscousLimit(A.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(A)}},_onPreDragWrap:function(){var A=this._worldWidth,y=Math.round(A/2),P=this._initialWorldOffset,Y=this._draggable._newPos.x,de=(Y-y+P)%A+y-P,Se=(Y+y+P)%A-y-P,Ze=Math.abs(de+P)<Math.abs(Se+P)?de:Se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ze},_onDragEnd:function(A){var y=this._map,P=y.options,Y=!P.inertia||A.noInertia||this._times.length<2;if(y.fire("dragend",A),Y)y.fire("moveend");else{this._prunePositions(+new Date);var de=this._lastPos.subtract(this._positions[0]),Se=(this._lastTime-this._times[0])/1e3,Ze=P.easeLinearity,Et=de.multiplyBy(Ze/Se),Ut=Et.distanceTo([0,0]),sn=Math.min(P.inertiaMaxSpeed,Ut),Fn=Et.multiplyBy(sn/Ut),zn=sn/(P.inertiaDeceleration*Ze),cr=Fn.multiplyBy(-zn/2).round();!cr.x&&!cr.y?y.fire("moveend"):(cr=y._limitOffset(cr,y.options.maxBounds),V(function(){y.panBy(cr,{duration:zn,easeLinearity:Ze,noMoveStart:!0,animate:!0})}))}}});kn.addInitHook("addHandler","dragging",Lu),kn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vc=He.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(A){this._map=A,this._setPanDelta(A.options.keyboardPanDelta),this._setZoomDelta(A.options.zoomDelta)},addHooks:function(){var A=this._map._container;A.tabIndex<=0&&(A.tabIndex="0"),hn(A,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),as(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var A=document.body,y=document.documentElement,P=A.scrollTop||y.scrollTop,Y=A.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(Y,P)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(A){var y=this._panKeys={},P=this.keyCodes,Y,de;for(Y=0,de=P.left.length;Y<de;Y++)y[P.left[Y]]=[-1*A,0];for(Y=0,de=P.right.length;Y<de;Y++)y[P.right[Y]]=[A,0];for(Y=0,de=P.down.length;Y<de;Y++)y[P.down[Y]]=[0,A];for(Y=0,de=P.up.length;Y<de;Y++)y[P.up[Y]]=[0,-1*A]},_setZoomDelta:function(A){var y=this._zoomKeys={},P=this.keyCodes,Y,de;for(Y=0,de=P.zoomIn.length;Y<de;Y++)y[P.zoomIn[Y]]=A;for(Y=0,de=P.zoomOut.length;Y<de;Y++)y[P.zoomOut[Y]]=-A},_addHooks:function(){hn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){as(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(A){if(!(A.altKey||A.ctrlKey||A.metaKey)){var y=A.keyCode,P=this._map,Y;if(y in this._panKeys){if(!P._panAnim||!P._panAnim._inProgress)if(Y=this._panKeys[y],A.shiftKey&&(Y=oe(Y).multiplyBy(3)),P.options.maxBounds&&(Y=P._limitOffset(oe(Y),P.options.maxBounds)),P.options.worldCopyJump){var de=P.wrapLatLng(P.unproject(P.project(P.getCenter()).add(Y)));P.panTo(de)}else P.panBy(Y)}else if(y in this._zoomKeys)P.setZoom(P.getZoom()+(A.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&P._popup&&P._popup.options.closeOnEscapeKey)P.closePopup();else return;Fo(A)}}});kn.addInitHook("addHandler","keyboard",Vc),kn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xl=He.extend({addHooks:function(){hn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){as(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(A){var y=Nt(A),P=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(A),this._startTime||(this._startTime=+new Date);var Y=Math.max(P-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),Y),Fo(A)},_performZoom:function(){var A=this._map,y=A.getZoom(),P=this._map.options.zoomSnap||0;A._stop();var Y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),de=4*Math.log(2/(1+Math.exp(-Math.abs(Y))))/Math.LN2,Se=P?Math.ceil(de/P)*P:de,Ze=A._limitZoom(y+(this._delta>0?Se:-Se))-y;this._delta=0,this._startTime=null,Ze&&(A.options.scrollWheelZoom==="center"?A.setZoom(y+Ze):A.setZoomAround(this._lastMousePos,y+Ze))}});kn.addInitHook("addHandler","scrollWheelZoom",xl);var VA=600;kn.mergeOptions({tapHold:xn.touchNative&&xn.safari&&xn.mobile,tapTolerance:15});var Du=He.extend({addHooks:function(){hn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){as(this._map._container,"touchstart",this._onDown,this)},_onDown:function(A){if(clearTimeout(this._holdTimeout),A.touches.length===1){var y=A.touches[0];this._startPos=this._newPos=new W(y.clientX,y.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(hn(document,"touchend",zs),hn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),VA),hn(document,"touchend touchcancel contextmenu",this._cancel,this),hn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function A(){as(document,"touchend",zs),as(document,"touchend touchcancel",A)},_cancel:function(){clearTimeout(this._holdTimeout),as(document,"touchend touchcancel contextmenu",this._cancel,this),as(document,"touchmove",this._onMove,this)},_onMove:function(A){var y=A.touches[0];this._newPos=new W(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(A,y){var P=new MouseEvent(A,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});P._simulated=!0,y.target.dispatchEvent(P)}});kn.addInitHook("addHandler","tapHold",Du),kn.mergeOptions({touchZoom:xn.touch,bounceAtZoomLimits:!0});var Sc=He.extend({addHooks:function(){gr(this._map._container,"leaflet-touch-zoom"),hn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_s(this._map._container,"leaflet-touch-zoom"),as(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(A){var y=this._map;if(!(!A.touches||A.touches.length!==2||y._animatingZoom||this._zooming)){var P=y.mouseEventToContainerPoint(A.touches[0]),Y=y.mouseEventToContainerPoint(A.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(P.add(Y)._divideBy(2))),this._startDist=P.distanceTo(Y),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),hn(document,"touchmove",this._onTouchMove,this),hn(document,"touchend touchcancel",this._onTouchEnd,this),zs(A)}},_onTouchMove:function(A){if(!(!A.touches||A.touches.length!==2||!this._zooming)){var y=this._map,P=y.mouseEventToContainerPoint(A.touches[0]),Y=y.mouseEventToContainerPoint(A.touches[1]),de=P.distanceTo(Y)/this._startDist;if(this._zoom=y.getScaleZoom(de,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&de<1||this._zoom>y.getMaxZoom()&&de>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,de===1)return}else{var Se=P._add(Y)._divideBy(2)._subtract(this._centerPoint);if(de===1&&Se.x===0&&Se.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(Se),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var Ze=d(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(Ze,this,!0),zs(A)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),as(document,"touchmove",this._onTouchMove,this),as(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});kn.addInitHook("addHandler","touchZoom",Sc),kn.BoxZoom=lu,kn.DoubleClickZoom=Sa,kn.Drag=Lu,kn.Keyboard=Vc,kn.ScrollWheelZoom=xl,kn.TapHold=Du,kn.TouchZoom=Sc,r.Bounds=he,r.Browser=xn,r.CRS=De,r.Canvas=_u,r.Circle=Vl,r.CircleMarker=pl,r.Class=ae,r.Control=Sr,r.DivIcon=iA,r.DivOverlay=Ua,r.DomEvent=un,r.DomUtil=la,r.Draggable=Ht,r.Evented=G,r.FeatureGroup=ri,r.GeoJSON=Zs,r.GridLayer=wc,r.Handler=He,r.Icon=Na,r.ImageOverlay=Ji,r.LatLng=re,r.LatLngBounds=M,r.Layer=Jr,r.LayerGroup=yr,r.LineUtil=qt,r.Map=kn,r.Marker=ja,r.Mixin=tt,r.Path=Xi,r.Point=W,r.PolyUtil=Cr,r.Polygon=Co,r.Polyline=Oa,r.Popup=rc,r.PosAnimation=tr,r.Projection=wn,r.Rectangle=vl,r.Renderer=Qa,r.SVG=Gl,r.SVGOverlay=us,r.TileLayer=Dl,r.Tooltip=sA,r.Transformation=rt,r.Util=le,r.VideoOverlay=Hs,r.bind=d,r.bounds=$,r.canvas=Fu,r.circle=zc,r.circleMarker=Hl,r.control=mi,r.divIcon=HA,r.extend=i,r.featureGroup=Xr,r.geoJSON=nc,r.geoJson=ml,r.gridLayer=gl,r.icon=Fi,r.imageOverlay=cs,r.latLng=me,r.latLngBounds=ee,r.layerGroup=vi,r.map=wr,r.marker=Zr,r.point=oe,r.polygon=Xs,r.polyline=Zi,r.popup=iu,r.rectangle=wa,r.setOptions=w,r.stamp=u,r.svg=Do,r.svgOverlay=$l,r.tileLayer=Ma,r.tooltip=Fd,r.transformation=et,r.version=s,r.videoOverlay=eo;var Cc=window.L;r.noConflict=function(){return window.L=Cc,this},window.L=r}))})(ov,ov.exports)),ov.exports}var Qg=Pae();const zg=qv(Qg);function T1(t,n,r){return Object.freeze({instance:t,context:n,container:r})}function I1(t,n){return n==null?function(s,i){const l=T.useRef(void 0);return l.current||(l.current=t(s,i)),l}:function(s,i){const l=T.useRef(void 0);l.current||(l.current=t(s,i));const d=T.useRef(s),{instance:f}=l.current;return T.useEffect(function(){d.current!==s&&(n(f,s,d.current),d.current=s)},[f,s,n]),l}}function HR(t,n){T.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function VR(t){return function(r){const s=B1(),i=t(E1(r,s),s);return kR(s.map,r.attribution),_B(i.current,r.eventHandlers),HR(i.current,s),i}}function Rae(t,n){const r=T.useRef(void 0);T.useEffect(function(){if(n.pathOptions!==r.current){const i=n.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,n])}function Nae(t){return function(r){const s=B1(),i=t(E1(r,s),s);return _B(i.current,r.eventHandlers),HR(i.current,s),Rae(i.current,r),i}}function Oae(t,n){const r=I1(t,n),s=VR(r);return zR(s)}function Uae(t,n){const r=I1(t),s=Lae(r,n);return _ae(s)}function Mae(t,n){const r=I1(t,n),s=Nae(r);return zR(s)}function kae(t,n){const r=I1(t,n),s=VR(r);return Fae(s)}function Qae(t,n,r){const{opacity:s,zIndex:i}=n;s!=null&&s!==r.opacity&&t.setOpacity(s),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function zae(){return B1().map}function Hae({bounds:t,boundsOptions:n,center:r,children:s,className:i,id:l,placeholder:d,style:f,whenReady:u,zoom:h,...a},m){const[v]=T.useState({className:i,id:l,style:f}),[g,x]=T.useState(null),w=T.useRef(void 0);T.useImperativeHandle(m,()=>g?.map??null,[g]);const b=T.useCallback(C=>{if(C!==null&&!w.current){const B=new Qg.Map(C,a);w.current=B,r!=null&&h!=null?B.setView(r,h):t!=null&&B.fitBounds(t,n),u!=null&&B.whenReady(u),x(Iae(B))}},[]);T.useEffect(()=>()=>{g?.map.remove()},[g]);const S=g?xs.createElement(IB,{value:g},s):d??null;return xs.createElement("div",{...v,ref:b},S)}const Vae=T.forwardRef(Hae),$ae=Oae(function({position:n,...r},s){const i=new Qg.Marker(n,r);return T1(i,QR(s,{overlayContainer:i}))},function(n,r,s){r.position!==s.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==s.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==s.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==s.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==s.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),c3=Mae(function({positions:n,...r},s){const i=new Qg.Polyline(n,r);return T1(i,QR(s,{overlayContainer:i}))},function(n,r,s){r.positions!==s.positions&&n.setLatLngs(r.positions)}),Gae=Uae(function(n,r){const s=new Qg.Popup(n,r.overlayContainer);return T1(s,r)},function(n,r,{position:s},i){T.useEffect(function(){const{instance:d}=n;function f(h){h.popup===d&&(d.update(),i(!0))}function u(h){h.popup===d&&i(!1)}return r.map.on({popupopen:f,popupclose:u}),r.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){r.map.off({popupopen:f,popupclose:u}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(d)}},[n,r,i,s])}),Kae=kae(function({url:n,...r},s){const i=new Qg.TileLayer(n,E1(r,s));return T1(i,s)},function(n,r,s){Qae(n,r,s);const{url:i}=r;i!=null&&i!==s.url&&n.setUrl(i)});delete zg.Icon.Default.prototype._getIconUrl;zg.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const Wae=zg.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),Yae=zg.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),Xae=zg.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]});function Zae({waypoints:t}){const n=zae();return T.useEffect(()=>{if(t&&t.length>0){const r=t.map(i=>[i.lat,i.lng]),s=zg.latLngBounds(r);n.fitBounds(s,{padding:[50,50]})}},[t,n]),null}function qae({route:t}){const[n,r]=T.useState(null),[s,i]=T.useState(!0),[l,d]=T.useState(null);if(!t||!t.waypoints||t.waypoints.length===0)return e.jsx(Re,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",color:"gray.500",children:"Pas de waypoints  afficher"});const f=t.waypoints.sort((u,h)=>u.order-h.order);return T.useEffect(()=>{(async()=>{try{i(!0);const a=f.map(x=>[x.lng,x.lat]).map(x=>x.join(",")).join(";"),v=await fetch(`https://router.project-osrm.org/route/v1/driving/${a}?overview=full&geometries=geojson`,{method:"GET",headers:{Accept:"application/json"}});if(!v.ok)throw new Error("Erreur calcul route");const g=await v.json();if(g.routes&&g.routes.length>0){const w=g.routes[0].geometry.coordinates.map(b=>[b[1],b[0]]);r(w)}}catch(h){console.error("Route calculation error:",h),d(h.message),r(f.map(a=>[a.lat,a.lng]))}finally{i(!1)}})()},[f]),e.jsxs(Re,{borderRadius:"md",overflow:"hidden",boxShadow:"md",h:"500px",position:"relative",children:[s&&e.jsx(is,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"rgba(255,255,255,0.8)",zIndex:1e3,children:e.jsxs(Be,{spacing:2,children:[e.jsx(Kr,{color:"purple.500",size:"lg"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Calcul de l'itinraire rel..."})]})}),e.jsxs(Vae,{center:[f[0].lat,f[0].lng],zoom:10,style:{height:"100%",width:"100%"},children:[e.jsx(Kae,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n&&!l&&e.jsx(c3,{positions:n,color:"purple",weight:5,opacity:.9,dashArray:"0"}),l&&e.jsx(c3,{positions:f.map(u=>[u.lat,u.lng]),color:"red",weight:3,opacity:.6,dashArray:"5, 5"}),f.map((u,h)=>e.jsx($ae,{position:[u.lat,u.lng],icon:h===0?Wae:h===f.length-1?Yae:Xae,children:e.jsx(Gae,{children:e.jsxs("div",{style:{fontSize:"12px",minWidth:"180px"},children:[e.jsx("strong",{children:u.name}),e.jsx("br",{}),"Lat: ",u.lat.toFixed(4),", Lng: ",u.lng.toFixed(4),e.jsx("br",{}),u.stopTime>0&&e.jsxs("span",{children:["Arrt: ",u.stopTime," min",e.jsx("br",{})]}),e.jsxs("small",{children:["Point ",h+1,"/",f.length]}),t.maxLength&&e.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #ccc"},children:[e.jsx("strong",{children:"Restrictions:"}),e.jsx("br",{}),t.maxLength&&e.jsxs("small",{children:["Long: ",t.maxLength,"m"]}),t.maxHeight&&e.jsxs("small",{children:[" | H: ",t.maxHeight,"m"]}),t.maxWeight&&e.jsxs("small",{children:[" | P: ",t.maxWeight,"t"]})]})]})})},u.order)),e.jsx(Zae,{waypoints:f})]})]})}function Jae(){const{isOpen:t,onOpen:n,onClose:r}=er(),s=Hr(),[i,l]=T.useState([]),[d,f]=T.useState(!1),[u,h]=T.useState("routes"),[a,m]=T.useState(null),[v,g]=T.useState({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),[x,w]=T.useState({name:"",lat:"",lng:"",stopTime:0}),b="http://localhost:3001";T.useEffect(()=>{t&&S()},[t]);const S=async()=>{f(!0);try{const z=await fetch(`${b}/routes`);if(!z.ok)throw new Error("Erreur chargement");const k=await z.json();l(k)}catch(z){s({title:"Erreur",description:z.message,status:"error"})}finally{f(!1)}},C=()=>{if(!x.name||!x.lat||!x.lng){s({title:"Erreur",description:"Remplissez tous les champs",status:"error"});return}g(z=>({...z,waypoints:[...z.waypoints,{...x,lat:parseFloat(x.lat),lng:parseFloat(x.lng),stopTime:parseInt(x.stopTime||0),order:z.waypoints.length}]})),w({name:"",lat:"",lng:"",stopTime:0})},B=z=>{g(k=>({...k,waypoints:k.waypoints.filter((K,se)=>se!==z)}))},F=async()=>{if(!v.name||v.waypoints.length<2){s({title:"Erreur",description:"Nom + 2+ waypoints requis",status:"error"});return}try{if(!(await fetch(`${b}/routes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok)throw new Error("Erreur cration");s({title:"Succs",description:"Itinraire cr!",status:"success"}),g({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),h("routes"),S()}catch(z){s({title:"Erreur",description:z.message,status:"error"})}},N=async z=>{if(window.confirm("Confirmer suppression?"))try{if(!(await fetch(`${b}/routes/${z}`,{method:"DELETE"})).ok)throw new Error("Erreur");s({title:"Supprime",status:"success"}),S()}catch(k){s({title:"Erreur",description:k.message,status:"error"})}},Q=z=>{const k=z.totalDistance||0,K=z.estimatedTime||0,se=Math.floor(K/60),V=K%60;return{distance:k,time:`${se}h${V}m`}};return e.jsxs(e.Fragment,{children:[e.jsx(Ie,{onClick:n,leftIcon:e.jsx(hf,{}),colorScheme:"purple",size:"md",w:"100%",children:" RtroGPS - Traage d'itinraires"}),e.jsxs(Hn,{isOpen:t,onClose:r,size:"5xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",display:"flex",flexDirection:"column",children:[e.jsx($n,{children:e.jsxs(Te,{spacing:3,children:[e.jsx(ws,{as:hf,color:"purple.500",boxSize:6}),e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",children:"RtroGPS - Gestion des itinraires"}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Crez et tracez les tournes"})]})]})}),e.jsx(fr,{}),e.jsx(Vn,{overflow:"auto",flex:1,pb:4,children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Te,{spacing:0,borderBottom:"2px solid",borderColor:"gray.200",children:[e.jsxs(Ie,{variant:u==="routes"?"solid":"ghost",colorScheme:u==="routes"?"purple":"gray",onClick:()=>h("routes"),leftIcon:e.jsx(hf,{}),children:["Itinraires (",i.length,")"]}),e.jsx(Ie,{variant:u==="create"?"solid":"ghost",colorScheme:u==="create"?"green":"gray",onClick:()=>h("create"),leftIcon:e.jsx(Bs,{}),children:"Crer"})]}),u==="routes"&&e.jsx(Be,{spacing:4,align:"stretch",children:d?e.jsx(is,{p:8,children:e.jsx(Kr,{})}):i.length===0?e.jsx(is,{p:8,bg:"gray.50",borderRadius:"md",children:e.jsx(Z,{color:"gray.500",children:"Aucun itinraire cr"})}):e.jsxs(Is,{size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.100",children:[e.jsx(At,{children:"Nom"}),e.jsx(At,{children:"Distance"}),e.jsx(At,{children:"Temps"}),e.jsx(At,{children:"Points"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:i.map(z=>{const k=Q(z);return e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontWeight:"bold",children:z.name}),e.jsxs(lt,{children:[k.distance," km"]}),e.jsx(lt,{children:k.time}),e.jsx(lt,{textAlign:"center",children:z.waypoints?.length||0}),e.jsx(lt,{children:e.jsxs(Te,{spacing:1,children:[e.jsx(Jl,{label:"Dtails",children:e.jsx(Pn,{icon:e.jsx(lh,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>m(z)})}),e.jsx(Jl,{label:"Supprimer",children:e.jsx(Pn,{icon:e.jsx(oi,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>N(z.id)})})]})})]},z.id)})})]})}),u==="create"&&e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Nom de l'itinraire"}),e.jsx(Xe,{placeholder:"ex: Tourne Essonne Sud",value:v.name,onChange:z=>g(k=>({...k,name:z.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{placeholder:"Dtails du parcours...",value:v.description,onChange:z=>g(k=>({...k,description:z.target.value})),rows:2})]}),e.jsxs(Sn,{columns:3,gap:3,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Longueur max (m)"}),e.jsx(gs,{value:v.maxLength||"",onChange:z=>g(k=>({...k,maxLength:z?parseFloat(z):null})),children:e.jsx(vs,{placeholder:"12.5"})})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Hauteur max (m)"}),e.jsx(gs,{value:v.maxHeight||"",onChange:z=>g(k=>({...k,maxHeight:z?parseFloat(z):null})),children:e.jsx(vs,{placeholder:"3.8"})})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Poids max (t)"}),e.jsx(gs,{value:v.maxWeight||"",onChange:z=>g(k=>({...k,maxWeight:z?parseFloat(z):null})),children:e.jsx(vs,{placeholder:"13"})})]})]}),e.jsx(ds,{}),e.jsx(ht,{size:"sm",children:" Points de passage"}),e.jsxs(Te,{spacing:2,align:"flex-end",children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Nom"}),e.jsx(Xe,{placeholder:"ex: Dpart",value:x.name,onChange:z=>w(k=>({...k,name:z.target.value})),size:"sm"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Lat"}),e.jsx(Xe,{placeholder:"48.8566",value:x.lat,onChange:z=>w(k=>({...k,lat:z.target.value})),size:"sm"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Lng"}),e.jsx(Xe,{placeholder:"2.3522",value:x.lng,onChange:z=>w(k=>({...k,lng:z.target.value})),size:"sm"})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"sm",children:"Arrt (min)"}),e.jsx(gs,{value:x.stopTime,onChange:z=>w(k=>({...k,stopTime:z})),size:"sm",children:e.jsx(vs,{})})]}),e.jsx(Ie,{onClick:C,colorScheme:"green",size:"sm",leftIcon:e.jsx(Bs,{}),children:"Ajouter"})]}),v.waypoints.length>0&&e.jsxs(Re,{p:3,bg:"gray.50",borderRadius:"md",maxH:"200px",overflow:"auto",children:[e.jsxs(Z,{fontWeight:"bold",mb:2,children:["Waypoints (",v.waypoints.length,"):"]}),v.waypoints.map((z,k)=>e.jsxs(Te,{p:2,bg:"white",borderRadius:"md",mb:1,justify:"space-between",children:[e.jsxs(Z,{fontSize:"sm",children:[k+1,". ",e.jsx("strong",{children:z.name})," - ",z.lat.toFixed(4),", ",z.lng.toFixed(4)," (+",z.stopTime,"min)"]}),e.jsx(Ie,{size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>B(k),children:""})]},k))]}),e.jsx(Ie,{colorScheme:"purple",size:"lg",w:"100%",onClick:F,isDisabled:!v.name||v.waypoints.length<2,children:" Crer l'itinraire"})]}),a&&e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Re,{p:4,bg:"blue.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"blue.500",children:[e.jsxs(Te,{justify:"space-between",mb:3,children:[e.jsx(ht,{size:"md",children:a.name}),e.jsx(Ie,{size:"sm",variant:"ghost",onClick:()=>m(null),children:""})]}),e.jsxs(Be,{align:"start",spacing:2,fontSize:"sm",children:[e.jsxs(Z,{children:[e.jsx("strong",{children:"Description:"})," ",a.description||"N/A"]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Points:"})," ",a.waypoints?.length||0]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Distance:"})," ",Q(a).distance," km"]}),e.jsxs(Z,{children:[e.jsx("strong",{children:"Temps:"})," ",Q(a).time]}),a.maxLength&&e.jsxs(Xt,{children:["L max: ",a.maxLength,"m"]}),a.maxHeight&&e.jsxs(Xt,{children:["H max: ",a.maxHeight,"m"]}),a.maxWeight&&e.jsxs(Xt,{children:["P max: ",a.maxWeight,"t"]})]})]}),e.jsxs(Re,{children:[e.jsxs(Te,{spacing:2,mb:3,children:[e.jsx(ws,{as:Are,color:"purple.500"}),e.jsx(ht,{size:"sm",children:"Visualisation de l'itinraire"})]}),e.jsx(qae,{route:a})]}),e.jsx(Ie,{colorScheme:"gray",size:"sm",w:"100%",onClick:()=>m(null),children:"Fermer la vue dtails"})]})]})}),e.jsx(pr,{children:e.jsx(Ie,{colorScheme:"gray",variant:"outline",onClick:r,children:"Fermer"})})]})]})]})}function ele(){const[t,n]=T.useState(0);Os("gray.50","gray.900");const r=()=>e.jsx(Re,{children:e.jsxs(Eu,{index:t,onChange:n,variant:"enclosed",colorScheme:"green",children:[e.jsxs(Tu,{borderBottom:"2px solid",borderColor:"green.200",children:[e.jsx($r,{_selected:{color:"white",bg:"green.500"},children:e.jsxs(Te,{spacing:2,children:[e.jsx(xc,{}),e.jsx("span",{children:"Gestion des vnements"})]})}),e.jsx($r,{_selected:{color:"white",bg:"teal.500"},children:e.jsxs(Te,{spacing:2,children:[e.jsx(gp,{}),e.jsx("span",{children:"Planification"})]})}),e.jsx($r,{_selected:{color:"white",bg:"purple.500"},children:e.jsxs(Te,{spacing:2,children:[e.jsx(hf,{}),e.jsx("span",{children:"RtroGPS"})]})})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{p:0,pt:6,children:e.jsx(Eae,{})}),e.jsx(Gr,{children:e.jsx(Be,{spacing:6,align:"stretch",children:e.jsxs(Re,{p:6,bg:"teal.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"teal.500",children:[e.jsx(ht,{size:"md",mb:2,children:" Vue Calendrier"}),e.jsx("p",{children:"Bientt disponible : calendrier interactif de vos tournes et vnements."})]})})}),e.jsx(Gr,{children:e.jsx(Be,{spacing:6,align:"stretch",children:e.jsx(Jae,{})})})]})]})});return e.jsx(Xp,{title:"Gestion des vnements",subtitle:"Crez, planifiez et suivez les tournes RtroBus",sections:[{id:"events",label:"vnements",icon:xc,render:r}],defaultSectionId:"events",sidebarTitle:"vnements",sidebarSubtitle:"Organisation & planning",sidebarTitleIcon:xc,versionLabel:"Events v2"})}const tle=({value:t,onChange:n,isRequired:r=!1})=>{const[s,i]=T.useState([]),[l,d]=T.useState(!0);T.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("token"),a=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/vehicles",{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(a.ok){const m=await a.json();i(m)}}catch(h){console.error("Erreur lors du chargement des vhicules:",h)}finally{d(!1)}})()},[]);const f=s.find(u=>u.parc===t);return e.jsxs(Re,{children:[e.jsxs(je,{children:["Vhicule participant ",r&&e.jsx(Z,{as:"span",color:"red.500",children:"*"})]}),l?e.jsxs(Ri,{align:"center",justify:"center",py:4,children:[e.jsx(Kr,{size:"sm",mr:2}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Chargement des vhicules..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{placeholder:"Slectionner un vhicule (optionnel)",value:t,onChange:u=>n(u.target.value),bg:"white",children:s.map(u=>e.jsxs("option",{value:u.parc,children:[u.marque," ",u.modele," - ",u.parc,u.immat&&` (${u.immat})`]},u.parc))}),f&&e.jsxs(Re,{mt:3,p:3,bg:"blue.50",borderRadius:"md",border:"1px solid",borderColor:"blue.200",children:[e.jsxs(Ri,{align:"center",children:[f.gallery&&f.gallery[0]&&e.jsx(Cu,{src:`https://refreshing-adaptation-rbe-serveurs.up.railway.app${f.gallery[0]}`,alt:`${f.marque} ${f.modele}`,boxSize:"60px",objectFit:"cover",borderRadius:"md",mr:3}),e.jsxs(Re,{flex:1,children:[e.jsxs(Z,{fontWeight:"bold",color:"blue.700",children:[f.marque," ",f.modele]}),e.jsxs(Te,{spacing:2,mt:1,children:[e.jsx(Xt,{colorScheme:"blue",fontSize:"xs",children:f.parc}),f.immat&&e.jsx(Xt,{colorScheme:"green",fontSize:"xs",children:f.immat}),f.miseEnCirculation&&e.jsx(Xt,{colorScheme:"orange",fontSize:"xs",children:new Date(f.miseEnCirculation).getFullYear()})]}),f.subtitle&&e.jsx(Z,{fontSize:"sm",color:"gray.600",mt:1,children:f.subtitle})]})]}),e.jsxs(Be,{spacing:2,align:"start",mt:3,children:[e.jsx(Z,{fontSize:"xs",color:"blue.600",fontStyle:"italic",fontWeight:"semibold",children:" Ce vhicule sera mis en avant sur sa page individuelle avec une banderole spciale pour cet vnement"}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"Les visiteurs verront une banderole thmatique adapte au type d'vnement sur la page de ce vhicule."})]})]})]}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:2,children:"Slectionnez un vhicule pour qu'il soit associ  cet vnement. Une banderole apparatra sur sa page pour informer les visiteurs de sa participation."})]})},zw={public_info_only:{name:"Information publique",color:"blue",description:"vnement d'information sans inscription",defaults:{isVisible:!0,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"public_info_only"}},paid_event:{name:"vnement payant",color:"green",description:"vnement avec tarifs et inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!1,registrationMethod:"helloasso",eventType:"paid_event"}},free_registration:{name:"Inscription gratuite",color:"purple",description:"vnement gratuit avec inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!0,registrationMethod:"internal",eventType:"free_registration"}},internal_only:{name:"vnement interne",color:"orange",description:"vnement rserv aux membres",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"internal_only"}},maintenance:{name:"Maintenance/Atelier",color:"red",description:"Activit de maintenance ou atelier technique",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"maintenance"}}};function nle(){const[t,n]=T.useState([]),[r,s]=T.useState([]),[i,l]=T.useState(!0),[d,f]=T.useState(!1),[u,h]=T.useState("cards"),[a,m]=T.useState(""),{isOpen:v,onOpen:g,onClose:x}=er(),[w,b]=T.useState(null),[S,C]=T.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),B=Hr(),F=T.useCallback(async()=>{try{l(!0);const ie=await Wu.getAll();n(Array.isArray(ie)?ie:[])}catch(ie){console.error(ie),B({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements"}),n([])}finally{l(!1)}},[B]),N=T.useCallback(async()=>{try{const ie=await wv.getAll();s(Array.isArray(ie)?ie:[])}catch(ie){console.error(ie),s([])}},[]);T.useEffect(()=>{F(),N()},[F,N]);const Q=()=>{C({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),m(""),b(null)},z=ie=>{const J=zw[ie];J&&(C(G=>({...G,...J.defaults,eventType:ie})),m(ie),B({status:"info",title:"Template appliqu",description:J.description}))},k=()=>{b(null),Q(),g()},K=ie=>{b(ie);let J={};try{J=ie.extras?JSON.parse(ie.extras):{}}catch(G){console.log("Impossible de parser extras:",G)}C({title:ie.title||"",date:ie.date?ie.date.split("T")[0]:"",time:ie.time||"",location:ie.location||"",description:ie.description||"",adultPrice:ie.adultPrice?ie.adultPrice.toString():"",childPrice:ie.childPrice?ie.childPrice.toString():"",helloAssoUrl:ie.helloAssoUrl||"",vehicleId:ie.vehicleId||"",status:ie.status||"DRAFT",isVisible:J.isVisible!==void 0?J.isVisible:!0,allowPublicRegistration:J.allowPublicRegistration||!1,requiresRegistration:J.requiresRegistration||!1,isFree:J.isFree!==void 0?J.isFree:!0,maxParticipants:J.maxParticipants?J.maxParticipants.toString():"",registrationDeadline:J.registrationDeadline||"",registrationMethod:J.registrationMethod||"none",pdfUrl:J.pdfUrl||"",eventType:J.eventType||"public_info_only"}),m(J.eventType||""),g()},se=async()=>{if(!S.title.trim()||!S.date){B({status:"error",title:"Champs requis",description:"Le titre et la date sont obligatoires"});return}try{f(!0);const ie={title:S.title.trim(),date:S.date,time:S.time||null,location:S.location.trim()||null,description:S.description.trim()||null,adultPrice:S.adultPrice?parseFloat(S.adultPrice):null,childPrice:S.childPrice?parseFloat(S.childPrice):null,helloAssoUrl:S.helloAssoUrl.trim()||null,vehicleId:S.vehicleId||null,status:S.status,extras:JSON.stringify({isVisible:S.isVisible,allowPublicRegistration:S.allowPublicRegistration,requiresRegistration:S.requiresRegistration,isFree:S.isFree,maxParticipants:S.maxParticipants?parseInt(S.maxParticipants):null,registrationDeadline:S.registrationDeadline||null,registrationMethod:S.registrationMethod,pdfUrl:S.pdfUrl||null,eventType:S.eventType})};if(w)await Wu.update(w.id,ie),B({status:"success",title:"vnement modifi",description:"Les modifications ont t sauvegardes"});else{const J=S.title.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"").substring(0,20)+new Date().getFullYear();await Wu.create({id:J,...ie}),B({status:"success",title:"vnement cr",description:"Le nouvel vnement a t cr avec succs"})}F(),x(),Q()}catch(ie){console.error(ie),B({status:"error",title:"Erreur de sauvegarde",description:"Impossible de sauvegarder l'vnement"})}finally{f(!1)}},V=async()=>{const ie=localStorage.getItem("token");if(console.log(" Testing API connection..."),!ie){B({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const J=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`}});J.ok?B({status:"success",title:"API fonctionnelle",description:"La connexion API fonctionne"}):B({status:"error",title:"Erreur API",description:`Status: ${J.status}`})}catch(J){B({status:"error",title:"Erreur rseau",description:J.message})}},q=ie=>{const J={DRAFT:{colorScheme:"gray",label:"Brouillon"},PUBLISHED:{colorScheme:"green",label:"Publi"},ARCHIVED:{colorScheme:"orange",label:"Archiv"}},G=J[ie]||J.DRAFT;return e.jsx(Xt,{colorScheme:G.colorScheme,children:G.label})},le=ie=>{const J=typeof ie.extras=="string"?JSON.parse(ie.extras||"{}"):ie.extras||{},G=zw[J.eventType];return G?e.jsx(Xt,{colorScheme:G.color,variant:"outline",children:G.name}):null},ae=ie=>{const J=r.find(G=>G.parc===ie);return J?`${J.parc} - ${J.modele}`:"Aucun vhicule"};return e.jsxs(Re,{p:6,children:[e.jsxs(Ri,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{children:" Cration des vnements"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(Te,{spacing:3,children:[e.jsx(Ie,{leftIcon:e.jsx(ru,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:V,children:"Tester API"}),e.jsx(Ie,{leftIcon:u==="cards"?e.jsx(TP,{}):e.jsx(wB,{}),size:"sm",variant:"outline",onClick:()=>h(u==="cards"?"table":"cards"),children:u==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:k,children:"Nouvel vnement"})]})]}),i?e.jsx(is,{py:20,children:e.jsx(Kr,{size:"xl"})}):t.length===0?e.jsx(is,{py:20,children:e.jsxs(Be,{spacing:4,children:[e.jsx(Z,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:k,children:"Crer le premier vnement"})]})}):e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(ie=>e.jsxs(St,{shadow:"md",position:"relative",children:[e.jsx(Qn,{pb:2,children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsx(Te,{justify:"space-between",w:"100%",children:e.jsx(ht,{size:"md",noOfLines:2,flex:1,children:ie.title})}),e.jsxs(Te,{spacing:2,wrap:"wrap",children:[q(ie.status),le(ie)]})]})}),e.jsx(bt,{pt:0,children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsxs(Te,{children:[e.jsx(xc,{}),e.jsxs(Z,{fontSize:"sm",children:[ie.date," ",ie.time&&` ${ie.time}`]})]}),ie.location&&e.jsxs(Te,{children:[e.jsx(hf,{}),e.jsx(Z,{fontSize:"sm",children:ie.location})]}),ie.vehicleId&&e.jsxs(Te,{children:[e.jsx(Z,{fontSize:"sm",children:""}),e.jsx(Z,{fontSize:"sm",fontWeight:"semibold",color:"blue.600",children:ae(ie.vehicleId)})]}),ie.description&&e.jsx(Z,{fontSize:"sm",color:"gray.600",noOfLines:3,children:ie.description}),e.jsx(Ie,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>K(ie),w:"100%",children:"Modifier"})]})})]},ie.id))}),e.jsxs(Hn,{isOpen:v,onClose:x,size:"6xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:w?"Modifier l'vnement":"Crer un nouvel vnement"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Eu,{children:[e.jsxs(Tu,{children:[e.jsx($r,{children:"Informations de base"}),e.jsx($r,{children:"Configuration"}),e.jsx($r,{children:"Inscription & Prix"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:2,children:"Dmarrage rapide :"}),e.jsx(Te,{spacing:2,wrap:"wrap",children:Object.entries(zw).map(([ie,J])=>e.jsx(Ie,{size:"sm",colorScheme:J.color,variant:a===ie?"solid":"outline",onClick:()=>z(ie),children:J.name},ie))})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Titre"}),e.jsx(Xe,{value:S.title,onChange:ie=>C(J=>({...J,title:ie.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(Te,{w:"100%",spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Date"}),e.jsx(Xe,{type:"date",value:S.date,onChange:ie=>C(J=>({...J,date:ie.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure"}),e.jsx(Xe,{type:"time",value:S.time,onChange:ie=>C(J=>({...J,time:ie.target.value}))})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Lieu"}),e.jsx(Xe,{value:S.location,onChange:ie=>C(J=>({...J,location:ie.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Vhicule assign"}),e.jsx(tle,{vehicles:r,value:S.vehicleId,onChange:ie=>C(J=>({...J,vehicleId:ie}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:S.description,onChange:ie=>C(J=>({...J,description:ie.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Statut"}),e.jsxs(gn,{value:S.status,onChange:ie=>C(J=>({...J,status:ie.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"}),e.jsx("option",{value:"ARCHIVED",children:"Archiv"})]})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:"0",children:"Visible sur le site public"}),e.jsx(vo,{isChecked:S.isVisible,onChange:ie=>C(J=>({...J,isVisible:ie.target.checked}))})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:"0",children:"Inscription requise"}),e.jsx(vo,{isChecked:S.requiresRegistration,onChange:ie=>C(J=>({...J,requiresRegistration:ie.target.checked}))})]}),S.requiresRegistration&&e.jsxs(be,{children:[e.jsx(je,{children:"Mthode d'inscription"}),e.jsxs(gn,{value:S.registrationMethod,onChange:ie=>C(J=>({...J,registrationMethod:ie.target.value})),children:[e.jsx("option",{value:"none",children:"Aucune"}),e.jsx("option",{value:"helloasso",children:"HelloAsso"}),e.jsx("option",{value:"pdf",children:"Formulaire PDF"}),e.jsx("option",{value:"internal",children:"Systme interne"})]})]})]})}),e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:"0",children:"vnement gratuit"}),e.jsx(vo,{isChecked:S.isFree,onChange:ie=>C(J=>({...J,isFree:ie.target.checked}))})]}),!S.isFree&&e.jsxs(Te,{w:"100%",spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Prix adulte ()"}),e.jsx(Xe,{type:"number",step:"0.01",value:S.adultPrice,onChange:ie=>C(J=>({...J,adultPrice:ie.target.value})),placeholder:"0.00"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prix enfant ()"}),e.jsx(Xe,{type:"number",step:"0.01",value:S.childPrice,onChange:ie=>C(J=>({...J,childPrice:ie.target.value})),placeholder:"0.00"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Nombre maximum de participants"}),e.jsx(Xe,{type:"number",value:S.maxParticipants,onChange:ie=>C(J=>({...J,maxParticipants:ie.target.value})),placeholder:"Illimit"})]}),S.registrationMethod==="helloasso"&&e.jsxs(be,{children:[e.jsx(je,{children:"URL HelloAsso"}),e.jsx(Xe,{value:S.helloAssoUrl,onChange:ie=>C(J=>({...J,helloAssoUrl:ie.target.value})),placeholder:"https://www.helloasso.com/..."})]}),S.registrationMethod==="pdf"&&e.jsxs(be,{children:[e.jsx(je,{children:"URL du formulaire PDF"}),e.jsx(Xe,{value:S.pdfUrl,onChange:ie=>C(J=>({...J,pdfUrl:ie.target.value})),placeholder:"https://exemple.com/formulaire.pdf"})]})]})})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:()=>{x(),Q()},children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:se,isLoading:d,children:w?"Modifier":"Crer"})]})]})]})]})}function rle(){return e.jsxs(Re,{p:6,bg:"green.100",minH:"100vh",children:[e.jsx(ht,{color:"green.800",mb:4,children:" TEST - Gestion des vnements"}),e.jsx(Z,{color:"green.700",mb:4,children:"Si vous voyez cette page, la redirection depuis MyRBE fonctionne !"}),e.jsx(Ie,{as:oo,to:"/dashboard/myrbe",colorScheme:"green",children:"Retour  MyRBE"})]})}function Hw(t){return Tn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function sle(t){return Tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function ile(t){return Tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function ole(t){return Tn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function u3(t){return Tn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function A3(t){return Tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function ale(t){return Tn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function d3(t){return Tn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function lle(t){return Tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function cle(t){return Tn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function ule(t){return Tn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Ale(t,{preferUpperLast:n=!0}={}){if(!t)return"Utilisateur";const r=t.firstName||t.prenom||t.given_name||"",s=t.lastName||t.nom||t.family_name||"",i=t.username||t.matricule||"",l=t.email||"",d=[];return n&&s&&d.push(String(s).toUpperCase()),r&&d.push(r),d.length?d.join(" ").trim():s||r?[r,s].filter(Boolean).join(" ").trim():i||l||"Utilisateur"}const av={async getAll(t){const n=await fetch("/api/email-templates",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`Failed to fetch templates: ${n.statusText}`);return n.json()},async getById(t,n){const r=await fetch(`/api/email-templates/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error(`Failed to fetch template: ${r.statusText}`);return r.json()},async create(t,n){const r=await fetch("/api/email-templates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to create template")}return r.json()},async update(t,n,r){const s=await fetch(`/api/email-templates/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to update template")}return s.json()},async delete(t,n){const r=await fetch(`/api/email-templates/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to delete template")}return r.json()},async preview(t,n,r){const s=await fetch(`/api/email-templates/preview/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to preview template")}return s.json()}};function dle({isOpen:t,onClose:n,template:r,onSave:s,isLoading:i}){const[l,d]=T.useState({name:"",subject:"",body:"",description:"",variables:"",active:!0});T.useEffect(()=>{d(r||{name:"",subject:"",body:"",description:"",variables:"",active:!0})},[r,t]);const f=h=>{const{name:a,value:m,checked:v,type:g}=h.target;d(x=>({...x,[a]:g==="checkbox"?v:m}))},u=()=>{if(!l.name.trim()||!l.subject.trim()||!l.body.trim()){alert("Name, subject, and body are required");return}s(l)};return e.jsxs(Hn,{isOpen:t,onClose:n,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:r?.id?"Edit Template":"Create New Template"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(kA,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Template Name (unique, lowercase)"}),e.jsx(Xe,{name:"name",value:l.name,onChange:f,placeholder:"e.g., ticket_created",isDisabled:!!r?.id}),e.jsx(rj,{children:"Use lowercase letters, numbers, and underscores. Cannot be changed after creation."})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Subject (supports variables)"}),e.jsx(Xe,{name:"subject",value:l.subject,onChange:f,placeholder:"New ticket: {{ticket.id}}"}),e.jsx(rj,{children:"Use double curly braces for variables, e.g.: ticket.id, creator.name"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Body (supports variables)"}),e.jsx(xr,{name:"body",value:l.body,onChange:f,placeholder:"Enter email body...",minH:"200px"}),e.jsx(rj,{children:"Use double curly braces for variables. Supports plain text."})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{name:"description",value:l.description,onChange:f,placeholder:"Describe when and how this template is used...",minH:"80px"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Available Variables (comma-separated, for documentation)"}),e.jsx(xr,{name:"variables",value:l.variables,onChange:f,placeholder:"ticket.id, ticket.title, creator.name, creator.email",minH:"60px"})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{htmlFor:"active",mb:"0",children:"Active"}),e.jsx(vo,{id:"active",name:"active",isChecked:l.active,onChange:f,ml:4})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:n,children:"Cancel"}),e.jsxs(Ie,{colorScheme:"blue",onClick:u,isLoading:i,children:[r?.id?"Update":"Create"," Template"]})]})]})]})}function hle({isOpen:t,onClose:n,template:r,token:s}){const[i,l]=T.useState(`{
  "ticket": {
    "id": "T-001",
    "title": "Test ticket"
  },
  "creator": {
    "name": "John Doe",
    "email": "john@example.com"
  }
}`),[d,f]=T.useState(null),[u,h]=T.useState(!1),[a,m]=T.useState(null),v=Hr(),g=async()=>{try{h(!0),m(null);const x=JSON.parse(i),w=await av.preview(r.name,x,s);f(w.preview)}catch(x){m(x.message),v({title:"Error",description:x.message,status:"error",duration:3})}finally{h(!1)}};return e.jsxs(Hn,{isOpen:t,onClose:n,size:"2xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsxs($n,{children:["Preview Template: ",r?.name]}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(kA,{spacing:4,children:[e.jsxs(Re,{children:[e.jsx(je,{children:"Test Data (JSON)"}),e.jsx(xr,{value:i,onChange:x=>l(x.target.value),fontFamily:"monospace",fontSize:"xs",minH:"150px"})]}),e.jsx(Ie,{onClick:g,colorScheme:"blue",isLoading:u,children:"Generate Preview"}),a&&e.jsxs(Re,{p:3,bg:"red.50",borderRadius:"md",color:"red.800",children:["Error: ",a]}),d&&e.jsxs(Be,{align:"start",spacing:3,p:3,bg:"gray.50",borderRadius:"md",children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Subject:"}),e.jsx(Z,{fontFamily:"monospace",fontSize:"sm",children:d.subject})]}),e.jsx(ds,{}),e.jsxs(Re,{w:"100%",children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Body:"}),e.jsx(Re,{p:3,bg:"white",borderRadius:"md",border:"1px solid",borderColor:"gray.200",fontSize:"sm",whiteSpace:"pre-wrap",fontFamily:"monospace",children:d.body})]})]})]})}),e.jsx(pr,{children:e.jsx(Ie,{colorScheme:"blue",onClick:n,children:"Close"})})]})]})}function fle({token:t}){const[n,r]=T.useState([]),[s,i]=T.useState(!1),[l,d]=T.useState(null),[f,u]=T.useState(null),[h,a]=T.useState(null),{isOpen:m,onOpen:v,onClose:g}=er(),{isOpen:x,onOpen:w,onClose:b}=er(),S=Hr();T.useEffect(()=>{C()},[t]);const C=async()=>{try{i(!0),d(null);const k=await av.getAll(t);r(k.templates||[])}catch(k){d(k.message),S({title:"Error loading templates",description:k.message,status:"error",duration:3})}finally{i(!1)}},B=()=>{u(null),v()},F=k=>{u(k),v()},N=k=>{a(k),w()},Q=async k=>{if(confirm(`Are you sure you want to delete template "${k.name}"?`))try{await av.delete(k.id,t),S({title:"Template deleted",status:"success",duration:2}),C()}catch(K){S({title:"Error deleting template",description:K.message,status:"error",duration:3})}},z=async k=>{try{f?.id?(await av.update(f.id,k,t),S({title:"Template updated",status:"success",duration:2})):(await av.create(k,t),S({title:"Template created",status:"success",duration:2})),g(),C()}catch(K){S({title:"Error saving template",description:K.message,status:"error",duration:3})}};return e.jsxs(Re,{p:6,children:[e.jsxs(Ri,{justify:"space-between",align:"center",mb:6,children:[e.jsx(ht,{size:"lg",children:"Email Templates"}),e.jsx(Ie,{leftIcon:e.jsx(gP,{}),colorScheme:"green",onClick:B,children:"Create Template"})]}),l&&e.jsx(Re,{p:4,mb:6,bg:"red.50",borderRadius:"md",color:"red.800",children:l}),s?e.jsx(Ri,{justify:"center",py:12,children:e.jsx(Kr,{size:"lg"})}):n.length===0?e.jsx(St,{children:e.jsx(bt,{textAlign:"center",py:12,children:e.jsx(Z,{color:"gray.500",children:"No templates yet. Create your first one!"})})}):e.jsx(yc,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:n.map(k=>e.jsxs(St,{children:[e.jsx(Qn,{pb:2,children:e.jsx(Ri,{justify:"space-between",align:"start",children:e.jsxs(Be,{align:"start",spacing:1,flex:1,children:[e.jsx(ht,{size:"md",children:k.name}),e.jsx(Xt,{colorScheme:k.active?"green":"gray",children:k.active?"Active":"Inactive"})]})})}),e.jsx(ds,{}),e.jsx(bt,{children:e.jsxs(kA,{spacing:3,children:[e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Subject:"}),e.jsx(Z,{fontSize:"sm",noOfLines:2,children:k.subject})]}),k.description&&e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Description:"}),e.jsx(Z,{fontSize:"sm",noOfLines:2,children:k.description})]}),e.jsxs(Te,{spacing:2,pt:2,children:[e.jsx(Jl,{label:"Preview",children:e.jsx(Ie,{size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>N(k),children:e.jsx(Wv,{})})}),e.jsx(Jl,{label:"Edit",children:e.jsx(Ie,{size:"sm",variant:"outline",colorScheme:"orange",onClick:()=>F(k),children:e.jsx(_j,{})})}),e.jsx(Jl,{label:"Delete",children:e.jsx(Ie,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>Q(k),children:e.jsx(Tg,{})})})]})]})})]},k.id))}),e.jsx(dle,{isOpen:m,onClose:g,template:f,onSave:z,isLoading:s}),h&&e.jsx(hle,{isOpen:x,onClose:b,template:h,token:t})]})}const ple=()=>{const[t,n]=T.useState([]),[r,s]=T.useState(!0),[i,l]=T.useState(null),[d,f]=T.useState(""),[u,h]=T.useState(""),a=Hr(),m=er(),v=er(),g=er(),[x,w]=T.useState({name:"",description:"",htmlContent:"",logoSmall:"",logoBig:"",isDefault:!1});T.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const k=localStorage.getItem("token"),K=await fetch("/api/quote-templates",{headers:k?{Authorization:`Bearer ${k}`}:{}});if(!K.ok)throw new Error("Failed to load templates");const se=await K.json();n(Array.isArray(se)?se:[]),h("")}catch(k){h(k.message),a({title:"Erreur",description:k.message,status:"error"})}finally{s(!1)}},S=async()=>{try{if(!x.name||!x.htmlContent){a({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}const k=localStorage.getItem("token");if(!k){a({title:"Erreur",description:"Authentification requise",status:"error"});return}if(!(await fetch("/api/quote-templates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({...x,createdBy:"admin"})})).ok)throw new Error("Failed to create template");a({title:"Succs",description:"Template cr avec succs",status:"success"}),b(),Q(),m.onClose()}catch(k){a({title:"Erreur",description:k.message,status:"error"})}},C=async()=>{try{if(!x.name||!x.htmlContent){a({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}const k=localStorage.getItem("token");if(!k){a({title:"Erreur",description:"Authentification requise",status:"error"});return}const K={name:x.name,description:x.description,htmlContent:x.htmlContent,isDefault:x.isDefault,...x.logoSmall&&x.logoSmall.length<5e5?{logoSmall:x.logoSmall}:{},...x.logoBig&&x.logoBig.length<5e5?{logoBig:x.logoBig}:{}},se=await fetch(`/api/quote-templates/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(K)});if(!se.ok){const V=await se.text();throw new Error(`Failed to update template: ${V||se.statusText}`)}a({title:"Succs",description:"Template mis  jour",status:"success"}),b(),Q(),v.onClose()}catch(k){console.error("Error updating template:",k),a({title:"Erreur",description:k.message,status:"error"})}},B=async k=>{if(window.confirm("tes-vous sr de vouloir supprimer ce template?"))try{const K=localStorage.getItem("token");if(!K){a({title:"Erreur",description:"Authentification requise",status:"error"});return}if(!(await fetch(`/api/quote-templates/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}})).ok)throw new Error("Failed to delete template");a({title:"Succs",description:"Template supprim",status:"success"}),b()}catch(K){a({title:"Erreur",description:K.message,status:"error"})}},F=async k=>{try{const K=localStorage.getItem("token");if(!K){a({title:"Erreur",description:"Authentification requise",status:"error"});return}const se=await fetch(`/api/quote-templates/${k.id}/preview`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}});if(!se.ok)throw new Error("Failed to generate preview");const V=await se.json();f(V.html),l(k),g.onOpen()}catch(K){a({title:"Erreur",description:K.message,status:"error"})}},N=k=>{l(k),w({name:k.name,description:k.description||"",htmlContent:k.htmlContent,logoSmall:k.logoSmall||"",logoBig:k.logoBig||"",isDefault:k.isDefault}),v.onOpen()},Q=()=>{w({name:"",description:"",htmlContent:"",logoSmall:"",logoBig:"",isDefault:!1}),l(null)},z=()=>{Q(),m.onOpen()};return e.jsxs(Re,{p:6,children:[e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",children:"Gestion des Templates de Documents"}),e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Crez et personnalisez les templates HTML pour vos devis et factures"})]}),e.jsx(Ie,{colorScheme:"blue",onClick:z,children:"+ Nouveau Template"})]}),e.jsx(ds,{}),r?e.jsx(Z,{children:"Chargement..."}):t.length===0?e.jsxs(Re,{p:8,textAlign:"center",bg:"gray.50",borderRadius:"md",children:[e.jsx(Z,{color:"gray.500",children:"Aucun template disponible"}),e.jsx(Ie,{colorScheme:"blue",mt:4,onClick:z,children:"Crer le premier template"})]}):e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.100",children:[e.jsx(At,{children:"Nom"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Dfaut"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:t.map(k=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontWeight:"600",children:k.name}),e.jsx(lt,{fontSize:"sm",children:k.description||"-"}),e.jsx(lt,{children:k.isDefault&&e.jsx(Xt,{colorScheme:"yellow",children:"Dfaut"})}),e.jsx(lt,{children:e.jsxs(Te,{spacing:2,children:[e.jsx(Pn,{icon:e.jsx(Wv,{}),size:"sm",variant:"ghost",onClick:()=>F(k),title:"Aperu"}),e.jsx(Pn,{icon:e.jsx(_j,{}),size:"sm",variant:"ghost",onClick:()=>N(k),title:"Modifier"}),e.jsx(Pn,{icon:e.jsx(Tg,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>B(k.id),title:"Supprimer"})]})})]},k.id))})]})})]}),e.jsxs(Hn,{isOpen:m.isOpen,onClose:m.onClose,size:"2xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsx($n,{children:"Crer un nouveau template de devis"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsx(Xe,{placeholder:"Nom du template",value:x.name,onChange:k=>w({...x,name:k.target.value})}),e.jsx(xr,{placeholder:"Description (optionnel)",value:x.description,onChange:k=>w({...x,description:k.target.value})}),e.jsxs(Re,{w:"full",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(xr,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:x.htmlContent,onChange:k=>w({...x,htmlContent:k.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(Re,{w:"full",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Petit (optionnel)"}),e.jsx(Xe,{type:"file",accept:"image/*",onChange:async k=>{const K=k.target.files[0];if(K){const se=new FileReader;se.onload=V=>{w({...x,logoSmall:V.target.result})},se.readAsDataURL(K)}}}),x.logoSmall&&e.jsx(Re,{mt:2,children:e.jsx("img",{src:x.logoSmall,alt:"Logo petit",style:{maxHeight:"50px"}})})]}),e.jsxs(Re,{w:"full",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Grand (optionnel)"}),e.jsx(Xe,{type:"file",accept:"image/*",onChange:async k=>{const K=k.target.files[0];if(K){const se=new FileReader;se.onload=V=>{w({...x,logoBig:V.target.result})},se.readAsDataURL(K)}}}),x.logoBig&&e.jsx(Re,{mt:2,children:e.jsx("img",{src:x.logoBig,alt:"Logo grand",style:{maxHeight:"100px"}})})]}),e.jsx(Te,{children:e.jsx(Xu,{isChecked:x.isDefault,onChange:k=>w({...x,isDefault:k.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(Re,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(Z,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(Z,{fontSize:"xs",fontFamily:"mono",children:"{{NUM_DEVIS}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{DESTINATAIRE_NOM}}, {{DESTINATAIRE_ADRESSE}}, {{NOTES}}, {{LOGO_BIG}}, {{LOGO_SMALL}}"})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:m.onClose,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:S,children:"Crer"})]})]})]}),e.jsxs(Hn,{isOpen:v.isOpen,onClose:v.onClose,size:"2xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsx($n,{children:"Modifier le template"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsx(Xe,{placeholder:"Nom du template",value:x.name,onChange:k=>w({...x,name:k.target.value})}),e.jsx(xr,{placeholder:"Description (optionnel)",value:x.description,onChange:k=>w({...x,description:k.target.value})}),e.jsxs(Re,{w:"full",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(xr,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:x.htmlContent,onChange:k=>w({...x,htmlContent:k.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(Re,{w:"full",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Petit (optionnel)"}),e.jsx(Xe,{type:"file",accept:"image/*",onChange:async k=>{const K=k.target.files[0];if(K){const se=new FileReader;se.onload=V=>{w({...x,logoSmall:V.target.result})},se.readAsDataURL(K)}}}),x.logoSmall&&e.jsx(Re,{mt:2,children:e.jsx("img",{src:x.logoSmall,alt:"Logo petit",style:{maxHeight:"50px"}})})]}),e.jsxs(Re,{w:"full",children:[e.jsx(Z,{fontSize:"sm",fontWeight:"600",mb:2,children:"Logo Grand (optionnel)"}),e.jsx(Xe,{type:"file",accept:"image/*",onChange:async k=>{const K=k.target.files[0];if(K){const se=new FileReader;se.onload=V=>{w({...x,logoBig:V.target.result})},se.readAsDataURL(K)}}}),x.logoBig&&e.jsx(Re,{mt:2,children:e.jsx("img",{src:x.logoBig,alt:"Logo grand",style:{maxHeight:"100px"}})})]}),e.jsx(Te,{children:e.jsx(Xu,{isChecked:x.isDefault,onChange:k=>w({...x,isDefault:k.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(Re,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(Z,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(Z,{fontSize:"xs",fontFamily:"mono",children:"{{NUM_DEVIS}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{DESTINATAIRE_NOM}}, {{DESTINATAIRE_ADRESSE}}, {{NOTES}}, {{LOGO_BIG}}, {{LOGO_SMALL}}"})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:v.onClose,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:C,children:"Mettre  jour"})]})]})]}),e.jsxs(Hn,{isOpen:g.isOpen,onClose:g.onClose,size:"4xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",children:[e.jsxs($n,{children:["Aperu du template: ",i?.name]}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsx(Re,{p:6,bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"md",dangerouslySetInnerHTML:{__html:d},overflowY:"auto",maxH:"60vh"})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:g.onClose,children:"Fermer"})})]})]})]})},h3=["ADMIN","PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"],mle={VEHICLES:{label:" Vhicules",permissions:{READ:"Consulter",CREATE:"Crer",EDIT:"Modifier",DELETE:"Supprimer"}},FINANCE:{label:" Finances",permissions:{READ:"Consulter",CREATE:"Crer transactions",EDIT:"Modifier",DELETE:"Supprimer"}},EVENTS:{label:" vnements",permissions:{READ:"Consulter",CREATE:"Crer",EDIT:"Modifier",DELETE:"Supprimer"}},STOCK:{label:" Stock",permissions:{READ:"Consulter",CREATE:"Ajouter articles",EDIT:"Modifier",DELETE:"Supprimer"}},PLANNING:{label:" Planning",permissions:{READ:"Consulter",CREATE:"Crer",EDIT:"Modifier",DELETE:"Supprimer"}},MEMBERS:{label:" Membres",permissions:{READ:"Consulter",CREATE:"Ajouter",EDIT:"Modifier",DELETE:"Supprimer"}}},f3=t=>({ADMIN:"red",PRESIDENT:"purple",VICE_PRESIDENT:"indigo",TRESORIER:"blue",SECRETAIRE_GENERAL:"cyan",MEMBER:"gray"})[t]||"gray",p3=t=>({ADMIN:" Admin",PRESIDENT:" Prsident",VICE_PRESIDENT:" Vice-Prsident",TRESORIER:" Trsorier",SECRETAIRE_GENERAL:" Secrtaire Gnral",MEMBER:" Membre"})[t]||t,gle=()=>{const[t,n]=T.useState([]),[r,s]=T.useState(!1),i=Hr();T.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const d=await mn.get("/api/admin/users");n(Array.isArray(d)?d:[])}catch(d){console.error("Erreur chargement users:",d),i({title:"Erreur",description:"Impossible de charger les utilisateurs",status:"error",duration:3e3,isClosable:!0})}finally{s(!1)}};return r?e.jsx(is,{py:20,children:e.jsx(Kr,{size:"lg",color:"var(--rbe-red)"})}):e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Gestion des accs"}),e.jsx(Z,{fontSize:"sm",children:"Consultez et grez les utilisateurs du systme"})]})]}),e.jsx(St,{variant:"outline",children:e.jsx(bt,{children:e.jsxs(Is,{size:"sm",variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"Utilisateur"}),e.jsx(At,{children:"Email"}),e.jsx(At,{children:"Rle"}),e.jsx(At,{children:"Cr"})]})}),e.jsx(Rs,{children:t.map(d=>e.jsxs(Rn,{children:[e.jsx(lt,{fontWeight:"medium",children:Ale(d)}),e.jsx(lt,{fontSize:"sm",children:d.email}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:d.role==="ADMIN"?"red":"blue",children:d.role})}),e.jsx(lt,{fontSize:"sm",children:d.createdAt?new Date(d.createdAt).toLocaleDateString("fr-FR"):"-"})]},d.id))})]})})})]})},vle=()=>{const[t,n]=T.useState([]),[r,s]=T.useState(!1),[i,l]=T.useState(null),d=Hr(),{isOpen:f,onOpen:u,onClose:h}=er(),[a,m]=T.useState({title:"",content:"",featured:!1,published:!1,showOnExternal:!1}),[v,g]=T.useState(null);T.useEffect(()=>{x();const B=localStorage.getItem("token"),F=localStorage.getItem("user");g({hasToken:!!B,tokenLength:B?B.length:0,user:F?JSON.parse(F):null,apiUrl:mn.baseURL})},[]);const x=async()=>{try{s(!0);const B=await mn.get("/api/retro-news");n(Array.isArray(B)?B:B?.news||[])}catch(B){console.error("Erreur chargement news:",B)}finally{s(!1)}},w=()=>{l(null),m({title:"",content:"",featured:!1,published:!1,showOnExternal:!1}),u()},b=B=>{l(B.id),m({title:B.title,content:B.content,featured:B.featured||!1,published:B.published||!1,showOnExternal:B.showOnExternal||!1}),u()},S=async()=>{if(!a.title||!a.content){d({title:"Erreur",description:"Le titre et le contenu sont requis",status:"error",duration:3e3});return}try{i?(await mn.put(`/api/retro-news/${i}`,a),d({title:"Succs",description:"Actualit mise  jour",status:"success"})):(await mn.post("/api/retro-news",a),d({title:"Succs",description:"Actualit cre",status:"success"})),x(),h()}catch{d({title:"Erreur",description:"Impossible de sauvegarder",status:"error"})}},C=async B=>{if(window.confirm("tes-vous sr de vouloir supprimer?"))try{await mn.delete(`/api/retro-news/${B}`),d({title:"Succs",description:"Actualit supprime",status:"success"}),x()}catch{d({title:"Erreur",description:"Impossible de supprimer",status:"error"})}};return r?e.jsx(is,{py:20,children:e.jsx(Kr,{size:"lg",color:"var(--rbe-red)"})}):e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Ri,{justify:"space-between",align:"center",children:[e.jsx(ht,{size:"md",children:" Actualits RtroBus"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:w,children:"Nouvelle actualit"})]}),e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:" propos des actualits"}),e.jsx(Z,{fontSize:"sm",children:"Les actualits cres ici seront disponibles dans la modale RtroActus et peuvent tre partages"})]})]}),v&&e.jsx(St,{bg:"gray.50",variant:"outline",children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:2,fontSize:"sm",children:[e.jsx(Z,{fontWeight:"bold",children:" Informations Debug:"}),e.jsxs(Z,{children:["Token prsent: ",v.hasToken?" Oui":" Non"]}),v.hasToken&&e.jsxs(Z,{children:["Token length: ",v.tokenLength," chars"]}),v.user&&e.jsxs(e.Fragment,{children:[e.jsxs(Z,{children:["Utilisateur: ",v.user.username||v.user.email]}),e.jsxs(Z,{children:["Rle: ",v.user.roles?v.user.roles.join(", "):"N/A"]})]}),e.jsxs(Z,{children:["API URL: ",v.apiUrl||"Relative (proxy)"]})]})})}),t.length===0?e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(is,{py:10,flexDirection:"column",children:[e.jsx(Z,{mb:4,color:"gray.500",children:"Aucune actualit pour le moment"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",size:"sm",onClick:w,children:"Crer la premire"})]})})}):e.jsx(Sn,{spacing:4,columns:{base:1,md:2,lg:3},children:t.map(B=>e.jsxs(St,{variant:"outline",_hover:{boxShadow:"md"},transition:"all 0.2s",children:[e.jsx(Qn,{pb:3,children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsx(ht,{size:"sm",noOfLines:2,children:B.title}),e.jsxs(Te,{spacing:2,flexWrap:"wrap",children:[B.published&&e.jsx(Xt,{colorScheme:"green",children:"Publi"}),B.featured&&e.jsx(Xt,{colorScheme:"purple",children:"Vedette"}),B.showOnExternal&&e.jsx(Xt,{colorScheme:"blue",children:"Externe"})]})]})}),e.jsx(bt,{children:e.jsx(Z,{fontSize:"sm",noOfLines:3,color:"gray.600",children:B.content})}),e.jsx(ds,{}),e.jsx(bt,{children:e.jsxs(Te,{spacing:2,justify:"flex-end",children:[e.jsx(Pn,{icon:e.jsx(ru,{}),size:"sm",variant:"ghost",onClick:()=>b(B),"aria-label":"diter"}),e.jsx(Pn,{icon:e.jsx(oi,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>C(B.id),"aria-label":"Supprimer"})]})})]},B.id))}),e.jsxs(Hn,{isOpen:f,onClose:h,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:i?" Modifier une actualit":" Nouvelle actualit"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Titre"}),e.jsx(Xe,{placeholder:"Titre de l'actualit...",value:a.title,onChange:B=>m({...a,title:B.target.value})})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Contenu"}),e.jsx(xr,{placeholder:"Contenu...",value:a.content,onChange:B=>m({...a,content:B.target.value}),rows:6})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,children:"Vedette (affichage prioritaire)"}),e.jsx(vo,{isChecked:a.featured,onChange:B=>m({...a,featured:B.target.checked}),ml:2})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,children:"Publi"}),e.jsx(vo,{isChecked:a.published,onChange:B=>m({...a,published:B.target.checked}),ml:2})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,children:"Afficher sur le site externe"}),e.jsx(vo,{isChecked:a.showOnExternal,onChange:B=>m({...a,showOnExternal:B.target.checked}),ml:2})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:h,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:S,children:i?"Mettre  jour":"Crer"})]})]})]})]})},xle=()=>{const{user:t,roles:n,isAdmin:r}=qa(),[s,i]=T.useState([]),[l,d]=T.useState(!0),[f,u]=T.useState(null),[h,a]=T.useState({}),[m,v]=T.useState(""),g=Hr(),x=Os("white","gray.800"),w=r||n&&n.some(z=>h3.includes(z));T.useEffect(()=>{w&&b()},[w]);const b=async()=>{try{d(!0);const z=await mn.get("/api/admin/users");Array.isArray(z)?i(z):(console.error("Format inattendu pour les utilisateurs"),i([]))}catch(z){console.error("Erreur chargement utilisateurs:",z),g({title:"Erreur",description:"Impossible de charger les utilisateurs",status:"error",duration:3e3})}finally{d(!1)}},S=async z=>{try{const k=await mn.get(`/api/admin/users/${z}/permissions`);Array.isArray(k)&&a(k)}catch(k){console.error("Erreur chargement permissions:",k),g({title:"Erreur",description:"Impossible de charger les permissions",status:"error",duration:3e3})}},C=z=>{u(z),S(z.id)},B=async(z,k,K)=>{if(!(!f||!w))try{!K?await mn.post(`/api/admin/users/${f.id}/permissions`,{resource:z,actions:[k]}):await mn.delete(`/api/admin/users/${f.id}/permissions/${z}/${k}`),await S(f.id),g({title:"Succs",description:"Permission mise  jour",status:"success",duration:2e3})}catch(se){console.error("Erreur mise  jour permission:",se),g({title:"Erreur",description:"Impossible de mettre  jour la permission",status:"error",duration:3e3})}},F=async z=>{if(!(!f||!w))try{const k=await mn.post(`/api/admin/users/${f.id}/make-admin`,{isAdmin:z});u(k.user),g({title:"Succs",description:z?"Utilisateur promu admin":"Utilisateur rtrograd",status:"success",duration:2e3}),await b()}catch(k){console.error("Erreur modification admin:",k),g({title:"Erreur",description:"Impossible de modifier le statut admin",status:"error",duration:3e3})}},N=(z,k)=>h[z]?h[z].includes&&h[z].includes(k):!1,Q=s.filter(z=>`${z.firstName} ${z.lastName}`.toLowerCase().includes(m.toLowerCase())||z.email.toLowerCase().includes(m.toLowerCase()));return w?l?e.jsx(is,{minH:"80vh",children:e.jsxs(Be,{children:[e.jsx(Kr,{size:"xl",color:"var(--rbe-red)"}),e.jsx(Z,{children:"Chargement..."})]})}):e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsx(Re,{children:e.jsxs(Te,{justify:"space-between",mb:4,children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsxs(ht,{size:"md",display:"flex",alignItems:"center",gap:2,children:[e.jsx(vx,{})," Gestion des Permissions"]}),e.jsx(Z,{color:"gray.600",fontSize:"sm",children:"Configurez les droits d'accs pour chaque utilisateur"})]}),e.jsx(Ie,{leftIcon:e.jsx(RA,{}),onClick:b,isLoading:l,colorScheme:"blue",variant:"outline",children:"Actualiser"})]})}),e.jsxs(Sn,{columns:{base:1,md:2,lg:3},spacing:6,w:"full",children:[e.jsxs(St,{bg:x,children:[e.jsxs(Qn,{pb:3,children:[e.jsx(ht,{size:"sm",mb:4,children:" Utilisateurs"}),e.jsx(Xe,{placeholder:"Rechercher...",size:"sm",value:m,onChange:z=>v(z.target.value)})]}),e.jsx(bt,{pt:0,children:e.jsx(Be,{spacing:2,maxH:"600px",overflowY:"auto",align:"stretch",children:Q.length>0?Q.map(z=>e.jsx(Ie,{justifyContent:"start",variant:f?.id===z.id?"solid":"ghost",colorScheme:"blue",onClick:()=>C(z),isFullWidth:!0,textAlign:"left",p:3,height:"auto",whiteSpace:"normal",children:e.jsxs(Be,{align:"start",spacing:0,width:"100%",children:[e.jsxs(Z,{fontWeight:"bold",fontSize:"sm",children:[z.firstName," ",z.lastName]}),e.jsxs(Te,{spacing:2,children:[e.jsx(Z,{fontSize:"xs",color:"gray.500",children:z.email}),z.role&&e.jsx(Xt,{colorScheme:f3(z.role),fontSize:"xs",children:p3(z.role)})]})]})},z.id)):e.jsx(Z,{textAlign:"center",color:"gray.500",py:8,children:"Aucun utilisateur trouv"})})})]}),e.jsx(Re,{gridColumn:{lg:"2 / 4"},children:f?e.jsxs(St,{bg:x,children:[e.jsx(Qn,{children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsxs(ht,{size:"sm",children:[f.firstName," ",f.lastName]}),f.role&&e.jsx(Xt,{colorScheme:f3(f.role),fontSize:"sm",children:p3(f.role)}),e.jsx(Te,{spacing:2,pt:2,children:e.jsx(Ie,{size:"sm",colorScheme:f.permissions?.includes("admin")?"red":"green",onClick:()=>F(!f.permissions?.includes("admin")),children:f.permissions?.includes("admin")?"Retirer Admin":"Faire Admin"})})]})}),e.jsx(bt,{pt:0,children:e.jsx(Be,{spacing:6,align:"stretch",children:Object.entries(mle).map(([z,k])=>e.jsxs(Re,{p:4,borderWidth:1,borderRadius:"md",borderColor:"gray.200",children:[e.jsx(ht,{size:"sm",mb:4,children:k.label}),e.jsx(Sn,{columns:{base:2,md:4},spacing:3,children:Object.entries(k.permissions).map(([K,se])=>e.jsxs(Te,{spacing:2,children:[e.jsx(Xu,{isChecked:N(z,K),onChange:()=>B(z,K,N(z,K)),colorScheme:"blue"}),e.jsx(Z,{fontSize:"sm",children:se})]},`${z}-${K}`))})]},z))})})]}):e.jsx(St,{bg:x,children:e.jsx(bt,{children:e.jsx(is,{p:10,children:e.jsxs(Be,{children:[e.jsx(y1,{size:32,color:"gray"}),e.jsx(Z,{color:"gray.500",children:"Slectionnez un utilisateur pour grer ses permissions"})]})})})})})]}),e.jsxs(Sn,{columns:{base:2,md:4},spacing:4,children:[e.jsx(St,{children:e.jsxs(bt,{textAlign:"center",children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",color:"blue.500",children:s.length}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Utilisateurs"})]})}),e.jsx(St,{children:e.jsxs(bt,{textAlign:"center",children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",color:"red.500",children:s.filter(z=>z.role==="ADMIN").length}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Admins"})]})}),e.jsx(St,{children:e.jsxs(bt,{textAlign:"center",children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",color:"purple.500",children:s.filter(z=>h3.includes(z.role)).length}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Administrateurs"})]})}),e.jsx(St,{children:e.jsxs(bt,{textAlign:"center",children:[e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",color:"gray.500",children:s.filter(z=>z.role==="MEMBER").length}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Membres"})]})})]})]}):e.jsx(Be,{spacing:6,align:"stretch",children:e.jsxs(ir,{status:"error",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"auto",p:6,children:[e.jsx(or,{boxSize:"40px",mr:0,mb:4}),e.jsx(ht,{size:"md",mb:2,children:"Accs Refus"}),e.jsx(Z,{children:"Seuls les administrateurs peuvent grer les permissions."})]})})},yle=()=>{const[t,n]=T.useState({siteName:"",siteDescription:"",maintenanceMode:!1});return e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Paramtres du site"}),e.jsx(Z,{fontSize:"sm",children:"Configuration gnrale de RtroBus"})]})]}),e.jsxs(St,{variant:"outline",children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Configuration gnrale"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Nom du site"}),e.jsx(Xe,{placeholder:"RtroBus Essonne",value:t.siteName})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{placeholder:"Description du site...",value:t.siteDescription})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,children:"Mode maintenance"}),e.jsx(vo,{ml:2,isChecked:t.maintenanceMode})]}),e.jsx(Ie,{colorScheme:"blue",alignSelf:"flex-start",children:"Enregistrer les paramtres"})]})})]})]})},jle=()=>e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Gestion des modles de documents"}),e.jsx(Z,{fontSize:"sm",children:"Templates pour emails, lettres, et autres documents"})]})]}),e.jsx(ple,{})]}),ble=()=>{const{user:t}=qa(),n=[{id:"access",label:" Accs utilisateurs",icon:vx,render:()=>e.jsx(gle,{})},{id:"permissions",label:" Permissions",icon:Ed,render:()=>e.jsx(xle,{})},{id:"news",label:" Actualits",icon:Ep,render:()=>e.jsx(vle,{})},{id:"emails",label:" Modles d'email",icon:yf,render:()=>e.jsx(fle,{})},{id:"documents",label:" Documents",icon:lh,render:()=>e.jsx(jle,{})},{id:"settings",label:" Paramtres",icon:Mg,render:()=>e.jsx(yle,{})}];return e.jsx(Xp,{title:"Gestion du Site Web",subtitle:"Accs, permissions, actualits, templates et configuration",sections:n,defaultSectionId:"access",sidebarTitle:"Site Web",sidebarSubtitle:"Administration",sidebarTitleIcon:Ep,versionLabel:"Site Management v2"})},Vw={getByMember:t=>mn.get(`/api/documents/member/${t}`),delete:t=>mn.delete(`/api/documents/${t}`),updateStatus:(t,n)=>mn.put(`/api/documents/${t}/status`,n),getExpiring:(t=60)=>mn.get(`/api/documents/expiring?days=${t}`)},Py={getAll:()=>mn.get("/newsletter"),create:t=>mn.post("/newsletter",t),delete:t=>mn.delete(`/newsletter/${t}`),updateStatus:(t,n)=>mn.put(`/newsletter/${t}/status`,{status:n}),getStats:()=>mn.get("/newsletter/stats"),export:(t="csv")=>mn.get(`/newsletter/export?format=${t}`),campaigns:{getAll:t=>mn.get("/newsletter/campaigns",{params:t}),getById:t=>mn.get(`/newsletter/campaigns/${t}`),create:t=>mn.post("/newsletter/campaigns",t),update:(t,n)=>mn.put(`/newsletter/campaigns/${t}`,n),delete:t=>mn.delete(`/newsletter/campaigns/${t}`),preview:t=>mn.get(`/newsletter/campaigns/${t}/preview`),sendTest:(t,n)=>mn.post(`/newsletter/campaigns/${t}/test`,{email:n}),prepare:t=>mn.post(`/newsletter/campaigns/${t}/prepare`),send:t=>mn.post(`/newsletter/campaigns/${t}/send`),getStats:t=>mn.get(`/newsletter/campaigns/${t}/stats`)}},$w={PIECES_DETACHEES:"Pices dtaches",CONSOMMABLES:"Consommables",OUTILLAGE:"Outillage",EQUIPEMENT:"quipement",DOCUMENTATION:"Documentation",MERCHANDISING:"Merchandising",FOURNITURES:"Fournitures",SECURITE:"Scurit",GENERAL:"Gnral"},Gw={PIECE:"Pice",KG:"Kg",LITRE:"Litre",METRE:"Mtre",PAQUET:"Paquet",BOITE:"Bote",ROULEAU:"Rouleau",SET:"Set",AUTRE:"Autre"},m3={AVAILABLE:"Disponible",LOW_STOCK:"Stock bas",OUT_OF_STOCK:"Rupture",DISCONTINUED:"Discontinu",RESERVED:"Rserv"},wle={AVAILABLE:"green",LOW_STOCK:"orange",OUT_OF_STOCK:"red",DISCONTINUED:"gray",RESERVED:"blue"};function Sle(){const[t,n]=T.useState([]),[r,s]=T.useState({}),[i,l]=T.useState(!0),[d,f]=T.useState({search:"",category:"ALL",status:"ALL",lowStock:!1}),[u,h]=T.useState(null),[a,m]=T.useState({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),[v,g]=T.useState({type:"IN",quantity:1,reason:"",notes:""}),[x,w]=T.useState(null),b=Hr(),{isOpen:S,onOpen:C,onClose:B}=er(),{isOpen:F,onOpen:N,onClose:Q}=er(),{isOpen:z,onOpen:k,onClose:K}=er(),se=T.useRef();T.useEffect(()=>{V(),q()},[d]);const V=async()=>{try{l(!0);const $=new URLSearchParams;d.search&&$.append("search",d.search),d.category!=="ALL"&&$.append("category",d.category),d.status!=="ALL"&&$.append("status",d.status),d.lowStock&&$.append("lowStock","true");const M=await mn.get(`/api/stocks?${$.toString()}`),ee=M?.stocks??(Array.isArray(M)?M:[]);n(ee)}catch($){console.error("Erreur lors du chargement des stocks:",$),n([]),b({title:"Stocks indisponibles",description:"LAPI des stocks nest pas encore prte ou a renvoy une erreur",status:"warning",duration:3e3})}finally{l(!1)}},q=async()=>{try{const $=await mn.get("/api/stocks/stats");s($||{})}catch($){console.error("Erreur lors du chargement des statistiques:",$),s({})}},le=()=>{h(null),m({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),C()},ae=$=>{h($),m({reference:$.reference||"",name:$.name||"",description:$.description||"",category:$.category||"GENERAL",subcategory:$.subcategory||"",quantity:$.quantity||0,minQuantity:$.minQuantity||0,unit:$.unit||"PIECE",location:$.location||"",supplier:$.supplier||"",purchasePrice:$.purchasePrice||"",salePrice:$.salePrice||"",notes:$.notes||""}),C()},ie=async()=>{try{const $=u?"put":"post",M=u?`/api/stocks/${u.id}`:"/api/stocks";await mn[$](M,a),b({title:"Succs",description:`Article ${u?"modifi":"cr"} avec succs`,status:"success",duration:3e3}),B(),V(),q()}catch($){console.error("Erreur lors de la sauvegarde:",$),b({title:"Erreur",description:"Impossible de sauvegarder l'article",status:"error",duration:3e3})}},J=async()=>{if(x)try{await mn.delete(`/api/stocks/${x.id}`),b({title:"Succs",description:"Article supprim avec succs",status:"success",duration:3e3}),K(),w(null),V(),q()}catch($){console.error("Erreur lors de la suppression:",$),b({title:"Erreur",description:"Impossible de supprimer l'article",status:"error",duration:3e3})}},G=async()=>{if(x)try{await mn.post(`/api/stocks/${x.id}/movement`,v),b({title:"Succs",description:"Mouvement enregistr avec succs",status:"success",duration:3e3}),Q(),g({type:"IN",quantity:1,reason:"",notes:""}),V(),q()}catch($){console.error("Erreur lors du mouvement:",$),b({title:"Erreur",description:$.response?.data?.error||"Impossible d'enregistrer le mouvement",status:"error",duration:3e3})}},W=$=>{w($),g({type:"IN",quantity:1,reason:"",notes:""}),N()},pe=$=>{w($),k()},oe={totalItems:r.totalItems||0,totalQuantity:r.totalQuantity||0,lowStockCount:r.lowStockCount||0,outOfStockCount:r.outOfStockCount||0},he=()=>e.jsxs(Re,{children:[e.jsxs(Sn,{columns:{base:1,md:4},spacing:4,mb:6,children:[e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Articles totaux"}),e.jsx(Jn,{children:oe.totalItems}),e.jsxs(qc,{children:[e.jsx(fg,{style:{display:"inline",marginRight:"4px"}}),"Articles rfrencs"]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Quantit totale"}),e.jsx(Jn,{children:oe.totalQuantity}),e.jsxs(qc,{children:[e.jsx(j1,{style:{display:"inline",marginRight:"4px"}}),"Units en stock"]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Stock bas"}),e.jsx(Jn,{color:"orange.500",children:oe.lowStockCount}),e.jsxs(qc,{children:[e.jsx(Jm,{style:{display:"inline",marginRight:"4px"}})," rapprovisionner"]})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Ruptures"}),e.jsx(Jn,{color:"red.500",children:oe.outOfStockCount}),e.jsxs(qc,{children:[e.jsx(RA,{style:{display:"inline",marginRight:"4px"}}),"Stock puis"]})]})})})]}),e.jsx(St,{mb:6,children:e.jsx(bt,{children:e.jsxs(Te,{spacing:4,wrap:"wrap",children:[e.jsx(Xe,{placeholder:"Rechercher...",value:d.search,onChange:$=>f(M=>({...M,search:$.target.value})),maxW:"300px"}),e.jsxs(gn,{value:d.category,onChange:$=>f(M=>({...M,category:$.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Toutes catgories"}),Object.entries($w).map(([$,M])=>e.jsx("option",{value:$,children:M},$))]}),e.jsxs(gn,{value:d.status,onChange:$=>f(M=>({...M,status:$.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(m3).map(([$,M])=>e.jsx("option",{value:$,children:M},$))]}),e.jsx(Ie,{variant:d.lowStock?"solid":"outline",colorScheme:"orange",onClick:()=>f($=>({...$,lowStock:!$.lowStock})),children:"Stock bas uniquement"})]})})}),e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Is,{variant:"simple",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Rfrence"}),e.jsx(At,{children:"Nom"}),e.jsx(At,{children:"Catgorie"}),e.jsx(At,{children:"Quantit"}),e.jsx(At,{children:"Unit"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Emplacement"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:i?e.jsx(Rn,{children:e.jsx(lt,{colSpan:8,textAlign:"center",children:"Chargement..."})}):t.length===0?e.jsx(Rn,{children:e.jsx(lt,{colSpan:8,textAlign:"center",children:"Aucun article trouv"})}):t.map($=>e.jsxs(Rn,{children:[e.jsx(lt,{children:$.reference||"-"}),e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"medium",children:$.name}),$.description&&e.jsx(Z,{fontSize:"sm",color:"gray.600",noOfLines:1,children:$.description})]})}),e.jsx(lt,{children:$w[$.category]}),e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{color:$.quantity<=$.minQuantity?"red.500":"inherit",fontWeight:$.quantity<=$.minQuantity?"bold":"normal",children:$.quantity}),$.minQuantity>0&&e.jsxs(Z,{fontSize:"xs",color:"gray.500",children:["Min: ",$.minQuantity]})]})}),e.jsx(lt,{children:Gw[$.unit]}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:wle[$.status],children:m3[$.status]})}),e.jsx(lt,{children:$.location||"-"}),e.jsx(lt,{children:e.jsxs(Te,{spacing:2,children:[e.jsx(Pn,{icon:e.jsx(aS,{}),size:"sm",variant:"outline",onClick:()=>ae($),"aria-label":"Modifier"}),e.jsx(Pn,{icon:e.jsx(sre,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:()=>W($),"aria-label":"Mouvement de stock"}),e.jsx(Pn,{icon:e.jsx(oi,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>pe($),"aria-label":"Supprimer"})]})})]},$.id))})]})})}),e.jsxs(Hn,{isOpen:S,onClose:B,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:u?"Modifier l'article":"Nouvel article"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(Te,{spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Rfrence"}),e.jsx(Xe,{value:a.reference,onChange:$=>m(M=>({...M,reference:$.target.value})),placeholder:"REF-001"})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nom"}),e.jsx(Xe,{value:a.name,onChange:$=>m(M=>({...M,name:$.target.value})),placeholder:"Nom de l'article"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:a.description,onChange:$=>m(M=>({...M,description:$.target.value})),placeholder:"Description dtaille"})]}),e.jsxs(Te,{spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Catgorie"}),e.jsx(gn,{value:a.category,onChange:$=>m(M=>({...M,category:$.target.value})),children:Object.entries($w).map(([$,M])=>e.jsx("option",{value:$,children:M},$))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Sous-catgorie"}),e.jsx(Xe,{value:a.subcategory,onChange:$=>m(M=>({...M,subcategory:$.target.value})),placeholder:"Sous-catgorie"})]})]}),e.jsxs(Te,{spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Quantit"}),e.jsx(gs,{value:a.quantity,onChange:$=>m(M=>({...M,quantity:parseInt($)||0})),children:e.jsx(vs,{})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Quantit minimale"}),e.jsx(gs,{value:a.minQuantity,onChange:$=>m(M=>({...M,minQuantity:parseInt($)||0})),children:e.jsx(vs,{})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Unit"}),e.jsx(gn,{value:a.unit,onChange:$=>m(M=>({...M,unit:$.target.value})),children:Object.entries(Gw).map(([$,M])=>e.jsx("option",{value:$,children:M},$))})]})]}),e.jsxs(Te,{spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Emplacement"}),e.jsx(Xe,{value:a.location,onChange:$=>m(M=>({...M,location:$.target.value})),placeholder:"tagre A1, Atelier..."})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Fournisseur"}),e.jsx(Xe,{value:a.supplier,onChange:$=>m(M=>({...M,supplier:$.target.value})),placeholder:"Nom du fournisseur"})]})]}),e.jsxs(Te,{spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Prix d'achat ()"}),e.jsx(gs,{value:a.purchasePrice,onChange:$=>m(M=>({...M,purchasePrice:$})),precision:2,children:e.jsx(vs,{})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Prix de vente ()"}),e.jsx(gs,{value:a.salePrice,onChange:$=>m(M=>({...M,salePrice:$})),precision:2,children:e.jsx(vs,{})})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:a.notes,onChange:$=>m(M=>({...M,notes:$.target.value})),placeholder:"Notes diverses"})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:B,children:"Annuler"}),e.jsx(Ie,{colorScheme:"teal",onClick:ie,children:u?"Modifier":"Crer"})]})]})]}),e.jsxs(Hn,{isOpen:F,onClose:Q,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsxs($n,{children:["Mouvement de stock - ",x?.name]}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type de mouvement"}),e.jsxs(gn,{value:v.type,onChange:$=>g(M=>({...M,type:$.target.value})),children:[e.jsx("option",{value:"IN",children:"Entre (IN)"}),e.jsx("option",{value:"OUT",children:"Sortie (OUT)"}),e.jsx("option",{value:"ADJUSTMENT",children:"Correction (ADJUSTMENT)"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Quantit"}),e.jsx(gs,{value:v.quantity,onChange:$=>g(M=>({...M,quantity:parseInt($)||1})),children:e.jsx(vs,{})}),x&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Stock actuel: ",x.quantity," ",Gw[x.unit]]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Raison"}),e.jsx(Xe,{value:v.reason,onChange:$=>g(M=>({...M,reason:$.target.value})),placeholder:"Achat, utilisation, correction..."})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:v.notes,onChange:$=>g(M=>({...M,notes:$.target.value})),placeholder:"Notes sur ce mouvement"})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:Q,children:"Annuler"}),e.jsx(Ie,{colorScheme:"teal",onClick:G,children:"Enregistrer"})]})]})]}),e.jsx(Qee,{isOpen:z,onClose:K,leastDestructiveRef:se,children:e.jsx(Gn,{children:e.jsxs(zee,{children:[e.jsx($n,{children:"Confirmer la suppression"}),e.jsxs(Vn,{children:[`tes-vous sr de vouloir supprimer l'article "`,x?.name,'" ? Cette action est irrversible.']}),e.jsxs(pr,{children:[e.jsx(Ie,{ref:se,onClick:K,children:"Annuler"}),e.jsx(Ie,{colorScheme:"red",onClick:J,ml:3,children:"Supprimer"})]})]})})})]});return e.jsx(Xp,{title:"Gestion des stocks",subtitle:"Inventaire et matriel de l'association",sections:[{id:"inventory",label:"Inventaire",icon:fg,render:he}],defaultSectionId:"inventory",sidebarTitle:"Stocks",sidebarSubtitle:"Pilotage des ressources",sidebarTitleIcon:fg,versionLabel:"Stocks v2",headerActions:[e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"teal",onClick:le,children:"Nouvel article"},"create")]})}const Kw={info:{label:"Information",color:"blue",icon:lle},warning:{label:"Attention",color:"orange",icon:u3},success:{label:"Succs",color:"green",icon:sle},error:{label:"Erreur",color:"red",icon:u3}};function Cle(){const[t,n]=T.useState([]),[r,s]=T.useState(!0),[i,l]=T.useState(null),[d,f]=T.useState({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),{isOpen:u,onOpen:h,onClose:a}=er(),m=Hr(),v=Os("white","gray.700"),g=Os("gray.200","gray.600"),x=async()=>{try{s(!0);const Q=await mn.get("/flashes");Array.isArray(Q)?n(Q):(console.warn("Rponse inattendue de l'API:",Q),n([]))}catch(Q){console.error("Erreur lors du chargement des flashs:",Q),n([]),m({title:"Erreur",description:"Impossible de charger les flashs",status:"error",duration:3e3,isClosable:!0})}finally{s(!1)}};T.useEffect(()=>{x()},[]);const w=()=>{f({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),l(null)},b=()=>{w(),h()},S=Q=>{l(Q),f({content:Q.content||"",type:Q.type||"info",active:Q.active!==void 0?Q.active:!0,showOnExternal:Q.showOnExternal||!1,expiresAt:Q.expiresAt?new Date(Q.expiresAt).toISOString().slice(0,16):""}),h()},C=async()=>{try{if(!d.content.trim()){m({title:"Erreur de validation",description:"Le contenu du flash est requis",status:"error",duration:3e3,isClosable:!0});return}const Q={...d,expiresAt:d.expiresAt||null};i?(await mn.put(`/flashes/${i.id}`,Q),m({title:"Succs",description:"Flash mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await mn.post("/flashes",Q),m({title:"Succs",description:"Flash cr avec succs",status:"success",duration:3e3,isClosable:!0})),x(),a()}catch(Q){console.error("Erreur lors de la sauvegarde:",Q),m({title:"Erreur",description:"Impossible de sauvegarder le flash",status:"error",duration:3e3,isClosable:!0})}},B=async Q=>{try{await mn.patch(`/flashes/${Q.id}/toggle`),m({title:"Succs",description:`Flash ${Q.active?"dsactiv":"activ"}`,status:"success",duration:2e3,isClosable:!0}),x()}catch(z){console.error("Erreur lors du toggle:",z),m({title:"Erreur",description:"Impossible de modifier le statut",status:"error",duration:3e3,isClosable:!0})}},F=async Q=>{if(window.confirm("tes-vous sr de vouloir supprimer ce flash ?"))try{await mn.delete(`/flashes/${Q}`),m({title:"Succs",description:"Flash supprim avec succs",status:"success",duration:3e3,isClosable:!0}),x()}catch(z){console.error("Erreur lors de la suppression:",z),m({title:"Erreur",description:"Impossible de supprimer le flash",status:"error",duration:3e3,isClosable:!0})}},N=Q=>Q.expiresAt?new Date(Q.expiresAt)<new Date:!1;return r?e.jsx(is,{minH:"400px",children:e.jsxs(Be,{children:[e.jsx(Kr,{size:"xl",color:"var(--rbe-red)"}),e.jsx(Z,{children:"Chargement des flashs..."})]})}):e.jsxs(Re,{p:6,children:[e.jsxs(Ri,{mb:6,align:"center",children:[e.jsxs(Te,{spacing:3,children:[e.jsx(Hw,{color:"var(--rbe-red)",size:24}),e.jsx(ht,{size:"lg",children:"Gestion des Flashs Info"})]}),e.jsx(oP,{}),e.jsx(Ie,{leftIcon:e.jsx(cle,{}),colorScheme:"blue",onClick:b,children:"Nouveau Flash"})]}),e.jsxs(yc,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,mb:6,children:[e.jsx(St,{bg:v,borderWidth:1,borderColor:g,children:e.jsx(bt,{children:e.jsxs(Te,{children:[e.jsx(Hw,{color:"blue"}),e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Total"}),e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",children:t.length})]})]})})}),e.jsx(St,{bg:v,borderWidth:1,borderColor:g,children:e.jsx(bt,{children:e.jsxs(Te,{children:[e.jsx(d3,{color:"green"}),e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Actifs"}),e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:t.filter(Q=>Q.active&&!N(Q)).length})]})]})})}),e.jsx(St,{bg:v,borderWidth:1,borderColor:g,children:e.jsx(bt,{children:e.jsxs(Te,{children:[e.jsx(A3,{color:"purple"}),e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Sur l'externe"}),e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",color:"purple.500",children:t.filter(Q=>Q.showOnExternal&&Q.active&&!N(Q)).length})]})]})})}),e.jsx(St,{bg:v,borderWidth:1,borderColor:g,children:e.jsx(bt,{children:e.jsxs(Te,{children:[e.jsx(ile,{color:"orange"}),e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Expirs"}),e.jsx(Z,{fontSize:"2xl",fontWeight:"bold",color:"orange.500",children:t.filter(Q=>N(Q)).length})]})]})})})]}),e.jsx(Be,{spacing:4,align:"stretch",children:t.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun flash trouv. Crez le premier !"]}):t.map(Q=>{const z=Kw[Q.type]||Kw.info,k=z.icon,K=N(Q);return e.jsxs(St,{bg:v,borderWidth:1,borderColor:Q.active&&!K?`${z.color}.200`:"gray.300",opacity:Q.active&&!K?1:.6,children:[e.jsx(Qn,{children:e.jsxs(Ri,{align:"center",children:[e.jsxs(Te,{spacing:3,flex:1,children:[e.jsx(k,{color:`var(--chakra-colors-${z.color}-500)`}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsxs(Te,{spacing:2,children:[e.jsx(Xt,{colorScheme:z.color,children:z.label}),Q.active?e.jsx(Xt,{colorScheme:"green",children:"Actif"}):e.jsx(Xt,{colorScheme:"gray",children:"Inactif"}),Q.showOnExternal&&e.jsx(Xt,{colorScheme:"purple",leftIcon:e.jsx(A3,{}),children:"Externe"}),K&&e.jsx(Xt,{colorScheme:"red",children:"Expir"})]}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:["Cr le ",new Date(Q.createdAt).toLocaleDateString("fr-FR"),Q.expiresAt&&e.jsxs(e.Fragment,{children:["  Expire le ",new Date(Q.expiresAt).toLocaleDateString("fr-FR")]})]})]})]}),e.jsxs(Te,{spacing:1,children:[e.jsx(Jl,{label:Q.active?"Dsactiver":"Activer",children:e.jsx(Pn,{icon:Q.active?e.jsx(ale,{}):e.jsx(d3,{}),size:"sm",colorScheme:Q.active?"orange":"green",variant:"ghost",onClick:()=>B(Q)})}),e.jsx(Jl,{label:"Modifier",children:e.jsx(Pn,{icon:e.jsx(ole,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>S(Q)})}),e.jsx(Jl,{label:"Supprimer",children:e.jsx(Pn,{icon:e.jsx(ule,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>F(Q.id)})})]})]})}),e.jsx(bt,{pt:0,children:e.jsx(Z,{children:Q.content})})]},Q.id)})}),e.jsxs(Hn,{isOpen:u,onClose:a,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:e.jsxs(Te,{children:[e.jsx(Hw,{}),e.jsx(Z,{children:i?"Modifier le flash":"Nouveau flash"})]})}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Type"}),e.jsx(gn,{value:d.type,onChange:Q=>f(z=>({...z,type:Q.target.value})),children:Object.entries(Kw).map(([Q,z])=>e.jsx("option",{value:Q,children:z.label},Q))})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Contenu du message"}),e.jsx(xr,{value:d.content,onChange:Q=>f(z=>({...z,content:Q.target.value})),placeholder:"Message  afficher...",rows:4})]}),e.jsxs(yc,{templateColumns:"1fr 1fr",gap:4,width:"100%",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Statut"}),e.jsxs(Te,{children:[e.jsx(vo,{isChecked:d.active,onChange:Q=>f(z=>({...z,active:Q.target.checked}))}),e.jsx(Z,{children:d.active?"Actif":"Inactif"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Afficher sur l'externe"}),e.jsxs(Te,{children:[e.jsx(vo,{isChecked:d.showOnExternal,onChange:Q=>f(z=>({...z,showOnExternal:Q.target.checked}))}),e.jsx(Z,{children:d.showOnExternal?"Oui":"Non"})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date d'expiration (optionnelle)"}),e.jsx(Xe,{type:"datetime-local",value:d.expiresAt,onChange:Q=>f(z=>({...z,expiresAt:Q.target.value}))}),e.jsx(Z,{fontSize:"sm",color:"gray.500",mt:1,children:"Laissez vide pour un flash permanent"})]}),d.showOnExternal&&e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Ce flash sera visible sur le site public externe"]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:a,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:C,children:i?"Mettre  jour":"Crer"})]})]})]})]})}const lp="http://localhost:3001".replace(/\/$/,""),Ble={PENDING:{label:"En attente",color:"yellow",progress:25},ACTIVE:{label:"Actif",color:"green",progress:100},EXPIRED:{label:"Expir",color:"red",progress:0},SUSPENDED:{label:"Suspendu",color:"orange",progress:50}},Ww={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},Yw={CASH:"Espces",CHECK:"Chque",BANK_TRANSFER:"Virement",CARD:"Carte bancaire",PAYPAL:"PayPal",HELLOASSO:"HelloAsso"};function Ele(){const{user:t,member:n,memberLoading:r,memberError:s,memberApiBase:i,refreshMember:l}=qa(),[d,f]=T.useState(null),[u,h]=T.useState(!0),[a,m]=T.useState(null),[v,g]=T.useState(null),[x,w]=T.useState(!1),[b,S]=T.useState({}),[C,B]=T.useState([]),[F,N]=T.useState(!1),[Q,z]=T.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{isOpen:k,onOpen:K,onClose:se}=er(),{isOpen:V,onOpen:q,onClose:le}=er(),{isOpen:ae,onOpen:ie,onClose:J}=er(),[G,W]=T.useState({reason:"",notes:"",pv:null,resignation:null}),[pe,oe]=T.useState(!1),[he,$]=T.useState([]),[M,ee]=T.useState(""),re=Hr();T.useEffect(()=>{l()},[]),T.useEffect(()=>{f(n||null),h(r),m(s),g(i||null)},[n,r,s,i]),T.useEffect(()=>{d&&d.id?Ne():B([])},[d?.id]);const me=async()=>{await l(!0)},De=()=>{w(!0),S({...d})},Ue=async()=>{try{if(!b.firstName||!b.lastName)throw new Error("Prnom et nom requis");const We=[v??"",lp||""];let yt=null;for(const ut of We)try{const Ft=await fetch(`${ut}/api/members/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(b)});if(Ft.ok){yt=Ft;break}}catch{}if(!yt)throw new Error("Erreur de sauvegarde");const zt=await yt.json();f(zt),w(!1),re({status:"success",title:"Profil mis  jour",description:"Vos informations ont t sauvegardes",duration:3e3})}catch(We){re({status:"error",title:"Erreur",description:We.message,duration:5e3})}},Ne=async()=>{try{N(!0);const We=[v??"",lp||""];let yt=!1;for(const zt of We)try{const ut=await fetch(`${zt}/api/members/me/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ut.ok){const Ft=await ut.json();B(Ft?.documents||[]),yt=!0;break}}catch{}if(!yt)throw new Error("Chargement des documents impossible")}catch(We){console.error("Docs error",We),B([])}finally{N(!1)}},Ke=async We=>{try{const yt=[v??"",lp||""];let zt=null;for(const Ye of yt)try{const Zt=await fetch(`${Ye}/api/documents/${We.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Zt.ok){zt=Zt;break}}catch{}if(!zt)throw new Error("Tlchargement impossible");const ut=await zt.blob(),Ft=URL.createObjectURL(ut),Ct=document.createElement("a");Ct.href=Ft,Ct.download=We.fileName||"document",document.body.appendChild(Ct),Ct.click(),Ct.remove(),URL.revokeObjectURL(Ft)}catch(yt){re({status:"error",title:"Erreur",description:yt.message})}},rt=()=>{w(!1),S({...d})},et=async()=>{if(Q.newPassword!==Q.confirmPassword){re({status:"error",title:"Erreur",description:"Les mots de passe ne correspondent pas",duration:3e3});return}if(Q.newPassword.length<6){re({status:"error",title:"Erreur",description:"Le mot de passe doit faire au moins 6 caractres",duration:3e3});return}try{const We=await fetch(`${lp}/api/members/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({currentPassword:Q.currentPassword,newPassword:Q.newPassword})});if(!We.ok){const yt=await We.json();throw new Error(yt.error||"Erreur de changement de mot de passe")}re({status:"success",title:"Mot de passe modifi",description:"Votre mot de passe a t mis  jour avec succs",duration:3e3}),z({currentPassword:"",newPassword:"",confirmPassword:""}),se()}catch(We){re({status:"error",title:"Erreur",description:We.message,duration:5e3})}};if(u)return e.jsx(is,{h:"400px",children:e.jsx(Kr,{size:"xl"})});const wt=We=>{try{const yt=typeof We=="string"?new Date(We):We;return yt?yt.toLocaleDateString("fr-FR"):"-"}catch{return"-"}},nt=(We,yt)=>{const zt=new Date(We.getTime());return zt.setFullYear(zt.getFullYear()+yt),zt},Ee=(We,yt)=>Math.ceil((yt.getTime()-We.getTime())/(1e3*60*60*24)),at=d?.membershipStartDate?new Date(d.membershipStartDate):null,Gt=d?.membershipEndDate?new Date(d.membershipEndDate):null,Oe=at?nt(at,1):null,ce=Gt||Oe,ve=new Date,Ge=ce?ce<ve:!1,vt=ce?Ee(ve,ce):null,_t=We=>{switch(We){case"ACTIVE":return"green";case"PENDING":return"orange";case"EXPIRED":return"red";case"SUSPENDED":return"gray";default:return"gray"}},Je=Ble[d?.membershipStatus]||{label:d?.membershipStatus||"Non dfini",progress:0};return e.jsxs(Re,{p:6,maxW:"4xl",mx:"auto",children:[e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(ht,{size:"lg",display:"flex",alignItems:"center",children:[e.jsx(fw,{style:{marginRight:"8px"}}),"Mon Adhsion"]}),x?e.jsxs(Te,{children:[e.jsx(Ie,{leftIcon:e.jsx(yh,{}),colorScheme:"green",onClick:Ue,children:"Sauvegarder"}),e.jsx(Ie,{leftIcon:e.jsx(Hp,{}),variant:"outline",onClick:rt,children:"Annuler"})]}):e.jsx(Ie,{leftIcon:e.jsx(ru,{}),onClick:De,children:"Modifier"})]}),!d&&e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Profil adhrent introuvable"}),e.jsx(Z,{fontSize:"sm",children:a===401?"Vous ntes pas autoris. Veuillez vous reconnecter.":a===404?"Votre profil nest pas encore li. Si vous venez de raliser une liaison, actualisez la page ou reconnectez-vous. Sinon, merci de contacter un administrateur pour lassocier depuis la Gestion des Adhrents.":a===500?"Erreur serveur lors de la rcupration du profil.":a==="network-error"?"Impossible de joindre lAPI. Rseau ou CORS ? Essayez  nouveau.":"Votre profil n'est pas encore li. Merci de contacter un administrateur pour l'associer depuis la Gestion des Adhrents."}),e.jsxs(Te,{mt:3,children:[e.jsx(Ie,{size:"sm",onClick:me,children:"Ressayer"}),(t?.roles||[]).map(zt=>String(zt).toUpperCase()).some(zt=>["ADMIN","PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(zt))?e.jsx(Ie,{size:"sm",variant:"outline",onClick:async()=>{try{oe(!0);const zt=[v??"",lp||""];let ut=null;for(const Ft of zt)try{const Ct=await fetch(`${Ft}/api/members?limit=500`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ct.ok){ut=await Ct.json();break}}catch{}$(ut?.members||[]),ie()}finally{oe(!1)}},isLoading:pe,children:"Associer mon compte"}):null]})]})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(Eu,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(Tu,{children:[e.jsx($r,{children:"Informations personnelles"}),e.jsx($r,{children:"Informations Adhrent"}),e.jsx($r,{children:"Documents d'adhsions"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{px:0,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Informations personnelles"})}),e.jsx(bt,{children:e.jsx(Be,{spacing:4,align:"stretch",children:x?e.jsxs(e.Fragment,{children:[e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Prnom"}),e.jsx(Xe,{value:b.firstName||"",onChange:We=>S(yt=>({...yt,firstName:We.target.value}))})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nom"}),e.jsx(Xe,{value:b.lastName||"",onChange:We=>S(yt=>({...yt,lastName:We.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Email"}),e.jsx(Xe,{type:"email",value:b.email||"",onChange:We=>S(yt=>({...yt,email:We.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Tlphone"}),e.jsx(Xe,{value:b.phone||"",onChange:We=>S(yt=>({...yt,phone:We.target.value}))})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Adresse"}),e.jsx(Xe,{value:b.address||"",onChange:We=>S(yt=>({...yt,address:We.target.value}))})]}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Code postal"}),e.jsx(Xe,{value:b.postalCode||"",onChange:We=>S(yt=>({...yt,postalCode:We.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Ville"}),e.jsx(Xe,{value:b.city||"",onChange:We=>S(yt=>({...yt,city:We.target.value}))})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date de naissance"}),e.jsx(Xe,{type:"date",value:b.birthDate?b.birthDate.split("T")[0]:"",onChange:We=>S(yt=>({...yt,birthDate:We.target.value}))})]})]}):e.jsxs(Sn,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(Re,{children:[e.jsxs(Te,{mb:4,children:[e.jsx(fw,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Nom complet"}),e.jsxs(Z,{fontWeight:"bold",children:[d.firstName," ",d.lastName]})]})]}),d.email&&e.jsxs(Te,{mb:4,children:[e.jsx(yf,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Email"}),e.jsx(Z,{fontWeight:"bold",children:d.email})]})]}),d.phone&&e.jsxs(Te,{mb:4,children:[e.jsx(IP,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Tlphone"}),e.jsx(Z,{fontWeight:"bold",children:d.phone})]})]})]}),e.jsxs(Re,{children:[(d.address||d.city)&&e.jsxs(Te,{mb:4,children:[e.jsx(hf,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Adresse"}),e.jsxs(Z,{fontWeight:"bold",children:[d.address&&`${d.address}, `,d.postalCode," ",d.city]})]})]}),d.birthDate&&e.jsxs(Te,{mb:4,children:[e.jsx(xc,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Date de naissance"}),e.jsx(Z,{fontWeight:"bold",children:new Date(d.birthDate).toLocaleDateString("fr-FR")})]})]})]})]})})})]})}),e.jsx(Gr,{px:0,children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Statut de l'Adhsion"})}),e.jsxs(bt,{children:[e.jsxs(Sn,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:2,children:"Statut actuel"}),e.jsx(Xt,{colorScheme:_t(d.membershipStatus),fontSize:"md",p:2,children:Je.label}),e.jsx(df,{value:Je.progress,colorScheme:_t(d.membershipStatus),mt:2,size:"sm"})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:2,children:"Type d'adhsion"}),e.jsx(Z,{fontWeight:"bold",children:Ww[d.membershipType]||d.membershipType})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:2,children:"Matricule"}),e.jsx(Z,{fontWeight:"bold",color:"blue.600",children:d.matricule}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"Utilis pour se connecter au site"})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:2,children:"Numro d'adhrent"}),e.jsx(Z,{fontWeight:"bold",color:"purple.600",children:d.memberNumber}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:"Numro unique d'adhsion"})]})]}),e.jsx(ds,{my:4}),e.jsxs(Sn,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:1,children:"Dbut d'adhsion"}),e.jsx(Z,{fontWeight:"bold",children:at?wt(at):"-"})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:1,children:"Expiration prvue"}),e.jsx(Z,{fontWeight:"bold",color:Ge?"red.600":"gray.800",children:ce?wt(ce):"-"}),ce&&e.jsx(Z,{fontSize:"xs",color:Ge?"red.500":"gray.500",children:Ge?"Adhsion expire":`${vt} jour(s) restant(s)`})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:1,children:"Dernier paiement"}),e.jsx(Z,{fontWeight:"bold",children:at?wt(at):"-"}),d?.paymentAmount&&e.jsxs(Z,{fontSize:"xs",color:"gray.600",children:[d.paymentAmount," (",Yw[d.paymentMethod]||d.paymentMethod,")"]})]})]}),!Ge&&vt!==null&&vt<=60&&e.jsxs(ir,{status:"warning",mt:4,borderRadius:"md",children:[e.jsx(or,{}),"Votre adhsion arrive  chance dans ",vt," jour(s). Pensez  la renouveler."]}),Ge&&e.jsxs(ir,{status:"error",mt:4,borderRadius:"md",children:[e.jsx(or,{}),"Votre adhsion est expire. Veuillez procder au renouvellement."]})]})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Dtails d'adhsion"})}),e.jsx(bt,{children:x?e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type d'adhsion"}),e.jsx(gn,{value:b.membershipType||"STANDARD",onChange:We=>S(yt=>({...yt,membershipType:We.target.value})),children:Object.entries(Ww).map(([We,yt])=>e.jsx("option",{value:We,children:yt},We))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Montant cotisation ()"}),e.jsx(Xe,{type:"number",value:b.paymentAmount||"",onChange:We=>S(yt=>({...yt,paymentAmount:We.target.value}))})]})]}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Mode de paiement"}),e.jsx(gn,{value:b.paymentMethod||"CASH",onChange:We=>S(yt=>({...yt,paymentMethod:We.target.value})),children:Object.entries(Yw).map(([We,yt])=>e.jsx("option",{value:We,children:yt},We))})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{htmlFor:"newsletter",mb:"0",children:"Newsletter"}),e.jsx(vo,{id:"newsletter",isChecked:b.newsletter,onChange:We=>S(yt=>({...yt,newsletter:We.target.checked}))})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:b.notes||"",onChange:We=>S(yt=>({...yt,notes:We.target.value})),placeholder:"Notes personnelles..."})]})]}):e.jsxs(Sn,{columns:{base:1,md:2},spacing:{base:4,md:6},children:[e.jsxs(Re,{children:[d.paymentAmount&&e.jsxs(Te,{mb:4,children:[e.jsx(Dj,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Cotisation"}),e.jsxs(Z,{fontWeight:"bold",children:[d.paymentAmount," (",Yw[d.paymentMethod]||d.paymentMethod,")"]})]})]}),e.jsxs(Te,{mb:4,children:[e.jsx(fw,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Type"}),e.jsx(Z,{fontWeight:"bold",children:Ww[d.membershipType]||d.membershipType})]})]}),at&&e.jsxs(Te,{mb:4,children:[e.jsx(xc,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Dbut d'adhsion"}),e.jsx(Z,{fontWeight:"bold",children:wt(at)})]})]})]}),e.jsxs(Re,{children:[e.jsxs(Te,{mb:4,children:[e.jsx(Tp,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Matricule"}),e.jsx(Z,{fontWeight:"bold",color:"blue.600",children:d.matricule})]})]}),e.jsxs(Te,{mb:4,children:[e.jsx(Tp,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Numro d'adhrent"}),e.jsx(Z,{fontWeight:"bold",color:"purple.600",children:d.memberNumber})]})]}),ce&&e.jsxs(Te,{mb:4,children:[e.jsx(xc,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Expiration prvue"}),e.jsx(Z,{fontWeight:"bold",color:Ge?"red.600":"gray.800",children:wt(ce)})]})]})]})]})})]})]})}),e.jsx(Gr,{px:0,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Documents d'adhsions"})}),e.jsx(bt,{children:F?e.jsx(is,{children:e.jsx(Kr,{})}):C.length===0?e.jsx(Z,{color:"gray.600",children:"Aucun document pour le moment."}):e.jsxs(Is,{size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Fichier"}),e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Ajout le"}),e.jsx(At,{children:"Expiration"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{})]})}),e.jsx(Rs,{children:C.map(We=>e.jsxs(Rn,{children:[e.jsx(lt,{children:We.fileName}),e.jsx(lt,{children:We.documentType||"-"}),e.jsx(lt,{children:We.uploadedAt?new Date(We.uploadedAt).toLocaleString("fr-FR"):"-"}),e.jsx(lt,{children:We.expiryDate?new Date(We.expiryDate).toLocaleDateString("fr-FR"):"-"}),e.jsx(lt,{children:e.jsx(Xt,{children:We.status||"PENDING"})}),e.jsx(lt,{textAlign:"right",children:e.jsx(Ie,{size:"sm",leftIcon:e.jsx(vc,{}),onClick:()=>Ke(We),children:"Tlcharger"})})]},We.id))})]})})]})})]})]}),!x&&e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Actions"})}),e.jsx(bt,{children:e.jsxs(Te,{spacing:4,wrap:"wrap",children:[e.jsx(Ie,{leftIcon:e.jsx(Tp,{}),onClick:K,children:"Changer le mot de passe"}),e.jsx(Ie,{leftIcon:e.jsx(vc,{}),variant:"outline",children:"Tlcharger ma carte d'adhrent"}),(t?.roles||[]).map(zt=>String(zt).toUpperCase()).some(zt=>["PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(zt))&&e.jsx(Ie,{colorScheme:"red",variant:"outline",onClick:q,children:"Supprimer l'adhsion"})]})})]}),d.notes&&!x&&e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Notes"})}),e.jsx(bt,{children:e.jsx(Z,{children:d.notes})})]})]})]}),e.jsxs(Hn,{isOpen:k,onClose:se,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Changer le mot de passe"}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Mot de passe actuel"}),e.jsx(Xe,{type:"password",value:Q.currentPassword,onChange:We=>z(yt=>({...yt,currentPassword:We.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Nouveau mot de passe"}),e.jsx(Xe,{type:"password",value:Q.newPassword,onChange:We=>z(yt=>({...yt,newPassword:We.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Confirmer le nouveau mot de passe"}),e.jsx(Xe,{type:"password",value:Q.confirmPassword,onChange:We=>z(yt=>({...yt,confirmPassword:We.target.value}))})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:se,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:et,children:"Modifier"})]})]})]}),e.jsxs(Hn,{isOpen:V,onClose:le,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Supprimer l'adhsion"}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Motif"}),e.jsxs(gn,{value:G.reason,onChange:We=>W(yt=>({...yt,reason:We.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes (optionnel)"}),e.jsx(xr,{value:G.notes,onChange:We=>W(yt=>({...yt,notes:We.target.value}))})]}),G.reason==="EXCLUSION"||G.reason==="DEMISSION"?e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Procs-verbal (PDF/Image)"}),e.jsx(Xe,{type:"file",accept:"application/pdf,image/*",onChange:We=>W(yt=>({...yt,pv:We.target.files?.[0]||null}))})]}):null,G.reason==="DEMISSION"?e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(Xe,{type:"file",accept:"application/pdf,image/*",onChange:We=>W(yt=>({...yt,resignation:We.target.files?.[0]||null}))})]}):null]})}),e.jsx(pr,{children:e.jsxs(Te,{children:[e.jsx(Ie,{variant:"ghost",onClick:le,children:"Annuler"}),e.jsx(Ie,{colorScheme:"red",onClick:async()=>{try{if(!G.reason){re({title:"Motif requis",status:"error"});return}if(G.reason==="EXCLUSION"&&!G.pv){re({title:"PV obligatoire",status:"error"});return}if(G.reason==="DEMISSION"&&(!G.pv||!G.resignation)){re({title:"PV et lettre requis",status:"error"});return}const We=new FormData;We.append("reason",G.reason),G.notes&&We.append("notes",G.notes),G.pv&&We.append("pv",G.pv),G.resignation&&We.append("resignation",G.resignation);let yt=null,zt=null;for(const ut of[v??"",lp||""])try{const Ft=await fetch(`${ut}/api/members/${d?.id}/terminate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:We});if(Ft.ok){yt=Ft,zt=await Ft.json();break}else zt=await Ft.json().catch(()=>({}))}catch{}if(!yt)throw new Error(zt?.error||"Erreur de suppression");re({title:"Adhsion supprime",status:"success",duration:3e3}),le(),me()}catch(We){re({title:"Erreur",description:We.message,status:"error"})}},children:"Confirmer"})]})})]})]}),e.jsxs(Hn,{isOpen:ae,onClose:J,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Associer mon compte  un adhrent"}),e.jsx(Vn,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Slectionnez ladhrent correspondant  votre compte afin dactiver la page Mon Adhsion."}),e.jsxs(be,{children:[e.jsx(je,{children:"Adhrent"}),e.jsx(gn,{value:M,onChange:We=>ee(We.target.value),placeholder:"Choisir",children:he.map(We=>e.jsxs("option",{value:We.id,children:[We.lastName?.toUpperCase()," ",We.firstName,"  ",We.email," ",We.memberNumber?`(${We.memberNumber})`:""]},We.id))})]})]})}),e.jsx(pr,{children:e.jsxs(Te,{children:[e.jsx(Ie,{variant:"ghost",onClick:J,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",isDisabled:!M,onClick:async()=>{try{oe(!0);let We=!1,yt=null;for(const zt of[v??"",lp||""])try{const ut=await fetch(`${zt}/api/members/${M}/link-access`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:(t?.username||"").toLowerCase()})}),Ft=await ut.json().catch(()=>({}));if(ut.ok){We=!0;break}else yt=Ft?.error||"Erreur de liaison"}catch{}if(!We)throw new Error(yt||"Erreur de liaison");re({status:"success",title:"Compte associ"}),J(),await l(!0)}catch(We){re({status:"error",title:"chec",description:We.message})}finally{oe(!1)}},children:"Associer"})]})})]})]})]})}const Tle="/univers_rbe.png";function Ile(){const[t,n]=T.useState(""),[r,s]=T.useState(""),[i,l]=T.useState(""),[d,f]=T.useState(!1),u=rA(),{setToken:h,setUser:a}=qa(),m=Os("rbe.500","rbe.300"),v=Os("gray.100","gray.700"),g=async()=>{if(!t.trim()||!r.trim()){l("Champs requis.");return}f(!0),l("");try{const w=t.trim(),S=/^\d{4}-\d{3}$/i.test(w)||w.includes("@")?await hne(w,r):await dne(w.toLowerCase(),r);h(S.token),a(S.user),u("/dashboard")}catch(w){l(w.message)}finally{f(!1)}},x=w=>w.key==="Enter"&&g();return e.jsxs(Re,{minH:"100vh",bg:"white",overflowX:"hidden",children:[e.jsx(Re,{as:"header",w:"100%",bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:e.jsx(Re,{maxW:"2000px",mx:"auto",children:e.jsx(Cu,{src:Tle,alt:"Bannire Intranet",w:"100%",h:{base:"100px",md:"200px",lg:"300px"},objectFit:"cover",fallbackSrc:"https://via.placeholder.com/2000x600?text=Intranet+Banner"})})}),e.jsx(Re,{as:"main",px:4,pb:12,children:e.jsx(Re,{maxW:"xs",w:"full",mx:"auto",mt:{base:-12,md:-20},position:"relative",children:e.jsxs(Be,{spacing:3,bg:"white",p:6,borderRadius:"md",shadow:"xl",border:"1px solid",borderColor:v,borderTop:"4px solid",borderTopColor:"rbe.500",children:[e.jsx(Z,{fontSize:"xl",fontWeight:"bold",textAlign:"center",children:"Connexion Intranet"}),e.jsx(Z,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"Accs rserv aux membres et bnvoles"}),i&&e.jsx(Z,{color:"red.500",textAlign:"center",children:i}),e.jsx(Xe,{size:"sm",placeholder:"Identifiant",value:t,onChange:w=>n(w.target.value),onKeyDown:x,_focus:{borderColor:m,boxShadow:`0 0 0 1px ${m}`}}),e.jsx(Xe,{size:"sm",placeholder:"Mot de passe",type:"password",value:r,onChange:w=>s(w.target.value),onKeyDown:x,_focus:{borderColor:m,boxShadow:`0 0 0 1px ${m}`}}),e.jsx(Ie,{size:"sm",colorScheme:"rbe",w:"full",onClick:g,isLoading:d,loadingText:"Connexion...",children:"Se connecter"})]})})})]})}function _le(){const[t,n]=T.useState([]),[r,s]=T.useState(!1),[i,l]=T.useState(!1),[d,f]=T.useState(""),[u,h]=T.useState("CONFIRMED"),[a,m]=T.useState(!1),[v,g]=T.useState({total:0,confirmed:0,pending:0}),[x,w]=T.useState(null),[b,S]=T.useState("ALL"),C=Hr(),{token:B,isAuthenticated:F}=qa(),N=rA(),{isOpen:Q,onOpen:z,onClose:k}=er(),K=T.useCallback(async(J={manual:!1})=>{if(!B){console.log("[Newsletter] Waiting for token...");return}s(!0),m(!1);try{console.log("[Newsletter] Fetching subscribers...");const G=await Py.getAll();console.log("[Newsletter] Received:",G),n(Array.isArray(G)?G:[]);const W=G.length,pe=G.filter(he=>he.status==="CONFIRMED").length,oe=G.filter(he=>he.status==="PENDING").length;g({total:W,confirmed:pe,pending:oe})}catch(G){if(console.error("[Newsletter] fetch error:",G),G.status===401){C({status:"error",title:"Session expire",description:"Veuillez vous reconnecter"}),n([]);return}m(!0),J.manual||C({status:"warning",title:"Mode dgrad",description:"Affichage de donnes de dmonstration (chec API)"}),n([{id:"demo1",email:"demo@example.com",status:"CONFIRMED",createdAt:new Date().toISOString()},{id:"demo2",email:"test@rbe.fr",status:"PENDING",createdAt:new Date().toISOString()}]),g({total:2,confirmed:1,pending:1})}finally{s(!1)}},[B,C]);T.useEffect(()=>{B&&K()},[B,K]);const se=async()=>{if(!d.includes("@")){C({status:"error",title:"Email invalide"});return}if(!B){C({status:"error",title:"Authentification requise"});return}l(!0);try{await Py.create({email:d.trim().toLowerCase(),status:u}),C({status:"success",title:"Abonn ajout avec succs"}),f(""),h("CONFIRMED"),K({manual:!0})}catch(J){if(J.status===401){C({status:"error",title:"Session expire"});return}if(J.status===409){C({status:"info",title:"Email dj existant",description:"Cet email est dj dans la liste"});return}C({status:"error",title:"Erreur lors de l'ajout"})}finally{l(!1)}},V=async(J,G)=>{if(confirm(`Supprimer l'abonn ${G} ?`)){if(!B){C({status:"error",title:"Authentification requise"});return}try{await Py.delete(J),C({status:"success",title:"Abonn supprim"}),n(W=>W.filter(pe=>pe.id!==J)),g(W=>({...W,total:W.total-1,confirmed:W.confirmed-(t.find(pe=>pe.id===J)?.status==="CONFIRMED"?1:0),pending:W.pending-(t.find(pe=>pe.id===J)?.status==="PENDING"?1:0)}))}catch(W){if(W.status===401){C({status:"error",title:"Session expire"});return}C({status:"error",title:"Erreur lors de la suppression"})}}},q=J=>{w(J),z()},le=async J=>{if(x)try{await Py.updateStatus(x.id,J),C({status:"success",title:"Statut mis  jour",description:`${x.email}  ${J}`}),n(G=>G.map(W=>W.id===x.id?{...W,status:J}:W)),k(),K({manual:!0})}catch{C({status:"error",title:"Erreur lors de la mise  jour"})}},ae=async()=>{try{C({status:"info",title:"Export en cours...",description:"Gnration du fichier CSV"});const J=t.map(oe=>({Email:oe.email,Statut:oe.status,"Date inscription":new Date(oe.createdAt).toLocaleDateString("fr-FR")})),G=[Object.keys(J[0]).join(";"),...J.map(oe=>Object.values(oe).join(";"))].join(`
`),W=new Blob([G],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a");pe.href=URL.createObjectURL(W),pe.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,pe.click(),C({status:"success",title:"Export termin"})}catch{C({status:"error",title:"Erreur lors de l'export"})}},ie=b==="ALL"?t:t.filter(J=>J.status===b);return F?e.jsx(Re,{p:6,children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"lg",children:" Gestion Newsletter"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Grez les abonnements  la newsletter RtroBus Essonne"})]}),e.jsxs(Te,{children:[e.jsx(Ie,{leftIcon:e.jsx(RA,{}),size:"sm",variant:"outline",onClick:()=>K({manual:!0}),isLoading:r,children:"Rafrachir"}),e.jsx(Ie,{leftIcon:e.jsx(vc,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:ae,isDisabled:t.length===0,children:"Exporter CSV"}),e.jsx(Ie,{leftIcon:e.jsx(yf,{}),size:"sm",colorScheme:"blue",onClick:()=>N("/dashboard/newsletter-campaigns"),title:"Grer les campagnes de mailing",children:"Campagnes"})]})]}),e.jsxs(xB,{children:[e.jsxs(Zn,{children:[e.jsx(qn,{children:"Total abonns"}),e.jsx(Jn,{color:"blue.500",children:v.total})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Confirms"}),e.jsx(Jn,{color:"green.500",children:v.confirmed})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"En attente"}),e.jsx(Jn,{color:"orange.500",children:v.pending})]})]}),a&&e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"bold",children:"Mode dgrad"}),e.jsx(Z,{fontSize:"sm",children:"Donnes de dmonstration affiches (API indisponible)"})]})]}),e.jsx(Re,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"gray.50",children:e.jsxs(Be,{spacing:4,children:[e.jsx(ht,{size:"sm",children:" Ajouter un nouvel abonn"}),e.jsxs(Te,{w:"100%",spacing:4,children:[e.jsxs(be,{flex:2,children:[e.jsx(je,{fontSize:"sm",children:"Email"}),e.jsx(Xe,{placeholder:"nouvel.abonne@email.com",value:d,onChange:J=>f(J.target.value),bg:"white"})]}),e.jsxs(be,{flex:1,children:[e.jsx(je,{fontSize:"sm",children:"Statut"}),e.jsxs(gn,{value:u,onChange:J=>h(J.target.value),bg:"white",children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"green",onClick:se,isLoading:i,alignSelf:"end",children:"Ajouter"})]})]})}),e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Te,{children:[e.jsx(Z,{fontSize:"sm",fontWeight:"medium",children:"Filtrer par statut :"}),e.jsxs(gn,{size:"sm",value:b,onChange:J=>S(J.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous"}),e.jsx("option",{value:"CONFIRMED",children:"Confirms"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsxs(Sd,{size:"lg",variant:"subtle",colorScheme:"purple",children:[e.jsxs(Cd,{children:[e.jsx(tA,{style:{marginRight:"4px"}}),ie.length," affich",ie.length>1?"s":""]}),t.length>0&&e.jsx(yB,{title:"Vider la liste locale (ne supprime pas en base)",onClick:()=>{confirm("Vider la liste locale affiche ? (ne supprime pas en base)")&&(n([]),g({total:0,confirmed:0,pending:0}))}})]})]}),e.jsx(Re,{borderWidth:"1px",borderRadius:"lg",overflowX:"auto",children:r?e.jsx(is,{py:10,children:e.jsxs(Be,{children:[e.jsx(Kr,{size:"lg",color:"blue.500"}),e.jsx(Z,{color:"gray.600",children:"Chargement des abonns..."})]})}):e.jsxs(Is,{size:"sm",children:[e.jsx(Ns,{bg:"gray.50",children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Email"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Date d'inscription"}),e.jsx(At,{children:"Actions"})]})}),e.jsxs(Rs,{children:[ie.map(J=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{fontWeight:"semibold",maxW:"300px",isTruncated:!0,children:J.email}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:J.status==="CONFIRMED"?"green":"orange",variant:"subtle",fontSize:"xs",px:2,py:1,borderRadius:"md",cursor:"pointer",onClick:()=>q(J),_hover:{opacity:.8},title:"Cliquer pour modifier",children:J.status==="CONFIRMED"?" Confirm":" En attente"})}),e.jsx(lt,{fontSize:"sm",color:"gray.600",children:J.createdAt?new Date(J.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"-"}),e.jsx(lt,{children:e.jsxs(Te,{spacing:1,children:[e.jsx(Pn,{"aria-label":"Modifier le statut",icon:e.jsx(ru,{}),size:"xs",colorScheme:"blue",variant:"ghost",onClick:()=>q(J),title:"Modifier le statut"}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>V(J.id,J.email),title:"Supprimer cet abonn"})]})})]},J.id)),ie.length===0&&!r&&e.jsx(Rn,{children:e.jsx(lt,{colSpan:4,children:e.jsx(is,{py:8,children:e.jsxs(Be,{children:[e.jsx(Z,{fontSize:"lg",children:""}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:b==="ALL"?"Aucun abonn pour le moment.":`Aucun abonn avec le statut "${b}".`}),b!=="ALL"&&e.jsx(Ie,{size:"sm",variant:"link",onClick:()=>S("ALL"),children:"Voir tous les abonns"})]})})})})]})]})}),e.jsx(Re,{mt:8,p:4,bg:"blue.50",borderRadius:"lg",children:e.jsxs(Be,{align:"start",spacing:3,children:[e.jsx(ht,{size:"sm",color:"blue.700",children:" Feuille de route"}),e.jsxs(Be,{align:"start",spacing:1,fontSize:"sm",color:"blue.600",children:[e.jsx(Z,{children:" Ajout / suppression manuelle d'abonns"}),e.jsx(Z,{children:" Gestion des statuts (confirm / en attente)"}),e.jsx(Z,{children:" Export CSV des abonns"}),e.jsx(Z,{children:" Statistiques en temps rel"}),e.jsx(Z,{children:" Import CSV en masse"}),e.jsx(Z,{children:" Double opt-in avec email de confirmation"}),e.jsx(Z,{children:" Intgration service de mailing (Sendinblue, Mailjet...)"}),e.jsx(Z,{children:" Templates d'emails personnalisables"}),e.jsx(Z,{children:" Segmentation avance des abonns"})]})]})}),e.jsxs(Hn,{isOpen:Q,onClose:k,isCentered:!0,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Modifier le statut de l'abonn"}),e.jsx(fr,{}),e.jsx(Vn,{children:x&&e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Email :"})," ",x.email]}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Statut actuel :"})," ",x.status]}),e.jsxs(be,{children:[e.jsx(je,{children:"Nouveau statut"}),e.jsxs(gn,{defaultValue:x.status,onChange:J=>w({...x,newStatus:J.target.value}),children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:k,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:()=>le(x?.newStatus||x?.status),children:"Mettre  jour"})]})]})]})]})}):e.jsx(is,{minH:"300px",children:e.jsxs(Be,{children:[e.jsx(Z,{children:"Veuillez vous connecter pour accder  la gestion newsletter."}),e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Cette section ncessite des droits d'administration."})]})})}const rf="http://localhost:3001";function Fle(){const[t,n]=T.useState([]),[r,s]=T.useState(!1),[i,l]=T.useState(null),[d,f]=T.useState(null),[u,h]=T.useState({title:"",subject:"",content:"",scheduledAt:""}),[a,m]=T.useState(""),[v,g]=T.useState(null),[x,w]=T.useState(null),[b,S]=T.useState({}),{token:C}=qa(),B=Hr(),{isOpen:F,onOpen:N,onClose:Q}=er(),{isOpen:z,onOpen:k,onClose:K}=er(),{isOpen:se,onOpen:V,onClose:q}=er(),le=async()=>{s(!0);try{const $=await fetch(`${rf}/newsletter/campaigns`,{headers:{Authorization:`Bearer ${C}`}});if(!$.ok)throw new Error("Erreur chargement");const M=await $.json();n(M)}catch{B({status:"error",title:"Erreur",description:"Impossible de charger les campagnes"})}finally{s(!1)}};T.useEffect(()=>{C&&le()},[C]);const ae=async()=>{if(!u.title||!u.subject||!u.content){B({status:"error",title:"Erreur",description:"Tous les champs sont requis"});return}try{if(!(await fetch(`${rf}/newsletter/campaigns`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(u)})).ok)throw new Error("Erreur cration");B({status:"success",title:"Succs",description:"Campagne cre avec succs"}),h({title:"",subject:"",content:"",scheduledAt:""}),Q(),le()}catch{B({status:"error",title:"Erreur",description:"Impossible de crer la campagne"})}},ie=async $=>{try{const M=await fetch(`${rf}/newsletter/campaigns/${$}/preview`,{headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Erreur prvisualisation");const ee=await M.json();f($),g(ee),k()}catch{B({status:"error",title:"Erreur",description:"Impossible de prvisualiser"})}},J=async $=>{if(!a){B({status:"error",title:"Erreur",description:"Email de test requis"});return}try{if(!(await fetch(`${rf}/newsletter/campaigns/${$}/test`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({email:a})})).ok)throw new Error("Erreur envoi test");B({status:"success",title:"Test envoy",description:`Email de test envoy  ${a}`}),m("")}catch{B({status:"error",title:"Erreur",description:"Impossible d'envoyer le test"})}},G=async $=>{if(confirm("tes-vous sr de vouloir envoyer cette campagne ? Cette action est irrversible.")){w($);try{const M=await fetch(`${rf}/newsletter/campaigns/${$}/prepare`,{method:"POST",headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Erreur prparation");const ee=await M.json();B({status:"info",title:"Prparation termine",description:`${ee.preparedSends} emails prpars. Envoi en cours...`});const re=await fetch(`${rf}/newsletter/campaigns/${$}/send`,{method:"POST",headers:{Authorization:`Bearer ${C}`}});if(!re.ok)throw new Error("Erreur envoi");const me=await re.json();B({status:"success",title:"Envoi termin",description:`${me.success} emails envoys avec succs, ${me.errors} erreurs`}),le()}catch{B({status:"error",title:"Erreur",description:"Impossible d'envoyer la campagne"})}finally{w(null)}}},W=async $=>{l($);try{const M=await fetch(`${rf}/newsletter/campaigns/${$.id}/stats`,{headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Erreur stats");const ee=await M.json();S(ee),V()}catch{B({status:"error",title:"Erreur",description:"Impossible de charger les statistiques"})}},pe=async($,M)=>{if(confirm(`Supprimer dfinitivement la campagne "${M}" ?`))try{if(!(await fetch(`${rf}/newsletter/campaigns/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${C}`}})).ok)throw new Error("Erreur suppression");B({status:"success",title:"Supprim",description:"Campagne supprime avec succs"}),le()}catch{B({status:"error",title:"Erreur",description:"Impossible de supprimer la campagne"})}},oe=$=>{const M={DRAFT:{color:"gray",text:"Brouillon"},SENDING:{color:"blue",text:"En cours"},SENT:{color:"green",text:"Envoy"},CANCELLED:{color:"red",text:"Annul"}},ee=M[$]||M.DRAFT;return e.jsx(Xt,{colorScheme:ee.color,children:ee.text})},he={event:{title:"Nouvel vnement",subject:" Nouveau vnement RtroBus Essonne !",content:`
        <h2> Nouvel vnement  ne pas manquer !</h2>
        <p>Chers passionns de vhicules d'poque,</p>
        <p>Nous avons le plaisir de vous annoncer un nouvel vnement organis par l'association RtroBus Essonne :</p>
        
        <h3> [Nom de l'vnement]</h3>
        <p><strong>Date :</strong> [Date]<br>
        <strong>Lieu :</strong> [Lieu]<br>
        <strong>Heure :</strong> [Heure]</p>
        
        <p>[Description de l'vnement]</p>
        
        <a href="#" class="button">S'inscrire  l'vnement</a>
        
        <p>Au plaisir de vous retrouver nombreux !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `},news:{title:"Actualits du parc",subject:" Actualits RtroBus Essonne",content:`
        <h2> Les dernires nouvelles de notre parc</h2>
        <p>Bonjour  tous,</p>
        <p>Voici les dernires actualits de l'association RtroBus Essonne :</p>
        
        <h3> Nouveau vhicule au parc</h3>
        <p>[Informations sur le nouveau vhicule]</p>
        
        <h3> Travaux de restauration</h3>
        <p>[Avancement des travaux]</p>
        
        <h3> Retour en images</h3>
        <p>[Galerie photos rcente]</p>
        
        <a href="#" class="button">Voir toutes les actualits</a>
        
        <p>Merci pour votre soutien !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `}};return e.jsxs(Re,{p:6,children:[e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"lg",children:" Campagnes Newsletter"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Crez et grez vos campagnes d'emailing"})]}),e.jsxs(Te,{children:[e.jsx(Ie,{leftIcon:e.jsx(RA,{}),onClick:le,isLoading:r,variant:"outline",size:"sm",children:"Actualiser"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:N,children:"Nouvelle campagne"})]})]}),e.jsx(Re,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:r?e.jsx(is,{py:10,children:e.jsx(Kr,{size:"lg"})}):t.length===0?e.jsx(is,{py:10,children:e.jsxs(Be,{children:[e.jsx(Z,{fontSize:"lg",children:""}),e.jsx(Z,{color:"gray.500",children:"Aucune campagne cre"}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",size:"sm",onClick:N,children:"Crer votre premire campagne"})]})}):e.jsxs(Is,{children:[e.jsx(Ns,{bg:"gray.50",children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Campagne"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Cre le"}),e.jsx(At,{children:"Abonns"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:t.map($=>e.jsxs(Rn,{children:[e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"semibold",children:$.title}),e.jsx(Z,{fontSize:"sm",color:"gray.600",isTruncated:!0,maxW:"300px",children:$.subject})]})}),e.jsx(lt,{children:oe($.status)}),e.jsx(lt,{children:e.jsx(Z,{fontSize:"sm",children:new Date($.createdAt).toLocaleDateString("fr-FR")})}),e.jsx(lt,{children:e.jsx(Z,{fontSize:"sm",children:$.totalSent||$._count?.sends||0})}),e.jsx(lt,{children:e.jsxs(Te,{spacing:1,children:[e.jsx(Pn,{"aria-label":"Prvisualiser",icon:e.jsx(xf,{}),size:"sm",variant:"ghost",onClick:()=>ie($.id)}),$.status==="DRAFT"&&e.jsxs(e.Fragment,{children:[e.jsx(Pn,{"aria-label":"Envoyer",icon:e.jsx(mre,{}),size:"sm",colorScheme:"green",variant:"ghost",onClick:()=>G($.id),isLoading:x===$.id}),e.jsx(Pn,{"aria-label":"Supprimer",icon:e.jsx(oi,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>pe($.id,$.title)})]}),$.status==="SENT"&&e.jsx(Pn,{"aria-label":"Statistiques",icon:e.jsx(ore,{}),size:"sm",colorScheme:"purple",variant:"ghost",onClick:()=>W($)})]})})]},$.id))})]})})]}),e.jsxs(Hn,{isOpen:F,onClose:Q,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsx($n,{children:" Nouvelle campagne newsletter"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Titre de la campagne"}),e.jsx(Xe,{placeholder:"ex: Newsletter mensuelle octobre 2025",value:u.title,onChange:$=>h(M=>({...M,title:$.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Sujet de l'email"}),e.jsx(Xe,{placeholder:"ex:  Actualits RtroBus Essonne - Octobre 2025",value:u.subject,onChange:$=>h(M=>({...M,subject:$.target.value}))})]}),e.jsx(yL,{allowToggle:!0,w:"100%",children:e.jsxs(wL,{children:[e.jsxs(jL,{children:[e.jsx(Re,{flex:"1",textAlign:"left",children:" Utiliser un template prdfini"}),e.jsx(bL,{})]}),e.jsx(SL,{children:e.jsx(Be,{spacing:2,children:Object.entries(he).map(([$,M])=>e.jsx(Ie,{size:"sm",variant:"outline",w:"100%",onClick:()=>h(ee=>({...ee,title:M.title,subject:M.subject,content:M.content})),children:M.title},$))})})]})}),e.jsxs(be,{children:[e.jsx(je,{children:"Contenu de la newsletter (HTML)"}),e.jsx(xr,{value:u.content,onChange:$=>h(M=>({...M,content:$.target.value})),minH:"400px",fontFamily:"mono",fontSize:"sm",placeholder:"Entrez votre contenu HTML..."})]}),e.jsxs(ir,{status:"info",fontSize:"sm",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"semibold",children:" Conseils"}),e.jsx(Z,{children:" Utilisez des titres avec <h2> et <h3>"}),e.jsx(Z,{children:' Ajoutez des liens avec <a href="#" class="button">Texte</a>'}),e.jsx(Z,{children:" Sparez les sections avec des paragraphes <p>"})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:Q,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:ae,children:"Crer la campagne"})]})]})]}),e.jsxs(Hn,{isOpen:z,onClose:K,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",children:[e.jsx($n,{children:" Prvisualisation de la campagne"}),e.jsx(fr,{}),e.jsx(Vn,{children:v&&e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Sujet"}),e.jsx(bg,{p:2,w:"100%",children:v.subject})]}),e.jsx(ds,{}),e.jsxs(Be,{spacing:2,children:[e.jsx(Z,{fontWeight:"semibold",children:"Aperu de l'email :"}),e.jsx(Re,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",h:"400px",w:"100%",overflow:"auto",children:e.jsx("iframe",{srcDoc:v.html,style:{width:"100%",height:"100%",border:"none"},title:"Prvisualisation email"})})]}),e.jsx(ds,{}),e.jsxs(be,{children:[e.jsx(je,{children:"Envoyer un test  :"}),e.jsxs(Te,{children:[e.jsx(Xe,{placeholder:"votre-email@test.com",value:a,onChange:$=>m($.target.value)}),e.jsx(Ie,{leftIcon:e.jsx(yf,{}),colorScheme:"orange",onClick:()=>J(d),isDisabled:!a||!d,children:"Envoyer le test"})]})]})]})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:K,children:"Fermer"})})]})]}),e.jsxs(Hn,{isOpen:se,onClose:q,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:" Statistiques de la campagne"}),e.jsx(fr,{}),e.jsx(Vn,{children:i&&e.jsxs(Be,{spacing:6,children:[e.jsxs(Be,{align:"start",w:"100%",children:[e.jsx(Z,{fontWeight:"semibold",children:i.title}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:i.subject}),e.jsxs(Z,{fontSize:"sm",color:"gray.500",children:["Envoye le ",new Date(i.sentAt).toLocaleDateString("fr-FR")]})]}),e.jsxs(xB,{w:"100%",children:[e.jsxs(Zn,{children:[e.jsx(qn,{children:"Envoys"}),e.jsx(Jn,{color:"blue.500",children:b.sent||0})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"checs"}),e.jsx(Jn,{color:"red.500",children:b.failed||0})]}),e.jsxs(Zn,{children:[e.jsx(qn,{children:"Ouvertures"}),e.jsx(Jn,{color:"green.500",children:b.opened||0})]})]}),b.sent>0&&e.jsxs(Re,{w:"100%",children:[e.jsx(Z,{fontSize:"sm",mb:2,children:"Taux de russite"}),e.jsx(df,{value:b.sent/(b.sent+b.failed)*100,colorScheme:"green",size:"lg"}),e.jsxs(Z,{fontSize:"xs",color:"gray.500",mt:1,children:[Math.round(b.sent/(b.sent+b.failed)*100),"% des emails ont t envoys avec succs"]})]})]})}),e.jsx(pr,{children:e.jsx(Ie,{onClick:q,children:"Fermer"})})]})]})]})}const Lle=({label:t,value:n,change:r,icon:s,color:i="brand",loading:l=!1})=>{const d=Os("white","gray.800"),f=Os(`${i}.600`,`${i}.400`);return e.jsx(St,{variant:"modern",bg:d,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsxs(Te,{justify:"space-between",align:"start",mb:2,children:[e.jsx(qn,{color:"gray.600",fontSize:"sm",fontWeight:"500",children:t}),s&&e.jsx(ws,{as:s,color:f,boxSize:5})]}),e.jsx(Jn,{color:f,fontSize:"2xl",fontWeight:"700",children:l?e.jsx(Kr,{size:"sm"}):n}),r&&!l&&e.jsxs(qc,{mb:0,children:[e.jsx(qm,{type:r.type}),r.value]})]})})})},Dle=({stats:t,loading:n=!1})=>e.jsx(Sn,{columns:{base:1,md:2,lg:4},spacing:6,mb:8,children:t.map((r,s)=>e.jsx(Lle,{...r,loading:n},s))}),Om={STANDARD:{label:"Standard",price:60,description:"Adhsion individuelle classique",color:"blue"},FAMILY:{label:"Famille",price:100,description:"2 adultes + enfants mineurs",color:"green"},STUDENT:{label:"tudiant",price:35,description:"Tarif rduit sur justificatif",color:"purple"},HONORARY:{label:"Honneur",price:0,description:"Membre d'honneur",color:"gold"},LIFETIME:{label:" vie",price:0,description:"Adhsion permanente",color:"red"}},Ry={PENDING:{label:"En attente",color:"yellow",icon:gp,description:"Dossier en cours de traitement"},ACTIVE:{label:"Actif",color:"green",icon:jB,description:"Adhsion  jour"},EXPIRED:{label:"Expir",color:"red",icon:wre,description:"Adhsion expire"},SUSPENDED:{label:"Suspendu",color:"orange",icon:y1,description:"Adhsion suspendue"},CANCELLED:{label:"Annul",color:"gray",icon:Pj,description:"Adhsion annule"}},Ny={MEMBER:{label:"Adhrent",icon:tA,color:"blue",description:"Membre standard de l'association",permissions:["participate_events","access_newsletter"]},DRIVER:{label:"Conducteur",icon:zp,color:"green",description:"Autoris  conduire les vhicules",permissions:["drive_vehicles","access_myrbe"]},ADMIN:{label:"Administrateur",icon:vx,color:"red",description:"Accs complet aux fonctions d'administration",permissions:["admin_full_access"]},BUREAU:{label:"Bureau",icon:ire,color:"purple",description:"Membre du bureau de l'association",permissions:["bureau_access","admin_events","admin_members"]}},Ple={CASH:{label:"Espces",icon:Qp,color:"green"},CHECK:{label:"Chque",icon:Dj,color:"blue"},TRANSFER:{label:"Virement",icon:lh,color:"purple"},HELLOASSO:{label:"HelloAsso",icon:BP,color:"orange"},CARD:{label:"Carte bancaire",icon:Dj,color:"teal"}},Xw={IDENTITY_CARD:{label:"Pice d'identit",icon:LP,color:"green",required:!0,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},DRIVING_LICENSE:{label:"Permis de conduire",icon:zp,color:"blue",required:!1,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},INSURANCE_RECORD:{label:"Relev d'assurance",icon:vx,color:"orange",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEMBERSHIP_FORM:{label:"Bulletin d'adhsion",icon:cS,color:"purple",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEDICAL_CERTIFICATE:{label:"Certificat mdical",icon:jB,color:"teal",required:!1,maxSizeMB:3,allowedTypes:["application/pdf"]}};function Rle(){const[t,n]=T.useState([]),[r,s]=T.useState([]),[i,l]=T.useState(null),[d,f]=T.useState(!0),[u,h]=T.useState(!1),[a,m]=T.useState("table"),[v,g]=T.useState([]),[x,w]=T.useState({search:"",status:"ALL",role:"ALL",membershipType:"ALL",hasMyRBEAccess:"ALL",expiringOnly:!1}),{isOpen:b,onOpen:S,onClose:C}=er(),{isOpen:B,onOpen:F,onClose:N}=er(),{isOpen:Q,onOpen:z,onClose:k}=er(),{isOpen:K,onOpen:se,onClose:V}=er(),[q,le]=T.useState(null),[ae,ie]=T.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:"",paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),[J,G]=T.useState([]),[W,pe]=T.useState({type:"IDENTITY_CARD",expiryDate:"",notes:""}),oe=T.useRef(null),he=Hr();Os("white","gray.800");const $=()=>{const ce=new Date().getFullYear(),ve=Math.floor(Math.random()*900)+100;return`${ce}-${ve}`},M=()=>{const ce="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ve="";for(let Ge=0;Ge<8;Ge++)ve+=ce.charAt(Math.floor(Math.random()*ce.length));return ve},ee=(ce,ve)=>{const Ge=new Date(ce),vt=new Date(Ge);return vt.setFullYear(Ge.getFullYear()+1,11,31),vt.toISOString().split("T")[0]},re=(ce,ve=60)=>{if(!ce)return!1;const Ge=new Date(ce),vt=new Date(Date.now()+ve*24*60*60*1e3);return Ge<=vt},me=T.useCallback(async()=>{try{if(f(!0),console.log(" Chargement des membres..."),!await Ah.testConnectivity()){console.warn(" API non accessible, mode dgrad activ"),he({status:"warning",title:"Mode dgrad",description:"L'API n'est pas accessible. Certaines fonctionnalits peuvent tre limites.",duration:5e3,isClosable:!0}),n([]);return}const ve=await Ah.getAll();console.log(" Rponse API membres:",ve);let Ge=[];ve?.members?Ge=Array.isArray(ve.members)?ve.members:[ve.members]:ve?.data?Ge=Array.isArray(ve.data)?ve.data:[ve.data]:Array.isArray(ve)?Ge=ve:(console.warn(" Structure de rponse inattendue:",ve),Ge=[]),n(Ge),console.log(` ${Ge.length} membres chargs avec succs`),Ge.length===0&&he({status:"info",title:"Aucun membre",description:"Aucun membre trouv dans la base de donnes",duration:3e3,isClosable:!0})}catch(ce){console.error(" Erreur chargement membres:",ce);let ve="Impossible de charger les membres",Ge="error";ce.message.includes("404")?ve="Endpoint membres non trouv. Vrifiez la configuration de l'API.":ce.message.includes("401")?(ve="Session expire. Veuillez vous reconnecter.",setTimeout(()=>{window.location.href="/login"},2e3)):ce.message.includes("500")?ve="Erreur serveur. Contactez l'administrateur.":ce.message.includes("Network")&&(ve="Problme de rseau. Vrifiez votre connexion.",Ge="warning"),he({status:Ge,title:"Erreur de chargement",description:ve,duration:8e3,isClosable:!0}),n([])}finally{f(!1)}},[he]),De=T.useCallback(async()=>{try{if(t.length===0)return;const ce=new Date,ve=new Date(ce.getTime()-720*60*60*1e3),Ge={totalMembers:t.length,activeMembers:t.filter(vt=>vt.membershipStatus==="ACTIVE").length,expiredMembers:t.filter(vt=>vt.membershipStatus==="EXPIRED").length,pendingMembers:t.filter(vt=>vt.membershipStatus==="PENDING").length,driversCount:t.filter(vt=>vt.role==="DRIVER"||vt.driverLicense).length,myRBEEnabled:t.filter(vt=>vt.loginEnabled).length,recentJoins:t.filter(vt=>new Date(vt.joinDate||vt.createdAt)>ve).length,expiringSoon:t.filter(vt=>re(vt.renewalDate)).length,totalRevenue:t.filter(vt=>vt.membershipStatus==="ACTIVE"&&vt.paymentAmount).reduce((vt,_t)=>vt+(parseFloat(_t.paymentAmount)||0),0)};l(Ge)}catch(ce){console.error(" Erreur calcul statistiques:",ce)}},[t]),Ue=T.useCallback(()=>{let ce=[...t];if(x.search){const ve=x.search.toLowerCase();ce=ce.filter(Ge=>`${Ge.firstName} ${Ge.lastName}`.toLowerCase().includes(ve)||Ge.email?.toLowerCase().includes(ve)||Ge.matricule?.toLowerCase().includes(ve)||Ge.phone?.includes(ve))}if(x.status!=="ALL"&&(ce=ce.filter(ve=>ve.membershipStatus===x.status)),x.role!=="ALL"&&(ce=ce.filter(ve=>ve.role===x.role)),x.membershipType!=="ALL"&&(ce=ce.filter(ve=>ve.membershipType===x.membershipType)),x.hasMyRBEAccess!=="ALL"){const ve=x.hasMyRBEAccess==="true";ce=ce.filter(Ge=>!!Ge.loginEnabled===ve)}x.expiringOnly&&(ce=ce.filter(ve=>re(ve.renewalDate))),s(ce)},[t,x]);T.useEffect(()=>{me()},[me]),T.useEffect(()=>{De()},[De]),T.useEffect(()=>{Ue()},[Ue]);const Ne=()=>{ie({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:Om.STANDARD.price.toString(),paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),le(null)},Ke=()=>{Ne(),S()},rt=ce=>{ie({...ce,joinDate:ce.joinDate?ce.joinDate.split("T")[0]:"",renewalDate:ce.renewalDate?ce.renewalDate.split("T")[0]:"",birthDate:ce.birthDate?ce.birthDate.split("T")[0]:"",licenseExpiryDate:ce.licenseExpiryDate?ce.licenseExpiryDate.split("T")[0]:"",medicalCertificateDate:ce.medicalCertificateDate?ce.medicalCertificateDate.split("T")[0]:"",paymentAmount:ce.paymentAmount?.toString()||"",maxPassengers:ce.maxPassengers?.toString()||"",driverCertifications:ce.driverCertifications||[],vehicleAuthorizations:ce.vehicleAuthorizations||[]}),le(ce),F()},et=async()=>{try{if(h(!0),!ae.firstName?.trim()||!ae.lastName?.trim()||!ae.email?.trim()){he({status:"error",title:"Champs requis",description:"Nom, prnom et email sont obligatoires",duration:5e3,isClosable:!0});return}ae.joinDate&&!ae.renewalDate&&(ae.renewalDate=ee(ae.joinDate,ae.membershipType)),ae.loginEnabled&&!ae.matricule&&(ae.matricule=$()),ae.loginEnabled&&!ae.temporaryPassword&&(ae.temporaryPassword=M(),ae.mustChangePassword=!0);const ce={...ae,paymentAmount:ae.paymentAmount?parseFloat(ae.paymentAmount):null,maxPassengers:ae.maxPassengers?parseInt(ae.maxPassengers):null};q?(await Ah.update(q.id,ce),he({status:"success",title:"Membre mis  jour",description:`${ae.firstName} ${ae.lastName} a t modifi avec succs`,duration:5e3,isClosable:!0})):(await Ah.create(ce),he({status:"success",title:"Membre cr",description:`${ae.firstName} ${ae.lastName} a t ajout avec succs`,duration:5e3,isClosable:!0})),C(),N(),Ne(),me()}catch(ce){console.error(" Erreur sauvegarde:",ce),he({status:"error",title:"Erreur de sauvegarde",description:ce.message||"Impossible de sauvegarder le membre",duration:5e3,isClosable:!0})}finally{h(!1)}},wt=()=>i?[{label:"Total adhrents",value:i.totalMembers,icon:tA,color:"brand",change:i.recentJoins>0?{type:"increase",value:`+${i.recentJoins} ce mois`}:void 0},{label:"Membres actifs",value:i.activeMembers,icon:jB,color:"success",change:{type:"increase",value:`${Math.round(i.activeMembers/i.totalMembers*100)}% du total`}},{label:"Conducteurs habilits",value:i.driversCount,icon:zp,color:"blue"},{label:"Accs MyRBE",value:i.myRBEEnabled,icon:Tp,color:"purple"},{label:"Expirant bientt",value:i.expiringSoon,icon:y1,color:"warning"},{label:"Revenus adhsions",value:`${i.totalRevenue||0}`,icon:Qp,color:"green",change:{type:"increase",value:"Cotisations encaisses"}}]:[],nt=ce=>{const ve=Ry[ce]||Ry.PENDING;return e.jsx(Jl,{label:ve.description,children:e.jsx(Xt,{colorScheme:ve.color,variant:"subtle",children:e.jsxs(Te,{spacing:1,children:[e.jsx(Icon,{as:ve.icon,size:"12px"}),e.jsx(Z,{children:ve.label})]})})})},Ee=ce=>{const ve=Ny[ce]||Ny.MEMBER;return e.jsx(Jl,{label:ve.description,children:e.jsx(Xt,{colorScheme:ve.color,variant:"outline",children:e.jsxs(Te,{spacing:1,children:[e.jsx(Icon,{as:ve.icon,size:"12px"}),e.jsx(Z,{children:ve.label})]})})})},at=ce=>{const ve=Om[ce]||Om.STANDARD;return e.jsx(Xt,{colorScheme:ve.color,variant:"subtle",children:ve.label})},Gt=ce=>{console.log(`Action en masse: ${ce} sur ${v.length} membres`)},Oe=()=>{console.log("Export des donnes membres")};return d?e.jsx(_g,{title:" Gestion des Adhsions",subtitle:"Chargement des donnes membres...",children:e.jsxs(Be,{spacing:8,py:16,children:[e.jsx(Kr,{size:"xl",color:"brand.500",thickness:"4px"}),e.jsx(Z,{color:"gray.600",children:"Synchronisation avec la base de donnes..."})]})}):e.jsxs(_g,{title:" Gestion des Adhsions",subtitle:"Administration complte des membres de l'association RtroBus Essonne",breadcrumbs:[{label:"MyRBE",href:"/dashboard/myrbe"},{label:"Gestion des Adhsions",href:"/dashboard/members-management"}],headerActions:e.jsxs(Te,{spacing:3,children:[e.jsx(Ie,{leftIcon:e.jsx(vc,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:Oe,children:"Exporter"}),e.jsx(Ie,{leftIcon:e.jsx(RT,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:Ke,children:"Nouvel adhrent"})]}),children:[e.jsxs(Be,{spacing:8,align:"stretch",children:[e.jsx(Dle,{stats:wt(),loading:!i}),e.jsx(ch,{title:"Filtres et recherche",icon:cre,color:"gray",children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Sn,{columns:{base:1,md:2,lg:4},spacing:4,children:[e.jsxs(Up,{children:[e.jsx(Mp,{children:e.jsx(w1,{color:"gray.400"})}),e.jsx(Xe,{placeholder:"Rechercher un membre...",value:x.search,onChange:ce=>w(ve=>({...ve,search:ce.target.value}))})]}),e.jsxs(gn,{value:x.status,onChange:ce=>w(ve=>({...ve,status:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),Object.entries(Ry).map(([ce,ve])=>e.jsx("option",{value:ce,children:ve.label},ce))]}),e.jsxs(gn,{value:x.role,onChange:ce=>w(ve=>({...ve,role:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les rles"}),Object.entries(Ny).map(([ce,ve])=>e.jsx("option",{value:ce,children:ve.label},ce))]}),e.jsxs(gn,{value:x.membershipType,onChange:ce=>w(ve=>({...ve,membershipType:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les types"}),Object.entries(Om).map(([ce,ve])=>e.jsx("option",{value:ce,children:ve.label},ce))]})]}),e.jsxs(Te,{spacing:4,justify:"space-between",children:[e.jsxs(Te,{spacing:4,children:[e.jsx(Xu,{isChecked:x.expiringOnly,onChange:ce=>w(ve=>({...ve,expiringOnly:ce.target.checked})),children:"Expirant bientt"}),e.jsxs(gn,{maxW:"200px",value:x.hasMyRBEAccess,onChange:ce=>w(ve=>({...ve,hasMyRBEAccess:ce.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les accs"}),e.jsx("option",{value:"true",children:"Avec MyRBE"}),e.jsx("option",{value:"false",children:"Sans MyRBE"})]})]}),e.jsxs(Te,{spacing:2,children:[e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[r.length," membre",r.length>1?"s":""," affich",r.length>1?"s":""]}),e.jsxs(Q2,{size:"sm",isAttached:!0,variant:"outline",children:[e.jsx(Ie,{leftIcon:e.jsx(fre,{}),onClick:()=>m("cards"),colorScheme:a==="cards"?"blue":"gray",children:"Cartes"}),e.jsx(Ie,{leftIcon:e.jsx(lh,{}),onClick:()=>m("table"),colorScheme:a==="table"?"blue":"gray",children:"Tableau"})]})]})]})]})}),v.length>0&&e.jsxs(ir,{status:"info",borderRadius:"lg",children:[e.jsx(or,{}),e.jsxs(Te,{justify:"space-between",w:"full",children:[e.jsxs(Z,{children:[v.length," membre",v.length>1?"s":""," slectionn",v.length>1?"s":""]}),e.jsxs(Q2,{size:"sm",children:[e.jsx(Ie,{onClick:()=>Gt("enable_myrbe"),children:"Activer MyRBE"}),e.jsx(Ie,{onClick:()=>Gt("send_renewal"),children:"Envoi renouvellement"}),e.jsx(Ie,{colorScheme:"red",onClick:()=>Gt("archive"),children:"Archiver"})]})]})]}),r.length===0?e.jsx(ch,{children:e.jsxs(Be,{spacing:4,py:12,children:[e.jsx(Icon,{as:tA,size:"48px",color:"gray.300"}),e.jsxs(Be,{spacing:2,children:[e.jsx(Z,{fontSize:"lg",fontWeight:"600",color:"gray.500",children:"Aucun membre trouv"}),e.jsx(Z,{fontSize:"sm",color:"gray.400",children:x.search||x.status!=="ALL"?"Aucun membre ne correspond aux critres de recherche":"Commencez par crer votre premier membre"})]}),e.jsx(Ie,{leftIcon:e.jsx(RT,{}),colorScheme:"blue",onClick:Ke,children:"Crer un membre"})]})}):a==="cards"?e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:6,children:r.map(ce=>e.jsx(ch,{variant:"modern",color:"blue",onClick:()=>rt(ce),children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",align:"start",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsxs(Z,{fontWeight:"600",fontSize:"lg",children:[ce.firstName," ",ce.lastName]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:ce.email}),ce.matricule&&e.jsx(Xt,{colorScheme:"purple",size:"sm",children:ce.matricule})]}),e.jsxs(gh,{children:[e.jsx(vh,{as:Pn,icon:e.jsx(hg,{}),variant:"ghost",size:"sm"}),e.jsxs(xh,{children:[e.jsx(Js,{icon:e.jsx(ru,{}),onClick:()=>rt(ce),children:"Modifier"}),e.jsx(Js,{icon:e.jsx(cS,{}),onClick:()=>{le(ce),se()},children:"Documents"}),e.jsx(Js,{icon:e.jsx(Tp,{}),children:"Rinitialiser mot de passe"}),e.jsx(Js,{icon:e.jsx(yf,{}),children:"Envoyer email"}),e.jsx(ds,{}),e.jsx(Js,{icon:e.jsx(oi,{}),color:"red.500",children:"Supprimer"})]})]})]}),e.jsxs(Te,{spacing:2,wrap:"wrap",children:[nt(ce.membershipStatus),Ee(ce.role),at(ce.membershipType),ce.loginEnabled&&e.jsx(Xt,{colorScheme:"green",variant:"outline",size:"sm",children:"MyRBE"})]}),e.jsxs(Be,{spacing:2,align:"stretch",fontSize:"sm",children:[ce.phone&&e.jsxs(Te,{children:[e.jsx(Icon,{as:IP,color:"gray.400"}),e.jsx(Z,{children:ce.phone})]}),ce.renewalDate&&e.jsxs(Te,{children:[e.jsx(Icon,{as:xc,color:"gray.400"}),e.jsxs(Z,{children:["Expire le ",new Date(ce.renewalDate).toLocaleDateString("fr-FR"),re(ce.renewalDate)&&e.jsx(Xt,{colorScheme:"orange",size:"sm",ml:2,children:"Bientt"})]})]}),ce.paymentAmount&&e.jsxs(Te,{children:[e.jsx(Icon,{as:Qp,color:"gray.400"}),e.jsxs(Z,{children:[ce.paymentAmount,""]})]})]})]})},ce.id))}):e.jsx(ch,{children:e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:e.jsx(Xu,{isChecked:v.length===r.length,isIndeterminate:v.length>0&&v.length<r.length,onChange:ce=>{ce.target.checked?g(r.map(ve=>ve.id)):g([])}})}),e.jsx(At,{children:"Membre"}),e.jsx(At,{children:"Contact"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Rle"}),e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Renouvellement"}),e.jsx(At,{children:"MyRBE"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:r.map(ce=>e.jsxs(Rn,{_hover:{bg:"gray.50"},children:[e.jsx(lt,{children:e.jsx(Xu,{isChecked:v.includes(ce.id),onChange:ve=>{ve.target.checked?g(Ge=>[...Ge,ce.id]):g(Ge=>Ge.filter(vt=>vt!==ce.id))}})}),e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:0,children:[e.jsxs(Z,{fontWeight:"600",children:[ce.firstName," ",ce.lastName]}),ce.memberNumber&&e.jsxs(Z,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:["#",ce.memberNumber]})]})}),e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",children:ce.email}),ce.phone&&e.jsx(Z,{fontSize:"xs",color:"gray.500",children:ce.phone})]})}),e.jsx(lt,{children:nt(ce.membershipStatus)}),e.jsx(lt,{children:Ee(ce.role)}),e.jsx(lt,{children:at(ce.membershipType)}),e.jsx(lt,{children:e.jsxs(Be,{align:"start",spacing:0,children:[e.jsx(Z,{fontSize:"sm",children:ce.renewalDate?new Date(ce.renewalDate).toLocaleDateString("fr-FR"):""}),re(ce.renewalDate)&&e.jsx(Xt,{colorScheme:"orange",size:"sm",children:"Expire bientt"})]})}),e.jsx(lt,{children:e.jsx(Be,{align:"start",spacing:1,children:ce.loginEnabled?e.jsxs(e.Fragment,{children:[e.jsx(Xt,{colorScheme:"green",size:"sm",children:"Activ"}),ce.matricule&&e.jsx(Z,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:ce.matricule}),ce.mustChangePassword&&e.jsx(Xt,{colorScheme:"orange",size:"sm",children:"Changer MDP"})]}):e.jsx(Xt,{colorScheme:"gray",size:"sm",children:"Dsactiv"})})}),e.jsx(lt,{children:e.jsxs(gh,{children:[e.jsx(vh,{as:Pn,icon:e.jsx(hg,{}),variant:"ghost",size:"sm"}),e.jsxs(xh,{children:[e.jsx(Js,{icon:e.jsx(ru,{}),onClick:()=>rt(ce),children:"Modifier"}),e.jsx(Js,{icon:e.jsx(cS,{}),onClick:()=>{le(ce),se()},children:"Documents"}),e.jsx(Js,{icon:e.jsx(Tp,{}),children:"Rinitialiser MDP"}),e.jsx(Js,{icon:e.jsx(yf,{}),children:"Envoyer email"}),e.jsx(ds,{}),e.jsx(Js,{icon:e.jsx(oi,{}),color:"red.500",children:"Supprimer"})]})]})})]},ce.id))})]})})})]}),e.jsxs(Hn,{isOpen:b||B,onClose:()=>{C(),N(),Ne()},size:"6xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{maxH:"90vh",overflowY:"auto",children:[e.jsx($n,{children:q?`Modifier ${q.firstName} ${q.lastName}`:"Nouveau membre"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Eu,{variant:"enclosed",children:[e.jsxs(Tu,{children:[e.jsx($r,{children:" Informations personnelles"}),e.jsx($r,{children:" Adhsion"}),e.jsx($r,{children:" Accs MyRBE"}),e.jsx($r,{children:" Conduite"}),e.jsx($r,{children:" Notes"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:e.jsxs(Sn,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Prnom"}),e.jsx(Xe,{value:ae.firstName,onChange:ce=>ie(ve=>({...ve,firstName:ce.target.value})),placeholder:"Prnom"})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nom"}),e.jsx(Xe,{value:ae.lastName,onChange:ce=>ie(ve=>({...ve,lastName:ce.target.value})),placeholder:"Nom"})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Email"}),e.jsx(Xe,{type:"email",value:ae.email,onChange:ce=>ie(ve=>({...ve,email:ce.target.value})),placeholder:"email@exemple.com"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Tlphone"}),e.jsx(Xe,{type:"tel",value:ae.phone,onChange:ce=>ie(ve=>({...ve,phone:ce.target.value})),placeholder:"06 12 34 56 78"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date de naissance"}),e.jsx(Xe,{type:"date",value:ae.birthDate,onChange:ce=>ie(ve=>({...ve,birthDate:ce.target.value}))})]})]}),e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Adresse"}),e.jsx(xr,{value:ae.address,onChange:ce=>ie(ve=>({...ve,address:ce.target.value})),placeholder:"Adresse complte",rows:3})]}),e.jsxs(Te,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Ville"}),e.jsx(Xe,{value:ae.city,onChange:ce=>ie(ve=>({...ve,city:ce.target.value})),placeholder:"Ville"})]}),e.jsxs(be,{maxW:"150px",children:[e.jsx(je,{children:"Code postal"}),e.jsx(Xe,{value:ae.postalCode,onChange:ce=>ie(ve=>({...ve,postalCode:ce.target.value})),placeholder:"91000"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Contact d'urgence"}),e.jsx(Xe,{value:ae.emergencyContact,onChange:ce=>ie(ve=>({...ve,emergencyContact:ce.target.value})),placeholder:"Nom et relation"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Tlphone d'urgence"}),e.jsx(Xe,{type:"tel",value:ae.emergencyPhone,onChange:ce=>ie(ve=>({...ve,emergencyPhone:ce.target.value})),placeholder:"06 12 34 56 78"})]})]})]})}),e.jsx(Gr,{children:e.jsxs(Sn,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type d'adhsion"}),e.jsx(gn,{value:ae.membershipType,onChange:ce=>{const ve=ce.target.value;ie(Ge=>({...Ge,membershipType:ve,paymentAmount:Om[ve].price.toString()}))},children:Object.entries(Om).map(([ce,ve])=>e.jsxs("option",{value:ce,children:[ve.label," - ",ve.price," (",ve.description,")"]},ce))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Statut d'adhsion"}),e.jsx(gn,{value:ae.membershipStatus,onChange:ce=>ie(ve=>({...ve,membershipStatus:ce.target.value})),children:Object.entries(Ry).map(([ce,ve])=>e.jsx("option",{value:ce,children:ve.label},ce))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Rle"}),e.jsx(gn,{value:ae.role,onChange:ce=>ie(ve=>({...ve,role:ce.target.value})),children:Object.entries(Ny).map(([ce,ve])=>e.jsx("option",{value:ce,children:ve.label},ce))})]}),e.jsxs(Te,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Date d'adhsion"}),e.jsx(Xe,{type:"date",value:ae.joinDate,onChange:ce=>{const ve=ce.target.value;ie(Ge=>({...Ge,joinDate:ve,renewalDate:ee(ve,Ge.membershipType)}))}})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Renouvellement"}),e.jsx(Xe,{type:"date",value:ae.renewalDate,onChange:ce=>ie(ve=>({...ve,renewalDate:ce.target.value}))})]})]})]}),e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Montant pay"}),e.jsxs(Up,{children:[e.jsx(Xe,{type:"number",step:"0.01",value:ae.paymentAmount,onChange:ce=>ie(ve=>({...ve,paymentAmount:ce.target.value})),placeholder:"60.00"}),e.jsx(Mp,{children:""})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Mthode de paiement"}),e.jsx(gn,{value:ae.paymentMethod,onChange:ce=>ie(ve=>({...ve,paymentMethod:ce.target.value})),children:Object.entries(Ple).map(([ce,ve])=>e.jsx("option",{value:ce,children:ve.label},ce))})]})]}),e.jsx(ds,{}),e.jsxs(Be,{spacing:3,align:"stretch",children:[e.jsx(Z,{fontWeight:"600",color:"gray.700",children:"Accs et prfrences"}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,flex:1,children:"Accs site externe"}),e.jsx(vo,{isChecked:ae.hasExternalAccess,onChange:ce=>ie(ve=>({...ve,hasExternalAccess:ce.target.checked}))})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,flex:1,children:"Accs interne"}),e.jsx(vo,{isChecked:ae.hasInternalAccess,onChange:ce=>ie(ve=>({...ve,hasInternalAccess:ce.target.checked}))})]}),e.jsxs(be,{display:"flex",alignItems:"center",children:[e.jsx(je,{mb:0,flex:1,children:"Newsletter"}),e.jsx(vo,{isChecked:ae.newsletter,onChange:ce=>ie(ve=>({...ve,newsletter:ce.target.checked}))})]})]})]})]})}),e.jsx(Gr,{children:e.jsxs(Sn,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Numro de permis de conduire"}),e.jsx(Xe,{value:ae.driverLicense,onChange:ce=>ie(ve=>({...ve,driverLicense:ce.target.value})),placeholder:"AB123456"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Catgories"}),e.jsxs(gn,{multiple:!0,value:ae.driverCertifications,onChange:ce=>ie(ve=>({...ve,driverCertifications:Array.from(ce.target.selectedOptions,Ge=>Ge.value)})),children:[e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"}),e.jsx("option",{value:"E",children:"E"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date d'expiration du permis"}),e.jsx(Xe,{type:"date",value:ae.licenseExpiryDate,onChange:ce=>ie(ve=>({...ve,licenseExpiryDate:ce.target.value}))})]})]}),e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Vhicules autoriss"}),e.jsxs(gn,{multiple:!0,value:ae.vehicleAuthorizations,onChange:ce=>ie(ve=>({...ve,vehicleAuthorizations:Array.from(ce.target.selectedOptions,Ge=>Ge.value)})),children:[e.jsx("option",{value:"VL",children:"Vhicule lger"}),e.jsx("option",{value:"PL",children:"Poids lourd"}),e.jsx("option",{value:"TC",children:"Transport en commun"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Nombre maximum de passagers"}),e.jsx(Xe,{type:"number",value:ae.maxPassengers,onChange:ce=>ie(ve=>({...ve,maxPassengers:ce.target.value})),placeholder:"4"})]})]})]})}),e.jsx(Gr,{children:e.jsxs(be,{children:[e.jsx(je,{children:"Notes internes"}),e.jsx(xr,{value:ae.notes,onChange:ce=>ie(ve=>({...ve,notes:ce.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:6})]})})]})]})}),e.jsx(pr,{children:e.jsxs(Te,{spacing:4,children:[e.jsx(Ie,{colorScheme:"blue",isLoading:u,onClick:et,children:q?"Sauvegarder les modifications":"Crer le membre"}),e.jsx(Ie,{variant:"outline",onClick:()=>{C(),N(),Ne()},children:"Annuler"})]})})]})]}),e.jsxs(Hn,{isOpen:K,onClose:()=>{V(),le(null)},size:"4xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsxs($n,{children:["Documents de ",q?.firstName," ",q?.lastName]}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"600",mb:2,children:"Documents tlchargs"}),e.jsxs(u1,{spacing:3,children:[J.length===0&&e.jsx(Z,{color:"gray.500",fontSize:"sm",children:"Aucun document trouv pour ce membre."}),J.map(ce=>e.jsxs(mD,{p:3,borderWidth:"1px",borderRadius:"md",display:"flex",alignItems:"center",children:[e.jsxs(Te,{spacing:3,flex:1,children:[e.jsx(Icon,{as:Xw[ce.type]?.icon,boxSize:8,color:Xw[ce.type]?.color}),e.jsxs(Be,{align:"start",spacing:1,flex:1,children:[e.jsxs(Z,{fontWeight:"500",children:[ce.type==="IDENTITY_CARD"&&"Pice d'identit",ce.type==="DRIVING_LICENSE"&&"Permis de conduire",ce.type==="INSURANCE_RECORD"&&"Relev d'assurance",ce.type==="MEMBERSHIP_FORM"&&"Bulletin d'adhsion",ce.type==="MEDICAL_CERTIFICATE"&&"Certificat mdical"]}),e.jsxs(Te,{spacing:2,children:[e.jsxs(Z,{fontSize:"sm",color:"gray.500",children:[ce.size," Mo"]}),e.jsxs(Xt,{colorScheme:ce.status==="VALIDATED"?"green":"yellow",variant:"outline",fontSize:"sm",children:[ce.status==="VALIDATED"&&"Valid",ce.status==="PENDING"&&"En attente"]})]})]})]}),e.jsxs(Te,{spacing:2,children:[e.jsx(Ie,{size:"sm",variant:"outline",leftIcon:e.jsx(vc,{}),onClick:()=>{Vw.download(ce.id).then(()=>{he({status:"success",title:"Tlchargement lanc",description:"Le document est en cours de tlchargement",duration:5e3,isClosable:!0})}).catch(ve=>{console.error(" Erreur tlchargement document:",ve),he({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})})},children:"Tlcharger"}),e.jsx(Ie,{size:"sm",variant:"outline",colorScheme:"red",leftIcon:e.jsx(oi,{}),onClick:async()=>{if(window.confirm("tes-vous sr de vouloir supprimer ce document ?"))try{await Vw.remove(ce.id),G(ve=>ve.filter(Ge=>Ge.id!==ce.id)),he({status:"success",title:"Document supprim",description:"Le document a t supprim avec succs",duration:5e3,isClosable:!0})}catch(ve){console.error(" Erreur suppression document:",ve),he({status:"error",title:"Erreur de suppression",description:"Impossible de supprimer le document",duration:5e3,isClosable:!0})}},children:"Supprimer"})]})]},ce.id))]})]}),e.jsx(ds,{}),e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsx(Z,{fontWeight:"600",children:"Tlcharger un nouveau document"}),e.jsxs(be,{children:[e.jsx(je,{children:"Type de document"}),e.jsx(gn,{value:W.type,onChange:ce=>pe(ve=>({...ve,type:ce.target.value})),children:Object.entries(Xw).map(([ce,ve])=>e.jsxs("option",{value:ce,children:[ve.label," (",ve.maxSizeMB," Mo max)"]},ce))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date d'expiration"}),e.jsx(Xe,{type:"date",value:W.expiryDate,onChange:ce=>pe(ve=>({...ve,expiryDate:ce.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:W.notes,onChange:ce=>pe(ve=>({...ve,notes:ce.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:3})]}),e.jsx(Ie,{colorScheme:"blue",isLoading:u,onClick:async()=>{try{if(h(!0),!W.type||!W.expiryDate){he({status:"error",title:"Champs requis",description:"Type de document et date d'expiration sont obligatoires",duration:5e3,isClosable:!0});return}const ce=new FormData;ce.append("file",oe.current.files[0]),ce.append("type",W.type),ce.append("expiryDate",W.expiryDate),ce.append("notes",W.notes);const ve=await Vw.upload(ce,q.id),Ge=ve?.document||ve?.data;G(vt=>[...vt,Ge]),pe({type:"IDENTITY_CARD",expiryDate:"",notes:""}),oe.current.value=null,he({status:"success",title:"Document tlcharg",description:"Le document a t ajout avec succs",duration:5e3,isClosable:!0})}catch(ce){console.error(" Erreur upload document:",ce),he({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})}finally{h(!1)}},children:"Tlcharger le document"})]})]})})]})]})]})}const Nle={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},Ole={PENDING:"En attente",ACTIVE:"Actif",EXPIRED:"Expir",SUSPENDED:"Suspendu"};function Ule({isOpen:t,onClose:n,onMemberCreated:r}){const[s,i]=T.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),[l,d]=T.useState(!1),f=Hr(),u=()=>i({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),h=async()=>{if(!s.firstName.trim()||!s.lastName.trim()||!s.email.trim()){f({title:"Champs requis",description:"Prnom, nom et email sont requis",status:"error",duration:3e3});return}try{d(!0);const m={...s},v=await Ah.create(m);f({title:"Adhrent cr",status:"success",duration:3e3}),r?.(v),u(),n()}catch(m){f({title:"Erreur",description:m.message,status:"error",duration:5e3})}finally{d(!1)}},a=()=>{u(),n()};return e.jsxs(Hn,{isOpen:t,onClose:a,size:"xl",scrollBehavior:"inside",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Crer un adhrent"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Informations personnelles"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(Sn,{columns:2,spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Prnom"}),e.jsx(Xe,{value:s.firstName,onChange:m=>i(v=>({...v,firstName:m.target.value}))})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nom"}),e.jsx(Xe,{value:s.lastName,onChange:m=>i(v=>({...v,lastName:m.target.value}))})]})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Email"}),e.jsx(Xe,{type:"email",value:s.email,onChange:m=>i(v=>({...v,email:m.target.value}))})]}),e.jsxs(Sn,{columns:2,spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Tlphone"}),e.jsx(Xe,{value:s.phone,onChange:m=>i(v=>({...v,phone:m.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date de naissance"}),e.jsx(Xe,{type:"date",value:s.birthDate,onChange:m=>i(v=>({...v,birthDate:m.target.value}))})]})]})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Adresse"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Adresse"}),e.jsx(Xe,{value:s.address,onChange:m=>i(v=>({...v,address:m.target.value}))})]}),e.jsxs(Sn,{columns:2,spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Code postal"}),e.jsx(Xe,{value:s.postalCode,onChange:m=>i(v=>({...v,postalCode:m.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Ville"}),e.jsx(Xe,{value:s.city,onChange:m=>i(v=>({...v,city:m.target.value}))})]})]})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Adhsion"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(Sn,{columns:2,spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type d'adhsion"}),e.jsx(gn,{value:s.membershipType,onChange:m=>i(v=>({...v,membershipType:m.target.value})),children:Object.entries(Nle).map(([m,v])=>e.jsx("option",{value:m,children:v},m))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Statut"}),e.jsx(gn,{value:s.membershipStatus,onChange:m=>i(v=>({...v,membershipStatus:m.target.value})),children:Object.entries(Ole).map(([m,v])=>e.jsx("option",{value:m,children:v},m))})]})]}),e.jsxs(Sn,{columns:2,spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Montant cotisation ()"}),e.jsx(Xe,{type:"number",value:s.paymentAmount,onChange:m=>i(v=>({...v,paymentAmount:m.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Mode de paiement"}),e.jsxs(gn,{value:s.paymentMethod,onChange:m=>i(v=>({...v,paymentMethod:m.target.value})),children:[e.jsx("option",{value:"CASH",children:"Espces"}),e.jsx("option",{value:"CHECK",children:"Chque"}),e.jsx("option",{value:"BANK_TRANSFER",children:"Virement"}),e.jsx("option",{value:"CARD",children:"Carte"}),e.jsx("option",{value:"PAYPAL",children:"PayPal"}),e.jsx("option",{value:"HELLOASSO",children:"HelloAsso"})]})]})]})]})})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Notes"})}),e.jsx(bt,{children:e.jsxs(be,{children:[e.jsx(je,{children:"Notes administratives"}),e.jsx(xr,{value:s.notes,onChange:m=>i(v=>({...v,notes:m.target.value})),placeholder:"Notes internes sur l'adhrent..."})]})})]})]})}),e.jsx(pr,{children:e.jsxs(Te,{spacing:3,children:[e.jsx(Ie,{variant:"ghost",onClick:a,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:h,isLoading:l,loadingText:"Cration...",children:"Crer l'adhrent"})]})})]})]})}const g3="http://localhost:3001".replace(/\/$/,""),Oy=t=>g3?`${g3}${t}`:t,BS={PENDING:{label:"En attente",color:"yellow",icon:gp},ACTIVE:{label:"Actif",color:"green",icon:LP},EXPIRED:{label:"Expir",color:"red",icon:Pj},SUSPENDED:{label:"Suspendu",color:"orange",icon:Ed},CANCELLED:{label:"Annul",color:"gray",icon:Pj}},ES={MEMBER:{label:"Adhrent",color:"blue",permissions:["VIEW_PROFILE"]},DRIVER:{label:"Conducteur",color:"green",permissions:["VIEW_PROFILE","DRIVE_VEHICLES"]},MODERATOR:{label:"Modrateur",color:"purple",permissions:["VIEW_PROFILE","MODERATE_CONTENT"]},ADMIN:{label:"Administrateur",color:"red",permissions:["FULL_ACCESS"]}};function Mle({member:t,onEdit:n,onLinkAccess:r,onTerminate:s,onDeleteMember:i}){const l=Os("white","gray.800"),d=BS[t.membershipStatus]||BS.PENDING,f=ES[t.role]||ES.MEMBER;return e.jsxs(St,{bg:l,borderWidth:1,borderColor:"gray.200",children:[e.jsx(Qn,{pb:2,children:e.jsxs(Ri,{justify:"space-between",align:"start",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsxs(Te,{children:[e.jsxs(Z,{fontWeight:"bold",fontSize:"md",children:[t.firstName," ",t.lastName]}),e.jsx(Xt,{colorScheme:d.color,size:"sm",children:d.label}),e.jsx(Xt,{colorScheme:f.color,variant:"outline",size:"sm",children:f.label})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:t.email}),t.matricule&&e.jsxs(Te,{spacing:2,children:[e.jsxs(Xt,{colorScheme:"blue",variant:"subtle",children:[" ",t.matricule]}),t.loginEnabled?e.jsx(Xt,{colorScheme:"green",size:"sm",children:" Accs activ"}):e.jsx(Xt,{colorScheme:"gray",size:"sm",children:" Accs dsactiv"})]})]}),e.jsxs(gh,{children:[e.jsx(vh,{as:Pn,icon:e.jsx(Mg,{}),variant:"ghost",size:"sm"}),e.jsxs(xh,{children:[e.jsx(Js,{icon:e.jsx(ru,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(Js,{icon:e.jsx(Pj,{}),onClick:()=>s(t),color:"red.500",children:"Terminer l'adhsion"}),e.jsx(Js,{icon:e.jsx(Tp,{}),onClick:()=>r(t),children:"Associer  un accs existant"}),t.membershipStatus==="CANCELLED"&&e.jsx(Js,{icon:e.jsx(oi,{}),onClick:()=>i(t),color:"red.600",children:"Effacer l'adhrent"})]})]})]})}),e.jsx(bt,{pt:0,children:e.jsxs(Be,{align:"start",spacing:2,children:[t.phone&&e.jsxs(Z,{fontSize:"sm",children:[" ",t.phone]}),t.lastLoginAt&&e.jsxs(Z,{fontSize:"xs",color:"gray.500",children:["Dernire connexion: ",new Date(t.lastLoginAt).toLocaleDateString("fr-FR")]}),t.mustChangePassword&&e.jsx(Xt,{colorScheme:"orange",size:"sm",children:" Doit changer le mot de passe"})]})})]})}function kle(){const[t,n]=T.useState([]),[r,s]=T.useState(!0),[i,l]=T.useState(""),[d,f]=T.useState("ALL"),[u,h]=T.useState("ALL"),[a,m]=T.useState(!1),[v,g]=T.useState(null),[x,w]=T.useState({}),{isOpen:b,onOpen:S,onClose:C}=er(),{isOpen:B,onOpen:F,onClose:N}=er(),{isOpen:Q,onOpen:z,onClose:k}=er(),{isOpen:K,onOpen:se,onClose:V}=er(),q=Hr(),le=Os("white","gray.800"),ae=()=>e.jsx(is,{py:20,children:e.jsxs(Be,{spacing:4,children:[e.jsx(Kr,{size:"xl",color:"purple.500"}),e.jsx(Z,{color:"gray.500",children:"Chargement des membres..."})]})}),[ie,J]=T.useState(null),[G,W]=T.useState(null),[pe,oe]=T.useState({reason:"",notes:"",pv:null,resignation:null}),{isOpen:he,onOpen:$,onClose:M}=er(),[ee,re]=T.useState({username:"",email:""});T.useEffect(()=>{me()},[]);const me=async()=>{try{s(!0);const Je=await Ah.getAll();n(Je.members||[]),De(Je.members||[])}catch(Je){console.error("Erreur chargement membres:",Je),q({title:"Erreur",description:"Impossible de charger les membres",status:"error",duration:5e3})}finally{s(!1)}},De=Je=>{const We=Je.length,yt=Je.filter(Ft=>Ft.loginEnabled).length,zt=Je.filter(Ft=>Ft.membershipStatus==="ACTIVE").length,ut=Je.filter(Ft=>{if(!Ft.lastLoginAt)return!1;const Ct=new Date(Ft.lastLoginAt),Ye=new Date;return Ye.setMonth(Ye.getMonth()-1),Ct>Ye}).length;w({total:We,withLogin:yt,active:zt,recentlyActive:ut})},Ue=t.filter(Je=>{const We=Je.firstName?.toLowerCase().includes(i.toLowerCase())||Je.lastName?.toLowerCase().includes(i.toLowerCase())||Je.email?.toLowerCase().includes(i.toLowerCase())||Je.matricule?.toLowerCase().includes(i.toLowerCase()),yt=d==="ALL"||Je.membershipStatus===d,zt=u==="ALL"||Je.role===u,ut=!a||Je.loginEnabled;return We&&yt&&zt&&ut}),Ne=Je=>{g(Je),J({...Je}),z()},Ke=async()=>{try{if(!v)return;const Je=["firstName","lastName","email","phone","address","city","postalCode","membershipType","membershipStatus","paymentAmount","paymentMethod","newsletter","notes"],We={};for(const Ft of Je)Ft in ie&&(We[Ft]=ie[Ft]);const yt=await fetch(Oy(`/api/members/${v.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(We)}),zt=await yt.json().catch(()=>({}));if(!yt.ok)throw new Error(zt?.error||"chec de la mise  jour");const ut=zt.member||zt;n(Ft=>Ft.map(Ct=>Ct.id===v.id?{...Ct,...ut}:Ct)),q({title:"Membre mis  jour",status:"success"}),k()}catch(Je){q({title:"Erreur",description:Je.message,status:"error"})}},rt=Je=>{W(Je),oe({reason:"",notes:"",pv:null,resignation:null}),se()},et=async()=>{try{if(!G)return;if(!pe.reason){q({title:"Motif requis",status:"error"});return}if(pe.reason==="EXCLUSION"&&!pe.pv){q({title:"PV obligatoire",status:"error"});return}if(pe.reason==="DEMISSION"&&(!pe.pv||!pe.resignation)){q({title:"PV et lettre obligatoires",status:"error"});return}const Je=new FormData;Je.append("reason",pe.reason),pe.notes&&Je.append("notes",pe.notes),pe.pv&&Je.append("pv",pe.pv),pe.resignation&&Je.append("resignation",pe.resignation);const We=await fetch(Oy(`/api/members/${G.id}/terminate`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:Je}),yt=await We.json().catch(()=>({}));if(!We.ok)throw new Error(yt?.error||"chec de la rsiliation");q({title:"Adhsion termine",status:"success"}),await me(),V()}catch(Je){q({title:"Erreur",description:Je.message,status:"error"})}},wt=async Je=>{try{if(Je.membershipStatus!=="CANCELLED"){q({title:"Rsiliez d'abord l'adhsion",status:"warning"});return}if(!window.confirm(`Effacer dfinitivement ${Je.firstName} ${Je.lastName} ?`))return;const We=await fetch(Oy(`/api/members/${Je.id}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!We.ok&&We.status!==204){const yt=await We.json().catch(()=>({}));throw new Error(yt?.error||"Suppression impossible")}q({title:"Adhrent effac",status:"success"}),n(yt=>yt.filter(zt=>zt.id!==Je.id))}catch(We){q({title:"Erreur",description:We.message,status:"error"})}},nt=Je=>{n(We=>[Je,...We]),De([Je,...t]),C()},Ee=Je=>{g(Je),re({username:"",email:""}),$()},at=async()=>{try{if(!v)return;if(!ee.username&&!ee.email){q({title:"Renseignez matricule ou email",status:"warning"});return}const Je=await fetch(Oy(`/api/members/${v.id}/link-access`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:ee.username||void 0,email:ee.email||void 0})}),We=await Je.json().catch(()=>({}));if(!Je.ok)throw new Error(We?.error||"chec de lassociation");q({title:"Accs associ",status:"success"}),await me(),M()}catch(Je){q({title:"Erreur",description:Je.message,status:"error"})}},Gt=()=>{if(r)return ae();const Je={total:x.total||0,withLogin:x.withLogin||0,active:x.active||0,recentlyActive:x.recentlyActive||0};return e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsx(Z,{color:"gray.600",children:"Suivi global des adhsions et des connexions MyRBE."}),e.jsxs(Sn,{columns:{base:2,md:4},spacing:4,children:[e.jsx(St,{bg:le,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Total membres"}),e.jsx(Jn,{color:"blue.500",children:Je.total})]})})}),e.jsx(St,{bg:le,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Avec accs MyRBE"}),e.jsx(Jn,{color:"green.500",children:Je.withLogin}),e.jsxs(qc,{children:[Je.total>0?Math.round(Je.withLogin/Je.total*100):0,"%"]})]})})}),e.jsx(St,{bg:le,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Adhsions actives"}),e.jsx(Jn,{color:"purple.500",children:Je.active})]})})}),e.jsx(St,{bg:le,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:"Connexions rcentes"}),e.jsx(Jn,{color:"orange.500",children:Je.recentlyActive}),e.jsx(qc,{children:"30 derniers jours"})]})})})]})]})},Oe=()=>r?ae():e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsx(St,{bg:le,children:e.jsx(bt,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{w:"full",spacing:4,align:{base:"stretch",md:"center"},flexWrap:"wrap",children:[e.jsxs(Up,{flex:2,children:[e.jsx(Mp,{children:e.jsx(w1,{})}),e.jsx(Xe,{placeholder:"Rechercher par nom, email ou matricule...",value:i,onChange:Je=>l(Je.target.value)})]}),e.jsxs(gn,{value:d,onChange:Je=>f(Je.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(BS).map(([Je,We])=>e.jsx("option",{value:Je,children:We.label},Je))]}),e.jsxs(gn,{value:u,onChange:Je=>h(Je.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),Object.entries(ES).map(([Je,We])=>e.jsx("option",{value:Je,children:We.label},Je))]})]}),e.jsxs(Te,{spacing:4,justify:"space-between",flexWrap:"wrap",children:[e.jsx(Xu,{isChecked:a,onChange:Je=>m(Je.target.checked),children:"Afficher seulement les membres avec accs MyRBE"}),e.jsx(Ie,{leftIcon:e.jsx(RA,{}),size:"sm",onClick:me,children:"Actualiser"})]})]})})}),e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[Ue.length," membre(s) affich(s)"]}),e.jsx(Sn,{columns:{base:1,md:2,lg:3},spacing:4,children:Ue.map(Je=>e.jsx(Mle,{member:Je,onEdit:Ne,onLinkAccess:Ee,onTerminate:rt,onDeleteMember:wt},Je.id))}),Ue.length===0&&e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),"Aucun membre ne correspond aux critres de recherche"]})]}),ce=()=>e.jsxs(Re,{children:[e.jsx(ht,{size:"md",mb:4,children:"Gestion des Rles"}),e.jsx(Z,{mb:4,color:"gray.600",children:"Configuration des rles et permissions"}),Ge("roles")]}),ve=()=>e.jsxs(Re,{children:[e.jsx(ht,{size:"md",mb:4,children:"Paramtres"}),Ge("settings")]}),Ge=Je=>e.jsx(St,{bg:le,children:e.jsx(bt,{children:e.jsxs(Z,{color:"gray.500",children:["Contenu de ",Je,"  implmenter"]})})}),vt=[{id:"dashboard",label:"Tableau de bord",icon:j1,description:"Vue synthtique",render:Gt},{id:"members",label:"Adhrents",icon:tA,description:"Cration et recherche",render:Oe},{id:"roles",label:"Rles",icon:vx,description:"Permissions",render:ce},{id:"settings",label:"Paramtres",icon:Mg,description:"Options avances",render:ve}],_t=[e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:S,children:"Nouvel adhrent"},"create")];return e.jsxs(e.Fragment,{children:[e.jsx(Xp,{title:"Gestion des Adhsions",subtitle:"Crer et grer les adhrents (les identifiants sont grs sparment)",sections:vt,defaultSectionId:"dashboard",sidebarTitle:"Adhsions",sidebarSubtitle:"Espace MyRBE",sidebarTitleIcon:tA,versionLabel:"Adhsions v2",headerActions:_t}),e.jsx(Ule,{isOpen:b,onClose:C,onMemberCreated:nt}),e.jsxs(Hn,{isOpen:he,onClose:M,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Associer  un accs existant"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),'La cration daccs se fait dans "Gestion des accs". Ici, vous pouvez lier un accs existant (fusion).']}),e.jsxs(be,{children:[e.jsx(je,{children:"Matricule (username)"}),e.jsx(Xe,{value:ee.username,onChange:Je=>re(We=>({...We,username:Je.target.value})),placeholder:"ex: jd2025"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Email"}),e.jsx(Xe,{type:"email",value:ee.email,onChange:Je=>re(We=>({...We,email:Je.target.value})),placeholder:"utilisateur@domaine.fr"})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Renseignez au moins lun des deux champs."})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:M,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:at,children:"Associer"})]})]})]}),e.jsxs(Hn,{isOpen:Q,onClose:k,size:"xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Modifier le membre"}),e.jsx(fr,{}),e.jsx(Vn,{children:ie&&e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Prnom"}),e.jsx(Xe,{value:ie.firstName||"",onChange:Je=>J(We=>({...We,firstName:Je.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Nom"}),e.jsx(Xe,{value:ie.lastName||"",onChange:Je=>J(We=>({...We,lastName:Je.target.value}))})]})]}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Email"}),e.jsx(Xe,{type:"email",value:ie.email||"",onChange:Je=>J(We=>({...We,email:Je.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Tlphone"}),e.jsx(Xe,{value:ie.phone||"",onChange:Je=>J(We=>({...We,phone:Je.target.value}))})]})]}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Statut"}),e.jsxs(gn,{value:ie.membershipStatus||"ACTIVE",onChange:Je=>J(We=>({...We,membershipStatus:Je.target.value})),children:[e.jsx("option",{value:"PENDING",children:"En attente"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"EXPIRED",children:"Expir"}),e.jsx("option",{value:"SUSPENDED",children:"Suspendu"}),e.jsx("option",{value:"CANCELLED",children:"Annul"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Type d'adhsion"}),e.jsxs(gn,{value:ie.membershipType||"STANDARD",onChange:Je=>J(We=>({...We,membershipType:Je.target.value})),children:[e.jsx("option",{value:"STANDARD",children:"Standard"}),e.jsx("option",{value:"FAMILY",children:"Famille"}),e.jsx("option",{value:"STUDENT",children:"tudiant"}),e.jsx("option",{value:"HONORARY",children:"Honneur"})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes"}),e.jsx(xr,{value:ie.notes||"",onChange:Je=>J(We=>({...We,notes:Je.target.value}))})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:k,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:Ke,children:"Enregistrer"})]})]})]}),e.jsxs(Hn,{isOpen:K,onClose:V,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Terminer l'adhsion"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(ir,{status:"warning",children:[e.jsx(or,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Motif"}),e.jsxs(gn,{value:pe.reason,onChange:Je=>oe(We=>({...We,reason:Je.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Notes (optionnel)"}),e.jsx(xr,{value:pe.notes,onChange:Je=>oe(We=>({...We,notes:Je.target.value}))})]}),(pe.reason==="EXCLUSION"||pe.reason==="DEMISSION")&&e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Procs-verbal (PDF/Image)"}),e.jsx(Xe,{type:"file",accept:"application/pdf,image/*",onChange:Je=>oe(We=>({...We,pv:Je.target.files?.[0]||null}))})]}),pe.reason==="DEMISSION"&&e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(Xe,{type:"file",accept:"application/pdf,image/*",onChange:Je=>oe(We=>({...We,resignation:Je.target.files?.[0]||null}))})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:V,children:"Annuler"}),e.jsx(Ie,{colorScheme:"red",onClick:et,children:"Confirmer"})]})]})]})]})}function Qle({report:t,onUpdate:n,onComment:r,onStatusChange:s,onDelete:i}){const l=Os("white","gray.800"),d={low:"green",medium:"yellow",high:"orange",critical:"red"},f={open:"blue",in_progress:"orange",resolved:"green",closed:"gray"},u=T.useMemo(()=>{switch(t.priority){case"low":return" Faible";case"medium":return" Moyen";case"high":return" lev";default:return" Critique"}},[t.priority]),h=T.useMemo(()=>{switch(t.status){case"open":return"Ouvert";case"in_progress":return"En cours";case"resolved":return"Rsolu";default:return"Ferm"}},[t.status]),a=t.createdAt?new Date(t.createdAt):null;return e.jsxs(St,{bg:l,borderLeftWidth:4,borderLeftColor:`${d[t.priority]||"gray"}.500`,children:[e.jsx(Qn,{pb:3,children:e.jsxs(Ri,{justify:"space-between",align:"start",children:[e.jsxs(Be,{align:"start",spacing:2,children:[e.jsxs(Te,{children:[e.jsx(Xt,{colorScheme:d[t.priority]||"gray",variant:"solid",size:"sm",children:u}),e.jsx(Xt,{colorScheme:f[t.status]||"gray",variant:"subtle",children:h})]}),e.jsx(ht,{size:"sm",children:t.title}),e.jsxs(Z,{fontSize:"xs",color:"gray.500",children:["Cr par ",t.createdBy," ",a?`le ${a.toLocaleDateString("fr-FR")}`:""]})]}),e.jsxs(gh,{children:[e.jsx(vh,{as:Pn,icon:e.jsx(hg,{}),variant:"ghost",size:"sm"}),e.jsxs(xh,{zIndex:10,position:"relative",children:[e.jsx(Js,{icon:e.jsx(eg,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(Js,{icon:e.jsx(hre,{}),onClick:()=>r(t),children:"Commenter"}),t.status==="open"&&e.jsx(Js,{icon:e.jsx(RA,{}),onClick:()=>s(t.id,"in_progress"),children:"Marquer en cours"}),(t.status==="open"||t.status==="in_progress")&&e.jsx(Js,{icon:e.jsx(Ig,{}),onClick:()=>s(t.id,"resolved"),children:"Marquer comme rsolu"}),t.status==="resolved"&&e.jsx(Js,{icon:e.jsx(Hp,{}),onClick:()=>s(t.id,"closed"),children:"Fermer dfinitivement"}),t.status==="closed"&&e.jsx(Js,{icon:e.jsx(RA,{}),onClick:()=>s(t.id,"open"),children:"Rouvrir"}),e.jsx(Tj,{}),e.jsx(Js,{icon:e.jsx(oi,{}),onClick:()=>i(t.id),color:"red.500",children:"Supprimer"})]})]})]})}),e.jsx(bt,{pt:0,children:e.jsxs(Be,{align:"start",spacing:3,children:[e.jsx(Z,{fontSize:"sm",children:t.description}),t.category&&e.jsx(Sd,{size:"sm",variant:"subtle",children:e.jsx(Cd,{children:t.category})}),t.assignedTo&&e.jsxs(Te,{children:[e.jsx(IL,{size:"xs",name:t.assignedTo}),e.jsxs(Z,{fontSize:"xs",children:["Assign  ",t.assignedTo]})]}),Array.isArray(t.comments)&&t.comments.length>0&&e.jsxs(Be,{align:"start",spacing:2,w:"full",children:[e.jsx(ds,{}),e.jsx(Te,{children:e.jsxs(Z,{fontSize:"xs",fontWeight:"bold",children:[t.comments.length," commentaire(s)"]})}),e.jsxs(Re,{bg:"gray.50",p:2,borderRadius:"md",w:"full",children:[e.jsx(Z,{fontSize:"xs",children:t.comments[t.comments.length-1].message}),e.jsxs(Z,{fontSize:"xs",color:"gray.500",mt:1,children:["Par ",t.comments[t.comments.length-1].author," - ",new Date(t.comments[t.comments.length-1].createdAt).toLocaleDateString("fr-FR")]})]})]})]})})]})}function zle(){const{user:t}=qa(),n=Hr(),{isOpen:r,onOpen:s,onClose:i}=er(),{isOpen:l,onOpen:d,onClose:f}=er(),{isOpen:u,onOpen:h,onClose:a}=er(),[m,v]=T.useState(!0),[g,x]=T.useState([]),[w,b]=T.useState(null),[S,C]=T.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[B,F]=T.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[N,Q]=T.useState({message:"",status:""}),[z,k]=T.useState([]),K=Os("white","gray.800"),se=async()=>{try{const G="http://localhost:3001".replace(/\/$/,""),W=await fetch(`${G}/api/retro-reports`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!W.ok)throw new Error("load failed");const pe=await W.json();x(pe.reports||[])}catch(G){console.error("Erreur chargement rtroreports:",G)}};T.useEffect(()=>{(async()=>(v(!0),await se(),v(!1)))()},[]);const V=async()=>{if(!S.title||!S.description){n({title:"Erreur",description:"Veuillez remplir le titre et la description",status:"error",duration:3e3,isClosable:!0});return}try{const G="http://localhost:3001".replace(/\/$/,""),W=new FormData;W.append("title",S.title),W.append("description",S.description),W.append("category",S.category||""),W.append("priority",S.priority||"medium"),W.append("type",S.type||"bug"),z&&z.length>0&&z.forEach(oe=>W.append("screenshots",oe,oe.name));const pe=await fetch(`${G}/api/retro-reports`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:W});if(!pe.ok){const oe=await pe.json().catch(()=>({error:"create failed"}));throw new Error(oe.error||"create failed")}await se(),C({title:"",description:"",category:"",priority:"medium",type:"bug"}),k([]),i(),n({title:"Succs",description:"RtroReport cr avec succs",status:"success",duration:3e3,isClosable:!0})}catch(G){n({title:"Erreur",description:G.message||"Impossible de crer le RtroReport",status:"error",duration:3e3})}},q=async()=>{if(!N.message){n({title:"Erreur",description:"Veuillez crire un commentaire",status:"error",duration:3e3,isClosable:!0});return}try{const G="http://localhost:3001".replace(/\/$/,""),W={message:N.message,author:t?.name||"Administrateur",status:N.status||void 0};let pe=await fetch(`${G}/api/retro-reports/${w.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(W)});if(!pe.ok&&(pe=await fetch(`${G}/api/retro-reports/${w.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({appendComment:{message:W.message,author:W.author},status:W.status})}),!pe.ok))throw new Error("Impossible de persister le commentaire");await se(),Q({message:"",status:""}),f(),n({title:"Succs",description:"Commentaire ajout avec succs",status:"success",duration:3e3,isClosable:!0})}catch(G){console.error(G),n({title:"Erreur",description:"Impossible d'ajouter le commentaire",status:"error",duration:3e3})}},le=async(G,W)=>{try{const pe="http://localhost:3001".replace(/\/$/,"");let oe=await fetch(`${pe}/api/retro-reports/${G}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:W})});if(!oe.ok&&(oe=await fetch(`${pe}/api/retro-reports/${G}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:W})}),!oe.ok))throw new Error("status failed");await se(),n({title:"Statut mis  jour",description:`RtroReport marqu comme ${{open:"Ouvert",in_progress:"En cours",resolved:"Rsolu",closed:"Ferm"}[W]?.toLowerCase()||W}`,status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Impossible de changer le statut",status:"error",duration:3e3})}},ae=async G=>{if(window.confirm("tes-vous sr de vouloir supprimer ce RtroReport ?"))try{const W="http://localhost:3001".replace(/\/$/,""),pe=localStorage.getItem("token");if(!pe){n({title:"Erreur",description:"Token non trouv",status:"error",duration:3e3});return}const oe=`${W}/api/retro-reports/${G}`;console.log(" Suppression ticket:",oe);const he=await fetch(oe,{method:"DELETE",headers:{Authorization:`Bearer ${pe}`,"Content-Type":"application/json"}});if(console.log("Delete response status:",he.status),!he.ok){const M=await he.text();throw console.error("Delete error:",M),new Error(`HTTP ${he.status}: ${M}`)}const $=await he.json();console.log("Delete result:",$),await se(),n({title:"RtroReport supprim",description:"Le ticket a t supprim avec succs",status:"success",duration:3e3})}catch(W){console.error(" Erreur suppression:",W),n({title:"Erreur",description:`Suppression impossible: ${W.message}`,status:"error",duration:5e3})}},ie=G=>{b(G),F({title:G.title,description:G.description,category:G.category||"",priority:G.priority||"medium",type:G.type||"bug"}),h()},J=async()=>{if(!w?.id||!B.title||!B.description){n({title:"Erreur",description:"Titre et description requis",status:"error",duration:3e3,isClosable:!0});return}try{if(!(await fetch(`http://localhost:3001/api/retro-reports/${w.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({title:B.title,description:B.description,category:B.category||"",priority:B.priority||"medium",type:B.type||"bug"})})).ok)throw new Error("update failed");await se(),a(),n({title:"Succs",description:"RtroReport mis  jour",status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Mise  jour impossible",status:"error",duration:3e3})}};return m?e.jsx(Jc,{maxW:"container.xl",py:8,children:e.jsxs(Be,{spacing:8,children:[e.jsx(Kr,{size:"xl",color:"green.500"}),e.jsx(Z,{children:"Chargement du support"})]})}):e.jsxs(Jc,{maxW:"container.xl",py:8,children:[e.jsxs(Re,{bgGradient:"linear(to-r, red.500, orange.500)",color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsx(ht,{size:"xl",mb:2,children:" Support du site"}),e.jsx(Z,{opacity:.9,children:"Tickets: incidents, bugs et amliorations"})]}),e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"md",children:"Systme de tickets"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Signalez et suivez les incidents et demandes"})]}),e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"red",onClick:s,children:"Nouveau ticket"})]}),e.jsxs(Sn,{columns:{base:1,md:4},spacing:4,children:[e.jsx(St,{bg:K,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"Ouverts"}),e.jsx(Jn,{color:"red.500",fontSize:"lg",children:g.filter(G=>G.status==="open").length})]})})}),e.jsx(St,{bg:K,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"En cours"}),e.jsx(Jn,{color:"orange.500",fontSize:"lg",children:g.filter(G=>G.status==="in_progress").length})]})})}),e.jsx(St,{bg:K,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"Rsolus"}),e.jsx(Jn,{color:"green.500",fontSize:"lg",children:g.filter(G=>G.status==="resolved").length})]})})}),e.jsx(St,{bg:K,children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{fontSize:"xs",children:"Total"}),e.jsx(Jn,{color:"blue.500",fontSize:"lg",children:g.length})]})})})]}),e.jsx(Be,{spacing:4,align:"stretch",children:g.length===0?e.jsxs(ir,{status:"info",children:[e.jsx(or,{}),e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",children:"Aucun ticket"}),e.jsx(Z,{fontSize:"xs",children:"Crez votre premier ticket."})]})]}):g.map(G=>e.jsx(Qle,{report:G,onUpdate:ie,onComment:W=>{b(W),d()},onStatusChange:le,onDelete:ae},G.id))})]}),e.jsxs(Hn,{isOpen:r,onClose:i,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:" Nouveau ticket"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Titre"}),e.jsx(Xe,{value:S.title,onChange:G=>C(W=>({...W,title:G.target.value})),placeholder:"Ex: Problme de connexion, Page lente..."})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:S.description,onChange:G=>C(W=>({...W,description:G.target.value})),rows:4,placeholder:"Dcrivez le problme..."})]}),e.jsxs(Sn,{columns:2,spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsxs(gn,{value:S.type,onChange:G=>C(W=>({...W,type:G.target.value})),children:[e.jsx("option",{value:"bug",children:" Bug"}),e.jsx("option",{value:"feature",children:" Amlioration"}),e.jsx("option",{value:"performance",children:" Performance"}),e.jsx("option",{value:"security",children:" Scurit"}),e.jsx("option",{value:"other",children:" Autre"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Priorit"}),e.jsxs(gn,{value:S.priority,onChange:G=>C(W=>({...W,priority:G.target.value})),children:[e.jsx("option",{value:"low",children:" Faible"}),e.jsx("option",{value:"medium",children:" Moyen"}),e.jsx("option",{value:"high",children:" lev"}),e.jsx("option",{value:"critical",children:" Critique"})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Catgorie"}),e.jsx(Xe,{value:S.category,onChange:G=>C(W=>({...W,category:G.target.value})),placeholder:"Ex: Technique, Interface, Base de donnes..."})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Captures dcran (optionnel)"}),e.jsx(Xe,{type:"file",accept:"image/*",multiple:!0,onChange:G=>k(Array.from(G.target.files||[]))})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:i,children:"Annuler"}),e.jsx(Ie,{colorScheme:"red",onClick:V,leftIcon:e.jsx(Bs,{}),children:"Crer"})]})]})]}),e.jsxs(Hn,{isOpen:l,onClose:f,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Ajouter un commentaire"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Commentaire"}),e.jsx(xr,{value:N.message,onChange:G=>Q(W=>({...W,message:G.target.value})),rows:3})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Changer le statut (optionnel)"}),e.jsxs(gn,{value:N.status,onChange:G=>Q(W=>({...W,status:G.target.value})),children:[e.jsx("option",{value:"",children:"Ne pas changer"}),e.jsx("option",{value:"open",children:"Ouvert"}),e.jsx("option",{value:"in_progress",children:"En cours"}),e.jsx("option",{value:"resolved",children:"Rsolu"}),e.jsx("option",{value:"closed",children:"Ferm"})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:f,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:q,children:"Publier"})]})]})]}),e.jsxs(Hn,{isOpen:u,onClose:a,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Modifier le ticket"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Titre"}),e.jsx(Xe,{value:B.title,onChange:G=>F(W=>({...W,title:G.target.value}))})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{rows:4,value:B.description,onChange:G=>F(W=>({...W,description:G.target.value}))})]}),e.jsxs(Sn,{columns:2,spacing:4,w:"full",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Catgorie"}),e.jsx(Xe,{value:B.category,onChange:G=>F(W=>({...W,category:G.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Priorit"}),e.jsxs(gn,{value:B.priority,onChange:G=>F(W=>({...W,priority:G.target.value})),children:[e.jsx("option",{value:"low",children:"Faible"}),e.jsx("option",{value:"medium",children:"Moyen"}),e.jsx("option",{value:"high",children:"lev"}),e.jsx("option",{value:"critical",children:"Critique"})]})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsxs(gn,{value:B.type,onChange:G=>F(W=>({...W,type:G.target.value})),children:[e.jsx("option",{value:"bug",children:"Bug"}),e.jsx("option",{value:"feature",children:"Amlioration"}),e.jsx("option",{value:"performance",children:"Performance"}),e.jsx("option",{value:"security",children:"Scurit"}),e.jsx("option",{value:"other",children:"Autre"})]})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:a,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:J,children:"Enregistrer"})]})]})]})]})}function Zw({p:t,onEdit:n,onDelete:r}){return e.jsxs(St,{overflow:"hidden",children:[e.jsx(Cu,{src:t.image||"/assets/fallback/_MG_1006.jpg",alt:t.name,w:"100%",h:"160px",objectFit:"cover"}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:2,children:[e.jsxs(Te,{justify:"space-between",align:"start",children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"sm",children:t.name}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:t.category})]}),e.jsx(Sd,{size:"sm",colorScheme:t.active?"green":"gray",children:e.jsx(Cd,{children:t.active?"Actif":"Masqu"})})]}),e.jsxs(Te,{justify:"space-between",children:[e.jsxs(Z,{fontWeight:"bold",children:[t.price.toFixed(2)," "]}),e.jsxs(Te,{children:[e.jsx(Pn,{"aria-label":"diter",size:"sm",icon:e.jsx(ru,{}),onClick:()=>n(t)}),e.jsx(Pn,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(oi,{}),onClick:()=>r(t)})]})]})]})})]})}function Hle(){const t=Hr(),[n,r]=T.useState(["Textiles","Goodies","Affiches"]),[s,i]=T.useState([{id:"tee-classic",name:"T-shirt RtroBus Classique",price:20,category:"Textiles",image:"",active:!0},{id:"mug-logo",name:"Mug Logo RBE",price:12,category:"Goodies",image:"",active:!0},{id:"poster-920",name:"Affiche R312 n920",price:15,category:"Affiches",image:"",active:!1}]),[l,d]=T.useState([]),[f,u]=T.useState("Toutes"),[h,a]=T.useState(null),[m,v]=T.useState({id:"",name:"",price:0,category:"Textiles",image:"",active:!0,description:""}),g=er(),x=T.useMemo(()=>f==="Toutes"?s:s.filter(M=>M.category===f),[s,f]),w=()=>v({id:"",name:"",price:0,category:n[0]||"Textiles",image:"",active:!0,description:""}),b=()=>{a(null),w(),g.onOpen()},S=M=>{a(M),v({...M}),g.onOpen()},C=()=>{const M=(m.id||m.name||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-");if(!m.name||!M)return t({status:"warning",title:"Nom requis"});const ee={...m,id:M};i(re=>h?re.map(me=>me.id===h.id?ee:me):[{...ee},...re]),g.onClose(),t({status:"success",title:h?"Produit mis  jour":"Produit ajout"})},B=M=>{confirm(`Supprimer ${M.name} ?`)&&(i(ee=>ee.filter(re=>re.id!==M.id)),t({status:"info",title:"Produit supprim"}))},F=[{id:"hero-1",type:"banner",colSpan:12,data:{title:"Bienvenue sur RtroMerch",subtitle:"Slection spciale",image:"",ctaText:"Dcouvrir",ctaHref:"/retromerch"}},{id:"promo-1",type:"promo",colSpan:6,data:{label:"Promo",productId:"tee-classic",discount:20}},{id:"product-1",type:"product",colSpan:6,data:{productId:"mug-logo"}},{id:"grid-1",type:"grid",colSpan:12,data:{category:"Textiles",count:4}}],[N,Q]=T.useState(()=>{try{const M=localStorage.getItem("retromerch_layout");return M?JSON.parse(M):F}catch{return F}}),[z,k]=T.useState(null),[K,se]=T.useState(!0);T.useEffect(()=>{try{localStorage.setItem("retromerch_layout",JSON.stringify(N))}catch{}},[N]);const V=M=>`${M}-${Date.now().toString(36)}`,q=M=>{const ee={colSpan:12,data:{}},re={id:V(M),type:M,...ee};M==="banner"&&(re.data={title:"Titre",subtitle:"Sous-titre",image:"",ctaText:"Voir",ctaHref:"/retromerch"}),M==="promo"&&(re.data={label:"Promo",productId:s[0]?.id||"",discount:10}),M==="product"&&(re.data={productId:s[0]?.id||""}),M==="grid"&&(re.data={category:n[0]||"Textiles",count:4}),M==="text"&&(re.data={text:"Texte libre de prsentation"}),M==="spacer"&&(re.data={size:6}),Q(me=>[...me,re]),k(re.id)},le=M=>Q(ee=>ee.filter(re=>re.id!==M)),ae=M=>{const ee=N.find(Ue=>Ue.id===M);if(!ee)return;const re={...ee,id:V("copy")},me=N.findIndex(Ue=>Ue.id===M),De=[...N];De.splice(me+1,0,re),Q(De),k(re.id)},ie=(M,ee)=>Q(re=>re.map(me=>me.id===M?{...me,...ee,data:{...me.data,...ee.data||{}}}:me)),J=(M,ee)=>{const re=N.findIndex(Ue=>Ue.id===M);if(re<0)return;const me=[...N],De=ee==="up"?re-1:re+1;De<0||De>=me.length||([me[re],me[De]]=[me[De],me[re]],Q(me))},G=(M,ee)=>ie(M,{colSpan:ee}),[W,pe]=T.useState(null),oe=M=>ee=>{pe(M),ee.dataTransfer.setData("text/plain",M)},he=M=>{M.preventDefault()},$=M=>ee=>{ee.preventDefault();const re=W||ee.dataTransfer.getData("text/plain");if(!re||re===M)return;const me=[...N],De=me.findIndex(Ke=>Ke.id===re),Ue=me.findIndex(Ke=>Ke.id===M);if(De===-1||Ue===-1)return;const[Ne]=me.splice(De,1);me.splice(Ue,0,Ne),Q(me),pe(null)};return e.jsxs(Re,{p:6,maxW:"7xl",mx:"auto",children:[e.jsxs(Be,{align:"stretch",spacing:6,children:[e.jsxs(Te,{justify:"space-between",align:"center",children:[e.jsxs(ht,{size:"lg",display:"flex",alignItems:"center",gap:2,children:[e.jsx(fg,{})," Administration RtroMerch"]}),e.jsxs(Te,{children:[e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:b,children:"Ajouter un produit"}),e.jsx(Ie,{leftIcon:e.jsx(Mg,{}),variant:"outline",children:"Paramtres"})]})]}),e.jsxs(Eu,{colorScheme:"red",variant:"enclosed",children:[e.jsxs(Tu,{children:[e.jsxs($r,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(fg,{})," Catalogue"]}),e.jsxs($r,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(vre,{})," Commandes"]}),e.jsx($r,{children:"Catgories"}),e.jsx($r,{children:"Mise en page"}),e.jsx($r,{children:"Paramtres"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{px:0,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",align:"center",children:[e.jsx(ht,{size:"md",children:"Catalogue"}),e.jsxs(Te,{children:[e.jsxs(gn,{size:"sm",value:f,onChange:M=>u(M.target.value),children:[e.jsx("option",{children:"Toutes"}),n.map(M=>e.jsx("option",{children:M},M))]}),e.jsx(Ie,{size:"sm",onClick:b,leftIcon:e.jsx(Bs,{}),children:"Nouveau"})]})]})}),e.jsx(bt,{children:x.length===0?e.jsx(is,{py:10,children:e.jsx(Z,{color:"gray.600",children:"Aucun produit pour linstant."})}):e.jsx(Sn,{columns:{base:1,sm:2,md:3,xl:4},spacing:4,children:x.map(M=>e.jsx(Zw,{p:M,onEdit:S,onDelete:B},M.id))})})]})}),e.jsx(Gr,{px:0,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Commandes"})}),e.jsx(bt,{children:l.length===0?e.jsx(is,{py:10,children:e.jsx(Z,{color:"gray.600",children:"Aucune commande pour le moment."})}):e.jsxs(Is,{size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"#"}),e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Client"}),e.jsx(At,{children:"Montant"}),e.jsx(At,{children:"Statut"})]})}),e.jsx(Rs,{children:l.map(M=>e.jsxs(Rn,{children:[e.jsx(lt,{children:M.id}),e.jsx(lt,{children:new Date(M.createdAt).toLocaleString("fr-FR")}),e.jsx(lt,{children:M.customerName}),e.jsxs(lt,{children:[M.total.toFixed(2)," "]}),e.jsx(lt,{children:M.status})]},M.id))})]})})]})}),e.jsx(Gr,{px:0,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(Te,{justify:"space-between",children:e.jsx(ht,{size:"md",children:"Catgories"})})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[n.map((M,ee)=>e.jsxs(Te,{justify:"space-between",borderWidth:"1px",p:3,borderRadius:"md",children:[e.jsx(Z,{children:M}),e.jsxs(Te,{children:[e.jsx(Pn,{"aria-label":"Renommer",size:"sm",icon:e.jsx(ru,{}),onClick:()=>{const re=prompt("Nouveau nom de catgorie",M);re&&(r(me=>me.map(De=>De===M?re:De)),i(me=>me.map(De=>De.category===M?{...De,category:re}:De)))}}),e.jsx(Pn,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(oi,{}),onClick:()=>{confirm(`Supprimer la catgorie ${M} ?`)&&(r(re=>re.filter(me=>me!==M)),i(re=>re.map(me=>me.category===M?{...me,category:"Autre"}:me)))}})]})]},M)),e.jsxs(Te,{children:[e.jsx(Xe,{placeholder:"Nouvelle catgorie",size:"sm",id:"newCat"}),e.jsx(Ie,{size:"sm",onClick:()=>{const M=document.getElementById("newCat"),ee=(M?.value||"").trim();if(ee){if(n.includes(ee))return t({status:"info",title:"Existe dj"});r(re=>[...re,ee]),M.value=""}},children:"Ajouter"})]})]})})]})}),e.jsx(Gr,{px:0,children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsxs(Te,{justify:"space-between",align:"center",children:[e.jsx(ht,{size:"md",children:"Mise en page  diteur  puzzle "}),e.jsxs(Te,{children:[e.jsxs(Ie,{size:"sm",leftIcon:e.jsx(xf,{}),onClick:()=>se(M=>!M),children:[K?"Masquer":"Afficher"," laperu"]}),e.jsx(Ie,{size:"sm",variant:"outline",leftIcon:e.jsx(DT,{}),onClick:()=>{navigator.clipboard.writeText(JSON.stringify(N,null,2)),t({status:"success",title:"Layout copi"})},children:"Exporter JSON"})]})]}),e.jsxs(Sn,{columns:{base:1,xl:3},spacing:4,children:[e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Palette"})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:2,children:[e.jsx(Ie,{onClick:()=>q("banner"),children:"Bannire"}),e.jsx(Ie,{onClick:()=>q("promo"),children:"Produit en promo"}),e.jsx(Ie,{onClick:()=>q("product"),children:"Produit (slection)"}),e.jsx(Ie,{onClick:()=>q("grid"),children:"Grille par catgorie"}),e.jsx(Ie,{onClick:()=>q("text"),children:"Texte"}),e.jsx(Ie,{onClick:()=>q("spacer"),children:"Espace"})]})})]}),e.jsxs(St,{gridColumn:{base:"auto",xl:"span 2"},children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"diteur"})}),e.jsx(bt,{children:e.jsx(Re,{borderWidth:"1px",borderRadius:"md",p:3,children:e.jsx(yc,{templateColumns:"repeat(12, 1fr)",gap:3,gridAutoFlow:"row dense",children:N.map(M=>e.jsxs(Re,{gridColumn:`span ${Math.min(12,Math.max(3,M.colSpan||12))}`,p:0,borderWidth:z===M.id?"2px":"1px",borderColor:z===M.id?"blue.400":"gray.200",borderRadius:"md",bg:z===M.id?"blue.50":"white",draggable:!0,onDragStart:oe(M.id),onDragOver:he,onDrop:$(M.id),onClick:()=>k(M.id),children:[e.jsxs(Te,{justify:"space-between",p:2,bg:"gray.50",borderBottomWidth:"1px",borderTopRadius:"md",children:[e.jsxs(Te,{children:[e.jsx(Sd,{size:"sm",children:e.jsx(Cd,{children:M.type})}),e.jsx(gn,{size:"xs",w:"auto",value:M.colSpan,onChange:ee=>G(M.id,parseInt(ee.target.value)),children:[12,8,6,4,3].map(ee=>e.jsxs("option",{value:ee,children:[ee,"/12"]},ee))})]}),e.jsxs(Te,{children:[e.jsx(Pn,{"aria-label":"Monter",size:"xs",icon:e.jsx(bB,{}),onClick:ee=>{ee.stopPropagation(),J(M.id,"up")}}),e.jsx(Pn,{"aria-label":"Descendre",size:"xs",icon:e.jsx(b1,{}),onClick:ee=>{ee.stopPropagation(),J(M.id,"down")}}),e.jsx(Pn,{"aria-label":"Dupliquer",size:"xs",icon:e.jsx(DT,{}),onClick:ee=>{ee.stopPropagation(),ae(M.id)}}),e.jsx(Pn,{"aria-label":"Supprimer",size:"xs",colorScheme:"red",icon:e.jsx(oi,{}),onClick:ee=>{ee.stopPropagation(),le(M.id)}})]})]}),e.jsxs(Re,{p:3,children:[M.type==="banner"&&e.jsxs(Be,{align:"stretch",spacing:2,children:[e.jsx(Xe,{size:"sm",placeholder:"Titre",value:M.data.title||"",onChange:ee=>ie(M.id,{data:{title:ee.target.value}})}),e.jsx(Xe,{size:"sm",placeholder:"Sous-titre",value:M.data.subtitle||"",onChange:ee=>ie(M.id,{data:{subtitle:ee.target.value}})}),e.jsx(Xe,{size:"sm",placeholder:"Image URL",value:M.data.image||"",onChange:ee=>ie(M.id,{data:{image:ee.target.value}})}),e.jsxs(Te,{children:[e.jsx(Xe,{size:"sm",placeholder:"Texte du bouton",value:M.data.ctaText||"",onChange:ee=>ie(M.id,{data:{ctaText:ee.target.value}})}),e.jsx(Xe,{size:"sm",placeholder:"Lien",value:M.data.ctaHref||"",onChange:ee=>ie(M.id,{data:{ctaHref:ee.target.value}})})]})]}),M.type==="promo"&&e.jsxs(Sn,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Produit"}),e.jsx(gn,{size:"sm",value:M.data.productId||"",onChange:ee=>ie(M.id,{data:{productId:ee.target.value}}),children:s.map(ee=>e.jsx("option",{value:ee.id,children:ee.name},ee.id))})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Label"}),e.jsx(Xe,{size:"sm",value:M.data.label||"",onChange:ee=>ie(M.id,{data:{label:ee.target.value}})})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Rduction (%)"}),e.jsx(gs,{size:"sm",min:0,max:90,value:M.data.discount||0,onChange:(ee,re)=>ie(M.id,{data:{discount:isNaN(re)?0:re}}),children:e.jsx(vs,{})})]})]}),M.type==="product"&&e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Produit"}),e.jsx(gn,{size:"sm",value:M.data.productId||"",onChange:ee=>ie(M.id,{data:{productId:ee.target.value}}),children:s.map(ee=>e.jsx("option",{value:ee.id,children:ee.name},ee.id))})]}),M.type==="grid"&&e.jsxs(Sn,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Catgorie"}),e.jsx(gn,{size:"sm",value:M.data.category||"",onChange:ee=>ie(M.id,{data:{category:ee.target.value}}),children:n.map(ee=>e.jsx("option",{value:ee,children:ee},ee))})]}),e.jsxs(be,{children:[e.jsx(je,{fontSize:"xs",children:"Nombre"}),e.jsx(gs,{size:"sm",min:1,max:12,value:M.data.count||4,onChange:(ee,re)=>ie(M.id,{data:{count:isNaN(re)?4:re}}),children:e.jsx(vs,{})})]})]}),M.type==="text"&&e.jsx(xr,{size:"sm",rows:3,value:M.data.text||"",onChange:ee=>ie(M.id,{data:{text:ee.target.value}})}),M.type==="spacer"&&e.jsxs(Te,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Espace (px)"}),e.jsx(gs,{size:"sm",min:8,max:96,value:M.data.size||24,onChange:(ee,re)=>ie(M.id,{data:{size:isNaN(re)?24:re}}),children:e.jsx(vs,{})})]})]})]},M.id))})})})]})]}),K&&e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"sm",children:"Aperu dynamique"})}),e.jsx(bt,{children:e.jsx(Re,{children:e.jsx(yc,{templateColumns:{base:"1fr",md:"repeat(12, 1fr)"},gap:4,gridAutoFlow:"row dense",children:N.map(M=>e.jsxs(Re,{gridColumn:{base:"auto",md:`span ${Math.min(12,Math.max(3,M.colSpan||12))}`},children:[M.type==="banner"&&e.jsx(Ri,{bgImage:M.data.image||void 0,bgSize:"cover",bgPos:"center",borderRadius:"md",p:10,minH:"160px",align:"center",justify:"space-between",bg:M.data.image?void 0:"gray.100",children:e.jsxs(Be,{align:"start",spacing:2,children:[e.jsx(ht,{size:"lg",children:M.data.title||"Titre"}),e.jsx(Z,{color:"gray.700",children:M.data.subtitle||"Sous-titre"}),M.data.ctaText&&e.jsx(Ie,{colorScheme:"blue",size:"sm",children:M.data.ctaText})]})}),M.type==="promo"&&(()=>{const ee=s.find(re=>re.id===M.data.productId);return ee?e.jsxs(St,{overflow:"hidden",borderColor:"red.200",borderWidth:"1px",children:[e.jsx(Cu,{src:ee.image||"/assets/fallback/_MG_1006.jpg",alt:ee.name,h:"160px",w:"100%",objectFit:"cover"}),e.jsxs(bt,{children:[e.jsxs(Te,{justify:"space-between",align:"start",children:[e.jsxs(Be,{align:"start",spacing:1,children:[e.jsx(ht,{size:"sm",children:ee.name}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:ee.category})]}),e.jsx(Sd,{colorScheme:"red",children:e.jsxs(Cd,{children:[M.data.label||"Promo"," -",M.data.discount||0,"%"]})})]}),e.jsxs(Te,{justify:"space-between",pt:2,children:[e.jsxs(Z,{fontWeight:"bold",children:[(ee.price*(1-(M.data.discount||0)/100)).toFixed(2),"  ",e.jsxs(Z,{as:"span",color:"gray.500",textDecor:"line-through",ml:2,children:[ee.price.toFixed(2)," "]})]}),e.jsx(Ie,{size:"sm",colorScheme:"blue",children:"Voir"})]})]})]}):e.jsx(Re,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),M.type==="product"&&(()=>{const ee=s.find(re=>re.id===M.data.productId);return ee?e.jsx(Zw,{p:ee,onEdit:()=>{},onDelete:()=>{}}):e.jsx(Re,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),M.type==="grid"&&(()=>{const ee=s.filter(re=>re.active&&(M.data.category?re.category===M.data.category:!0)).slice(0,M.data.count||4);return e.jsx(Sn,{columns:{base:1,sm:2,md:2,lg:3,xl:4},spacing:4,children:ee.map(re=>e.jsx(Zw,{p:re,onEdit:()=>{},onDelete:()=>{}},re.id))})})(),M.type==="text"&&e.jsx(Re,{p:3,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:e.jsx(Z,{children:M.data.text||""})}),M.type==="spacer"&&e.jsx(Re,{h:`${M.data.size||24}px`})]},M.id))})})})]})]})}),e.jsx(Gr,{px:0,children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Paramtres"})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:4,children:[e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{children:"Activer la boutique"}),e.jsx(vo,{defaultChecked:!0,isDisabled:!0})]}),e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{children:"Mode test (paiements simuls)"}),e.jsx(vo,{isDisabled:!0})]}),e.jsx(Z,{color:"gray.600",children:"Connecteurs (HelloAsso/Stripe), TVA, frais de port, etc. seront configurables ici."})]})})]})})]})]})]}),g.isOpen&&e.jsx(Re,{position:"fixed",inset:0,bg:"blackAlpha.600",zIndex:1e3,onClick:g.onClose,children:e.jsx(Re,{as:"dialog",onClick:M=>M.stopPropagation(),style:{border:0},children:e.jsxs(St,{position:"fixed",top:"10%",left:"50%",transform:"translateX(-50%)",w:{base:"95%",md:"560px"},children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:h?"Modifier le produit":"Nouveau produit"})}),e.jsx(bt,{children:e.jsxs(Be,{align:"stretch",spacing:3,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Nom"}),e.jsx(Xe,{value:m.name,onChange:M=>v(ee=>({...ee,name:M.target.value}))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Identifiant (URL)"}),e.jsx(Xe,{value:m.id,onChange:M=>v(ee=>({...ee,id:M.target.value})),placeholder:"auto depuis le nom"})]}),e.jsxs(Sn,{columns:{base:1,md:2},spacing:3,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Prix ()"}),e.jsx(gs,{min:0,value:m.price,onChange:(M,ee)=>v(re=>({...re,price:isNaN(ee)?0:ee})),children:e.jsx(vs,{})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Catgorie"}),e.jsx(gn,{value:m.category,onChange:M=>v(ee=>({...ee,category:M.target.value})),children:n.map(M=>e.jsx("option",{children:M},M))})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Image (URL)"}),e.jsx(Xe,{value:m.image,onChange:M=>v(ee=>({...ee,image:M.target.value})),placeholder:"https://"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{value:m.description,onChange:M=>v(ee=>({...ee,description:M.target.value})),rows:3})]}),e.jsxs(Te,{justify:"space-between",children:[e.jsx(Z,{children:"Actif"}),e.jsx(vo,{isChecked:m.active,onChange:M=>v(ee=>({...ee,active:M.target.checked}))})]}),e.jsxs(Te,{justify:"flex-end",pt:2,children:[e.jsx(Ie,{variant:"ghost",onClick:g.onClose,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:C,children:h?"Enregistrer":"Crer"})]})]})})]})})})]})}const FB=[{value:"tournee",label:"Tourne",color:"orange"},{value:"campagne",label:"Campagne",color:"purple"},{value:"maintenance",label:"Maintenance",color:"red"},{value:"evenement",label:"vnement",color:"green"},{value:"livraison",label:"Livraison",color:"cyan"},{value:"cotisation",label:"Cotisation",color:"yellow"}];function Vle({events:t,currentDate:n,onDateClick:r,onPrevMonth:s,onNextMonth:i}){const l=n.getFullYear(),d=n.getMonth(),f=new Date(l,d,1).getDay(),u=new Date(l,d+1,0).getDate(),h=new Date(l,d,0).getDate(),a=[];for(let g=f-1;g>=0;g--)a.push({day:h-g,isCurrentMonth:!1});for(let g=1;g<=u;g++)a.push({day:g,isCurrentMonth:!0});const m=42-a.length;for(let g=1;g<=m;g++)a.push({day:g,isCurrentMonth:!1});const v=g=>t.filter(x=>{const w=new Date(x.startDate);return w.getDate()===g&&w.getMonth()===d&&w.getFullYear()===l});return e.jsx(St,{mb:6,children:e.jsx(bt,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Ri,{justify:"space-between",align:"center",children:[e.jsx(ht,{size:"md",children:n.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}),e.jsxs(Te,{children:[e.jsx(Pn,{icon:e.jsx(cne,{}),onClick:s,variant:"ghost","aria-label":"Mois prcdent"}),e.jsx(Pn,{icon:e.jsx(une,{}),onClick:i,variant:"ghost","aria-label":"Mois suivant"})]})]}),e.jsxs(yc,{templateColumns:"repeat(7, 1fr)",gap:2,children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(g=>e.jsx(Re,{textAlign:"center",fontWeight:"bold",fontSize:"sm",children:g},g)),a.map((g,x)=>{const w=g.isCurrentMonth?v(g.day):[];return e.jsxs(Re,{p:2,border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"100px",bg:g.isCurrentMonth?"white":"gray.50",cursor:g.isCurrentMonth?"pointer":"default",onClick:()=>g.isCurrentMonth&&r(g.day),_hover:g.isCurrentMonth?{bg:"blue.50"}:{},children:[e.jsx(Z,{fontSize:"xs",fontWeight:"bold",mb:1,children:g.day}),e.jsx(Be,{spacing:1,align:"stretch",children:w.map(b=>e.jsx(Xt,{fontSize:"2xs",colorScheme:TS(b.type),cursor:"pointer",title:b.title,noOfLines:1,children:b.title},b.id))})]},x)})]})]})})})}const TS=t=>FB.find(r=>r.value===t)?.color||"gray",v3=t=>FB.find(r=>r.value===t)?.label||t,qw=t=>t?new Date(t).toLocaleDateString("fr-FR"):"";function $le(){const t=Hr(),{isOpen:n,onOpen:r,onClose:s}=er(),{isOpen:i,onOpen:l,onClose:d}=er(),[f,u]=T.useState([]),[h,a]=T.useState(null),[m,v]=T.useState(new Date),[g,x]=T.useState([]),[w,b]=T.useState(!0),[S,C]=T.useState([]),[B,F]=T.useState(!0),[N,Q]=T.useState({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""});T.useEffect(()=>{K(),z(),k()},[]);const z=async()=>{try{b(!0);const W=await Ku("/api/members");if(Array.isArray(W)){const pe=W.map(oe=>({id:oe.id,name:`${oe.firstName} ${oe.lastName}`,email:oe.email,membershipStatus:oe.membershipStatus}));x(pe)}else console.warn("Unexpected members response format:",W),x([])}catch(W){console.error("Erreur chargement membres:",W),x([]),t({title:"Attention",description:"Impossible de charger la liste des membres",status:"warning",duration:3})}finally{b(!1)}},k=async()=>{try{F(!0);const W=await Ku("/api/vehicles");Array.isArray(W)?C(W):(console.warn("Unexpected vehicles response format:",W),C([]))}catch(W){console.error("Erreur chargement vhicules:",W),C([])}finally{F(!1)}},K=async()=>{try{const W=await Ku("/api/planning/events");Array.isArray(W)?u(W):W&&typeof W=="object"&&W.data&&Array.isArray(W.data)?u(W.data):(console.warn("Unexpected response format, using demo data:",W),u([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}]))}catch(W){console.error("Erreur chargement:",W),u([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}])}},se=W=>{const{name:pe,value:oe}=W.target;Q(he=>({...he,[pe]:oe}))},V=W=>{Q(pe=>({...pe,selectedMembers:W}))},q=async()=>{if(!N.title||!N.startDate){t({title:"Erreur",description:"Veuillez remplir au minimum le titre et la date",status:"error",duration:3});return}try{const W={title:N.title,type:N.type,description:N.description,startDate:new Date(`${N.startDate}T${N.startTime||"08:00"}`).toISOString(),endDate:N.endDate?new Date(`${N.endDate}T${N.endTime||"17:00"}`).toISOString():null,startTime:N.startTime||"08:00",endTime:N.endTime||"17:00",location:N.location,vehicleId:N.vehicleId||null,driverId:N.driverId||null,selectedMembers:N.selectedMembers,externalEmails:N.externalEmails},pe=await Ku("/api/planning/events",{method:"POST",body:JSON.stringify(W)});if(pe.success||pe.event)await K(),t({title:"Succs",description:`vnement cr et ${pe.emailsSent?.members||0} invitation(s) envoye(s)`,status:"success",duration:3}),Q({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""}),s();else throw new Error(pe.error||"Erreur inconnue")}catch(W){console.error("Erreur cration vnement:",W),t({title:"Erreur",description:W.message||"Impossible de crer l'vnement",status:"error",duration:3})}},le=W=>{a(W),l()},ae=async W=>{try{const pe=await Ku(`/api/planning/events/${W}`,{method:"DELETE"});if(pe.success)await K(),t({title:"Succs",description:"vnement supprim",status:"success",duration:3}),d();else throw new Error(pe.error||"Erreur inconnue")}catch(pe){console.error("Erreur suppression:",pe),t({title:"Erreur",description:pe.message||"Impossible de supprimer l'vnement",status:"error",duration:3})}},ie=()=>{v(W=>new Date(W.getFullYear(),W.getMonth()-1,1))},J=()=>{v(W=>new Date(W.getFullYear(),W.getMonth()+1,1))},G=W=>{const pe=new Date(m.getFullYear(),m.getMonth(),W);Q(oe=>({...oe,startDate:pe.toISOString().split("T")[0]})),r()};return e.jsx(_g,{children:e.jsxs(Jc,{maxW:"container.xl",py:8,children:[e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Ri,{justify:"space-between",align:"center",children:[e.jsx(ht,{as:"h1",size:"lg",children:" RtroPlanning"}),e.jsx(Ie,{colorScheme:"blue",onClick:r,children:" Ajouter un vnement"})]}),e.jsx(Vle,{events:f,currentDate:m,onDateClick:G,onPrevMonth:ie,onNextMonth:J}),e.jsxs(Re,{children:[e.jsx(ht,{size:"md",mb:4,children:" vnements prvus"}),!Array.isArray(f)||f.length===0?e.jsx(St,{children:e.jsx(bt,{children:e.jsx(Z,{textAlign:"center",color:"gray.500",children:"Aucun vnement prvu pour le moment"})})}):e.jsx(yc,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:f.map(W=>e.jsx(St,{cursor:"pointer",onClick:()=>le(W),_hover:{shadow:"md",transform:"translateY(-2px)"},transition:"all 0.2s",children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:3,children:[e.jsxs(Te,{justify:"space-between",w:"full",children:[e.jsx(ht,{size:"sm",children:W.title}),e.jsx(Xt,{colorScheme:TS(W.type),children:v3(W.type)})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:W.description}),e.jsxs(Te,{fontSize:"xs",color:"gray.500",spacing:4,children:[e.jsxs(Z,{children:[" ",qw(W.startDate)]}),W.vehicleId&&e.jsxs(Z,{children:[" ",W.vehicleId]})]})]})})},W.id))})]})]}),e.jsxs(Hn,{isOpen:n,onClose:s,size:"xl",scrollBehavior:"inside",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:" Crer un nouvel vnement"}),e.jsx(fr,{}),e.jsx(Vn,{pb:6,children:e.jsxs(Be,{spacing:4,children:[e.jsxs(Re,{w:"full",children:[e.jsx(ht,{size:"sm",mb:3,children:" Dtails"}),e.jsxs(Be,{spacing:3,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Titre"}),e.jsx(Xe,{name:"title",value:N.title,onChange:se,placeholder:"Titre de l'vnement"})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Type"}),e.jsx(gn,{name:"type",value:N.type,onChange:se,children:FB.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{name:"description",value:N.description,onChange:se,placeholder:"Dtails de l'vnement",rows:3})]})]})]}),e.jsx(ds,{}),e.jsxs(Re,{w:"full",children:[e.jsx(ht,{size:"sm",mb:3,children:" Date et Heure"}),e.jsxs(yc,{templateColumns:"repeat(2, 1fr)",gap:3,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Date dbut"}),e.jsx(Xe,{type:"date",name:"startDate",value:N.startDate,onChange:se})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure dbut"}),e.jsx(Xe,{type:"time",name:"startTime",value:N.startTime,onChange:se})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Date fin"}),e.jsx(Xe,{type:"date",name:"endDate",value:N.endDate,onChange:se})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Heure fin"}),e.jsx(Xe,{type:"time",name:"endTime",value:N.endTime,onChange:se})]})]})]}),e.jsx(ds,{}),e.jsxs(Re,{w:"full",children:[e.jsx(ht,{size:"sm",mb:3,children:" Affectations"}),e.jsxs(Be,{spacing:3,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Vhicule"}),B?e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Chargement des vhicules..."}):S.length===0?e.jsx(Z,{fontSize:"sm",color:"red.500",children:"Aucun vhicule disponible"}):e.jsxs(gn,{name:"vehicleId",value:N.vehicleId,onChange:se,children:[e.jsx("option",{value:"",children:"-- Slectionner un vhicule --"}),S.map(W=>e.jsxs("option",{value:W.id,children:[W.parc," - ",W.modele," (",W.marque,")"]},W.id))]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Chauffeur (Membre)"}),w?e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Chargement des chauffeurs..."}):g.length===0?e.jsx(Z,{fontSize:"sm",color:"red.500",children:"Aucun membre disponible"}):e.jsxs(gn,{name:"driverId",value:N.driverId,onChange:se,children:[e.jsx("option",{value:"",children:"-- Slectionner un chauffeur --"}),g.map(W=>e.jsx("option",{value:W.id,children:W.name},W.id))]})]})]})]}),e.jsx(ds,{}),e.jsxs(Re,{w:"full",children:[e.jsx(ht,{size:"sm",mb:3,children:" Participants"}),e.jsxs(Be,{spacing:3,align:"start",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Membres de l'association"}),w?e.jsx(Z,{fontSize:"sm",color:"gray.500",children:"Chargement des membres..."}):g.length===0?e.jsx(Z,{fontSize:"sm",color:"orange.500",children:"Aucun membre disponible"}):e.jsx(DL,{value:N.selectedMembers,onChange:V,children:e.jsx(kA,{spacing:2,children:g.map(W=>e.jsxs(Xu,{value:W.id,children:[W.name," (",W.email,")"]},W.id))})})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Invitations externes"}),e.jsx(xr,{name:"externalEmails",value:N.externalEmails,onChange:se,placeholder:`Adresses emails spares par des virgules
exemple@mail.com, autre@mail.com`,rows:3}),e.jsx(Z,{fontSize:"xs",color:"gray.500",mt:1,children:"Sparez les adresses par des virgules pour envoyer des invitations par email"})]})]})]}),e.jsx(ds,{}),e.jsxs(Te,{justify:"flex-end",w:"full",pt:4,children:[e.jsx(Ie,{variant:"ghost",onClick:s,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:q,children:" Crer l'vnement"})]})]})})]})]}),e.jsxs(Hn,{isOpen:i,onClose:d,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:h?.title}),e.jsx(fr,{}),e.jsx(Vn,{pb:6,children:h&&e.jsxs(Be,{spacing:4,align:"start",children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:1,children:"Type:"}),e.jsx(Xt,{colorScheme:TS(h.type),children:v3(h.type)})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:1,children:"Description:"}),e.jsx(Z,{children:h.description||"-"})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:1,children:"Date dbut:"}),e.jsx(Z,{children:qw(h.startDate)})]}),h.endDate&&e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:1,children:"Date fin:"}),e.jsx(Z,{children:qw(h.endDate)})]}),h.vehicleId&&e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:1,children:"Vhicule:"}),e.jsx(Z,{children:h.vehicleId})]}),h.driverId&&e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",mb:1,children:"Chauffeur:"}),e.jsx(Z,{children:h.driverId})]}),e.jsxs(Te,{spacing:3,w:"full",pt:4,children:[e.jsx(Ie,{colorScheme:"red",flex:1,onClick:()=>ae(h.id),children:" Supprimer"}),e.jsx(Ie,{variant:"ghost",flex:1,onClick:d,children:"Fermer"})]})]})})]})]})]})})}const Gle="http://localhost:3001";function Kle(){const{eventId:t,memberId:n}=kj(),r=rA(),s=Hr(),i=Os("white","gray.800"),[l,d]=T.useState(!0),[f,u]=T.useState(null),[h,a]=T.useState(null),[m,v]=T.useState(!1),[g,x]=T.useState(null);T.useEffect(()=>{w()},[t,n]);const w=async()=>{try{d(!0),u({id:t,title:"Tourne collecte fvrier",date:new Date(2025,1,15).toISOString(),description:"Tourne de collecte bi-mensuelle",type:"TOURNEE"}),a({id:n,prenom:"Jean",nom:"Dupont",email:"jean@retrobus.fr"})}catch(C){console.error("Fetch error:",C),x("Impossible de charger les informations")}finally{d(!1)}},b=async C=>{try{if(d(!0),!(await fetch(`${Gle}/api/planning/attendance/${t}/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmed:C})})).ok)throw new Error("Failed");v(!0),s({status:"success",title:C?"Prsence confirme !":"Absence enregistre",duration:3e3}),setTimeout(()=>r("/"),2e3)}catch(B){s({status:"error",title:"Erreur",description:B.message})}finally{d(!1)}};if(l)return e.jsx(is,{p:6,children:e.jsx(Kr,{size:"xl"})});if(g)return e.jsx(is,{p:6,minH:"100vh",children:e.jsxs(ir,{status:"error",borderRadius:"lg",children:[e.jsx(or,{}),g]})});if(m)return e.jsx(is,{p:6,minH:"100vh",children:e.jsx(St,{bg:i,maxW:"500px",w:"100%",children:e.jsxs(bt,{textAlign:"center",py:10,children:[e.jsxs(Re,{mb:4,children:[e.jsx(Re,{fontSize:"60px",mb:4,children:""}),e.jsx(ht,{size:"lg",mb:2,children:"Merci !"}),e.jsx(Z,{color:"gray.600",children:"Votre rponse a t enregistre."})]}),e.jsx(Ie,{mt:6,onClick:()=>r("/"),children:"Retourner  l'accueil"})]})})});const S=new Date(f.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(is,{p:6,minH:"100vh",bg:"gray.50",children:e.jsxs(St,{bg:i,maxW:"600px",w:"100%",boxShadow:"xl",borderRadius:"xl",children:[e.jsx(Qn,{p:8,borderBottomWidth:"1px",children:e.jsxs(Be,{spacing:4,align:"center",children:[e.jsx(Re,{fontSize:"48px",children:""}),e.jsx(ht,{size:"lg",textAlign:"center",children:"Confirmation de prsence"}),e.jsxs(Z,{color:"gray.600",textAlign:"center",children:["Bonjour ",h?.prenom," ",h?.nom]})]})}),e.jsx(bt,{p:8,children:e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Re,{bg:"blue.50",p:4,borderRadius:"lg",borderLeft:"4px",borderLeftColor:"blue.500",children:[e.jsxs(Te,{spacing:3,mb:2,children:[e.jsx(xc,{size:20,color:"#3b82f6"}),e.jsx(ht,{size:"sm",children:f?.title})]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",mb:2,children:S}),f?.description&&e.jsx(Z,{fontSize:"sm",children:f.description})]}),e.jsxs(Be,{spacing:3,pt:4,children:[e.jsx(Z,{fontWeight:"600",textAlign:"center",children:"Confirmer votre prsence ?"}),e.jsxs(Te,{spacing:3,w:"100%",children:[e.jsx(Ie,{leftIcon:e.jsx(Ig,{}),colorScheme:"green",size:"lg",flex:"1",onClick:()=>b(!0),isLoading:l,children:" Je serai prsent"}),e.jsx(Ie,{leftIcon:e.jsx(Hp,{}),colorScheme:"red",size:"lg",flex:"1",variant:"outline",onClick:()=>b(!1),isLoading:l,children:" Je ne pourrai pas"})]})]}),e.jsx(Re,{pt:4,borderTopWidth:"1px",children:e.jsxs(Z,{fontSize:"xs",color:"gray.500",textAlign:"center",children:["Votre email: ",h?.email]})})]})})]})})}const x3={confirmed:{label:"Confirmer ma prsence",color:"green",icon:""},declined:{label:"Refuser",color:"red",icon:""},proposed_reschedule:{label:"Proposer un report",color:"orange",icon:""}};function Wle(){const t=Hr(),{isOpen:n,onOpen:r,onClose:s}=er(),[i,l]=T.useState([]),[d,f]=T.useState(!0),[u,h]=T.useState(null),[a,m]=T.useState("confirmed"),[v,g]=T.useState(""),[x,w]=T.useState(""),[b,S]=T.useState(!1);T.useEffect(()=>{C()},[]);const C=async()=>{try{f(!0);const Q=await Ku("/api/planning/my-invitations");Array.isArray(Q)?l(Q):l([])}catch(Q){console.error("Erreur chargement invitations:",Q),t({title:"Erreur",description:"Impossible de charger les invitations",status:"error",duration:3}),l([])}finally{f(!1)}},B=async()=>{if(u)try{S(!0);const Q={participantId:u.participantId,status:a,rescheduleProposal:a==="proposed_reschedule"?v:null,rescheduleReason:a==="proposed_reschedule"?x:null},z=await Ku(`/api/planning/respond-invitation/${u.planningId}/${u.participantId}`,{method:"POST",body:JSON.stringify(Q)});if(z.success)t({title:"Succs",description:`Votre rponse a t enregistre: ${x3[a].label}`,status:"success",duration:3}),l(k=>k.map(K=>K.participantId===u.participantId?{...K,status:a}:K)),s();else throw new Error(z.error||"Erreur lors de la soumission")}catch(Q){console.error("Erreur rponse:",Q),t({title:"Erreur",description:Q.message||"Impossible de soumettre votre rponse",status:"error",duration:3})}finally{S(!1)}},F=Q=>({pending:"yellow",confirmed:"green",declined:"red",proposed_reschedule:"orange"})[Q]||"gray",N=Q=>({pending:"En attente de rponse",confirmed:"Confirm",declined:"Refus",proposed_reschedule:"Report propos"})[Q]||Q;return e.jsx(_g,{children:e.jsxs(Jc,{maxW:"container.lg",py:8,children:[e.jsxs(Be,{spacing:6,align:"stretch",children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",mb:2,children:" Mes Invitations"}),e.jsxs(Z,{color:"gray.600",children:["Vous avez ",i.length," invitation",i.length!==1?"s":""]})]}),d?e.jsx(Z,{children:"Chargement..."}):i.length===0?e.jsx(St,{children:e.jsx(bt,{children:e.jsx(Z,{textAlign:"center",color:"gray.500",children:"Vous n'avez pas d'invitations en attente"})})}):e.jsx(Be,{spacing:4,children:i.map(Q=>e.jsx(St,{w:"full",children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:3,w:"full",children:[e.jsxs(Ri,{w:"full",justify:"space-between",align:"start",children:[e.jsxs(Be,{align:"start",flex:1,spacing:2,children:[e.jsx(ht,{size:"md",children:Q.eventTitle}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:Q.eventType?`Type: ${Q.eventType}`:""}),e.jsxs(Te,{spacing:4,fontSize:"sm",children:[e.jsxs(Z,{children:[" ",new Date(Q.eventDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),e.jsxs(Z,{children:[" ",Q.eventStartTime||"Heure non dfinie"]})]}),Q.eventLocation&&e.jsxs(Z,{fontSize:"sm",color:"gray.600",children:[" ",Q.eventLocation]}),Q.eventDescription&&e.jsx(Z,{fontSize:"sm",color:"gray.600",noOfLines:2,children:Q.eventDescription})]}),e.jsx(Xt,{colorScheme:F(Q.status),ml:4,textTransform:"capitalize",children:N(Q.status)})]}),Q.status==="pending"&&e.jsxs(Te,{spacing:2,pt:2,borderTop:"1px solid",borderColor:"gray.200",w:"full",children:[e.jsx(Ie,{size:"sm",colorScheme:"green",onClick:()=>{h(Q),m("confirmed"),r()},children:" Confirmer"}),e.jsx(Ie,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>{h(Q),m("declined"),r()},children:" Refuser"}),e.jsx(Ie,{size:"sm",colorScheme:"orange",variant:"outline",onClick:()=>{h(Q),m("proposed_reschedule"),r()},children:" Reporter"})]}),Q.status==="proposed_reschedule"&&Q.rescheduleProposal&&e.jsxs(Re,{fontSize:"sm",p:2,bg:"orange.50",borderRadius:"md",w:"full",children:[e.jsxs(Z,{fontWeight:"bold",color:"orange.700",children:["Report propos au: ",new Date(Q.rescheduleProposal).toLocaleDateString("fr-FR")]}),Q.rescheduleReason&&e.jsx(Z,{color:"orange.700",children:Q.rescheduleReason})]})]})})},Q.participantId))})]}),e.jsxs(Hn,{isOpen:n,onClose:s,size:"lg",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:u&&`Rpondre : ${u.eventTitle}`}),e.jsx(fr,{}),e.jsx(Vn,{pb:6,children:e.jsxs(Be,{spacing:4,children:[a==="proposed_reschedule"&&e.jsxs(e.Fragment,{children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Date propose"}),e.jsx(Xe,{type:"date",value:v,onChange:Q=>g(Q.target.value)})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Raison du report"}),e.jsx(xr,{value:x,onChange:Q=>w(Q.target.value),placeholder:"Expliquez pourquoi vous proposez ce report...",rows:4})]})]}),a==="declined"&&e.jsxs(be,{children:[e.jsx(je,{children:"Motif du refus (optionnel)"}),e.jsx(xr,{value:x,onChange:Q=>w(Q.target.value),placeholder:"Expliquez pourquoi vous refusez cette invitation...",rows:4})]}),e.jsxs(Te,{w:"full",pt:4,children:[e.jsx(Ie,{flex:1,colorScheme:a==="confirmed"?"green":a==="declined"?"red":"orange",isLoading:b,onClick:B,children:x3[a].label}),e.jsx(Ie,{flex:1,variant:"outline",onClick:s,isDisabled:b,children:"Annuler"})]})]})})]})]})]})})}const Yle=()=>{const t=Hr(),{user:n}=qa(),{isOpen:r,onOpen:s,onClose:i}=er(),{isOpen:l,onOpen:d,onClose:f}=er(),[u,h]=T.useState([]),[a,m]=T.useState([]),[v,g]=T.useState(!1),[x,w]=T.useState(null),[b,S]=T.useState(null),[C,B]=T.useState({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),F=T.useCallback(()=>n?(Array.isArray(n.roles)?n.roles:[]).some(M=>M==="ADMIN"||M==="PRESIDENT"||M==="VICE-PRESIDENT"||M==="TREASURER"):!1,[n]),N=T.useCallback(async()=>{try{g(!0);const he=await mn.get("/api/retro-requests");he.requests&&h(he.requests)}catch(he){console.error("Erreur chargement mes demandes:",he),t({title:"Erreur",description:"Impossible de charger vos demandes",status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}},[t]),Q=T.useCallback(async()=>{if(F())try{g(!0);const he=await mn.get("/api/retro-requests/admin/all");he.requests&&m(he.requests)}catch(he){console.error("Erreur chargement toutes les demandes:",he),t({title:"Erreur",description:"Impossible de charger toutes les demandes",status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}},[F,t]);T.useEffect(()=>{N(),F()&&Q()},[N,Q,F]);const z=async he=>{if(he?.preventDefault(),!C.title||!C.description){t({title:"Erreur",description:"Le titre et la description sont obligatoires",status:"warning"});return}try{g(!0),b?(await mn.put(`/api/retro-requests/${b}`,C),t({title:"Succs",description:"Demande modifie",status:"success"})):(await mn.post("/api/retro-requests",C),t({title:"Succs",description:"Demande cre",status:"success"})),B({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),S(null),i(),await N()}catch($){console.error("Erreur sauvegarde:",$),t({title:"Erreur",description:"Impossible de sauvegarder la demande",status:"error"})}finally{g(!1)}},k=()=>{S(null),B({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),s()},K=he=>{S(he.id),B({title:he.title,description:he.description,category:he.category,priority:he.priority}),s()},se=async he=>{if(window.confirm("tes-vous sr de vouloir supprimer cette demande ?"))try{g(!0),await mn.delete(`/api/retro-requests/${he}`),t({title:"Succs",description:"Demande supprime",status:"success"}),await N()}catch($){console.error("Erreur suppression:",$),t({title:"Erreur",description:"Impossible de supprimer la demande",status:"error"})}finally{g(!1)}},V=async he=>{if(x)try{g(!0),await mn.post(`/api/retro-requests/${x.id}/status`,{status:he,reason:"Changement de statut"}),t({title:"Succs",description:"Statut modifi",status:"success"}),w({...x,status:he}),await N()}catch($){console.error("Erreur changement statut:",$),t({title:"Erreur",description:"Impossible de modifier le statut",status:"error"})}finally{g(!1)}},q=he=>{w(he),d()},le=he=>{const M={PENDING:{label:" En attente",color:"orange"},ASSIGNED:{label:" Assigne",color:"blue"},IN_PROGRESS:{label:" En cours",color:"blue"},COMPLETED:{label:" Complte",color:"green"},CLOSED:{label:" Ferme",color:"gray"},REJECTED:{label:" Rejete",color:"red"}}[he]||{label:he,color:"gray"};return e.jsx(Xt,{colorScheme:M.color,children:M.label})},ae=he=>({GENERAL:"Gnral",REPAIR:"Rparation",MAINTENANCE:"Maintenance",SERVICE:"Service",CUSTOM:"Personnalis"})[he]||he,ie=vD({base:!0,md:!1}),J=ie?"sm":"md",G=()=>e.jsx(Be,{align:"stretch",spacing:6,children:e.jsxs(St,{children:[e.jsx(Qn,{pb:0,children:e.jsxs(Be,{align:"flex-start",spacing:1,children:[e.jsx(ht,{size:"md",children:"Mes demandes"}),e.jsx(Z,{color:"gray.600",children:"Suivez, modifiez ou crez vos RtroDemandes."})]})}),e.jsx(bt,{children:v&&u.length===0?e.jsx(Ri,{justify:"center",py:10,children:e.jsx(Kr,{})}):u.length===0?e.jsxs(Re,{textAlign:"center",py:10,color:"gray.500",children:[e.jsx(Z,{mb:4,children:"Aucune demande pour le moment"}),e.jsx(Ie,{colorScheme:"blue",size:"sm",leftIcon:e.jsx(Bs,{}),onClick:k,children:"Crer une demande"})]}):ie?e.jsx(Sn,{spacing:4,columns:1,children:u.map(he=>e.jsx(St,{variant:"outline",children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:3,children:[e.jsxs(Te,{justify:"space-between",width:"100%",children:[e.jsx(ht,{size:"sm",children:he.title}),le(he.status)]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:he.description}),e.jsxs(Te,{spacing:2,fontSize:"xs",color:"gray.500",children:[e.jsx(Xt,{children:ae(he.category)}),e.jsx(Z,{children:new Date(he.createdAt).toLocaleDateString()})]}),e.jsxs(Te,{spacing:2,width:"100%",pt:2,children:[e.jsx(Pn,{icon:e.jsx(Wv,{}),size:"sm",variant:"ghost",onClick:()=>q(he),title:"Voir dtails"}),he.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx(Pn,{icon:e.jsx(_j,{}),size:"sm",variant:"ghost",colorScheme:"blue",onClick:()=>K(he),title:"diter"}),e.jsx(Pn,{icon:e.jsx(Tg,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>se(he.id),title:"Supprimer"})]})]})]})})},he.id))}):e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{size:J,variant:"striped",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Titre"}),e.jsx(At,{children:"Catgorie"}),e.jsx(At,{children:"Priorit"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Date"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:u.map(he=>e.jsxs(Rn,{children:[e.jsx(lt,{fontWeight:"medium",children:he.title}),e.jsx(lt,{fontSize:"sm",children:ae(he.category)}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:he.priority==="URGENT"?"red":he.priority==="HIGH"?"orange":he.priority==="NORMAL"?"blue":"gray",children:he.priority})}),e.jsx(lt,{children:le(he.status)}),e.jsx(lt,{fontSize:"sm",children:new Date(he.createdAt).toLocaleDateString()}),e.jsx(lt,{children:e.jsxs(Te,{spacing:2,children:[e.jsx(Pn,{icon:e.jsx(Wv,{}),size:"sm",variant:"ghost",onClick:()=>q(he),title:"Voir dtails"}),he.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx(Pn,{icon:e.jsx(_j,{}),size:"sm",variant:"ghost",colorScheme:"blue",onClick:()=>K(he),title:"diter"}),e.jsx(Pn,{icon:e.jsx(Tg,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>se(he.id),title:"Supprimer"})]})]})})]},he.id))})]})})})]})}),W=()=>e.jsx(Be,{align:"stretch",spacing:6,children:e.jsxs(St,{children:[e.jsx(Qn,{pb:0,children:e.jsxs(Be,{align:"flex-start",spacing:1,children:[e.jsx(ht,{size:"md",children:"Rcapitulatif global"}),e.jsx(Z,{color:"gray.600",children:"Vue consolide pour le bureau."})]})}),e.jsx(bt,{children:v&&a.length===0?e.jsx(Ri,{justify:"center",py:10,children:e.jsx(Kr,{})}):a.length===0?e.jsx(Re,{textAlign:"center",py:10,color:"gray.500",children:e.jsx(Z,{children:"Aucune demande"})}):ie?e.jsx(Sn,{spacing:4,columns:1,children:a.map(he=>e.jsx(St,{variant:"outline",children:e.jsx(bt,{children:e.jsxs(Be,{align:"start",spacing:3,children:[e.jsxs(Te,{justify:"space-between",width:"100%",children:[e.jsx(ht,{size:"sm",children:he.title}),le(he.status)]}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:he.userName||"Utilisateur"}),e.jsxs(Te,{spacing:2,fontSize:"xs",color:"gray.500",children:[e.jsx(Xt,{children:ae(he.category)}),e.jsx(Z,{children:new Date(he.createdAt).toLocaleDateString()})]})]})})},he.id))}):e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{size:J,variant:"striped",children:[e.jsx(Ns,{children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Titre"}),e.jsx(At,{children:"Utilisateur"}),e.jsx(At,{children:"Catgorie"}),e.jsx(At,{children:"Priorit"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Date"})]})}),e.jsx(Rs,{children:a.map(he=>e.jsxs(Rn,{children:[e.jsx(lt,{fontWeight:"medium",children:he.title}),e.jsx(lt,{fontSize:"sm",children:he.userName||"Utilisateur"}),e.jsx(lt,{fontSize:"sm",children:ae(he.category)}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:he.priority==="URGENT"?"red":he.priority==="HIGH"?"orange":he.priority==="NORMAL"?"blue":"gray",children:he.priority})}),e.jsx(lt,{children:le(he.status)}),e.jsx(lt,{fontSize:"sm",children:new Date(he.createdAt).toLocaleDateString()})]},he.id))})]})})})]})}),pe=[{id:"my-requests",label:"Mes demandes",icon:dg,description:"Cration & suivi",render:G}];F()&&pe.push({id:"recap",label:"Rcapitulatif",icon:vc,description:"Vue bureau",render:W});const oe=[e.jsx(Ie,{leftIcon:e.jsx(Bs,{}),colorScheme:"blue",onClick:k,size:ie?"sm":"md",children:"Nouvelle demande"},"new")];return e.jsxs(e.Fragment,{children:[e.jsx(Xp,{title:"RtroDemandes",subtitle:"Gestion de vos demandes et suivi global",sections:pe,defaultSectionId:"my-requests",sidebarTitle:"RtroDemandes",sidebarSubtitle:"Support & demandes",sidebarTitleIcon:dg,versionLabel:"RtroDemandes v2",headerActions:oe}),e.jsxs(Hn,{isOpen:r,onClose:i,size:ie?"full":"2xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:b?"Modifier la demande":"Nouvelle demande"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,as:"form",onSubmit:z,children:[e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Titre"}),e.jsx(Xe,{placeholder:"Titre de la demande",value:C.title,onChange:he=>B({...C,title:he.target.value})})]}),e.jsxs(be,{isRequired:!0,children:[e.jsx(je,{children:"Description"}),e.jsx(xr,{placeholder:"Dtails de votre demande",value:C.description,onChange:he=>B({...C,description:he.target.value}),rows:4})]}),e.jsxs(yc,{templateColumns:"1fr 1fr",gap:4,width:"100%",children:[e.jsxs(be,{children:[e.jsx(je,{children:"Catgorie"}),e.jsxs(gn,{value:C.category,onChange:he=>B({...C,category:he.target.value}),children:[e.jsx("option",{value:"GENERAL",children:"Gnral"}),e.jsx("option",{value:"REPAIR",children:"Rparation"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"SERVICE",children:"Service"}),e.jsx("option",{value:"CUSTOM",children:"Personnalis"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Priorit"}),e.jsxs(gn,{value:C.priority,onChange:he=>B({...C,priority:he.target.value}),children:[e.jsx("option",{value:"LOW",children:"Basse"}),e.jsx("option",{value:"NORMAL",children:"Normal"}),e.jsx("option",{value:"HIGH",children:"leve"}),e.jsx("option",{value:"URGENT",children:"Urgent"})]})]})]})]})}),e.jsx(pr,{children:e.jsxs(Te,{spacing:3,children:[e.jsx(Ie,{variant:"outline",onClick:i,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:z,isLoading:v,children:b?"Modifier":"Crer"})]})})]})]}),e.jsxs(Hn,{isOpen:l,onClose:f,size:"2xl",children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Dtails de la demande"}),e.jsx(fr,{}),e.jsx(Vn,{children:x&&e.jsxs(Be,{spacing:4,align:"start",width:"100%",children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Titre:"}),e.jsx(Z,{children:x.title})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Description:"}),e.jsx(Z,{whiteSpace:"pre-wrap",fontSize:"sm",children:x.description})]}),e.jsx(ds,{}),e.jsxs(Sn,{columns:{base:2,md:4},gap:4,width:"100%",children:[e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",children:"Utilisateur:"}),e.jsx(Z,{children:x.userName||"Utilisateur"}),e.jsx(Z,{fontSize:"xs",color:"gray.500",children:x.userEmail})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",children:"Catgorie:"}),e.jsx(Z,{children:ae(x.category)})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",children:"Priorit:"}),e.jsx(Z,{children:x.priority})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",children:"Date:"}),e.jsx(Z,{children:new Date(x.createdAt).toLocaleDateString()})]})]}),e.jsx(ds,{}),e.jsxs(Re,{width:"100%",children:[e.jsx(Z,{fontWeight:"bold",fontSize:"sm",mb:2,children:"Statut:"}),e.jsxs(Te,{spacing:2,width:"100%",children:[le(x.status),e.jsxs(gn,{size:"sm",width:"200px",value:x.status,onChange:he=>V(he.target.value),isDisabled:v,children:[e.jsx("option",{value:"PENDING",children:" En attente"}),e.jsx("option",{value:"ASSIGNED",children:" Assigne"}),e.jsx("option",{value:"IN_PROGRESS",children:" En cours"}),e.jsx("option",{value:"COMPLETED",children:" Complte"}),e.jsx("option",{value:"CLOSED",children:" Ferme"}),e.jsx("option",{value:"REJECTED",children:" Rejete"})]})]})]})]})})]})]})]})},Xle=()=>{const[t,n]=T.useState([]),[r,s]=T.useState(!0),[i,l]=T.useState("all"),d=Hr();T.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const x=await ng.getAllEchancier();n(x.echancier||x||[])}catch(x){d({status:"error",title:"Erreur de chargement",description:x.message})}finally{s(!1)}},u=t.filter(x=>i==="all"?!0:x.status===i),h={pending:t.filter(x=>x.status==="pending").length,done:t.filter(x=>x.status==="done").length,expired:t.filter(x=>x.status==="expired").length,total:t.length},a=x=>new Date(x)<new Date,m=async(x,w,b)=>{try{await ng.updateEchancierItem(w,x,{status:b}),f(),d({status:"success",title:"Statut mis  jour"})}catch(S){d({status:"error",title:"Erreur",description:S.message})}};if(r)return e.jsx(Kr,{});return e.jsx(Jc,{maxW:"container.xl",py:8,children:e.jsxs(Be,{spacing:8,align:"stretch",children:[e.jsxs(Re,{children:[e.jsx(ht,{size:"lg",children:" chancier Administratif"}),e.jsx(Z,{color:"gray.600",children:"Suivi des assurances, CT, cartes grises et renouvellements"})]}),e.jsxs(Sn,{columns:{base:2,md:4},spacing:4,children:[e.jsx(v,{label:"Total",value:h.total,color:"blue"}),e.jsx(v,{label:"En attente",value:h.pending,color:"orange"}),e.jsx(v,{label:"Complts",value:h.done,color:"green"}),e.jsx(v,{label:"En retard",value:h.expired,color:"red"})]}),h.expired>0&&e.jsxs(ir,{status:"error",borderRadius:"md",children:[e.jsx(or,{})," ",h.expired," lment(s) en retard - Action requise !"]}),e.jsxs(Te,{spacing:4,children:[e.jsx(Z,{fontWeight:"bold",children:"Filtrer par :"}),e.jsxs(gn,{maxW:"250px",value:i,onChange:x=>l(x.target.value),children:[e.jsx("option",{value:"all",children:"Tous"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"done",children:"Complts"}),e.jsx("option",{value:"expired",children:"En retard"})]})]}),e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Liste de l'chancier"})}),e.jsx(bt,{children:u.length===0?e.jsx(Z,{color:"gray.500",textAlign:"center",py:8,children:"Aucun lment ne correspond  vos critres"}):e.jsxs(Is,{variant:"simple",size:"sm",children:[e.jsx(Ns,{children:e.jsxs(Rn,{bg:"gray.50",children:[e.jsx(At,{children:"Vhicule"}),e.jsx(At,{children:"Type"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Date d'chance"}),e.jsx(At,{children:"Statut"}),e.jsx(At,{children:"Jours restants"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:u.map(x=>{const w=new Date(x.dueDate),S=Math.ceil((w-new Date)/(1e3*60*60*24)),C=a(x.dueDate);return e.jsxs(Rn,{bg:C&&x.status!=="done"?"red.50":x.status==="done"?"green.50":"white",children:[e.jsx(lt,{fontWeight:"bold",children:x.parc}),e.jsx(lt,{children:e.jsx(Xt,{colorScheme:Zle(x.type),children:x.type==="assurance"?" Assurance":x.type==="ct"?" CT":x.type==="cg"?" CG":x.type})}),e.jsx(lt,{fontSize:"sm",children:x.description}),e.jsx(lt,{children:w.toLocaleDateString("fr-FR")}),e.jsx(lt,{children:e.jsx(Te,{spacing:2,children:e.jsx(Xt,{colorScheme:x.status==="done"?"green":C?"red":"blue",children:x.status==="done"?" Fait":C?" En retard":" En attente"})})}),e.jsx(lt,{children:e.jsx(Z,{fontWeight:"bold",color:S<0?"red.600":S<7?"orange.600":"green.600",children:S<0?`-${Math.abs(S)} jours`:`${S} jours`})}),e.jsx(lt,{children:x.status!=="done"&&e.jsx(Ie,{size:"xs",colorScheme:"green",onClick:()=>m(x.id,x.parc,"done"),children:"Marquer fait"})})]},x.id)})})]})})]}),e.jsxs(Sn,{columns:{base:1,md:3},spacing:4,children:[e.jsx(g,{type:"assurance",emoji:"",items:u.filter(x=>x.type==="assurance")}),e.jsx(g,{type:"ct",emoji:"",items:u.filter(x=>x.type==="ct")}),e.jsx(g,{type:"cg",emoji:"",items:u.filter(x=>x.type==="cg")})]})]})});function v({label:x,value:w,color:b}){return e.jsx(St,{children:e.jsx(bt,{children:e.jsxs(Zn,{children:[e.jsx(qn,{children:x}),e.jsx(Jn,{color:`${b}.600`,children:w})]})})})}function g({type:x,emoji:w,items:b}){const S=b.filter(N=>N.status==="pending").length,C=b.filter(N=>N.status==="done").length,B=b.filter(N=>a(N.dueDate)&&N.status!=="done").length,F=x==="assurance"?"Assurances":x==="ct"?"Contrles Techniques":x==="cg"?"Cartes Grises":x;return e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(ht,{size:"sm",children:[w," ",F]})}),e.jsx(bt,{children:e.jsx(Be,{align:"start",spacing:2,children:e.jsxs(Te,{spacing:4,children:[e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"En attente"}),e.jsx(Z,{fontWeight:"bold",fontSize:"lg",children:S})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Complts"}),e.jsx(Z,{fontWeight:"bold",fontSize:"lg",color:"green.600",children:C})]}),e.jsxs(Re,{children:[e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"En retard"}),e.jsx(Z,{fontWeight:"bold",fontSize:"lg",color:"red.600",children:B})]})]})})})]})}};function Zle(t){return t==="assurance"?"purple":t==="ct"?"orange":t==="cg"?"blue":"gray"}function qle(){Hr();const{isOpen:t,onOpen:n,onClose:r}=er(),[s,i]=T.useState(!0),[l,d]=T.useState(null),[f,u]=T.useState(null),[h,a]=T.useState({functions:[],roles:[],roleFunctionDefaults:{}}),[m,v]=T.useState([]),[g,x]=T.useState(null),[w,b]=T.useState({}),[S,C]=T.useState(""),[B,F]=T.useState(""),[N,Q]=T.useState({userId:"",functionId:"",access:!1,read:!1,write:!1,expiresAt:null});T.useEffect(()=>{z()},[]);const z=async()=>{try{i(!0);const q=localStorage.getItem("token");if(!q)throw new Error("No authentication token");const le=await fetch("/api/permissions/definitions",{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(!le.ok)throw new Error(`API error: ${le.status}`);const ae=await le.json();a({functions:Array.isArray(ae.functions)?ae.functions:Object.values(ae.functions||{}),roles:ae.roles||[],roleFunctionDefaults:ae.roleFunctionDefaults||{}}),d(null)}catch(q){console.error("Error fetching permission definitions:",q),d(`Erreur lors du chargement des permissions: ${q.message}`)}finally{i(!1)}},k=async q=>{try{const le=localStorage.getItem("token");if(!le)throw new Error("No authentication token");const ae=await fetch(`/api/permissions/user/${q}`,{headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(!ae.ok)throw new Error(`API error: ${ae.status}`);const ie=await ae.json();b(ie.permissions||{})}catch(le){console.error("Error fetching user permissions:",le),d(`Erreur lors du chargement des permissions utilisateur: ${le.message}`)}},K=async()=>{try{if(!N.userId||!N.functionId){d("Veuillez slectionner un utilisateur et une fonction");return}const q=localStorage.getItem("token");if(!q)throw new Error("No authentication token");const le=await fetch("/api/permissions/grant",{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({userId:N.userId,functionId:N.functionId,access:N.access,read:N.read,write:N.write,expiresAt:N.expiresAt})});if(!le.ok)throw new Error(`API error: ${le.status}`);u("Permission accorde avec succs"),r(),Q({userId:"",functionId:"",access:!1,read:!1,write:!1,expiresAt:null}),g&&k(g.id)}catch(q){console.error("Error granting permission:",q),d(`Erreur lors de l'octroi de la permission: ${q.message}`)}},se=async q=>{try{const le=localStorage.getItem("token");if(!le)throw new Error("No authentication token");const ae=await fetch(`/api/permissions/${q}`,{method:"DELETE",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(!ae.ok)throw new Error(`API error: ${ae.status}`);u("Permission rvoque avec succs"),g&&k(g.id)}catch(le){console.error("Error revoking permission:",le),d(`Erreur lors de la rvocation: ${le.message}`)}},V=(Array.isArray(h.functions)?h.functions:[]).filter(q=>!(S&&!q.name.toLowerCase().includes(S.toLowerCase())||B&&!q.group?.toLowerCase().includes(B.toLowerCase())));return s?e.jsx(Re,{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",children:e.jsxs(Be,{spacing:4,children:[e.jsx(JD,{isIndeterminate:!0,color:"blue.300"}),e.jsx(Z,{children:"Chargement des permissions..."})]})}):e.jsxs(Jc,{maxW:"container.lg",py:8,children:[e.jsx(ht,{size:"2xl",mb:6,children:" Gestionnaire des Permissions du Site"}),l&&e.jsxs(ir,{status:"error",mb:4,borderRadius:"md",children:[e.jsx(or,{}),e.jsxs(Re,{children:[e.jsx(Z,{fontWeight:"bold",children:"Erreur"}),e.jsx(Z,{fontSize:"sm",children:l})]})]}),f&&e.jsxs(ir,{status:"success",mb:4,borderRadius:"md",children:[e.jsx(or,{}),e.jsx(Z,{children:f})]}),e.jsxs(Eu,{colorScheme:"blue",variant:"enclosed",children:[e.jsxs(Tu,{mb:4,children:[e.jsx($r,{children:"Vue d'ensemble des permissions"}),e.jsx($r,{children:"Gestion des utilisateurs"}),e.jsx($r,{children:"Audit et logs"})]}),e.jsxs(Iu,{children:[e.jsx(Gr,{children:e.jsxs(Be,{spacing:4,align:"stretch",children:[e.jsxs(Te,{spacing:2,children:[e.jsx(Xe,{placeholder:"Rechercher une fonction...",value:S,onChange:q=>C(q.target.value)}),e.jsxs(gn,{value:B,onChange:q=>F(q.target.value),maxW:"200px",children:[e.jsx("option",{value:"",children:"Tous les groupes"}),[...new Set(h.functions.map(q=>q.group))].map(q=>e.jsx("option",{value:q,children:q},q))]})]}),e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{size:"sm",variant:"striped",children:[e.jsx(Ns,{bg:"gray.100",children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Fonction"}),e.jsx(At,{children:"Groupe"}),e.jsx(At,{children:"Description"}),e.jsx(At,{children:"Rles par dfaut"})]})}),e.jsx(Rs,{children:V.map(q=>e.jsxs(Rn,{children:[e.jsx(lt,{fontWeight:"medium",children:q.name}),e.jsx(lt,{children:q.group}),e.jsx(lt,{children:q.description}),e.jsx(lt,{children:e.jsx(Te,{spacing:1,children:h.roleFunctionDefaults[q.id]?.roles?.map(le=>e.jsx(Xt,{colorScheme:"purple",size:"sm",children:le},le))})})]},q.id))})]})})]})}),e.jsx(Gr,{children:e.jsxs(yc,{templateColumns:{base:"1fr",md:"1fr 2fr"},gap:4,children:[e.jsx(Op,{children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Utilisateurs"})}),e.jsx(bt,{children:e.jsxs(Be,{spacing:2,align:"stretch",children:[e.jsx(Xe,{placeholder:"Rechercher un utilisateur...",size:"sm"}),e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Chargement des utilisateurs..."})]})})]})}),e.jsx(Op,{children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsxs(Te,{justify:"space-between",children:[e.jsx(ht,{size:"md",children:"Permissions"}),e.jsx(Ie,{leftIcon:e.jsx(gP,{}),colorScheme:"blue",size:"sm",onClick:n,children:"Ajouter une permission"})]})}),e.jsx(bt,{children:g?e.jsx(Re,{overflowX:"auto",children:e.jsxs(Is,{size:"sm",variant:"striped",children:[e.jsx(Ns,{bg:"gray.100",children:e.jsxs(Rn,{children:[e.jsx(At,{children:"Fonction"}),e.jsx(At,{textAlign:"center",children:"Accs"}),e.jsx(At,{textAlign:"center",children:"Lecture"}),e.jsx(At,{textAlign:"center",children:"criture"}),e.jsx(At,{children:"Expiration"}),e.jsx(At,{children:"Actions"})]})}),e.jsx(Rs,{children:Object.entries(w).map(([q,le])=>e.jsxs(Rn,{children:[e.jsx(lt,{children:q}),e.jsx(lt,{textAlign:"center",children:le.access&&e.jsx(Xt,{colorScheme:"green",children:""})}),e.jsx(lt,{textAlign:"center",children:le.read&&e.jsx(Xt,{colorScheme:"green",children:""})}),e.jsx(lt,{textAlign:"center",children:le.write&&e.jsx(Xt,{colorScheme:"green",children:""})}),e.jsx(lt,{fontSize:"sm",children:le.expiresAt||"Jamais"}),e.jsx(lt,{children:e.jsx(Ie,{leftIcon:e.jsx(Tg,{}),size:"xs",colorScheme:"red",onClick:()=>se(le.id),children:"Rvoquer"})})]},q))})]})}):e.jsx(Z,{fontSize:"sm",color:"gray.600",children:"Slectionnez un utilisateur pour voir ses permissions"})})]})})]})}),e.jsx(Gr,{children:e.jsxs(St,{children:[e.jsx(Qn,{children:e.jsx(ht,{size:"md",children:"Audit des permissions"})}),e.jsx(bt,{children:e.jsx(Z,{color:"gray.600",children:"Historique des modifications de permissions (en dveloppement)"})})]})})]})]}),e.jsxs(Hn,{isOpen:t,onClose:r,children:[e.jsx(Gn,{}),e.jsxs(Kn,{children:[e.jsx($n,{children:"Accorder une permission"}),e.jsx(fr,{}),e.jsx(Vn,{children:e.jsxs(Be,{spacing:4,children:[e.jsxs(be,{children:[e.jsx(je,{children:"Utilisateur"}),e.jsxs(gn,{value:N.userId,onChange:q=>Q({...N,userId:q.target.value}),children:[e.jsx("option",{value:"",children:"Slectionner..."}),m.map(q=>e.jsxs("option",{value:q.id,children:[q.firstName," ",q.lastName," (",q.email,")"]},q.id))]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Fonction"}),e.jsxs(gn,{value:N.functionId,onChange:q=>Q({...N,functionId:q.target.value}),children:[e.jsx("option",{value:"",children:"Slectionner..."}),h.functions.map(q=>e.jsxs("option",{value:q.id,children:[q.name," (",q.group,")"]},q.id))]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Autorisations"}),e.jsxs(kA,{spacing:2,children:[e.jsx(Xu,{isChecked:N.access,onChange:q=>Q({...N,access:q.target.checked}),children:"Accs"}),e.jsx(Xu,{isChecked:N.read,onChange:q=>Q({...N,read:q.target.checked}),children:"Lecture"}),e.jsx(Xu,{isChecked:N.write,onChange:q=>Q({...N,write:q.target.checked}),children:"criture"})]})]}),e.jsxs(be,{children:[e.jsx(je,{children:"Expiration (optionnel)"}),e.jsx(Xe,{type:"datetime-local",value:N.expiresAt||"",onChange:q=>Q({...N,expiresAt:q.target.value})})]})]})}),e.jsxs(pr,{children:[e.jsx(Ie,{variant:"ghost",mr:3,onClick:r,children:"Annuler"}),e.jsx(Ie,{colorScheme:"blue",onClick:K,children:"Accorder"})]})]})]})]})}function Jle(){const{isAuthenticated:t}=qa(),n=MA();console.log(" Current route:",n.pathname);const r=t&&n.pathname!=="/login";return e.jsxs(e.Fragment,{children:[r&&e.jsx(Xne,{}),e.jsxs(RO,{children:[e.jsx(Ks,{path:"/login",element:e.jsx(Ile,{})}),e.jsx(Ks,{path:"/dashboard/home",element:e.jsx(Jd,{children:e.jsx(mw,{})})}),e.jsx(Ks,{path:"/dashboard/myrbe",element:e.jsx(Jd,{children:e.jsx(Jre,{})})}),e.jsx(Ks,{path:"/dashboard/myrbe/:parc",element:e.jsx(Jd,{children:e.jsx(tse,{})})}),e.jsx(Ks,{path:"/dashboard/retro-demandes",element:e.jsx(Jd,{children:e.jsx(Yle,{})})}),e.jsx(Ks,{path:"/admin/finance",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(hse,{})})}),e.jsx(Ks,{path:"/admin/finance-v2",element:e.jsx(ga,{allowedRoles:["ADMIN","PRESIDENT","TRESORIER"],children:e.jsx(wae,{})})}),e.jsx(Ks,{path:"/dashboard/retrobus",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(ose,{})})}),e.jsx(Ks,{path:"/echancier",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Xle,{})})}),e.jsx(Ks,{path:"/dashboard/vehicules",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Rre,{})})}),e.jsx(Ks,{path:"/dashboard/vehicules/ajouter",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Cre,{children:e.jsx(Hre,{})})})}),e.jsx(Ks,{path:"/dashboard/vehicules/:parc",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Wre,{})})}),e.jsx(Ks,{path:"/dashboard/evenements",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Sae,{})})}),e.jsx(Ks,{path:"/dashboard/events-management",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(ele,{})})}),e.jsx(Ks,{path:"/dashboard/events-creation",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(nle,{})})}),e.jsx(Ks,{path:"/dashboard/test-events",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(rle,{})})}),e.jsx(Ks,{path:"/dashboard/site-management",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(jy,{resource:mt.SITE_MANAGEMENT,children:e.jsx(ble,{})})})}),e.jsx(Ks,{path:"/dashboard/flash-management",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Cle,{})})}),e.jsx(Ks,{path:"/dashboard/retromerch",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Hle,{})})}),e.jsx(Ks,{path:"/dashboard/stock-management",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Sle,{})})}),e.jsx(Ks,{path:"/dashboard/members-management",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(kle,{})})}),e.jsx(Ks,{path:"/members",element:e.jsx(Jd,{children:e.jsx(Rle,{})})}),e.jsx(Ks,{path:"/adhesion",element:e.jsx(Jd,{children:e.jsx(Ele,{})})}),e.jsx(Ks,{path:"/dashboard/permissions",element:e.jsx(ga,{allowedRoles:["ADMIN"],children:e.jsx(qle,{})})}),e.jsx(Ks,{path:"/dashboard/permissions-management",element:e.jsx(Af,{to:"/dashboard/site-management",replace:!0})}),e.jsx(Ks,{path:"/dashboard/newsletter",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(_le,{})})}),e.jsx(Ks,{path:"/dashboard/newsletter-campaigns",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Fle,{})})}),e.jsx(Ks,{path:"/dashboard/retroplanning",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(jy,{resource:mt.RETROPLANNING,children:e.jsx($le,{})})})}),e.jsx(Ks,{path:"/planning/attendance/:eventId/:memberId",element:e.jsx(Kle,{})}),e.jsx(Ks,{path:"/planning/my-invitations",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(jy,{resource:mt.RETROPLANNING_RESPOND,children:e.jsx(Wle,{})})})}),e.jsx(Ks,{path:"/dashboard/support",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(jy,{resource:mt.RETROSUPPORT,children:e.jsx(zle,{})})})}),e.jsx(Ks,{path:"/retromail",element:e.jsx(ga,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(use,{})})}),e.jsx(Ks,{path:"/mobile/v/:parc",element:e.jsx(Jd,{children:e.jsx(Mre,{})})}),e.jsx(Ks,{path:"/",element:e.jsx(Jd,{children:e.jsx(mw,{})})}),e.jsx(Ks,{path:"*",element:e.jsx(Jd,{children:e.jsx(mw,{})})})]})]})}$N.createRoot(document.getElementById("root")).render(e.jsx(xs.StrictMode,{children:e.jsx(yY,{theme:sne,children:e.jsx(iU,{children:e.jsx(vne,{children:e.jsx(Jle,{})})})})}));export{zX as _,km as c,qv as g};
